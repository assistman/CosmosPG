webpackJsonp([15],{1910:function(e,i,t){var n;void 0!==(n=function(e,i,n){var s=t(2625),o=t(2562),a=t(2629),r=t(2631),l=t(2633);n.exports={DefaultRiskWarningView:s,SpanishRiskWarningView:o,SpanishRiskWarningTradeView:a,CheckKnowledgeRiskWarningView:r,RiskWarningModel:l}}.call(i,t,i,e))&&(e.exports=n)},2260:function(e,i,t){var n;void 0!==(n=function(e,i,t){t.exports={NONE:"NONE",UNKNOWN_SCORE:"UNKNOWN",NONE_SCORE:"NONE",LOW_SCORE:"LOW",MEDIUM_SCORE:"MEDIUM",HIGH_SCORE:"HIGH",EMPTY:"EMPTY",SUBMITTING:"SUBMITTING",LOADING:"LOADING",ERROR:"ERROR",SUCCESS:"SUCCESS"}}.call(i,t,i,e))&&(e.exports=n)},2272:function(e,i,t){(function(n){var s;void 0!==(s=function(e,i,n){var s=t(0),o=(t(6),t(71)),a=o.extend({events:function(){return s.extend({},s.result(o.prototype,"events"),{"click .fn-ok":"onOK","click .fn-cancel":"onCancel","click .fn-back":"onBack"})},className:"risk-warning",name:"risk-warning",initialize:function(e){e=s.extend(e||{},{isHeaderShowed:!0}),o.prototype.initialize.apply(this,arguments),this.render()},close:function(){o.prototype.close.call(this)},onCancel:function(){this.handle("onCancel"),this.close()},onBack:function(){this.handle("onBack"),this.close()},onOK:function(){this.handle("onOK"),this.close()},handle:function(e){var i=this.options[e];s.isFunction(i)&&i()},handleError:function(e){}});n.exports=a}.call(i,t,i,e))&&(e.exports=s)}).call(i,t(0))},2562:function(e,i,t){(function(n){var s;void 0!==(s=function(e,i,n){var s=t(0),o=(t(6),t(2)),a=t(2272),r=s.template(t(2563)),l=s.template(t(2627)),c=s.template(t(2628)),d=t(80),u=t(30),p=t(10),f=t(2260),h=f.MEDIUM_SCORE,g=f.SUBMITTING,v=f.LOADING,m=f.ERROR,_=f.SUCCESS,b=a.extend({initialize:function(){a.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:statusOfSubmittingSignature",this.onStatusOfSubmittingChanged),this.listenTo(this.model,"change:statusOfLeverages",this.onStatusOfLeveragesChanged),this.model.loadLeverages()},onOK:function(){var e=this.form,i=e.validate(),t=this.model.get("score"),n="";(p.isMiddleScoreRiskWarningConfirmationEditEnabled()&&t===h||p.isRiskWarningConfirmationEditEnabled()&&t!==h)&&(n=e.field("signature").value());i||this.model.submitSignature(n,!0)},onStatusOfSubmittingChanged:function(){switch(this.model.get("statusOfSubmittingSignature")){case g:this.addChildView(".description",u,{parent:this.$el});break;case m:this.removeChildView(".description"),o.trigger("ui:message-box",{text:__("indigo.generic.error.message")});break;case _:this.removeChildView(".description"),a.prototype.onOK.call(this)}},onStatusOfLeveragesChanged:function(){switch(this.model.get("statusOfLeverages")){case v:this.addChildView(".description",u,{parent:this.$el});break;case m:this.removeChildView(".description"),o.trigger("ui:message-box",{text:__("indigo.generic.error.message")});break;case _:this.onSuccess()}},onSuccess:function(){var e=this.model.get("leverage"),i=this.model.get("score"),t=e.getMaxLeverageValue(),n=i===h&&p.isRegistrationFinalStepAllowBack("medium"),s=i===h?__("spanish.regulation.medium.score.new_user.text",t):__("spanish.regulation.high.score.new_user.text"),o=i===h?__("spanish.regulation.medium.score.new_user.confirmation"):__("spanish.regulation.high.score.new_user.confirmation"),a=__("medium_score.popup.button.accept"),u=__("registration.medium-score.cancel.button");this.setContent(r({popupTxt:s,acceptKey:a,backKey:u,allowBack:n})),this.removeChildView(".description");var f={template:l,templateOptions:{spanishConfirmText:o}};(!p.isMiddleScoreRiskWarningConfirmationEditEnabled()&&i===h||!p.isRiskWarningConfirmationEditEnabled()&&i!==h)&&(f={template:c}),this.form=this.addChildView(".form-container",d,f),this.form.field("signature")&&this.form.field("signature").setRules({not_empty:__("registration.warning.this_field_is_required"),strict_equals:[new RegExp('"?'+o.replace(".",".?")+'"?$',"gi"),__("indigo.spanish.regulation.confirmation.error")]}),this.form.field("spanishRiskWarningCheckbox").setRules({not_equals:[!1,__("registration.warning.this_field_is_required")]})}});n.exports=b}.call(i,t,i,e))&&(e.exports=s)}).call(i,t(0))},2563:function(e,i){e.exports='<div class="description"><%=popupTxt%></div><div class="form-container"></div><div class="actions flex flex-row"> <%if (allowBack) {%> <button class="btn btn-link flex-stretch fn-back"><%=backKey%></button> <%}%> <button class="btn btn-primary flex-stretch fn-ok"><%=acceptKey%></button></div>'},2625:function(e,i,t){(function(n){var s;void 0!==(s=function(e,i,n){var s=t(0),o=t(2),a=t(2272),r=s.template(t(2626)),l=t(30),c=t(10),d=t(2260),u=d.LOW_SCORE,p=d.MEDIUM_SCORE,f=d.LOADING,h=d.ERROR,g=d.SUCCESS,v=a.extend({initialize:function(){a.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:statusOfLeverages",this.onStatusOfLeveragesChanged),this.model.loadLeverages()},render:function(){a.prototype.render.call(this)},onStatusOfLeveragesChanged:function(){switch(this.model.get("statusOfLeverages")){case f:this.addChildView(".description",l,{parent:this.$el});break;case h:this.removeChildView(".description"),o.trigger("ui:message-box",{text:__("indigo.generic.error.message")});break;case g:this.removeChildView(".description");var e=this.model.get("leverage"),i=e.getMaxLeverageValue(),t=this.model.getScore()==p?p:u,n=t==p?__("medium_score.popup.message",i):__("low_score.login.demo.message"),s=t==p?__("medium_score.popup.button.accept"):__("low_score.login.live.button"),a=t==p?__("registration.medium-score.cancel.button"):__("registration.low-score.cancel.button");this.setContent(r({popupTxt:n,acceptKey:s,backKey:a,score:t,allowBack:c.isRegistrationFinalStepAllowBack(t)}))}}});n.exports=v}.call(i,t,i,e))&&(e.exports=s)}).call(i,t(0))},2626:function(e,i){e.exports='<div class="fluid-scroll-content flex flex-column"><div class="description"><div> <%=popupTxt%> </div></div><div class="actions flex flex-row"> <%if (allowBack) {%> <button class="btn btn-link flex-stretch fn-back" data-score="<%-score%>"><%=backKey%></button> <%}%> <button class="btn btn-primary flex-stretch fn-ok" data-score="<%-score%>"><%=acceptKey%></button></div></div>'},2627:function(e,i){e.exports='<div class="form-col"><div class="field field-type-input"><label><%=__(\'spanish.regulation.medium.score.new_user.confirmation.header\')%></label><br><label><%= \'"\' + spanishConfirmText + \'"\' %></label><input type="text" class="form-control input-field" name="signature" value="" no-paste="true"><div class="field-conversion"><div class="content"></div></div><div class="field-tooltip bottom-of-field"><div class="content"></div></div></div><div class="field field-type-checkbox"><div class="checkbox-row"><input type="checkbox" id="spanishRiskWarningCheckbox" name="spanishRiskWarningCheckbox"><label for="spanishRiskWarningCheckbox"><span class="checkbox_label_inline"><%=__(\'spanish.regulation.check_box.text\')%></span></label><div class="field-tooltip"><div class="content"></div></div></div></div></div>'},2628:function(e,i){e.exports='<div class="form-col"><div class="field field-type-checkbox"><div class="checkbox-row"><input type="checkbox" id="spanishRiskWarningCheckbox" name="spanishRiskWarningCheckbox"><label for="spanishRiskWarningCheckbox"><span class="checkbox_label_inline"><%=__(\'spanish.regulation.check_box.text\')%></span></label><div class="field-tooltip"><div class="content"></div></div></div></div></div>'},2629:function(e,i,t){(function(n){var s;void 0!==(s=function(e,i,n){var s=t(0),o=t(5),a=t(2562),r=s.template(t(2563)),l=s.template(t(2630)),c=t(80),d=a.extend({className:"risk-warning-trade",name:"risk-warning-trade",onSuccess:function(){var e=this.model.get("score"),i=__("risk.warning.popup."+e+".header"),t=__("continue"),n=__("cancel");this.setContent(r({popupTxt:i,acceptKey:t,backKey:n,allowBack:!0})),this.removeChildView(".description");var s=__("risk.warning.popup."+e+".hint");this.form=this.addChildView(".form-container",c,{template:l,templateOptions:{info:__("risk.warning.popup."+e+".info"),text:__("risk.warning.popup."+e+".text"),hint:s,help:__("risk.warning.popup."+e+".click.help")}}),this.form.field("signature")&&this.form.field("signature").setRules({not_empty:__("registration.warning.this_field_is_required"),strict_equals:[new RegExp('"?'+s.replace(".",".?")+'"?$',"gi"),__("indigo.spanish.regulation.confirmation.error")]})},onOK:function(){a.prototype.onOK.call(this),o.getUserDataCompliance().loadDataCompliance()}});n.exports=d}.call(i,t,i,e))&&(e.exports=s)}).call(i,t(0))},2630:function(e,i){e.exports='<div class="form-col"><div class="field field-type-input"><label><%= info %></label><br><label><%= text %></label><br><label class="autotests-regulation-text"><b><%= hint %></b></label><input type="text" class="form-control input-field" name="signature" value="" no-paste="true"><div class="field-conversion"><div class="content"></div></div><div class="field-tooltip bottom-of-field"><div class="content"></div></div></div><div class="help"><label><%= help %></label></div></div>'},2631:function(e,i,t){(function(n){var s;void 0!==(s=function(e,i,n){var s=t(0),o=t(2272),a=s.template(t(2632)),r=t(10),l=t(2260),c=l.LOW_SCORE,d=o.extend({render:function(){o.prototype.render.call(this);var e=c,i=__("low_score.login.check.knowledge.message"),t=__("low_score.login.live.button"),n=__("registration.low-score.cancel.button"),s=__("registration.low_score.check_knowledge.button");this.setContent(a({popupTxt:i,acceptKey:t,backKey:n,checkKnowledgeKey:s,allowBack:r.isRegistrationFinalStepAllowBack(e)}))}});n.exports=d}.call(i,t,i,e))&&(e.exports=s)}).call(i,t(0))},2632:function(e,i){e.exports='<div class="fluid-scroll-content flex flex-column"><div class="description"><div> <%=popupTxt%> </div></div><div class="actions flex flex-row"> <%if (allowBack) {%> <button class="btn btn-link flex-stretch fn-back"><%=backKey%></button> <%}%> <button class="btn btn-primary flex-stretch fn-cancel"><%=checkKnowledgeKey%></button></div><div class="footer"><a class="fn-ok go-to-demo"><%=acceptKey%></a></div></div>'},2633:function(e,i,t){var n;void 0!==(n=function(e,i,n){var s=(t(0),t(15)),o=t(8),a=t(5),r=t(2260),l=r.EMPTY,c=r.SUBMITTING,d=r.LOADING,u=r.ERROR,p=r.SUCCESS,f=s.extend({defaults:function(){return{score:a.getUserScore(),statusOfSubmittingSignature:l,statusOfLeverages:l,firstName:l,lastName:l,confirmed:null}},getScore:function(){return this.get("score")},submitSignature:function(e,i){var t=this.control("statusOfSubmittingSignature");t(c);var n={signature:e,confirmationChecked:i};return o.submitSignature(n).then(function(e){return t(p)}).catch(function(e){return t(u)})},loadLeverages:function(){var e=this.control("statusOfLeverages");e(d);var i=a.getUserLeverageLevels();return i.load().then(function(t){return e(p,{leverage:i})}).catch(function(i){e(u)})},confirm:function(e){this.set("confirmed",e)}});n.exports=f}.call(i,t,i,e))&&(e.exports=n)}});