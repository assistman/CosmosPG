(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["events-trade-insight-tablet"],{

/***/ "./src/js/modules/events-and-trade/components/EventsAndTradeInsightTablet.jsx":
/*!************************************************************************************!*\
  !*** ./src/js/modules/events-and-trade/components/EventsAndTradeInsightTablet.jsx ***!
  \************************************************************************************/
/*! exports provided: default */
/*! ModuleConcatenation bailout: Module is referenced from these modules with unsupported syntax: ./src/js/modules/events-and-trade/components/EventsAndTradeInsightContainer.jsx (referenced with import()) */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-redux */ \"./node_modules/react-redux/es/index.js\");\n/* harmony import */ var react_classset__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-classset */ \"./node_modules/react-classset/classSet.js\");\n/* harmony import */ var react_classset__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_classset__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _events_and_trade_actions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../events-and-trade.actions */ \"./src/js/modules/events-and-trade/events-and-trade.actions.js\");\n/* harmony import */ var store_ui_actions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! store/ui.actions */ \"./src/js/store/ui.actions.js\");\n/* harmony import */ var _events_and_trade_selectors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../events-and-trade.selectors */ \"./src/js/modules/events-and-trade/events-and-trade.selectors.js\");\n/* harmony import */ var react_virtualized__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-virtualized */ \"./node_modules/react-virtualized/dist/es/index.js\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! underscore */ \"./node_modules/underscore/underscore.js\");\n/* harmony import */ var underscore__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var components_GoogleCalendarLink__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! components/GoogleCalendarLink */ \"./src/js/components/GoogleCalendarLink.jsx\");\n/* harmony import */ var components_OutlookCalendarLink__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! components/OutlookCalendarLink */ \"./src/js/components/OutlookCalendarLink.jsx\");\n/* harmony import */ var _EventsAndTradeFlag__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./EventsAndTradeFlag */ \"./src/js/modules/events-and-trade/components/EventsAndTradeFlag.jsx\");\n/* harmony import */ var _EventsAndTradeName__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./EventsAndTradeName */ \"./src/js/modules/events-and-trade/components/EventsAndTradeName.jsx\");\n/* harmony import */ var _EventsAndTradeDate__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./EventsAndTradeDate */ \"./src/js/modules/events-and-trade/components/EventsAndTradeDate.jsx\");\n/* harmony import */ var _EventsAndTradeOpportunities__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./EventsAndTradeOpportunities */ \"./src/js/modules/events-and-trade/components/EventsAndTradeOpportunities.jsx\");\n/* harmony import */ var _EventsAndTradePrediction__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./EventsAndTradePrediction */ \"./src/js/modules/events-and-trade/components/EventsAndTradePrediction.jsx\");\n/* harmony import */ var _EventsAndTradeGoogleCalendarLink__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./EventsAndTradeGoogleCalendarLink */ \"./src/js/modules/events-and-trade/components/EventsAndTradeGoogleCalendarLink.jsx\");\n/* harmony import */ var _EventsAndTradeOutlookCalendarLink__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./EventsAndTradeOutlookCalendarLink */ \"./src/js/modules/events-and-trade/components/EventsAndTradeOutlookCalendarLink.jsx\");\n/* harmony import */ var _EventsAndTradeDescription__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./EventsAndTradeDescription */ \"./src/js/modules/events-and-trade/components/EventsAndTradeDescription.jsx\");\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar CLOSED_ROW_HEIGHT = 150;\n\nfunction mapStateToProps(state, _ref) {\n    var symbol = _ref.symbol;\n\n    return {\n        list: Object(_events_and_trade_selectors__WEBPACK_IMPORTED_MODULE_5__[\"getEventsAndTradeEventsList\"])(state, symbol),\n        openedInsightsRows: Object(_events_and_trade_selectors__WEBPACK_IMPORTED_MODULE_5__[\"getEventsAndTradeOpenedInsightsRows\"])(state)\n    };\n}\n\nfunction mapDispatch(dispatch, state) {\n    return {\n        loadEvents: function loadEvents() {\n            dispatch(Object(_events_and_trade_actions__WEBPACK_IMPORTED_MODULE_3__[\"loadEventsAndTrades\"])());\n        },\n        onItemClick: function onItemClick(eventId) {\n            dispatch(Object(_events_and_trade_actions__WEBPACK_IMPORTED_MODULE_3__[\"selectEvent\"])(eventId));\n            dispatch(Object(store_ui_actions__WEBPACK_IMPORTED_MODULE_4__[\"closeInstrumentDetails\"])());\n        },\n        toggleRow: function toggleRow(eventId) {\n            dispatch(Object(_events_and_trade_actions__WEBPACK_IMPORTED_MODULE_3__[\"toggleRow\"])(eventId));\n        }\n    };\n}\n\nvar EventsAndTradeInsightTablet = function (_React$Component) {\n    _inherits(EventsAndTradeInsightTablet, _React$Component);\n\n    function EventsAndTradeInsightTablet(props, context) {\n        _classCallCheck(this, EventsAndTradeInsightTablet);\n\n        var _this = _possibleConstructorReturn(this, (EventsAndTradeInsightTablet.__proto__ || Object.getPrototypeOf(EventsAndTradeInsightTablet)).call(this, props, context));\n\n        _this._cache = new react_virtualized__WEBPACK_IMPORTED_MODULE_6__[\"CellMeasurerCache\"]({\n            fixedWidth: true,\n            minHeight: CLOSED_ROW_HEIGHT\n        });\n\n        _this._rowRenderer = _this._rowRenderer.bind(_this);\n        _this._toggleRow = _this._toggleRow.bind(_this);\n        _this._resizeAll = _this._resizeAll.bind(_this);\n        _this._setListRef = _this._setListRef.bind(_this);\n        return _this;\n    }\n\n    _createClass(EventsAndTradeInsightTablet, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            this.props.loadEvents();\n            window.addEventListener('resize', this._resizeAll);\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            window.removeEventListener('resize', this._resizeAll);\n        }\n    }, {\n        key: '_resizeAll',\n        value: function _resizeAll() {\n            this._cache.clearAll();\n\n            if (this._list) {\n                this._list.recomputeRowHeights();\n            }\n        }\n    }, {\n        key: '_setListRef',\n        value: function _setListRef(ref) {\n            this._list = ref;\n        }\n    }, {\n        key: '_toggleRow',\n        value: function _toggleRow(e, index, eventId) {\n            e.preventDefault();\n            e.stopPropagation();\n\n            this._cache.clear(index, 0);\n\n            if (this._list) {\n                this._list.recomputeRowHeights();\n            }\n\n            this.props.toggleRow(eventId);\n        }\n    }, {\n        key: '_rowRenderer',\n        value: function _rowRenderer(_ref2) {\n            var _this2 = this;\n\n            var index = _ref2.index,\n                key = _ref2.key,\n                parent = _ref2.parent,\n                style = _ref2.style;\n            var _props = this.props,\n                list = _props.list,\n                openedInsightsRows = _props.openedInsightsRows,\n                onItemClick = _props.onItemClick;\n\n\n            return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                react_virtualized__WEBPACK_IMPORTED_MODULE_6__[\"CellMeasurer\"],\n                {\n                    cache: this._cache,\n                    columnIndex: 0,\n                    key: key,\n                    parent: parent,\n                    rowIndex: index\n                },\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                    'div',\n                    { style: style, className: 'pane__column events-and-trade__table-column flex-align-center' },\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                        'div',\n                        { className: 'events-and-trade__table-row pane pane--no-margin pane__row flex-valign-center flex-align-between clickable', onClick: function onClick(e) {\n                                return _this2._toggleRow(e, index, list[index]);\n                            } },\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                            'div',\n                            { className: 'pane pane__row pane_padded-small flex-valign-center' },\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                                'div',\n                                { className: 'pane events-and-trade__arrow' },\n                                openedInsightsRows[list[index]] ? '▼' : '►'\n                            ),\n                            '\\xA0',\n                            __('events_and_trade.event'),\n                            ':'\n                        ),\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                            'div',\n                            { className: 'pane pane__row pane_padded-small flex-valign-center' },\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_EventsAndTradeFlag__WEBPACK_IMPORTED_MODULE_10__[\"default\"], { eventId: list[index] }),\n                            react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_EventsAndTradeName__WEBPACK_IMPORTED_MODULE_11__[\"default\"], { eventId: list[index] })\n                        )\n                    ),\n                    openedInsightsRows[list[index]] && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_EventsAndTradeDescription__WEBPACK_IMPORTED_MODULE_17__[\"default\"], { as: 'div', className: 'events-and-trade__description', eventId: list[index] }),\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                        'div',\n                        { className: 'events-and-trade__table-row pane pane--no-margin pane__row flex-valign-center flex-align-between' },\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                            'div',\n                            null,\n                            __('events_and_trade.local_time'),\n                            ':'\n                        ),\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_EventsAndTradeDate__WEBPACK_IMPORTED_MODULE_12__[\"default\"], { eventId: list[index] })\n                    ),\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                        'div',\n                        { className: 'events-and-trade__table-row pane pane--no-margin pane__row flex-valign-center flex-align-between' },\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                            'div',\n                            null,\n                            __('events_and_trade.trade_opportunities'),\n                            ':'\n                        ),\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_EventsAndTradeOpportunities__WEBPACK_IMPORTED_MODULE_13__[\"default\"], { eventId: list[index] })\n                    ),\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                        'div',\n                        { className: 'events-and-trade__table-row pane pane--no-margin pane__row flex-valign-center flex-align-between' },\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                            'div',\n                            null,\n                            __('events_and_trade.prediction_range'),\n                            ':'\n                        ),\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_EventsAndTradePrediction__WEBPACK_IMPORTED_MODULE_14__[\"default\"], { eventId: list[index] })\n                    ),\n                    react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                        'div',\n                        { className: 'events-and-trade__table-row pane pane--no-margin pane__row flex-valign-center flex-align-end' },\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_EventsAndTradeGoogleCalendarLink__WEBPACK_IMPORTED_MODULE_15__[\"default\"], { eventId: list[index], target: '_blank' }),\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_EventsAndTradeOutlookCalendarLink__WEBPACK_IMPORTED_MODULE_16__[\"default\"], { eventId: list[index], target: '_blank' }),\n                        react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                            'button',\n                            { className: 'btn btn-default', onClick: onItemClick.bind(null, list[index]) },\n                            __('actions.more_details')\n                        )\n                    )\n                )\n            );\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this3 = this;\n\n            var _props2 = this.props,\n                className = _props2.className,\n                list = _props2.list,\n                symbol = _props2.symbol,\n                openedInsightsRows = _props2.openedInsightsRows;\n\n\n            var wrapperClassName = react_classset__WEBPACK_IMPORTED_MODULE_2___default()(_defineProperty({\n                'events-and-trade': true,\n                'events-and-trade--tablet': true,\n                'pane': true,\n                'pane__column': true,\n                'pane__fluid': true\n            }, className, !!className));\n\n            return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                'div',\n                { className: wrapperClassName },\n                react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\n                    react_virtualized__WEBPACK_IMPORTED_MODULE_6__[\"AutoSizer\"],\n                    null,\n                    function (_ref3) {\n                        var height = _ref3.height,\n                            width = _ref3.width;\n                        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_virtualized__WEBPACK_IMPORTED_MODULE_6__[\"List\"], {\n                            ref: _this3._setListRef,\n                            tabIndex: -1,\n                            'aria-label': '',\n                            deferredMeasurementCache: _this3._cache,\n                            height: height,\n                            rowCount: list.length,\n                            width: width,\n                            rowHeight: _this3._cache.rowHeight,\n                            rowRenderer: _this3._rowRenderer\n                        });\n                    }\n                )\n            );\n        }\n    }]);\n\n    return EventsAndTradeInsightTablet;\n}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_1__[\"connect\"])(mapStateToProps, mapDispatch)(EventsAndTradeInsightTablet));\n\n//# sourceURL=webpack:///./src/js/modules/events-and-trade/components/EventsAndTradeInsightTablet.jsx?");

/***/ })

}]);