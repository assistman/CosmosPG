(window.webpackJsonp=window.webpackJsonp||[]).push([[120],{2142:function(e,t,n){var i;void 0===(i=function(e,t,i){var a=n(2587),s=n(2627),o=n(2629);i.exports={RegistrationView:a,AfterSelectLeveragePopupView:s,AfterSelectLeveragePopupModel:o}}.call(t,n,t,e))||(e.exports=i)},2187:function(e,t,n){var i;void 0===(i=function(e,t,i){n(1);var a=n(49);i.exports=a.extend({before:function(e){var t={};return"00"===e.country&&(t.country="EMPTY"),"00"===e.citizenship&&(t.citizenship="EMPTY"),t}})}.call(t,n,t,e))||(e.exports=i)},2192:function(e,t,n){var i;void 0===(i=function(e,t,i){n(1);var a=n(1183),s=n(49).extend({updateStudyFieldAfterChangeEducationLevel:function(e){if(this.setDefaultValueWithFireChangeEvent(),a.isFieldEquals(e,["EMPTY","ed_no_edu","ed_prim_edu"]))return this.disable(),void this.$el.addClass("select-disabled");this.enable(),this.$el.removeClass("select-disabled")},updateStudyFieldDetailsAfterChangeStudyField:function(e){var t=this.getDependentFieldByName("study_field"),n=this.getDependentFieldByName("education_level");if(this.setDefaultValue(),a.isFieldEquals(t,["sf_other"]))return t.disable(),t.$el.css("display","none"),this.enable(),void this.focus();t.$el.css("display","block"),this.disable(),a.isFieldEquals(n,["ed_no_edu","ed_prim_edu"])||t.enable()},updateStudyFieldDetailsAfterChangeEducationLevel:function(e){this.setDefaultValue(),this.disable()}});i.exports=new s}.call(t,n,t,e))||(e.exports=i)},2200:function(e,t,n){var i;void 0===(i=function(e,t,i){var a=n(49),s=n(10),o=a.extend({defaults:{tinValidations:{AD:"(^F[0-7][0-9]{5}[A-Z]$)|(^E[8-9][0-9]{5}[A-Z]$)",AR:"^2[0,3-7][0-9]{9}$",AW:"^[0-9]{8}$",AU:"(^[0-9]{8}$)|(^[0-9]{9}$)|(^[0-9]{11}$)",AT:"^[0-9]{9}$",BE:"^[0-9]{11}$",BZ:"^[0-9]{8}$",BR:"^[0-9]{11}$",BG:"^[0-9]{10}$",CA:"^[0-9]{9}$",CL:"(^[0-9]{7,8}K$)|(^[0-9]{8,9}$)",CN:"(^[a-zA-Z0-9]{15}$)|(^[a-zA-Z0-9]{18}$)",CO:"^[1-9][0-9]{9}$",CR:"^[0-9]{9}$",HR:"^[0-9]{11}$",CZ:"^[0-9]{9,10}$",DK:"^[0-9]{10}$",EE:"^[0-9]{11}$",FO:"^[0-9]{9}$",FI:"^[0-9]{10}$",FR:"^[0-3][0-9]{12}$",DE:"^[0-9]{11}$",GI:"^[0-9][0-9]{0,5}$",GR:"^[0-9]{9}$",GL:"^[0-9]{10}$",GG:"^GY[0-9]{6}$",HU:"^[0-9]{10,11}$",IS:"^[0-9]{10}$",IN:"^[a-zA-Z]{3}P[a-zA-Z]([1-9][0-9][0-9][0-9]|[0-9][1-9][0-9][0-9]|[0-9][0-9][1-9][0-9]|[0-9][0-9][0-9][1-9])[a-zA-Z]$",IE:"^[0-9]{7}[a-zA-Z]{1,2}$",IM:"(^H[0-9]{6}$)|(^H[0-9]{8}$)",IT:"^[a-zA-Z]{6}[a-zA-Z0-9]{10}$",JP:"^[0-9]{12}$",JE:"^JY[0-9]{6}[A-Da-d]$",KP:"^[0-9]{10}$",KW:"^[0-9]*$",LV:"^[0-3][0-9](0[1-9]|1[0-2])[0-9]{2}[0-2][0-9]{4}$",LI:"^[a-zA-Z][0-9]{5}$",LT:"^[0-9]{11}$",LU:"^[0-9]{11}$",MY:"^[a-zA-Z0-9]{12,13}$",MT:"(^[0-9]{7}[a-zA-Z]$)|(^[0-9]{9}$)",MH:"^[0-9]{5}04$",MU:"^[1,7,8][0-9]{7}$",MX:"^[a-zA-Z]{4}[0-9]{6}[a-zA-Z0-9]{3}$",NR:"^[0-9]{9}$",NL:"^[a-zA-Z0-9]{9}$",NZ:"^[0-9]{8,9}$",NO:"^[0-9]{11}$",PL:"^[0-9]{11}$",PT:"^[1-4][0-9]{8}$",RO:"^[1-9][0-9]{2}(0[1-9]|1[0-2])(0[1-9]|[1-2][0-9]|3[0-1])(0[1-9]|[1-4][0-9]|5[0-2])[0-9]{4}$",RU:"^[0-9]{12}$",LC:"^[0-9]{1,6}$",WS:"^[0-9]{5,}$",SM:"(^[0-9]{9}$)|(^SM[0-9]{5}$)",SA:"^[0-9]{10}$",SC:"^[0-9]{2}2[0-9]{6}$",SG:"^[S,T,F,G][0-9]{7}[a-zA-Z0-9]$",SK:"^[0-9]{2}(0[1-9]|1[0-2]|5[1-9]|6[0-2])(0[1-9]|[1-2][0-9]|3[0-1])[0-9]{3,4}$",SI:"^[1-9]{1}[0-9]{7}$",ZA:"^[0,1,2,3,9][0-9]{9}$",ES:"^[a-zA-Z0-9][0-9]{7}[a-zA-Z]$",SE:"(^[0-9]{10}$)|(^[0-9]{12}$)",CH:"^[0-9]{13}$",GB:"^[A-C,E,G,H,J-P,R-T,W-Z][A-C,E,G,H,J-N,P,R-T,W-Z][0-9]{6}[A,B,C,D]$",UY:"(^[0-9]{9}$)|(^[0-9]{12}$)"}},load:function(){return s.getTinValidations().then(this.loadSuccess.bind(this)).catch(this.loadError.bind(this))},loadSuccess:function(e){return e.data?(this.set("tinValidations",e.data),Promise.resolve(e)):Promise.reject()},loadError:function(e){return Promise.reject(e)},getFilters:function(){return["trim","string"]},getRulesByCountryCode:function(e,t){var n={not_empty:t},i=this.get("tinValidations")[e];return i&&(n.regexp=[new RegExp(i),t]),n}});i.exports=new o}.call(t,n,t,e))||(e.exports=i)},2243:function(e,t,n){(function(i){var a;void 0===(a=function(e,t,i){var a=n(1),s=n(49),o=n(9);i.exports=s.extend({before:function(e){var t={};return t.primaryTinTaxJurisdiction=o.getCountry().toUpperCase(),"00"===e.primaryTinTaxJurisdiction&&"00"===e.secondaryTinTaxJurisdiction&&(t.secondaryTinTaxJurisdiction="EMPTY",t.fatca="EMPTY"),"NOT_RELEVANT"===e.tinAbsenceReason&&(t.tinAbsenceReason="EMPTY"),a.isEmpty(e.primaryTin)?"00"===e.primaryTinTaxJurisdiction||"EMPTY"===e.tinAbsenceReason?t.have_primary_tin="EMPTY":t.have_primary_tin="have_primary_tin_no":t.have_primary_tin="have_primary_tin_yes","IT"!==o.getCountry()||"IT"!==o.getCitizenship()||a.isEmpty(o.getNationalCountryIdentifier())||(t.have_primary_tin="have_primary_tin_yes",t.primaryTin=o.getNationalCountryIdentifier()),t}})}.call(t,n,t,e))||(e.exports=a)}).call(this,n(1))},2244:function(e,t,n){(function(i){var a,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();void 0===(a=function(e,t,i){var a=n(1),o=n(163),l=n(875),r=n(1183),d=n(49),_=n(6),c=n(51);function u(e){var t=a.pluck(e,"code").sort((function(e,t){return __("country.name."+e).localeCompare(__("country.name."+t))}));return t.unshift("EMPTY"),t}var p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a.extend(this,t)}return s(e,[{key:"override",value:function(e){return a.extend(this,e)}}]),e}(),m=d.extend({getAllCountries:function(){return this.get("allCountries")},stringInputTemplate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.lenght,i=void 0===n?0:n,a=t.optional,s=void 0!==a&&a,d={};return i&&(d.max_length=l.maxLength(i,e)),s||(d.not_empty=l.notEmpty(e)),new p({translationKey:e,template:o.inputBox,validation:{rules:d,filters:["string"]},disable:!1,events:{onblur:r.checkInputOnBlur}})},defaultDateOfBirth:function(e,t,n){return new p({translationKey:e,options:{minAge:t,maxAge:n,moment:_,splitByComma:c.splitByComma},template:o.dateBox,validation:{rules:{not_empty:l.notEmpty(e)},filters:[]},disable:!1})},classicSelectBoxTemplate:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new p({translationKey:e,template:o.selectBox,validation:l.selectNotEmpty(!!t&&e),disable:!1,events:{onchange:r.validateFieldOnChange}})},countrySelectBoxTemplate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getAllCountries();return new p({translationKey:e,translationGroupPrefix:"country.name",options:u(t),template:o.countriesSelectBox,validation:l.countrySelectNotEmpty(),disable:!1,events:{onchange:r.validateFieldOnChange}})},yesNoDetailsTemlate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"input",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;return new p({title:__("reg.questionary.cysec."+e),translationKey:t,link:{href:__("reg.questionary.cysec."+e+".link.href"),text:__("reg.questionary.cysec."+e+".click_here")},options:[{value:e+"_no",text:__("no")},{value:e+"_yes",text:__("yes")}],details:{option:e+"_yes",type:t,placeholder:__("reg.questionary.cysec."+e+".provide"),max_length:n},template:o.yesNoDetails,disable:!1})},fatcaConfigTemplate:function(){return new p({translationKey:"fatca",options:[{value:"NO",text:__("no")},{value:"YES",text:__("yes")},{value:__("registration.field.fatca.link.href"),text:__("registration.field.label.fatca.learn_more")}],template:o.fatcaBox,validation:l.radioNotEmpty("fatca"),disable:!1,events:{onchange:r.validateFieldOnChange}})},otherFieldDetailsTemplate:function(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];return new p({translationKey:""+e,template:o.inputBox,validation:l.inputNotEqual(__("registration.field.label."+t)),options:{defaultValue:__("registration.field.label."+t)},dependent:[{name:e,handler:function(e){if(e.value()===t)return e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}].concat(i),events:{onblur:a.partial(r.checkDependentFieldOnBlur,e)},placeholder:__("registration.field.value.provide"),disable:!0})},multiCheckBox:function(e){return new p({translationKey:e,translationGroupPrefix:"reg.questionary.label."+e,template:o.multiCheckBox,validation:l.multiCheckBoxNotEmpty(),disable:!1,events:{onchange:r.validateFieldOnChange}})},zipCodeInput:function(e){return new p({translationKey:e,template:o.inputBox,validation:l.zipCode(e),disable:!1,events:{onblur:r.checkInputOnBlur}})}});i.exports={ConfigTemplates:m,addRefuseSecondTinOption:function(e){return["00"].concat(e)},countryCodeToOptions:u}}.call(t,n,t,e))||(e.exports=a)}).call(this,n(1))},2366:function(e,t,n){(function(i){var a;void 0===(a=function(e,t,i){var a=n(1),s=n(49);i.exports=s.extend({before:function(e){var t={};return"NO"===e.fatca&&a.isEmpty(e.employment_status)&&(t.fatca="EMPTY"),t}})}.call(t,n,t,e))||(e.exports=a)}).call(this,n(1))},2367:function(e,t,n){var i;void 0===(i=function(e,t,i){n(1);var a=n(49),s=n(9);i.exports=a.extend({before:function(e){var t={};return(t.withdrawals_dest_country_details="EMPTY")&&(t.withdrawals_dest_country_details=s.getCountry().toLowerCase()),(t.funds_source_country_details="EMPTY")&&(t.funds_source_country_details=s.getCountry().toLowerCase()),t}})}.call(t,n,t,e))||(e.exports=i)},2368:function(e,t,n){(function(i){var a;void 0===(a=function(e,t,i){var a=n(1),s=n(49),o=n(9);i.exports=s.extend({after:function(e){var t=e.fatca;if(t)switch(t){case"NO":e.us_resident="ur_no";break;case"YES":e.us_resident="ur_yes"}return e},before:function(e){var t={};return t.primaryTinTaxJurisdiction=o.getCountry().toUpperCase(),"00"===e.primaryTinTaxJurisdiction&&"00"===e.secondaryTinTaxJurisdiction&&(t.secondaryTinTaxJurisdiction="EMPTY",t.fatca="EMPTY"),"NOT_RELEVANT"===e.tinAbsenceReason&&(t.tinAbsenceReason="EMPTY"),a.isEmpty(e.primaryTin)?"00"===e.primaryTinTaxJurisdiction||"EMPTY"===e.tinAbsenceReason?t.have_primary_tin="EMPTY":t.have_primary_tin="have_primary_tin_no":t.have_primary_tin="have_primary_tin_yes",t}})}.call(t,n,t,e))||(e.exports=a)}).call(this,n(1))},2465:function(e,t,n){var i;void 0===(i=function(e,t,n){n.exports={EMPTY:"EMPTY",LOADING:"LOADING",SUCCESS:"SUCCESS",ERROR:"ERROR"}}.call(t,n,t,e))||(e.exports=i)},2587:function(e,t,n){(function(i,a){var s;void 0===(s=function(e,t,i){var a=n(1),s=n(16),o=n(9),l=n(7),r=n(75).default,d=n(40).default,_=n(10),c=n(14),u=n(51),p=n(78),m=n(571),h=n(1229),f=n(2588),v=n(898),y=n(2624),g=a.template(n(2626)),b=null,x=p.extend({name:"registration",stepsViews:[],currentStepView:null,events:function(){return a.extend({},a.result(p.prototype,"events"),{"click .fn-personal-information":"onPersonalInformationSubmit","click .fn-next":"onNext","click .fn-back":"onBack","click .fn-finish":"onRegistrationFinish"})},getOptions:function(e){return a.extend({},a.result(p.prototype,"getOptions"),{isHeaderShowed:!0,caption:__("registration.account.registration"),previousCaption:__("actions.exit"),headerStyle:"wizard",style:"height: 100%;",ignorableByLoginMessage:!0,headerContent:'<span class="registration-bonus-steps-to-go hidden"><span class="steps-to-go-message"></span></span>'},e)},initialize:function(e){p.prototype.initialize.apply(this,arguments),this.$el.addClass(c.getBrandName(),!1),this.startRegistration(),this.listenTo(c,"change:eyecatcher.enabled",this.startEyeCatcher),this.startEyeCatcher()},startRegistration:function(){var e=this;return this.showLoading(),this.switchOffControlButtons(),this.loadRegistrationFlow().then((function(){e.showCurrentRegistrationStep(),l.trigger("registration:start")}))},startEyeCatcher:function(){var e=c.getLangsForEyeCatcher();if(c.isEyeCatcherEnabled()&&a.contains(e,__("lang"))&&!a.isEmpty(window.LC_API)&&r.desktop()&&!b){var t=n(1228);(b=new t(c.getTimeOutForRegistrationEyeCatcher(),"registration",["field:change"])).init()}},loadRegistrationFlow:function(){return f.load().then(this.onFlowLoaded.bind(this)).catch(this.handleError.bind(this))},onFlowLoaded:function(){this.render(),this.setContent(g({isLiveChatEnabled:c.isLiveChatEnabled()})),this.navigation=f.getNavigation(),this.progress=this.addChildView(".header",y,{bonusStepsContainer:this.$el.find(".responsive-header-content "),collection:this.navigation});var e=this.$el.find(".content");this.stepsViews=this.navigation.map((function(t){return new m({$parent:e,model:t})}))},request:function(e,t,n){var i={data:t||{}};return _.actionPost(e,i,(function(e){return n?"&"+a.map(e.data,(function(e,t){return t+"="+encodeURIComponent(e)})).join("&"):"&data="+encodeURIComponent(JSON.stringify(e.data))})).then((function(e){return!e.data.success||e.data.error?Promise.reject(e.data.error):e.data.body?e.data.body:e.data}))},close:function(){var e=this.currentStepView&&this.currentStepView.model.get("title");l.trigger("gtm:full_registration_cancel",e),this.stopListening(),a.each(this.stepsViews,(function(e){return e.remove()})),b&&(b.stop(),b=null),p.prototype.close.call(this)},updateControlButtons:function(){this.navigation.isFirstStep()?(this.$el.find(".allow-back").addClass("hidden"),this.$el.find(".allow-personal-information").removeClass("hidden")):(this.$el.find(".allow-back").removeClass("hidden"),this.$el.find(".allow-personal-information").addClass("hidden")),this.navigation.isFirstStep()||this.navigation.isLastStep()?this.$el.find(".allow-next").addClass("hidden"):this.$el.find(".allow-next").removeClass("hidden"),this.navigation.isLastStep()?this.$el.find(".allow-finish").removeClass("hidden"):this.$el.find(".allow-finish").addClass("hidden")},switchOffControlButtons:function(){var e=this;a.each([".fn-back",".fn-personal-information",".fn-next",".fn-finish"],(function(t){return e.$el.find(t).addClass("disabled").attr("disabled",!0)}))},switchOnControlButtons:function(){var e=this;a.each([".fn-back",".fn-personal-information",".fn-next",".fn-finish"],(function(t){return e.$el.find(t).removeClass("disabled").removeAttr("disabled")}))},showCurrentRegistrationStep:function(){this.progress.drawRegistrationProgress(),this.currentStepView&&this.currentStepView.remove(),this.currentStepView=this.stepsViews[this.navigation.getCurrentStepId()],this.currentStepView.show(),this.switchOnControlButtons(),this.updateControlButtons(),this.hideLoading(),h.trackDisplayRegistrationStep(this.navigation.getTrackStepId())},isCustomerPreSelectCompany:function(){return c.isRegistrationCustomerSelectedCompanyEnabled()&&o.hasCustomerSelectedCompany()&&o.hasPendingConfirmSelectedCompany()},onPersonalInformationSubmit:function(){var e=this;if(this.isCurrentRegistrationStepValid()){if(this.needProbeRegulationCompany()){this.showLoading(),this.switchOffControlButtons();var t=this.currentRegistrationCountry();return _.registrationRegulationCompanyProbeQuery(t).then((function(t){return e.onRegulationCompanyProbeSuccess(t.data)})).catch(this.handleError.bind(this))}return this.onNext()}},needProbeRegulationCompany:function(){return this.isCustomerPreSelectCompany()||c.needConfirmChangeCustomerRegulationCompany()&&this.isCustomerChangeRegistrationCountry()},isCustomerChangeRegistrationCountry:function(){return o.getCountry().toLowerCase()!==this.currentRegistrationCountry()},currentRegistrationCountry:function(){var e=this.prepareStepsSaveData();return String(e.country).toLowerCase()},onRegulationCompanyProbeSuccess:function(e){if(this.hideLoading(),e.companyMismatch){if(this.isCustomerPreSelectCompany())return c.needNotifyCustomerRegulationCompany()&&e.isRestricted?v.confirmRestrictedCountryCustomerRegulationCompany(this.rejectPreSelectCompanyMismatch.bind(this),e):v.confirmCustomerSelectedCompanyRegulation(this.confirmPreSelectCompanyMismatch.bind(this),this.rejectPreSelectCompanyMismatch.bind(this),this.currentRegistrationCountry(),e);if(c.needNotifyCustomerRegulationCompany())return e.isRestricted?v.confirmRestrictedCountryCustomerRegulationCompany(this.rejectPreSelectCompanyMismatch.bind(this),e):v.confirmRestrictedCountryCustomerRegulationCompany(this.successConfirmChangeCustomerRegulationCompany.bind(this),e);if(c.needConfirmChangeCustomerRegulationCompany())return v.confirmChangeCustomerRegulationCompany(this.successConfirmChangeCustomerRegulationCompany.bind(this),this.cancelConfirmChangeCustomerRegulationCompany.bind(this),e)}return this.onNext()},successConfirmChangeCustomerRegulationCompany:function(){return this.onNext()},cancelConfirmChangeCustomerRegulationCompany:function(){this.switchOnControlButtons()},confirmPreSelectCompanyMismatch:function(){return _.registrationConfirmRegulationCompanyMismatch().then((function(e){return o.updateCustomerBrandCompany(e.data)})).then(this.onNext.bind(this)).then((function(){return o.confirmRegulationCompanyMismatch()})).catch(this.handleError.bind(this))},rejectPreSelectCompanyMismatch:function(){return _.registrationRejectRegulationCompanyMismatch().then((function(e){return o.updateCustomerBrandCompany(e.data)})).then(this.onNext.bind(this)).then((function(){return o.rejectRegulationCompanyMismatch()})).then(this.reloadRegistrationFlowWhenPartnerCompanyChanged.bind(this)).then(this.goNextStep.bind(this)).catch(this.handleError.bind(this))},isCurrentRegistrationStepValid:function(){return!1===this.currentStepView.validate()||(d.mobile()&&this.scrollToFirstError(),!1)},scrollToFirstError:function(){var e=this.currentStepView.getErrorFields()[0];e&&this.$el.find(".registration").scrollTo({duration:1e3,complete:a.noop(),element:e.$el})},onNext:function(){if(this.isCurrentRegistrationStepValid())return this.showLoading(),this.switchOffControlButtons(),h.trackNextRegistrationStep(this.navigation.getTrackStepId()),this.submitSteps().then(this.processCountryChanged.bind(this)).then(this.processPartnerCompanyChanged.bind(this)).then(this.goNextStep.bind(this)).catch(this.handleError.bind(this))},goNextStep:function(){this.navigation.goNextStep(),this.showCurrentRegistrationStep()},goPreviousStep:function(){this.navigation.goPreviousStep(),this.showCurrentRegistrationStep()},onRegistrationFinish:function(){var e=this;!1===this.currentStepView.validate()&&this.submitSteps().then((function(t){o.setUserScore(t.scoreLevel),l.trigger("user:changeScoreLevel"),l.trigger("registration:filled"),e.close(),c.isGuaranteedStopLossEnabled()&&_.loadRegulationGslStatus().then((function(e){var t=e.data;o.setGuaranteedStopLoss(t)}))})).catch(this.handleError.bind(this))},onBack:function(){this.showLoading(),this.switchOffControlButtons(),h.trackPreviousRegistrationStep(this.navigation.getTrackStepId()),this.currentStepView.saveData(),this.goPreviousStep()},injectAdditionalPhoneData:function(e){var t=e.phone;if(!t)return e;var n=t.indexOf("-"),i=t.slice(0,n),a=t.slice(n+1);return e.phoneCountryCode=i,e.phoneNationalNumber=a,e},submit:function(e){return this.showLoading(),this.request("v2/updateAccount",e).then(this.onSubmitSuccess.bind(this)).catch(this.onSubmitError.bind(this))},onSubmitSuccess:function(e){return this.hideLoading(),e&&e.data&&e.data.error?Promise.reject(e.data.error):e},onSubmitError:function(e){this.handleError(e)},updateUserInfo:function(e,t){e.country&&o.setCountry(e.country),e.citizenship&&o.setCitizenship(e.citizenship),!a.isUndefined(e.nationalCountryIdentifier)&&o.setNationalCountryIdentifier(e.nationalCountryIdentifier),e.firstName&&o.setFirstName(e.firstName),e.lastName&&o.setLastName(e.lastName),e.phone&&o.setPhone(e.phone),e.birthDate&&o.setDateOfBirth(e.birthDate),e.zipCode&&o.setZipCode(e.zipCode),e.city&&o.setCity(e.city),e.address&&o.setAddress(e.address),t.partnerCompanyChanged&&o.setPartnerCompanyNameKey(t.partnerCompanyNameKey)},prepareStepsSaveData:function(){this.currentStepView.saveData();var e=a.chain(this.stepsViews).map((function(e){return e.model.getSavedData()})).reduce((function(e,t){return a.assign(e,t),e}),{}).value();return a.isUndefined(e.phone)||(e=this.injectAdditionalPhoneData(e)),e},submitSteps:function(){var e=this;this.showLoading();var t=this.prepareStepsSaveData();return this.submit(t).then((function(n){return e.updateUserInfo(t,n),e.hideLoading(),n}))},processCountryChanged:function(e){var t=this;return e.countryChanged?(this.showLoading(),Promise.all([c.load(),u.loadDictionary()]).then((function(){return l.trigger("user:country:changed"),t.hideLoading(),Promise.resolve(e)}))):Promise.resolve(e)},reloadRegistrationFlowWhenPartnerCompanyChanged:function(){return l.trigger("user:company:changed"),this.loadRegistrationFlow()},processPartnerCompanyChanged:function(e){var t=this;return e.partnerCompanyChanged?this.reloadRegistrationFlowWhenPartnerCompanyChanged().then((function(){return t.isCustomerPreSelectCompany()||c.needConfirmChangeCustomerRegulationCompany()||v.userCompanyChanged(e),Promise.resolve(e)})):Promise.resolve(e)},showLoading:function(){l.trigger("ui:loading")},hideLoading:function(){l.trigger("ui:loading:hide")},handleError:function(e){this.hideLoading(),l.trigger("ui:message-box",{text:__("generic.error.message"),onOK:this.close.bind(this),actions:{onClose:this.close.bind(this)}})},closePopup:function(){p.prototype.closePopup.call(this),l.trigger("sm","registration_abort"),l.trigger("registration:abort");var e=this.options,t=e&&e.onAbort;a.isFunction(t)&&t(),h.trackCloseRegistrationForm()}});if(c.isRegistrationAutocompleteEnabled()){x.prototype.events=a.extend({},a.result(x.prototype,"events"),{"dblclick .content":"__doubleClick"}),x.prototype.__doubleClick=function(e){var t=function(){return a.sample("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),15).join("")};this.$(".field-type-phone input").val(a.sample("0123456789".split(""),7).join("")),this.$(".dk-select").forEach((function(e){var t=s(e).find(".dk-select-options li");a.sample(a.initial(t)).click()})),this.$(".field-type-yes-no-details").forEach((function(e){return a.sample(s(e).find("input[type=radio]")).click()})),this.$(".field-type-multi-select select").forEach((function(e){a.each(e.options,(function(e){return e.selected=!1}));for(var t=0;t<(n=1,i=10,Math.floor(Math.random()*(i-n)+n));t++)a.sample(e.options).selected=!0;var n,i;s(e).trigger("change")})),this.$(".field-type-checkbox").forEach((function(e){return a.sample(s(e).find("input")).click()})),this.$(".field-type-multi-checkbox").forEach((function(e){return a.sample(s(e).find("input")).click()})),this.$(".field-type-radio").forEach((function(e){return a.sample(s(e).find("input")).click()})),this.$(".field-type-fatca").forEach((function(e){return a.sample(s(e).find("input")).click()})),this.$(".input-field").forEach((function(e){s(e).val(t()),s(e).trigger("change")})),this.$(".textarea-field").forEach((function(e){s(e).val(t()),s(e).trigger("change")}))}}i.exports=x}.call(t,n,t,e))||(e.exports=s)}).call(this,n(1),n(16))},2588:function(e,t,n){(function(i){var a;void 0===(a=function(e,t,i){var a=n(1),s=n(49),o=n(10),l=n(9),r=n(14),d=n(572),_=n(2589),c=n(2607),u=n(682).BRAND,p=n(1197).MARKETS_COMPANY,m=n(2608),h=n(2609),f=n(2610),v=n(2611),y=n(2612),g=n(2613),b=n(2614),x=n(2615),C=n(2616),E=n(2617),w=n(2618),T=n(2619),q=n(2620),k=n(2621),F=n(2622),B=n(2623),N=s.extend({load:function(){var e=l.getPersonalData();return Promise.all([this.loadRegistrationFlow(),o.registrationGetAccount(e),o.registrationGetCountries(e)]).then(this.buildFormConfig.bind(this)).then(this.buildStepsFormWizard.bind(this))},provideBrandRegistrationFlow:function(){var e=r.getBrandName(),t=l.getPartnerCompanyNameKey();switch(e){case u.TRADE:switch(t){case p.TRADE_CAPITAL_MARKETS:return f;case p.LIVE_MARKETS:return v;default:return h}case u.FINEXO:return h;case u.FINQ:return r.isOldRegistration()?q:F;case u.CFD_GLOBAL:switch(t){case p.KEY_WAY:return w;case p.JME_FINANCIAL:return T;default:return r.isNewCfdGlobalReg()?E:q}case u.FOREX_4_GROUP:return m;case u.CLICK_TRADES:return k;case u.MARKETS:switch(t){case p.SAFECAP_LTD:return y;case p.PRELIUM_LTD:return b;case p.STA_GLOBAL:return this.isAustraliaCountry()?x:b;case p.TRADETECH_ALPHA:return C;default:return g}case u.TRADE_TECH_DEMO:return y;case u.GLOBTREX:return B;default:return m}},isAustraliaCountry:function(){var e=l.getCountry();return e&&a.isString(e)&&"au"===e.toLowerCase()},loadRegistrationFlow:function(){var e=this.provideBrandRegistrationFlow();if(!a.isEmpty(e))try{return Promise.resolve(e)}catch(e){return Promise.reject(e)}},buildFormConfig:function(e){var t=e[0],n=e[1];a.each(n,(function(e,t){"UNKNOWN"===e&&(n[t]="")}));var i=e[2],s=a.filter(i,(function(e){return"00"!==e.code})),o=a.filter(s,"allowed"),l=a.reduce(o,(function(e,t){return e[t.phoneCode]?e:(e[t.phoneCode]=t.code,e)}),{});return{steps:_.RegistrationFormConfig({allCountries:s,allowedCountries:o,phoneToCountry:l,savedData:n}).getFormElements(t.steps)}},buildStepsFormWizard:function(e){this.navigation=new c,this.navigation.setData(a.map(this.navigation.initSteps(e.steps),(function(e){return new d(e)})))},getNavigation:function(){return this.navigation}});i.exports=new N}.call(t,n,t,e))||(e.exports=a)}).call(this,n(1))},2589:function(e,t,n){(function(i){var a;void 0===(a=function(e,t,i){var a=n(1),s=n(14),o=n(9),l=n(163),r=n(2200),d=n(1235),_=d.getPhoneCodesByCountryCode,c=d.getCountriesPhoneCodes,u=n(682).BRAND,p=n(1197).MARKETS_COMPANY,m=n(2590),h=n(2591),f=n(2592),v=n(2593),y=n(2594),g=n(2595),b=n(2596),x=n(2597),C=n(2598),E=n(2599),w=n(2601),T=n(2602),q=n(2603),k=n(2605),F=n(2606),B="_details";i.exports.RegistrationFormConfig=function(e){var t=function(t){t.countriesPhoneCodes=c(t.allowedCountries);var n=s.getBrandName(),i=o.getPartnerCompanyNameKey();switch(n){case u.TRADE:switch(i){case p.TRADE_CAPITAL_MARKETS:return new f(t);case p.LIVE_MARKETS:return new v(t);default:return new h(t)}case u.FINEXO:return new h(t);case u.FINQ:return s.isOldRegistration()?new E(e):new k(e);case u.CFD_GLOBAL:switch(i){case p.KEY_WAY:return new w(t);case p.JME_FINANCIAL:return new T(t);default:return s.isAdvancedShortRegistration()?new C(t):new E(t)}case u.CLICK_TRADES:return new q(t);case u.MARKETS:switch(r.load(),i){case p.SAFECAP_LTD:return new y(t);case p.PRELIUM_LTD:case p.STA_GLOBAL:return new b(t);case p.TRADETECH_ALPHA:return new x(t);default:return new g(t)}case u.TRADE_TECH_DEMO:return new y(t);case u.GLOBTREX:return new F(t);default:return new m(t)}}(e),n=t.getFormConfig(),i=t.getStepModels();function d(t){if(!n[t.name])return{name:t.name};var i=e.savedData[t.name]?{savedData:e.savedData[t.name]}:{},s=a.extend({},t,i,n[t.name]);return s.template!==l.selectBox&&s.template!==l.selectBoxOverflowWidth||a.contains(s.options,"EMPTY")||s.options.unshift("EMPTY"),"phone"===t.name&&function(t){if(a.isEmpty(t.savedData)&&!a.isEmpty(e.savedData.country)){var n=_(e.savedData.country);if(n){var i=a.find(e.allowedCountries,(function(e){return n.indexOf(e.phoneCode)>=0}));i&&(t.savedData=i.phoneCode+"-")}}}(s),function(t,n){if(n.template===l.yesNoDetails){var i=e.savedData[t.name+B];i&&(n.details.value=i)}}(t,s),s}return{getFormElements:function(e){return a.map(e,(function(e){return{title:e.groupName,status:e.status,action:i[e.groupName],top:a.map(e.top,d),form:a.map(e.form,(function(e){return a.map(e,d)})),bottom:a.map(e.bottom,d)}}))}}}}.call(t,n,t,e))||(e.exports=a)}).call(this,n(1))},2590:function(e,t,n){(function(i){var a;void 0===(a=function(e,t,i){var a=n(1),s=n(49),o=n(6),l=n(51),r=n(14),d=n(163),_=n(875),c=n(1183),u=n(2187),p=n(2366),m=n(2192),h=r.isRegistrationLowScoreDisclaimerEnabled()?a.template('<div class="low-score-disclaimer"><%=__("registration.step.disclaimer.financial_information")%></div>'):a.template(""),f={inputOther:function(e){if("OTHER"===e.value())return e.disable(),this.enable(),void this.focus();e.enable(),this.disable()},tradeKindNone:function(e){this.$el.find("[value=tk_none]").removeAttr("disabled"),this.$el.find("[data-value=tk_none]").removeClass("hidden"),this.$el.find("[value=tk_my_own]").removeAttr("disabled"),this.$el.find("[data-value=tk_my_own]").removeClass("hidden"),this.$el.find("[value=tk_with_advice]").removeAttr("disabled"),this.$el.find("[data-value=tk_with_advice]").removeClass("hidden");var t=e.options.form._fields;if(c.isFieldEquals(t.csb_experience,["EMPTY"])||c.isFieldEquals(t.fx_experience,["EMPTY"])||c.isFieldEquals(t.csb_volume_experience,["EMPTY"])||c.isFieldEquals(t.fx_volume_experience,["EMPTY"]))return this.setDefaultValue(),this.disable(),this.$el.addClass("select-disabled");this.enable(),this.$el.removeClass("select-disabled"),c.isFieldEquals(t.csb_experience,["EMPTY","ce_none"])&&c.isFieldEquals(t.fx_experience,["EMPTY","fe_none"])&&c.isFieldEquals(t.csb_volume_experience,["EMPTY","cve_none"])&&c.isFieldEquals(t.fx_volume_experience,["EMPTY","fve_none"])||(this.$el.find("[value=tk_none]").attr("disabled","disabled"),this.$el.find("[data-value=tk_none]").addClass("hidden")),c.isFieldEquals(t.fx_volume_experience,["fve_none"])&&c.isFieldEquals(t.csb_volume_experience,["cve_none"])&&(this.$el.find("[value=tk_my_own]").attr("disabled","disabled"),this.$el.find("[data-value=tk_my_own]").addClass("hidden"),this.$el.find("[value=tk_with_advice]").attr("disabled","disabled"),this.$el.find("[data-value=tk_with_advice]").addClass("hidden"))}};function v(e){var t=a.pluck(e,"code").sort((function(e,t){return __("country.name."+e).localeCompare(__("country.name."+t))}));return t.unshift("EMPTY"),t}i.exports=s.extend({getAllCountries:function(){return this.get("allCountries")},getAllCountryCodes:function(){return a.pluck(this.getAllCountries(),"code")},getAllowedCountries:function(){return this.get("allowedCountries")},getCountriesPhoneCodes:function(){return this.get("countriesPhoneCodes")},getPhoneToCountry:function(){return this.get("phoneToCountry")},getStepModels:function(){return{personal_information:new u,financial_information:new p}},getFormConfig:function(){return{firstName:{translationKey:"first_name",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("first_name"),max_length:_.maxLength(50,"first_name")},filters:["string"]},disable:!1,events:{onblur:c.checkInputOnBlur}},lastName:{translationKey:"last_name",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("last_name"),max_length:_.maxLength(50,"last_name")},filters:["string"]},disable:!1,events:{onblur:c.checkInputOnBlur}},phone:{translationKey:"phone",options:{countries:this.getCountriesPhoneCodes(),phoneToCountry:this.getPhoneToCountry()},template:d.phoneBox,validation:{rules:{not_empty:_.notEmpty("phone"),numeric:_.numeric("phone"),validateLength:function(e){return e.phone.length>20?__("registration.phone.max",20):e.phoneInput.length<6?__("registration.phone.min",6):a.isEmpty(e.phoneSelect)?_.notEmpty("phone"):null}},filters:[]},disable:!1},birthDate:{translationKey:"date_of_birth",options:{minAge:18,maxAge:87,moment:o,splitByComma:l.splitByComma},template:d.dateBox,validation:{rules:{not_empty:_.notEmpty("date_of_birth")},filters:[]},disable:!1},address:{translationKey:"address",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("address"),max_length:_.maxLength(50,"address")},filters:["string"]},disable:!1,events:{onblur:c.checkInputOnBlur}},zipCode:{translationKey:"zip_code",template:d.inputBox,validation:_.zipCode("zip_code"),disable:!1,events:{onblur:c.checkInputOnBlur}},city:{translationKey:"city",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("city")},filters:["string"]},disable:!1,events:{onblur:c.checkInputOnBlur}},country:{translationKey:"country",translationGroupPrefix:"country.name",options:v(this.getAllowedCountries()),template:d.countriesSelectBox,validation:_.selectNotEmpty("country"),disable:!1,events:{onchange:c.validateFieldOnChange}},citizenship:{title:__("registration.field.label.citizenship"),translationKey:"country",translationGroupPrefix:"country.name",options:v(this.getAllCountries()),template:d.countriesSelectBox,validation:_.selectNotEmpty("citizenship"),disable:!1,events:{onchange:c.validateFieldOnChange}},employment_status:{translationKey:"employment_status",template:d.selectBox,validation:_.selectNotEmpty("employment_status"),disable:!1,events:{onchange:c.validateFieldOnChange}},profession:{title:__("reg.questionary.cysec.profession"),translationKey:"profession",template:d.selectBoxOverflowWidth,validation:_.selectNotEmpty(),dependent:[{name:"employment_status",handler:function(e){return"EMPTY"===e.value()?(this.disable(),void this.$el.addClass("select-disabled")):"es_employed"===e.value()||"es_self_employed"===e.value()?(this.$el.removeClass("select-disabled"),this.enable()):(this.setDefaultValue(),this.disable(),void this.$el.addClass("select-disabled"))}}],disable:"select-disabled",events:{onchange:c.validateFieldOnChange}},annual_income:{title:__("reg.questionary.cysec.annual_income"),translationKey:"annual_income",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:c.validateFieldOnChange}},intend_invest:{title:__("reg.questionary.cysec.intend_invest"),translationKey:"intend_invest",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:c.validateFieldOnChange}},trading_purpose:{title:__("reg.questionary.cysec.trading_purpose"),translationKey:"trading_purpose",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:c.validateFieldOnChange}},trading_purpose_details:{title:__("reg.questionary.cysec.trading_purpose"),translationKey:"trading_purpose",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.industry_other")),options:{defaultValue:__("registration.field.label.industry_other")},dependent:[{name:"trading_purpose",handler:function(e){if("tp_other"===e.value())return e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(c.checkDependentFieldOnBlur,"trading_purpose")},placeholder:__("registration.field.value.provide"),disable:!0},savings_investments:{title:__("reg.questionary.cysec.savings_investments"),translationKey:"savings_investments",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:c.validateFieldOnChange}},funds_source:{title:__("reg.questionary.cysec.funds_source"),translationKey:"funds_source",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:c.validateFieldOnChange}},funds_source_details:{title:__("reg.questionary.cysec.funds_source"),translationKey:"trading_purpose",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.funds_source")),options:{defaultValue:__("registration.field.label.funds_source")},dependent:[{name:"funds_source",handler:function(e){if("fs_other"===e.value())return e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(c.checkDependentFieldOnBlur,"funds_source")},disable:!0},fatca:{translationKey:"fatca",options:[{value:"NO",text:__("no")},{value:"YES",text:__("yes")},{value:__("registration.field.fatca.link.href"),text:__("registration.field.label.fatca.learn_more")}],template:d.fatcaBox,validation:_.radioNotEmpty("fatca"),disable:!1,events:{onchange:c.validateFieldOnChange}},education_level:{translationKey:"education_level",template:d.selectBox,validation:_.selectNotEmpty("education_level"),disable:!1,events:{onchange:c.validateFieldOnChange}},study_field:{title:__("registration.field.label.study_field"),translationKey:"study_field",template:d.selectBoxOverflowWidth,validation:_.selectNotEmpty("study_field"),dependent:[{name:"education_level",handler:m.updateStudyFieldAfterChangeEducationLevel}],disable:"select-disabled",events:{onchange:c.validateFieldOnChange}},study_field_details:{title:__("registration.field.label.study_field"),translationKey:"study_field_other",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.study_field_other")),options:{defaultValue:__("registration.field.label.study_field_other")},dependent:[{name:"study_field",handler:m.updateStudyFieldDetailsAfterChangeStudyField},{name:"education_level",handler:m.updateStudyFieldDetailsAfterChangeEducationLevel}],events:{onblur:a.partial(c.checkDependentFieldOnBlur,"study_field")},placeholder:__("registration.field.value.provide"),disable:!0},fx_volume_experience:{title:__("reg.questionary.cysec.fx_volume_experience"),translationKey:"fx_volume_experience",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:c.validateFieldOnChange}},csb_volume_experience:{title:__("reg.questionary.cysec.csb_volume_experience"),translationKey:"csb_volume_experience",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:c.validateFieldOnChange}},fx_experience:{title:__("reg.questionary.cysec.fx_experience"),translationKey:"fx_experience",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:c.validateFieldOnChange}},csb_experience:{title:__("reg.questionary.cysec.csb_experience"),translationKey:"csb_experience",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:c.validateFieldOnChange}},trade_kind:{title:__("reg.questionary.cysec.trade_kind"),translationKey:"trade_kind",template:d.selectBoxOverflowWidth,validation:_.selectNotEmpty(),disable:"select-disabled",dependent:[{name:"csb_experience",handler:f.tradeKindNone},{name:"fx_experience",handler:f.tradeKindNone},{name:"csb_volume_experience",handler:f.tradeKindNone},{name:"fx_volume_experience",handler:f.tradeKindNone}],events:{onchange:c.validateFieldOnChange}},low_score_disclaimer:{title:"",translationKey:"",template:h,validation:{},disable:!1,dependent:[]},termsAndConditions:{translationKey:"terms_and_conditions",options:{value:"",text:"TRANS_OPTION_TEXT_KEY",parseString:!0},template:d.checkBox,validation:{rules:{not_equals:["false",__("registration.warning.this_field_is_required",__("registration.field.label.termsAndConditions"))]},filters:[]},disable:!1,events:{onchange:c.validateFieldOnChange}},apple_drops:{title:__("reg.questionary.cysec.apple_drops"),translationKey:"apple_drops",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:c.validateFieldOnChange}},facebook_buy_markets:{title:__("reg.questionary.cysec.facebook_buy_markets"),translationKey:"facebook_buy_markets",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:c.validateFieldOnChange}},maximum_open_position:{title:__("reg.questionary.cysec.maximum_open_position"),translationKey:"maximum_open_position",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:c.validateFieldOnChange}},trade_leverage:{title:__("reg.questionary.cysec.trade_leverage"),translationKey:"trade_leverage",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:c.validateFieldOnChange}},cfd_trading:{title:__("reg.questionary.cysec.cfd_trading"),translationKey:"cfd_trading",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:c.validateFieldOnChange}}}}})}.call(t,n,t,e))||(e.exports=a)}).call(this,n(1))},2591:function(e,t,n){(function(i){var a;void 0===(a=function(e,t,i){var a=n(1),s=n(49),o=n(6),l=n(51),r=n(14),d=n(163),_=n(875),c=n(9),u=n(1183),p=n(2).EMPTY,m=n(2187),h=n(2192),f=p,v=r.isRegistrationLowScoreDisclaimerEnabled()?a.template('<div class="low-score-disclaimer"><%=__("registration.step.disclaimer.financial_information")%></div>'):a.template(""),y={tradeKindNone:function(e){this.$el.find("[value=tk_none]").removeAttr("disabled"),this.$el.find("[data-value=tk_none]").removeClass("hidden"),this.$el.find("[value=tk_my_own]").removeAttr("disabled"),this.$el.find("[data-value=tk_my_own]").removeClass("hidden"),this.$el.find("[value=tk_with_advice]").removeAttr("disabled"),this.$el.find("[data-value=tk_with_advice]").removeClass("hidden");var t=e.options.form._fields;if(u.isFieldEquals(t.csb_experience,[f])||u.isFieldEquals(t.fx_experience,[f])||u.isFieldEquals(t.csb_volume_experience,[f])||u.isFieldEquals(t.fx_volume_experience,[f]))return this.setDefaultValue(),this.disable(),this.$el.addClass("select-disabled");this.enable(),this.$el.removeClass("select-disabled"),u.isFieldEquals(t.csb_experience,[f,"ce_none"])&&u.isFieldEquals(t.fx_experience,[f,"fe_none"])&&u.isFieldEquals(t.csb_volume_experience,[f,"cve_none"])&&u.isFieldEquals(t.fx_volume_experience,[f,"fve_none"])||(this.$el.find("[value=tk_none]").attr("disabled","disabled"),this.$el.find("[data-value=tk_none]").addClass("hidden")),u.isFieldEquals(t.fx_volume_experience,["fve_none"])&&u.isFieldEquals(t.csb_volume_experience,["cve_none"])&&(this.$el.find("[value=tk_my_own]").attr("disabled","disabled"),this.$el.find("[data-value=tk_my_own]").addClass("hidden"),this.$el.find("[value=tk_with_advice]").attr("disabled","disabled"),this.$el.find("[data-value=tk_with_advice]").addClass("hidden"))},showHaveSecondTinCountry:function(e){var t=this.getDependentFieldByName("have_tin"),n=this.getDependentFieldByName("have_second_tin");u.isFieldEquals(t,["have_tin_yes"])&&u.isFieldEquals(n,["have_second_tin_yes"])?this.enable():(this.setDefaultValueWithFireChangeEvent(),this.validate(),this.disable())},updateHaveSecondTinAfterChangeHaveTin:function(e){var t=this.getDependentFieldByName("have_tin");u.isFieldEquals(t,["have_tin_yes"])?this.enable():this.disable()},showTinAbsenceReason:function(e){var t=this.getDependentFieldByName("have_tin");u.isFieldEquals(t,["have_tin_no"])?this.enable():this.disable()},updateTinAbsenceReasonDetailsAfterChangeTinAbsenceReason:function(e){var t=this.getDependentFieldByName("have_tin"),n=this.getDependentFieldByName("tin_absence_reason");if(u.isFieldEquals(t,["have_tin_no"])&&u.isFieldEquals(n,["tin_absence_reason_other"]))return n.disable(),this.enable(),this.$el.css("display","block"),void this.focus();u.isFieldEquals(t,["have_tin_no"])&&n.enable(),this.$el.css("display","none")},updateTinAbsenceReasonDetailsAfterChangeHaveTin:function(e){var t=this.getDependentFieldByName("have_tin"),n=this.getDependentFieldByName("tin_absence_reason");if(!u.isFieldEquals(t,["have_tin_no"]))return this.disable(),this.setDefaultValueWithFireChangeEvent(),n.setDefaultValueWithFireChangeEvent(),void this.$el.css("display","none");u.isFieldEquals(n,["tin_absence_reason_other"])&&(n.disable(),this.enable(),this.$el.css("display","block"))},updateHaveSecondTinCountrySource:function(e,t){var n=this;e.forEach((function(e){n.$el.find('[value="'+e+'"]').removeAttr("disabled"),n.$el.find('[data-value="'+e+'"]').removeClass("hidden")}));var i=t.getValue().toLowerCase(),a=this.getValue();this.$el.find('[value="'+i+'"]').attr("disabled","disabled"),this.$el.find('[data-value="'+i+'"]').addClass("hidden"),a===i&&this.setDefaultValueWithFireChangeEvent()},activateWorkCountriesOnlyIfEmployed:function(e){if(u.isFieldEquals(e,["es_employed","es_self_employed"])){var t=this.getValue();return(a.isEmpty(t)||t[0]===f)&&this.setValue(c.getCountry().toLowerCase()),this.enable(),void this.$el.removeClass("select-disabled")}this.disable(),this.setDefaultValueWithFireChangeEvent(),this.$el.addClass("select-disabled")},activateOnlyIfEmployed:function(e){if(u.isFieldEquals(e,["es_employed","es_self_employed"]))return this.enable(),void this.$el.removeClass("select-disabled");this.disable(),this.setDefaultValueWithFireChangeEvent(),this.$el.addClass("select-disabled")}};function g(e){var t=a.pluck(e,"code").sort((function(e,t){return __("country.name."+e).localeCompare(__("country.name."+t))}));return t.unshift(p),t}i.exports=s.extend({getAllCountries:function(){return this.get("allCountries")},getAllowedCountries:function(){return this.get("allowedCountries")},getAllowedCountryCodes:function(){return a.pluck(this.getAllowedCountries(),"code")},getSortedAllowedCountryCodes:function(){return this.getAllowedCountryCodes().sort((function(e,t){return __("country.name."+e).localeCompare(__("country.name."+t))}))},getCountryCodes:function(){return this.getSortedAllowedCountryCodes().map((function(e){return e.toLowerCase()}))},getCountriesPhoneCodes:function(){return this.get("countriesPhoneCodes")},getPhoneToCountry:function(){return this.get("phoneToCountry")},getStepModels:function(){return{personal_information:new m}},getFormConfig:function(){return{firstName:{translationKey:"first_name",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("first_name"),max_length:_.maxLength(50,"first_name")},filters:["string"]},disable:!1,events:{onblur:u.checkInputOnBlur}},lastName:{translationKey:"last_name",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("last_name"),max_length:_.maxLength(50,"last_name")},filters:["string"]},disable:!1,events:{onblur:u.checkInputOnBlur}},phone:{translationKey:"phone",options:{countries:this.getCountriesPhoneCodes(),phoneToCountry:this.getPhoneToCountry()},template:d.phoneBox,validation:{rules:{not_empty:_.notEmpty("phone"),numeric:_.numeric("phone"),validateLength:function(e){return e.phone.length>20?__("registration.phone.max",20):e.phoneInput.length<6?__("registration.phone.min",6):a.isEmpty(e.phoneSelect)?_.notEmpty("phone"):null}},filters:[]},disable:!1},birthDate:{translationKey:"date_of_birth",options:{minAge:18,maxAge:87,moment:o,splitByComma:l.splitByComma},template:d.dateBox,validation:{rules:{not_empty:_.notEmpty("date_of_birth")},filters:[]},disable:!1},address:{translationKey:"address",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("address"),max_length:_.maxLength(50,"address")},filters:["string"]},disable:!1,events:{onblur:u.checkInputOnBlur}},zipCode:{translationKey:"zip_code",template:d.inputBox,validation:_.zipCode("zip_code"),disable:!1,events:{onblur:u.checkInputOnBlur}},city:{translationKey:"city",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("city")},filters:["string"]},disable:!1,events:{onblur:u.checkInputOnBlur}},country:{translationKey:"country",translationGroupPrefix:"country.name",options:g(this.getAllowedCountries()),template:d.countriesSelectBox,validation:_.countrySelectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},citizenship:{title:__("registration.field.label.citizenship"),translationKey:"country",translationGroupPrefix:"country.name",options:g(this.getAllCountries()),template:d.countriesSelectBox,validation:_.countrySelectNotEmpty("citizenship"),disable:!1,events:{onchange:u.validateFieldOnChange}},have_tin:{title:__("reg.questionary.cysec.have_tin"),translationKey:"have_tin",link:{href:__("reg.questionary.cysec.have_tin.link.href"),text:__("reg.questionary.cysec.have_tin.learn_more")},options:[{value:"have_tin_no",text:__("no")},{value:"have_tin_yes",text:__("yes")}],details:{option:"have_tin_yes",placeholder:__("reg.questionary.cysec.have_tin.tin"),max_length:50,type:"input"},template:d.yesNoDetails,disable:!1},have_second_tin:{title:__("reg.questionary.cysec.have_second_tin"),translationKey:"have_second_tin",options:[{value:"have_second_tin_no",text:__("no")},{value:"have_second_tin_yes",text:__("yes")}],details:{option:"have_second_tin_yes",placeholder:__("reg.questionary.cysec.have_second_tin.tin"),max_length:50,type:"input"},template:d.yesNoDetails,dependent:[{name:"have_tin",handler:y.updateHaveSecondTinAfterChangeHaveTin}],disable:!0},have_second_tin_country:{title:__("reg.questionary.cysec.have_second_tin_country"),translationKey:"have_second_tin_country",translationGroupPrefix:"country.name",options:this.getCountryCodes(),template:d.countriesSelectBox,validation:_.countrySelectNotEmpty(),dependent:[{name:"have_second_tin",handler:y.showHaveSecondTinCountry},{name:"have_tin",handler:y.showHaveSecondTinCountry},{name:"country",handler:a.partial(y.updateHaveSecondTinCountrySource,this.getCountryCodes())}],disable:!0,events:{onchange:u.validateFieldOnChange}},tin_absence_reason:{title:__("reg.questionary.cysec.tin_absence_reason"),translationKey:"tin_absence_reason",template:d.selectBox,validation:_.selectNotEmpty(),dependent:[{name:"have_tin",handler:y.showTinAbsenceReason}],disable:!0,events:{onchange:u.validateFieldOnChange}},tin_absence_reason_details:{title:__("reg.questionary.cysec.tin_absence_reason"),translationKey:"tin_absence_reason",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty()}},dependent:[{name:"tin_absence_reason",handler:y.updateTinAbsenceReasonDetailsAfterChangeTinAbsenceReason},{name:"have_tin",handler:y.updateTinAbsenceReasonDetailsAfterChangeHaveTin}],events:{onblur:a.partial(u.validateFieldOnChange,"tin_absence_reason")},placeholder:__("registration.field.value.provide"),disable:!0},us_resident:{title:__("reg.questionary.cysec.us_resident"),translationKey:"us_resident",link:{href:__("reg.questionary.cysec.us_resident.link.href"),text:__("reg.questionary.cysec.us_resident.learn_more")},options:[{value:"ur_no",text:__("no")},{value:"ur_yes",text:__("yes")}],details:{option:"ur_yes",placeholder:__("reg.questionary.cysec.us_resident.tin"),max_length:50,type:"input"},template:d.yesNoDetails,disable:!1},pep:{title:__("reg.questionary.cysec.pep"),translationKey:"pep",link:{href:__("reg.questionary.cysec.pep.link.href"),text:__("reg.questionary.cysec.pep.click_here")},options:[{value:"pep_no",text:__("no")},{value:"pep_yes",text:__("yes")}],details:{option:"pep_yes",placeholder:__("reg.questionary.cysec.pep.provide"),max_length:1e3,type:"input"},template:d.yesNoDetails,disable:!1},employment_status:{translationKey:"employment_status",template:d.selectBox,validation:_.selectNotEmpty("employment_status"),disable:!1,events:{onchange:u.validateFieldOnChange}},trading_purpose:{title:__("reg.questionary.cysec.trading_purpose"),translationKey:"trading_purpose",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},trading_purpose_details:{title:__("reg.questionary.cysec.trading_purpose"),translationKey:"trading_purpose",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.industry_other")),options:{defaultValue:__("registration.field.label.industry_other")},dependent:[{name:"trading_purpose",handler:function(e){if("tp_other"===e.value())return e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(u.checkDependentFieldOnBlur,"trading_purpose")},placeholder:__("registration.field.value.provide"),disable:!0},anticipated_turnover:{title:__("reg.questionary.cysec.anticipated_turnover"),translationKey:"anticipated_turnover",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},anticipated_turnover_details:{title:__("reg.questionary.cysec.anticipated_turnover"),translationKey:"anticipated_turnover",template:d.inputBox,validation:{rules:{max_length:_.maxLength(50,"anticipated_turnover_details")},filters:["string"]},dependent:[{name:"anticipated_turnover",handler:function(e){if("at_o_1000000"===e.value())return e.disable(),e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(u.checkDependentFieldOnBlur,"anticipated_turnover")},placeholder:__("registration.field.value.provide"),disable:!0},transactions_nature:{title:__("reg.questionary.cysec.transactions_nature"),translationKey:"transactions_nature",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},transactions_nature_details:{title:__("reg.questionary.cysec.transactions_nature"),translationKey:"transactions_nature",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.tn_other")),options:{defaultValue:__("registration.field.label.tn_other")},dependent:[{name:"transactions_nature",handler:function(e){if("tn_other"===e.value())return e.disable(),e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(u.checkDependentFieldOnBlur,"transactions_nature")},placeholder:__("registration.field.value.provide"),disable:!0},industry:{title:__("reg.questionary.cysec.industry"),translationKey:"industry",template:d.selectBox,validation:_.selectNotEmpty(),dependent:[{name:"employment_status",handler:y.activateOnlyIfEmployed}],disable:"select-disabled",events:{onchange:u.validateFieldOnChange}},industry_details:{title:__("reg.questionary.cysec.industry"),translationKey:"industry",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.i_other")),dependent:[{name:"industry",handler:function(e){if("i_other"===e.value())return e.disable(),e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(u.checkDependentFieldOnBlur,"industry")},placeholder:__("registration.field.value.provide"),disable:!0},work_countries:{title:__("reg.questionary.cysec.work_countries"),translationKey:"work_countries",translationGroupPrefix:"country.name",template:d.multiSelect,validation:_.multiSelectNotEmpty(),options:(e=g(this.getAllCountries()),a.map(e,(function(e){return e===p?e:e.toLowerCase()}))),dependent:[{name:"employment_status",handler:y.activateWorkCountriesOnlyIfEmployed}],disable:"select-disabled"},work_position:{title:__("reg.questionary.cysec.work_position"),translationKey:"work_position",template:d.selectBox,validation:_.selectNotEmpty(),dependent:[{name:"employment_status",handler:y.activateOnlyIfEmployed}],disable:"select-disabled",events:{onchange:u.validateFieldOnChange}},work_position_details:{title:__("reg.questionary.cysec.work_position"),translationKey:"work_position",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.work_position_other")),dependent:[{name:"work_position",handler:function(e){if("work_position_other"===e.value())return e.disable(),e.$el.css("visibility","hidden"),this.enable(),void this.focus();e.$el.css("visibility","visible"),this.disable()}}],events:{onblur:a.partial(u.checkDependentFieldOnBlur,"work_position")},placeholder:__("registration.field.value.provide"),disable:!0},source_of_income:{title:__("reg.questionary.cysec.source_of_income"),translationKey:"source_of_income",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},source_of_income_details:{title:__("reg.questionary.cysec.source_of_income"),translationKey:"source_of_income",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.so_other")),options:{defaultValue:__("registration.field.label.so_other")},dependent:[{name:"source_of_income",handler:function(e){if("so_other"===e.value())return e.disable(),e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(u.checkDependentFieldOnBlur,"source_of_income")},placeholder:__("registration.field.value.provide"),disable:!0},estimated_gross_income:{title:__("reg.questionary.cysec.estimated_gross_income"),translationKey:"estimated_gross_income",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},estimated_gross_income_details:{title:__("reg.questionary.cysec.estimated_gross_income"),translationKey:"estimated_gross_income",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.egi_o_250000")),options:{defaultValue:__("registration.field.label.egi_o_250000")},dependent:[{name:"estimated_gross_income",handler:function(e){if("egi_o_250000"===e.value())return e.disable(),e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(u.checkDependentFieldOnBlur,"estimated_gross_income")},placeholder:__("registration.field.value.provide"),disable:!0},net_worth:{title:__("reg.questionary.cysec.net_worth"),translationKey:"net_worth",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},net_worth_details:{title:__("reg.questionary.cysec.net_worth"),translationKey:"net_worth",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.nw_o_1000000")),options:{defaultValue:__("registration.field.label.nw_o_1000000")},dependent:[{name:"net_worth",handler:function(e){if("nw_o_1000000"===e.value())return e.disable(),e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(u.checkDependentFieldOnBlur,"net_worth")},placeholder:__("registration.field.value.provide"),disable:!0},orin_of_funds:{title:__("reg.questionary.cysec.orin_of_funds"),translationKey:"orin_of_funds",translationGroupPrefix:"reg.questionary.cysec.orin_of_funds",template:d.multiCheckBox,validation:_.multiCheckBoxNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},education_level:{translationKey:"education_level",template:d.selectBox,validation:_.selectNotEmpty("education_level"),disable:!1,events:{onchange:u.validateFieldOnChange}},study_field:{title:__("registration.field.label.study_field"),translationKey:"study_field",template:d.selectBoxOverflowWidth,validation:_.selectNotEmpty("study_field"),dependent:[{name:"education_level",handler:h.updateStudyFieldAfterChangeEducationLevel}],disable:"select-disabled",events:{onchange:u.validateFieldOnChange}},study_field_details:{title:__("registration.field.label.study_field"),translationKey:"study_field_other",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.study_field_other")),options:{defaultValue:__("registration.field.label.study_field_other")},dependent:[{name:"study_field",handler:h.updateStudyFieldDetailsAfterChangeStudyField},{name:"education_level",handler:h.updateStudyFieldDetailsAfterChangeEducationLevel}],events:{onblur:a.partial(u.checkDependentFieldOnBlur,"study_field")},placeholder:__("registration.field.value.provide"),disable:!0},fx_volume_experience:{title:__("reg.questionary.cysec.fx_volume_experience"),translationKey:"fx_volume_experience",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},csb_volume_experience:{title:__("reg.questionary.cysec.csb_volume_experience"),translationKey:"csb_volume_experience",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},fx_experience:{title:__("reg.questionary.cysec.fx_experience"),translationKey:"fx_experience",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},csb_experience:{title:__("reg.questionary.cysec.csb_experience"),translationKey:"csb_experience",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},trade_kind:{title:__("reg.questionary.cysec.trade_kind"),translationKey:"trade_kind",template:d.selectBoxOverflowWidth,validation:_.selectNotEmpty(),disable:!1,dependent:[{name:"csb_experience",handler:y.tradeKindNone},{name:"fx_experience",handler:y.tradeKindNone},{name:"csb_volume_experience",handler:y.tradeKindNone},{name:"fx_volume_experience",handler:y.tradeKindNone}],events:{onchange:u.validateFieldOnChange}},low_score_disclaimer:{title:"",translationKey:"",template:v,validation:{},disable:!1,dependent:[]},termsAndConditions:{translationKey:"terms_and_conditions",options:{value:"",text:"TRANS_OPTION_TEXT_KEY",parseString:!0},template:d.checkBox,validation:{rules:{not_equals:["false",__("registration.warning.this_field_is_required",__("registration.field.label.termsAndConditions"))]},filters:[]},disable:!1,events:{onchange:u.validateFieldOnChange}},quiz_1:{title:__("reg.questionary.cysec.quiz_1"),translationKey:"quiz_1",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},quiz_2:{title:__("reg.questionary.cysec.quiz_2"),translationKey:"quiz_2",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},quiz_3:{title:__("reg.questionary.cysec.quiz_3"),translationKey:"quiz_3",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},quiz_4:{title:__("reg.questionary.cysec.quiz_4"),translationKey:"quiz_4",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},quiz_5:{title:__("reg.questionary.cysec.quiz_5"),translationKey:"quiz_5",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}}};var e}})}.call(t,n,t,e))||(e.exports=a)}).call(this,n(1))},2592:function(e,t,n){(function(i){var a;void 0===(a=function(e,t,i){var a=n(1),s=n(49),o=n(6),l=n(51),r=n(14),d=n(163),_=n(875),c=n(9),u=n(1183),p=n(2).EMPTY,m=n(2187),h=n(2192),f=p,v=r.isRegistrationLowScoreDisclaimerEnabled()?a.template('<div class="low-score-disclaimer"><%=__("registration.step.disclaimer.financial_information")%></div>'):a.template(""),y={tradeKindNone:function(e){this.$el.find("[value=tk_none]").removeAttr("disabled"),this.$el.find("[data-value=tk_none]").removeClass("hidden"),this.$el.find("[value=tk_my_own]").removeAttr("disabled"),this.$el.find("[data-value=tk_my_own]").removeClass("hidden"),this.$el.find("[value=tk_with_advice]").removeAttr("disabled"),this.$el.find("[data-value=tk_with_advice]").removeClass("hidden");var t=e.options.form._fields;if(u.isFieldEquals(t.csb_experience,[f])||u.isFieldEquals(t.fx_experience,[f])||u.isFieldEquals(t.csb_volume_experience,[f])||u.isFieldEquals(t.fx_volume_experience,[f]))return this.setDefaultValue(),this.disable(),this.$el.addClass("select-disabled");this.enable(),this.$el.removeClass("select-disabled"),u.isFieldEquals(t.csb_experience,[f,"ce_none"])&&u.isFieldEquals(t.fx_experience,[f,"fe_none"])&&u.isFieldEquals(t.csb_volume_experience,[f,"cve_none"])&&u.isFieldEquals(t.fx_volume_experience,[f,"fve_none"])||(this.$el.find("[value=tk_none]").attr("disabled","disabled"),this.$el.find("[data-value=tk_none]").addClass("hidden")),u.isFieldEquals(t.fx_volume_experience,["fve_none"])&&u.isFieldEquals(t.csb_volume_experience,["cve_none"])&&(this.$el.find("[value=tk_my_own]").attr("disabled","disabled"),this.$el.find("[data-value=tk_my_own]").addClass("hidden"),this.$el.find("[value=tk_with_advice]").attr("disabled","disabled"),this.$el.find("[data-value=tk_with_advice]").addClass("hidden"))},showHaveSecondTinCountry:function(e){var t=this.getDependentFieldByName("have_tin"),n=this.getDependentFieldByName("have_second_tin");u.isFieldEquals(t,["have_tin_yes"])&&u.isFieldEquals(n,["have_second_tin_yes"])?this.enable():(this.setDefaultValueWithFireChangeEvent(),this.validate(),this.disable())},updateHaveSecondTinAfterChangeHaveTin:function(e){var t=this.getDependentFieldByName("have_tin");u.isFieldEquals(t,["have_tin_yes"])?this.enable():this.disable()},showTinAbsenceReason:function(e){var t=this.getDependentFieldByName("have_tin");u.isFieldEquals(t,["have_tin_no"])?this.enable():this.disable()},updateTinAbsenceReasonDetailsAfterChangeTinAbsenceReason:function(e){var t=this.getDependentFieldByName("have_tin"),n=this.getDependentFieldByName("tin_absence_reason");if(u.isFieldEquals(t,["have_tin_no"])&&u.isFieldEquals(n,["tin_absence_reason_other"]))return n.disable(),this.enable(),this.$el.css("display","block"),void this.focus();u.isFieldEquals(t,["have_tin_no"])&&n.enable(),this.$el.css("display","none")},updateTinAbsenceReasonDetailsAfterChangeHaveTin:function(e){var t=this.getDependentFieldByName("have_tin"),n=this.getDependentFieldByName("tin_absence_reason");if(!u.isFieldEquals(t,["have_tin_no"]))return this.disable(),this.setDefaultValueWithFireChangeEvent(),n.setDefaultValueWithFireChangeEvent(),void this.$el.css("display","none");u.isFieldEquals(n,["tin_absence_reason_other"])&&(n.disable(),this.enable(),this.$el.css("display","block"))},updateHaveSecondTinCountrySource:function(e,t){var n=this;e.forEach((function(e){n.$el.find('[value="'+e+'"]').removeAttr("disabled"),n.$el.find('[data-value="'+e+'"]').removeClass("hidden")}));var i=t.getValue().toLowerCase(),a=this.getValue();this.$el.find('[value="'+i+'"]').attr("disabled","disabled"),this.$el.find('[data-value="'+i+'"]').addClass("hidden"),a===i&&this.setDefaultValueWithFireChangeEvent()},activateWorkCountriesOnlyIfEmployed:function(e){if(u.isFieldEquals(e,["es_employed","es_self_employed"])){var t=this.getValue();return(a.isEmpty(t)||t[0]===f)&&this.setValue(c.getCountry().toLowerCase()),this.enable(),void this.$el.removeClass("select-disabled")}this.disable(),this.setDefaultValueWithFireChangeEvent(),this.$el.addClass("select-disabled")},activateOnlyIfEmployed:function(e){if(u.isFieldEquals(e,["es_employed","es_self_employed"]))return this.enable(),void this.$el.removeClass("select-disabled");this.disable(),this.setDefaultValueWithFireChangeEvent(),this.$el.addClass("select-disabled")}};function g(e){var t=a.pluck(e,"code").sort((function(e,t){return __("country.name."+e).localeCompare(__("country.name."+t))}));return t.unshift(p),t}i.exports=s.extend({getAllCountries:function(){return this.get("allCountries")},getAllowedCountries:function(){return this.get("allowedCountries")},getAllowedCountryCodes:function(){return a.pluck(this.getAllowedCountries(),"code")},getSortedAllowedCountryCodes:function(){return this.getAllowedCountryCodes().sort((function(e,t){return __("country.name."+e).localeCompare(__("country.name."+t))}))},getCountryCodes:function(){return this.getSortedAllowedCountryCodes().map((function(e){return e.toLowerCase()}))},getCountriesPhoneCodes:function(){return this.get("countriesPhoneCodes")},getPhoneToCountry:function(){return this.get("phoneToCountry")},getStepModels:function(){return{personal_information:new m}},getFormConfig:function(){return{firstName:{translationKey:"first_name",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("first_name"),max_length:_.maxLength(50,"first_name")},filters:["string"]},disable:!1,events:{onblur:u.checkInputOnBlur}},lastName:{translationKey:"last_name",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("last_name"),max_length:_.maxLength(50,"last_name")},filters:["string"]},disable:!1,events:{onblur:u.checkInputOnBlur}},phone:{translationKey:"phone",options:{countries:this.getCountriesPhoneCodes(),phoneToCountry:this.getPhoneToCountry()},template:d.phoneBox,validation:{rules:{not_empty:_.notEmpty("phone"),numeric:_.numeric("phone"),validateLength:function(e){return e.phone.length>20?__("registration.phone.max",20):e.phoneInput.length<6?__("registration.phone.min",6):a.isEmpty(e.phoneSelect)?_.notEmpty("phone"):null}},filters:[]},disable:!1},birthDate:{translationKey:"date_of_birth",options:{minAge:18,maxAge:87,moment:o,splitByComma:l.splitByComma},template:d.dateBox,validation:{rules:{not_empty:_.notEmpty("date_of_birth")},filters:[]},disable:!1},address:{translationKey:"address",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("address"),max_length:_.maxLength(50,"address")},filters:["string"]},disable:!1,events:{onblur:u.checkInputOnBlur}},zipCode:{translationKey:"zip_code",template:d.inputBox,validation:_.zipCode("zip_code"),disable:!1,events:{onblur:u.checkInputOnBlur}},city:{translationKey:"city",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("city")},filters:["string"]},disable:!1,events:{onblur:u.checkInputOnBlur}},country:{translationKey:"country",translationGroupPrefix:"country.name",options:g(this.getAllowedCountries()),template:d.countriesSelectBox,validation:_.countrySelectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},citizenship:{title:__("registration.field.label.citizenship"),translationKey:"country",translationGroupPrefix:"country.name",options:g(this.getAllCountries()),template:d.countriesSelectBox,validation:_.countrySelectNotEmpty("citizenship"),disable:!1,events:{onchange:u.validateFieldOnChange}},have_tin:{title:__("reg.questionary.cysec.have_tin"),translationKey:"have_tin",link:{href:__("reg.questionary.cysec.have_tin.link.href"),text:__("reg.questionary.cysec.have_tin.learn_more")},options:[{value:"have_tin_no",text:__("no")},{value:"have_tin_yes",text:__("yes")}],details:{option:"have_tin_yes",placeholder:__("reg.questionary.cysec.have_tin.tin"),max_length:50,type:"input"},template:d.yesNoDetails,disable:!1},have_second_tin:{title:__("reg.questionary.cysec.have_second_tin"),translationKey:"have_second_tin",options:[{value:"have_second_tin_no",text:__("no")},{value:"have_second_tin_yes",text:__("yes")}],details:{option:"have_second_tin_yes",placeholder:__("reg.questionary.cysec.have_second_tin.tin"),max_length:50,type:"input"},template:d.yesNoDetails,dependent:[{name:"have_tin",handler:y.updateHaveSecondTinAfterChangeHaveTin}],disable:!0},have_second_tin_country:{title:__("reg.questionary.cysec.have_second_tin_country"),translationKey:"have_second_tin_country",translationGroupPrefix:"country.name",options:this.getCountryCodes(),template:d.countriesSelectBox,validation:_.countrySelectNotEmpty(),dependent:[{name:"have_second_tin",handler:y.showHaveSecondTinCountry},{name:"have_tin",handler:y.showHaveSecondTinCountry},{name:"country",handler:a.partial(y.updateHaveSecondTinCountrySource,this.getCountryCodes())}],disable:!0,events:{onchange:u.validateFieldOnChange}},tin_absence_reason:{title:__("reg.questionary.cysec.tin_absence_reason"),translationKey:"tin_absence_reason",template:d.selectBox,validation:_.selectNotEmpty(),dependent:[{name:"have_tin",handler:y.showTinAbsenceReason}],disable:!0,events:{onchange:u.validateFieldOnChange}},tin_absence_reason_details:{title:__("reg.questionary.cysec.tin_absence_reason"),translationKey:"tin_absence_reason",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty()}},dependent:[{name:"tin_absence_reason",handler:y.updateTinAbsenceReasonDetailsAfterChangeTinAbsenceReason},{name:"have_tin",handler:y.updateTinAbsenceReasonDetailsAfterChangeHaveTin}],events:{onblur:a.partial(u.validateFieldOnChange,"tin_absence_reason")},placeholder:__("registration.field.value.provide"),disable:!0},us_resident:{title:__("reg.questionary.cysec.us_resident"),translationKey:"us_resident",link:{href:__("reg.questionary.cysec.us_resident.link.href"),text:__("reg.questionary.cysec.us_resident.learn_more")},options:[{value:"ur_no",text:__("no")},{value:"ur_yes",text:__("yes")}],details:{option:"ur_yes",placeholder:__("reg.questionary.cysec.us_resident.tin"),max_length:50,type:"input"},template:d.yesNoDetails,disable:!1},pep:{title:__("reg.questionary.cysec.pep"),translationKey:"pep",link:{href:__("reg.questionary.cysec.pep.link.href"),text:__("reg.questionary.cysec.pep.click_here")},options:[{value:"pep_no",text:__("no")},{value:"pep_yes",text:__("yes")}],details:{option:"pep_yes",placeholder:__("reg.questionary.cysec.pep.provide"),max_length:1e3,type:"input"},template:d.yesNoDetails,disable:!1},employment_status:{translationKey:"employment_status",template:d.selectBox,validation:_.selectNotEmpty("employment_status"),disable:!1,events:{onchange:u.validateFieldOnChange}},trading_purpose:{title:__("reg.questionary.cysec.trading_purpose"),translationKey:"trading_purpose",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},trading_purpose_details:{title:__("reg.questionary.cysec.trading_purpose"),translationKey:"trading_purpose",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.industry_other")),options:{defaultValue:__("registration.field.label.industry_other")},dependent:[{name:"trading_purpose",handler:function(e){if("tp_other"===e.value())return e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(u.checkDependentFieldOnBlur,"trading_purpose")},placeholder:__("registration.field.value.provide"),disable:!0},anticipated_turnover:{title:__("reg.questionary.cysec.anticipated_turnover"),translationKey:"anticipated_turnover",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},anticipated_turnover_details:{title:__("reg.questionary.cysec.anticipated_turnover"),translationKey:"anticipated_turnover",template:d.inputBox,validation:{rules:{max_length:_.maxLength(50,"anticipated_turnover_details")},filters:["string"]},dependent:[{name:"anticipated_turnover",handler:function(e){if("at_o_1000000"===e.value())return e.disable(),e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(u.checkDependentFieldOnBlur,"anticipated_turnover")},placeholder:__("registration.field.value.provide"),disable:!0},transactions_nature:{title:__("reg.questionary.cysec.transactions_nature"),translationKey:"transactions_nature",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},transactions_nature_details:{title:__("reg.questionary.cysec.transactions_nature"),translationKey:"transactions_nature",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.tn_other")),options:{defaultValue:__("registration.field.label.tn_other")},dependent:[{name:"transactions_nature",handler:function(e){if("tn_other"===e.value())return e.disable(),e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(u.checkDependentFieldOnBlur,"transactions_nature")},placeholder:__("registration.field.value.provide"),disable:!0},industry:{title:__("reg.questionary.cysec.industry"),translationKey:"industry",template:d.selectBox,validation:_.selectNotEmpty(),dependent:[{name:"employment_status",handler:y.activateOnlyIfEmployed}],disable:"select-disabled",events:{onchange:u.validateFieldOnChange}},industry_details:{title:__("reg.questionary.cysec.industry"),translationKey:"industry",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.i_other")),dependent:[{name:"industry",handler:function(e){if("i_other"===e.value())return e.disable(),e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(u.checkDependentFieldOnBlur,"industry")},placeholder:__("registration.field.value.provide"),disable:!0},work_countries:{title:__("reg.questionary.cysec.work_countries"),translationKey:"work_countries",translationGroupPrefix:"country.name",template:d.multiSelect,validation:_.multiSelectNotEmpty(),options:(e=g(this.getAllCountries()),a.map(e,(function(e){return e===p?e:e.toLowerCase()}))),dependent:[{name:"employment_status",handler:y.activateWorkCountriesOnlyIfEmployed}],disable:"select-disabled"},work_position:{title:__("reg.questionary.cysec.work_position"),translationKey:"work_position",template:d.selectBox,validation:_.selectNotEmpty(),dependent:[{name:"employment_status",handler:y.activateOnlyIfEmployed}],disable:"select-disabled",events:{onchange:u.validateFieldOnChange}},work_position_details:{title:__("reg.questionary.cysec.work_position"),translationKey:"work_position",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.work_position_other")),dependent:[{name:"work_position",handler:function(e){if("work_position_other"===e.value())return e.disable(),e.$el.css("visibility","hidden"),this.enable(),void this.focus();e.$el.css("visibility","visible"),this.disable()}}],events:{onblur:a.partial(u.checkDependentFieldOnBlur,"work_position")},placeholder:__("registration.field.value.provide"),disable:!0},source_of_income:{title:__("reg.questionary.cysec.source_of_income"),translationKey:"source_of_income",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},source_of_income_details:{title:__("reg.questionary.cysec.source_of_income"),translationKey:"source_of_income",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.so_other")),options:{defaultValue:__("registration.field.label.so_other")},dependent:[{name:"source_of_income",handler:function(e){if("so_other"===e.value())return e.disable(),e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(u.checkDependentFieldOnBlur,"source_of_income")},placeholder:__("registration.field.value.provide"),disable:!0},estimated_gross_income:{title:__("reg.questionary.cysec.estimated_gross_income"),translationKey:"estimated_gross_income",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},estimated_gross_income_details:{title:__("reg.questionary.cysec.estimated_gross_income"),translationKey:"estimated_gross_income",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.egi_o_250000")),options:{defaultValue:__("registration.field.label.egi_o_250000")},dependent:[{name:"estimated_gross_income",handler:function(e){if("egi_o_250000"===e.value())return e.disable(),e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(u.checkDependentFieldOnBlur,"estimated_gross_income")},placeholder:__("registration.field.value.provide"),disable:!0},net_worth:{title:__("reg.questionary.cysec.net_worth"),translationKey:"net_worth",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},net_worth_details:{title:__("reg.questionary.cysec.net_worth"),translationKey:"net_worth",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.nw_o_1000000")),options:{defaultValue:__("registration.field.label.nw_o_1000000")},dependent:[{name:"net_worth",handler:function(e){if("nw_o_1000000"===e.value())return e.disable(),e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(u.checkDependentFieldOnBlur,"net_worth")},placeholder:__("registration.field.value.provide"),disable:!0},orin_of_funds:{title:__("reg.questionary.cysec.orin_of_funds"),translationKey:"orin_of_funds",translationGroupPrefix:"reg.questionary.cysec.orin_of_funds",template:d.multiCheckBox,validation:_.multiCheckBoxNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},education_level:{translationKey:"education_level",template:d.selectBox,validation:_.selectNotEmpty("education_level"),disable:!1,events:{onchange:u.validateFieldOnChange}},study_field:{title:__("registration.field.label.study_field"),translationKey:"study_field",template:d.selectBoxOverflowWidth,validation:_.selectNotEmpty("study_field"),dependent:[{name:"education_level",handler:h.updateStudyFieldAfterChangeEducationLevel}],disable:"select-disabled",events:{onchange:u.validateFieldOnChange}},study_field_details:{title:__("registration.field.label.study_field"),translationKey:"study_field_other",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.study_field_other")),options:{defaultValue:__("registration.field.label.study_field_other")},dependent:[{name:"study_field",handler:h.updateStudyFieldDetailsAfterChangeStudyField},{name:"education_level",handler:h.updateStudyFieldDetailsAfterChangeEducationLevel}],events:{onblur:a.partial(u.checkDependentFieldOnBlur,"study_field")},placeholder:__("registration.field.value.provide"),disable:!0},fx_volume_experience:{title:__("reg.questionary.cysec.fx_volume_experience"),translationKey:"fx_volume_experience",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},csb_volume_experience:{title:__("reg.questionary.cysec.csb_volume_experience"),translationKey:"csb_volume_experience",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},fx_experience:{title:__("reg.questionary.cysec.fx_experience"),translationKey:"fx_experience",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},csb_experience:{title:__("reg.questionary.cysec.csb_experience"),translationKey:"csb_experience",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},trade_kind:{title:__("reg.questionary.cysec.trade_kind"),translationKey:"trade_kind",template:d.selectBoxOverflowWidth,validation:_.selectNotEmpty(),disable:!1,dependent:[{name:"csb_experience",handler:y.tradeKindNone},{name:"fx_experience",handler:y.tradeKindNone},{name:"csb_volume_experience",handler:y.tradeKindNone},{name:"fx_volume_experience",handler:y.tradeKindNone}],events:{onchange:u.validateFieldOnChange}},low_score_disclaimer:{title:"",translationKey:"",template:v,validation:{},disable:!1,dependent:[]},termsAndConditions:{translationKey:"terms_and_conditions",options:{value:"",text:"TRANS_OPTION_TEXT_KEY",parseString:!0},template:d.checkBox,validation:{rules:{not_equals:["false",__("registration.warning.this_field_is_required",__("registration.field.label.termsAndConditions"))]},filters:[]},disable:!1,events:{onchange:u.validateFieldOnChange}},quiz_1:{title:__("reg.questionary.cysec.quiz_1"),translationKey:"quiz_1",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},quiz_2:{title:__("reg.questionary.cysec.quiz_2"),translationKey:"quiz_2",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},quiz_3:{title:__("reg.questionary.cysec.quiz_3"),translationKey:"quiz_3",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},quiz_4:{title:__("reg.questionary.cysec.quiz_4"),translationKey:"quiz_4",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},quiz_5:{title:__("reg.questionary.cysec.quiz_5"),translationKey:"quiz_5",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}}};var e}})}.call(t,n,t,e))||(e.exports=a)}).call(this,n(1))},2593:function(e,t,n){(function(i){var a;void 0===(a=function(e,t,i){var a=n(1),s=n(49),o=n(6),l=n(51),r=n(14),d=n(163),_=n(875),c=n(9),u=n(1183),p=n(2).EMPTY,m=n(2187),h=n(2192),f=p,v=r.isRegistrationLowScoreDisclaimerEnabled()?a.template('<div class="low-score-disclaimer"><%=__("registration.step.disclaimer.financial_information")%></div>'):a.template(""),y={tradeKindNone:function(e){this.$el.find("[value=tk_none]").removeAttr("disabled"),this.$el.find("[data-value=tk_none]").removeClass("hidden"),this.$el.find("[value=tk_my_own]").removeAttr("disabled"),this.$el.find("[data-value=tk_my_own]").removeClass("hidden"),this.$el.find("[value=tk_with_advice]").removeAttr("disabled"),this.$el.find("[data-value=tk_with_advice]").removeClass("hidden");var t=e.options.form._fields;if(u.isFieldEquals(t.csb_experience,[f])||u.isFieldEquals(t.fx_experience,[f])||u.isFieldEquals(t.csb_volume_experience,[f])||u.isFieldEquals(t.fx_volume_experience,[f]))return this.setDefaultValue(),this.disable(),this.$el.addClass("select-disabled");this.enable(),this.$el.removeClass("select-disabled"),u.isFieldEquals(t.csb_experience,[f,"ce_none"])&&u.isFieldEquals(t.fx_experience,[f,"fe_none"])&&u.isFieldEquals(t.csb_volume_experience,[f,"cve_none"])&&u.isFieldEquals(t.fx_volume_experience,[f,"fve_none"])||(this.$el.find("[value=tk_none]").attr("disabled","disabled"),this.$el.find("[data-value=tk_none]").addClass("hidden")),u.isFieldEquals(t.fx_volume_experience,["fve_none"])&&u.isFieldEquals(t.csb_volume_experience,["cve_none"])&&(this.$el.find("[value=tk_my_own]").attr("disabled","disabled"),this.$el.find("[data-value=tk_my_own]").addClass("hidden"),this.$el.find("[value=tk_with_advice]").attr("disabled","disabled"),this.$el.find("[data-value=tk_with_advice]").addClass("hidden"))},showHaveSecondTinCountry:function(e){var t=this.getDependentFieldByName("have_tin"),n=this.getDependentFieldByName("have_second_tin");u.isFieldEquals(t,["have_tin_yes"])&&u.isFieldEquals(n,["have_second_tin_yes"])?this.enable():(this.setDefaultValueWithFireChangeEvent(),this.validate(),this.disable())},updateHaveSecondTinAfterChangeHaveTin:function(e){var t=this.getDependentFieldByName("have_tin");u.isFieldEquals(t,["have_tin_yes"])?this.enable():this.disable()},showTinAbsenceReason:function(e){var t=this.getDependentFieldByName("have_tin");u.isFieldEquals(t,["have_tin_no"])?this.enable():this.disable()},updateTinAbsenceReasonDetailsAfterChangeTinAbsenceReason:function(e){var t=this.getDependentFieldByName("have_tin"),n=this.getDependentFieldByName("tin_absence_reason");if(u.isFieldEquals(t,["have_tin_no"])&&u.isFieldEquals(n,["tin_absence_reason_other"]))return n.disable(),this.enable(),this.$el.css("display","block"),void this.focus();u.isFieldEquals(t,["have_tin_no"])&&n.enable(),this.$el.css("display","none")},updateTinAbsenceReasonDetailsAfterChangeHaveTin:function(e){var t=this.getDependentFieldByName("have_tin"),n=this.getDependentFieldByName("tin_absence_reason");if(!u.isFieldEquals(t,["have_tin_no"]))return this.disable(),this.setDefaultValueWithFireChangeEvent(),n.setDefaultValueWithFireChangeEvent(),void this.$el.css("display","none");u.isFieldEquals(n,["tin_absence_reason_other"])&&(n.disable(),this.enable(),this.$el.css("display","block"))},updateHaveSecondTinCountrySource:function(e,t){var n=this;e.forEach((function(e){n.$el.find('[value="'+e+'"]').removeAttr("disabled"),n.$el.find('[data-value="'+e+'"]').removeClass("hidden")}));var i=t.getValue().toLowerCase(),a=this.getValue();this.$el.find('[value="'+i+'"]').attr("disabled","disabled"),this.$el.find('[data-value="'+i+'"]').addClass("hidden"),a===i&&this.setDefaultValueWithFireChangeEvent()},activateWorkCountriesOnlyIfEmployed:function(e){if(u.isFieldEquals(e,["es_employed","es_self_employed"])){var t=this.getValue();return(a.isEmpty(t)||t[0]===f)&&this.setValue(c.getCountry().toLowerCase()),this.enable(),void this.$el.removeClass("select-disabled")}this.disable(),this.setDefaultValueWithFireChangeEvent(),this.$el.addClass("select-disabled")},activateOnlyIfEmployed:function(e){if(u.isFieldEquals(e,["es_employed","es_self_employed"]))return this.enable(),void this.$el.removeClass("select-disabled");this.disable(),this.setDefaultValueWithFireChangeEvent(),this.$el.addClass("select-disabled")}};function g(e){var t=a.pluck(e,"code").sort((function(e,t){return __("country.name."+e).localeCompare(__("country.name."+t))}));return t.unshift(p),t}i.exports=s.extend({getAllCountries:function(){return this.get("allCountries")},getAllowedCountries:function(){return this.get("allowedCountries")},getAllowedCountryCodes:function(){return a.pluck(this.getAllowedCountries(),"code")},getSortedAllowedCountryCodes:function(){return this.getAllowedCountryCodes().sort((function(e,t){return __("country.name."+e).localeCompare(__("country.name."+t))}))},getCountryCodes:function(){return this.getSortedAllowedCountryCodes().map((function(e){return e.toLowerCase()}))},getCountriesPhoneCodes:function(){return this.get("countriesPhoneCodes")},getPhoneToCountry:function(){return this.get("phoneToCountry")},getStepModels:function(){return{personal_information:new m}},getFormConfig:function(){return{firstName:{translationKey:"first_name",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("first_name"),max_length:_.maxLength(50,"first_name")},filters:["string"]},disable:!1,events:{onblur:u.checkInputOnBlur}},lastName:{translationKey:"last_name",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("last_name"),max_length:_.maxLength(50,"last_name")},filters:["string"]},disable:!1,events:{onblur:u.checkInputOnBlur}},phone:{translationKey:"phone",options:{countries:this.getCountriesPhoneCodes(),phoneToCountry:this.getPhoneToCountry()},template:d.phoneBox,validation:{rules:{not_empty:_.notEmpty("phone"),numeric:_.numeric("phone"),validateLength:function(e){return e.phone.length>20?__("registration.phone.max",20):e.phoneInput.length<6?__("registration.phone.min",6):a.isEmpty(e.phoneSelect)?_.notEmpty("phone"):null}},filters:[]},disable:!1},birthDate:{translationKey:"date_of_birth",options:{minAge:18,maxAge:87,moment:o,splitByComma:l.splitByComma},template:d.dateBox,validation:{rules:{not_empty:_.notEmpty("date_of_birth")},filters:[]},disable:!1},address:{translationKey:"address",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("address"),max_length:_.maxLength(50,"address")},filters:["string"]},disable:!1,events:{onblur:u.checkInputOnBlur}},zipCode:{translationKey:"zip_code",template:d.inputBox,validation:_.zipCode("zip_code"),disable:!1,events:{onblur:u.checkInputOnBlur}},city:{translationKey:"city",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("city")},filters:["string"]},disable:!1,events:{onblur:u.checkInputOnBlur}},country:{translationKey:"country",translationGroupPrefix:"country.name",options:g(this.getAllowedCountries()),template:d.countriesSelectBox,validation:_.countrySelectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},citizenship:{title:__("registration.field.label.citizenship"),translationKey:"country",translationGroupPrefix:"country.name",options:g(this.getAllCountries()),template:d.countriesSelectBox,validation:_.countrySelectNotEmpty("citizenship"),disable:!1,events:{onchange:u.validateFieldOnChange}},have_tin:{title:__("reg.questionary.cysec.have_tin"),translationKey:"have_tin",link:{href:__("reg.questionary.cysec.have_tin.link.href"),text:__("reg.questionary.cysec.have_tin.learn_more")},options:[{value:"have_tin_no",text:__("no")},{value:"have_tin_yes",text:__("yes")}],details:{option:"have_tin_yes",placeholder:__("reg.questionary.cysec.have_tin.tin"),max_length:50,type:"input"},template:d.yesNoDetails,disable:!1},have_second_tin:{title:__("reg.questionary.cysec.have_second_tin"),translationKey:"have_second_tin",options:[{value:"have_second_tin_no",text:__("no")},{value:"have_second_tin_yes",text:__("yes")}],details:{option:"have_second_tin_yes",placeholder:__("reg.questionary.cysec.have_second_tin.tin"),max_length:50,type:"input"},template:d.yesNoDetails,dependent:[{name:"have_tin",handler:y.updateHaveSecondTinAfterChangeHaveTin}],disable:!0},have_second_tin_country:{title:__("reg.questionary.cysec.have_second_tin_country"),translationKey:"have_second_tin_country",translationGroupPrefix:"country.name",options:this.getCountryCodes(),template:d.countriesSelectBox,validation:_.countrySelectNotEmpty(),dependent:[{name:"have_second_tin",handler:y.showHaveSecondTinCountry},{name:"have_tin",handler:y.showHaveSecondTinCountry},{name:"country",handler:a.partial(y.updateHaveSecondTinCountrySource,this.getCountryCodes())}],disable:!0,events:{onchange:u.validateFieldOnChange}},tin_absence_reason:{title:__("reg.questionary.cysec.tin_absence_reason"),translationKey:"tin_absence_reason",template:d.selectBox,validation:_.selectNotEmpty(),dependent:[{name:"have_tin",handler:y.showTinAbsenceReason}],disable:!0,events:{onchange:u.validateFieldOnChange}},tin_absence_reason_details:{title:__("reg.questionary.cysec.tin_absence_reason"),translationKey:"tin_absence_reason",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty()}},dependent:[{name:"tin_absence_reason",handler:y.updateTinAbsenceReasonDetailsAfterChangeTinAbsenceReason},{name:"have_tin",handler:y.updateTinAbsenceReasonDetailsAfterChangeHaveTin}],events:{onblur:a.partial(u.validateFieldOnChange,"tin_absence_reason")},placeholder:__("registration.field.value.provide"),disable:!0},us_resident:{title:__("reg.questionary.cysec.us_resident"),translationKey:"us_resident",link:{href:__("reg.questionary.cysec.us_resident.link.href"),text:__("reg.questionary.cysec.us_resident.learn_more")},options:[{value:"ur_no",text:__("no")},{value:"ur_yes",text:__("yes")}],details:{option:"ur_yes",placeholder:__("reg.questionary.cysec.us_resident.tin"),max_length:50,type:"input"},template:d.yesNoDetails,disable:!1},pep:{title:__("reg.questionary.cysec.pep"),translationKey:"pep",link:{href:__("reg.questionary.cysec.pep.link.href"),text:__("reg.questionary.cysec.pep.click_here")},options:[{value:"pep_no",text:__("no")},{value:"pep_yes",text:__("yes")}],details:{option:"pep_yes",placeholder:__("reg.questionary.cysec.pep.provide"),max_length:1e3,type:"input"},template:d.yesNoDetails,disable:!1},employment_status:{translationKey:"employment_status",template:d.selectBox,validation:_.selectNotEmpty("employment_status"),disable:!1,events:{onchange:u.validateFieldOnChange}},trading_purpose:{title:__("reg.questionary.cysec.trading_purpose"),translationKey:"trading_purpose",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},trading_purpose_details:{title:__("reg.questionary.cysec.trading_purpose"),translationKey:"trading_purpose",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.industry_other")),options:{defaultValue:__("registration.field.label.industry_other")},dependent:[{name:"trading_purpose",handler:function(e){if("tp_other"===e.value())return e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(u.checkDependentFieldOnBlur,"trading_purpose")},placeholder:__("registration.field.value.provide"),disable:!0},anticipated_turnover:{title:__("reg.questionary.cysec.anticipated_turnover"),translationKey:"anticipated_turnover",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},anticipated_turnover_details:{title:__("reg.questionary.cysec.anticipated_turnover"),translationKey:"anticipated_turnover",template:d.inputBox,validation:{rules:{max_length:_.maxLength(50,"anticipated_turnover_details")},filters:["string"]},dependent:[{name:"anticipated_turnover",handler:function(e){if("at_o_1000000"===e.value())return e.disable(),e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(u.checkDependentFieldOnBlur,"anticipated_turnover")},placeholder:__("registration.field.value.provide"),disable:!0},transactions_nature:{title:__("reg.questionary.cysec.transactions_nature"),translationKey:"transactions_nature",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},transactions_nature_details:{title:__("reg.questionary.cysec.transactions_nature"),translationKey:"transactions_nature",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.tn_other")),options:{defaultValue:__("registration.field.label.tn_other")},dependent:[{name:"transactions_nature",handler:function(e){if("tn_other"===e.value())return e.disable(),e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(u.checkDependentFieldOnBlur,"transactions_nature")},placeholder:__("registration.field.value.provide"),disable:!0},industry:{title:__("reg.questionary.cysec.industry"),translationKey:"industry",template:d.selectBox,validation:_.selectNotEmpty(),dependent:[{name:"employment_status",handler:y.activateOnlyIfEmployed}],disable:"select-disabled",events:{onchange:u.validateFieldOnChange}},industry_details:{title:__("reg.questionary.cysec.industry"),translationKey:"industry",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.i_other")),dependent:[{name:"industry",handler:function(e){if("i_other"===e.value())return e.disable(),e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(u.checkDependentFieldOnBlur,"industry")},placeholder:__("registration.field.value.provide"),disable:!0},work_countries:{title:__("reg.questionary.cysec.work_countries"),translationKey:"work_countries",translationGroupPrefix:"country.name",template:d.multiSelect,validation:_.multiSelectNotEmpty(),options:(e=g(this.getAllCountries()),a.map(e,(function(e){return e===p?e:e.toLowerCase()}))),dependent:[{name:"employment_status",handler:y.activateWorkCountriesOnlyIfEmployed}],disable:"select-disabled"},work_position:{title:__("reg.questionary.cysec.work_position"),translationKey:"work_position",template:d.selectBox,validation:_.selectNotEmpty(),dependent:[{name:"employment_status",handler:y.activateOnlyIfEmployed}],disable:"select-disabled",events:{onchange:u.validateFieldOnChange}},work_position_details:{title:__("reg.questionary.cysec.work_position"),translationKey:"work_position",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.work_position_other")),dependent:[{name:"work_position",handler:function(e){if("work_position_other"===e.value())return e.disable(),e.$el.css("visibility","hidden"),this.enable(),void this.focus();e.$el.css("visibility","visible"),this.disable()}}],events:{onblur:a.partial(u.checkDependentFieldOnBlur,"work_position")},placeholder:__("registration.field.value.provide"),disable:!0},source_of_income:{title:__("reg.questionary.cysec.source_of_income"),translationKey:"source_of_income",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},source_of_income_details:{title:__("reg.questionary.cysec.source_of_income"),translationKey:"source_of_income",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.so_other")),options:{defaultValue:__("registration.field.label.so_other")},dependent:[{name:"source_of_income",handler:function(e){if("so_other"===e.value())return e.disable(),e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(u.checkDependentFieldOnBlur,"source_of_income")},placeholder:__("registration.field.value.provide"),disable:!0},estimated_gross_income:{title:__("reg.questionary.cysec.estimated_gross_income"),translationKey:"estimated_gross_income",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},estimated_gross_income_details:{title:__("reg.questionary.cysec.estimated_gross_income"),translationKey:"estimated_gross_income",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.egi_o_250000")),options:{defaultValue:__("registration.field.label.egi_o_250000")},dependent:[{name:"estimated_gross_income",handler:function(e){if("egi_o_250000"===e.value())return e.disable(),e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(u.checkDependentFieldOnBlur,"estimated_gross_income")},placeholder:__("registration.field.value.provide"),disable:!0},net_worth:{title:__("reg.questionary.cysec.net_worth"),translationKey:"net_worth",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},net_worth_details:{title:__("reg.questionary.cysec.net_worth"),translationKey:"net_worth",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.nw_o_1000000")),options:{defaultValue:__("registration.field.label.nw_o_1000000")},dependent:[{name:"net_worth",handler:function(e){if("nw_o_1000000"===e.value())return e.disable(),e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(u.checkDependentFieldOnBlur,"net_worth")},placeholder:__("registration.field.value.provide"),disable:!0},orin_of_funds:{title:__("reg.questionary.cysec.orin_of_funds"),translationKey:"orin_of_funds",translationGroupPrefix:"reg.questionary.cysec.orin_of_funds",template:d.multiCheckBox,validation:_.multiCheckBoxNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},education_level:{translationKey:"education_level",template:d.selectBox,validation:_.selectNotEmpty("education_level"),disable:!1,events:{onchange:u.validateFieldOnChange}},study_field:{title:__("registration.field.label.study_field"),translationKey:"study_field",template:d.selectBoxOverflowWidth,validation:_.selectNotEmpty("study_field"),dependent:[{name:"education_level",handler:h.updateStudyFieldAfterChangeEducationLevel}],disable:"select-disabled",events:{onchange:u.validateFieldOnChange}},study_field_details:{title:__("registration.field.label.study_field"),translationKey:"study_field_other",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.study_field_other")),options:{defaultValue:__("registration.field.label.study_field_other")},dependent:[{name:"study_field",handler:h.updateStudyFieldDetailsAfterChangeStudyField},{name:"education_level",handler:h.updateStudyFieldDetailsAfterChangeEducationLevel}],events:{onblur:a.partial(u.checkDependentFieldOnBlur,"study_field")},placeholder:__("registration.field.value.provide"),disable:!0},fx_volume_experience:{title:__("reg.questionary.cysec.fx_volume_experience"),translationKey:"fx_volume_experience",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},csb_volume_experience:{title:__("reg.questionary.cysec.csb_volume_experience"),translationKey:"csb_volume_experience",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},fx_experience:{title:__("reg.questionary.cysec.fx_experience"),translationKey:"fx_experience",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},csb_experience:{title:__("reg.questionary.cysec.csb_experience"),translationKey:"csb_experience",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},trade_kind:{title:__("reg.questionary.cysec.trade_kind"),translationKey:"trade_kind",template:d.selectBoxOverflowWidth,validation:_.selectNotEmpty(),disable:!1,dependent:[{name:"csb_experience",handler:y.tradeKindNone},{name:"fx_experience",handler:y.tradeKindNone},{name:"csb_volume_experience",handler:y.tradeKindNone},{name:"fx_volume_experience",handler:y.tradeKindNone}],events:{onchange:u.validateFieldOnChange}},low_score_disclaimer:{title:"",translationKey:"",template:v,validation:{},disable:!1,dependent:[]},termsAndConditions:{translationKey:"terms_and_conditions",options:{value:"",text:"TRANS_OPTION_TEXT_KEY",parseString:!0},template:d.checkBox,validation:{rules:{not_equals:["false",__("registration.warning.this_field_is_required",__("registration.field.label.termsAndConditions"))]},filters:[]},disable:!1,events:{onchange:u.validateFieldOnChange}},quiz_1:{title:__("reg.questionary.cysec.quiz_1"),translationKey:"quiz_1",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},quiz_2:{title:__("reg.questionary.cysec.quiz_2"),translationKey:"quiz_2",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},quiz_3:{title:__("reg.questionary.cysec.quiz_3"),translationKey:"quiz_3",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},quiz_4:{title:__("reg.questionary.cysec.quiz_4"),translationKey:"quiz_4",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},quiz_5:{title:__("reg.questionary.cysec.quiz_5"),translationKey:"quiz_5",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}}};var e}})}.call(t,n,t,e))||(e.exports=a)}).call(this,n(1))},2594:function(e,t,n){(function(i){var a;void 0===(a=function(e,t,i){var a=n(1),s=n(49),o=n(6),l=n(51),r=n(14),d=n(163),_=n(875),c=n(2200),u=n(9),p=n(1183),m=n(2187),h=n(2243),f=n(2192),v=r.isRegistrationLowScoreDisclaimerEnabled()?a.template('<div class="low-score-disclaimer"><%=__("registration.step.disclaimer.financial_information")%></div>'):a.template("");var y={tradeKindNone:function(e){this.$el.find("[value=tk_none]").removeAttr("disabled"),this.$el.find("[data-value=tk_none]").removeClass("hidden"),this.$el.find("[value=tk_my_own]").removeAttr("disabled"),this.$el.find("[data-value=tk_my_own]").removeClass("hidden"),this.$el.find("[value=tk_with_advice]").removeAttr("disabled"),this.$el.find("[data-value=tk_with_advice]").removeClass("hidden");var t=e.options.form._fields;if(p.isFieldEquals(t.csb_experience,["EMPTY"])||p.isFieldEquals(t.fx_experience,["EMPTY"])||p.isFieldEquals(t.csb_volume_experience,["EMPTY"])||p.isFieldEquals(t.fx_volume_experience,["EMPTY"]))return this.setDefaultValue(),this.disable(),this.$el.addClass("select-disabled");this.enable(),this.$el.removeClass("select-disabled"),p.isFieldEquals(t.csb_experience,["EMPTY","ce_none"])&&p.isFieldEquals(t.fx_experience,["EMPTY","fe_none"])&&p.isFieldEquals(t.csb_volume_experience,["EMPTY","cve_none"])&&p.isFieldEquals(t.fx_volume_experience,["EMPTY","fve_none"])||(this.$el.find("[value=tk_none]").attr("disabled","disabled"),this.$el.find("[data-value=tk_none]").addClass("hidden")),p.isFieldEquals(t.fx_volume_experience,["fve_none"])&&p.isFieldEquals(t.csb_volume_experience,["cve_none"])&&(this.$el.find("[value=tk_my_own]").attr("disabled","disabled"),this.$el.find("[data-value=tk_my_own]").addClass("hidden"),this.$el.find("[value=tk_with_advice]").attr("disabled","disabled"),this.$el.find("[data-value=tk_with_advice]").addClass("hidden"))},showNationalCountryIdentifier:function(e){if(p.isFieldEquals(e,["IT"]))return this.enable(),this.setTooltipMessage(__("registration.field.explanation.national_country_identifier")),void this.showNotErrorTooltip();this.hideTooltip(),this.setDefaultValueWithFireChangeEvent(),this.validate(),this.disable()},afterChangeTinAbsenceReason:function(e){if(p.isFieldEquals(e,["NOT_REQUIRED"]))return e.setTooltipMessage(__("reg.questionary.cysec.tin_absence_reason.not_required.tooltip")),void e.showNotErrorTooltip();e.hideTooltip()},updatePrimaryTinAfterChangeHavePrimaryTin:function(e){"IT"!==u.getCountry()||"IT"!==u.getCitizenship()||a.isEmpty(u.getNationalCountryIdentifier())||(this.$el.addClass("input-disabled"),e.$el.addClass("select-disabled")),p.isFieldEquals(e,["have_primary_tin_yes"])?this.enable():(this.setDefaultValueWithFireChangeEvent(),this.disable())},updatePrimaryTinAfterChangePrimaryTinTaxJurisdiction:function(e){var t=e.getValue().toUpperCase(),n=c.getRulesByCountryCode(t,__("registration.warning.primary_tin"));this.setRules(n)},updatePrimaryTinAbsenceReasonAfterChangeHavePrimaryTin:function(e){p.isFieldEquals(e,["have_primary_tin_no"])?this.enable():(this.setDefaultValueWithFireChangeEvent(),this.disable())},updateSecondaryTinTaxJurisdictionAfterChangeHavePrimaryTin:function(e){p.isFieldEquals(e,["have_primary_tin_yes"])?this.enable():(this.setDefaultValueWithFireChangeEvent(),this.disable())},updateSecondaryTinAfterChangeSecondaryTinTaxJurisdiction:function(e){if(!p.isFieldEquals(e,["EMPTY","00"])){var t=e.getValue().toUpperCase(),n=c.getRulesByCountryCode(t,__("registration.warning.secondary_tin"));return this.setRules(n),this.enable(),void this.setDefaultState()}this.setDefaultValueWithFireChangeEvent(),this.disable()},updateSecondaryTinTaxJurisdictionSource:function(e){var t=this;e.forEach((function(e){t.$el.find('[value="'+e+'"]').removeAttr("disabled"),t.$el.find('[data-value="'+e+'"]').removeClass("hidden")}));var n=u.getCountry().toUpperCase();this.$el.find('[value="'+n+'"]').attr("disabled","disabled"),this.$el.find('[data-value="'+n+'"]').addClass("hidden")}};function g(e){var t=a.pluck(e,"code").sort((function(e,t){return __("country.name."+e).localeCompare(__("country.name."+t))}));return t.unshift("EMPTY"),t}i.exports=s.extend({getAllCountries:function(){return this.get("allCountries")},getAllCountryCodes:function(){return a.pluck(this.getAllCountries(),"code")},getAllowedCountries:function(){return this.get("allowedCountries")},getCountriesPhoneCodes:function(){return this.get("countriesPhoneCodes")},getPhoneToCountry:function(){return this.get("phoneToCountry")},getStepModels:function(){return{personal_information:new m,tax_information:new h}},getFormConfig:function(){return{firstName:{translationKey:"first_name",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("first_name"),max_length:_.maxLength(50,"first_name")},filters:["string"]},disable:!1,events:{onblur:p.checkInputOnBlur}},lastName:{translationKey:"last_name",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("last_name"),max_length:_.maxLength(50,"last_name")},filters:["string"]},disable:!1,events:{onblur:p.checkInputOnBlur}},phone:{translationKey:"phone",options:{countries:this.getCountriesPhoneCodes(),phoneToCountry:this.getPhoneToCountry()},template:d.phoneBox,validation:{rules:{not_empty:_.notEmpty("phone"),numeric:_.numeric("phone"),validateLength:function(e){return e.phone.length>20?__("registration.phone.max",20):e.phoneInput.length<6?__("registration.phone.min",6):a.isEmpty(e.phoneSelect)?_.notEmpty("phone"):null}},filters:[]},disable:!1},birthDate:{translationKey:"date_of_birth",options:{minAge:18,maxAge:87,moment:o,splitByComma:l.splitByComma},template:d.dateBox,validation:{rules:{not_empty:_.notEmpty("date_of_birth")},filters:[]},disable:!1},address:{translationKey:"address",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("address"),max_length:_.maxLength(50,"address")},filters:["string"]},disable:!1,events:{onblur:p.checkInputOnBlur}},zipCode:{translationKey:"zip_code",template:d.inputBox,validation:_.zipCode("zip_code"),disable:!1,events:{onblur:p.checkInputOnBlur}},city:{translationKey:"city",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("city")},filters:["string"]},disable:!1,events:{onblur:p.checkInputOnBlur}},country:{translationKey:"country",translationGroupPrefix:"country.name",options:g(this.getAllowedCountries()),template:d.countriesSelectBox,validation:_.selectNotEmpty("country"),disable:!1,events:{onchange:p.validateFieldOnChange}},citizenship:{title:__("registration.field.label.citizenship"),translationKey:"country",translationGroupPrefix:"country.name",options:g(this.getAllCountries()),template:d.countriesSelectBox,validation:_.selectNotEmpty("citizenship"),disable:!1,events:{onchange:p.validateFieldOnChange}},nationalCountryIdentifier:{title:__("registration.field.label.national_country_identifier"),template:d.inputBox,dependent:[{name:"citizenship",handler:y.showNationalCountryIdentifier}],validation:{rules:{regexp:[/^$|^[a-zA-Z]{6}[a-zA-Z0-9]{10}$/,__("registration.warning.national_country_identifier")]},filters:["string"]},events:{onblur:p.checkInputOnBlur},disable:!0},primaryTinTaxJurisdiction:{title:__("registration.field.label.primary_tin_tax_jurisdiction"),translationKey:"primary_tin_tax_jurisdiction",translationGroupPrefix:"tax_jurisdiction",options:g(this.getAllCountries()),template:d.countriesSelectBox,validation:_.selectNotEmpty(),disable:"select-disabled",events:{onchange:p.validateFieldOnChange}},have_primary_tin:{title:__("registration.field.label.have_primary_tin"),translationKey:"have_primary_tin",template:d.selectBox,validation:_.selectNotEmpty(),dependent:[{name:"tinAbsenceReason",handler:y.afterChangeTinAbsenceReason}],disable:!1,events:{onchange:p.validateFieldOnChange}},primaryTin:{title:__("registration.field.label.primary_tin"),template:d.inputBox,validation:{rules:{},filters:c.getFilters},dependent:[{name:"have_primary_tin",handler:y.updatePrimaryTinAfterChangeHavePrimaryTin},{name:"primaryTinTaxJurisdiction",handler:y.updatePrimaryTinAfterChangePrimaryTinTaxJurisdiction}],events:{onblur:p.checkInputOnBlur},disable:!0},tinAbsenceReason:{title:__("registration.field.label.tin_absence_reason"),translationKey:"tin_absence_reason",template:d.selectBox,validation:_.selectNotEmpty(),dependent:[{name:"have_primary_tin",handler:y.updatePrimaryTinAbsenceReasonAfterChangeHavePrimaryTin}],disable:!0,events:{onchange:p.validateFieldOnChange}},secondaryTinTaxJurisdiction:{title:__("registration.field.label.secondary_tin_tax_jurisdiction"),translationKey:"country",translationGroupPrefix:"tax_jurisdiction",options:(e=g(this.getAllCountries()),["00"].concat(e)),template:d.countriesSelectBox,validation:_.selectNotEmpty(),dependent:[{name:"have_primary_tin",handler:y.updateSecondaryTinTaxJurisdictionAfterChangeHavePrimaryTin},{name:"primaryTinTaxJurisdiction",handler:a.partial(y.updateSecondaryTinTaxJurisdictionSource,this.getAllCountryCodes())}],disable:!0,events:{onchange:p.validateFieldOnChange}},secondaryTin:{title:__("registration.field.label.secondary_tin"),template:d.inputBox,validation:{rules:{},filters:c.getFilters},dependent:[{name:"secondaryTinTaxJurisdiction",handler:y.updateSecondaryTinAfterChangeSecondaryTinTaxJurisdiction}],disable:!0,events:{onblur:p.checkInputOnBlur}},fatca:{translationKey:"fatca",options:[{value:"NO",text:__("no")},{value:"YES",text:__("yes")},{value:__("registration.field.fatca.link.href"),text:__("registration.field.label.fatca.learn_more")}],template:d.fatcaBox,validation:_.radioNotEmpty("fatca"),disable:!1,events:{onchange:p.validateFieldOnChange}},tax_information_disclaimer:{template:a.template('<div class="disclaimer"><%=__("registration.step.disclaimer.tax_information")%></div>'),disable:!1},employment_status:{translationKey:"employment_status",template:d.selectBox,validation:_.selectNotEmpty("employment_status"),disable:!1,events:{onchange:p.validateFieldOnChange}},profession:{title:__("reg.questionary.cysec.profession"),translationKey:"profession",template:d.selectBoxOverflowWidth,validation:_.selectNotEmpty(),dependent:[{name:"employment_status",handler:function(e){return"EMPTY"===e.value()?(this.disable(),void this.$el.addClass("select-disabled")):"es_employed"===e.value()||"es_self_employed"===e.value()?(this.$el.removeClass("select-disabled"),this.enable()):(this.setDefaultValue(),this.disable(),void this.$el.addClass("select-disabled"))}}],disable:"select-disabled",events:{onchange:p.validateFieldOnChange}},annual_income:{title:__("reg.questionary.cysec.annual_income"),translationKey:"annual_income",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},intend_invest:{title:__("reg.questionary.cysec.intend_invest"),translationKey:"intend_invest",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},trading_purpose:{title:__("reg.questionary.cysec.trading_purpose"),translationKey:"trading_purpose",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},trading_purpose_details:{title:__("reg.questionary.cysec.trading_purpose"),translationKey:"trading_purpose",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.industry_other")),options:{defaultValue:__("registration.field.label.industry_other")},dependent:[{name:"trading_purpose",handler:function(e){if("tp_other"===e.value())return e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(p.checkDependentFieldOnBlur,"trading_purpose")},placeholder:__("registration.field.value.provide"),disable:!0},savings_investments:{title:__("reg.questionary.cysec.savings_investments"),translationKey:"savings_investments",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},funds_source:{title:__("reg.questionary.cysec.funds_source"),translationKey:"funds_source",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},funds_source_details:{title:__("reg.questionary.cysec.funds_source"),translationKey:"trading_purpose",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.funds_source")),options:{defaultValue:__("registration.field.label.funds_source")},dependent:[{name:"funds_source",handler:function(e){if("fs_other"===e.value())return e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(p.checkDependentFieldOnBlur,"funds_source")},disable:!0},education_level:{translationKey:"education_level",template:d.selectBox,validation:_.selectNotEmpty("education_level"),disable:!1,events:{onchange:p.validateFieldOnChange}},study_field:{title:__("registration.field.label.study_field"),translationKey:"study_field",template:d.selectBoxOverflowWidth,validation:_.selectNotEmpty("study_field"),dependent:[{name:"education_level",handler:f.updateStudyFieldAfterChangeEducationLevel}],disable:"select-disabled",events:{onchange:p.validateFieldOnChange}},study_field_details:{title:__("registration.field.label.study_field"),translationKey:"study_field_other",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.study_field_other")),options:{defaultValue:__("registration.field.label.study_field_other")},dependent:[{name:"study_field",handler:f.updateStudyFieldDetailsAfterChangeStudyField},{name:"education_level",handler:f.updateStudyFieldDetailsAfterChangeEducationLevel}],events:{onblur:a.partial(p.checkDependentFieldOnBlur,"study_field")},placeholder:__("registration.field.value.provide"),disable:!0},fx_volume_experience:{title:__("reg.questionary.cysec.fx_volume_experience"),translationKey:"fx_volume_experience",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},csb_volume_experience:{title:__("reg.questionary.cysec.csb_volume_experience"),translationKey:"csb_volume_experience",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},fx_experience:{title:__("reg.questionary.cysec.fx_experience"),translationKey:"fx_experience",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},csb_experience:{title:__("reg.questionary.cysec.csb_experience"),translationKey:"csb_experience",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},trade_kind:{title:__("reg.questionary.cysec.trade_kind"),translationKey:"trade_kind",template:d.selectBoxOverflowWidth,validation:_.selectNotEmpty(),disable:"select-disabled",dependent:[{name:"csb_experience",handler:y.tradeKindNone},{name:"fx_experience",handler:y.tradeKindNone},{name:"csb_volume_experience",handler:y.tradeKindNone},{name:"fx_volume_experience",handler:y.tradeKindNone}],events:{onchange:p.validateFieldOnChange}},low_score_disclaimer:{title:"",translationKey:"",template:v,validation:{},disable:!1,dependent:[]},termsAndConditions:{translationKey:"terms_and_conditions",options:{value:"",text:"TRANS_OPTION_TEXT_KEY",parseString:!0},template:d.checkBox,validation:{rules:{not_equals:["false",__("registration.warning.this_field_is_required",__("registration.field.label.termsAndConditions"))]},filters:[]},disable:!1,events:{onchange:p.validateFieldOnChange}},apple_drops:{title:__("reg.questionary.cysec.apple_drops"),translationKey:"apple_drops",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},facebook_buy_markets:{title:__("reg.questionary.cysec.facebook_buy_markets"),translationKey:"facebook_buy_markets",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},maximum_open_position:{title:__("reg.questionary.cysec.maximum_open_position"),translationKey:"maximum_open_position",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},trade_leverage:{title:__("reg.questionary.cysec.trade_leverage"),translationKey:"trade_leverage",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},cfd_trading:{title:__("reg.questionary.cysec.cfd_trading"),translationKey:"cfd_trading",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}}};var e}})}.call(t,n,t,e))||(e.exports=a)}).call(this,n(1))},2595:function(e,t,n){(function(i){var a;void 0===(a=function(e,t,i){var a=n(1),s=n(49),o=n(6),l=n(51),r=n(14),d=n(163),_=n(875),c=n(2200),u=n(9),p=n(1183),m=n(2187),h=n(2243),f=n(2192),v=r.isRegistrationLowScoreDisclaimerEnabled()?a.template('<div class="low-score-disclaimer"><%=__("registration.step.disclaimer.financial_information")%></div>'):a.template("");var y={tradeKindNone:function(e){this.$el.find("[value=tk_none]").removeAttr("disabled"),this.$el.find("[data-value=tk_none]").removeClass("hidden"),this.$el.find("[value=tk_my_own]").removeAttr("disabled"),this.$el.find("[data-value=tk_my_own]").removeClass("hidden"),this.$el.find("[value=tk_with_advice]").removeAttr("disabled"),this.$el.find("[data-value=tk_with_advice]").removeClass("hidden");var t=e.options.form._fields;if(p.isFieldEquals(t.fx_experience,["EMPTY"])||p.isFieldEquals(t.fx_volume_experience,["EMPTY"]))return this.setDefaultValue(),this.disable(),this.$el.addClass("select-disabled");this.enable(),this.$el.removeClass("select-disabled"),p.isFieldEquals(t.fx_experience,["EMPTY","fe_none"])&&p.isFieldEquals(t.fx_volume_experience,["EMPTY","fve_none"])||(this.$el.find("[value=tk_none]").attr("disabled","disabled"),this.$el.find("[data-value=tk_none]").addClass("hidden")),p.isFieldEquals(t.fx_volume_experience,["fve_none"])&&(this.$el.find("[value=tk_my_own]").attr("disabled","disabled"),this.$el.find("[data-value=tk_my_own]").addClass("hidden"),this.$el.find("[value=tk_with_advice]").attr("disabled","disabled"),this.$el.find("[data-value=tk_with_advice]").addClass("hidden"))},showNationalCountryIdentifier:function(e){if(p.isFieldEquals(e,["IT"]))return this.enable(),this.setTooltipMessage(__("registration.field.explanation.national_country_identifier")),void this.showNotErrorTooltip();this.hideTooltip(),this.setDefaultValueWithFireChangeEvent(),this.validate(),this.disable()},afterChangeTinAbsenceReason:function(e){if(p.isFieldEquals(e,["NOT_REQUIRED"]))return e.setTooltipMessage(__("reg.questionary.cysec.tin_absence_reason.not_required.tooltip")),void e.showNotErrorTooltip();e.hideTooltip()},updatePrimaryTinAfterChangeHavePrimaryTin:function(e){"IT"!==u.getCountry()||"IT"!==u.getCitizenship()||a.isEmpty(u.getNationalCountryIdentifier())||(this.$el.addClass("input-disabled"),e.$el.addClass("select-disabled")),p.isFieldEquals(e,["have_primary_tin_yes"])?this.enable():(this.setDefaultValueWithFireChangeEvent(),this.disable())},updatePrimaryTinAfterChangePrimaryTinTaxJurisdiction:function(e){var t=e.getValue().toUpperCase(),n=c.getRulesByCountryCode(t,__("registration.warning.primary_tin"));this.setRules(n)},updatePrimaryTinAbsenceReasonAfterChangeHavePrimaryTin:function(e){p.isFieldEquals(e,["have_primary_tin_no"])?this.enable():(this.setDefaultValueWithFireChangeEvent(),this.disable())},updateSecondaryTinTaxJurisdictionAfterChangeHavePrimaryTin:function(e){p.isFieldEquals(e,["have_primary_tin_yes"])?this.enable():(this.setDefaultValueWithFireChangeEvent(),this.disable())},updateSecondaryTinAfterChangeSecondaryTinTaxJurisdiction:function(e){if(!p.isFieldEquals(e,["EMPTY","00"])){var t=e.getValue().toUpperCase(),n=c.getRulesByCountryCode(t,__("registration.warning.secondary_tin"));return this.setRules(n),this.enable(),void this.setDefaultState()}this.setDefaultValueWithFireChangeEvent(),this.disable()},updateSecondaryTinTaxJurisdictionSource:function(e){var t=this;e.forEach((function(e){t.$el.find('[value="'+e+'"]').removeAttr("disabled"),t.$el.find('[data-value="'+e+'"]').removeClass("hidden")}));var n=u.getCountry().toUpperCase();this.$el.find('[value="'+n+'"]').attr("disabled","disabled"),this.$el.find('[data-value="'+n+'"]').addClass("hidden")}};function g(e){var t=a.pluck(e,"code").sort((function(e,t){return __("country.name."+e).localeCompare(__("country.name."+t))}));return t.unshift("EMPTY"),t}i.exports=s.extend({getAllCountries:function(){return this.get("allCountries")},getAllCountryCodes:function(){return a.pluck(this.getAllCountries(),"code")},getAllowedCountries:function(){return this.get("allowedCountries")},getCountriesPhoneCodes:function(){return this.get("countriesPhoneCodes")},getPhoneToCountry:function(){return this.get("phoneToCountry")},getStepModels:function(){return{personal_information:new m,tax_information:new h}},getFormConfig:function(){return{firstName:{translationKey:"first_name",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("first_name"),max_length:_.maxLength(50,"first_name")},filters:["string"]},disable:!1,events:{onblur:p.checkInputOnBlur}},lastName:{translationKey:"last_name",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("last_name"),max_length:_.maxLength(50,"last_name")},filters:["string"]},disable:!1,events:{onblur:p.checkInputOnBlur}},phone:{translationKey:"phone",options:{countries:this.getCountriesPhoneCodes(),phoneToCountry:this.getPhoneToCountry()},template:d.phoneBox,validation:{rules:{not_empty:_.notEmpty("phone"),numeric:_.numeric("phone"),validateLength:function(e){return e.phone.length>20?__("registration.phone.max",20):e.phoneInput.length<6?__("registration.phone.min",6):a.isEmpty(e.phoneSelect)?_.notEmpty("phone"):null}},filters:[]},disable:!1},birthDate:{translationKey:"date_of_birth",options:{minAge:18,maxAge:87,moment:o,splitByComma:l.splitByComma},template:d.dateBox,validation:{rules:{not_empty:_.notEmpty("date_of_birth")},filters:[]},disable:!1},address:{translationKey:"address",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("address"),max_length:_.maxLength(50,"address")},filters:["string"]},disable:!1,events:{onblur:p.checkInputOnBlur}},zipCode:{translationKey:"zip_code",template:d.inputBox,validation:_.zipCode("zip_code"),disable:!1,events:{onblur:p.checkInputOnBlur}},city:{translationKey:"city",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("city")},filters:["string"]},disable:!1,events:{onblur:p.checkInputOnBlur}},country:{translationKey:"country",translationGroupPrefix:"country.name",options:g(this.getAllowedCountries()),template:d.countriesSelectBox,validation:_.selectNotEmpty("country"),disable:!1,events:{onchange:p.validateFieldOnChange}},citizenship:{title:__("registration.field.label.citizenship"),translationKey:"country",translationGroupPrefix:"country.name",options:g(this.getAllCountries()),template:d.countriesSelectBox,validation:_.selectNotEmpty("citizenship"),disable:!1,events:{onchange:p.validateFieldOnChange}},nationalCountryIdentifier:{title:__("registration.field.label.national_country_identifier"),template:d.inputBox,dependent:[{name:"citizenship",handler:y.showNationalCountryIdentifier}],validation:{rules:{regexp:[/^$|^[a-zA-Z]{6}[a-zA-Z0-9]{10}$/,__("registration.warning.national_country_identifier")]},filters:["string"]},events:{onblur:p.checkInputOnBlur},disable:!0},primaryTinTaxJurisdiction:{title:__("registration.field.label.primary_tin_tax_jurisdiction"),translationKey:"primary_tin_tax_jurisdiction",translationGroupPrefix:"tax_jurisdiction",options:g(this.getAllCountries()),template:d.countriesSelectBox,validation:_.selectNotEmpty(),disable:"select-disabled",events:{onchange:p.validateFieldOnChange}},have_primary_tin:{title:__("registration.field.label.have_primary_tin"),translationKey:"have_primary_tin",template:d.selectBox,validation:_.selectNotEmpty(),dependent:[{name:"tinAbsenceReason",handler:y.afterChangeTinAbsenceReason}],disable:!1,events:{onchange:p.validateFieldOnChange}},primaryTin:{title:__("registration.field.label.primary_tin"),template:d.inputBox,validation:{rules:{},filters:c.getFilters},dependent:[{name:"have_primary_tin",handler:y.updatePrimaryTinAfterChangeHavePrimaryTin},{name:"primaryTinTaxJurisdiction",handler:y.updatePrimaryTinAfterChangePrimaryTinTaxJurisdiction}],events:{onblur:p.checkInputOnBlur},disable:!0},tinAbsenceReason:{title:__("registration.field.label.tin_absence_reason"),translationKey:"tin_absence_reason",template:d.selectBox,validation:_.selectNotEmpty(),dependent:[{name:"have_primary_tin",handler:y.updatePrimaryTinAbsenceReasonAfterChangeHavePrimaryTin}],disable:!0,events:{onchange:p.validateFieldOnChange}},secondaryTinTaxJurisdiction:{title:__("registration.field.label.secondary_tin_tax_jurisdiction"),translationKey:"country",translationGroupPrefix:"tax_jurisdiction",options:(e=g(this.getAllCountries()),["00"].concat(e)),template:d.countriesSelectBox,validation:_.selectNotEmpty(),dependent:[{name:"have_primary_tin",handler:y.updateSecondaryTinTaxJurisdictionAfterChangeHavePrimaryTin},{name:"primaryTinTaxJurisdiction",handler:a.partial(y.updateSecondaryTinTaxJurisdictionSource,this.getAllCountryCodes())}],disable:!0,events:{onchange:p.validateFieldOnChange}},secondaryTin:{title:__("registration.field.label.secondary_tin"),template:d.inputBox,validation:{rules:{},filters:c.getFilters},dependent:[{name:"secondaryTinTaxJurisdiction",handler:y.updateSecondaryTinAfterChangeSecondaryTinTaxJurisdiction}],disable:!0,events:{onblur:p.checkInputOnBlur}},fatca:{translationKey:"fatca",options:[{value:"NO",text:__("no")},{value:"YES",text:__("yes")},{value:__("registration.field.fatca.link.href"),text:__("registration.field.label.fatca.learn_more")}],template:d.fatcaBox,validation:_.radioNotEmpty("fatca"),disable:!1,events:{onchange:p.validateFieldOnChange}},tax_information_disclaimer:{template:a.template('<div class="disclaimer"><%=__("registration.step.disclaimer.tax_information")%></div>'),disable:!1},employment_status:{translationKey:"employment_status",template:d.selectBox,validation:_.selectNotEmpty("employment_status"),disable:!1,events:{onchange:p.validateFieldOnChange}},profession:{title:__("reg.questionary.cysec.profession"),translationKey:"profession",template:d.selectBoxOverflowWidth,validation:_.selectNotEmpty(),dependent:[{name:"employment_status",handler:function(e){return"EMPTY"===e.value()?(this.disable(),void this.$el.addClass("select-disabled")):"es_employed"===e.value()||"es_self_employed"===e.value()?(this.$el.removeClass("select-disabled"),this.enable()):(this.setDefaultValue(),this.disable(),void this.$el.addClass("select-disabled"))}}],disable:"select-disabled",events:{onchange:p.validateFieldOnChange}},annual_income:{title:__("reg.questionary.cysec.annual_income"),translationKey:"annual_income",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},intend_invest:{title:__("reg.questionary.cysec.intend_invest"),translationKey:"intend_invest",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},trading_purpose:{title:__("reg.questionary.cysec.trading_purpose"),translationKey:"trading_purpose",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},trading_purpose_details:{title:__("reg.questionary.cysec.trading_purpose"),translationKey:"trading_purpose",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.industry_other")),options:{defaultValue:__("registration.field.label.industry_other")},dependent:[{name:"trading_purpose",handler:function(e){if("tp_other"===e.value())return e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(p.checkDependentFieldOnBlur,"trading_purpose")},placeholder:__("registration.field.value.provide"),disable:!0},savings_investments:{title:__("reg.questionary.cysec.savings_investments"),translationKey:"savings_investments",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},funds_source:{title:__("reg.questionary.cysec.funds_source"),translationKey:"funds_source",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},funds_source_details:{title:__("reg.questionary.cysec.funds_source"),translationKey:"trading_purpose",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.funds_source")),options:{defaultValue:__("registration.field.label.funds_source")},dependent:[{name:"funds_source",handler:function(e){if("fs_other"===e.value())return e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(p.checkDependentFieldOnBlur,"funds_source")},disable:!0},education_level:{translationKey:"education_level",template:d.selectBox,validation:_.selectNotEmpty("education_level"),disable:!1,events:{onchange:p.validateFieldOnChange}},study_field:{title:__("registration.field.label.study_field"),translationKey:"study_field",template:d.selectBoxOverflowWidth,validation:_.selectNotEmpty("study_field"),dependent:[{name:"education_level",handler:f.updateStudyFieldAfterChangeEducationLevel}],disable:"select-disabled",events:{onchange:p.validateFieldOnChange}},study_field_details:{title:__("registration.field.label.study_field"),translationKey:"study_field_other",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.study_field_other")),options:{defaultValue:__("registration.field.label.study_field_other")},dependent:[{name:"study_field",handler:f.updateStudyFieldDetailsAfterChangeStudyField},{name:"education_level",handler:f.updateStudyFieldDetailsAfterChangeEducationLevel}],events:{onblur:a.partial(p.checkDependentFieldOnBlur,"study_field")},placeholder:__("registration.field.value.provide"),disable:!0},fx_volume_experience:{title:__("reg.questionary.cysec.fx_volume_experience"),translationKey:"fx_volume_experience",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},fx_experience:{title:__("reg.questionary.cysec.fx_experience"),translationKey:"fx_experience",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},trade_kind:{title:__("reg.questionary.cysec.trade_kind"),translationKey:"trade_kind",template:d.selectBoxOverflowWidth,validation:_.selectNotEmpty(),disable:"select-disabled",dependent:[{name:"fx_experience",handler:y.tradeKindNone},{name:"fx_volume_experience",handler:y.tradeKindNone}],events:{onchange:p.validateFieldOnChange}},low_score_disclaimer:{title:"",translationKey:"",template:v,validation:{},disable:!1,dependent:[]},termsAndConditions:{translationKey:"terms_and_conditions",options:{value:"",text:"TRANS_OPTION_TEXT_KEY",parseString:!0},template:d.checkBox,validation:{rules:{not_equals:["false",__("registration.warning.this_field_is_required",__("registration.field.label.termsAndConditions"))]},filters:[]},disable:!1,events:{onchange:p.validateFieldOnChange}}};var e}})}.call(t,n,t,e))||(e.exports=a)}).call(this,n(1))},2596:function(e,t,n){(function(i){var a;void 0===(a=function(e,t,i){var a=n(1),s=n(49),o=n(6),l=n(51),r=n(14),d=n(163),_=n(875),c=n(2200),u=n(9),p=n(1183),m=n(2187),h=n(2243),f=n(2192),v=r.isRegistrationLowScoreDisclaimerEnabled()?a.template('<div class="low-score-disclaimer"><%=__("registration.step.disclaimer.financial_information")%></div>'):a.template("");var y={tradeKindNone:function(e){this.$el.find("[value=tk_none]").removeAttr("disabled"),this.$el.find("[data-value=tk_none]").removeClass("hidden"),this.$el.find("[value=tk_my_own]").removeAttr("disabled"),this.$el.find("[data-value=tk_my_own]").removeClass("hidden"),this.$el.find("[value=tk_with_advice]").removeAttr("disabled"),this.$el.find("[data-value=tk_with_advice]").removeClass("hidden");var t=e.options.form._fields;if(p.isFieldEquals(t.fx_experience,["EMPTY"])||p.isFieldEquals(t.fx_volume_experience,["EMPTY"]))return this.setDefaultValue(),this.disable(),this.$el.addClass("select-disabled");this.enable(),this.$el.removeClass("select-disabled"),p.isFieldEquals(t.fx_experience,["EMPTY","fe_none"])&&p.isFieldEquals(t.fx_volume_experience,["EMPTY","fve_none"])||(this.$el.find("[value=tk_none]").attr("disabled","disabled"),this.$el.find("[data-value=tk_none]").addClass("hidden")),p.isFieldEquals(t.fx_volume_experience,["fve_none"])&&(this.$el.find("[value=tk_my_own]").attr("disabled","disabled"),this.$el.find("[data-value=tk_my_own]").addClass("hidden"),this.$el.find("[value=tk_with_advice]").attr("disabled","disabled"),this.$el.find("[data-value=tk_with_advice]").addClass("hidden"))},showNationalCountryIdentifier:function(e){if(p.isFieldEquals(e,["IT"]))return this.enable(),this.setTooltipMessage(__("registration.field.explanation.national_country_identifier")),void this.showNotErrorTooltip();this.hideTooltip(),this.setDefaultValueWithFireChangeEvent(),this.validate(),this.disable()},afterChangeTinAbsenceReason:function(e){if(p.isFieldEquals(e,["NOT_REQUIRED"]))return e.setTooltipMessage(__("reg.questionary.tin_absence_reason.not_required.tooltip")),void e.showNotErrorTooltip();e.hideTooltip()},updatePrimaryTinAfterChangeHavePrimaryTin:function(e){"IT"!==u.getCountry()||"IT"!==u.getCitizenship()||a.isEmpty(u.getNationalCountryIdentifier())||(this.$el.addClass("input-disabled"),e.$el.addClass("select-disabled")),p.isFieldEquals(e,["have_primary_tin_yes"])?this.enable():(this.setDefaultValueWithFireChangeEvent(),this.disable())},updatePrimaryTinAfterChangePrimaryTinTaxJurisdiction:function(e){var t=e.getValue().toUpperCase(),n=c.getRulesByCountryCode(t,__("registration.warning.primary_tin"));this.setRules(n)},updatePrimaryTinAbsenceReasonAfterChangeHavePrimaryTin:function(e){p.isFieldEquals(e,["have_primary_tin_no"])?this.enable():(this.setDefaultValueWithFireChangeEvent(),this.disable())},updateSecondaryTinTaxJurisdictionAfterChangeHavePrimaryTin:function(e){p.isFieldEquals(e,["have_primary_tin_yes"])?this.enable():(this.setDefaultValueWithFireChangeEvent(),this.disable())},updateSecondaryTinAfterChangeSecondaryTinTaxJurisdiction:function(e){if(!p.isFieldEquals(e,["EMPTY","00"])){var t=e.getValue().toUpperCase(),n=c.getRulesByCountryCode(t,__("registration.warning.secondary_tin"));return this.setRules(n),this.enable(),void this.setDefaultState()}this.setDefaultValueWithFireChangeEvent(),this.disable()},updateSecondaryTinTaxJurisdictionSource:function(e){var t=this;e.forEach((function(e){t.$el.find('[value="'+e+'"]').removeAttr("disabled"),t.$el.find('[data-value="'+e+'"]').removeClass("hidden")}));var n=u.getCountry().toUpperCase();this.$el.find('[value="'+n+'"]').attr("disabled","disabled"),this.$el.find('[data-value="'+n+'"]').addClass("hidden")}};function g(e){var t=a.pluck(e,"code").sort((function(e,t){return __("country.name."+e).localeCompare(__("country.name."+t))}));return t.unshift("EMPTY"),t}i.exports=s.extend({getAllCountries:function(){return this.get("allCountries")},getAllCountryCodes:function(){return a.pluck(this.getAllCountries(),"code")},getAllowedCountries:function(){return this.get("allowedCountries")},getCountriesPhoneCodes:function(){return this.get("countriesPhoneCodes")},getPhoneToCountry:function(){return this.get("phoneToCountry")},getStepModels:function(){return{personal_information:new m,tax_information:new h}},getFormConfig:function(){return{firstName:{translationKey:"first_name",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("first_name"),max_length:_.maxLength(50,"first_name")},filters:["string"]},disable:!1,events:{onblur:p.checkInputOnBlur}},lastName:{translationKey:"last_name",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("last_name"),max_length:_.maxLength(50,"last_name")},filters:["string"]},disable:!1,events:{onblur:p.checkInputOnBlur}},phone:{translationKey:"phone",options:{countries:this.getCountriesPhoneCodes(),phoneToCountry:this.getPhoneToCountry()},template:d.phoneBox,validation:{rules:{not_empty:_.notEmpty("phone"),numeric:_.numeric("phone"),validateLength:function(e){return e.phone.length>20?__("registration.phone.max",20):e.phoneInput.length<6?__("registration.phone.min",6):a.isEmpty(e.phoneSelect)?_.notEmpty("phone"):null}},filters:[]},disable:!1},birthDate:{translationKey:"date_of_birth",options:{minAge:18,maxAge:87,moment:o,splitByComma:l.splitByComma},template:d.dateBox,validation:{rules:{not_empty:_.notEmpty("date_of_birth")},filters:[]},disable:!1},address:{translationKey:"address",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("address"),max_length:_.maxLength(50,"address")},filters:["string"]},disable:!1,events:{onblur:p.checkInputOnBlur}},zipCode:{translationKey:"zip_code",template:d.inputBox,validation:_.zipCode("zip_code"),disable:!1,events:{onblur:p.checkInputOnBlur}},city:{translationKey:"city",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("city")},filters:["string"]},disable:!1,events:{onblur:p.checkInputOnBlur}},country:{translationKey:"country",translationGroupPrefix:"country.name",options:g(this.getAllowedCountries()),template:d.countriesSelectBox,validation:_.selectNotEmpty("country"),disable:!1,events:{onchange:p.validateFieldOnChange}},citizenship:{title:__("registration.field.label.citizenship"),translationKey:"country",translationGroupPrefix:"country.name",options:g(this.getAllCountries()),template:d.countriesSelectBox,validation:_.selectNotEmpty("citizenship"),disable:!1,events:{onchange:p.validateFieldOnChange}},nationalCountryIdentifier:{title:__("registration.field.label.national_country_identifier"),template:d.inputBox,dependent:[{name:"citizenship",handler:y.showNationalCountryIdentifier}],validation:{rules:{regexp:[/^$|^[a-zA-Z]{6}[a-zA-Z0-9]{10}$/,__("registration.warning.national_country_identifier")]},filters:["string"]},events:{onblur:p.checkInputOnBlur},disable:!0},primaryTinTaxJurisdiction:{title:__("registration.field.label.primary_tin_tax_jurisdiction"),translationKey:"primary_tin_tax_jurisdiction",translationGroupPrefix:"tax_jurisdiction",options:g(this.getAllCountries()),template:d.countriesSelectBox,validation:_.selectNotEmpty(),disable:"select-disabled",events:{onchange:p.validateFieldOnChange}},have_primary_tin:{title:__("registration.field.label.have_primary_tin"),translationKey:"have_primary_tin",template:d.selectBox,validation:_.selectNotEmpty(),dependent:[{name:"tinAbsenceReason",handler:y.afterChangeTinAbsenceReason}],disable:!1,events:{onchange:p.validateFieldOnChange}},primaryTin:{title:__("registration.field.label.primary_tin"),template:d.inputBox,validation:{rules:{},filters:c.getFilters},dependent:[{name:"have_primary_tin",handler:y.updatePrimaryTinAfterChangeHavePrimaryTin},{name:"primaryTinTaxJurisdiction",handler:y.updatePrimaryTinAfterChangePrimaryTinTaxJurisdiction}],events:{onblur:p.checkInputOnBlur},disable:!0},tinAbsenceReason:{title:__("registration.field.label.tin_absence_reason"),translationKey:"tin_absence_reason",template:d.selectBox,validation:_.selectNotEmpty(),dependent:[{name:"have_primary_tin",handler:y.updatePrimaryTinAbsenceReasonAfterChangeHavePrimaryTin}],disable:!0,events:{onchange:p.validateFieldOnChange}},secondaryTinTaxJurisdiction:{title:__("registration.field.label.secondary_tin_tax_jurisdiction"),translationKey:"country",translationGroupPrefix:"tax_jurisdiction",options:(e=g(this.getAllCountries()),["00"].concat(e)),template:d.countriesSelectBox,validation:_.selectNotEmpty(),dependent:[{name:"have_primary_tin",handler:y.updateSecondaryTinTaxJurisdictionAfterChangeHavePrimaryTin},{name:"primaryTinTaxJurisdiction",handler:a.partial(y.updateSecondaryTinTaxJurisdictionSource,this.getAllCountryCodes())}],disable:!0,events:{onchange:p.validateFieldOnChange}},secondaryTin:{title:__("registration.field.label.secondary_tin"),template:d.inputBox,validation:{rules:{},filters:c.getFilters},dependent:[{name:"secondaryTinTaxJurisdiction",handler:y.updateSecondaryTinAfterChangeSecondaryTinTaxJurisdiction}],disable:!0,events:{onblur:p.checkInputOnBlur}},fatca:{translationKey:"fatca",options:[{value:"NO",text:__("no")},{value:"YES",text:__("yes")},{value:__("registration.field.fatca.link.href"),text:__("registration.field.label.fatca.learn_more")}],template:d.fatcaBox,validation:_.radioNotEmpty("fatca"),disable:!1,events:{onchange:p.validateFieldOnChange}},tax_information_disclaimer:{template:a.template('<div class="disclaimer"><%=__("registration.step.disclaimer.tax_information")%></div>'),disable:!1},employment_status:{translationKey:"employment_status",template:d.selectBox,validation:_.selectNotEmpty("employment_status"),disable:!1,events:{onchange:p.validateFieldOnChange}},profession:{title:__("reg.questionary.cysec.profession"),translationKey:"profession",template:d.selectBoxOverflowWidth,validation:_.selectNotEmpty(),dependent:[{name:"employment_status",handler:function(e){return"EMPTY"===e.value()?(this.disable(),void this.$el.addClass("select-disabled")):"es_employed"===e.value()||"es_self_employed"===e.value()?(this.$el.removeClass("select-disabled"),this.enable()):(this.setDefaultValue(),this.disable(),void this.$el.addClass("select-disabled"))}}],disable:"select-disabled",events:{onchange:p.validateFieldOnChange}},annual_income:{title:__("reg.questionary.cysec.annual_income"),translationKey:"annual_income",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},intend_invest:{title:__("reg.questionary.cysec.intend_invest"),translationKey:"intend_invest",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},trading_purpose:{title:__("reg.questionary.cysec.trading_purpose"),translationKey:"trading_purpose",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},trading_purpose_details:{title:__("reg.questionary.cysec.trading_purpose"),translationKey:"trading_purpose",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.industry_other")),options:{defaultValue:__("registration.field.label.industry_other")},dependent:[{name:"trading_purpose",handler:function(e){if("tp_other"===e.value())return e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(p.checkDependentFieldOnBlur,"trading_purpose")},placeholder:__("registration.field.value.provide"),disable:!0},savings_investments:{title:__("reg.questionary.cysec.savings_investments"),translationKey:"savings_investments",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},funds_source:{title:__("reg.questionary.cysec.funds_source"),translationKey:"funds_source",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},funds_source_details:{title:__("reg.questionary.funds_source"),translationKey:"trading_purpose",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.funds_source")),options:{defaultValue:__("registration.field.label.funds_source")},dependent:[{name:"funds_source",handler:function(e){if("fs_other"===e.value())return e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(p.checkDependentFieldOnBlur,"funds_source")},disable:!0},education_level:{translationKey:"education_level",template:d.selectBox,validation:_.selectNotEmpty("education_level"),disable:!1,events:{onchange:p.validateFieldOnChange}},study_field:{title:__("registration.field.label.study_field"),translationKey:"study_field",template:d.selectBoxOverflowWidth,validation:_.selectNotEmpty("study_field"),dependent:[{name:"education_level",handler:f.updateStudyFieldAfterChangeEducationLevel}],disable:"select-disabled",events:{onchange:p.validateFieldOnChange}},study_field_details:{title:__("registration.field.label.study_field"),translationKey:"study_field_other",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.study_field_other")),options:{defaultValue:__("registration.field.label.study_field_other")},dependent:[{name:"study_field",handler:f.updateStudyFieldDetailsAfterChangeStudyField},{name:"education_level",handler:f.updateStudyFieldDetailsAfterChangeEducationLevel}],events:{onblur:a.partial(p.checkDependentFieldOnBlur,"study_field")},placeholder:__("registration.field.value.provide"),disable:!0},fx_volume_experience:{title:__("reg.questionary.cysec.fx_volume_experience"),translationKey:"fx_volume_experience",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},fx_experience:{title:__("reg.questionary.cysec.fx_experience"),translationKey:"fx_experience",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},trade_kind:{title:__("reg.questionary.cysec.trade_kind"),translationKey:"trade_kind",template:d.selectBoxOverflowWidth,validation:_.selectNotEmpty(),disable:"select-disabled",dependent:[{name:"fx_experience",handler:y.tradeKindNone},{name:"fx_volume_experience",handler:y.tradeKindNone}],events:{onchange:p.validateFieldOnChange}},low_score_disclaimer:{title:"",translationKey:"",template:v,validation:{},disable:!1,dependent:[]},what_does_cfd_stand_for:{title:__("reg.questionary.what_does_cfd_stand_for"),translationGroupPrefix:"reg.questionary.what_does_cfd_stand_for",template:d.selectBoxOverflowWidth,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},price_apple_drops:{title:__("reg.questionary.price_apple_drops"),translationGroupPrefix:"reg.questionary.price_apple_drops",template:d.selectBoxOverflowWidth,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},knowledge_of_markets:{title:__("reg.questionary.knowledge_of_markets"),translationGroupPrefix:"reg.questionary.knowledge_of_markets",template:d.selectBoxOverflowWidth,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},max_amount_leverage:{title:__("reg.questionary.max_amount_leverage"),translationGroupPrefix:"reg.questionary.max_amount_leverage",template:d.selectBoxOverflowWidth,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},true_about_cfd:{title:__("reg.questionary.true_about_cfd"),translationGroupPrefix:"reg.questionary.true_about_cfd",template:d.selectBoxOverflowWidth,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},cfd_owner_asset:{title:__("reg.questionary.cfd_owner_asset"),translationGroupPrefix:"reg.questionary.cfd_owner_asset",template:d.selectBoxOverflowWidth,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},leverage_risks:{title:__("reg.questionary.leverage_risks"),translationGroupPrefix:"reg.questionary.leverage_risks",template:d.selectBoxOverflowWidth,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},margin_call:{title:__("reg.questionary.margin_call"),translationGroupPrefix:"reg.questionary.margin_call",template:d.selectBoxOverflowWidth,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},avoid_margin_stop:{title:__("reg.questionary.avoid_margin_stop"),translationGroupPrefix:"reg.questionary.avoid_margin_stop",template:d.selectBoxOverflowWidth,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},volatility_market_fluctuates:{title:__("reg.questionary.volatility_market_fluctuates"),translationGroupPrefix:"reg.questionary.volatility_market_fluctuates",template:d.selectBoxOverflowWidth,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},termsAndConditions:{translationKey:"terms_and_conditions",options:{value:"",text:"TRANS_OPTION_TEXT_KEY",parseString:!0},template:d.checkBox,validation:{rules:{not_equals:["false",__("registration.warning.this_field_is_required",__("registration.field.label.termsAndConditions"))]},filters:[]},disable:!1,events:{onchange:p.validateFieldOnChange}},agreeToElectronicVerification:{translationKey:"agreeToElectronicVerification",hint:__("registration.field.hint.agreeToElectronicVerification"),options:{value:"",parseString:!0},template:d.checkBox,disable:!1,events:{onchange:p.validateFieldOnChange}}};var e}})}.call(t,n,t,e))||(e.exports=a)}).call(this,n(1))},2597:function(e,t,n){(function(i){var a;updateFxVolumeExperienceAfterChangeFxExperience=void 0,void 0===(a=function(e,t,i){var a=n(1),s=n(49),o=n(6),l=n(51),r=n(14),d=n(163),_=n(875),c=n(2200),u=n(9),p=n(1183),m=n(2187),h=n(2243),f=n(2192),v=r.isRegistrationLowScoreDisclaimerEnabled()?a.template('<div class="low-score-disclaimer"><%=__("registration.step.disclaimer.financial_information")%></div>'):a.template("");var y={tradeKindNone:function(e){this.$el.find("[value=tk_none]").removeAttr("disabled"),this.$el.find("[data-value=tk_none]").removeClass("hidden"),this.$el.find("[value=tk_my_own]").removeAttr("disabled"),this.$el.find("[data-value=tk_my_own]").removeClass("hidden"),this.$el.find("[value=tk_with_advice]").removeAttr("disabled"),this.$el.find("[data-value=tk_with_advice]").removeClass("hidden");var t=e.options.form._fields;if(p.isFieldEquals(t.csb_experience,["EMPTY"])||p.isFieldEquals(t.fx_experience,["EMPTY"])||p.isFieldEquals(t.csb_volume_experience,["EMPTY"])||p.isFieldEquals(t.fx_volume_experience,["EMPTY"]))return this.setDefaultValue(),this.disable(),this.$el.addClass("select-disabled");this.enable(),this.$el.removeClass("select-disabled"),p.isFieldEquals(t.csb_experience,["EMPTY","ce_none"])&&p.isFieldEquals(t.fx_experience,["EMPTY","fe_none"])&&p.isFieldEquals(t.csb_volume_experience,["EMPTY","cve_none"])&&p.isFieldEquals(t.fx_volume_experience,["EMPTY","fve_none"])||(this.$el.find("[value=tk_none]").attr("disabled","disabled"),this.$el.find("[data-value=tk_none]").addClass("hidden"),p.isFieldEquals(this,["tk_none"])&&this.setDefaultValue()),p.isFieldEquals(t.csb_experience,["ce_none"])&&p.isFieldEquals(t.fx_experience,["fe_none"])&&p.isFieldEquals(t.csb_volume_experience,["cve_none"])&&p.isFieldEquals(t.fx_volume_experience,["fve_none"])&&(this.$el.find("[value=tk_my_own]").attr("disabled","disabled"),this.$el.find("[data-value=tk_my_own]").addClass("hidden"),p.isFieldEquals(this,["tk_my_own"])&&this.setDefaultValue())},showNationalCountryIdentifier:function(e){if(p.isFieldEquals(e,["IT"]))return this.enable(),this.setTooltipMessage(__("registration.field.explanation.national_country_identifier")),void this.showNotErrorTooltip();this.hideTooltip(),this.setDefaultValueWithFireChangeEvent(),this.validate(),this.disable()},afterChangeTinAbsenceReason:function(e){if(p.isFieldEquals(e,["NOT_REQUIRED"]))return e.setTooltipMessage(__("reg.questionary.cysec.tin_absence_reason.not_required.tooltip")),void e.showNotErrorTooltip();e.hideTooltip()},updatePrimaryTinAfterChangeHavePrimaryTin:function(e){"IT"!==u.getCountry()||"IT"!==u.getCitizenship()||a.isEmpty(u.getNationalCountryIdentifier())||(this.$el.addClass("input-disabled"),e.$el.addClass("select-disabled")),p.isFieldEquals(e,["have_primary_tin_yes"])?this.enable():(this.setDefaultValueWithFireChangeEvent(),this.disable())},updatePrimaryTinAfterChangePrimaryTinTaxJurisdiction:function(e){var t=e.getValue().toUpperCase(),n=c.getRulesByCountryCode(t,__("registration.warning.primary_tin"));this.setRules(n)},updatePrimaryTinAbsenceReasonAfterChangeHavePrimaryTin:function(e){p.isFieldEquals(e,["have_primary_tin_no"])?this.enable():(this.setDefaultValueWithFireChangeEvent(),this.disable())},updateSecondaryTinTaxJurisdictionAfterChangeHavePrimaryTin:function(e){p.isFieldEquals(e,["have_primary_tin_yes"])?this.enable():(this.setDefaultValueWithFireChangeEvent(),this.disable())},updateSecondaryTinAfterChangeSecondaryTinTaxJurisdiction:function(e){if(!p.isFieldEquals(e,["EMPTY","00"])){var t=e.getValue().toUpperCase(),n=c.getRulesByCountryCode(t,__("registration.warning.secondary_tin"));return this.setRules(n),this.enable(),void this.setDefaultState()}this.setDefaultValueWithFireChangeEvent(),this.disable()},updateSecondaryTinTaxJurisdictionSource:function(e){var t=this;e.forEach((function(e){t.$el.find('[value="'+e+'"]').removeAttr("disabled"),t.$el.find('[data-value="'+e+'"]').removeClass("hidden")}));var n=u.getCountry().toUpperCase();this.$el.find('[value="'+n+'"]').attr("disabled","disabled"),this.$el.find('[data-value="'+n+'"]').addClass("hidden")},updateFxVolumeExperienceAfterChangeFxExperience:function(e){this.$el.find("[data-value=fve_none]").removeClass("hidden"),this.$el.find("[value=fve_none]").removeAttr("disabled"),p.isFieldEquals(e,["fe_none"])||(this.$el.find("[data-value=fve_none]").addClass("hidden"),this.$el.find("[value=fve_none]").attr("disabled","disabled"),p.isFieldEquals(this,["fve_none"])&&this.setDefaultValueWithFireChangeEvent())},updateCsbVolumeExperienceAfterChangeCsbExperience:function(e){this.$el.find("[data-value=cve_none]").removeClass("hidden"),this.$el.find("[value=cve_none]").removeAttr("disabled"),p.isFieldEquals(e,["ce_none"])||(this.$el.find("[data-value=cve_none]").addClass("hidden"),this.$el.find("[value=cve_none]").attr("disabled","disabled"),p.isFieldEquals(this,["cve_none"])&&this.setDefaultValueWithFireChangeEvent())},updateTradeFrequency:function(e){var t=e.options.form._fields;if(p.isFieldEquals(t.csb_experience,["EMPTY"])||p.isFieldEquals(t.fx_experience,["EMPTY"])||p.isFieldEquals(t.csb_volume_experience,["EMPTY"])||p.isFieldEquals(t.fx_volume_experience,["EMPTY"]))return this.setDefaultValue(),this.disable(),void this.$el.addClass("select-disabled");p.isFieldEquals(t.csb_experience,["EMPTY","ce_none"])&&p.isFieldEquals(t.fx_experience,["EMPTY","fe_none"])&&p.isFieldEquals(t.csb_volume_experience,["EMPTY","cve_none"])&&p.isFieldEquals(t.fx_volume_experience,["EMPTY","fve_none"])?(this.setDefaultValue(),this.disable(),this.$el.addClass("select-disabled")):(this.enable(),this.$el.removeClass("select-disabled"))}};function g(e){var t=a.pluck(e,"code").sort((function(e,t){return __("country.name."+e).localeCompare(__("country.name."+t))}));return t.unshift("EMPTY"),t}i.exports=s.extend({getAllCountries:function(){return this.get("allCountries")},getAllCountryCodes:function(){return a.pluck(this.getAllCountries(),"code")},getAllowedCountries:function(){return this.get("allowedCountries")},getCountriesPhoneCodes:function(){return this.get("countriesPhoneCodes")},getPhoneToCountry:function(){return this.get("phoneToCountry")},getStepModels:function(){return{personal_information:new m,tax_information:new h}},getFormConfig:function(){return{firstName:{translationKey:"first_name",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("first_name"),max_length:_.maxLength(50,"first_name")},filters:["string"]},disable:!1,events:{onblur:p.checkInputOnBlur}},lastName:{translationKey:"last_name",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("last_name"),max_length:_.maxLength(50,"last_name")},filters:["string"]},disable:!1,events:{onblur:p.checkInputOnBlur}},phone:{translationKey:"phone",options:{countries:this.getCountriesPhoneCodes(),phoneToCountry:this.getPhoneToCountry()},template:d.phoneBox,validation:{rules:{not_empty:_.notEmpty("phone"),numeric:_.numeric("phone"),validateLength:function(e){return e.phone.length>20?__("registration.phone.max",20):e.phoneInput.length<6?__("registration.phone.min",6):a.isEmpty(e.phoneSelect)?_.notEmpty("phone"):null}},filters:[]},disable:!1},birthDate:{translationKey:"date_of_birth",options:{minAge:18,maxAge:87,moment:o,splitByComma:l.splitByComma},template:d.dateBox,validation:{rules:{not_empty:_.notEmpty("date_of_birth")},filters:[]},disable:!1},address:{translationKey:"address",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("address"),max_length:_.maxLength(50,"address")},filters:["string"]},disable:!1,events:{onblur:p.checkInputOnBlur}},zipCode:{translationKey:"zip_code",template:d.inputBox,validation:_.zipCode("zip_code"),disable:!1,events:{onblur:p.checkInputOnBlur}},city:{translationKey:"city",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("city")},filters:["string"]},disable:!1,events:{onblur:p.checkInputOnBlur}},country:{translationKey:"country",translationGroupPrefix:"country.name",options:g(this.getAllowedCountries()),template:d.countriesSelectBox,validation:_.selectNotEmpty("country"),disable:!1,events:{onchange:p.validateFieldOnChange}},citizenship:{title:__("registration.field.label.citizenship"),translationKey:"country",translationGroupPrefix:"country.name",options:g(this.getAllCountries()),template:d.countriesSelectBox,validation:_.selectNotEmpty("citizenship"),disable:!1,events:{onchange:p.validateFieldOnChange}},nationalCountryIdentifier:{title:__("registration.field.label.national_country_identifier"),template:d.inputBox,dependent:[{name:"citizenship",handler:y.showNationalCountryIdentifier}],validation:{rules:{regexp:[/^$|^[a-zA-Z]{6}[a-zA-Z0-9]{10}$/,__("registration.warning.national_country_identifier")]},filters:["string"]},events:{onblur:p.checkInputOnBlur},disable:!0},primaryTinTaxJurisdiction:{title:__("registration.field.label.primary_tin_tax_jurisdiction"),translationKey:"primary_tin_tax_jurisdiction",translationGroupPrefix:"tax_jurisdiction",options:g(this.getAllCountries()),template:d.countriesSelectBox,validation:_.selectNotEmpty(),disable:"select-disabled",events:{onchange:p.validateFieldOnChange}},have_primary_tin:{title:__("registration.field.label.have_primary_tin"),translationKey:"have_primary_tin",template:d.selectBox,validation:_.selectNotEmpty(),dependent:[{name:"tinAbsenceReason",handler:y.afterChangeTinAbsenceReason}],disable:!1,events:{onchange:p.validateFieldOnChange}},primaryTin:{title:__("registration.field.label.primary_tin"),template:d.inputBox,validation:{rules:{},filters:c.getFilters},dependent:[{name:"have_primary_tin",handler:y.updatePrimaryTinAfterChangeHavePrimaryTin},{name:"primaryTinTaxJurisdiction",handler:y.updatePrimaryTinAfterChangePrimaryTinTaxJurisdiction}],events:{onblur:p.checkInputOnBlur},disable:!0},tinAbsenceReason:{title:__("registration.field.label.tin_absence_reason"),translationKey:"tin_absence_reason",template:d.selectBox,validation:_.selectNotEmpty(),dependent:[{name:"have_primary_tin",handler:y.updatePrimaryTinAbsenceReasonAfterChangeHavePrimaryTin}],disable:!0,events:{onchange:p.validateFieldOnChange}},secondaryTinTaxJurisdiction:{title:__("registration.field.label.secondary_tin_tax_jurisdiction"),translationKey:"country",translationGroupPrefix:"tax_jurisdiction",options:(e=g(this.getAllCountries()),["00"].concat(e)),template:d.countriesSelectBox,validation:_.selectNotEmpty(),dependent:[{name:"have_primary_tin",handler:y.updateSecondaryTinTaxJurisdictionAfterChangeHavePrimaryTin},{name:"primaryTinTaxJurisdiction",handler:a.partial(y.updateSecondaryTinTaxJurisdictionSource,this.getAllCountryCodes())}],disable:!0,events:{onchange:p.validateFieldOnChange}},secondaryTin:{title:__("registration.field.label.secondary_tin"),template:d.inputBox,validation:{rules:{},filters:c.getFilters},dependent:[{name:"secondaryTinTaxJurisdiction",handler:y.updateSecondaryTinAfterChangeSecondaryTinTaxJurisdiction}],disable:!0,events:{onblur:p.checkInputOnBlur}},fatca:{translationKey:"fatca",options:[{value:"NO",text:__("no")},{value:"YES",text:__("yes")},{value:__("registration.field.fatca.link.href"),text:__("registration.field.label.fatca.learn_more")}],template:d.fatcaBox,validation:_.radioNotEmpty("fatca"),disable:!1,events:{onchange:p.validateFieldOnChange}},tax_information_disclaimer:{template:a.template('<div class="disclaimer"><%=__("registration.step.disclaimer.tax_information")%></div>'),disable:!1},employment_status:{translationKey:"employment_status",template:d.selectBox,validation:_.selectNotEmpty("employment_status"),disable:!1,events:{onchange:p.validateFieldOnChange}},profession:{title:__("reg.questionary.cysec.profession"),translationKey:"profession",template:d.selectBoxOverflowWidth,validation:_.selectNotEmpty(),dependent:[{name:"employment_status",handler:function(e){return"EMPTY"===e.value()?(this.disable(),void this.$el.addClass("select-disabled")):"es_employed"===e.value()||"es_self_employed"===e.value()?(this.$el.removeClass("select-disabled"),this.enable()):(this.setDefaultValue(),this.disable(),void this.$el.addClass("select-disabled"))}}],disable:"select-disabled",events:{onchange:p.validateFieldOnChange}},annual_income:{title:__("reg.questionary.cysec.annual_income"),translationKey:"annual_income",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},intend_invest:{title:__("reg.questionary.cysec.intend_invest"),translationKey:"intend_invest",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},trading_purpose:{title:__("reg.questionary.cysec.trading_purpose"),translationKey:"trading_purpose",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},trading_purpose_details:{title:__("reg.questionary.cysec.trading_purpose"),translationKey:"trading_purpose",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.industry_other")),options:{defaultValue:__("registration.field.label.industry_other")},dependent:[{name:"trading_purpose",handler:function(e){if("tp_other"===e.value())return e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(p.checkDependentFieldOnBlur,"trading_purpose")},placeholder:__("registration.field.value.provide"),disable:!0},savings_investments:{title:__("reg.questionary.cysec.savings_investments"),translationKey:"savings_investments",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},funds_source:{title:__("reg.questionary.cysec.funds_source"),translationKey:"funds_source",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},funds_source_details:{title:__("reg.questionary.cysec.funds_source"),translationKey:"trading_purpose",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.funds_source")),options:{defaultValue:__("registration.field.label.funds_source")},dependent:[{name:"funds_source",handler:function(e){if("fs_other"===e.value())return e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(p.checkDependentFieldOnBlur,"funds_source")},disable:!0},initial_deposit_volume:{translationKey:"initial_deposit_volume",template:d.inputBox,disable:!0,dependent:[{name:"initial_deposit_volume_details",handler:function(){this.value("-")}}],events:{onblur:p.checkInputOnBlur}},initial_deposit_volume_details:{title:__("registration.field.label.initial_deposit_volume",u.getUserCurrencySymbol()),translationKey:"initial_deposit_volume_details",template:d.inputBox,validation:{filters:["trim","natural_number"],rules:{not_empty:_.notEmpty(),max_length:_.maxLength(50)}},disable:!1,events:{onblur:p.checkInputOnBlur}},education_level:{translationKey:"education_level",template:d.selectBox,validation:_.selectNotEmpty("education_level"),disable:!1,events:{onchange:p.validateFieldOnChange}},study_field:{title:__("registration.field.label.study_field"),translationKey:"study_field",template:d.selectBoxOverflowWidth,validation:_.selectNotEmpty("study_field"),dependent:[{name:"education_level",handler:f.updateStudyFieldAfterChangeEducationLevel}],disable:"select-disabled",events:{onchange:p.validateFieldOnChange}},study_field_details:{title:__("registration.field.label.study_field"),translationKey:"study_field_other",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.study_field_other")),options:{defaultValue:__("registration.field.label.study_field_other")},dependent:[{name:"study_field",handler:f.updateStudyFieldDetailsAfterChangeStudyField},{name:"education_level",handler:f.updateStudyFieldDetailsAfterChangeEducationLevel}],events:{onblur:a.partial(p.checkDependentFieldOnBlur,"study_field")},placeholder:__("registration.field.value.provide"),disable:!0},fx_experience:{title:__("reg.questionary.cysec.fx_experience"),translationKey:"fx_experience",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},csb_experience:{title:__("reg.questionary.cysec.csb_experience"),translationKey:"csb_experience",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},fx_volume_experience:{title:__("reg.questionary.cysec.fx_volume_experience"),translationKey:"fx_volume_experience",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,dependent:[{name:"fx_experience",handler:y.updateFxVolumeExperienceAfterChangeFxExperience}],events:{onchange:p.validateFieldOnChange}},csb_volume_experience:{title:__("reg.questionary.cysec.csb_volume_experience"),translationKey:"csb_volume_experience",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,dependent:[{name:"csb_experience",handler:y.updateCsbVolumeExperienceAfterChangeCsbExperience}],events:{onchange:p.validateFieldOnChange}},leverage_volume_experience:{title:__("registration.field.label.leverage_volume_experience"),translationGroupPrefix:"registration.field.label.leverage_volume_experience",template:d.selectBox,validation:_.selectNotEmpty(),disable:"select-disabled",dependent:[{name:"csb_experience",handler:y.updateTradeFrequency},{name:"fx_experience",handler:y.updateTradeFrequency},{name:"csb_volume_experience",handler:y.updateTradeFrequency},{name:"fx_volume_experience",handler:y.updateTradeFrequency}],events:{onchange:p.validateFieldOnChange}},trade_kind:{title:__("reg.questionary.cysec.trade_kind"),translationKey:"trade_kind",template:d.selectBoxOverflowWidth,validation:_.selectNotEmpty(),disable:"select-disabled",dependent:[{name:"csb_experience",handler:y.tradeKindNone},{name:"fx_experience",handler:y.tradeKindNone},{name:"csb_volume_experience",handler:y.tradeKindNone},{name:"fx_volume_experience",handler:y.tradeKindNone}],events:{onchange:p.validateFieldOnChange}},low_score_disclaimer:{title:"",translationKey:"",template:v,validation:{},disable:!1,dependent:[]},termsAndConditions:{translationKey:"terms_and_conditions",options:{value:"",text:"TRANS_OPTION_TEXT_KEY",parseString:!0},template:d.checkBox,validation:{rules:{not_equals:["false",__("registration.warning.this_field_is_required",__("registration.field.label.termsAndConditions"))]},filters:[]},disable:!1,events:{onchange:p.validateFieldOnChange}},apple_drops:{title:__("reg.questionary.cysec.apple_drops"),translationKey:"apple_drops",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},facebook_buy_markets:{title:__("reg.questionary.cysec.facebook_buy_markets"),translationKey:"facebook_buy_markets",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},maximum_open_position:{title:__("reg.questionary.cysec.maximum_open_position"),translationKey:"maximum_open_position",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},trade_leverage:{title:__("reg.questionary.cysec.trade_leverage"),translationKey:"trade_leverage",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}},cfd_trading:{title:__("reg.questionary.cysec.cfd_trading"),translationKey:"cfd_trading",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:p.validateFieldOnChange}}};var e}})}.call(t,n,t,e))||(e.exports=a)}).call(this,n(1))},2598:function(e,t,n){(function(i,a){var s;void 0===(s=function(e,t,i){var s=n(1),o=n(14),l=n(163),r=n(875),d=n(1183),_=n(9),c=n(2244),u=c.ConfigTemplates,p=c.addRefuseSecondTinOption,m=c.countryCodeToOptions,h=n(2200),f=n(2367),v=n(2187),y=n(2368),g=n(2192),b=o.isRegistrationLowScoreDisclaimerEnabled()?s.template('<div class="low-score-disclaimer"><%=__("registration.step.disclaimer.financial_information")%></div>'):s.template(""),x={tradeKindNone:function(e){this.$el.find("[value=tk_none]").removeAttr("disabled"),this.$el.find("[data-value=tk_none]").removeClass("hidden");var t=e.options.form._fields;if(d.isFieldEquals(t.csb_experience,["EMPTY"])||d.isFieldEquals(t.fx_experience,["EMPTY"])||d.isFieldEquals(t.csb_volume_experience,["EMPTY"])||d.isFieldEquals(t.fx_volume_experience,["EMPTY"]))return this.setDefaultValue(),this.disable(),this.$el.addClass("select-disabled");this.enable(),this.$el.removeClass("select-disabled"),d.isFieldEquals(t.csb_experience,["EMPTY","ce_none"])&&d.isFieldEquals(t.fx_experience,["EMPTY","fe_none"])&&d.isFieldEquals(t.csb_volume_experience,["EMPTY","cve_none"])&&d.isFieldEquals(t.fx_volume_experience,["EMPTY","fve_none"])||(this.$el.find("[value=tk_none]").attr("disabled","disabled"),this.$el.find("[data-value=tk_none]").addClass("hidden"))},activateOnlyIfEmployed:function(e){if(d.isFieldEquals(e,["es_employed","es_self_employed"]))return this.enable(),void this.$el.removeClass("select-disabled");this.disable(),this.setDefaultValueWithFireChangeEvent(),this.$el.addClass("select-disabled")},activateOnlyIfNotEmployed:function(e){if(d.isFieldEquals(e,["es_retired","es_student","es_unemployed"]))return this.enable(),void this.$el.removeClass("select-disabled");this.disable(),this.setDefaultValueWithFireChangeEvent(),this.$el.addClass("select-disabled")},activateOnlyIfYes:function(e){d.isFieldEquals(e,["yes"])?this.enable():(this.disable(),this.setDefaultValueWithFireChangeEvent())},activateIfNotEmpty:function(e){if(!s.isEmpty(e.value()))return this.enable(),void this.$el.removeClass("select-disabled");this.disable(),this.setDefaultValueWithFireChangeEvent(),e.isDisabled()?this.$el.removeClass("select-disabled"):this.$el.addClass("select-disabled")},afterChangeTinAbsenceReason:function(e){if(d.isFieldEquals(e,["NOT_REQUIRED"]))return e.setTooltipMessage(__("reg.questionary.cysec.tin_absence_reason.not_required.tooltip")),void e.showNotErrorTooltip();e.hideTooltip()},updatePrimaryTinAfterChangeHavePrimaryTin:function(e){d.isFieldEquals(e,["have_primary_tin_yes"])?this.enable():(this.setDefaultValueWithFireChangeEvent(),this.disable())},updateTooltipAfterGBTaxJurisdiction:function(e){var t=e.getValue().toUpperCase(),n=a(this.$el.find("label > span")[0]);"GB"===t?n.html(__("registration.field.label.nino_question")):n.html(__("registration.field.label.have_primary_tin"))},updatePrimaryTinAfterChangePrimaryTinTaxJurisdiction:function(e){var t=e.getValue().toUpperCase(),n=h.getRulesByCountryCode(t,__("registration.warning.primary_tin"));this.setRules(n)},updatePrimaryTinAbsenceReasonAfterChangeHavePrimaryTin:function(e){d.isFieldEquals(e,["have_primary_tin_no"])?this.enable():(this.setDefaultValueWithFireChangeEvent(),this.disable())},updateSecondaryTinTaxJurisdictionAfterChangeHavePrimaryTin:function(e){d.isFieldEquals(e,["have_primary_tin_yes"])?this.enable():(this.setDefaultValueWithFireChangeEvent(),this.disable())},updateSecondaryTinAfterChangeSecondaryTinTaxJurisdiction:function(e){if(!d.isFieldEquals(e,["EMPTY","00"])){var t=e.getValue().toUpperCase(),n=h.getRulesByCountryCode(t,__("registration.warning.secondary_tin")),i=a(this.$el.find("label")[0]);return"GB"===t?i.html(__("registration.field.label.nino_question")):i.html(__("registration.field.label.secondary_tin")),this.setRules(n),this.enable(),void this.setDefaultState()}this.setDefaultValueWithFireChangeEvent(),this.disable()},updateSecondaryTinTaxJurisdictionSource:function(e){var t=this;e.forEach((function(e){t.$el.find('[value="'+e+'"]').removeAttr("disabled"),t.$el.find('[data-value="'+e+'"]').removeClass("hidden")}));var n=_.getCountry().toUpperCase();this.$el.find('[value="'+n+'"]').attr("disabled","disabled"),this.$el.find('[data-value="'+n+'"]').addClass("hidden")},updateEmploymentStatusDetailsAfterChangeEmploymentStatus:function(e){if(d.isFieldEquals(e,["es_employed","es_self_employed"])){var t="es_employed"===e.value()?__("registration.field.label.employment_status_detailed.employer_details"):__("registration.field.label.employment_status_detailed.profession_details");return this.$el.find("label").html(t),void this.enable()}this.setDefaultValueWithFireChangeEvent(),this.disable()}};i.exports=u.extend({getAllCountryCodes:function(){return s.pluck(this.getAllCountries(),"code")},getAllowedCountries:function(){return this.get("allowedCountries")},getAllowedCountryCodes:function(){return s.pluck(this.getAllowedCountries(),"code")},getSortedAllowedCountryCodes:function(){return this.getAllowedCountryCodes().sort((function(e,t){return __("country.name."+e).localeCompare(__("country.name."+t))}))},getCountryCodes:function(){return this.getSortedAllowedCountryCodes().map((function(e){return e.toLowerCase()}))},getCountriesPhoneCodes:function(){return this.get("countriesPhoneCodes")},getPhoneToCountry:function(){return this.get("phoneToCountry")},getStepModels:function(){return{personal_information:new v,financial_information_cfd:new f,tax_information:new y}},getFormConfig:function(){return{firstName:this.stringInputTemplate("first_name",{lenght:50}),lastName:this.stringInputTemplate("last_name",{lenght:50}),maritalStatus:this.classicSelectBoxTemplate("marital_status"),birthDate:this.defaultDateOfBirth("date_of_birth",18,87),address:this.stringInputTemplate("address",{lenght:50}),zipCode:this.zipCodeInput("zip_code"),city:this.stringInputTemplate("city"),country:this.countrySelectBoxTemplate("country",this.getAllowedCountries()),citizenship:this.countrySelectBoxTemplate("citizenship",this.getAllCountries()).override({validation:r.countrySelectNotEmpty("citizenship")}),pep:this.yesNoDetailsTemlate("pep","textarea",1e3),primaryTinTaxJurisdiction:this.countrySelectBoxTemplate("primary_tin_tax_jurisdiction").override({translationGroupPrefix:"tax_jurisdiction"}),tinAbsenceReason:this.classicSelectBoxTemplate("tin_absence_reason").override({dependent:[{name:"have_primary_tin",handler:x.updatePrimaryTinAbsenceReasonAfterChangeHavePrimaryTin}],disable:!0}),have_primary_tin:this.classicSelectBoxTemplate("have_primary_tin").override({dependent:[{name:"tinAbsenceReason",handler:x.afterChangeTinAbsenceReason},{name:"primaryTinTaxJurisdiction",handler:x.updateTooltipAfterGBTaxJurisdiction}],helpHintText:__("reg.questionary.cysec.have_primary_tin.tooltip")}),primaryTin:this.stringInputTemplate("primary_tin").override({validation:{rules:{},filters:h.getFilters},dependent:[{name:"have_primary_tin",handler:x.updatePrimaryTinAfterChangeHavePrimaryTin},{name:"primaryTinTaxJurisdiction",handler:x.updatePrimaryTinAfterChangePrimaryTinTaxJurisdiction}],disable:!0}),secondaryTinTaxJurisdiction:this.countrySelectBoxTemplate("secondary_tin_tax_jurisdiction").override({options:p(m(this.getAllCountries())),translationGroupPrefix:"tax_jurisdiction",dependent:[{name:"have_primary_tin",handler:x.updateSecondaryTinTaxJurisdictionAfterChangeHavePrimaryTin},{name:"primaryTinTaxJurisdiction",handler:s.partial(x.updateSecondaryTinTaxJurisdictionSource,this.getAllCountryCodes())}],disable:!0}),secondaryTin:this.stringInputTemplate("secondary_tin").override({validation:{rules:{},filters:h.getFilters},dependent:[{name:"secondaryTinTaxJurisdiction",handler:x.updateSecondaryTinAfterChangeSecondaryTinTaxJurisdiction}],disable:!0}),fatca:this.fatcaConfigTemplate(),education_level:this.classicSelectBoxTemplate("education_level",!0),study_field:this.classicSelectBoxTemplate("study_field").override({template:l.selectBoxOverflowWidth,dependent:[{name:"education_level",handler:g.updateStudyFieldAfterChangeEducationLevel}],disable:"select-disabled"}),study_field_details:this.otherFieldDetailsTemplate("study_field","sf_other").override({dependent:[{name:"study_field",handler:g.updateStudyFieldDetailsAfterChangeStudyField},{name:"education_level",handler:g.updateStudyFieldDetailsAfterChangeEducationLevel}]}),qualification_level:this.classicSelectBoxTemplate("qualification_level").override({template:l.selectBoxOverflowWidth}),employment_status_detailed:this.classicSelectBoxTemplate("employment_status_detailed",!0),employment_status_detailed_details:this.stringInputTemplate("employment_status_detailed").override({placeholder:__("registration.field.value.provide"),disable:!0,dependent:[{name:"employment_status_detailed",handler:x.updateEmploymentStatusDetailsAfterChangeEmploymentStatus}],events:{onblur:d.checkInputOnBlur}}),profession:this.classicSelectBoxTemplate("profession").override({dependent:[{name:"employment_status_detailed",handler:x.activateOnlyIfEmployed}],disable:"select-disabled"}),profession_details:this.otherFieldDetailsTemplate("profession","i_other"),source_of_income:this.classicSelectBoxTemplate("source_of_income").override({dependent:[{name:"employment_status_detailed",handler:x.activateOnlyIfNotEmployed}]}),source_of_income_details:this.otherFieldDetailsTemplate("source_of_income","so_other"),annual_income:this.classicSelectBoxTemplate("annual_income"),net_worth:this.classicSelectBoxTemplate("net_worth"),net_worth_details:this.otherFieldDetailsTemplate("net_worth","nw_o_1000000"),yearly_income:this.classicSelectBoxTemplate("yearly_income"),yearly_income_details:this.otherFieldDetailsTemplate("yearly_income","ndi_o_50000"),intend_invest:this.classicSelectBoxTemplate("intend_invest"),intend_invest_details:this.otherFieldDetailsTemplate("intend_invest","at_o_10000"),funds_source:this.classicSelectBoxTemplate("funds_source"),funds_source_details:this.otherFieldDetailsTemplate("funds_source","fs_other"),orin_of_funds:this.multiCheckBox("orin_of_funds"),funds_source_bank:this.stringInputTemplate("funds_source_bank",{optional:!0}).override({disable:!0,dependent:[{name:"funds_source_bank_details",handler:function(){this.value("other")}}]}),funds_source_bank_details:this.stringInputTemplate("funds_source_bank_details",{optional:!0}).override({title:__("registration.field.label.funds_source_bank"),dataBefore:__("registration.field.funds_source_title.title")}),funds_source_country:this.stringInputTemplate("funds_source_country",{optional:!0}).override({disable:!0,dependent:[{name:"funds_source_country_details",handler:function(){this.value("other")}}]}),funds_source_country_details:this.countrySelectBoxTemplate("funds_source_country_details").override({title:__("registration.field.label.funds_source_country"),validation:{},options:m(this.getAllowedCountries()).map((function(e){return"EMPTY"!==e?e.toLowerCase():e})),dependent:[{name:"funds_source_bank_details",handler:x.activateIfNotEmpty}]}),different_withdrawals_dest:this.classicSelectBoxTemplate("different_withdrawals_dest"),withdrawals_dest_bank:this.stringInputTemplate("withdrawals_dest_bank",{optional:!0}).override({disable:!0,dependent:[{name:"withdrawals_dest_bank_details",handler:function(){this.value("other")}}]}),withdrawals_dest_bank_details:this.stringInputTemplate("withdrawals_dest_bank_details",{optional:!0}).override({title:__("registration.field.label.withdrawals_dest_bank"),dependent:[{name:"different_withdrawals_dest",handler:x.activateOnlyIfYes}],disable:!0}),withdrawals_dest_country:this.stringInputTemplate("withdrawals_dest_country").override({dependent:[{name:"withdrawals_dest_country_details",handler:function(){this.value("other")}}],disable:!0}),withdrawals_dest_country_details:this.countrySelectBoxTemplate("withdrawals_dest_country_details",this.getAllowedCountries()).override({title:__("registration.field.label.withdrawals_dest_country"),validation:{},options:m(this.getAllowedCountries()).map((function(e){return"EMPTY"!==e?e.toLowerCase():e})),dependent:[{name:"withdrawals_dest_bank_details",handler:x.activateIfNotEmpty},{name:"different_withdrawals_dest",handler:function(e){if(d.isFieldEquals(e,["yes"]))return this.enable(),void this.$el.addClass("select-disabled");this.disable(),this.setDefaultValueWithFireChangeEvent(),this.$el.removeClass("select-disabled")}}],disable:!0}),fx_volume_experience:this.classicSelectBoxTemplate("fx_volume_experience"),csb_volume_experience:this.classicSelectBoxTemplate("csb_volume_experience"),fx_experience:this.classicSelectBoxTemplate("fx_experience"),csb_experience:this.classicSelectBoxTemplate("csb_experience"),trade_kind:this.classicSelectBoxTemplate("trade_kind").override({template:l.selectBoxOverflowWidth,dependent:[{name:"csb_experience",handler:x.tradeKindNone},{name:"fx_experience",handler:x.tradeKindNone},{name:"csb_volume_experience",handler:x.tradeKindNone},{name:"fx_volume_experience",handler:x.tradeKindNone}]}),low_score_disclaimer:{title:"",translationKey:"",template:b,validation:{},disable:!1,dependent:[]},average_leverage:this.classicSelectBoxTemplate("average_leverage"),quiz_information_disclaimer:{template:s.template('<div class="quiz-disclaimer"><%=__("registration.step.disclaimer.quiz_information")%></div>'),disable:!1},termsAndConditions:{translationKey:"terms_and_conditions",options:{value:"",text:"TRANS_OPTION_TEXT_KEY",parseString:!0},template:l.checkBox,validation:{rules:{not_equals:["false",__("registration.warning.this_field_is_required",__("registration.field.label.termsAndConditions"))]},filters:[]},disable:!1,className:"coLtermsAndConditions",events:{onchange:d.validateFieldOnChange}},quiz_1:this.classicSelectBoxTemplate("quiz_1"),quiz_2:this.classicSelectBoxTemplate("quiz_2"),quiz_3:this.classicSelectBoxTemplate("quiz_3"),quiz_4:this.classicSelectBoxTemplate("quiz_4"),quiz_5:this.classicSelectBoxTemplate("quiz_5"),quiz_6:this.classicSelectBoxTemplate("quiz_6"),quiz_7:this.classicSelectBoxTemplate("quiz_7")}}})}.call(t,n,t,e))||(e.exports=s)}).call(this,n(1),n(16))},2599:function(e,t,n){(function(i){var a;void 0===(a=function(e,t,i){var a=n(1),s=n(49),o=n(6),l=n(51),r=n(14),d=n(163),_=n(875),c=n(9),u=n(1183),p=n(2600),m=n(2192),h=r.isRegistrationLowScoreDisclaimerEnabled()?a.template('<div class="low-score-disclaimer"><%=__("registration.step.disclaimer.financial_information")%></div>'):a.template(""),f={tradeKindNone:function(e){this.$el.find("[value=tk_none]").removeAttr("disabled"),this.$el.find("[data-value=tk_none]").removeClass("hidden"),this.$el.find("[value=tk_my_own]").removeAttr("disabled"),this.$el.find("[data-value=tk_my_own]").removeClass("hidden"),this.$el.find("[value=tk_with_advice]").removeAttr("disabled"),this.$el.find("[data-value=tk_with_advice]").removeClass("hidden");var t=e.options.form._fields;if(u.isFieldEquals(t.csb_experience,["EMPTY"])||u.isFieldEquals(t.fx_experience,["EMPTY"])||u.isFieldEquals(t.csb_volume_experience,["EMPTY"])||u.isFieldEquals(t.fx_volume_experience,["EMPTY"]))return this.setDefaultValue(),this.disable(),this.$el.addClass("select-disabled");this.enable(),this.$el.removeClass("select-disabled"),u.isFieldEquals(t.csb_experience,["EMPTY","ce_none"])&&u.isFieldEquals(t.fx_experience,["EMPTY","fe_none"])&&u.isFieldEquals(t.csb_volume_experience,["EMPTY","cve_none"])&&u.isFieldEquals(t.fx_volume_experience,["EMPTY","fve_none"])||(this.$el.find("[value=tk_none]").attr("disabled","disabled"),this.$el.find("[data-value=tk_none]").addClass("hidden")),u.isFieldEquals(t.fx_volume_experience,["fve_none"])&&u.isFieldEquals(t.csb_volume_experience,["cve_none"])&&(this.$el.find("[value=tk_my_own]").attr("disabled","disabled"),this.$el.find("[data-value=tk_my_own]").addClass("hidden"),this.$el.find("[value=tk_with_advice]").attr("disabled","disabled"),this.$el.find("[data-value=tk_with_advice]").addClass("hidden"))},activateWorkCountriesOnlyIfEmployed:function(e){if(u.isFieldEquals(e,["es_employed","es_self_employed"])){var t=this.getValue();return(a.isEmpty(t)||0===t.length||"EMPTY"===t[0])&&this.setValue(c.getCountry().toLowerCase()),this.enable(),void this.$el.removeClass("select-disabled")}this.disable(),this.setDefaultValueWithFireChangeEvent(),this.$el.addClass("select-disabled")},activateOnlyIfEmployed:function(e){if(u.isFieldEquals(e,["es_employed","es_self_employed"]))return this.enable(),void this.$el.removeClass("select-disabled");this.disable(),this.setDefaultValueWithFireChangeEvent(),this.$el.addClass("select-disabled")},activateOnlyIfNotEmployed:function(e){if(u.isFieldEquals(e,["es_retired","es_student","es_unemployed"]))return this.enable(),void this.$el.removeClass("select-disabled");this.disable(),this.setDefaultValueWithFireChangeEvent(),this.$el.addClass("select-disabled")}};function v(e){var t=a.pluck(e,"code").sort((function(e,t){return __("country.name."+e).localeCompare(__("country.name."+t))}));return t.unshift("EMPTY"),t}i.exports=s.extend({getAllCountries:function(){return this.get("allCountries")},getAllowedCountries:function(){return this.get("allowedCountries")},getAllowedCountryCodes:function(){return a.pluck(this.getAllowedCountries(),"code")},getSortedAllowedCountryCodes:function(){return this.getAllowedCountryCodes().sort((function(e,t){return __("country.name."+e).localeCompare(__("country.name."+t))}))},getCountryCodes:function(){return this.getSortedAllowedCountryCodes().map((function(e){return e.toLowerCase()}))},getCountriesPhoneCodes:function(){return this.get("countriesPhoneCodes")},getPhoneToCountry:function(){return this.get("phoneToCountry")},getStepModels:function(){return{financial_information:new p}},getFormConfig:function(){return{firstName:{translationKey:"first_name",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("first_name"),max_length:_.maxLength(50,"first_name")},filters:["string"]},disable:!1,events:{onblur:u.checkInputOnBlur}},lastName:{translationKey:"last_name",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("last_name"),max_length:_.maxLength(50,"last_name")},filters:["string"]},disable:!1,events:{onblur:u.checkInputOnBlur}},phone:{translationKey:"phone",options:{countries:this.getCountriesPhoneCodes(),phoneToCountry:this.getPhoneToCountry()},template:d.phoneBox,validation:{rules:{not_empty:_.notEmpty("phone"),numeric:_.numeric("phone"),validateLength:function(e){return e.phone.length>20?__("registration.phone.max",20):e.phoneInput.length<6?__("registration.phone.min",6):a.isEmpty(e.phoneSelect)?_.notEmpty("phone"):null}},filters:[]},disable:!1},birthDate:{translationKey:"date_of_birth",options:{minAge:18,maxAge:87,moment:o,splitByComma:l.splitByComma},template:d.dateBox,validation:{rules:{not_empty:_.notEmpty("date_of_birth")},filters:[]},disable:!1},address:{translationKey:"address",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("address"),max_length:_.maxLength(50,"address")},filters:["string"]},disable:!1,events:{onblur:u.checkInputOnBlur}},zipCode:{translationKey:"zip_code",template:d.inputBox,validation:_.zipCode("zip_code"),disable:!1,events:{onblur:u.checkInputOnBlur}},city:{translationKey:"city",template:d.inputBox,validation:{rules:{not_empty:_.notEmpty("city")},filters:["string"]},disable:!1,events:{onblur:u.checkInputOnBlur}},country:{translationKey:"country",translationGroupPrefix:"country.name",options:v(this.getAllowedCountries()),template:d.countriesSelectBox,validation:_.countrySelectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},citizenship:{title:__("registration.field.label.citizenship"),translationKey:"country",translationGroupPrefix:"country.name",options:v(this.getAllCountries()),template:d.countriesSelectBox,validation:_.countrySelectNotEmpty("citizenship"),disable:!1,events:{onchange:u.validateFieldOnChange}},fatca:{translationKey:"fatca",options:[{value:"NO",text:__("no")},{value:"YES",text:__("yes")},{value:__("registration.field.fatca.link.href"),text:__("registration.field.label.fatca.learn_more")}],template:d.fatcaBox,validation:_.radioNotEmpty("fatca"),disable:!1,events:{onchange:u.validateFieldOnChange}},employment_status:{translationKey:"employment_status",template:d.selectBox,validation:_.selectNotEmpty("employment_status"),disable:!1,events:{onchange:u.validateFieldOnChange}},trading_purpose:{title:__("reg.questionary.cysec.trading_purpose"),translationKey:"trading_purpose",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},trading_purpose_details:{title:__("reg.questionary.cysec.trading_purpose"),translationKey:"trading_purpose",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.industry_other")),options:{defaultValue:__("registration.field.label.industry_other")},dependent:[{name:"trading_purpose",handler:function(e){if("tp_other"===e.value())return e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(u.checkDependentFieldOnBlur,"trading_purpose")},placeholder:__("registration.field.value.provide"),disable:!0},anticipated_turnover:{title:__("reg.questionary.cysec.anticipated_turnover"),translationKey:"anticipated_turnover",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},transactions_nature:{title:__("reg.questionary.cysec.transactions_nature"),translationKey:"transactions_nature",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},transactions_nature_details:{title:__("reg.questionary.cysec.transactions_nature"),translationKey:"transactions_nature",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.tn_other")),options:{defaultValue:__("registration.field.label.tn_other")},dependent:[{name:"transactions_nature",handler:function(e){if("tn_other"===e.value())return e.disable(),e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(u.checkDependentFieldOnBlur,"transactions_nature")},placeholder:__("registration.field.value.provide"),disable:!0},industry:{title:__("reg.questionary.cysec.industry"),translationKey:"industry",template:d.selectBox,validation:_.selectNotEmpty(),dependent:[{name:"employment_status",handler:f.activateOnlyIfEmployed}],disable:"select-disabled",events:{onchange:u.validateFieldOnChange}},industry_details:{title:__("reg.questionary.cysec.industry"),translationKey:"industry",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.i_other")),dependent:[{name:"industry",handler:function(e){if("i_other"===e.value())return e.disable(),e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(u.checkDependentFieldOnBlur,"industry")},placeholder:__("registration.field.value.provide"),disable:!0},source_of_income:{title:__("reg.questionary.cysec.source_of_income"),translationKey:"source_of_income",template:d.selectBox,validation:_.selectNotEmpty(),dependent:[{name:"employment_status",handler:f.activateOnlyIfNotEmployed}],disable:!1,events:{onchange:u.validateFieldOnChange}},source_of_income_details:{title:__("reg.questionary.cysec.source_of_income"),translationKey:"source_of_income",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.so_other")),options:{defaultValue:__("registration.field.label.so_other")},dependent:[{name:"source_of_income",handler:function(e){if("so_other"===e.value())return e.disable(),e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(u.checkDependentFieldOnBlur,"source_of_income")},placeholder:__("registration.field.value.provide"),disable:!0},estimated_gross_income:{title:__("reg.questionary.cysec.estimated_gross_income"),translationKey:"estimated_gross_income",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},net_worth:{title:__("reg.questionary.cysec.net_worth"),translationKey:"net_worth",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},orin_of_funds:{title:__("reg.questionary.cysec.orin_of_funds"),translationKey:"orin_of_funds",translationGroupPrefix:"reg.questionary.cysec.orin_of_funds",template:d.multiCheckBox,validation:_.multiCheckBoxNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},education_level:{translationKey:"education_level",template:d.selectBox,validation:_.selectNotEmpty("education_level"),disable:!1,events:{onchange:u.validateFieldOnChange}},study_field:{title:__("registration.field.label.study_field"),translationKey:"study_field",template:d.selectBoxOverflowWidth,validation:_.selectNotEmpty("study_field"),dependent:[{name:"education_level",handler:m.updateStudyFieldAfterChangeEducationLevel}],disable:"select-disabled",events:{onchange:u.validateFieldOnChange}},study_field_details:{title:__("registration.field.label.study_field"),translationKey:"study_field_other",template:d.inputBox,validation:_.inputNotEqual(__("registration.field.label.study_field_other")),options:{defaultValue:__("registration.field.label.study_field_other")},dependent:[{name:"study_field",handler:m.updateStudyFieldDetailsAfterChangeStudyField},{name:"education_level",handler:m.updateStudyFieldDetailsAfterChangeEducationLevel}],events:{onblur:a.partial(u.checkDependentFieldOnBlur,"study_field")},placeholder:__("registration.field.value.provide"),disable:!0},fx_volume_experience:{title:__("reg.questionary.cysec.fx_volume_experience"),translationKey:"fx_volume_experience",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},csb_volume_experience:{title:__("reg.questionary.cysec.csb_volume_experience"),translationKey:"csb_volume_experience",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},fx_experience:{title:__("reg.questionary.cysec.fx_experience"),translationKey:"fx_experience",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},csb_experience:{title:__("reg.questionary.cysec.csb_experience"),translationKey:"csb_experience",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},trade_kind:{title:__("reg.questionary.cysec.trade_kind"),translationKey:"trade_kind",template:d.selectBoxOverflowWidth,validation:_.selectNotEmpty(),disable:!1,dependent:[{name:"csb_experience",handler:f.tradeKindNone},{name:"fx_experience",handler:f.tradeKindNone},{name:"csb_volume_experience",handler:f.tradeKindNone},{name:"fx_volume_experience",handler:f.tradeKindNone}],events:{onchange:u.validateFieldOnChange}},low_score_disclaimer:{title:"",translationKey:"",template:h,validation:{},disable:!1,dependent:[]},allowMarketingEmails:{translationKey:"allow_marketing_emails",options:{value:"",parseString:!1},template:d.checkBox,disable:!1},termsAndConditions:{translationKey:"terms_and_conditions",options:{value:"",text:"TRANS_OPTION_TEXT_KEY",parseString:!0},template:d.checkBox,validation:{rules:{not_equals:["false",__("registration.warning.this_field_is_required",__("registration.field.label.termsAndConditions"))]},filters:[]},disable:!1,events:{onchange:u.validateFieldOnChange}},quiz_1:{title:__("reg.questionary.cysec.quiz_1"),translationKey:"quiz_1",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},quiz_2:{title:__("reg.questionary.cysec.quiz_2"),translationKey:"quiz_2",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},quiz_3:{title:__("reg.questionary.cysec.quiz_3"),translationKey:"quiz_3",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},quiz_4:{title:__("reg.questionary.cysec.quiz_4"),translationKey:"quiz_4",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}},quiz_5:{title:__("reg.questionary.cysec.quiz_5"),translationKey:"quiz_5",template:d.selectBox,validation:_.selectNotEmpty(),disable:!1,events:{onchange:u.validateFieldOnChange}}}}})}.call(t,n,t,e))||(e.exports=a)}).call(this,n(1))},2600:function(e,t,n){var i;void 0===(i=function(e,t,i){n(1);var a=n(2366);n(14);i.exports=a.extend({after:function(e){var t=e.fatca;if(t)switch(t){case"NO":e.us_resident="ur_no";break;case"YES":e.us_resident="ur_yes"}return e}})}.call(t,n,t,e))||(e.exports=i)},2601:function(e,t,n){(function(i,a){var s;void 0===(s=function(e,t,i){var s=n(1),o=n(14),l=n(163),r=n(875),d=n(1183),_=n(9),c=n(2244),u=c.ConfigTemplates,p=(c.addRefuseSecondTinOption,c.countryCodeToOptions),m=n(2200),h=n(2367),f=n(2187),v=n(2368),y=n(2192),g=o.isRegistrationLowScoreDisclaimerEnabled()?s.template('<div class="low-score-disclaimer"><%=__("registration.step.disclaimer.financial_information")%></div>'):s.template(""),b={tradeKindNone:function(e){this.$el.find("[value=tk_none]").removeAttr("disabled"),this.$el.find("[data-value=tk_none]").removeClass("hidden");var t=e.options.form._fields;if(d.isFieldEquals(t.csb_experience,["EMPTY"])||d.isFieldEquals(t.fx_experience,["EMPTY"])||d.isFieldEquals(t.csb_volume_experience,["EMPTY"])||d.isFieldEquals(t.fx_volume_experience,["EMPTY"]))return this.setDefaultValue(),this.disable(),this.$el.addClass("select-disabled");this.enable(),this.$el.removeClass("select-disabled"),d.isFieldEquals(t.csb_experience,["EMPTY","ce_none"])&&d.isFieldEquals(t.fx_experience,["EMPTY","fe_none"])&&d.isFieldEquals(t.csb_volume_experience,["EMPTY","cve_none"])&&d.isFieldEquals(t.fx_volume_experience,["EMPTY","fve_none"])||(this.$el.find("[value=tk_none]").attr("disabled","disabled"),this.$el.find("[data-value=tk_none]").addClass("hidden"))},activateOnlyIfEmployed:function(e){if(d.isFieldEquals(e,["es_employed","es_self_employed"]))return this.enable(),void this.$el.removeClass("select-disabled");this.disable(),this.setDefaultValueWithFireChangeEvent(),this.$el.addClass("select-disabled")},activateOnlyIfNotEmployed:function(e){if(d.isFieldEquals(e,["es_retired","es_student","es_unemployed"]))return this.enable(),void this.$el.removeClass("select-disabled");this.disable(),this.setDefaultValueWithFireChangeEvent(),this.$el.addClass("select-disabled")},activateOnlyIfYes:function(e){d.isFieldEquals(e,["yes"])?this.enable():(this.disable(),this.setDefaultValueWithFireChangeEvent())},activateIfNotEmpty:function(e){if(!s.isEmpty(e.value()))return this.enable(),void this.$el.removeClass("select-disabled");this.disable(),this.setDefaultValueWithFireChangeEvent(),e.isDisabled()?this.$el.removeClass("select-disabled"):this.$el.addClass("select-disabled")},afterChangeTinAbsenceReason:function(e){if(d.isFieldEquals(e,["NOT_REQUIRED"]))return e.setTooltipMessage(__("reg.questionary.cysec.tin_absence_reason.not_required.tooltip")),void e.showNotErrorTooltip();e.hideTooltip()},updatePrimaryTinAfterChangeHavePrimaryTin:function(e){d.isFieldEquals(e,["have_primary_tin_yes"])?this.enable():(this.setDefaultValueWithFireChangeEvent(),this.disable())},updateTooltipAfterGBTaxJurisdiction:function(e){var t=e.getValue().toUpperCase(),n=a(this.$el.find("label > span")[0]);"GB"===t?n.html(__("registration.field.label.nino_question")):n.html(__("registration.field.label.have_primary_tin"))},updatePrimaryTinAfterChangePrimaryTinTaxJurisdiction:function(e){var t=e.getValue().toUpperCase(),n=m.getRulesByCountryCode(t,__("registration.warning.primary_tin"));this.setRules(n)},updatePrimaryTinAbsenceReasonAfterChangeHavePrimaryTin:function(e){d.isFieldEquals(e,["have_primary_tin_no"])?this.enable():(this.setDefaultValueWithFireChangeEvent(),this.disable())},updateSecondaryTinTaxJurisdictionAfterChangeHavePrimaryTin:function(e){d.isFieldEquals(e,["have_primary_tin_yes"])?this.enable():(this.setDefaultValueWithFireChangeEvent(),this.disable())},updateSecondaryTinAfterChangeSecondaryTinTaxJurisdiction:function(e){if(!d.isFieldEquals(e,["EMPTY","00"])){var t=e.getValue().toUpperCase(),n=m.getRulesByCountryCode(t,__("registration.warning.secondary_tin")),i=a(this.$el.find("label")[0]);return"GB"===t?i.html(__("registration.field.label.nino_question")):i.html(__("registration.field.label.secondary_tin")),this.setRules(n),this.enable(),void this.setDefaultState()}this.setDefaultValueWithFireChangeEvent(),this.disable()},updateSecondaryTinTaxJurisdictionSource:function(e){var t=this;e.forEach((function(e){t.$el.find('[value="'+e+'"]').removeAttr("disabled"),t.$el.find('[data-value="'+e+'"]').removeClass("hidden")}));var n=_.getCountry().toUpperCase();this.$el.find('[value="'+n+'"]').attr("disabled","disabled"),this.$el.find('[data-value="'+n+'"]').addClass("hidden")},updateEmploymentStatusDetailsAfterChangeEmploymentStatus:function(e){if(d.isFieldEquals(e,["es_employed","es_self_employed"])){var t="es_employed"===e.value()?__("registration.field.label.employment_status_detailed.employer_details"):__("registration.field.label.employment_status_detailed.profession_details");return this.$el.find("label").html(t),void this.enable()}this.setDefaultValueWithFireChangeEvent(),this.disable()}};i.exports=u.extend({getAllCountryCodes:function(){return s.pluck(this.getAllCountries(),"code")},getAllowedCountries:function(){return this.get("allowedCountries")},getAllowedCountryCodes:function(){return s.pluck(this.getAllowedCountries(),"code")},getSortedAllowedCountryCodes:function(){return this.getAllowedCountryCodes().sort((function(e,t){return __("country.name."+e).localeCompare(__("country.name."+t))}))},getCountryCodes:function(){return this.getSortedAllowedCountryCodes().map((function(e){return e.toLowerCase()}))},getCountriesPhoneCodes:function(){return this.get("countriesPhoneCodes")},getPhoneToCountry:function(){return this.get("phoneToCountry")},getStepModels:function(){return{personal_information:new f,financial_information_cfd:new h,tax_information:new v}},getFormConfig:function(){return{firstName:this.stringInputTemplate("first_name",{lenght:50}),lastName:this.stringInputTemplate("last_name",{lenght:50}),maritalStatus:this.classicSelectBoxTemplate("marital_status"),birthDate:this.defaultDateOfBirth("date_of_birth",18,87),address:this.stringInputTemplate("address",{lenght:50}),zipCode:this.zipCodeInput("zip_code"),city:this.stringInputTemplate("city"),country:this.countrySelectBoxTemplate("country",this.getAllowedCountries()),citizenship:this.countrySelectBoxTemplate("citizenship",this.getAllCountries()).override({validation:r.countrySelectNotEmpty("citizenship")}),pep:this.yesNoDetailsTemlate("pep","textarea",1e3),primaryTinTaxJurisdiction:this.countrySelectBoxTemplate("primary_tin_tax_jurisdiction").override({translationGroupPrefix:"tax_jurisdiction"}),fatca:this.fatcaConfigTemplate(),education_level:this.classicSelectBoxTemplate("education_level",!0),study_field:this.classicSelectBoxTemplate("study_field").override({template:l.selectBoxOverflowWidth,dependent:[{name:"education_level",handler:y.updateStudyFieldAfterChangeEducationLevel}],disable:"select-disabled"}),study_field_details:this.otherFieldDetailsTemplate("study_field","sf_other").override({dependent:[{name:"study_field",handler:y.updateStudyFieldDetailsAfterChangeStudyField},{name:"education_level",handler:y.updateStudyFieldDetailsAfterChangeEducationLevel}]}),qualification_level:this.classicSelectBoxTemplate("qualification_level").override({template:l.selectBoxOverflowWidth}),employment_status_detailed:this.classicSelectBoxTemplate("employment_status_detailed",!0),employment_status_detailed_details:this.stringInputTemplate("employment_status_detailed").override({placeholder:__("registration.field.value.provide"),disable:!0,dependent:[{name:"employment_status_detailed",handler:b.updateEmploymentStatusDetailsAfterChangeEmploymentStatus}],events:{onblur:d.checkInputOnBlur}}),profession:this.classicSelectBoxTemplate("profession").override({dependent:[{name:"employment_status_detailed",handler:b.activateOnlyIfEmployed}],disable:"select-disabled"}),profession_details:this.otherFieldDetailsTemplate("profession","i_other"),source_of_income:this.classicSelectBoxTemplate("source_of_income").override({dependent:[{name:"employment_status_detailed",handler:b.activateOnlyIfNotEmployed}]}),source_of_income_details:this.otherFieldDetailsTemplate("source_of_income","so_other"),annual_income:this.classicSelectBoxTemplate("annual_income"),net_worth:this.classicSelectBoxTemplate("net_worth"),net_worth_details:this.otherFieldDetailsTemplate("net_worth","nw_o_1000000"),yearly_income:this.classicSelectBoxTemplate("yearly_income"),yearly_income_details:this.otherFieldDetailsTemplate("yearly_income","ndi_o_50000"),intend_invest:this.classicSelectBoxTemplate("intend_invest"),intend_invest_details:this.otherFieldDetailsTemplate("intend_invest","at_o_10000"),funds_source:this.classicSelectBoxTemplate("funds_source"),funds_source_details:this.otherFieldDetailsTemplate("funds_source","fs_other"),orin_of_funds:this.multiCheckBox("orin_of_funds"),funds_source_bank:this.stringInputTemplate("funds_source_bank",{optional:!0}).override({disable:!0,dependent:[{name:"funds_source_bank_details",handler:function(){this.value("other")}}]}),funds_source_bank_details:this.stringInputTemplate("funds_source_bank_details",{optional:!0}).override({title:__("registration.field.label.funds_source_bank"),dataBefore:__("registration.field.funds_source_title.title")}),funds_source_country:this.stringInputTemplate("funds_source_country",{optional:!0}).override({disable:!0,dependent:[{name:"funds_source_country_details",handler:function(){this.value("other")}}]}),funds_source_country_details:this.countrySelectBoxTemplate("funds_source_country_details").override({title:__("registration.field.label.funds_source_country"),validation:{},options:p(this.getAllowedCountries()).map((function(e){return"EMPTY"!==e?e.toLowerCase():e})),dependent:[{name:"funds_source_bank_details",handler:b.activateIfNotEmpty}]}),different_withdrawals_dest:this.classicSelectBoxTemplate("different_withdrawals_dest"),withdrawals_dest_bank:this.stringInputTemplate("withdrawals_dest_bank",{optional:!0}).override({disable:!0,dependent:[{name:"withdrawals_dest_bank_details",handler:function(){this.value("other")}}]}),withdrawals_dest_bank_details:this.stringInputTemplate("withdrawals_dest_bank_details",{optional:!0}).override({title:__("registration.field.label.withdrawals_dest_bank"),dependent:[{name:"different_withdrawals_dest",handler:b.activateOnlyIfYes}],disable:!0}),withdrawals_dest_country:this.stringInputTemplate("withdrawals_dest_country").override({dependent:[{name:"withdrawals_dest_country_details",handler:function(){this.value("other")}}],disable:!0}),withdrawals_dest_country_details:this.countrySelectBoxTemplate("withdrawals_dest_country_details",this.getAllowedCountries()).override({title:__("registration.field.label.withdrawals_dest_country"),validation:{},options:p(this.getAllowedCountries()).map((function(e){return"EMPTY"!==e?e.toLowerCase():e})),dependent:[{name:"withdrawals_dest_bank_details",handler:b.activateIfNotEmpty},{name:"different_withdrawals_dest",handler:function(e){if(d.isFieldEquals(e,["yes"]))return this.enable(),void this.$el.addClass("select-disabled");this.disable(),this.setDefaultValueWithFireChangeEvent(),this.$el.removeClass("select-disabled")}}],disable:!0}),fx_volume_experience:this.classicSelectBoxTemplate("fx_volume_experience"),csb_volume_experience:this.classicSelectBoxTemplate("csb_volume_experience"),fx_experience:this.classicSelectBoxTemplate("fx_experience"),csb_experience:this.classicSelectBoxTemplate("csb_experience"),trade_kind:this.classicSelectBoxTemplate("trade_kind").override({template:l.selectBoxOverflowWidth,dependent:[{name:"csb_experience",handler:b.tradeKindNone},{name:"fx_experience",handler:b.tradeKindNone},{name:"csb_volume_experience",handler:b.tradeKindNone},{name:"fx_volume_experience",handler:b.tradeKindNone}]}),low_score_disclaimer:{title:"",translationKey:"",template:g,validation:{},disable:!1,dependent:[]},average_leverage:this.classicSelectBoxTemplate("average_leverage"),quiz_information_disclaimer:{template:s.template('<div class="quiz-disclaimer"><%=__("registration.step.disclaimer.quiz_information")%></div>'),disable:!1},termsAndConditions:{translationKey:"terms_and_conditions",options:{value:"",text:"TRANS_OPTION_TEXT_KEY",parseString:!0},template:l.checkBox,validation:{rules:{not_equals:["false",__("registration.warning.this_field_is_required",__("registration.field.label.termsAndConditions"))]},filters:[]},disable:!1,className:"coLtermsAndConditions",events:{onchange:d.validateFieldOnChange}},quiz_1:this.classicSelectBoxTemplate("quiz_1"),quiz_2:this.classicSelectBoxTemplate("quiz_2"),quiz_3:this.classicSelectBoxTemplate("quiz_3"),quiz_4:this.classicSelectBoxTemplate("quiz_4"),quiz_5:this.classicSelectBoxTemplate("quiz_5"),quiz_6:this.classicSelectBoxTemplate("quiz_6"),quiz_7:this.classicSelectBoxTemplate("quiz_7")}}})}.call(t,n,t,e))||(e.exports=s)}).call(this,n(1),n(16))},2602:function(e,t,n){(function(i,a){var s;void 0===(s=function(e,t,i){var s=n(1),o=n(14),l=n(163),r=n(875),d=n(1183),_=n(9),c=n(2244),u=c.ConfigTemplates,p=(c.addRefuseSecondTinOption,c.countryCodeToOptions,n(2200)),m=n(2367),h=n(2187),f=n(2368),v=n(2192),y=o.isRegistrationLowScoreDisclaimerEnabled()?s.template('<div class="low-score-disclaimer"><%=__("registration.step.disclaimer.financial_information")%></div>'):s.template(""),g={tradeKindNone:function(e){this.$el.find("[value=tk_none]").removeAttr("disabled"),this.$el.find("[data-value=tk_none]").removeClass("hidden");var t=e.options.form._fields;if(d.isFieldEquals(t.csb_experience,["EMPTY"])||d.isFieldEquals(t.fx_experience,["EMPTY"])||d.isFieldEquals(t.csb_volume_experience,["EMPTY"])||d.isFieldEquals(t.fx_volume_experience,["EMPTY"]))return this.setDefaultValue(),this.disable(),this.$el.addClass("select-disabled");this.enable(),this.$el.removeClass("select-disabled")},activateOnlyIfEmployed:function(e){if(d.isFieldEquals(e,["es_employed","es_self_employed"]))return this.enable(),void this.$el.removeClass("select-disabled");this.disable(),this.setDefaultValueWithFireChangeEvent(),this.$el.addClass("select-disabled")},activateOnlyIfNotEmployed:function(e){if(d.isFieldEquals(e,["es_retired","es_student","es_unemployed"]))return this.enable(),void this.$el.removeClass("select-disabled");this.disable(),this.setDefaultValueWithFireChangeEvent(),this.$el.addClass("select-disabled")},activateOnlyIfYes:function(e){d.isFieldEquals(e,["yes"])?this.enable():(this.disable(),this.setDefaultValueWithFireChangeEvent())},activateIfNotEmpty:function(e){if(!s.isEmpty(e.value()))return this.enable(),void this.$el.removeClass("select-disabled");this.disable(),this.setDefaultValueWithFireChangeEvent(),e.isDisabled()?this.$el.removeClass("select-disabled"):this.$el.addClass("select-disabled")},afterChangeTinAbsenceReason:function(e){if(d.isFieldEquals(e,["NOT_REQUIRED"]))return e.setTooltipMessage(__("reg.questionary.cysec.tin_absence_reason.not_required.tooltip")),void e.showNotErrorTooltip();e.hideTooltip()},updatePrimaryTinAfterChangeHavePrimaryTin:function(e){d.isFieldEquals(e,["have_primary_tin_yes"])?this.enable():(this.setDefaultValueWithFireChangeEvent(),this.disable())},updateTooltipAfterGBTaxJurisdiction:function(e){var t=e.getValue().toUpperCase(),n=a(this.$el.find("label > span")[0]);"GB"===t?n.html(__("registration.field.label.nino_question")):n.html(__("registration.field.label.have_primary_tin"))},updatePrimaryTinAfterChangePrimaryTinTaxJurisdiction:function(e){var t=e.getValue().toUpperCase(),n=p.getRulesByCountryCode(t,__("registration.warning.primary_tin"));this.setRules(n)},updatePrimaryTinAbsenceReasonAfterChangeHavePrimaryTin:function(e){d.isFieldEquals(e,["have_primary_tin_no"])?this.enable():(this.setDefaultValueWithFireChangeEvent(),this.disable())},updateSecondaryTinTaxJurisdictionAfterChangeHavePrimaryTin:function(e){d.isFieldEquals(e,["have_primary_tin_yes"])?this.enable():(this.setDefaultValueWithFireChangeEvent(),this.disable())},updateSecondaryTinAfterChangeSecondaryTinTaxJurisdiction:function(e){if(!d.isFieldEquals(e,["EMPTY","00"])){var t=e.getValue().toUpperCase(),n=p.getRulesByCountryCode(t,__("registration.warning.secondary_tin")),i=a(this.$el.find("label")[0]);return"GB"===t?i.html(__("registration.field.label.nino_question")):i.html(__("registration.field.label.secondary_tin")),this.setRules(n),this.enable(),void this.setDefaultState()}this.setDefaultValueWithFireChangeEvent(),this.disable()},updateSecondaryTinTaxJurisdictionSource:function(e){var t=this;e.forEach((function(e){t.$el.find('[value="'+e+'"]').removeAttr("disabled"),t.$el.find('[data-value="'+e+'"]').removeClass("hidden")}));var n=_.getCountry().toUpperCase();this.$el.find('[value="'+n+'"]').attr("disabled","disabled"),this.$el.find('[data-value="'+n+'"]').addClass("hidden")},updateEmploymentStatusDetailsAfterChangeEmploymentStatus:function(e){if(d.isFieldEquals(e,["es_employed","es_self_employed"])){var t="es_employed"===e.value()?__("registration.field.label.employment_status_detailed.employer_details"):__("registration.field.label.employment_status_detailed.profession_details");return this.$el.find("label").html(t),void this.enable()}this.setDefaultValueWithFireChangeEvent(),this.disable()}};i.exports=u.extend({getAllCountryCodes:function(){return s.pluck(this.getAllCountries(),"code")},getAllowedCountries:function(){return this.get("allowedCountries")},getAllowedCountryCodes:function(){return s.pluck(this.getAllowedCountries(),"code")},getSortedAllowedCountryCodes:function(){return this.getAllowedCountryCodes().sort((function(e,t){return __("country.name."+e).localeCompare(__("country.name."+t))}))},getCountryCodes:function(){return this.getSortedAllowedCountryCodes().map((function(e){return e.toLowerCase()}))},getCountriesPhoneCodes:function(){return this.get("countriesPhoneCodes")},getPhoneToCountry:function(){return this.get("phoneToCountry")},getStepModels:function(){return{personal_information:new h,financial_information_cfd:new m,tax_information:new f}},getFormConfig:function(){return{firstName:this.stringInputTemplate("first_name",{lenght:50}),lastName:this.stringInputTemplate("last_name",{lenght:50}),maritalStatus:this.classicSelectBoxTemplate("marital_status"),birthDate:this.defaultDateOfBirth("date_of_birth",18,87),address:this.stringInputTemplate("address",{lenght:50}),zipCode:this.zipCodeInput("zip_code"),city:this.stringInputTemplate("city"),country:this.countrySelectBoxTemplate("country",this.getAllowedCountries()),citizenship:this.countrySelectBoxTemplate("citizenship",this.getAllCountries()).override({validation:r.countrySelectNotEmpty("citizenship")}),pep:this.yesNoDetailsTemlate("pep","textarea",1e3),education_level:this.classicSelectBoxTemplate("education_level",!0),study_field:this.classicSelectBoxTemplate("study_field").override({template:l.selectBoxOverflowWidth,dependent:[{name:"education_level",handler:v.updateStudyFieldAfterChangeEducationLevel}],disable:"select-disabled"}),study_field_details:this.otherFieldDetailsTemplate("study_field","sf_other").override({dependent:[{name:"study_field",handler:v.updateStudyFieldDetailsAfterChangeStudyField},{name:"education_level",handler:v.updateStudyFieldDetailsAfterChangeEducationLevel}]}),qualification_level:this.classicSelectBoxTemplate("qualification_level").override({template:l.selectBoxOverflowWidth}),employment_status_detailed:this.classicSelectBoxTemplate("employment_status_detailed",!0),employment_status_detailed_details:this.stringInputTemplate("employment_status_detailed").override({placeholder:__("registration.field.value.provide"),disable:!0,dependent:[{name:"employment_status_detailed",handler:g.updateEmploymentStatusDetailsAfterChangeEmploymentStatus}],events:{onblur:d.checkInputOnBlur}}),profession:this.classicSelectBoxTemplate("profession").override({dependent:[{name:"employment_status_detailed",handler:g.activateOnlyIfEmployed}],disable:"select-disabled"}),profession_details:this.otherFieldDetailsTemplate("profession","i_other"),source_of_income:this.classicSelectBoxTemplate("source_of_income").override({dependent:[{name:"employment_status_detailed",handler:g.activateOnlyIfNotEmployed}]}),source_of_income_details:this.otherFieldDetailsTemplate("source_of_income","so_other"),annual_income:this.classicSelectBoxTemplate("annual_income"),net_worth:this.classicSelectBoxTemplate("net_worth"),net_worth_details:this.otherFieldDetailsTemplate("net_worth","nw_o_1000000"),intend_invest:this.classicSelectBoxTemplate("intend_invest"),intend_invest_details:this.otherFieldDetailsTemplate("intend_invest","at_o_10000"),funds_source:this.classicSelectBoxTemplate("funds_source"),funds_source_details:this.otherFieldDetailsTemplate("funds_source","fs_other"),fatca:this.fatcaConfigTemplate(),fx_volume_experience:this.classicSelectBoxTemplate("fx_volume_experience"),csb_volume_experience:this.classicSelectBoxTemplate("csb_volume_experience"),fx_experience:this.classicSelectBoxTemplate("fx_experience"),csb_experience:this.classicSelectBoxTemplate("csb_experience"),trade_kind:this.classicSelectBoxTemplate("trade_kind").override({template:l.selectBoxOverflowWidth,dependent:[{name:"csb_experience",handler:g.tradeKindNone},{name:"fx_experience",handler:g.tradeKindNone},{name:"csb_volume_experience",handler:g.tradeKindNone},{name:"fx_volume_experience",handler:g.tradeKindNone}]}),low_score_disclaimer:{title:"",translationKey:"",template:y,validation:{},disable:!1,dependent:[]},termsAndConditions:{translationKey:"terms_and_conditions",options:{value:"",text:"TRANS_OPTION_TEXT_KEY",parseString:!0},template:l.checkBox,validation:{rules:{not_equals:["false",__("registration.warning.this_field_is_required",__("registration.field.label.termsAndConditions"))]},filters:[]},disable:!1,className:"coLtermsAndConditions",events:{onchange:d.validateFieldOnChange}},quiz_1:this.classicSelectBoxTemplate("quiz_1"),quiz_3:this.classicSelectBoxTemplate("quiz_3"),quiz_4:this.classicSelectBoxTemplate("quiz_4"),quiz_7:this.classicSelectBoxTemplate("quiz_7")}}})}.call(t,n,t,e))||(e.exports=s)}).call(this,n(1),n(16))},2603:function(e,t,n){(function(i){var a;void 0===(a=function(e,t,i){var a=n(1),s=n(14),o=n(163),l=n(875),r=n(1183),d=n(2244).ConfigTemplates,_=n(2604),c=n(2187),u=s.isRegistrationLowScoreDisclaimerEnabled()?a.template('<div class="low-score-disclaimer"><%=__("registration.step.disclaimer.financial_information")%></div>'):a.template(""),p={tradeKindNone:function(e){this.$el.find("[value=tk_none]").removeAttr("disabled"),this.$el.find("[data-value=tk_none]").removeClass("hidden");var t=e.options.form._fields;if(r.isFieldEquals(t.csb_experience,["EMPTY"])||r.isFieldEquals(t.fx_experience,["EMPTY"])||r.isFieldEquals(t.csb_volume_experience,["EMPTY"])||r.isFieldEquals(t.fx_volume_experience,["EMPTY"]))return this.setDefaultValue(),this.disable(),this.$el.addClass("select-disabled");this.enable(),this.$el.removeClass("select-disabled"),r.isFieldEquals(t.csb_experience,["EMPTY","ce_none"])&&r.isFieldEquals(t.fx_experience,["EMPTY","fe_none"])&&r.isFieldEquals(t.csb_volume_experience,["EMPTY","cve_none"])&&r.isFieldEquals(t.fx_volume_experience,["EMPTY","fve_none"])||(this.$el.find("[value=tk_none]").attr("disabled","disabled"),this.$el.find("[data-value=tk_none]").addClass("hidden"))},activateOnlyIfEmployed:function(e){if(r.isFieldEquals(e,["es_employed","es_self_employed"]))return this.enable(),void this.$el.removeClass("select-disabled");this.disable(),this.setDefaultValueWithFireChangeEvent(),this.$el.addClass("select-disabled")},activateOnlyIfNotEmployed:function(e){if(r.isFieldEquals(e,["es_retired","es_student","es_unemployed"]))return this.enable(),void this.$el.removeClass("select-disabled");this.disable(),this.setDefaultValueWithFireChangeEvent(),this.$el.addClass("select-disabled")}};i.exports=d.extend({getAllCountryCodes:function(){return a.pluck(this.getAllCountries(),"code")},getAllowedCountries:function(){return this.get("allowedCountries")},getAllowedCountryCodes:function(){return a.pluck(this.getAllowedCountries(),"code")},getSortedAllowedCountryCodes:function(){return this.getAllowedCountryCodes().sort((function(e,t){return __("country.name."+e).localeCompare(__("country.name."+t))}))},getCountryCodes:function(){return this.getSortedAllowedCountryCodes().map((function(e){return e.toLowerCase()}))},getCountriesPhoneCodes:function(){return this.get("countriesPhoneCodes")},getPhoneToCountry:function(){return this.get("phoneToCountry")},getStepModels:function(){return{personal_information:new c,financial_information_cfd:new _}},getFormConfig:function(){return{firstName:this.stringInputTemplate("first_name",{lenght:50}),lastName:this.stringInputTemplate("last_name",{lenght:50}),maritalStatus:this.classicSelectBoxTemplate("marital_status"),birthDate:this.defaultDateOfBirth("date_of_birth",18,87),address:this.stringInputTemplate("address",{lenght:50}),zipCode:this.zipCodeInput("zip_code"),city:this.stringInputTemplate("city"),country:this.countrySelectBoxTemplate("country",this.getAllowedCountries()),citizenship:this.countrySelectBoxTemplate("citizenship",this.getAllCountries()).override({validation:l.countrySelectNotEmpty("citizenship")}),pep:this.yesNoDetailsTemlate("pep","textarea",1e3),education_level:this.classicSelectBoxTemplate("education_level",!0),study_field:this.classicSelectBoxTemplate("study_field").override({template:o.selectBoxOverflowWidth,dependent:[{name:"education_level",handler:function(e){return["EMPTY","ed_no_edu","ed_prim_edu"].indexOf(e.value())>=0?(this.setDefaultValue(),this.disable(),this.$el.addClass("select-disabled")):(this.enable(),this.$el.removeClass("select-disabled"))}}],disable:"select-disabled"}),study_field_details:this.otherFieldDetailsTemplate("study_field","sf_other",{name:"education_level",handler:function(e){this.isDisabled()||("ed_no_edu"!==e.value()&&"ed_prim_edu"!==e.value()?(this.enable(),this.focus()):this.disable())}}),qualification_level:this.classicSelectBoxTemplate("qualification_level").override({template:o.selectBoxOverflowWidth}),employment_status_detailed:this.classicSelectBoxTemplate("employment_status_detailed",!0),employment_status_detailed_details:this.stringInputTemplate("employment_status_detailed").override({placeholder:__("registration.field.value.provide"),disable:!0,dependent:[{name:"employment_status_detailed",handler:function(e){return this.value(""),"es_employed"===e.value()?(this.$el.find("label").html(__("registration.field.label.employment_status_detailed.employer_details")),void this.enable()):"es_self_employed"===e.value()?(this.$el.find("label").html(__("registration.field.label.employment_status_detailed.profession_details")),void this.enable()):void this.disable()}}],events:{onblur:r.checkInputOnBlur}}),profession:this.classicSelectBoxTemplate("profession").override({dependent:[{name:"employment_status_detailed",handler:p.activateOnlyIfEmployed}],disable:"select-disabled"}),profession_details:this.otherFieldDetailsTemplate("profession","i_other"),source_of_income:this.classicSelectBoxTemplate("source_of_income").override({dependent:[{name:"employment_status_detailed",handler:p.activateOnlyIfNotEmployed}]}),source_of_income_details:this.otherFieldDetailsTemplate("source_of_income","so_other"),annual_income:this.classicSelectBoxTemplate("annual_income"),net_worth:this.classicSelectBoxTemplate("net_worth"),net_worth_details:this.otherFieldDetailsTemplate("net_worth","nw_o_1000000"),yearly_income:this.classicSelectBoxTemplate("yearly_income"),yearly_income_details:this.otherFieldDetailsTemplate("yearly_income","ndi_o_50000"),intend_invest:this.classicSelectBoxTemplate("intend_invest"),intend_invest_details:this.otherFieldDetailsTemplate("intend_invest","at_o_10000"),funds_source:this.classicSelectBoxTemplate("funds_source"),funds_source_details:this.otherFieldDetailsTemplate("funds_source","fs_other"),orin_of_funds:this.multiCheckBox("orin_of_funds"),fatca:this.fatcaConfigTemplate(),fx_volume_experience:this.classicSelectBoxTemplate("fx_volume_experience"),csb_volume_experience:this.classicSelectBoxTemplate("csb_volume_experience"),fx_experience:this.classicSelectBoxTemplate("fx_experience"),csb_experience:this.classicSelectBoxTemplate("csb_experience"),trade_kind:this.classicSelectBoxTemplate("trade_kind").override({template:o.selectBoxOverflowWidth,dependent:[{name:"csb_experience",handler:p.tradeKindNone},{name:"fx_experience",handler:p.tradeKindNone},{name:"csb_volume_experience",handler:p.tradeKindNone},{name:"fx_volume_experience",handler:p.tradeKindNone}]}),low_score_disclaimer:{title:"",translationKey:"",template:u,validation:{},disable:!1,dependent:[]},average_leverage:this.classicSelectBoxTemplate("average_leverage"),quiz_information_disclaimer:{template:a.template('<div class="quiz-disclaimer"><%=__("registration.step.disclaimer.quiz_information")%></div>'),disable:!1},termsAndConditions:{translationKey:"terms_and_conditions",options:{value:"",text:"TRANS_OPTION_TEXT_KEY",parseString:!0},template:o.checkBox,validation:{rules:{not_equals:["false",__("registration.warning.this_field_is_required",__("registration.field.label.termsAndConditions"))]},filters:[]},disable:!1,className:"coLtermsAndConditions",events:{onchange:r.validateFieldOnChange}},quiz_1:this.classicSelectBoxTemplate("quiz_1"),quiz_2:this.classicSelectBoxTemplate("quiz_2"),quiz_3:this.classicSelectBoxTemplate("quiz_3"),quiz_4:this.classicSelectBoxTemplate("quiz_4"),quiz_5:this.classicSelectBoxTemplate("quiz_5"),quiz_6:this.classicSelectBoxTemplate("quiz_6"),quiz_7:this.classicSelectBoxTemplate("quiz_7")}}})}.call(t,n,t,e))||(e.exports=a)}).call(this,n(1))},2604:function(e,t,n){var i;void 0===(i=function(e,t,i){n(1),n(49);var a=n(2366);n(9);i.exports=a.extend({after:function(e){var t=e.fatca;if(t)switch(t){case"NO":e.us_resident="ur_no";break;case"YES":e.us_resident="ur_yes"}return e}})}.call(t,n,t,e))||(e.exports=i)},2605:function(e,t,n){(function(i){var a;void 0===(a=function(e,t,i){var a=n(1),s=n(49),o=n(6),l=n(51),r=n(163),d=n(875),_=n(1183),c=n(2187),u=n(2).EMPTY,p={showHaveSecondTinCountry:function(e){var t=this.getDependentFieldByName("have_tin"),n=this.getDependentFieldByName("have_second_tin");_.isFieldEquals(t,["have_tin_yes"])&&_.isFieldEquals(n,["have_second_tin_yes"])?this.enable():(this.setDefaultValueWithFireChangeEvent(),this.validate(),this.disable())},updateHaveSecondTinAfterChangeHaveTin:function(e){var t=this.getDependentFieldByName("have_tin");_.isFieldEquals(t,["have_tin_yes"])?this.enable():this.disable()},showTinAbsenceReason:function(e){var t=this.getDependentFieldByName("have_tin");_.isFieldEquals(t,["have_tin_no"])?this.enable():this.disable()},updateTinAbsenceReasonDetailsAfterChangeTinAbsenceReason:function(e){var t=this.getDependentFieldByName("have_tin"),n=this.getDependentFieldByName("tin_absence_reason");if(_.isFieldEquals(t,["have_tin_no"])&&_.isFieldEquals(n,["tin_absence_reason_other"]))return n.disable(),this.enable(),this.$el.css("display","block"),void this.focus();_.isFieldEquals(t,["have_tin_no"])&&n.enable(),this.$el.css("display","none")},updateTinAbsenceReasonDetailsAfterChangeHaveTin:function(e){var t=this.getDependentFieldByName("have_tin"),n=this.getDependentFieldByName("tin_absence_reason");if(!_.isFieldEquals(t,["have_tin_no"]))return this.disable(),this.setDefaultValueWithFireChangeEvent(),n.setDefaultValueWithFireChangeEvent(),void this.$el.css("display","none");_.isFieldEquals(n,["tin_absence_reason_other"])&&(n.disable(),this.enable(),this.$el.css("display","block"))},updateHaveSecondTinCountrySource:function(e,t){var n=this;e.forEach((function(e){n.$el.find('[value="'+e+'"]').removeAttr("disabled"),n.$el.find('[data-value="'+e+'"]').removeClass("hidden")}));var i=t.getValue().toLowerCase(),a=this.getValue();this.$el.find('[value="'+i+'"]').attr("disabled","disabled"),this.$el.find('[data-value="'+i+'"]').addClass("hidden"),a===i&&this.setDefaultValueWithFireChangeEvent()}};function m(e){var t=a.pluck(e,"code").sort((function(e,t){return __("country.name."+e).localeCompare(__("country.name."+t))}));return t.unshift(u),t}function h(e){return a.map(e,(function(e){return e===u?e:e.toLowerCase()}))}i.exports=s.extend({getAllCountries:function(){return this.get("allCountries")},getAllowedCountries:function(){return this.get("allowedCountries")},getAllowedCountryCodes:function(){return a.pluck(this.getAllowedCountries(),"code")},getSortedAllowedCountryCodes:function(){return this.getAllowedCountryCodes().sort((function(e,t){return __("country.name."+e).localeCompare(__("country.name."+t))}))},getCountryCodes:function(){return this.getSortedAllowedCountryCodes().map((function(e){return e.toLowerCase()}))},getCountriesPhoneCodes:function(){return this.get("countriesPhoneCodes")},getPhoneToCountry:function(){return this.get("phoneToCountry")},getStepModels:function(){return{personal_information:new c}},getFormConfig:function(){return{firstName:{translationKey:"first_name",template:r.inputBox,validation:{rules:{not_empty:d.notEmpty("first_name"),max_length:d.maxLength(50,"first_name")},filters:["string"]},disable:!1,events:{onblur:_.checkInputOnBlur}},lastName:{translationKey:"last_name",template:r.inputBox,validation:{rules:{not_empty:d.notEmpty("last_name"),max_length:d.maxLength(50,"last_name")},filters:["string"]},disable:!1,events:{onblur:_.checkInputOnBlur}},phone:{translationKey:"phone",options:{countries:this.getCountriesPhoneCodes(),phoneToCountry:this.getPhoneToCountry()},template:r.phoneBox,validation:{rules:{not_empty:d.notEmpty("phone"),numeric:d.numeric("phone"),validateLength:function(e){return e.phone.length>20?__("registration.phone.max",20):e.phoneInput.length<6?__("registration.phone.min",6):a.isEmpty(e.phoneSelect)?d.notEmpty("phone"):null}},filters:[]},disable:!1},birthDate:{translationKey:"date_of_birth",options:{minAge:18,maxAge:87,moment:o,splitByComma:l.splitByComma},template:r.dateBox,validation:{rules:{not_empty:d.notEmpty("date_of_birth")},filters:[]},disable:!1},address:{translationKey:"address",template:r.inputBox,validation:{rules:{not_empty:d.notEmpty("address"),max_length:d.maxLength(50,"address")},filters:["string"]},disable:!1,events:{onblur:_.checkInputOnBlur}},zipCode:{translationKey:"zip_code",template:r.inputBox,validation:d.zipCode("zip_code"),disable:!1,events:{onblur:_.checkInputOnBlur}},city:{translationKey:"city",template:r.inputBox,validation:{rules:{not_empty:d.notEmpty("city")},filters:["string"]},disable:!1,events:{onblur:_.checkInputOnBlur}},country:{translationKey:"country",translationGroupPrefix:"country.name",options:m(this.getAllowedCountries()),template:r.countriesSelectBox,validation:d.selectNotEmpty("country"),disable:!1,events:{onchange:_.validateFieldOnChange}},citizenship:{title:__("registration.field.label.citizenship"),translationKey:"country",translationGroupPrefix:"country.name",options:m(this.getAllCountries()),template:r.countriesSelectBox,validation:d.selectNotEmpty("citizenship"),disable:!1,events:{onchange:_.validateFieldOnChange}},have_tin:{title:__("reg.questionary.fsa-sy.have_tin"),translationKey:"have_tin",link:{href:__("reg.questionary.fsa-sy.have_tin.link.href"),text:__("reg.questionary.fsa-sy.have_tin.learn_more")},options:[{value:"have_tin_no",text:__("no")},{value:"have_tin_yes",text:__("yes")}],details:{option:"have_tin_yes",placeholder:__("reg.questionary.fsa-sy.have_tin.tin"),max_length:50,type:"input"},template:r.yesNoDetails,disable:!1},have_second_tin:{title:__("reg.questionary.fsa-sy.have_second_tin"),translationKey:"have_second_tin",options:[{value:"have_second_tin_no",text:__("no")},{value:"have_second_tin_yes",text:__("yes")}],details:{option:"have_second_tin_yes",placeholder:__("reg.questionary.fsa-sy.have_second_tin.tin"),max_length:50,type:"input"},template:r.yesNoDetails,dependent:[{name:"have_tin",handler:p.updateHaveSecondTinAfterChangeHaveTin}],disable:!0},have_second_tin_country:{title:__("reg.questionary.fsa-sy.have_second_tin_country"),translationKey:"have_second_tin_country",translationGroupPrefix:"country.name",options:h(m(this.getAllCountries())),template:r.countriesSelectBox,validation:d.countrySelectNotEmpty(),dependent:[{name:"have_second_tin",handler:p.showHaveSecondTinCountry},{name:"have_tin",handler:p.showHaveSecondTinCountry},{name:"country",handler:a.partial(p.updateHaveSecondTinCountrySource,h(m(this.getAllCountries())))}],disable:!0,events:{onchange:_.validateFieldOnChange}},tin_absence_reason:{title:__("reg.questionary.fsa-sy.tin_absence_reason"),translationKey:"tin_absence_reason",translationGroupPrefix:"reg.questionary.fsa-sy.tin_absence_reason",template:r.selectBox,validation:d.selectNotEmpty(),dependent:[{name:"have_tin",handler:p.showTinAbsenceReason}],disable:!0,events:{onchange:_.validateFieldOnChange}},tin_absence_reason_details:{title:__("reg.questionary.fsa-sy.tin_absence_reason"),translationKey:"tin_absence_reason",template:r.inputBox,validation:{rules:{not_empty:d.notEmpty()}},dependent:[{name:"tin_absence_reason",handler:p.updateTinAbsenceReasonDetailsAfterChangeTinAbsenceReason},{name:"have_tin",handler:p.updateTinAbsenceReasonDetailsAfterChangeHaveTin}],events:{onblur:a.partial(_.validateFieldOnChange,"tin_absence_reason")},placeholder:__("registration.field.value.provide"),disable:!0},us_resident:{title:__("reg.questionary.fsa-sy.us_resident"),translationKey:"us_resident",link:{href:__("reg.questionary.fsa-sy.us_resident.link.href"),text:__("reg.questionary.fsa-sy.us_resident.learn_more")},options:[{value:"ur_no",text:__("no")},{value:"ur_yes",text:__("yes")}],details:{option:"ur_yes",placeholder:__("reg.questionary.fsa-sy.us_resident.tin"),max_length:50,type:"input"},template:r.yesNoDetails,disable:!1},allowMarketingEmails:{translationKey:"allow_marketing_emails",options:{value:"",parseString:!0},template:r.checkBox,disable:!1},termsAndConditions:{translationKey:"terms_and_conditions",options:{value:"",text:"TRANS_OPTION_TEXT_KEY",parseString:!0},template:r.checkBox,validation:{rules:{not_equals:["false",__("registration.warning.this_field_is_required",__("registration.field.label.termsAndConditions"))]},filters:[]},disable:!1,events:{onchange:_.validateFieldOnChange}}}}})}.call(t,n,t,e))||(e.exports=a)}).call(this,n(1))},2606:function(e,t,n){(function(i){var a;void 0===(a=function(e,t,i){var a=n(1),s=n(6),o=n(51),l=n(163),r=n(875),d=n(2200),_=n(9),c=n(1183),u=n(2244).ConfigTemplates,p=n(2187),m=n(2243),h={tradeKindNone:function(e){this.$el.find("[value=tk_none]").removeAttr("disabled"),this.$el.find("[data-value=tk_none]").removeClass("hidden"),this.$el.find("[value=tk_my_own]").removeAttr("disabled"),this.$el.find("[data-value=tk_my_own]").removeClass("hidden"),this.$el.find("[value=tk_with_advice]").removeAttr("disabled"),this.$el.find("[data-value=tk_with_advice]").removeClass("hidden");var t=e.options.form._fields;if(c.isFieldEquals(t.csb_experience,["EMPTY"])||c.isFieldEquals(t.fx_experience,["EMPTY"])||c.isFieldEquals(t.csb_volume_experience,["EMPTY"])||c.isFieldEquals(t.fx_volume_experience,["EMPTY"]))return this.setDefaultValue(),this.disable(),this.$el.addClass("select-disabled");this.enable(),this.$el.removeClass("select-disabled"),c.isFieldEquals(t.csb_experience,["EMPTY","ce_none"])&&c.isFieldEquals(t.fx_experience,["EMPTY","fe_none"])&&c.isFieldEquals(t.csb_volume_experience,["EMPTY","cve_none"])&&c.isFieldEquals(t.fx_volume_experience,["EMPTY","fve_none"])||(this.$el.find("[value=tk_none]").attr("disabled","disabled"),this.$el.find("[data-value=tk_none]").addClass("hidden")),c.isFieldEquals(t.fx_volume_experience,["fve_none"])&&c.isFieldEquals(t.csb_volume_experience,["cve_none"])&&(this.$el.find("[value=tk_my_own]").attr("disabled","disabled"),this.$el.find("[data-value=tk_my_own]").addClass("hidden"),this.$el.find("[value=tk_with_advice]").attr("disabled","disabled"),this.$el.find("[data-value=tk_with_advice]").addClass("hidden"))},afterChangeTinAbsenceReason:function(e){if(c.isFieldEquals(e,["NOT_REQUIRED"]))return e.setTooltipMessage(__("reg.questionary.cysec.tin_absence_reason.not_required.tooltip")),void e.showNotErrorTooltip();e.hideTooltip()},updatePrimaryTinAfterChangeHavePrimaryTin:function(e){c.isFieldEquals(e,["have_primary_tin_yes"])?this.enable():(this.setDefaultValueWithFireChangeEvent(),this.disable())},updatePrimaryTinAfterChangePrimaryTinTaxJurisdiction:function(e){var t=e.getValue().toUpperCase(),n=d.getRulesByCountryCode(t,__("registration.warning.primary_tin"));this.setRules(n)},updatePrimaryTinAbsenceReasonAfterChangeHavePrimaryTin:function(e){c.isFieldEquals(e,["have_primary_tin_no"])?this.enable():(this.setDefaultValueWithFireChangeEvent(),this.disable())},updateSecondaryTinTaxJurisdictionAfterChangeHavePrimaryTin:function(e){c.isFieldEquals(e,["have_primary_tin_yes"])?this.enable():(this.setDefaultValueWithFireChangeEvent(),this.disable())},updateSecondaryTinAfterChangeSecondaryTinTaxJurisdiction:function(e){if(!c.isFieldEquals(e,["EMPTY","00"])){var t=e.getValue().toUpperCase(),n=d.getRulesByCountryCode(t,__("registration.warning.secondary_tin"));return this.setRules(n),this.enable(),void this.setDefaultState()}this.setDefaultValueWithFireChangeEvent(),this.disable()},updateSecondaryTinTaxJurisdictionSource:function(e){var t=this;e.forEach((function(e){t.$el.find('[value="'+e+'"]').removeAttr("disabled"),t.$el.find('[data-value="'+e+'"]').removeClass("hidden")}));var n=_.getCountry().toUpperCase();this.$el.find('[value="'+n+'"]').attr("disabled","disabled"),this.$el.find('[data-value="'+n+'"]').addClass("hidden")},activateOnlyIfEmployed:function(e){if(c.isFieldEquals(e,["es_employed","es_self_employed"]))return this.enable(),void this.$el.removeClass("select-disabled");this.disable(),this.setDefaultValueWithFireChangeEvent(),this.$el.addClass("select-disabled")}};function f(e){var t=a.pluck(e,"code").sort((function(e,t){return __("country.name."+e).localeCompare(__("country.name."+t))}));return t.unshift("EMPTY"),t}i.exports=u.extend({getAllCountries:function(){return this.get("allCountries")},getAllCountryCodes:function(){return a.pluck(this.getAllCountries(),"code")},getAllowedCountries:function(){return this.get("allowedCountries")},getCountriesPhoneCodes:function(){return this.get("countriesPhoneCodes")},getPhoneToCountry:function(){return this.get("phoneToCountry")},getStepModels:function(){return{personal_information:new p,tax_information:new m}},getFormConfig:function(){return{firstName:{translationKey:"first_name",template:l.inputBox,validation:{rules:{not_empty:r.notEmpty("first_name"),max_length:r.maxLength(50,"first_name")},filters:["string"]},disable:!1,events:{onblur:c.checkInputOnBlur}},lastName:{translationKey:"last_name",template:l.inputBox,validation:{rules:{not_empty:r.notEmpty("last_name"),max_length:r.maxLength(50,"last_name")},filters:["string"]},disable:!1,events:{onblur:c.checkInputOnBlur}},phone:{translationKey:"phone",options:{countries:this.getCountriesPhoneCodes(),phoneToCountry:this.getPhoneToCountry()},template:l.phoneBox,validation:{rules:{not_empty:r.notEmpty("phone"),numeric:r.numeric("phone"),validateLength:function(e){return e.phone.length>20?__("registration.phone.max",20):e.phoneInput.length<6?__("registration.phone.min",6):a.isEmpty(e.phoneSelect)?r.notEmpty("phone"):null}},filters:[]},disable:!1},birthDate:{translationKey:"date_of_birth",options:{minAge:18,maxAge:87,moment:s,splitByComma:o.splitByComma},template:l.dateBox,validation:{rules:{not_empty:r.notEmpty("date_of_birth")},filters:[]},disable:!1},address:{translationKey:"address",template:l.inputBox,validation:{rules:{not_empty:r.notEmpty("address"),max_length:r.maxLength(50,"address")},filters:["string"]},disable:!1,events:{onblur:c.checkInputOnBlur}},zipCode:{translationKey:"zip_code",template:l.inputBox,validation:r.zipCode("zip_code"),disable:!1,events:{onblur:c.checkInputOnBlur}},city:{translationKey:"city",template:l.inputBox,validation:{rules:{not_empty:r.notEmpty("city"),max_length:r.maxLength(50,"city")},filters:["string"]},disable:!1,events:{onblur:c.checkInputOnBlur}},country:{translationKey:"country",translationGroupPrefix:"country.name",options:f(this.getAllowedCountries()),template:l.countriesSelectBox,validation:r.selectNotEmpty("country"),disable:!1,events:{onchange:c.validateFieldOnChange}},citizenship:{title:__("registration.field.label.citizenship"),translationKey:"country",translationGroupPrefix:"country.name",options:f(this.getAllCountries()),template:l.countriesSelectBox,validation:r.selectNotEmpty("citizenship"),disable:!1,events:{onchange:c.validateFieldOnChange}},placeOfBirth:{title:__("registration.field.label.place_of_birth"),translationKey:"country",translationGroupPrefix:"country.name",options:f(this.getAllCountries()),template:l.countriesSelectBox,validation:r.selectNotEmpty("place_of_birth"),disable:!1,events:{onchange:c.validateFieldOnChange}},nationality:{title:__("registration.field.label.nationality"),translationKey:"country",translationGroupPrefix:"country.name",options:f(this.getAllCountries()),template:l.countriesSelectBox,validation:r.selectNotEmpty("nationality"),disable:!1,events:{onchange:c.validateFieldOnChange}},allowMarketingEmails:{savedData:"true"},primaryTinTaxJurisdiction:{title:__("registration.field.label.primary_tin_tax_jurisdiction"),translationKey:"primary_tin_tax_jurisdiction",translationGroupPrefix:"tax_jurisdiction",options:f(this.getAllCountries()),template:l.countriesSelectBox,validation:r.selectNotEmpty(),disable:"select-disabled",events:{onchange:c.validateFieldOnChange}},have_primary_tin:{title:__("registration.field.label.have_primary_tin"),translationKey:"have_primary_tin",template:l.selectBox,validation:r.selectNotEmpty(),dependent:[{name:"tinAbsenceReason",handler:h.afterChangeTinAbsenceReason}],disable:!1,events:{onchange:c.validateFieldOnChange}},primaryTin:{title:__("registration.field.label.primary_tin"),template:l.inputBox,validation:{rules:{},filters:d.getFilters},dependent:[{name:"have_primary_tin",handler:h.updatePrimaryTinAfterChangeHavePrimaryTin},{name:"primaryTinTaxJurisdiction",handler:h.updatePrimaryTinAfterChangePrimaryTinTaxJurisdiction}],events:{onblur:c.checkInputOnBlur},disable:!0},tinAbsenceReason:{title:__("registration.field.label.tin_absence_reason"),translationKey:"tin_absence_reason",template:l.selectBox,validation:r.selectNotEmpty(),dependent:[{name:"have_primary_tin",handler:h.updatePrimaryTinAbsenceReasonAfterChangeHavePrimaryTin}],disable:!0,events:{onchange:c.validateFieldOnChange}},secondaryTinTaxJurisdiction:{title:__("registration.field.label.secondary_tin_tax_jurisdiction"),translationKey:"country",translationGroupPrefix:"tax_jurisdiction",options:(e=f(this.getAllCountries()),["00"].concat(e)),template:l.countriesSelectBox,validation:r.selectNotEmpty(),dependent:[{name:"have_primary_tin",handler:h.updateSecondaryTinTaxJurisdictionAfterChangeHavePrimaryTin},{name:"primaryTinTaxJurisdiction",handler:a.partial(h.updateSecondaryTinTaxJurisdictionSource,this.getAllCountryCodes())}],disable:!0,events:{onchange:c.validateFieldOnChange}},secondaryTin:{title:__("registration.field.label.secondary_tin"),template:l.inputBox,validation:{rules:{},filters:d.getFilters},dependent:[{name:"secondaryTinTaxJurisdiction",handler:h.updateSecondaryTinAfterChangeSecondaryTinTaxJurisdiction}],disable:!0,events:{onblur:c.checkInputOnBlur}},fatca:this.fatcaConfigTemplate(),pep:this.yesNoDetailsTemlate("pep","textarea",1e3),employment_status:{translationKey:"employment_status",template:l.selectBox,validation:r.selectNotEmpty("employment_status"),disable:!1,events:{onchange:c.validateFieldOnChange}},industry:{title:__("reg.questionary.cysec.industry"),translationKey:"industry",template:l.selectBox,validation:r.selectNotEmpty(),dependent:[{name:"employment_status",handler:h.activateOnlyIfEmployed}],disable:"none",events:{onchange:c.validateFieldOnChange}},industry_details:{title:__("reg.questionary.cysec.industry"),translationKey:"industry",template:l.inputBox,validation:r.inputNotEqual(__("registration.field.label.i_other")),dependent:[{name:"industry",handler:function(e){if("i_other"===e.value())return e.disable(),e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(c.checkDependentFieldOnBlur,"industry")},placeholder:__("registration.field.value.provide"),disable:!0},employer_name:this.stringInputTemplate("employer_name",{optional:!0}).override({disable:!0,dependent:[{name:"employer_name_details",handler:function(){this.value("-")}}]}),employer_name_details:this.stringInputTemplate("employer_name_details").override({title:__("registration.field.label.employer_name"),validation:{rules:{not_empty:r.notEmpty("employer_name"),max_length:r.maxLength(50,"employer_name")},filters:["string"]}}),occupation:this.stringInputTemplate("occupation",{optional:!0}).override({disable:!0,dependent:[{name:"occupation_details",handler:function(){this.value("-")}}]}),occupation_details:this.stringInputTemplate("occupation_details").override({title:__("registration.field.label.occupation"),validation:{rules:{not_empty:r.notEmpty("occupation"),max_length:r.maxLength(50,"occupation")},filters:["string"]}}),total_income:this.classicSelectBoxTemplate("total_income"),net_worth:this.classicSelectBoxTemplate("net_worth"),income_source:{title:__("reg.questionary.cysec.income_source"),translationKey:"income_source",template:l.selectBox,validation:r.selectNotEmpty(),disable:!1,events:{onchange:c.validateFieldOnChange}},income_source_details:{title:__("reg.questionary.cysec.income_source"),translationKey:"income_source",template:l.inputBox,validation:r.inputNotEqual(__("registration.field.label.soi_other")),dependent:[{name:"income_source",handler:function(e){if("soi_other"===e.value())return e.disable(),e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(c.checkDependentFieldOnBlur,"income_source")},placeholder:__("registration.field.value.provide"),disable:!0},deposits_per_year:this.classicSelectBoxTemplate("deposits_per_year"),deposit_and_withdrawal_method:this.classicSelectBoxTemplate("deposit_and_withdrawal_method"),registration_reason:{title:__("reg.questionary.cysec.registration_reason"),translationKey:"registration_reason",template:l.selectBox,validation:r.selectNotEmpty(),disable:!1,events:{onchange:c.validateFieldOnChange}},registration_reason_details:{title:__("reg.questionary.cysec.registration_reason"),translationKey:"registration_reason",template:l.inputBox,validation:r.inputNotEqual(__("registration.field.label.rr_other")),dependent:[{name:"registration_reason",handler:function(e){if("rr_other"===e.value())return e.disable(),e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(c.checkDependentFieldOnBlur,"registration_reason")},placeholder:__("registration.field.value.provide"),disable:!0},net_disposable_income:{title:__("reg.questionary.cysec.net_disposable_income"),translationKey:"net_disposable_income",template:l.selectBox,validation:r.selectNotEmpty(),disable:!1,events:{onchange:c.validateFieldOnChange}},net_disposable_income_details:{title:__("reg.questionary.cysec.net_disposable_income"),translationKey:"net_disposable_income",template:l.inputBox,validation:r.inputNotEqual(__("registration.field.label.ndi_o_50000")),dependent:[{name:"net_disposable_income",handler:function(e){if("ndi_o_50000"===e.value())return e.disable(),e.$el.css("display","none"),this.enable(),void this.focus();e.$el.css("display","block"),this.disable()}}],events:{onblur:a.partial(c.checkDependentFieldOnBlur,"net_disposable_income")},placeholder:__("registration.field.value.provide"),disable:!0},acceptable_risk_reward:this.classicSelectBoxTemplate("acceptable_risk_reward"),investment_objectives:this.classicSelectBoxTemplate("investment_objectives"),trading_qualification:{translationKey:"trading_qualification",translationGroupPrefix:"reg.questionary.cysec.trading_qualification",template:l.multiCheckBox,validation:r.multiCheckBoxNotEmpty(),disable:!1,events:{onchange:function(e){if("tq_none"===e.currentTarget.value){var t=this.$el.find("input[value=tq_none]")[0];a.each(this.$el.find("input[type=checkbox]:not([value=tq_none])"),(function(e){t.checked?(e.checked=!1,e.disabled=!0):e.disabled=!1}))}this.validate()}}},termsAndConditions:{translationKey:"terms_and_conditions",options:{value:"",text:"TRANS_OPTION_TEXT_KEY",parseString:!0},template:l.checkBox,validation:{rules:{not_equals:["false",__("registration.warning.this_field_is_required",__("registration.field.label.termsAndConditions"))]},filters:[]},disable:!1,events:{onchange:c.validateFieldOnChange}},sbe_experience:this.classicSelectBoxTemplate("sbe_experience"),fos_experience:this.classicSelectBoxTemplate("fos_experience"),fx_experience:this.classicSelectBoxTemplate("fx_experience"),average_leverage:this.classicSelectBoxTemplate("average_leverage"),personalInformationConfirmed:{translationKey:"personal_information_confirmation",options:{value:"",parseString:!0},template:l.checkBox,validation:{rules:{not_equals:["false",__("registration.warning.this_field_is_required",__("registration.field.label.personal_information_confirmation"))]},filters:[]},disable:!1,events:{onchange:c.validateFieldOnChange}}};var e}})}.call(t,n,t,e))||(e.exports=a)}).call(this,n(1))},2607:function(e,t,n){(function(i){var a;void 0===(a=function(e,t,i){var a=n(1),s=n(112),o=n(2),l=o.STEP_PENDING,r=o.STEP_IN_PROGRESS,d=o.STEP_DONE;i.exports=s.extend({currentStepId:0,initSteps:function(e){var t=a.map(e,(function(e){return a.extend(e,{status:l})}));return a.extend(t[0],{status:r}),t},setData:function(e){a.each(e,this.add,this)},getCurrentStepId:function(){return this.currentStepId},getTrackStepId:function(){return this.getCurrentStepId()+1},getCurrentStep:function(){return this.at(this.currentStepId)},shiftStep:function(e){var t=this.getShiftedStepStatus(e);if(t){this.updateCurrentStepStatus(t);var n=this.currentStepId+e;n<0&&(n=0),n>=this.numberOfSteps()&&(n=this.numberOfSteps()-1),this.currentStepId=n,e<0&&!this.currentStepHasStatus(d)&&this.shiftStep(-1),this.updateCurrentStepStatus(r)}},currentStepHasStatus:function(e){return this.getCurrentStep().get("status")===e},updateCurrentStepStatus:function(e){this.getCurrentStep().set("status",e)},numberOfSteps:function(){return this.length},isLastStep:function(){return this.currentStepId+1===this.numberOfSteps()},isFirstStep:function(){return 0===this.currentStepId},getShiftedStepStatus:function(e){return e<0?this.isFirstStep()?null:l:e>0?this.isLastStep()?null:d:void 0},goNextStep:function(){this.shiftStep(1)},goPreviousStep:function(){this.shiftStep(-1)},getNumberStepsToFinish:function(){return this.numberOfSteps()-this.getCurrentStepId()}})}.call(t,n,t,e))||(e.exports=a)}).call(this,n(1))},2608:function(e){e.exports=JSON.parse('{"steps":[{"groupName":"personal_information","top":[],"bottom":[],"form":[[{"name":"firstName"},{"name":"lastName"},{"name":"phone","options":[]}],[{"name":"birthDate"},{"name":"address"},{"name":"zipCode"}],[{"name":"city"},{"name":"country","options":[]},{"name":"citizenship","options":[]}]]},{"groupName":"financial_information","top":[],"bottom":[],"form":[[{"name":"education_level","options":["ed_university_collage","ed_sec_edu","ed_prim_edu","ed_no_edu"]},{"name":"study_field","options":["sf_acc_bank","sf_cs_it","sf_med_sci","sf_art_fashion"]},{"name":"study_field_details"},{"name":"employment_status","options":["es_employed","es_self_employed","es_retired","es_student","es_unemployed"]},{"name":"profession","options":["p_property_land","p_trade_sales_retail","p_tourism_entertainment","p_marketing","p_it_pharmaceuticals","p_admin","p_social","p_financial_services"]}],[{"name":"annual_income","options":["ai_o_250000","ai_100001_250000","ai_25001_100000","ai_u_25000"]},{"name":"savings_investments","options":["si_o_1000001","si_250001_1000000","si_100001_250000","si_l_100000"]},{"name":"intend_invest","options":["ii_o_1000001","ii_100001_1000000","ii_25001_100000","ii_l_25000"]}],[{"name":"trading_purpose","options":["tp_speculative_trading","tp_additional_income_earning","tp_savings","tp_other"]},{"name":"trading_purpose_details"},{"name":"funds_source","options":["fs_employment","fs_savings_investments","fs_inheritance","fs_gift","fs_other"]},{"name":"funds_source_details"},{"name":"fatca"}]]},{"groupName":"trading_experience","top":[{"name":"low_score_disclaimer","options":[]}],"bottom":[],"form":[[{"name":"fx_volume_experience","options":["fve_o_250000","fve_50001_250000","fve_5001_50000","fve_l_5000","fve_none"]},{"name":"csb_volume_experience","options":["cve_o_250000","cve_50001_250000","cve_5001_50000","cve_l_5000","cve_none"]}],[{"name":"fx_experience","options":["fe_m_40","fe_26_40","fe_11_25","fe_1_10","fe_none"]},{"name":"csb_experience","options":["ce_m_40","ce_26_40","ce_11_25","ce_1_10","ce_none"]}],[{"name":"trade_kind","options":["tk_my_own","tk_with_advice","tk_related_role","tk_seminars","tk_2_years","tk_none"]}]]},{"groupName":"financial_knowledge","top":[],"bottom":[{"name":"termsAndConditions"}],"form":[[{"name":"apple_drops","options":["ad_move_same","ad_move_opposite","ad_not_affected"]},{"name":"facebook_buy_markets","options":["fbm_markets","fbm_london","fbm_cannot_sell"]}],[{"name":"maximum_open_position","options":["mop_50000","mop_5000","mop_500000"]},{"name":"trade_leverage","options":["tl_pl_magnitude","tl_risk_free","tl_none_above"]}],[{"name":"cfd_trading","options":["ct_no_ownership","ct_complex","ct_all_above"]}]]}]}')},2609:function(e){e.exports=JSON.parse('{"steps":[{"groupName":"personal_information","top":[],"bottom":[],"form":[[{"name":"firstName"},{"name":"lastName"},{"name":"phone","options":[]},{"name":"birthDate"}],[{"name":"address"},{"name":"zipCode"},{"name":"city"},{"name":"country","options":[]},{"name":"citizenship","options":[]}],[{"name":"have_tin","options":["have_tin_yes","have_tin_no"]},{"name":"tin_absence_reason","options":["tin_absence_reason_not_relevant","tin_absence_reason_does_not_issue","tin_absence_reason_unable_to_obtain","tin_absence_reason_not_required","tin_absence_reason_not_taxable_person","tin_absence_reason_other"]},{"name":"tin_absence_reason_details"},{"name":"have_second_tin","options":["have_second_tin_yes","have_second_tin_no"]},{"name":"have_second_tin_country","options":[]},{"name":"us_resident","options":["ur_yes","ur_no"]},{"name":"pep","options":["pep_yes","pep_no"]}]]},{"groupName":"financial_information","top":[],"bottom":[],"form":[[{"name":"anticipated_turnover","options":["at_u_100000","at_100001_250000","at_25001_100000","at_o_1000000"]},{"name":"anticipated_turnover_details"},{"name":"trading_purpose","options":["tp_speculative_trading","tp_additional_income_earning","tp_savings","tp_hedging","tp_other"]},{"name":"trading_purpose_details"},{"name":"transactions_nature","options":["tn_short_term_investment","tn_long_term_investment","tn_other"]},{"name":"transactions_nature_details"},{"name":"employment_status","options":["es_employed","es_self_employed","es_retired","es_student","es_unemployed"]}],[{"name":"industry","options":["i_accountancy","i_admin_secretarial","i_agriculture","i_financial_services_banking","i_catering_hospitality","i_creative_media","i_education","i_emergency_services","i_engineering","i_financial_services_other","i_health_medicine","i_hm_forces","i_hr","i_financial_services_insurance","i_it","i_legal","i_leisure_entertainment_other","i_manufacturing","i_marketing_pr_advertising","i_pharmaceuticals","i_property_constructions_trades","i_retail","i_sales","i_social_care_services","i_telecommunications","i_transport_logistics","i_other"]},{"name":"industry_details"},{"name":"work_countries"},{"name":"work_position","options":["work_position_academic","work_position_secretary","work_position_auditor","work_position_accountant","work_position_consultant","work_position_lawyer","work_position_manager","work_position_doctor","work_position_nurse","work_position_sales","work_position_partner","work_position_teacher","work_position_not_working","work_position_other"]},{"name":"work_position_details"}],[{"name":"source_of_income","options":["so_employment","so_saving","so_ppf","so_bb","so_private_pension","so_investments","so_other"]},{"name":"source_of_income_details"},{"name":"estimated_gross_income","options":["egi_u_25000","egi_25001_100000","egi_100001_250000","egi_o_250000"]},{"name":"estimated_gross_income_details"},{"name":"net_worth","options":["nw_u_100000","nw_100001_250000","nw_25001_100000","nw_o_1000000"]},{"name":"net_worth_details"},{"name":"orin_of_funds","options":["origin_of_funds_credit_card_eu","origin_of_funds_credit_card_non_eu","of_e_wallet","origin_of_funds_wire_transfer_eu","origin_of_funds_wire_transfer_non_eu"]}]]},{"groupName":"trading_experience","top":[{"name":"low_score_disclaimer","options":[]}],"bottom":[],"form":[[{"name":"education_level","options":["ed_prof_qualif","ed_university_collage","ed_sec_edu","ed_prim_edu","ed_no_edu"]},{"name":"study_field","options":["sf_acc_bank","sf_cs_it","sf_med_sci","sf_art_fashion","sf_other"]},{"name":"study_field_details"}],[{"name":"fx_experience","options":["fe_m_40","fe_26_40","fe_11_25","fe_1_10","fe_none"]},{"name":"csb_experience","options":["ce_m_40","ce_26_40","ce_11_25","ce_1_10","ce_none"]},{"name":"fx_volume_experience","options":["fve_o_250000","fve_50001_250000","fve_5001_50000","fve_l_5000","fve_none"]},{"name":"csb_volume_experience","options":["cve_o_250000","cve_50001_250000","cve_5001_50000","cve_l_5000","cve_none"]}],[{"name":"trade_kind","options":["tk_my_own","tk_with_advice","tk_related_role","tk_seminars","tk_2_years","tk_none"],"disable":false}]]},{"groupName":"quiz","top":[],"bottom":[{"name":"termsAndConditions"}],"form":[[{"name":"quiz_1","options":["q1_answer1","q1_answer2","q1_answer3"]},{"name":"quiz_2","options":["q2_answer1","q2_answer2","q2_answer3"]}],[{"name":"quiz_3","options":["q3_answer1","q3_answer2","q3_answer3"]},{"name":"quiz_4","options":["q4_answer1","q4_answer2","q4_answer3"]}],[{"name":"quiz_5","options":["q5_answer1","q5_answer2","q5_answer3"]}]]}]}')},2610:function(e){e.exports=JSON.parse('{"steps":[{"groupName":"personal_information","top":[],"bottom":[],"form":[[{"name":"firstName"},{"name":"lastName"},{"name":"phone","options":[]},{"name":"birthDate"}],[{"name":"address"},{"name":"zipCode"},{"name":"city"},{"name":"country","options":[]},{"name":"citizenship","options":[]}],[{"name":"have_tin","options":["have_tin_yes","have_tin_no"]},{"name":"tin_absence_reason","options":["tin_absence_reason_not_relevant","tin_absence_reason_does_not_issue","tin_absence_reason_unable_to_obtain","tin_absence_reason_not_required","tin_absence_reason_not_taxable_person","tin_absence_reason_other"]},{"name":"tin_absence_reason_details"},{"name":"have_second_tin","options":["have_second_tin_yes","have_second_tin_no"]},{"name":"have_second_tin_country","options":[]},{"name":"us_resident","options":["ur_yes","ur_no"]},{"name":"pep","options":["pep_yes","pep_no"]}]]},{"groupName":"financial_information","top":[],"bottom":[],"form":[[{"name":"anticipated_turnover","options":["at_u_100000","at_100001_250000","at_25001_100000","at_o_1000000"]},{"name":"anticipated_turnover_details"},{"name":"trading_purpose","options":["tp_speculative_trading","tp_additional_income_earning","tp_savings","tp_hedging","tp_other"]},{"name":"trading_purpose_details"},{"name":"transactions_nature","options":["tn_short_term_investment","tn_long_term_investment","tn_other"]},{"name":"transactions_nature_details"},{"name":"employment_status","options":["es_employed","es_self_employed","es_retired","es_student","es_unemployed"]}],[{"name":"industry","options":["i_accountancy","i_admin_secretarial","i_agriculture","i_financial_services_banking","i_catering_hospitality","i_creative_media","i_education","i_emergency_services","i_engineering","i_financial_services_other","i_health_medicine","i_hm_forces","i_hr","i_financial_services_insurance","i_it","i_legal","i_leisure_entertainment_other","i_manufacturing","i_marketing_pr_advertising","i_pharmaceuticals","i_property_constructions_trades","i_retail","i_sales","i_social_care_services","i_telecommunications","i_transport_logistics","i_other"]},{"name":"industry_details"},{"name":"work_countries"},{"name":"work_position","options":["work_position_academic","work_position_secretary","work_position_auditor","work_position_accountant","work_position_consultant","work_position_lawyer","work_position_manager","work_position_doctor","work_position_nurse","work_position_sales","work_position_partner","work_position_teacher","work_position_not_working","work_position_other"]},{"name":"work_position_details"}],[{"name":"source_of_income","options":["so_employment","so_saving","so_ppf","so_bb","so_private_pension","so_investments","so_other"]},{"name":"source_of_income_details"},{"name":"estimated_gross_income","options":["egi_u_25000","egi_25001_100000","egi_100001_250000","egi_o_250000"]},{"name":"estimated_gross_income_details"},{"name":"net_worth","options":["nw_u_100000","nw_100001_250000","nw_25001_100000","nw_o_1000000"]},{"name":"net_worth_details"},{"name":"orin_of_funds","options":["origin_of_funds_credit_card_eu","origin_of_funds_credit_card_non_eu","of_e_wallet","origin_of_funds_wire_transfer_eu","origin_of_funds_wire_transfer_non_eu"]}]]},{"groupName":"trading_experience","top":[{"name":"low_score_disclaimer","options":[]}],"bottom":[],"form":[[{"name":"education_level","options":["ed_prof_qualif","ed_university_collage","ed_sec_edu","ed_prim_edu","ed_no_edu"]},{"name":"study_field","options":["sf_acc_bank","sf_cs_it","sf_med_sci","sf_art_fashion","sf_other"]},{"name":"study_field_details"}],[{"name":"fx_experience","options":["fe_m_40","fe_26_40","fe_11_25","fe_1_10","fe_none"]},{"name":"csb_experience","options":["ce_m_40","ce_26_40","ce_11_25","ce_1_10","ce_none"]},{"name":"fx_volume_experience","options":["fve_o_250000","fve_50001_250000","fve_5001_50000","fve_l_5000","fve_none"]},{"name":"csb_volume_experience","options":["cve_o_250000","cve_50001_250000","cve_5001_50000","cve_l_5000","cve_none"]}],[{"name":"trade_kind","options":["tk_my_own","tk_with_advice","tk_related_role","tk_seminars","tk_2_years","tk_none"],"disable":false}]]},{"groupName":"quiz","top":[],"bottom":[{"name":"termsAndConditions"}],"form":[[{"name":"quiz_1","options":["q1_answer1","q1_answer2","q1_answer3"]},{"name":"quiz_2","options":["q2_answer1","q2_answer2","q2_answer3"]}],[{"name":"quiz_3","options":["q3_answer1","q3_answer2","q3_answer3"]},{"name":"quiz_4","options":["q4_answer1","q4_answer2","q4_answer3"]}],[{"name":"quiz_5","options":["q5_answer1","q5_answer2","q5_answer3"]}]]}]}')},2611:function(e){e.exports=JSON.parse('{"steps":[{"groupName":"personal_information","top":[],"bottom":[],"form":[[{"name":"firstName"},{"name":"lastName"},{"name":"phone","options":[]},{"name":"birthDate"}],[{"name":"address"},{"name":"zipCode"},{"name":"city"},{"name":"country","options":[]},{"name":"citizenship","options":[]}],[{"name":"have_tin","options":["have_tin_yes","have_tin_no"]},{"name":"tin_absence_reason","options":["tin_absence_reason_not_relevant","tin_absence_reason_does_not_issue","tin_absence_reason_unable_to_obtain","tin_absence_reason_not_required","tin_absence_reason_not_taxable_person","tin_absence_reason_other"]},{"name":"tin_absence_reason_details"},{"name":"have_second_tin","options":["have_second_tin_yes","have_second_tin_no"]},{"name":"have_second_tin_country","options":[]},{"name":"us_resident","options":["ur_yes","ur_no"]},{"name":"pep","options":["pep_yes","pep_no"]}]]},{"groupName":"financial_information","top":[],"bottom":[],"form":[[{"name":"anticipated_turnover","options":["at_u_100000","at_100001_250000","at_25001_100000","at_o_1000000"]},{"name":"anticipated_turnover_details"},{"name":"trading_purpose","options":["tp_speculative_trading","tp_additional_income_earning","tp_savings","tp_hedging","tp_other"]},{"name":"trading_purpose_details"},{"name":"transactions_nature","options":["tn_short_term_investment","tn_long_term_investment","tn_other"]},{"name":"transactions_nature_details"},{"name":"employment_status","options":["es_employed","es_self_employed","es_retired","es_student","es_unemployed"]}],[{"name":"industry","options":["i_accountancy","i_admin_secretarial","i_agriculture","i_financial_services_banking","i_catering_hospitality","i_creative_media","i_education","i_emergency_services","i_engineering","i_financial_services_other","i_health_medicine","i_hm_forces","i_hr","i_financial_services_insurance","i_it","i_legal","i_leisure_entertainment_other","i_manufacturing","i_marketing_pr_advertising","i_pharmaceuticals","i_property_constructions_trades","i_retail","i_sales","i_social_care_services","i_telecommunications","i_transport_logistics","i_other"]},{"name":"industry_details"},{"name":"work_countries"},{"name":"work_position","options":["work_position_academic","work_position_secretary","work_position_auditor","work_position_accountant","work_position_consultant","work_position_lawyer","work_position_manager","work_position_doctor","work_position_nurse","work_position_sales","work_position_partner","work_position_teacher","work_position_not_working","work_position_other"]},{"name":"work_position_details"}],[{"name":"source_of_income","options":["so_employment","so_saving","so_ppf","so_bb","so_private_pension","so_investments","so_other"]},{"name":"source_of_income_details"},{"name":"estimated_gross_income","options":["egi_u_25000","egi_25001_100000","egi_100001_250000","egi_o_250000"]},{"name":"estimated_gross_income_details"},{"name":"net_worth","options":["nw_u_100000","nw_100001_250000","nw_25001_100000","nw_o_1000000"]},{"name":"net_worth_details"},{"name":"orin_of_funds","options":["origin_of_funds_credit_card_eu","origin_of_funds_credit_card_non_eu","of_e_wallet","origin_of_funds_wire_transfer_eu","origin_of_funds_wire_transfer_non_eu"]}]]},{"groupName":"trading_experience","top":[{"name":"low_score_disclaimer","options":[]}],"bottom":[],"form":[[{"name":"education_level","options":["ed_prof_qualif","ed_university_collage","ed_sec_edu","ed_prim_edu","ed_no_edu"]},{"name":"study_field","options":["sf_acc_bank","sf_cs_it","sf_med_sci","sf_art_fashion","sf_other"]},{"name":"study_field_details"}],[{"name":"fx_experience","options":["fe_m_40","fe_26_40","fe_11_25","fe_1_10","fe_none"]},{"name":"csb_experience","options":["ce_m_40","ce_26_40","ce_11_25","ce_1_10","ce_none"]},{"name":"fx_volume_experience","options":["fve_o_250000","fve_50001_250000","fve_5001_50000","fve_l_5000","fve_none"]},{"name":"csb_volume_experience","options":["cve_o_250000","cve_50001_250000","cve_5001_50000","cve_l_5000","cve_none"]}],[{"name":"trade_kind","options":["tk_my_own","tk_with_advice","tk_related_role","tk_seminars","tk_2_years","tk_none"],"disable":false}]]},{"groupName":"quiz","top":[],"bottom":[{"name":"termsAndConditions"}],"form":[[{"name":"quiz_1","options":["q1_answer1","q1_answer2","q1_answer3"]},{"name":"quiz_2","options":["q2_answer1","q2_answer2","q2_answer3"]}],[{"name":"quiz_3","options":["q3_answer1","q3_answer2","q3_answer3"]},{"name":"quiz_4","options":["q4_answer1","q4_answer2","q4_answer3"]}],[{"name":"quiz_5","options":["q5_answer1","q5_answer2","q5_answer3"]}]]}]}')},2612:function(e){e.exports=JSON.parse('{"steps":[{"groupName":"personal_information","top":[],"bottom":[],"form":[[{"name":"firstName"},{"name":"lastName"},{"name":"phone","options":[]},{"name":"birthDate"}],[{"name":"address"},{"name":"zipCode"},{"name":"city"}],[{"name":"country","options":[]},{"name":"citizenship","options":[]},{"name":"nationalCountryIdentifier"}]]},{"groupName":"tax_information","top":[],"bottom":[{"name":"tax_information_disclaimer"}],"form":[[{"name":"primaryTinTaxJurisdiction","options":[]},{"name":"have_primary_tin","options":["have_primary_tin_yes","have_primary_tin_no"]},{"name":"primaryTin"},{"name":"tinAbsenceReason","options":["DOES_NOT_ISSUE","UNABLE_TO_OBTAIN","NOT_REQUIRED"]}],[{"name":"secondaryTinTaxJurisdiction","options":[]},{"name":"secondaryTin"}],[{"name":"fatca"}]]},{"groupName":"financial_information","top":[],"bottom":[],"form":[[{"name":"education_level","options":["ed_university_collage","ed_sec_edu","ed_prim_edu","ed_no_edu"]},{"name":"study_field","options":["sf_acc_bank","sf_cs_it","sf_med_sci","sf_art_fashion"]},{"name":"study_field_details"},{"name":"employment_status","options":["es_employed","es_self_employed","es_retired","es_student","es_unemployed"]},{"name":"profession","options":["p_property_land","p_trade_sales_retail","p_tourism_entertainment","p_marketing","p_it_pharmaceuticals","p_admin","p_social","p_financial_services"]}],[{"name":"annual_income","options":["ai_o_250000","ai_100001_250000","ai_25001_100000","ai_u_25000"]},{"name":"savings_investments","options":["si_o_1000001","si_250001_1000000","si_100001_250000","si_l_100000"]},{"name":"intend_invest","options":["ii_o_1000001","ii_100001_1000000","ii_25001_100000","ii_l_25000"]}],[{"name":"trading_purpose","options":["tp_speculative_trading","tp_additional_income_earning","tp_savings","tp_other"]},{"name":"trading_purpose_details"},{"name":"funds_source","options":["fs_employment","fs_savings_investments","fs_inheritance","fs_gift","fs_other"]},{"name":"funds_source_details"}]]},{"groupName":"trading_experience","top":[{"name":"low_score_disclaimer","options":[]}],"bottom":[],"form":[[{"name":"fx_volume_experience","options":["fve_o_250000","fve_50001_250000","fve_5001_50000","fve_l_5000","fve_none"]},{"name":"csb_volume_experience","options":["cve_o_250000","cve_50001_250000","cve_5001_50000","cve_l_5000","cve_none"]}],[{"name":"fx_experience","options":["fe_m_40","fe_26_40","fe_11_25","fe_1_10","fe_none"]},{"name":"csb_experience","options":["ce_m_40","ce_26_40","ce_11_25","ce_1_10","ce_none"]}],[{"name":"trade_kind","options":["tk_my_own","tk_with_advice","tk_related_role","tk_seminars","tk_2_years","tk_none"]}]]},{"groupName":"financial_knowledge","top":[],"bottom":[{"name":"termsAndConditions"}],"form":[[{"name":"apple_drops","options":["ad_move_same","ad_move_opposite","ad_not_affected"]},{"name":"facebook_buy_markets","options":["fbm_markets","fbm_london","fbm_cannot_sell"]}],[{"name":"maximum_open_position","options":["mop_50000","mop_5000","mop_500000"]},{"name":"trade_leverage","options":["tl_pl_magnitude","tl_risk_free","tl_none_above"]}],[{"name":"cfd_trading","options":["ct_no_ownership","ct_complex","ct_all_above"]}]]}]}')},2613:function(e){e.exports=JSON.parse('{"steps":[{"groupName":"personal_information","top":[],"bottom":[],"form":[[{"name":"firstName"},{"name":"lastName"},{"name":"phone","options":[]},{"name":"birthDate"}],[{"name":"address"},{"name":"zipCode"},{"name":"city"}],[{"name":"country","options":[]},{"name":"citizenship","options":[]},{"name":"nationalCountryIdentifier"}]]},{"groupName":"tax_information","top":[],"bottom":[{"name":"tax_information_disclaimer"}],"form":[[{"name":"primaryTinTaxJurisdiction","options":[]},{"name":"have_primary_tin","options":["have_primary_tin_yes","have_primary_tin_no"]},{"name":"primaryTin"},{"name":"tinAbsenceReason","options":["DOES_NOT_ISSUE","UNABLE_TO_OBTAIN","NOT_REQUIRED"]}],[{"name":"secondaryTinTaxJurisdiction","options":[]},{"name":"secondaryTin"}],[{"name":"fatca"}]]},{"groupName":"financial_information","top":[],"bottom":[],"form":[[{"name":"education_level","options":["ed_university_collage","ed_sec_edu","ed_prim_edu","ed_no_edu"]},{"name":"study_field","options":["sf_acc_bank","sf_cs_it","sf_med_sci","sf_art_fashion"]},{"name":"study_field_details"},{"name":"employment_status","options":["es_employed","es_self_employed","es_retired","es_student","es_unemployed"]},{"name":"profession","options":["p_property_land","p_trade_sales_retail","p_tourism_entertainment","p_marketing","p_it_pharmaceuticals","p_admin","p_social","p_financial_services"]}],[{"name":"annual_income","options":["ai_o_250000","ai_100001_250000","ai_25001_100000","ai_u_25000"]},{"name":"savings_investments","options":["si_o_1000001","si_250001_1000000","si_100001_250000","si_l_100000"]},{"name":"intend_invest","options":["ii_o_1000001","ii_100001_1000000","ii_25001_100000","ii_l_25000"]}],[{"name":"trading_purpose","options":["tp_speculative_trading","tp_additional_income_earning","tp_savings","tp_other"]},{"name":"trading_purpose_details"},{"name":"funds_source","options":["fs_employment","fs_savings_investments","fs_inheritance","fs_gift","fs_other"]},{"name":"funds_source_details"}]]},{"groupName":"trading_experience","top":[{"name":"low_score_disclaimer","options":[]}],"bottom":[{"name":"termsAndConditions"}],"form":[[{"name":"fx_volume_experience","options":["fve_o_250000","fve_50001_250000","fve_5001_50000","fve_l_5000","fve_none"]},{"name":"fx_experience","options":["fe_m_40","fe_26_40","fe_11_25","fe_1_10","fe_none"]}],[{"name":"trade_kind","options":["tk_my_own","tk_with_advice","tk_related_role","tk_seminars","tk_2_years","tk_none"]}]]}]}')},2614:function(e){e.exports=JSON.parse('{"steps":[{"groupName":"personal_information","top":[],"bottom":[],"form":[[{"name":"firstName"},{"name":"lastName"},{"name":"phone","options":[]},{"name":"birthDate"}],[{"name":"address"},{"name":"zipCode"},{"name":"city"}],[{"name":"country","options":[]},{"name":"citizenship","options":[]},{"name":"nationalCountryIdentifier"}]]},{"groupName":"tax_information","top":[],"bottom":[{"name":"tax_information_disclaimer"}],"form":[[{"name":"primaryTinTaxJurisdiction","options":[]},{"name":"have_primary_tin","options":["have_primary_tin_yes","have_primary_tin_no"]},{"name":"primaryTin"},{"name":"tinAbsenceReason","options":["DOES_NOT_ISSUE","UNABLE_TO_OBTAIN","NOT_REQUIRED"]}],[{"name":"secondaryTinTaxJurisdiction","options":[]},{"name":"secondaryTin"}],[{"name":"fatca"}]]},{"groupName":"financial_information","top":[],"bottom":[],"form":[[{"name":"education_level","options":["ed_university_collage","ed_sec_edu","ed_prim_edu","ed_no_edu"]},{"name":"study_field","options":["sf_acc_bank","sf_cs_it","sf_med_sci","sf_art_fashion"]},{"name":"study_field_details"},{"name":"employment_status","options":["es_employed","es_self_employed","es_retired","es_student","es_unemployed"]},{"name":"profession","options":["p_property_land","p_trade_sales_retail","p_tourism_entertainment","p_marketing","p_it_pharmaceuticals","p_admin","p_social","p_financial_services"]}],[{"name":"annual_income","options":["ai_o_250000","ai_100001_250000","ai_25001_100000","ai_u_25000"]},{"name":"savings_investments","options":["si_o_1000001","si_250001_1000000","si_100001_250000","si_l_100000"]},{"name":"intend_invest","options":["ii_o_1000001","ii_100001_1000000","ii_25001_100000","ii_l_25000"]}],[{"name":"trading_purpose","options":["tp_speculative_trading","tp_additional_income_earning","tp_savings","tp_other"]},{"name":"trading_purpose_details"},{"name":"funds_source","options":["fs_employment","fs_savings_investments","fs_inheritance","fs_gift","fs_other"]},{"name":"funds_source_details"}]]},{"groupName":"trading_experience","top":[{"name":"low_score_disclaimer","options":[]}],"bottom":[],"form":[[{"name":"fx_volume_experience","options":["fve_o_250000","fve_50001_250000","fve_5001_50000","fve_l_5000","fve_none"]},{"name":"fx_experience","options":["fe_m_40","fe_26_40","fe_11_25","fe_1_10","fe_none"]}],[{"name":"trade_kind","options":["tk_my_own","tk_with_advice","tk_related_role","tk_seminars","tk_2_years","tk_none"]}]]},{"groupName":"financial_knowledge","top":[],"bottom":[{"name":"termsAndConditions"}],"form":[[{"name":"what_does_cfd_stand_for","options":["wdcsf_con_for_dif","wdcsf_com_for_div","wdcsf_con_from_deed"]},{"name":"price_apple_drops","options":["pad_move_same_dir","pad_not_aff","pad_move_opp_dir"]},{"name":"knowledge_of_markets","options":["kom_can_be_practiced","kom_do_not_need_knowledge"]},{"name":"max_amount_leverage","options":["mal_10_000","mal_50_000","mal_100_000"]}],[{"name":"true_about_cfd","options":["tac_complex_products","tac_understanding_risks","tac_both_of_above"]},{"name":"cfd_owner_asset","options":["coa_next_day","coa_not_entitle_asset"]},{"name":"leverage_risks","options":["lr_true","lr_false"]}],[{"name":"margin_call","options":["mc_demand_additional_money","mc_type_instrument","mc_phone_calls"]},{"name":"avoid_margin_stop","options":["ams_close_positions","ams_open_positions"]},{"name":"volatility_market_fluctuates","options":["vmf_true","vmf_false"]}]]}]}')},2615:function(e){e.exports=JSON.parse('{"steps":[{"groupName":"personal_information","top":[],"bottom":[],"form":[[{"name":"firstName"},{"name":"lastName"},{"name":"phone","options":[]},{"name":"birthDate"}],[{"name":"address"},{"name":"zipCode"},{"name":"city"}],[{"name":"country","options":[]},{"name":"citizenship","options":[]},{"name":"nationalCountryIdentifier"}]]},{"groupName":"tax_information","top":[],"bottom":[{"name":"tax_information_disclaimer"}],"form":[[{"name":"primaryTinTaxJurisdiction","options":[]},{"name":"have_primary_tin","options":["have_primary_tin_yes","have_primary_tin_no"]},{"name":"primaryTin"},{"name":"tinAbsenceReason","options":["DOES_NOT_ISSUE","UNABLE_TO_OBTAIN","NOT_REQUIRED"]}],[{"name":"secondaryTinTaxJurisdiction","options":[]},{"name":"secondaryTin"}],[{"name":"fatca"}]]},{"groupName":"financial_information","top":[],"bottom":[],"form":[[{"name":"education_level","options":["ed_university_collage","ed_sec_edu","ed_prim_edu","ed_no_edu"]},{"name":"study_field","options":["sf_acc_bank","sf_cs_it","sf_med_sci","sf_art_fashion"]},{"name":"study_field_details"},{"name":"employment_status","options":["es_employed","es_self_employed","es_retired","es_student","es_unemployed"]},{"name":"profession","options":["p_property_land","p_trade_sales_retail","p_tourism_entertainment","p_marketing","p_it_pharmaceuticals","p_admin","p_social","p_financial_services"]}],[{"name":"annual_income","options":["ai_o_250000","ai_100001_250000","ai_25001_100000","ai_u_25000"]},{"name":"savings_investments","options":["si_o_1000001","si_250001_1000000","si_100001_250000","si_l_100000"]},{"name":"intend_invest","options":["ii_o_1000001","ii_100001_1000000","ii_25001_100000","ii_l_25000"]}],[{"name":"trading_purpose","options":["tp_speculative_trading","tp_additional_income_earning","tp_savings","tp_other"]},{"name":"trading_purpose_details"},{"name":"funds_source","options":["fs_employment","fs_savings_investments","fs_inheritance","fs_gift","fs_other"]},{"name":"funds_source_details"}]]},{"groupName":"trading_experience","top":[{"name":"low_score_disclaimer","options":[]}],"bottom":[],"form":[[{"name":"fx_volume_experience","options":["fve_o_250000","fve_50001_250000","fve_5001_50000","fve_l_5000","fve_none"]},{"name":"fx_experience","options":["fe_m_40","fe_26_40","fe_11_25","fe_1_10","fe_none"]}],[{"name":"trade_kind","options":["tk_my_own","tk_with_advice","tk_related_role","tk_seminars","tk_2_years","tk_none"]}]]},{"groupName":"financial_knowledge","top":[],"bottom":[{"name":"termsAndConditions"},{"name":"agreeToElectronicVerification"}],"form":[[{"name":"what_does_cfd_stand_for","options":["wdcsf_con_for_dif","wdcsf_com_for_div","wdcsf_con_from_deed"]},{"name":"price_apple_drops","options":["pad_move_same_dir","pad_not_aff","pad_move_opp_dir"]},{"name":"knowledge_of_markets","options":["kom_can_be_practiced","kom_do_not_need_knowledge"]},{"name":"max_amount_leverage","options":["mal_10_000","mal_50_000","mal_100_000"]}],[{"name":"true_about_cfd","options":["tac_complex_products","tac_understanding_risks","tac_both_of_above"]},{"name":"cfd_owner_asset","options":["coa_next_day","coa_not_entitle_asset"]},{"name":"leverage_risks","options":["lr_true","lr_false"]}],[{"name":"margin_call","options":["mc_demand_additional_money","mc_type_instrument","mc_phone_calls"]},{"name":"avoid_margin_stop","options":["ams_close_positions","ams_open_positions"]},{"name":"volatility_market_fluctuates","options":["vmf_true","vmf_false"]}]]}]}')},2616:function(e){e.exports=JSON.parse('{"steps":[{"groupName":"personal_information","top":[],"bottom":[],"form":[[{"name":"firstName"},{"name":"lastName"},{"name":"phone","options":[]},{"name":"birthDate"}],[{"name":"address"},{"name":"zipCode"},{"name":"city"}],[{"name":"country","options":[]},{"name":"citizenship","options":[]},{"name":"nationalCountryIdentifier"}]]},{"groupName":"tax_information","top":[],"bottom":[{"name":"tax_information_disclaimer"}],"form":[[{"name":"primaryTinTaxJurisdiction","options":[]},{"name":"have_primary_tin","options":["have_primary_tin_yes","have_primary_tin_no"]},{"name":"primaryTin"},{"name":"tinAbsenceReason","options":["DOES_NOT_ISSUE","UNABLE_TO_OBTAIN","NOT_REQUIRED"]}],[{"name":"secondaryTinTaxJurisdiction","options":[]},{"name":"secondaryTin"}],[{"name":"fatca"}]]},{"groupName":"financial_information","top":[],"bottom":[],"form":[[{"name":"education_level","options":["ed_university_collage","ed_sec_edu","ed_prim_edu","ed_no_edu"]},{"name":"study_field","options":["sf_acc_bank","sf_cs_it","sf_med_sci","sf_art_fashion"]},{"name":"study_field_details"},{"name":"employment_status","options":["es_employed","es_self_employed","es_retired","es_student","es_unemployed"]},{"name":"profession","options":["p_property_land","p_trade_sales_retail","p_tourism_entertainment","p_marketing","p_it_pharmaceuticals","p_admin","p_social","p_financial_services"]}],[{"name":"annual_income","options":["ai_o_250000","ai_100001_250000","ai_25001_100000","ai_u_25000"]},{"name":"savings_investments","options":["si_o_1000001","si_250001_1000000","si_100001_250000","si_l_100000"]},{"name":"intend_invest","options":["ii_o_1000001","ii_100001_1000000","ii_25001_100000","ii_l_25000"]}],[{"name":"trading_purpose","options":["tp_speculative_trading","tp_additional_income_earning","tp_savings","tp_other"]},{"name":"trading_purpose_details"},{"name":"funds_source","options":["fs_employment","fs_savings_investments","fs_inheritance","fs_gift","fs_other"]},{"name":"funds_source_details"},{"name":"initial_deposit_volume"},{"name":"initial_deposit_volume_details"}]]},{"groupName":"trading_experience","top":[{"name":"low_score_disclaimer","options":[]}],"bottom":[],"form":[[{"name":"fx_experience","options":["fe_m_40","fe_26_40","fe_11_25","fe_1_10","fe_none"]},{"name":"csb_experience","options":["ce_m_40","ce_26_40","ce_11_25","ce_1_10","ce_none"]}],[{"name":"fx_volume_experience","options":["fve_o_250000","fve_50001_250000","fve_5001_50000","fve_l_5000","fve_none"]},{"name":"csb_volume_experience","options":["cve_o_250000","cve_50001_250000","cve_5001_50000","cve_l_5000","cve_none"]}],[{"name":"leverage_volume_experience","options":["lve_daily","lve_weekly","lve_monthly","lve_several_year","lve_never"]},{"name":"trade_kind","options":["tk_my_own","tk_with_advice","tk_related_role","tk_seminars","tk_2_years","tk_none"]}]]},{"groupName":"financial_knowledge","top":[],"bottom":[{"name":"termsAndConditions"}],"form":[[{"name":"apple_drops","options":["ad_move_same","ad_move_opposite","ad_not_affected"]},{"name":"facebook_buy_markets","options":["fbm_markets","fbm_london","fbm_cannot_sell"]}],[{"name":"maximum_open_position","options":["mop_30000","mop_3000","mop_500000"]},{"name":"trade_leverage","options":["tl_pl_magnitude","tl_risk_free","tl_none_above"]}],[{"name":"cfd_trading","options":["ct_no_ownership","ct_complex","ct_all_above"]}]]}]}')},2617:function(e){e.exports=JSON.parse('{"steps":[{"groupName":"personal_information","top":[],"bottom":[],"form":[[{"name":"firstName"},{"name":"lastName"},{"name":"birthDate"},{"name":"maritalStatus","options":["SINGLE","MARRIED","ENGAGED","DIVORCED","SEPARATED","WIDOW"]}],[{"name":"address"},{"name":"zipCode"},{"name":"city"},{"name":"country","options":[]}],[{"name":"citizenship","options":[]},{"name":"pep","options":["pep_yes","pep_no"]}]]},{"groupName":"tax_information","top":[],"bottom":[],"form":[[{"name":"primaryTinTaxJurisdiction","options":[]},{"name":"have_primary_tin","options":["have_primary_tin_yes","have_primary_tin_no"]},{"name":"primaryTin"},{"name":"tinAbsenceReason","options":["DOES_NOT_ISSUE","UNABLE_TO_OBTAIN","NOT_REQUIRED"]}],[{"name":"secondaryTinTaxJurisdiction","options":[]},{"name":"secondaryTin"}],[{"name":"fatca"},{"name":"us_resident"}]]},{"groupName":"professional_information","top":[],"bottom":[],"form":[[{"name":"education_level","options":["ed_university_collage","ed_sec_edu","ed_prim_edu","ed_no_edu"]},{"name":"study_field","options":["sf_acc_bank","sf_cs_it","sf_med_sci","sf_art_fashion"]},{"name":"study_field_details"},{"name":"qualification_level","options":["ql_professional","ql_training","ql_worked","ql_none"]}],[{"name":"employment_status_detailed","options":["es_employed","es_self_employed","es_retired","es_student","es_unemployed"]},{"name":"employment_status_detailed_details"}],[{"name":"profession","options":["i_accountancy","i_admin_secretarial","i_agriculture","i_financial_services_banking","i_catering_hospitality","i_creative_media","i_education","i_emergency_services","i_engineering","i_financial_services_other","i_health_medicine","i_hm_forces","i_hr","i_financial_services_insurance","i_it","i_legal","i_leisure_entertainment_other","i_manufacturing","i_marketing_pr_advertising","i_pharmaceuticals","i_property_constructions_trades","i_retail","i_sales","i_social_care_services","i_telecommunications","i_transport_logistics","i_other"]},{"name":"profession_details"},{"name":"source_of_income","options":["so_employment","so_business","so_saving","so_ppf","so_bb","so_private_pension","so_investments","so_other"]},{"name":"source_of_income_details"}]]},{"groupName":"financial_information_cfd","top":[],"bottom":[],"form":[[{"name":"annual_income","options":["ai_u_25000","ai_25001_50000","ai_50001_100000","ai_100001_250000","ai_o_250000"]},{"name":"yearly_income","options":["ndi_b_10000","ndi_10001_20000","ndi_20001_50000","ndi_o_50000"]},{"name":"yearly_income_details"},{"name":"net_worth","options":["nw_u_100000","nw_100001_250000","nw_25001_100000","nw_o_1000000"]},{"name":"net_worth_details"},{"name":"intend_invest","options":["at_u_1000","at_1001_5000","at_5001_10000","at_o_10000"]},{"name":"intend_invest_details"}],[{"name":"funds_source","options":["fs_employment","fs_savings_investments","fs_inheritance","fs_gift","fs_other"]},{"name":"funds_source_details"},{"name":"orin_of_funds","options":["origin_of_funds_wire_transfer_eu","origin_of_funds_wire_transfer_non_eu","origin_of_funds_credit_card_eu","origin_of_funds_credit_card_non_eu","of_e_wallet"]}],[{"name":"funds_source_bank"},{"name":"funds_source_bank_details"},{"name":"funds_source_country"},{"name":"funds_source_country_details","options":[]},{"name":"different_withdrawals_dest","options":["yes","no"]},{"name":"withdrawals_dest_bank"},{"name":"withdrawals_dest_bank_details"},{"name":"withdrawals_dest_country"},{"name":"withdrawals_dest_country_details","options":[]}]]},{"groupName":"trading_experience","top":[{"name":"low_score_disclaimer","options":[]}],"bottom":[],"form":[[{"name":"fx_volume_experience","options":["fve_none","fve_l_500","fve_501_2500","fve_2501_10000","fve_o_10000"]},{"name":"csb_volume_experience","options":["cve_none","cve_l_500","cve_501_2500","cve_2501_10000","cve_o_10000"]}],[{"name":"fx_experience","options":["fe_none","fe_1_25","fe_26_100","fe_m_100"]},{"name":"csb_experience","options":["ce_none","ce_1_25","ce_26_100","ce_m_100"]}],[{"name":"trade_kind","options":["tk_my_own","tk_with_advice","tk_related_role","tk_seminars","tk_none"]},{"name":"average_leverage","options":["avel_never","avel_u_10","avel_10_25","avel_25_50","avel_50_100","avel_m_100"]}]]},{"groupName":"quiz","top":[],"bottom":[],"form":[[{"name":"quiz_1","options":["q1_answer1","q1_answer2","q1_answer3"]},{"name":"quiz_2","options":["q2_answer1","q2_answer2","q2_answer3"]},{"name":"quiz_3","options":["q3_answer1","q3_answer2","q3_answer3"]}],[{"name":"quiz_4","options":["q4_answer1","q4_answer2","q4_answer3"]},{"name":"quiz_5","options":["q5_answer1","q5_answer2","q5_answer3"]},{"name":"quiz_6","options":["answer1","answer2","answer3"]}],[{"name":"quiz_7","options":["answer1","answer2","answer3","answer4"]},{"name":"termsAndConditions"},{"name":"quiz_information_disclaimer"}]]}]}')},2618:function(e){e.exports=JSON.parse('{"steps":[{"groupName":"personal_information","top":[],"bottom":[],"form":[[{"name":"firstName"},{"name":"lastName"},{"name":"birthDate"},{"name":"maritalStatus","options":["SINGLE","MARRIED","ENGAGED","DIVORCED","SEPARATED","WIDOW"]}],[{"name":"address"},{"name":"zipCode"},{"name":"city"},{"name":"country","options":[]}],[{"name":"citizenship","options":[]},{"name":"pep","options":["pep_yes","pep_no"]}]]},{"groupName":"tax_information","top":[],"bottom":[],"form":[[{"name":"primaryTinTaxJurisdiction","options":[]}],[],[{"name":"fatca"},{"name":"us_resident"}]]},{"groupName":"professional_information","top":[],"bottom":[],"form":[[{"name":"education_level","options":["ed_university_collage","ed_sec_edu","ed_prim_edu","ed_no_edu"]},{"name":"study_field","options":["sf_acc_bank","sf_cs_it","sf_med_sci","sf_art_fashion"]},{"name":"study_field_details"},{"name":"qualification_level","options":["ql_professional","ql_training","ql_worked","ql_none"]}],[{"name":"employment_status_detailed","options":["es_employed","es_self_employed","es_retired","es_student","es_unemployed"]},{"name":"employment_status_detailed_details"}],[{"name":"profession","options":["i_accountancy","i_admin_secretarial","i_agriculture","i_financial_services_banking","i_catering_hospitality","i_creative_media","i_education","i_emergency_services","i_engineering","i_financial_services_other","i_health_medicine","i_hm_forces","i_hr","i_financial_services_insurance","i_it","i_legal","i_leisure_entertainment_other","i_manufacturing","i_marketing_pr_advertising","i_pharmaceuticals","i_property_constructions_trades","i_retail","i_sales","i_social_care_services","i_telecommunications","i_transport_logistics","i_other"]},{"name":"profession_details"},{"name":"source_of_income","options":["so_employment","so_business","so_saving","so_ppf","so_bb","so_private_pension","so_investments","so_other"]},{"name":"source_of_income_details"}]]},{"groupName":"financial_information_cfd","top":[],"bottom":[],"form":[[{"name":"annual_income","options":["ai_u_25000","ai_25001_50000","ai_50001_100000","ai_100001_250000","ai_o_250000"]},{"name":"yearly_income","options":["ndi_b_10000","ndi_10001_20000","ndi_20001_50000","ndi_o_50000"]},{"name":"yearly_income_details"},{"name":"net_worth","options":["nw_u_100000","nw_100001_250000","nw_25001_100000","nw_o_1000000"]},{"name":"net_worth_details"},{"name":"intend_invest","options":["at_u_1000","at_1001_5000","at_5001_10000","at_o_10000"]},{"name":"intend_invest_details"}],[{"name":"funds_source","options":["fs_employment","fs_savings_investments","fs_inheritance","fs_gift","fs_other"]},{"name":"funds_source_details"},{"name":"orin_of_funds","options":["origin_of_funds_wire_transfer_eu","origin_of_funds_wire_transfer_non_eu","origin_of_funds_credit_card_eu","origin_of_funds_credit_card_non_eu","of_e_wallet"]}],[{"name":"funds_source_bank"},{"name":"funds_source_bank_details"},{"name":"funds_source_country"},{"name":"funds_source_country_details","options":[]},{"name":"different_withdrawals_dest","options":["yes","no"]},{"name":"withdrawals_dest_bank"},{"name":"withdrawals_dest_bank_details"},{"name":"withdrawals_dest_country"},{"name":"withdrawals_dest_country_details","options":[]}]]},{"groupName":"trading_experience","top":[{"name":"low_score_disclaimer","options":[]}],"bottom":[],"form":[[{"name":"fx_volume_experience","options":["fve_none","fve_l_500","fve_501_2500","fve_2501_10000","fve_o_10000"]},{"name":"csb_volume_experience","options":["cve_none","cve_l_500","cve_501_2500","cve_2501_10000","cve_o_10000"]}],[{"name":"fx_experience","options":["fe_none","fe_1_25","fe_26_100","fe_m_100"]},{"name":"csb_experience","options":["ce_none","ce_1_25","ce_26_100","ce_m_100"]}],[{"name":"trade_kind","options":["tk_my_own","tk_with_advice","tk_related_role","tk_seminars","tk_none"]},{"name":"average_leverage","options":["avel_never","avel_u_10","avel_10_25","avel_25_50","avel_50_100","avel_m_100"]}]]},{"groupName":"quiz","top":[],"bottom":[],"form":[[{"name":"quiz_1","options":["q1_answer1","q1_answer2","q1_answer3"]},{"name":"quiz_2","options":["q2_answer1","q2_answer2","q2_answer3"]},{"name":"quiz_3","options":["q3_answer1","q3_answer2","q3_answer3"]}],[{"name":"quiz_4","options":["q4_answer1","q4_answer2","q4_answer3"]},{"name":"quiz_5","options":["q5_answer1","q5_answer2","q5_answer3"]},{"name":"quiz_6","options":["answer1","answer2","answer3"]}],[{"name":"quiz_7","options":["answer1","answer2","answer3","answer4"]},{"name":"termsAndConditions"},{"name":"quiz_information_disclaimer"}]]}]}')},2619:function(e){e.exports=JSON.parse('{"steps":[{"groupName":"personal_information","top":[],"bottom":[],"form":[[{"name":"firstName"},{"name":"lastName"},{"name":"birthDate"},{"name":"maritalStatus","options":["SINGLE","MARRIED","ENGAGED","DIVORCED","SEPARATED","WIDOW"]}],[{"name":"address"},{"name":"zipCode"},{"name":"city"},{"name":"country","options":[]}],[{"name":"citizenship","options":[]},{"name":"pep","options":["pep_yes","pep_no"]}]]},{"groupName":"professional_information","top":[],"bottom":[],"form":[[{"name":"education_level","options":["ed_university_collage","ed_sec_edu","ed_prim_edu","ed_no_edu"]},{"name":"study_field","options":["sf_acc_bank","sf_cs_it","sf_med_sci","sf_art_fashion"]},{"name":"study_field_details"},{"name":"qualification_level","options":["ql_professional","ql_training","ql_worked","ql_none"]}],[{"name":"employment_status_detailed","options":["es_employed","es_self_employed","es_retired","es_student","es_unemployed"]},{"name":"employment_status_detailed_details"}],[{"name":"profession","options":["i_accountancy","i_admin_secretarial","i_agriculture","i_financial_services_banking","i_catering_hospitality","i_creative_media","i_education","i_emergency_services","i_engineering","i_financial_services_other","i_health_medicine","i_hm_forces","i_hr","i_financial_services_insurance","i_it","i_legal","i_leisure_entertainment_other","i_manufacturing","i_marketing_pr_advertising","i_pharmaceuticals","i_property_constructions_trades","i_retail","i_sales","i_social_care_services","i_telecommunications","i_transport_logistics","i_other"]},{"name":"profession_details"},{"name":"source_of_income","options":["so_employment","so_business","so_saving","so_ppf","so_bb","so_private_pension","so_investments","so_other"]},{"name":"source_of_income_details"}]]},{"groupName":"financial_information_cfd","top":[],"bottom":[],"form":[[{"name":"annual_income","options":["ai_u_25000","ai_25001_50000","ai_50001_100000","ai_100001_250000","ai_o_250000"]},{"name":"net_worth","options":["nw_u_100000","nw_100001_250000","nw_25001_100000","nw_o_1000000"]},{"name":"net_worth_details"},{"name":"intend_invest","options":["at_u_1000","at_1001_5000","at_5001_10000","at_o_10000"]},{"name":"intend_invest_details"}],[{"name":"funds_source","options":["fs_employment","fs_savings_investments","fs_inheritance","fs_gift","fs_other"]},{"name":"funds_source_details"}],[{"name":"fatca"},{"name":"us_resident"}]]},{"groupName":"trading_experience","top":[{"name":"low_score_disclaimer","options":[]}],"bottom":[],"form":[[{"name":"fx_volume_experience","options":["fve_none","fve_l_500","fve_501_2500","fve_2501_10000","fve_o_10000"]},{"name":"csb_volume_experience","options":["cve_none","cve_l_500","cve_501_2500","cve_2501_10000","cve_o_10000"]}],[{"name":"fx_experience","options":["fe_none","fe_1_25","fe_26_100","fe_m_100"]},{"name":"csb_experience","options":["ce_none","ce_1_25","ce_26_100","ce_m_100"]}],[{"name":"trade_kind","options":["tk_my_own","tk_with_advice","tk_related_role","tk_seminars","tk_none"]}]]},{"groupName":"quiz","top":[],"bottom":[],"form":[[{"name":"quiz_1","options":["q1_answer1","q1_answer2","q1_answer3"]},{"name":"quiz_3","options":["q3_answer1","q3_answer2","q3_answer3"]}],[{"name":"quiz_4","options":["q4_answer1","q4_answer2","q4_answer3"]}],[{"name":"quiz_7","options":["answer1","answer2","answer3","answer4"]},{"name":"termsAndConditions"}]]}]}')},2620:function(e){e.exports=JSON.parse('{"steps":[{"groupName":"personal_information","top":[],"bottom":[],"form":[[{"name":"firstName"},{"name":"lastName"},{"name":"phone","options":[]}],[{"name":"birthDate"},{"name":"address"},{"name":"zipCode"}],[{"name":"city"},{"name":"country","options":[]},{"name":"citizenship","options":[]}]]},{"groupName":"financial_information","top":[],"bottom":[],"form":[[{"name":"anticipated_turnover","options":["at_u_100000","at_100001_250000","at_25001_100000","at_o_1000000"]},{"name":"trading_purpose","options":["tp_speculative_trading","tp_additional_income_earning","tp_savings","tp_hedging","tp_other"]},{"name":"trading_purpose_details"},{"name":"transactions_nature","options":["tn_short_term_investment","tn_long_term_investment","tn_other"]},{"name":"transactions_nature_details"},{"name":"employment_status","options":["es_employed","es_self_employed","es_retired","es_student","es_unemployed"]}],[{"name":"industry","options":["i_accountancy","i_admin_secretarial","i_agriculture","i_financial_services_banking","i_catering_hospitality","i_creative_media","i_education","i_emergency_services","i_engineering","i_financial_services_other","i_health_medicine","i_hm_forces","i_hr","i_financial_services_insurance","i_it","i_legal","i_leisure_entertainment_other","i_manufacturing","i_marketing_pr_advertising","i_pharmaceuticals","i_property_constructions_trades","i_retail","i_sales","i_social_care_services","i_telecommunications","i_transport_logistics","i_other"]},{"name":"industry_details"},{"name":"source_of_income","options":["so_employment","so_saving","so_ppf","so_bb","so_private_pension","so_investments","so_other"]},{"name":"source_of_income_details"},{"name":"estimated_gross_income","options":["egi_u_25000","egi_25001_100000","egi_100001_250000","egi_o_250000"]},{"name":"net_worth","options":["nw_u_100000","nw_100001_250000","nw_25001_100000","nw_o_1000000"]}],[{"name":"orin_of_funds","options":["of_credit_card","of_e_wallet","of_wire_transfer"]},{"name":"fatca"},{"name":"us_resident"}]]},{"groupName":"trading_experience","top":[{"name":"low_score_disclaimer","options":[]}],"bottom":[],"form":[[{"name":"education_level","options":["ed_prof_qualif","ed_university_collage","ed_sec_edu","ed_prim_edu","ed_no_edu"]},{"name":"study_field","options":["sf_acc_bank","sf_cs_it","sf_med_sci","sf_art_fashion","sf_other"]},{"name":"study_field_details"},{"name":"fx_experience","options":["fe_m_40","fe_26_40","fe_11_25","fe_1_10","fe_none"]}],[{"name":"csb_experience","options":["ce_m_40","ce_26_40","ce_11_25","ce_1_10","ce_none"]},{"name":"fx_volume_experience","options":["fve_o_250000","fve_50001_250000","fve_5001_50000","fve_l_5000","fve_none"]}],[{"name":"csb_volume_experience","options":["cve_o_250000","cve_50001_250000","cve_5001_50000","cve_l_5000","cve_none"]},{"name":"trade_kind","options":["tk_my_own","tk_with_advice","tk_related_role","tk_seminars","tk_2_years","tk_none"],"disable":false}]]},{"groupName":"quiz","top":[],"bottom":[{"name":"allowMarketingEmails"},{"name":"termsAndConditions"}],"form":[[{"name":"quiz_1","options":["q1_answer1","q1_answer2","q1_answer3"]},{"name":"quiz_2","options":["q2_answer1","q2_answer2","q2_answer3"]}],[{"name":"quiz_3","options":["q3_answer1","q3_answer2","q3_answer3"]},{"name":"quiz_4","options":["q4_answer1","q4_answer2","q4_answer3"]}],[{"name":"quiz_5","options":["q5_answer1","q5_answer2","q5_answer3"]}]]}]}')},2621:function(e){e.exports=JSON.parse('{"steps":[{"groupName":"personal_information","top":[],"bottom":[],"form":[[{"name":"firstName"},{"name":"lastName"},{"name":"birthDate"},{"name":"maritalStatus","options":["SINGLE","MARRIED","ENGAGED","DIVORCED","SEPARATED","WIDOW"]}],[{"name":"address"},{"name":"zipCode"},{"name":"city"},{"name":"country","options":[]}],[{"name":"citizenship","options":[]},{"name":"pep","options":["pep_yes","pep_no"]}]]},{"groupName":"professional_information","top":[],"bottom":[],"form":[[{"name":"education_level","options":["ed_university_collage","ed_sec_edu","ed_prim_edu","ed_no_edu"]},{"name":"study_field","options":["sf_acc_bank","sf_cs_it","sf_med_sci","sf_art_fashion"]},{"name":"study_field_details"},{"name":"qualification_level","options":["ql_professional","ql_training","ql_worked","ql_none"]}],[{"name":"employment_status_detailed","options":["es_employed","es_self_employed","es_retired","es_student","es_unemployed"]},{"name":"employment_status_detailed_details"}],[{"name":"profession","options":["i_accountancy","i_admin_secretarial","i_agriculture","i_financial_services_banking","i_catering_hospitality","i_creative_media","i_education","i_emergency_services","i_engineering","i_financial_services_other","i_health_medicine","i_hm_forces","i_hr","i_financial_services_insurance","i_it","i_legal","i_leisure_entertainment_other","i_manufacturing","i_marketing_pr_advertising","i_pharmaceuticals","i_property_constructions_trades","i_retail","i_sales","i_social_care_services","i_telecommunications","i_transport_logistics","i_other"]},{"name":"profession_details"},{"name":"source_of_income","options":["so_employment","so_business","so_saving","so_ppf","so_bb","so_private_pension","so_investments","so_other"]},{"name":"source_of_income_details"}]]},{"groupName":"financial_information_cfd","top":[],"bottom":[],"form":[[{"name":"annual_income","options":["ai_u_25000","ai_25001_50000","ai_50001_100000","ai_100001_250000","ai_o_250000"]},{"name":"yearly_income","options":["ndi_b_10000","ndi_10001_20000","ndi_20001_50000","ndi_o_50000"]},{"name":"yearly_income_details"},{"name":"net_worth","options":["nw_u_100000","nw_100001_250000","nw_25001_100000","nw_o_1000000"]},{"name":"net_worth_details"},{"name":"intend_invest","options":["at_u_1000","at_1001_5000","at_5001_10000","at_o_10000"]},{"name":"intend_invest_details"}],[{"name":"funds_source","options":["fs_employment","fs_savings_investments","fs_inheritance","fs_gift","fs_other"]},{"name":"funds_source_details"},{"name":"orin_of_funds","options":["origin_of_funds_wire_transfer_eu","origin_of_funds_wire_transfer_non_eu","origin_of_funds_credit_card_eu","origin_of_funds_credit_card_non_eu","of_e_wallet"]}],[{"name":"fatca"},{"name":"us_resident"}]]},{"groupName":"trading_experience","top":[{"name":"low_score_disclaimer","options":[]}],"bottom":[],"form":[[{"name":"fx_volume_experience","options":["fve_none","fve_l_500","fve_501_2500","fve_2501_10000","fve_o_10000"]},{"name":"csb_volume_experience","options":["cve_none","cve_l_500","cve_501_2500","cve_2501_10000","cve_o_10000"]}],[{"name":"fx_experience","options":["fe_none","fe_1_25","fe_26_100","fe_m_100"]},{"name":"csb_experience","options":["ce_none","ce_1_25","ce_26_100","ce_m_100"]}],[{"name":"trade_kind","options":["tk_my_own","tk_with_advice","tk_related_role","tk_seminars","tk_none"]},{"name":"average_leverage","options":["avel_never","avel_u_10","avel_10_25","avel_25_50","avel_50_100","avel_m_100"]}]]},{"groupName":"quiz","top":[],"bottom":[],"form":[[{"name":"quiz_1","options":["q1_answer1","q1_answer2","q1_answer3"]},{"name":"quiz_2","options":["q2_answer1","q2_answer2","q2_answer3"]},{"name":"quiz_3","options":["q3_answer1","q3_answer2","q3_answer3"]}],[{"name":"quiz_4","options":["q4_answer1","q4_answer2","q4_answer3"]},{"name":"quiz_5","options":["q5_answer1","q5_answer2","q5_answer3"]},{"name":"quiz_6","options":["answer1","answer2","answer3"]}],[{"name":"quiz_7","options":["answer1","answer2","answer3","answer4"]},{"name":"termsAndConditions"},{"name":"quiz_information_disclaimer"}]]}]}')},2622:function(e){e.exports=JSON.parse('{"steps":[{"groupName":"personal_information","top":[],"bottom":[],"form":[[{"name":"firstName"},{"name":"lastName"},{"name":"phone","options":[]}],[{"name":"birthDate"},{"name":"address"},{"name":"zipCode"}],[{"name":"city"},{"name":"country","options":[]},{"name":"citizenship","options":[]}]]},{"groupName":"additional_information","top":[],"bottom":[{"name":"allowMarketingEmails"},{"name":"termsAndConditions"}],"form":[[{"name":"have_tin","options":["have_tin_yes","have_tin_no"]},{"name":"tin_absence_reason","options":["tin_absence_reason_not_relevant","tin_absence_reason_does_not_issue","tin_absence_reason_unable_to_obtain","tin_absence_reason_not_required","tin_absence_reason_not_taxable_person","tin_absence_reason_other"]},{"name":"tin_absence_reason_details"}],[{"name":"have_second_tin","options":["have_second_tin_yes","have_second_tin_no"]},{"name":"have_second_tin_country","options":[]}],[{"name":"us_resident","options":["ur_yes","ur_no"]}]]}]}')},2623:function(e){e.exports=JSON.parse('{"steps":[{"groupName":"personal_information","top":[],"bottom":[{"name":"allowMarketingEmails"}],"form":[[{"name":"firstName"},{"name":"lastName"},{"name":"phone"},{"name":"birthDate"}],[{"name":"address"},{"name":"zipCode"},{"name":"city"},{"name":"country"}],[{"name":"citizenship"},{"name":"placeOfBirth"},{"name":"nationality"}]]},{"groupName":"tax_information","top":[],"bottom":[],"form":[[{"name":"primaryTinTaxJurisdiction","options":[]},{"name":"have_primary_tin","options":["have_primary_tin_yes","have_primary_tin_no"]},{"name":"primaryTin"},{"name":"tinAbsenceReason","options":["DOES_NOT_ISSUE","UNABLE_TO_OBTAIN","NOT_REQUIRED"]}],[{"name":"secondaryTinTaxJurisdiction","options":[]},{"name":"secondaryTin"}],[{"name":"fatca"}]]},{"groupName":"financial_information","top":[],"bottom":[],"form":[[{"name":"employment_status","options":["es_employed","es_self_employed","es_retired","es_student","es_unemployed"]},{"name":"industry","options":["i_accountancy","i_admin_secretarial","i_agriculture","i_financial_services_banking","i_catering_hospitality","i_creative_media","i_education","i_emergency_services","i_engineering","i_financial_services_other","i_health_medicine","i_hm_forces","i_hr","i_financial_services_insurance","i_it","i_legal","i_leisure_entertainment_other","i_manufacturing","i_marketing_pr_advertising","i_pharmaceuticals","i_property_constructions_trades","i_retail","i_sales","i_social_care_services","i_telecommunications","i_transport_logistics","i_other"]},{"name":"industry_details"},{"name":"employer_name"},{"name":"employer_name_details"},{"name":"occupation"},{"name":"occupation_details"}],[{"name":"total_income","options":["ti_lt_10000","ti_10001_20000","ti_20001_50000","ti_o_50001"]},{"name":"net_worth","options":["nw_lt_10000","nw_10000_50000","nw_50000_100000","nw_100000_250000","nw_o_1000000"]},{"name":"income_source","options":["soi_employment","soi_business","soi_savings","soi_partner","soi_loan","soi_pension","soi_inheritance","soi_other"]},{"name":"income_source_details"},{"name":"deposits_per_year","options":["dpy_lt_5000","dpy_5001_25000","dpy_25001_100000","dpy_100001_250000","dpy_250001_500000","dpy_o_500001"]}],[{"name":"deposit_and_withdrawal_method","options":["dwm_cc","dwm_cc_oc","dwm_bank","dwm_bank_oc"]},{"name":"registration_reason","options":["rr_speculative","rr_earning","rr_savings","rr_hedging","rr_other"]},{"name":"registration_reason_details"},{"name":"pep","options":["pep_yes","pep_no"]}]]},{"groupName":"trading_experience","top":[],"bottom":[{"name":"termsAndConditions"},{"name":"personalInformationConfirmed"}],"form":[[{"name":"net_disposable_income","options":["ndi_ut_10000","ndi_10000_20000","ndi_20000-50000","ndi_o_50000"]},{"name":"net_disposable_income_details"},{"name":"acceptable_risk_reward","options":["arr_lt_5","arr_10_50","arr_100"]},{"name":"investment_objectives","options":["io_short_term","io_medium_term","io_long_term"]}],[{"name":"trading_qualification","options":["tq_prof","tq_higher","tq_worked","tq_none"]},{"name":"sbe_experience","options":["sbee_never","sbee_occasionally","sbee_regularly","sbee_frequently"]}],[{"name":"fos_experience","options":["fose_never","fose_occasionally","fose_regularly","fose_frequently"]},{"name":"fx_experience","options":["fxe_never","fxe_occasionally","fxe_regularly","fxe_frequently"]},{"name":"average_leverage","options":["al_never","al_lt_50","al_50_200"]}]]}]}')},2624:function(e,t,n){(function(i){var a;void 0===(a=function(e,t,i){var a=n(1),s=n(23),o=n(9),l=a.template(n(2625)),r=n(2).PERCENTS_100;i.exports=s.extend({className:"registration-steps",drawRegistrationProgress:function(){this.render(),this.$el.html(l({steps:this.collection,progress:this.getProgressBarWidth()})),this.renderFullRegistrationBonus()},renderFullRegistrationBonus:function(){if(this.options.bonusStepsContainer.find(".registration-bonus-steps-to-go").addClass("hidden"),o.getUserAwardsModel().hasFullRegistrationBonus(o.getUserCurrency())){this.options.bonusStepsContainer.find(".registration-bonus-steps-to-go").removeClass("hidden");var e=__("registration.gift.general.format",this.collection.getNumberStepsToFinish(),o.getUserCurrencySymbol()+o.getUserAwardsModel().getFullRegistrationBonus(o.getUserCurrency()));this.options.bonusStepsContainer.find(".registration-bonus-steps-to-go .steps-to-go-message").html(e)}},getProgressBarWidth:function(){return this.collection.isFirstStep()?15:this.collection.isLastStep()?100:(15+this.collection.getCurrentStepId()*(r/this.collection.numberOfSteps()))%r}})}.call(t,n,t,e))||(e.exports=a)}).call(this,n(1))},2625:function(e,t){e.exports="<% steps.each(function (step, i) { %> <div class=\"step hidden-xs\"> <% if (step.get('status') === 'in-progress') { %> <i class=icon-registration-step> <span style=color:#fff><%= i + 1 %></span> </i> <% } else if (step.get('status') === 'pending') { %> <i class=icon-registration-step-gray> <span style=color:#aaafb4><%= i + 1 %></span> </i> <% } else { %> <i class=icon-registration-step> <i class=icon-registration-step-complete></i> </i> <% } %> <span style=\"<%= step.get('status') === 'pending' ? 'color:#979797' : '' %>\"> <%= __('registration.step.title.' + step.get('title')) %> </span> <% if (i+1 !== steps.length) { %> <i class=icon-registration-next-arrow></i> <% } %> </div> <% }) %> <div class=\"container progress-container hidden-sm hidden-md hidden-lg\"> <div class=\"progress no-color\"> <div class=steps-container> <% steps.each(function (step, i) { %> <div class=\"step <%=step.get('status') === 'pending' ? 'no-color' : 'primary-color'%>\"> <label><%= i+1 %></label> </div> <% }) %> </div> <div class=\"progress-bar primary-color\" style=\"width:<%= progress %>%\"></div> </div> </div> "},2626:function(e,t){e.exports='<div class=registration-container> <div class=registration> <div class=header></div> <div class=content></div> <div class="separator hidden-xs"><span></span></div> <div class="footer hidden-xs"> <div class=left> <% if (isLiveChatEnabled) { %> <span><%=__(\'help.need_help\')%></span> <a class=fn-help-live-chat-link> <span> <%=__(\'help.right_here\')%> </span> </a> <% } %> </div> <div class="right allow-personal-information"> <a url=# class="back allow-back fn-back hidden"><%= __(\'actions.back\') %></a> <button class="btn btn-primary fn-personal-information"><%= __(\'actions.next\') %></button> </div> <div class="right allow-next hidden"> <a url=# class="back allow-back fn-back hidden"><%=__(\'actions.back\')%></a> <button class="btn btn-primary fn-next"><%=__(\'actions.next\')%></button> </div> <div class="right allow-finish hidden"> <a url=# class="back allow-back fn-back hidden"><%=__(\'actions.back\')%></a> <button class="btn btn-primary fn-finish"><%=__(\'actions.finish\')%></button> </div> </div> <div class="footer hidden-sm hidden-md hidden-lg"> <div class=allow-personal-information> <div class=form-actions> <button class="btn btn-link back allow-back fn-back col hidden">&larr; <%= __(\'registration.button.previous\') %> </button> <button class="btn btn-primary fn-personal-information col"><%= __(\'registration.button.next\') %> &rarr;</button> </div> </div> <div class="allow-next hidden"> <div class=form-actions> <button class="btn btn-link back allow-back fn-back col hidden">&larr; <%=__(\'registration.button.previous\')%> </button> <button class="btn btn-primary fn-next col"><%=__(\'registration.button.next\')%> &rarr;</button> </div> </div> <div class="allow-finish hidden"> <div class=form-actions> <button class="btn btn-link back allow-back fn-back col hidden">&larr; <%=__(\'registration.button.previous\')%> </button> <button class="btn btn-primary fn-finish col"><%=__(\'actions.finish\')%></button> </div> </div> </div> </div> </div> '},2627:function(e,t,n){(function(i){var a;void 0===(a=function(e,t,i){var a=n(1),s=n(7),o=n(151),l=(n(14),a.template(n(2628))),r=n(95),d=n(2465),_=d.EMPTY,c=d.LOADING,u=d.SUCCESS,p=d.ERROR,m=o.extend({className:"complete-registration",name:"complete-registration",events:function(){return a.extend({},a.result(o.prototype,"events"),{"click .fn-finish":"onFinish"})},initialize:function(){o.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:statusOfLeverages",this.onStatusOfLeveragesChanged),this.render(),this.onStatusOfLeveragesChanged()},render:function(){o.prototype.render.call(this),this.renderContent()},renderContent:function(){this.setContent(l({leverage:this.model.getCurrentLeverageValue()}))},onFinish:function(e){e.preventDefault(),this.close()},onStatusOfLeveragesChanged:function(){switch(this.model.get("statusOfLeverages")){case _:case c:this.hideContent(),this.addChildView(".popup-body",r,{parent:this.$el});break;case u:this.removeChildView(".popup-body"),this.renderContent();break;case p:this.removeChildView(".popup-body"),s.trigger("ui:message-box",{text:__("indigo.generic.error.message")})}},hideContent:function(){this.$(".leverage").css("visibility","hidden"),this.$(".leverage-mobile").css("visibility","hidden")},showContent:function(){this.$(".leverage").css("visibility","visible"),this.$(".leverage-mobile").css("visibility","visible")}});i.exports=m}.call(t,n,t,e))||(e.exports=a)}).call(this,n(1))},2628:function(e,t){e.exports="<div class=\"leverage hidden-xs\"> <div class=\"leverage-top finished\"> <div class=bold> <div class=completed-msg></div> <%= __('leverage.popup.set.message',leverage)%> </div> </div> <div class=\"leverage-content finished\"> <%=__('leverage.popup.set.notes')%> </div> <div class=line></div> <div class=\"leverage-bottom leverage-finish\"> <a class=\"btn btn-primary btn-block fn-finish\" href=#> <div class=button-container> <span> <%=__('actions.finish')%> </span> </div> </a> </div> <div class=\"leverage-bottom leverage-description\"> <%=__('leverage.popup.footer.description')%><br/> <%=__('leverage.popup.footer.description.notes')%><br/> <%=__('leverage.popup.footer.description.links')%><br/> </div> </div> <div class=\"leverage-mobile hidden-sm hidden-md hidden-lg\"> <div class=mobile-content> <div class=leverage-mobile-finished> <span class=icon-complete-reg></span> <div class=text><%= __('leverage.popup.set.title.no_bonus')%></div> </div> <div class=line></div> <div class=leverage-top> <div class=completed-msg></div> <%= __('leverage.popup.set.message',leverage)%> </div> <div class=leverage-content> <%=__('leverage.popup.set.notes')%> </div> <div class=\"leverage-bottom leverage-description\"> <%=__('leverage.popup.footer.description')%><br/> <%=__('leverage.popup.footer.description.notes')%><br/> <%=__('leverage.popup.footer.description.links')%><br/> </div> </div> <div class=mobile-actions> <a class=\"btn btn-primary btn-block fn-finish\" href=#> <%=__('actions.finish')%> </a> </div> </div>"},2629:function(e,t,n){var i;void 0===(i=function(e,t,i){n(1);var a=n(1193),s=n(2465),o=s.EMPTY,l=s.LOADING,r=s.SUCCESS,d=s.ERROR,_=a.extend({defaults:function(){return{statusOfLeverages:o}},initialize:function(){this.loadLeverages()},loadLeverages:function(){var e=this.control("statusOfLeverages");e(l),this.load().then((function(t){return e(r)})).catch((function(t){return e(d)}))}});i.exports=_}.call(t,n,t,e))||(e.exports=i)}}]);