(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{2180:function(e,t,n){"use strict";n.d(t,"j",(function(){return m})),n.d(t,"i",(function(){return d})),n.d(t,"k",(function(){return v})),n.d(t,"h",(function(){return b})),n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return E})),n.d(t,"g",(function(){return g})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return j})),n.d(t,"f",(function(){return w}));var r=n(3),a=n(1),o=n.n(a),i=n(2),c=n(26),u=(n(24),function(e){return e.eventsAndTrade}),l=Object(r.a)(u,(function(e){return e&&e.enabled})),s=Object(r.a)(u,(function(e){return e&&e.status})),f=Object(r.a)(u,(function(e){return e&&e.events})),m=(Object(r.a)([l,s,f],(function(e,t,n){return e&&t===i.SUCCESS&&!o.a.isEmpty(n)})),Object(r.a)(u,(function(e){return e&&e.symbolToEventMap}))),p=Object(r.a)(u,(function(e){return e&&e.upcoming})),d=Object(r.a)(u,(function(e){return e&&e.openedInsightsRows})),v=Object(r.a)([p,c.a],(function(e,t){return e[t]})),b=Object(r.a)([m,c.a],(function(e,t){return e[t&&t.replace("/","")]})),h=Object(r.a)([f,c.a],(function(e,t){return e[t]})),y=Object(r.a)(h,(function(e){return e._formatedDate})),_=Object(r.a)(h,(function(e){return e._description})),E=Object(r.a)(h,(function(e){return e._flag})),g=Object(r.a)(h,(function(e){return e._timestamp})),O=Object(r.a)(h,(function(e){return e._name})),j=Object(r.a)(h,(function(e){return e._opportunitiesQuantity})),w=Object(r.a)(h,(function(e){return e._prediction}))},2197:function(e,t,n){"use strict";n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return v})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return y}));var r=n(539),a=n(186),o=n(1),i=n.n(o),c=n(14),u=n.n(c),l=n(7),s=n.n(l),f=n(2),m=6e5;function p(e){return function(t,n){n().eventsAndTrade.status?t({type:r.h,payload:e}):t(d(e))}}function d(e){return function(t,n){var o=n().eventsAndTrade.lastUpdated;i.a.now()-o>m&&(t({types:[r.d,r.f,r.e],additionalData:e,callApi:function(){return Object(a.loadEventsAndTrade)()}}),i.a.after((function(){return t(d())}),m))}}function v(){return function(e,t){t().eventsAndTrade.status!==f.SUCCESS&&e({types:[r.a,b,r.b],callApi:function(){return u.a.checkTradingToolEnabled(f.TRADING_TOOLS.EVENTS_AND_TRADE)}})}}function b(e){return function(t){t({type:r.c,payload:e}),t(d())}}function h(e){return function(t){t({type:r.g,payload:e})}}function y(e){return function(t,n){var r=n(),a=r.ui,o=r.eventsAndTrade,i=a.instrumentDetailsSymbol,c=o.events[e],u=i&&i.replace("/","");s.a.navigate("events-and-trade/"+c._event_type_code+"/"+u)}}},2212:function(e,t,n){},2565:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(4),i=n(6),c=n.n(i),u=n(1),l=n.n(u),s=n(24),f=n(2222),m=n(160),p=n.n(m),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={value:[]},v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),d(t,[{key:"getSubscriptionConfig",value:function(){return{chartId:"latest-rates",period:"1d",maxBarsCount:5}}},{key:"onLoad",value:function(e){var t=c.a.utc().startOf("day").toDate().getTime(),n=l.a.first(l.a.filter(e,(function(e){return e.timestamp!==t})).reverse(),4);this.setState({values:n})}},{key:"resetState",value:function(){this.setState({values:[]})}},{key:"render",value:function(){var e=this.props.precision,t=this.state.values;return a.a.createElement("div",{className:"latest-rates"},a.a.createElement("div",{className:"latest-rates-title"},a.a.createElement("span",{className:"question-tooltip","aria-label":__("help.instrument.latest_rates")}),a.a.createElement("span",null,__("instrument_info.latest_rates"))),a.a.createElement("div",{className:"latest-rates-list"},l.a.map(t,(function(t){return a.a.createElement("div",{key:"latest-rate-"+t.timestamp},a.a.createElement("span",null,p.a.user.setTimestampToMoment(t.timestamp).format("DD/MM/YY")),a.a.createElement("span",null,Number(t.close).toFixed(e)))}))))}}]),t}(f.a);t.a=Object(o.connect)((function(e,t){var n=t.symbol;return{precision:Object(s.getInstrumentPrecision)(e,n)}}))(b)},2566:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(4),i=n(1),c=n.n(i),u=n(2),l=n(24),s=n(2222),f=n(25),m=n.n(f),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),p(t,[{key:"onLoad",value:function(e){var t=c.a.max(e,(function(e){return e.high})).high,n=c.a.min(e,(function(e){return e.low})).low;this.setState({monthHigh:t,monthLow:n})}},{key:"getSubscriptionConfig",value:function(){return{chartId:"1-month-range",range:u.RANGE_1_MONTH}}},{key:"resetState",value:function(){return this.setState({monthHigh:null,monthLow:null})}},{key:"render",value:function(){var e=this.props,t=e.bid,n=e.precision;if(!this.state)return null;var r=this.state,o=r.monthHigh,i=r.monthLow;if(!t||!i||!o)return null;t<i&&(i=t),t>o&&(o=t);var c=o-i,l=0!==c?(t-i)/c:u.PERCENTS_50_DECIMAL;return a.a.createElement("div",{className:"price-change-bar"},a.a.createElement("div",{className:"text-nowrap"},Number(i).toFixed(n)+" - "+Number(o).toFixed(n)),a.a.createElement("div",{className:"bar"},a.a.createElement("span",{className:"bar-indicator",style:{left:m()(l).toPercent()}})))}}]),t}(s.a);t.a=Object(o.connect)((function(e,t){var n=t.symbol;return{precision:Object(l.getInstrumentPrecision)(e,n),bid:Object(l.getInstrumentBid)(e,n)}}))(d)},2567:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(4),i=n(1),c=n.n(i),u=n(2),l=n(24),s=n(2222),f=n(25),m=n.n(f),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),p(t,[{key:"onLoad",value:function(e){var t=c.a.max(e,(function(e){return e.high})).high,n=c.a.min(e,(function(e){return e.low})).low;this.setState({monthHigh:t,monthLow:n})}},{key:"getSubscriptionConfig",value:function(){return{chartId:"3-months-range",range:u.RANGE_3_MONTHS}}},{key:"resetState",value:function(){return this.setState({monthHigh:null,monthLow:null})}},{key:"render",value:function(){var e=this.props,t=e.bid,n=e.precision;if(!this.state)return null;var r=this.state,o=r.monthHigh,i=r.monthLow;if(!t||!i||!o)return null;t<i&&(i=t),t>o&&(o=t);var c=o-i,l=0!==c?(t-i)/c:u.PERCENTS_50_DECIMAL;return a.a.createElement("div",{className:"price-change-bar"},a.a.createElement("div",{className:"text-nowrap"},Number(i).toFixed(n)+" - "+Number(o).toFixed(n)),a.a.createElement("div",{className:"bar"},a.a.createElement("span",{className:"bar-indicator",style:{left:m()(l).toPercent()}})))}}]),t}(s.a);t.a=Object(o.connect)((function(e,t){var n=t.symbol;return{precision:Object(l.getInstrumentPrecision)(e,n),bid:Object(l.getInstrumentBid)(e,n)}}))(d)},2568:function(e,t,n){"use strict";n(0);var r=n(4),a=n(58);t.a=Object(r.connect)((function(e){return{isEventAndTradeEnabled:Object(a.isEventsAndTradeEnabled)(e)}}))((function(e){var t=e.isEventAndTradeEnabled,n=e.children;return t?n:null}))},2575:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(20),i=n.n(o),c=n(4),u=n(8),l=n.n(u),s=n(1),f=n.n(s),m=n(7),p=n.n(m),d=n(2197),v=n(46),b=n(24),h=n(2180),y=n(6),_=n.n(y),E=n(166),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var O="00",j=function(e){var t=_.a.duration(e,"milliseconds"),n=_.a.utc(e);switch(!0){case t.days()>0:return n.subtract(1,"days").format("D[d]:HH:mm");case t.hours()>0:return n.format("HH:mm:ss");case t.minutes()>0:return n.format("mm:ss");default:return n.format("ss")}},w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tick=n.tick.bind(n),n.state={diff:0,value:O,completed:!0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),g(t,[{key:"start",value:function(){this.tick(_()(this.props.endDate).diff(_()(this.props.startDate||Object(E.b)()))),this.intervalId=setInterval(this.tick,1e3)}},{key:"stop",value:function(){clearInterval(this.intervalId)}},{key:"componentDidMount",value:function(){this.start()}},{key:"componentDidUpdate",value:function(e,t){!this.state.completed||e.endDate===this.props.endDate&&e.startDate===this.props.startDate||this.start()}},{key:"componentWillUnmount",value:function(){this.stop()}},{key:"tick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.diff;e>0?this.setState({diff:e-1e3,completed:!1,value:j(e)}):(this.stop(),this.setState({diff:0,completed:!0,value:O}),this.props.onComplete&&this.props.onComplete())}},{key:"render",value:function(){return a.a.createElement("span",null,this.state.value)}}]),t}(a.a.Component);w.defaultProps={onComplete:null,startDate:null,endDate:null};var N=w,k=n(27),C=n(33),D=(n(2212),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e});function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=Object(c.connect)((function(e,t){var n=t.symbol;return{name:Object(b.getInstrumentName)(e,n),events:Object(h.k)(e,n)}}),(function(e){return{loadUpcoming:function(t,n){return e(Object(d.e)({symbol:t,visibleSize:n}))},closeInstrumentDetails:function(t){return e(Object(v.closeInstrumentDetails)(t))}}}))(i()({componentDidMount:function(){this.props.loadUpcoming(this.props.symbol,3)},componentWillUpdate:function(e){this.props.symbol!==e.symbol&&this.props.loadUpcoming(e.symbol,3)},onCountdownComplete:function(){this.props.loadUpcoming(this.props.symbol,3)},onClick:function(e){this.props.closeInstrumentDetails(),p.a.navigate("events-and-trade/"+e+"/"+this.props.symbol.replace("/",""))},render:function(){var e,t=this,n=this.props,r=n.events,o=n.name,i=(n.symbol,n.loadUpcoming,n.closeInstrumentDetails,n.className),c=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["events","name","symbol","loadUpcoming","closeInstrumentDetails","className"]);if(f.a.isEmpty(r))return null;var u=l()((S(e={},i,!!i),S(e,"events-and-trade",!0),S(e,"upcoming",!0),e));return a.a.createElement("div",D({},c,{className:u}),a.a.createElement("div",{className:"upcoming-first"},a.a.createElement("div",{className:"upcoming-first-title"},__("events_and_trade.title")),a.a.createElement(C.c,null,a.a.createElement("div",{className:"upcoming-first-timer"},a.a.createElement("div",{className:"upcoming-first-timer-title"},__("events_and_trade.time_to_next")),a.a.createElement("div",{className:"upcoming-first-timer-value"},a.a.createElement(N,{endDate:r[0].timestamp,onComplete:this.onCountdownComplete})),a.a.createElement("div",{className:"upcoming-first-timer-subtitle"},__("events_and_trade.event_prediction",r[0].name,r[0].prediction))))),a.a.createElement("div",{className:"upcoming-top"},a.a.createElement("div",{className:"upcoming-top-title"},a.a.createElement("div",null,__("events_and_trade.upcoming.title",o))),a.a.createElement(k.default,{minWidth:824},a.a.createElement(C.c,null,a.a.createElement("table",{className:"upcoming-top-table"},a.a.createElement("thead",null,a.a.createElement("tr",{className:"upcoming-top-table-columns"},a.a.createElement("td",null,__("events_and_trade.upcoming.column.events")),a.a.createElement("td",null,__("events_and_trade.upcoming.column.date")),a.a.createElement("td",null,__("events_and_trade.upcoming.column.prediction")))),a.a.createElement("tbody",null,f.a.map(f.a.first(r,3),(function(e,n){return a.a.createElement("tr",{key:"upcoming-event-"+n,className:"upcoming-top-table-row"},a.a.createElement("td",null,a.a.createElement("div",{className:"event-name",onClick:function(){return t.onClick(e.typeCode)}},a.a.createElement("span",null,a.a.createElement("img",{className:"event-flag",src:e.flag})),a.a.createElement("span",null,e.name))),a.a.createElement("td",null,e.formattedDate),a.a.createElement("td",null,e.prediction))})))))),a.a.createElement(k.default,{maxWidth:823},a.a.createElement("div",{className:"upcoming-top-list"},f.a.map(f.a.first(r,3),(function(e,n){return a.a.createElement("div",{key:"upcoming-event-"+n,className:"upcoming-top-list-item"},a.a.createElement("div",null,a.a.createElement("div",null,__("events_and_trade.upcoming.column.events")),a.a.createElement("div",null,__("events_and_trade.upcoming.column.date")),a.a.createElement("div",null,__("events_and_trade.upcoming.column.prediction"))),a.a.createElement("div",null,a.a.createElement("div",{className:"event-name",onClick:function(){return t.onClick(e.typeCode)}},a.a.createElement("div",null,a.a.createElement("img",{className:"event-flag",src:e.flag})),a.a.createElement("span",null,e.name)),a.a.createElement("div",null,e.formattedDate),a.a.createElement("div",null,e.prediction)))}))))))}}))}}]);