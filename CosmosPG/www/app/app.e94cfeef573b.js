!function(e){function t(t){for(var i,r,a=t[0],l=t[1],c=t[2],u=0,p=[];u<a.length;u++)r=a[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&p.push(o[r][0]),o[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);for(d&&d(t);p.length;)p.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],i=!0,r=1;r<n.length;r++){var l=n[r];0!==o[l]&&(i=!1)}i&&(s.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},r={48:0},o={48:0},s=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(e){var t=[];r[e]?t.push(r[e]):0!==r[e]&&{8:1,15:1,20:1,31:1,35:1,39:1,40:1,44:1,47:1,52:1,54:1,60:1,64:1,88:1,89:1,90:1,102:1,103:1,104:1,106:1,109:1,116:1,118:1,130:1,133:1,134:1}[e]&&t.push(r[e]=new Promise((function(t,n){for(var i="styles/"+e+"."+{0:"a8ad88b923fecefa9774",1:"4fe6334e725286f9e70d",2:"d8d54feae89a4ee16271",3:"52acaf6e072bad3b08c0",4:"42a44a3daa1cd18aabcd",5:"f0f8802105c15bc5ac11",6:"7eee29e68f57e3fd7b44",7:"0980f942fef91cae9f53",8:"51d8a7270c144a44fc01",9:"a3c87de13e0afbdaa31b",10:"122d38a897ab0fc3e5ca",11:"11cd9f2e702113d2d106",12:"72ca7c34df2f9b8331a4",13:"ce733c7134d765269c66",14:"733096c5407ceb701b3c",15:"261f9c8034b36591fab0",16:"ddb2d653138e33ee26d2",17:"3e216a27720962a03b8a",18:"a5bb03c87c0ac1fbffd9",19:"d4c358baed077df663aa",20:"75a242bf6fdaa669ed38",21:"6d7f681dcc4c0973d042",22:"d797f504f04c3906c0ea",23:"cb83eb034e357313f3ae",24:"a48d4220c62854b6c607",25:"9aa35a351d00d6a9194e",26:"d3afd2a18d73145f00b8",27:"b9d11abc3651d668d8a3",28:"610bb6f26e1e7aade50d",29:"be6e4f70fb65cf1b96bb",30:"dab329c7ddd6a1432649",31:"2960838dc0ac1dc77e09",32:"6f851a6acb56cbec5c41",33:"8114d9b2146f66d80d16",34:"523f9f0e7271484b9ead",35:"7e2ed7bb7756aecc7a3a",36:"1a26171f056836fa6172",37:"43953bb6e98b173ff34f",38:"927d755876e690a4a3cd",39:"8724bb9907828a922109",40:"88e6488d78964e0b39e1",41:"b2296d3ca9125e522c13",42:"7e375c1cb314ebf52898",43:"d121a52c42e05fddbff0",44:"88b7e764bd329bf00e80",45:"c1a25ff6a4b88b3ad52d",46:"4a4c1c1151c83d5a9347",47:"a4e767286a28fbacb7f0",49:"b4169862b8ee4cbf0f46",50:"df4c9e0a768983629e19",51:"fd109cc3284cebb7ba6a",52:"d9a136f2693e43f49f0e",53:"2f0db88d4022c9a754c4",54:"617ff490d59c9dc2ee6f",55:"1e46d2cdb62e6beda7c6",56:"0e93c19ba3bb065314f8",57:"9acbf60fe0f53347952c",58:"838b5b47589c0b4757bd",59:"193c0e44ee8da1d8637a",60:"19c5d011ac12df4f6716",61:"94c17ecc5044b8f7d0e8",62:"6339d0b6670a502adbb6",63:"2400d71ac818b3d2de38",64:"d0bd9e3a112566d6b327",65:"0d9e6541e3a13856bdfe",66:"94ba7e6558e52860426d",67:"09ffeb2f2c4d2b2f27b7",68:"a498694212697aa36f16",69:"a5c6028e8b171df1f454",70:"d5e1d43e52c3adc223c7",71:"f49949119ab814062199",72:"0ccbc2b6f338aaf21810",74:"ffa81ec40e11e5b4bd40",75:"d74834bf33515a5b2680",76:"dbbcc6b100882ee5706c",77:"6dc29bd4d0237eb2707c",78:"db517ec4c5128a764589",79:"7f4353034fceb0144bfe",80:"e3731dd21580ff0680c7",81:"5fdd05e121b598d59425",82:"5a8e5a099f7fce11edb3",83:"496fc135b9d461c68a44",84:"10b4b7719e2a068814c5",85:"e58c1b941c02c8ff3dc8",86:"b72ffd8c4f09d4e7b771",87:"4016ce6fe84718e8ccb3",88:"21b9134aad3cce0b1012",89:"9fcf670f7aa2423f853f",90:"1869c5d840de7905bad3",91:"977e330a305c4afe45cc",92:"7877af7bde193df8f9fe",93:"5bed0c6b9b89fbe1bb65",94:"5ea2c549ac33e7e5bead",95:"d11eaeb81a6925c42d4c",96:"3213788e6ee8bf018e6a",97:"fcfb05e30ddb48428bd6",98:"b332f8faaa0c3eee1d7c",99:"f561afa6b2ef9527e25f",100:"ea1ab198a8c356e04e0e",101:"fea7843bd66cc16f6eea",102:"ec1a6def2ea66243fecd",103:"37f6d571ca66baa0c7bc",104:"d32510cafd8b1a06c8da",105:"e0545f0a3ad8d9bd47a1",106:"306120b9280937621356",107:"f18f09ad25fdfc98eb8e",108:"f70aa3c66003418957d0",109:"c89e90af7bdb00687b80",110:"2e78d8d6e813dc6a1149",111:"19f03a48ab92d0e9f7ad",112:"51a2cd340f0492df5231",113:"a7faaf4ce440819ca27d",114:"0141915910f045517a3a",115:"c325d3ae383353e1665b",116:"a361eca1b03c96661ee8",117:"ade1eeec14e04149b225",118:"11b0c1f92b29ee388530",119:"8a790a7b0106d521f8b7",120:"209f356efa85363f83a0",121:"b9409dfd49d8dc733df1",122:"e8b0e2b881a8f9eb57f6",123:"8ea4d8c131ec80c5be5b",124:"590d1e59a04b5444b915",125:"ca2ab49c47d392e89b7d",126:"35fc0964829e9571af3b",127:"b10e88875265123d59d5",128:"2e71ac1f897e07b3e7a2",129:"a0eca1d91a59e5935c8d",130:"eb86d4b6d355e1ca711c",131:"639c8941909d8726b33c",132:"649a878d8324ae0f72b5",133:"95a4658854bbb8dfade0",134:"5aef31f173146dca26f7",135:"3086ebe6d6832ce8b6b2",137:"8ab22eaacd0e8cbab620",138:"ed366abdee5cfdce9815",139:"fb0cc5870397e0e4c739",140:"7886ae835ac8b6a2a886",141:"4f75221964acb8becc76"}[e]+".e94cfeef573b.css",o=a.p+i,s=document.getElementsByTagName("link"),l=0;l<s.length;l++){var c=(d=s[l]).getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(c===i||c===o))return t()}var u=document.getElementsByTagName("style");for(l=0;l<u.length;l++){var d;if((c=(d=u[l]).getAttribute("data-href"))===i||c===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var i=t&&t.target&&t.target.src||o,s=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=i,delete r[e],p.parentNode.removeChild(p),n(s)},p.href=o,document.getElementsByTagName("head")[0].appendChild(p)})).then((function(){r[e]=0})));var n=o[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,i){n=o[e]=[t,i]}));t.push(n[2]=i);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.src=function(e){return a.p+"app/"+e+"."+{0:"a8ad88b923fecefa9774",1:"4fe6334e725286f9e70d",2:"d8d54feae89a4ee16271",3:"52acaf6e072bad3b08c0",4:"42a44a3daa1cd18aabcd",5:"f0f8802105c15bc5ac11",6:"7eee29e68f57e3fd7b44",7:"0980f942fef91cae9f53",8:"51d8a7270c144a44fc01",9:"a3c87de13e0afbdaa31b",10:"122d38a897ab0fc3e5ca",11:"11cd9f2e702113d2d106",12:"72ca7c34df2f9b8331a4",13:"ce733c7134d765269c66",14:"733096c5407ceb701b3c",15:"261f9c8034b36591fab0",16:"ddb2d653138e33ee26d2",17:"3e216a27720962a03b8a",18:"a5bb03c87c0ac1fbffd9",19:"d4c358baed077df663aa",20:"75a242bf6fdaa669ed38",21:"6d7f681dcc4c0973d042",22:"d797f504f04c3906c0ea",23:"cb83eb034e357313f3ae",24:"a48d4220c62854b6c607",25:"9aa35a351d00d6a9194e",26:"d3afd2a18d73145f00b8",27:"b9d11abc3651d668d8a3",28:"610bb6f26e1e7aade50d",29:"be6e4f70fb65cf1b96bb",30:"dab329c7ddd6a1432649",31:"2960838dc0ac1dc77e09",32:"6f851a6acb56cbec5c41",33:"8114d9b2146f66d80d16",34:"523f9f0e7271484b9ead",35:"7e2ed7bb7756aecc7a3a",36:"1a26171f056836fa6172",37:"43953bb6e98b173ff34f",38:"927d755876e690a4a3cd",39:"8724bb9907828a922109",40:"88e6488d78964e0b39e1",41:"b2296d3ca9125e522c13",42:"7e375c1cb314ebf52898",43:"d121a52c42e05fddbff0",44:"88b7e764bd329bf00e80",45:"c1a25ff6a4b88b3ad52d",46:"4a4c1c1151c83d5a9347",47:"a4e767286a28fbacb7f0",49:"b4169862b8ee4cbf0f46",50:"df4c9e0a768983629e19",51:"fd109cc3284cebb7ba6a",52:"d9a136f2693e43f49f0e",53:"2f0db88d4022c9a754c4",54:"617ff490d59c9dc2ee6f",55:"1e46d2cdb62e6beda7c6",56:"0e93c19ba3bb065314f8",57:"9acbf60fe0f53347952c",58:"838b5b47589c0b4757bd",59:"193c0e44ee8da1d8637a",60:"19c5d011ac12df4f6716",61:"94c17ecc5044b8f7d0e8",62:"6339d0b6670a502adbb6",63:"2400d71ac818b3d2de38",64:"d0bd9e3a112566d6b327",65:"0d9e6541e3a13856bdfe",66:"94ba7e6558e52860426d",67:"09ffeb2f2c4d2b2f27b7",68:"a498694212697aa36f16",69:"a5c6028e8b171df1f454",70:"d5e1d43e52c3adc223c7",71:"f49949119ab814062199",72:"0ccbc2b6f338aaf21810",74:"ffa81ec40e11e5b4bd40",75:"d74834bf33515a5b2680",76:"dbbcc6b100882ee5706c",77:"6dc29bd4d0237eb2707c",78:"db517ec4c5128a764589",79:"7f4353034fceb0144bfe",80:"e3731dd21580ff0680c7",81:"5fdd05e121b598d59425",82:"5a8e5a099f7fce11edb3",83:"496fc135b9d461c68a44",84:"10b4b7719e2a068814c5",85:"e58c1b941c02c8ff3dc8",86:"b72ffd8c4f09d4e7b771",87:"4016ce6fe84718e8ccb3",88:"21b9134aad3cce0b1012",89:"9fcf670f7aa2423f853f",90:"1869c5d840de7905bad3",91:"977e330a305c4afe45cc",92:"7877af7bde193df8f9fe",93:"5bed0c6b9b89fbe1bb65",94:"5ea2c549ac33e7e5bead",95:"d11eaeb81a6925c42d4c",96:"3213788e6ee8bf018e6a",97:"fcfb05e30ddb48428bd6",98:"b332f8faaa0c3eee1d7c",99:"f561afa6b2ef9527e25f",100:"ea1ab198a8c356e04e0e",101:"fea7843bd66cc16f6eea",102:"ec1a6def2ea66243fecd",103:"37f6d571ca66baa0c7bc",104:"d32510cafd8b1a06c8da",105:"e0545f0a3ad8d9bd47a1",106:"306120b9280937621356",107:"f18f09ad25fdfc98eb8e",108:"f70aa3c66003418957d0",109:"c89e90af7bdb00687b80",110:"2e78d8d6e813dc6a1149",111:"19f03a48ab92d0e9f7ad",112:"51a2cd340f0492df5231",113:"a7faaf4ce440819ca27d",114:"0141915910f045517a3a",115:"c325d3ae383353e1665b",116:"a361eca1b03c96661ee8",117:"ade1eeec14e04149b225",118:"11b0c1f92b29ee388530",119:"8a790a7b0106d521f8b7",120:"209f356efa85363f83a0",121:"b9409dfd49d8dc733df1",122:"e8b0e2b881a8f9eb57f6",123:"8ea4d8c131ec80c5be5b",124:"590d1e59a04b5444b915",125:"ca2ab49c47d392e89b7d",126:"35fc0964829e9571af3b",127:"b10e88875265123d59d5",128:"2e71ac1f897e07b3e7a2",129:"a0eca1d91a59e5935c8d",130:"eb86d4b6d355e1ca711c",131:"639c8941909d8726b33c",132:"649a878d8324ae0f72b5",133:"95a4658854bbb8dfade0",134:"5aef31f173146dca26f7",135:"3086ebe6d6832ce8b6b2",137:"8ab22eaacd0e8cbab620",138:"ed366abdee5cfdce9815",139:"fb0cc5870397e0e4c739",140:"7886ae835ac8b6a2a886",141:"4f75221964acb8becc76"}[e]+".e94cfeef573b.js"}(e);var c=new Error;s=function(t){l.onerror=l.onload=null,clearTimeout(u);var n=o[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+i+": "+r+")",c.name="ChunkLoadError",c.type=i,c.request=r,n[1](c)}o[e]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(t)},a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a.oe=function(e){throw e};var l=window.webpackJsonp=window.webpackJsonp||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var d=c;s.push([1043,73,136]),n()}([,,,function(e,t,n){"use strict";n.r(t),n.d(t,"LIVE_ACCOUNT_ID",(function(){return o})),n.d(t,"DEMO_ACCOUNT_ID",(function(){return s})),n.d(t,"SUCCESS",(function(){return a})),n.d(t,"ERROR",(function(){return l})),n.d(t,"EMPTY",(function(){return c})),n.d(t,"LOADING",(function(){return u})),n.d(t,"OPEN",(function(){return d})),n.d(t,"CLOSED",(function(){return p})),n.d(t,"PENDING",(function(){return f})),n.d(t,"ACTIVE",(function(){return h})),n.d(t,"INACTIVE",(function(){return m})),n.d(t,"CLOSING",(function(){return g})),n.d(t,"CONFIRM",(function(){return v})),n.d(t,"REJECT",(function(){return b})),n.d(t,"LOADED",(function(){return _})),n.d(t,"REJECTED",(function(){return y})),n.d(t,"APPROVED",(function(){return E})),n.d(t,"FORBIDDEN",(function(){return S})),n.d(t,"IN_PROCESS",(function(){return C})),n.d(t,"VALIDATE",(function(){return w})),n.d(t,"PROCESSING",(function(){return O})),n.d(t,"WORKING",(function(){return T})),n.d(t,"EXPANDED",(function(){return P})),n.d(t,"COLLAPSED",(function(){return k})),n.d(t,"MAXIMIZED",(function(){return I})),n.d(t,"MINIMIZED",(function(){return A})),n.d(t,"AUTO",(function(){return x})),n.d(t,"VISIBLE",(function(){return N})),n.d(t,"HIDDEN",(function(){return D})),n.d(t,"NONE",(function(){return R})),n.d(t,"NOT_FOUND",(function(){return L})),n.d(t,"COMPLETED",(function(){return M})),n.d(t,"WAITING",(function(){return j})),n.d(t,"OPENING",(function(){return F})),n.d(t,"RUNNING",(function(){return B})),n.d(t,"MILLISECONDS",(function(){return U})),n.d(t,"SECONDS",(function(){return V})),n.d(t,"MINUTES",(function(){return z})),n.d(t,"HOURS",(function(){return q})),n.d(t,"BUY",(function(){return H})),n.d(t,"STRONGBUY",(function(){return $})),n.d(t,"SELL",(function(){return G})),n.d(t,"STRONGSELL",(function(){return W})),n.d(t,"HOLD",(function(){return Y})),n.d(t,"TRADING_MODE",(function(){return K})),n.d(t,"CALENDAR_MONTH",(function(){return X})),n.d(t,"CALENDAR_WEEK",(function(){return Q})),n.d(t,"CALENDAR_WORK_WEEK",(function(){return J})),n.d(t,"CALENDAR_DAY",(function(){return Z})),n.d(t,"DP_PARAM_POSITION_MODE",(function(){return ee})),n.d(t,"DP_PARAM_TRADING_VIEW",(function(){return te})),n.d(t,"DP_PARAM_TIMEZONE_ID",(function(){return ne})),n.d(t,"DP_PARAM_TIMEZONE_OFFSET",(function(){return ie})),n.d(t,"DP_PARAM_TIMEZONE_GMT",(function(){return re})),n.d(t,"DP_PARAM_TIMEZONE_NAME",(function(){return oe})),n.d(t,"PATH_PARAM_NAME",(function(){return se})),n.d(t,"PATH_SYNC_PARAM_NAME",(function(){return ae})),n.d(t,"PATH_TRADING_ACCOUNT_ID",(function(){return le})),n.d(t,"PLATFORM_TYPE_POPUP",(function(){return ce})),n.d(t,"MAX_RATING_VALUE",(function(){return ue})),n.d(t,"INSTRUMENT_TYPES",(function(){return de})),n.d(t,"INSTRUMENT_CATEGORIES",(function(){return pe})),n.d(t,"NA",(function(){return fe})),n.d(t,"HTTP_STATUS_CODE",(function(){return he})),n.d(t,"TRADING_TOOLS",(function(){return me})),n.d(t,"SENTIMENT_BULLISH",(function(){return ge})),n.d(t,"SENTIMENT_BEARISH",(function(){return ve})),n.d(t,"UI_SECTION_TRADING",(function(){return be})),n.d(t,"UI_SECTION_FEATURED",(function(){return _e})),n.d(t,"UI_SECTION_FAVORITES",(function(){return ye})),n.d(t,"UI_SECTION_OPEN_POSITION",(function(){return Ee})),n.d(t,"UI_SECTION_ORDERS",(function(){return Se})),n.d(t,"UI_SECTION_CLOSED_POSITIONS",(function(){return Ce})),n.d(t,"UI_SECTION_CANCELED_ORDERS",(function(){return we})),n.d(t,"UI_SECTION_PRICE_ALERTS",(function(){return Oe})),n.d(t,"UI_SECTION_PORTFOLIOS",(function(){return Te})),n.d(t,"UI_SECTION_INVEST",(function(){return Pe})),n.d(t,"MULTI_CHARTS_PATH",(function(){return ke})),n.d(t,"SORT_DIRECTION_ASC",(function(){return Ie})),n.d(t,"SORT_DIRECTION_DESC",(function(){return Ae})),n.d(t,"SORT_DIRECTION_NONE",(function(){return xe})),n.d(t,"ORDER_EXECUTION_STATUS_WAITING_GSL",(function(){return Ne})),n.d(t,"TIME_IN_FORCE_GTC",(function(){return De})),n.d(t,"LOW_SCORE",(function(){return Re})),n.d(t,"NONE_SCORE",(function(){return Le})),n.d(t,"UNKNOWN_SCORE",(function(){return Me})),n.d(t,"MEDIUM_SCORE",(function(){return je})),n.d(t,"HIGH_SCORE",(function(){return Fe})),n.d(t,"CURRENCY_EUR",(function(){return Be})),n.d(t,"SESSION_EXPIRED_POPUP_TIMEOUT",(function(){return Ue})),n.d(t,"YES",(function(){return Ve})),n.d(t,"NO",(function(){return ze})),n.d(t,"INSTRUMENT_TYPE_FOREX",(function(){return qe})),n.d(t,"INSTRUMENT_TYPE_SPREAD_BETTING",(function(){return He})),n.d(t,"SPREAD_BET_INSTRUMENT_SYMBOL_IDENTIFIER",(function(){return $e})),n.d(t,"POSITION_DIRECTION_BUY",(function(){return Ge})),n.d(t,"POSITION_DIRECTION_SELL",(function(){return We})),n.d(t,"DEFAULT_POSITION_PIPS_STEP",(function(){return Ye})),n.d(t,"RANGE_1_MONTH",(function(){return Ke})),n.d(t,"RANGE_3_MONTHS",(function(){return Xe})),n.d(t,"RANGE_1_YEAR",(function(){return Qe})),n.d(t,"PERCENTS_100",(function(){return Je})),n.d(t,"PERCENTS_50",(function(){return Ze})),n.d(t,"PERCENTS_100_DECIMAL",(function(){return et})),n.d(t,"PERCENTS_50_DECIMAL",(function(){return tt})),n.d(t,"TODAY",(function(){return nt})),n.d(t,"YESTERDAY",(function(){return it})),n.d(t,"LAST_THREE_DAYS",(function(){return rt})),n.d(t,"LAST_SEVEN_DAYS",(function(){return ot})),n.d(t,"THIS_WEEK",(function(){return st})),n.d(t,"LAST_WEEK",(function(){return at})),n.d(t,"PERIODS",(function(){return lt})),n.d(t,"QUARTERLY",(function(){return ct})),n.d(t,"QUARTER",(function(){return ut})),n.d(t,"ANNUAL",(function(){return dt})),n.d(t,"BREAKPOINT_SCREEN_LG_MAX",(function(){return pt})),n.d(t,"BREAKPOINT_SCREEN_SM_MAX",(function(){return ft})),n.d(t,"BASIC_VIEW_INITIAL_CHART_HEIGHT",(function(){return ht})),n.d(t,"BASIC_VIEW_MIN_CHART_HEIGHT",(function(){return mt})),n.d(t,"BASIC_VIEW_COLLAPSED_CHART_HEIGHT",(function(){return gt})),n.d(t,"STEP_DONE",(function(){return vt})),n.d(t,"STEP_PENDING",(function(){return bt})),n.d(t,"STEP_IN_PROGRESS",(function(){return _t})),n.d(t,"BONUS_STATUS_IN_PROGRESS",(function(){return yt})),n.d(t,"BONUS_STATUS_WAITING",(function(){return Et})),n.d(t,"BONUS_STATUS_COMPLETED",(function(){return St})),n.d(t,"BONUS_STATUS_LOST",(function(){return Ct})),n.d(t,"BONUS_STATUS_EXPIRED",(function(){return wt})),n.d(t,"BONUS_TYPE_COMPLIANCE",(function(){return Ot})),n.d(t,"BONUS_TYPE_WELCOME_BONUS",(function(){return Tt})),n.d(t,"BONUS_TYPE_PENDING_BONUS",(function(){return Pt})),n.d(t,"BONUS_TYPE_FD_BONUS",(function(){return kt})),n.d(t,"BONUS_TYPE_SMS_BONUS",(function(){return It})),n.d(t,"BONUS_TYPE_VERIFY_POI",(function(){return At})),n.d(t,"BONUS_TYPE_VERIFY_POR",(function(){return xt})),n.d(t,"BONUS_TYPE_UNKNOWN",(function(){return Nt})),n.d(t,"DASHBOARD_ADVANCED_TYPE_ID",(function(){return Dt})),n.d(t,"DASHBOARD_BASIC_TYPE_ID",(function(){return Rt})),n.d(t,"DASHBOARD_NEW_ADVANCED_TYPE_ID",(function(){return Lt})),n.d(t,"BASIC_VIEW_INSTRUMENT_LIST_ITEM_MIN_HEIGHT",(function(){return Mt})),n.d(t,"CHARS",(function(){return jt})),n.d(t,"INSTRUMENT_SORT",(function(){return Ft})),n.d(t,"OPEN_POSITION_MODE",(function(){return Bt})),n.d(t,"COMPLIANCE_STAGE",(function(){return Ut})),n.d(t,"COMPLIANCE_SUSPENDED_GROUND",(function(){return Vt})),n.d(t,"PENDING_COMPLIANCE_GROUND",(function(){return zt})),n.d(t,"IS_LOGIN_FROM_LOGIN_PAGE",(function(){return qt})),n.d(t,"SECOND_IN_MILLISECONDS",(function(){return Ht})),n.d(t,"MINUTE_IN_MILLISECONDS",(function(){return $t})),n.d(t,"HOUR_IN_MILLISECONDS",(function(){return Gt})),n.d(t,"DAY_IN_MILLISECONDS",(function(){return Wt})),n.d(t,"MONTH_IN_MILLISECONDS",(function(){return Yt})),n.d(t,"ACCOUNT_TYPE",(function(){return Kt})),n.d(t,"ACCOUNT_TRADING_TYPE",(function(){return Xt})),n.d(t,"PLATFORM_TYPE_ID",(function(){return Qt})),n.d(t,"PLATFORM_ID_TO_TYPE",(function(){return Jt})),n.d(t,"PLATFORM_TYPE",(function(){return Zt})),n.d(t,"PAY_GATE",(function(){return en})),n.d(t,"SOLID_PAYMENTS",(function(){return tn})),n.d(t,"SAFE_CHARGE",(function(){return nn})),n.d(t,"PRAXIS",(function(){return rn})),n.d(t,"ZOTA",(function(){return on})),n.d(t,"DEPOSIT_STATUSES",(function(){return sn})),n.d(t,"MANAGE_ACCOUTS_TAB",(function(){return an})),n.d(t,"FUNDS_TRANSFER_TAB",(function(){return ln})),n.d(t,"CREATE_ACCOUNT_TAB",(function(){return cn})),n.d(t,"METATRADER_LINKS_TAB",(function(){return un})),n.d(t,"LEVERAGE_CHANGE_TAB",(function(){return dn})),n.d(t,"MY_ACCOUNTS_TABS",(function(){return pn})),n.d(t,"BONUSES_IN_PROGRESS_TAB",(function(){return fn})),n.d(t,"BONUSES_COMPLETED_TAB",(function(){return hn})),n.d(t,"cashierLocales",(function(){return mn})),n.d(t,"praxisLocales",(function(){return gn})),n.d(t,"ON_ALL_EVENT_LISTENER",(function(){return vn})),n.d(t,"MUTE",(function(){return bn})),n.d(t,"UNMUTE",(function(){return _n})),n.d(t,"USER_ACTIVE",(function(){return yn})),n.d(t,"USER_INACTIVE",(function(){return En})),n.d(t,"PLAY",(function(){return Sn})),n.d(t,"IDLE",(function(){return Cn})),n.d(t,"PAUSE",(function(){return wn})),n.d(t,"REQUIRE_KEEP_USER_REGISTRATION_FLOW_KEY",(function(){return On})),n.d(t,"MONEY_FIELD_MIN_VALUE",(function(){return Tn})),n.d(t,"PERCENT_FIELD_MIN_VALUE",(function(){return Pn})),n.d(t,"PIPS_FIELD_MIN_VALUE",(function(){return kn})),n.d(t,"SELECTED_DROPDOWN_SERVICE_PRIMARY",(function(){return In})),n.d(t,"SELECTED_DROPDOWN_SERVICE_SECONDARY",(function(){return An})),n.d(t,"OPEN_POSITION_PL_TYPE",(function(){return xn})),n.d(t,"shortDayDictionaryMapping",(function(){return Nn})),n.d(t,"FIRST_TIME_LOADING_STORAGE_KEY",(function(){return Dn}));var i=n(1),r=n.n(i),o="REAL",s="DEMO",a="SUCCESS",l="ERROR",c="EMPTY",u="LOADING",d="OPEN",p="CLOSED",f="PENDING",h="ACTIVE",m="INACTIVE",g="CLOSING",v="CONFIRM",b="REJECT",_="LOADED",y="REJECTED",E="APPROVED",S="FORBIDDEN",C="IN_PROCESS",w="VALIDATE",O="PROCESSING",T="WORKING",P="EXPANDED",k="COLLAPSED",I="MAXIMIZED",A="MINIMIZED",x="AUTO",N="VISIBLE",D="HIDDEN",R="NONE",L="NOT_FOUND",M="COMPLETED",j="WAITING",F="OPENING",B="RUNNING",U="milliseconds",V="seconds",z="minutes",q="hours",H="buy",$="strongbuy",G="sell",W="strongsell",Y="hold",K={NO:"NO",CLOSE_ONLY:"CLOSE_ONLY",SHORT_ONLY:"SHORT_ONLY",LONG_ONLY:"LONG_ONLY",FULL:"FULL"},X="month",Q="week",J="work_week",Z="day",ee="position_mode",te="trading_view",ne="timezone_id",ie="timezone_offset",re="timezone_gmt",oe="timezone_name",se="path",ae="platform_path",le="trading_account_id",ce="platform_type_popup",ue=5,de={FOREX:"FOREX"},pe={CRYPTO:"crypto",CURRENCY:"currency",SHARES:"shares",INDEX:"index",TRANDING_NOW:"tranding_now",COMMODITY:"commodity",ETFS:"etfs",BLENDS:"blends",BONDS:"bonds"},fe="N/A",he={BAD_REQUEST:400,UNAUTHORIZED:401,NOT_MODIFIED:304,FORBIDDEN:403,CONFLICT:409,TOO_LARGE:413,NOT_ACCEPTABLE:406},me={ACUITY:"acuity",ANALYST_RECOMMENDATIONS:"analyst_recommendations",ANALYSTS:"analysts",ANALYST_RESEARCH:"analyst_research",BLOG:"blog",BLOGGERS:"bloggers",EVENTS_AND_TRADE:"events_and_trade",FOREXLIVE:"forexlive",HEDGEFUNDS:"hedgefunds",INSIDERS:"insiders",NEWS_FEED:"news_feed",NEWS_SENTIMENT:"news_sentiment",PRICEALERTS:"pricealerts",RELATED_INSTRUMENTS:"related_instruments",TUTORIAL_VIDEOS:"tutorial_videos",WEBINARS:"webinars",WEBINARS_PREMIUM:"webinars_premium",PORTFOLIO:"portfolio",DMA:"dma",SIGNALS:"signals",REFINITIV:"refinitiv"},ge="Bullish",ve="Bearish",be="trading",_e="featured",ye="favorites",Ee="open-positions",Se="orders",Ce="closed-positions",we="canceled-orders",Oe="price-alerts",Te="portfolios",Pe="invest",ke="multi-charts",Ie="asc",Ae="desc",xe="none",Ne="WAITING_GSL",De="GTC",Re="LOW",Le="NONE",Me="UNKNOWN",je="MEDIUM",Fe="HIGH",Be="EUR",Ue=2e3,Ve="yes",ze="no",qe="FOREX",He="SB",$e=".x3",Ge="buy",We="sell",Ye=1,Ke="1mn",Xe="3mn",Qe="1y",Je=100,Ze=50,et=1,tt=.5,nt="today",it="yesterday",rt="last 3 days",ot="last 7 days",st="this week",at="last week",lt=[nt,it,rt,ot,st,at],ct="quarterly",ut="quarter",dt="annual",pt=1200,ft=768,ht=326,mt=326,gt=40,vt="done",bt="pending",_t="in-progress",yt="IN_PROGRESS",Et="WAITING",St="COMPLETED",Ct="LOST",wt="EXPIRED",Ot="COMPLIANCE",Tt="WELCOME_BONUS",Pt="PENDING_BONUS",kt="FD_BONUS",It="SMS_BONUS",At="VERIFY_POI",xt="VERIFY_POR",Nt="UNKNOWN",Dt="advanced",Rt="basic",Lt="new-advanced",Mt=37,jt={DOT:".",COMMA:",",SLASH:"/",QUOTE:"'"},Ft={INSTRUMENT:"instrument",NAME:"name",CHANGE:"change",SENTIMENT:"SENTIMENT"},Bt={BASIC:"basic",ADVANCED:"advanced",INTERACTIVE:"interactive"},Ut={NON_COMPLIANT:"NON_COMPLIANT",COMPLIANT:"COMPLIANT",PENDING:"PENDING_COMPLIANCE",LIMITED:"LIMITED_COMPLIED",REVOKED:"COMPLIANCE_REVOKED",SUSPENDED:"COMPLIANCE_SUSPENDED"},Vt={INACTIVITY:"INACTIVITY",INCOMPLETE_ECONOMIC_PROFILE:"INCOMPLETE_ECONOMIC_PROFILE",INSUFFICIENT_FUNDS_SOURCE_INFORMATION:"INSUFFICIENT_FUNDS_SOURCE_INFORMATION",INCOMPLETE_ECDD:"INCOMPLETE_ECDD",EXPIRATION:"EXPIRED_DOCUMENTATION"},zt={PENDING_ECDD:"PENDING_ECDD",PENDING_NCI:"PENDING_NCI",FOURTEEN_DAYS:"FOURTEEN_DAYS",PENDING_PHONE_VERIFICATION:"PENDING_PHONE_VERIFICATION"},qt="isLoginFromLoginPage",Ht=1e3,$t=60*Ht,Gt=60*$t,Wt=24*Gt,Yt=30*Wt,Kt={REAL:o,DEMO:s},Xt={MT4:"MT4",MT5:"MT5",CFD:"CFD",SPREAD_BETTING:"SPREAD_BETTING",QUANT_RANKS:"QUANT_RANKS",SHARE_DEALING:"SHARE_DEALING"},Qt={MT4:2,MT5:16,COSMOS:11,TTA:17},Jt={2:"MT4",16:"MT5",11:"COSMOS",17:"TTA"},Zt={MT4:"MT4",MT5:"MT5",COSMOS:"COSMOS",SAXO:"SAXO"},en="PAY_GATE",tn="SOLID_PAYMENTS",nn="SAFE_CHARGE",rn="PRAXIS",on="ZOTA",sn={CANCELLED:"CANCELLED",SELECTED:"SELECTED",MANUAL_SELECT_AMOUNT:"MANUAL_SELECT_AMOUNT"},an="manage-accounts",ln="funds-transfer",cn="create-account",un="metatrader-links",dn="leverage-change",pn=[an,ln,cn,un,dn],fn="bonuses-in-progress",hn="bonuses-completed",mn={en:"en_US",de:"de_DE",cn:"zh_CN",fr:"fr_FR",nl:"nl_NL",it:"it_IT",ja:"js_JP",es:"es_ES",ru:"ru_RU",ar:"ar_AA",pt:"bt_BR",sv:"sv_SV",da:"da_DK",ro:"ro_RO",bg:"bg_BG",pl:"pl_PL",hu:"hu_HU",id:"in_ID"},gn=r.a.object(r.a.map(r.a.clone(mn),(function(e,t){return[t,e.replace("_","-")]}))),vn="all",bn="mute",_n="unMute",yn="userActive",En="userInactive",Sn="play",Cn="idle",wn="pause",On="keep_registration",Tn=.01,Pn=.01,kn=1,In="selectedDropdownServicePrimary",An="selectedDropdownServiceSecondary",xn={VALUE:"value",PERCENTAGE:"percent"},Nn={Mon:"message.day0",Tue:"message.day1",Wed:"message.day2",Thu:"message.day3",Fri:"message.day4",Sat:"message.day5",Sun:"message.day6"},Dn="_ftpl"},,function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var r=n(1),o=n(24),s=r.extend({},o.Events,{readyEvents:{},navigate:function(e,t){this.trigger("route:change",e),o.history.navigate(e,r.extend({trigger:!0},t))},navigateBack:function(){var e=o.history.history;if(e.length<=2)return this.navigate("/");e.back()},onEvent:function(e,t,n){this.isEventReady(e)?t.call(n):s.on(e,t,n)},isEventReady:function(e){return!0===this.readyEvents[e]}});s.on("all",(function(e){s.readyEvents[e]=!0})),i.exports=s}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(24))},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var r=n(24),o=n(5),s=n(1310),a=n(1311),l=n(1312),c=n(1313),u=n(1314),d=n(1315),p=n(54),f=n(89),h=n(8),m=n(1318),g=n(1319),v=n(1320),b=n(1321),_=n(1322),y=n(1323),E=n(1324),S=n(1325),C=n(1326),w=n(974),O=n(1327),T=n(1330),P=n(1331),k=n(1332),I=n(1333),A=n(1334),x=n(1366),N=n(1),D=n(193).setUserPendingDeposit,R=n(3).LOW_SCORE,L=n(9),M=n(55).getSettingValueByKey,j=r.Model.extend({defaults:function(){return{role:"guest",lang:this.getDefaultLanguage(),data:{},guaranteedStopLoss:!1}},socket:null,initialize:function(){this._userInfo=new s,this._userFavorites=new a,this._userAccountMetrics=new l,this._userAccountSettings=new c,this._session=new u({user:this}),this._pendingDeposits=0,this._userDataCompliance=new g,this._userCreditCards=new v,this._userApplicationSettings=m,this._userData=new b,this._userLogin=new _,this._userToken=new y,this._priceAlerts=new O,this._userCommonData=new E,this._userAwards=new S,this._userBonusRequests=new C,this._userLeverageLevels=new w,this._userDocuments=new T,this._accountServices=new P,this._userWebinars=new I,this._accountLevels=new A,this._userLogin.setUserModel(this),this._addToHomeScreen=new k,this._userQuizStatus=new x,this.isLoggedIn()&&this.updateUserPendingDeposit()},getDefaultLanguage:function(){return N.isEmpty(navigator.languages)?navigator.language||navigator.userLanguage:navigator.languages[0]},isLoggedIn:function(){return this._userLogin.isLoggedIn()},wasLoggedIn:function(){return this._userLogin.wasLoggedIn()},login:function(e,t){return this._userLogin.login(e,t)},externalAuthLogin:function(e,t){return this._userLogin.externalAuthLogin(e,t)},autoLogin:function(){return this._userLogin.autoLoginRequest()},logout:function(){var e=this,t=M(window.store.getState(),"createdNewAccountTypeStatus"),n=this._userCommonData.getShowTooltipStatus();return this._userCommonData.saveShowTooltipStatus(t||n),this._userLogin.logout().catch((function(t){return e._userCommonData.saveShowTooltipStatus(n),t}))},getUserData:function(){return this._userData},loadUserData:function(){return this.getUserData().load()},getUserCommonData:function(){return this._userCommonData},getUserLogin:function(){return this._userLogin},getUserTokenModel:function(){return this._userToken},getUserInfoModel:function(){return this._userInfo},getUserAwardsModel:function(){return this._userAwards},getUserQuizStatus:function(){return this._userQuizStatus},getUserBonusRequests:function(){return this._userBonusRequests},getUserLeverageLevels:function(){return this._userLeverageLevels},getUserDocumentsModel:function(){return this._userDocuments},getUserWebinarsModel:function(){return this._userWebinars},getUserFavoritesModel:function(){return this._userFavorites.getFavorites()},getApplicationSettings:function(){return this._userApplicationSettings},updateUserFavorites:function(e,t){return this._userFavorites.updateFavorites(e,t)},getUserAccountMetricsModel:function(){return this._userAccountMetrics},getUserAccountSettingsModel:function(){return this._userAccountSettings},getSessionModel:function(){return this._session},isRemembered:function(){return this._userLogin.isRemembered()},isLogoutReasonEqual:function(e){return this._userLogin.isLogoutReasonEqual(e)},getSession:function(){return this._session},getUserTotalDeposits:function(){return this.getUserData().getUserTotalDeposits()},getAdditionalDepositForMarketX:function(){return this.getUserData().getAdditionalDepositForMarketX()},getMarketxThreshold:function(){return this.getUserData().getMarketxThreshold()},getUserAccountData:function(){return this.getUserData().getAccount()},getAccountId:function(){return this.getUserData().getAccountId()},getTinData:function(){return this.getUserData().getTinData()},getBrandLogoFileName:function(){return this.getUserData().getBrandLogoFileName()},getUserDataCompliance:function(){return this._userDataCompliance},getUserCreditCards:function(){return this._userCreditCards},getUserAccountServices:function(){return this._accountServices},getUserLanguage:function(){return this.getUserData().getLanguage()},getUserName:function(){return this.getUserData().getUserName()},getPlatformAccountId:function(){return this.getUserData().getPlatformAccountId()},getCrmboAccounts:function(){return this.getUserData().getCrmboAccounts()},isCompliance:function(){return this.getUserData().isCompliance()},isTradeEnabled:function(){return this.getUserData().isTradeEnabled()},isNotEEACompliance:function(){return this.getUserData().isNotEEACompliance()},isPendingCompliance:function(){return this.getUserData().isPendingCompliance()},isPendingComplianceGroundPendingECDD:function(){return this.getUserData().isPendingComplianceGroundPendingECDD()},isPendingComplianceGroundPhoneVerification:function(){return this.getUserData().isPendingComplianceGroundPhoneVerification()},isComplianceSuspended:function(){return this.getUserData().isComplianceSuspended()},isLimitedCompliance:function(){return this.getUserData().isLimitedCompliance()},isComplianceSuspendedGroundInactivity:function(){return this.getUserData().isComplianceSuspendedGroundInactivity()},isComplianceSuspendedGroundExpiration:function(){return this.getUserData().isComplianceSuspendedGroundExpiration()},isComplianceSuspendedGroundOther:function(){return this.getUserData().isComplianceSuspendedGroundOther()},getDepositEnabled:function(){return this.getUserData().getDepositEnabled()},getTradingType:function(){return this.getUserData().getTradingType()},isSpreadBetting:function(){return this.getUserData().isSpreadBetting()},getUserCurrency:function(){var e=this.getUserAccountData(),t=this.getCrmboAccounts();return(e=N.isEmpty(e)?t[0]:e).currency&&e.currency.toUpperCase()},getUserCurrencySymbol:function(){return __currency(this.getUserCurrency())},newAccount:function(e){return(new d).createNewAccount(e)},updateUserPendingDeposit:function(){return h.getPendingDeposit().then(this.pendingDepositSuccess.bind(this)).catch(this.pendingDepositError.bind(this))},pendingDepositSuccess:function(e){var t=e.data,n=this._pendingDeposits!==t;return n&&(o.trigger("pending:deposit:updated"),this._pendingDeposits=Number(t)||0),window.store.dispatch(D(this._pendingDeposits)),{pendingDeposit:this._pendingDeposits,isPendingDepositChanged:n}},pendingDepositError:function(e){return Promise.reject(e)},getUserPendingDeposit:function(){return this._pendingDeposits},hasOpenPositions:function(){return f.length>0},getSessionId:function(){return this.getUserInfoModel().getSessionId()},getUserScore:function(){return this.getUserData().getScoreLevel()},setUserScore:function(e){this.getUserData().setScoreLevel(e)},getCountry:function(){return this.getUserData().getCountry()},getCitizenship:function(){return this.getUserData().getCitizenship()},getEmail:function(){return this.getUserData().getEmail()},getNationalCountryIdentifier:function(){return this.getUserData().getNationalCountryIdentifier()},setCountry:function(e){this.getUserData().setCountry(e)},setCitizenship:function(e){this.getUserData().setCitizenship(e)},setFirstName:function(e){this.getUserData().setFirstName(e)},setLastName:function(e){this.getUserData().setLastName(e)},setPhone:function(e){this.getUserData().setPhone(e)},setDateOfBirth:function(e){this.getUserData().setDateOfBirth(e)},setAddress:function(e){this.getUserData().setAddress(e)},setZipCode:function(e){this.getUserData().setZipCode(e)},setCity:function(e){this.getUserData().setCity(e)},getPersonalData:function(){return this.getUserData().getPersonalData()},getPartnerCompanyNameKey:function(){return this.getUserData().getPartnerCompanyNameKey()},setPartnerCompanyNameKey:function(e){this.getUserData().setPartnerCompanyNameKey(e)},setNationalCountryIdentifier:function(e){this.getUserData().setNationalCountryIdentifier(e)},isElectiveProfessionalEnabled:function(){return this.getUserData().isElectiveProfessionalEnabled()},inBonusRestrictedCountries:function(){return this.getUserData().inBonusRestrictedCountries()},setGuaranteedStopLoss:function(e){return this.set("guaranteedStopLoss",e)},isGuaranteedStopLossEnabled:function(){return this.get("guaranteedStopLoss")},getMetaTraderLink:function(){return h.getMetaTraderLink(p.getCurrentLanguage())},updateHashedPassword:function(e){this.getUserData().setPassword(e)},getPassword:function(){return this.getUserData().getPassword()},setFirstDeposit:function(e){this.getUserData().setFirstDeposit(e)},isFirstDeposit:function(){return this.getUserData().isFirstDeposit()},getFirstDeposit:function(){return this.getUserData().getFirstDeposit()},isForcePasswordChange:function(){return this.getUserData().isForcePasswordChange()},isFullRegistrationCompleted:function(){return this.getUserData().isFullRegistrationCompleted()},getExternalLogin:function(){return this.getUserData().getExternalLogin()},getAlertsStorage:function(){return this._priceAlerts},getAddToHomeScreen:function(){return this._addToHomeScreen},getCustomerId:function(){var e=this.getUserData();return N.isEmpty(e)?null:e.getCustomerId()},getUserLevelsModel:function(){return this._accountLevels},isEligibleForMarketsX:function(){return this.getUserLevelsModel().isEligibleForMarketsX()},isPromotionMarketsX:function(){return this.getUserData().isPromotionMarketsX()||this.getUserLevelsModel().isPromotionMarketsX()},isCustomerLevelGoalAlert:function(){return this.getUserData().isCustomerLevelGoalAlert()},hasCustomerSelectedCompany:function(){return this.getUserData().hasCustomerSelectedCompany()},hasPendingConfirmSelectedCompany:function(){return this.getUserData().hasPendingConfirmSelectedCompany()},confirmRegulationCompanyMismatch:function(){this.getUserData().confirmRegulationCompanyMismatch()},rejectRegulationCompanyMismatch:function(){this.getUserData().rejectRegulationCompanyMismatch()},updateCustomerBrandCompany:function(e){this.getUserData().setBrandCompanyData(e)},isLowScore:function(){return this.getUserScore()===R},isSwitchToLiveEnabled:function(){return L.isLive()||!this.getUserData().isFullRegistrationCompleted()||!this.isLowScore()&&!L.isLive()}});i.exports=new j}.call(t,n,t,e))||(e.exports=o)}).call(this,n(24),n(1))},,function(e,t,n){(function(i){var r;function o(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}void 0===(r=function(e,t,i){var r=n(1),s=n(58),a=n(1238).default,l=n(475),c=n(5),u=n(16),d=n(9),p=n(185),f=n(1256),h=f.getCache,m=f.putCache,g=n(3),v=g.LAST_SEVEN_DAYS,b=g.PLATFORM_TYPE,_=g.ACCOUNT_TRADING_TYPE,y=g.ACCOUNT_TYPE,E=function(){return"https://"+window._app.getPlatformHost()},S=function(){return E()+"/fxclient5/controllers"},C=function(){return S()+"/withdrawal"},w=function(){return S()+"/vamos"},O=function(){return S()+"/notification"},T=function(){return d.getChartTradingViewServiceUrl()||S()+"/trading-view"},P=l.create(),k=!1;a(P);var I=function(e){return e.headers=r.extend({"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:0},e.headers),e},A=void 0,x=function(e,t){return{id:r.uniqueId(),data:t,start:function(){return this.beginTime=new Date,this.timeoutId=setTimeout(function(){this.intervalId=setInterval(this.process.bind(this),1e3)}.bind(this),2e3),this},process:function(){new Date,this.beginTime},stop:function(){clearTimeout(this.timeoutId),clearInterval(this.intervalId)}}.start()};var N=function(e,t){return e.stop(),t},D=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"10m",i=arguments[3];return t&&m(e,i.data,n),i},R=function(e,t){return e.stop(),r=(i=t)&&i.message,o=i&&i.config&&i.config.url,s=i&&i.stack,a=n(6),l.isCancel(i)?l.isCancel(i):(o===S()+"/crmws/user-data"&&!a.isLoggedIn()||c.trigger("log:error",r,s,o),Promise.reject(i));var i,r,o,s,a};function L(e,t,n){if(k)return Promise.reject(new Error("Connection lost"));if(r.isObject(e))return j(e);var i=x(t);return P[e](t,n).then(N.bind(this,i)).catch(R.bind(this,i))}function M(e,t){if(k)return Promise.reject(new Error("Connection lost"));if(t){var n=h(e);if(n)return Promise.resolve({data:n})}return null}function j(e){var t=M(e.url,e.withCache);if(t)return t;var n=x(e.url);return P(e).then((function(e){return Promise.resolve({data:e.data},e)})).then(N.bind(this,n)).then(D.bind(this,e.url,e.withCache,e.duration)).catch(R.bind(this,n))}j.get=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.withCache,i=t.duration,r=o(t,["withCache","duration"]),s=M(e,n);if(s)return s;var a=x(e);return P.get(e,r).then(N.bind(this,a)).then(D.bind(this,e,n,i)).catch(R.bind(this,a))},j.post=function(e,t){return L("post",e,t)},j.postJson=function(e,t){return L({method:"post",url:e,headers:{"Content-Type":"application/json"},data:t},e,t)},j.delete=function(e,t){return L("delete",e,t)},j.put=function(e,t){return L("put",e,t)},j.loadInstruments=function(){return j.post(S()+"/config/instruments").then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},j.loadLanguages=function(){return j.post(S()+"/config/languages").then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},j.loadDictionary=function(e){return j.get(S()+"/config/v2/dictionary/"+e)},j.loadDictionaryOnDemand=function(e,t){return j({method:"post",url:S()+"/config/v2/dictionary/demand/"+e,data:{keys:t}})},j.getMyAccountLink=function(e){return j({method:"get",url:S()+"/queryMT4LoginLink",headers:{"Accept-Language":e}})},j.isMetaTraderEnabled=function(){return j({method:"get",url:S()+"/mt4/enabled"})},j.applyCredentials=function(e,t){return j({method:"post",url:S()+"/mt4/password",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","X-Requested-With":"XMLHttpRequest"},transformRequest:[function(e){var n="password="+e+"&locale="+t;return window.encodeURI(n)}],data:e}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},j.logoutFromWidgets=function(e,t){var n=new p.Url(e).getDomain(e);return j.get("//"+n+"/"+t+"/login/QuietLogout")},j.getAllAccountsInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return j.get(S()+"/accounts",{withCache:e})},j.getAccountsConfig=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return j.get(S()+"/accounts/configs",{withCache:e})},j.getMetaTraderLink=function(e){return S()+"/mt4/links/"+e+"/my-account"},j.getMetaTraderAccountsAll=function(){return j.get(S()+"/metatrader/accounts").then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},j.getMetaTraderAccounts=function(e){return j.get(S()+"/metatrader/accounts/"+e).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},j.getMetaTraderAccountsWithBonuses=function(e){return j.get(S()+"/metatrader/accounts/bonuses/"+e).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},j.metaTraderFundsTransfer=function(e){return j({method:"post",url:S()+"/metatrader/accounts/fundstransfer",data:e})},j.manageAccountsFundsTransfer=function(e){return j({method:"post",url:S()+"/accounts/fundstransfer",data:e})},j.getMetaTraderTradingCentral=function(){return j.get(S()+"/metatrader/tradingcentral")},j.changeMetaTraderLeverage=function(e){return j({method:"post",url:S()+"/metatrader/accounts/leverage",data:e})},j.metaTraderAddAccountMyAccounts=function(e){return j({method:"post",url:S()+"/accounts/metatrader/mt",data:e})},j.metaTraderAddAccount=function(e){return j({method:"post",url:S()+"/metatrader/accounts",data:e})},j.createSpreadBettingAccount=function(e){return j({method:"post",url:S()+"/accounts/cosmos/sb",data:e})},j.createCFDAccount=function(e){return j({method:"post",url:S()+"/accounts/cosmos/cfd",data:e})},j.createTradingAccount=function(e){return j({method:"post",url:S()+"/accounts/create",data:e})},j.createShareDealingAccount=function(e){return j.createTradingAccount({platformType:b.SAXO,tradingAccountInstrumentType:_.SHARE_DEALING,accountType:y.REAL,currency:e})},j.fxStart=function(e){return j({method:"post",url:S()+"/fx/start",responseType:"text",headers:{"X-Atmosphere-tracking-id":e,"X-Requested-With":"XMLHttpRequest"}})},j.subscribeInstrumentSymbols=function(e,t){return j({method:"post",url:S()+"/subscribeInstrumentSymbols",responseType:"text",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":e,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(e){var t="symbols="+JSON.stringify(e.symbols);return window.encodeURI(t)}],data:{symbols:t}})},j.changeTemporaryInstrumentSubscription=function(e,t,n){return j({method:"post",url:S()+"/changeTemporaryInstrumentSubscription",responseType:"text",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":e,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(e){var t="addedSymbols="+e.addedSymbols+"&removedSymbols="+e.removedSymbols;return window.encodeURI(t)}],data:{addedSymbols:JSON.stringify(t),removedSymbols:JSON.stringify(n)}})},j.updateFavorites=function(e,t,n){return j({method:"post",url:S()+"/"+n+"FavouriteInstrument",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":e,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(e){var t="symbol="+e.symbol;return window.encodeURI(t)}],data:{symbol:t}})},j.loadSettings=function(){return j(I({method:"get",url:S()+"/config/settings"})).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},j.checkServiceSubscribed=function(e){return j.get(S()+"/services/"+e+"/subscribed?t="+r.now()).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return Promise.resolve(!1)}))},j.getCurrencies=function(){return j.get(S()+"/registration/currencies")},j.getRegistrationOptions=function(){return j.get(S()+"/registration/options")},j.completeFullRegistration=function(){return j.post(S()+"/v2/registration/complete")},j.actionPost=function(e,t,n){return j({method:"POST",url:S()+"/"+e,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","X-Requested-With":"XMLHttpRequest"},transformRequest:n,data:t}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},j.loadQueryToken=function(e){return j.post(S()+"/queryToken?data="+e).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},j.simpleLogin=function(e){return j({method:"post",url:S()+"/crmws/simplelogin",data:e}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},j.autoLogin=function(e,t){return j({method:"post",url:S()+"/crmws/autologin",data:{rememberMeToken:e,appSource:t}}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},j.externalAuthLogin=function(e,t){return j({method:"post",url:S()+"/crmws/login/"+t,data:e}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},j.orderCancel=function(e,t){return j({method:"post",url:S()+"/fx/cancelOrder",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":e,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(e){var t="orderChainId="+e.orderChainId;return window.encodeURI(t)}],data:{orderChainId:t}})},j.calculateOrderDefaultAmount=function(e,t){return j({method:"post",url:S()+"/fx/calculateOrderDefaultAmount",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":e,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(e){var t="instrumentId="+e.instrumentId;return window.encodeURI(t)}],data:{instrumentId:t}})},j.placeOrder=function(e,t){return j({method:"post",url:S()+"/fx/placeOrder",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":e,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(e){var t="order="+JSON.stringify(e);return window.encodeURI(t)}],data:t})},j.getPendingDeposit=function(){return j({method:"get",url:S()+"/deposit/pending",headers:{"X-Requested-With":"XMLHttpRequest"}})},j.updateChartsSubscription=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return j({method:"post",url:S()+"/updateChartsSubscription",responseType:"text",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":e,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(){return window.encodeURI("chartIds="+JSON.stringify(n)+"&requests="+JSON.stringify(t))}]})},j.unsubscribeCharts=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return j({method:"post",url:S()+"/unsubscribeCharts",responseType:"text",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":e,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(){return window.encodeURI("chartIds="+JSON.stringify(t))}]})},j.subscribeTradingCentral=function(e,t,n){return j({method:"post",url:S()+"/tradingcentral/subscribeAnalysis",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":e,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(){return"&symbol="+t+"&term="+n+"&lang="+__("lang")}]}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},j.unsubscribeTradingCentral=function(e){return j({method:"post",url:S()+"/tradingcentral/unsubscribeAnalysis",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":e,"X-Requested-With":"XMLHttpRequest"}}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},j.loadCommonData=function(){return j.post(S()+"/loadCommonData").then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject()}))},j.getDepositUrl=function(e){return j.post(S()+"/deposit/url",e)},j.subscribePositionsFilters=function(e,t){return j({method:"post",url:S()+"/subscribePositionsFilters",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":e,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(e){e.symbol=r.parseNull(e.symbol);var t="filters="+JSON.stringify(e);return window.encodeURI(t)}],data:t})},j.subscribeOrdersFilters=function(e,t){return j({method:"post",url:S()+"/subscribeOrdersFilters",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":e,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(e){e.symbol=r.parseNull(e.symbol);var t="filters="+JSON.stringify(e);return window.encodeURI(t)}],data:t})},j.changeSubscriptionByPositions=function(e,t,n){return j({method:"post",url:S()+"/changeSubscriptionByPositions",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":e,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(e){var t=void 0;return t=n?'addedCodes=["'+e.positionCode+'"]&removedCodes=[]':'addedCodes=[]&removedCodes=["'+e.positionCode+'"]',window.encodeURI(t)}],data:{positionCode:t}})},j.requiredMarginPositionCandidateUpdate=function(e,t){return j({method:"post",url:S()+"/requiredMarginPositionCandidateUpdate",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":e,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(e){var t="positionCandidateTO="+JSON.stringify(e);return window.encodeURI(t)}],data:t})},j.unsubscribeRequiredMarginPositionCandidateUpdate=function(e,t){return j({method:"post",url:S()+"/unsubscribeRequiredMarginPositionCandidateUpdate",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":e,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(e){var t="symbol="+e.symbol;return window.encodeURI(t)}],data:{symbol:t}})},j.requiredMarginByPositionUpdate=function(e,t){return j({method:"post",url:S()+"/requiredMarginByPositionUpdate",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":e,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(e){var t="positionCode="+e.positionCode;return window.encodeURI(t)}],data:{positionCode:t}})},j.unsubscribeRequiredMarginByPositionUpdate=function(e,t){return j({method:"post",url:S()+"/unsubscribeRequiredMarginByPositionUpdate",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":e,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(e){var t="positionCode="+e.positionCode;return window.encodeURI(t)}],data:{positionCode:t}})},j.getDocuments=function(){return j({method:"get",url:S()+"/v3/documents/status",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"}}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},j.getCreditCards=function(){return j.post(S()+"/cards")},j.approveCreditCard=function(e){return j.post(S()+"/cards/"+e+"/approve")},j.queryCreditCardsDetailed=function(){return j.post(S()+"/cards/details")},j.uploadDocument=function(e,t){return j({method:"post",url:S()+"/v3/documents/"+e.docType,data:t}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},j.uploadSchedule=function(e){return j({method:"post",url:S()+"/documents/schedule",data:e}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},j.editPosition=function(e,t,n){return j({method:"post",url:S()+"/fx/attachToPosition",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":e,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(e){var t="positionCode="+n+"&protectionOrders="+JSON.stringify(e);return window.encodeURI(t)}],data:t})},j.closePosition=function(e,t){return j({method:"post",url:S()+"/fx/closePosition",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":e,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(e){var t="order="+JSON.stringify(e);return window.encodeURI(t)}],data:t})},j.subscribeSwapRates=function(e,t,n){return j({method:"post",url:S()+"/"+(n?"s":"unS")+"ubscribeSwapRates",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":e,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(e){var t="symbol="+e;return window.encodeURI(t)}],data:t})},j.getMarginingSettings=function(e,t){return j({method:"post",url:S()+"/getMarginingSettings",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":e,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(e){var t="instrumentSymbol="+e;return window.encodeURI(t)}],data:t})},j.getTradingCalendarsSettings=function(e,t){return j({method:"post",url:S()+"/getTradingCalendarsSettings",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":e,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(e){var t="instrumentSymbol="+e;return window.encodeURI(t)}],data:t})},j.loadRollovers=function(){return j.post(S()+"/config/rolloverDates")},j.queryDataCompliance=function(){return j.post(S()+"/compliance/data")},j.withdrawRequest=function(e,t,n){return t?j({method:"post",url:S()+t,headers:{"Content-Type":"application/json","X-Atmosphere-tracking-id":e,"X-Requested-With":"XMLHttpRequest"},data:n}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)})):Promise.reject()},j.switchTo=function(e,t){return j({method:"post",url:S()+"/switchTo/"+t,headers:{"Content-Type":"application/json","X-Atmosphere-tracking-id":e,"X-Requested-With":"XMLHttpRequest"}})},j.makeLogout=function(e){return j({method:"post",url:S()+"/logout",headers:{"Content-Type":"application/json","X-Atmosphere-tracking-id":e,"X-Requested-With":"XMLHttpRequest"}})},j.loadCustomerInfo=function(){return j({method:"post",url:S()+"/v3/user-data",headers:{"X-Requested-With":"XMLHttpRequest"},data:{}})},j.conversionFromUsdToCny=function(e,t){return j({method:"post",url:S()+"/crmws/conversion",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":e,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(e){var t="from="+e.from+"&to="+e.to;return window.encodeURI(t)}],data:t})},j.updatePassword=function(e,t){return j({method:"post",url:S()+"/v2/account/password",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":(A||(A=n(66)),A.getAtmosphereId()),"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(e){var t=r.chain(e).keys().map((function(t){return t+"="+e[t]})).value();return window.encodeURI(t.join("&"))}],data:{oldPassword:e,newPassword:t}})},j.loadAccountNotification=function(){return j.get(S()+"/v2/account/notification")},j.updateAccountNotification=function(e,t){return j.post(S()+"/v2/account/notification",{subscribe:e,unsubscribe:t})},j.loadLeverage=function(){return j.get(S()+"/v3/leverage")},j.saveLeverage=function(e){return j.post(S()+"/v2/leverage/"+e)},j.register=function(e){var t=p.getQueryParam("qaoriginip")||"",n=t?"?qaoriginip="+t:"";return j.post(S()+"/v3/customers"+n,e).then((function(e){return Promise.resolve(e)})).catch((function(e){var t=e&&e.response&&e.response.data&&e.response.data.error;return Promise.reject(e,t)}))},j.queryComplianceStage=function(){return j.post(S()+"/compliance/stage")},j.storeSettings=function(e){return j({method:"post",url:S()+"/storeSetting",responseType:"text",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},transformRequest:[function(e){return e=r.mapObject(e,(function(e){return JSON.stringify(e)})),window.encodeURI("&settings="+JSON.stringify(e))}],data:e}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e.response)}))},j.deleteSetting=function(e){return j({method:"post",url:S()+"/deleteSetting",transformRequest:[function(e){return e=r.mapObject(e,(function(e){return JSON.stringify(e)})),window.encodeURI("&settings="+JSON.stringify(e))}],data:e}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e.response)}))},j.updateAccount=function(e){return j({method:"post",url:S()+"/updateAccount",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},data:e,transformRequest:[function(e){var t=r.chain(e).keys().map((function(t){return r.isObject(e[t])?t+"="+JSON.stringify(e[t],(function(e,t){return"boolean"==typeof t?String(t):t})):t+"="+e[t]})).value();return window.encodeURI(t.join("&"))}]}).then((function(e){return e.data.success?Promise.resolve(e):Promise.reject(e)})).catch((function(e){return Promise.reject(e.response)}))},j.updateAccountV2=function(e){return j({method:"post",url:S()+"/v2/updateAccount",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},transformRequest:[function(e){var t="data="+JSON.stringify(e.data);return window.encodeURI(t)}],data:e}).then((function(e){return e.data.success?Promise.resolve(e.data):Promise.reject(e)})).catch((function(e){return Promise.reject(e)}))},j.getAccount=function(e){return j({method:"post",url:S()+"/getAccount",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},data:e,transformRequest:[function(e){var t=r.chain(e).keys().map((function(t){return r.isObject(e[t])?t+"="+JSON.stringify(e[t]):t+"="+e[t]})).value();return window.encodeURI(t.join("&"))}]}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e.response)}))},j.loadDepositAmountsConfig=function(){return j.get(S()+"/deposit/amounts")},j.loadDepositFirstAtm=function(){return j.get(S()+"/deposit/first/atm")},j.loadDepositAmountsConfigForTradingAccount=function(e){return j.get(S()+"/deposit/amounts/account/"+e)},j.loadLoginMessages=function(e,t,n){return j.get(S()+"/v2/campaigns/"+e+"/"+t+"?isFirstLogin="+n)},j.loginMessageInteract=function(e,t){return j.post(S()+"/campaigns/interact/"+e+"/"+t)},j.priceAlertsGetTypes=function(){return j(I({method:"get",url:S()+"/vamos/pricealerts/alert_types"}))},j.priceAlertsList=function(e){return j(I({method:"get",url:S()+"/vamos/pricealerts/customers/"+e+"/alerts"}))},j.priceAlertsAdd=function(e,t){return j.post(S()+"/vamos/pricealerts/customers/"+e+"/alerts",t)},j.priceAlertsGet=function(e){return j(I({method:"get",url:S()+"/vamos/pricealerts/alert/"+e}))},j.priceAlertsDelete=function(e){return j({method:"delete",url:S()+"/vamos/pricealerts/alert/"+e,timeout:5e3}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},j.priceAlertsUpdate=function(e,t){return j({method:"put",url:S()+"/vamos/pricealerts/alert/"+e,data:t,timeout:5e3}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},j.requestConversionSubscription=function(e,t,n){return j({method:"post",url:S()+"/subscribeConversion",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":n,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(e){return window.encodeURI("from="+e.from+"&to="+e.to)}],data:{from:e,to:t}})},j.requestConversionUnsubscription=function(e,t,n){return j({method:"post",url:S()+"/unsubscribeConversion",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":n,"X-Requested-With":"XMLHttpRequest"},transformRequest:[function(e){return window.encodeURI("from="+e.from+"&to="+e.to)}],data:{from:e,to:t}})},j.getInstrumentsSearchOrder=function(e){return j.get(S()+"/v2/instrument_ranking").then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},j.loadSignals=function(){return j.get(S()+"/vamos/signals/all")},j.getInsiders=function(){return j.get(S()+"/vamos/insiders/all",{withCache:!0}).then((function(e){return e})).catch((function(e){return e}))},j.getInsider=function(e){return j.get(S()+"/vamos/insiders/all?instrument_list="+e,{withCache:!0}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},j.loadNewsSentiment=function(){return j.get(S()+"/vamos/news_sentiment/all",{withCache:!0})},j.loadNewsSentimentByTicker=function(e){return j.get(S()+"/vamos/news_sentiment/details?stockTicker="+e,{withCache:!0})},j.loadTipRanks=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=j.getTipRanksRequestUrl()+"?dateRange="+e;return j.get(t,{withCache:!0})},j.loadEventsAndTrade=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"e45892caa4262b6a36ccb412458e0f79",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:517,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"liveUser",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"en",r=d.getEventsAndTradeApiUrl()+"/v2/results?token="+e+"&broker_id="+t+"&user="+n+"&locale="+i;return j.get(r,{withCache:!0}).then((function(e){return m(r,e.data,"10m"),e}))},j.loadBloggers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"last 7 days";return j.get(S()+"/vamos/bloggers/all?dateRange="+e,{withCache:!0})},j.loadHedgefunds=function(){return j.get(S()+"/vamos/hedgefunds/all",{withCache:!0})},j.loadHedgefund=function(e){return j.get(S()+"/vamos/hedgefunds/details?stockTicker="+e,{withCache:!0})},j.loadTutorials=function(){return j({method:"get",url:S()+"/vamos/tutorial_videos",withCache:!0}).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},j.getTipRanksRequestUrl=function(){return S()+"/vamos/analyst_recommendations/all"},j.getWebinars=function(e){return j.get(S()+"/vamos/webinars/"+e)},j.registerWebinar=function(e,t,n){var i=n?"register":"unregister";return j({method:"put",url:S()+"/vamos/webinars/"+i+"/"+t+"/"+e+"/"})},j.joinWebinar=function(e,t){return j({method:"put",url:S()+"/vamos/webinars/join/"+t+"/"+e+"/"})},j.watchWebinar=function(e,t){return j({method:"put",url:S()+"/vamos/webinars/view/"+t+"/"+e+"/"})},j.webinarChatMessage=function(e,t,n){return j({method:"post",url:S()+"/vamos/webinars/chat/"+t+"/"+e+"/",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},transformRequest:[function(e){return JSON.stringify({message:e})}],data:n})},j.webinarFeedback=function(e,t,n,i){return j({method:"post",url:S()+"/vamos/webinars/feedback/"+t+"/"+e+"/",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},transformRequest:[function(e){return JSON.stringify({feedbackContent:e.text,feedbackRate:e.rate})}],data:{text:n,rate:i}})},j.forgotPassword=function(e){return j({method:"post",url:S()+"/crmws/forgot_password",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},transformRequest:[function(e){return JSON.stringify(e)}],data:e})},j.forgotPasswordById=function(e){return j({method:"post",url:S()+"/crmws/forgot_password_by_id",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},transformRequest:[function(e){return JSON.stringify(e)}],data:e})},j.resetPassword=function(e,t){return j({method:"post",url:E()+"/password-changer/change-password",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},transformRequest:[function(e){return JSON.stringify(e)}],data:{token:e,password:t}})},j.loadRegulationGslStatus=function(){return j({method:"get",url:S()+"/regulation/gsl/enabled"})},j.getLocation=function(){return j(S()+"/vamos/location")};var F=function(e,t){return j({method:"POST",url:S()+"/"+e,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","X-Requested-With":"XMLHttpRequest"},transformRequest:[function(e){return JSON.stringify(e)}],data:{data:t||{}}}).then((function(e){return e.data.error?Promise.reject(e.data.error):e.data.body?e.data.body:e.data})).catch((function(e){return Promise.reject(e)}))};j.registrationGetAccount=r.partial(F,"registration/account"),j.registrationGetCountries=function(e,t){var n=t.accountInstrumentType,i=p.createQueryString({accountInstrumentType:n});return F("registration/countries"+i,e)},j.log=function(e){return e=r.chain(e).map((function(e){return{timestamp:u().unix(),level:e.level,platform:"INDIGO",userAgent:navigator.userAgent,message:e.message,stack:e.stack,data:e.data}})).map((function(e){return JSON.stringify(e)})).value(),j({method:"POST",url:S()+"/log",responseType:"text",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},data:e})},j.loadAwards=function(){return j.get(S()+"/bonuses/config")},j.loadActiveBonusesAmount=function(){return j.get(S()+"/bonuses/progress/active/amount")},j.loadActiveBonusesAmountForTradingAccount=function(e){return j.get(S()+"/bonuses/progress/account/"+e+"/active/amount")},j.queryBonusProgress=function(){return j.get(S()+"/bonuses/progress")},j.queryBonusProgressForMtAccount=function(e){return j.get(S()+"/bonuses/progress/account/"+e)},j.queryActiveBonus=function(){return j.get(S()+"/bonuses/progress/active")},j.queryBonusRequests=function(){return j.get(S()+"/bonuses/requests")},j.approveBonusRequest=function(e){return j.post(S()+"/bonuses/requests/"+e+"/approve")},j.rejectBonusRequest=function(e){return j.post(S()+"/bonuses/requests/"+e+"/reject")},j.loadInstrumentBasketsData=function(){return j({method:"get",url:S()+"/vamos/instrument_baskets",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}})},j.loadDepositAmounts=function(e,t,n,i){return j({method:"get",url:S()+"/vamos/deposit_amounts/?userId="+e+"&hashPassword="+t+"&country="+i+"&currency="+n})},j.changeLanguage=function(e){return j({method:"post",url:S()+"/changeLanguage?locale="+e})},j.loadCountries=function(){return j.post(S()+"/crmws/countries")},j.loadWithdrawalInfo=function(){return j.post(C()+"/info")},j.loadAllWithdrawalMethods=function(){return j.post(C()+"/methods/all")},j.addWithdrawalMethod=function(e,t){return j.postJson(C()+"/methods/add?methodTypeId="+e,t)},j.revokeWithdrawalMethod=function(e,t){return j.postJson(C()+"/methods/revoke?id="+e,{documentId:t})},j.requestEpaQuestionnaireAnswers=function(e){return j.postJson(S()+"/epa/questionnaire/answers",e)},j.submitWithdrawal=function(e,t,n,i){return j({method:"post",url:C()+"/submit",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},transformRequest:[function(){return"tpId="+e+(t?"&pmId="+t:"")+"&currency="+String(n).toUpperCase()+"&amount="+i}]})},j.checkSession=function(){return j.post(S()+"/checkSession")},j.loadWithdrawalHistory=function(){return j.post(C()+"/history")},j.cancelWithdrawalRequest=function(e){return j.post(C()+"/cancel?id="+e)},j.loadWithdrawalCandidates=function(){return j.post(C()+"/methods/candidates")},j.uploadWithdrawalMethodFile=function(e,t,n,i,r){return P.post(C()+"/methods/upload?paymentAccountId="+e+"&methodTypeId="+t+"&fileTypeId="+n,i,r)},j.conversion=function(e,t,n){return j.conversionFromUsdToCny(e,{from:String(t).toUpperCase(),to:String(n).toUpperCase()})},j.submitSignature=function(e){return j.post(S()+"/registration/signature",e)},j.getSpreadRebate=function(e){return j.post(S()+"/querySpreadRebate?accountCode="+e)},j.unsubscribeSpreadRebate=function(e){return j.post(S()+"/unsubscribeSpreadRebate?accountCode="+e)},j.subscribeToWebPush=function(e,t){return j.post(S()+"/vamos/push_notification",{cId:e,subscription:JSON.stringify(t)})},j.getProfessionalAccountFlow=function(){return j.get(S()+"/epa/questionnaire/?tm="+ +new Date).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},j.getProfessionalAccAnswers=function(){return j.get(S()+"/epa/questionnaire/answers/?tm="+ +new Date).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},j.getProfessionalAccountStatuses=function(){return j.get(S()+"/epa/questionnaire/status/?tm="+ +new Date).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},j.getTinValidations=function(){return j.get(S()+"/registration/tin/validations")},j.loadRelatedInstruments=function(e){return j.get(S()+"/vamos/related_instruments/"+e.replace("/","~").toLowerCase()).then((function(e){return e.data.success?Promise.resolve(e.data.recommended_symbols):Promise.resolve()})).catch((function(e){return Promise.resolve()}))},j.getAnalystResearchReport=function(e){return j.get(S()+"/vamos/analyst_research/"+e,{withCache:!0})},j.getStockFundamental=function(e){return j.get(S()+"/vamos/analyst_research/fundamental/"+e,{withCache:!0})},j.getStockFundamentals=function(){return j.get(S()+"/vamos/analyst_research/fundamentals",{withCache:!0})},j.downloadICSReminder=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"e45892caa4262b6a36ccb412458e0f79",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:517,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"liveUser";return j.get(d.getEventsAndTradeApiUrl()+"/reminder/ics?token="+n+"&broker_id="+i+"&user="+r+"&country="+String(e).toUpperCase()+"&name="+t)},j.getCustomerLevels=function(){return j.get(S()+"/customerlevel")},j.isShowLevelPromotion=function(){return j.get(S()+"/customerlevel/promotion/show")},j.isTcAccepted=function(){return j.get(S()+"/customerlevel/tc/accept")},j.acceptTcForMarketsX=function(){return j.post(S()+"/customerlevel/tc/accept")},j.declineTcForMarketsX=function(){return j.post(S()+"/customerlevel/tc/decline")},j.acceptForMarketsX=function(e){return j({method:"post",url:S()+"/customerlevel/accept",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:"levelId="+e})},j.declineForMarketsX=function(){return j.post(S()+"/customerlevel/decline")},j.loadCommentaries=function(){return j.get(S()+"/vamos/forexlive/all",{withCache:!0,duration:s.commentaries.updateInterval})},j.loadCommentary=function(e){return j.get(S()+"/vamos/forexlive/"+e,{withCache:!0})},j.loadNews=function(){return j.get(S()+"/vamos/news_feed/latest",{withCache:!0,duration:d.getNewsFeedIntervalUpdateTime()})},j.loadNewsForInstrument=function(e){return j.get(S()+"/vamos/news_feed/news/"+e,{withCache:!0,duration:d.getNewsFeedIntervalUpdateTime()})},j.queryCustomerMultipleQuizStatus=function(){return j.get(S()+"/quizzes/eligible/status")},j.queryCustomerEligibleQuiz=function(){return j.get(S()+"/quizzes/eligible")},j.updateCustomerEligibleQuizAnswers=function(e){return j.post(S()+"/quizzes/eligible",e)},j.hasLiveChatAgents=function(e){return j.get(S()+"/livechat/hasAgents?groupId="+e)},j.getTimezoneAll=function(){return j.get(S()+"/timezone/all")},j.getTimezoneCurrent=function(){return j.get(S()+"/timezone/current")},j.loadPremiumSupportPhone=function(){return j.get(S()+"/support/premium/phone?t="+r.now()).then((function(e){var t=e.data;return Promise.resolve(String(t).replace(/"/g,""))})).catch((function(){return Promise.resolve(!1)}))},j.loadAcuityClasses=function(){return j.get(S()+"/vamos/acuity/asset_classes")},j.loadAcuityAlerts=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return j.get(S()+"/vamos/acuity/alerts/"+e+"/"+t)},j.loadAcuityAlertsBySymbol=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return j.get(S()+"/vamos/acuity/alerts_by_symbol/"+e+"/"+t)},j.loadAcuitySentiment=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return j.get(S()+"/vamos/acuity/sentiment/"+e+"/"+t)},j.loadNotificationCenterMessages=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return j.get(O()+"/notification_center?offset="+e+"&limit="+t)},j.loadDealingMessages=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return j.get(O()+"/dealing?offset="+e+"&limit="+t)},j.loadNotificationCenterMessagesCount=function(){return j.get(O()+"/count")},j.subscribeNotificationCenter=function(e){return j({method:"get",url:O()+"/subscribe",responseType:"text",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Atmosphere-tracking-id":e,"X-Requested-With":"XMLHttpRequest"}})},j.setNotificationCenterAction=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{messageIds:[]};return j.put(O()+"/update/"+e+"/"+t,n)},j.registrationRegulationCompanyProbeQuery=function(e){return j.get(S()+"/registration/company/probe/"+e)},j.registrationConfirmRegulationCompanyMismatch=function(){return j.post(S()+"/registration/company/mismatch/confirm")},j.registrationRejectRegulationCompanyMismatch=function(){return j.post(S()+"/registration/company/mismatch/reject")},j.loadCryptoInfo=function(){return Promise.resolve({BTCFutures:{startDate:"03/01/2009",maxSupply:"21.00M",algorithm:"SHA256",networkHS:"42119872499.90646",twitter:"",coinType:"PoW",blockPr:"50%",blockNo:"560184"},Bitcoin:{startDate:"03/01/2009",maxSupply:"21.00M",algorithm:"SHA256",networkHS:"42119872499.90646",twitter:"",coinType:"PoW",blockPr:"50%",blockNo:"560184"},BCHUSD:{startDate:"01/08/2017",maxSupply:"21.00M",algorithm:"SHA256",networkHS:"38059545001497110000",twitter:"BITCOlNCASH",coinType:"PoW",blockPr:"50%",blockNo:"560185"},Dash:{startDate:"18/01/2014",maxSupply:"22.00M",algorithm:"X11",networkHS:"1909932056519780",twitter:"Dashpay",coinType:"PoW/PoS,",blockPr:"50%",blockNo:"1010771"},Ethereum:{startDate:"30/07/2015",maxSupply:"",algorithm:"Ethash",networkHS:"166615058900042.8",twitter:"ethereum",coinType:"PoW",blockPr:"",blockNo:"7129159"},Litecoin:{startDate:"13/10/2011",maxSupply:"84.00M",algorithm:"Scrypt",networkHS:"192844584372254.3",twitter:"litecoin",coinType:"PoW",blockPr:"50%",blockNo:"1568328"},RIPPLE:{startDate:"02/02/2013",maxSupply:"100.00B",algorithm:"",networkHS:"",twitter:"Ripple",coinType:"",blockPr:"",blockNo:""}})},j.tradingViewService=T,j.getTradingViewSavedCharts=function(e,t){return j.get(T()+"/1.1/charts?client="+window.encodeURI(e)+"&user="+window.encodeURI(t))},j.deleteTradingViewSavedChart=function(e,t,n){return j.delete(T()+"/1.1/charts?client="+window.encodeURI(e)+"&user="+window.encodeURI(t)+"&chart="+window.encodeURI(n))},j.getTradingViewSavedChart=function(e,t,n){return j.get(T()+"/1.1/charts?client="+window.encodeURI(e)+"&user="+window.encodeURI(t)+"&chart="+window.encodeURI(n))},j.storeMobilePushId=function(e,t){return j.post(S()+"/crmws/push?pushAppId="+e+"&deviceId="+t).then((function(){return Promise.resolve()})).catch((function(e){return Promise.reject()}))},j.loadAccountStatementUrl=function(e){var t=e.beginPeriod,n=e.endPeriod,i=e.isToday;return j.get(S()+"/reports/account/?from="+t+"&to="+n+"&isToday="+i)},j.loadAppStoreLink=function(){return j.get(d.getAppStoreLinkProvider())},j.rejectUser=function(){return j.post(S()+"/v2/registration/reject")},j.cancelAll=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];P.cancelAll(),k=e},j.loadLatestUniverse=function(){return j({method:"get",url:w()+"/portfolio/data/latestUniverse"})},j.loadScoreTypes=function(){return j({method:"get",url:w()+"/portfolio/data/scoreTypes"})},j.loadLatestScores=function(e){return j({method:"post",url:w()+"/portfolio/data/latestScores",data:e})},j.portfolioSubmitBacktest=function(e){return j({method:"post",url:w()+"/portfolio/backtest/submit",data:e})},j.portfolioLoadBacktestState=function(e){return j({method:"get",url:w()+"/portfolio/backtest/state?backtestid="+e.backtestID+"&currentProgressPercent="+e.currentProgressPercent})},j.quantGetBacktestOverview=function(e){return j({method:"get",url:w()+"/portfolio/backtest/overview?backtestid="+e})},j.quantBacktestRequest=function(e){return j.get(w()+"/portfolio/backtest/backtestRequest?backTestId="+e)},j.quantSaveStrategy=function(e,t,i,r,o){var s=n(6);return j({method:"post",url:w()+"/portfolio/strategies/save",data:{backTestId:t,strategyName:e,strategyDescription:e,requestedAmount:i,stopLoss:o,takeProfit:r,accountCode:s.getPlatformAccountId()}})},j.quantDeleteStrategy=function(e){return j.post(w()+"/portfolio/strategies/delete?strategyID="+e)},j.quantBacktestState=function(e){return j.get(w()+"/portfolio/backtest/state?backtestid="+e)},j.quantLoadUserStrategies=function(){return j.get(w()+"/portfolio/strategies/userStrategies")},j.quantLoadPortfolioPerformance=function(e){return j.get(w()+"/portfolio/strategies/performance?strategyID="+e)},j.quantCreatePortfolio=function(e){return j.post(S()+"/portfolio/create",e)},j.closePortfolio=function(e){return j.post(S()+"/portfolio/close",{quantranksId:e})},j.loadMinInvestmentPortfolioAmount=function(e){return j.postJson(S()+"/portfolio/amount",e)},j.quantUpdatePortfolio=function(e){return j.post(S()+"/portfolio/update",e)},j.loadPortfolioStatementUrl=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return j.get(S()+"/portfolio/statement?from="+e+"&to="+t+"&isToday="+String(n))},j.getDirectUrl=function(e){return j.get(""+E()+e,{params:{dscPrepareToken:!0}}).then((function(e){var t=e.data;return S()+"/direct?dscAccessToken="+t}))},j.updateQuanranksConsent=function(){return j.post(S()+"/customerData/quantranksConsent/accept")},i.exports=j}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(5),o=n(43),s=n(1),a=n(71).default,l=n(322).SECTION,c=n(3),u=c.LIVE_ACCOUNT_ID,d=c.DEMO_ACCOUNT_ID,p=c.ACCOUNT_TYPE,f=c.ACCOUNT_TRADING_TYPE,h=o.extend({initialize:function(){r.on("settings:reload",this.loadSettings,this)},getOrDefault:function(e,t){var n=this.get(e);return void 0===n&&(n=t),String(n)},getInteger:function(e,t){return parseInt(this.getOrDefault(e,t))},getFloat:function(e,t){return parseFloat(this.getOrDefault(e,t))},getBoolean:function(e,t){return"true"===this.getOrDefault(e,t)},getArray:function(e,t,n){var i=this.getOrDefault(e,"");return n=n||[],s.isEmpty(i)?n:i.split(t)},getIntArray:function(e,t){return this.getArray(e,t).map((function(e){return parseInt(e)}))},checkSubscribedService:function(e,t,i){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];i=s.isUndefined(i)?"false":String(i);var o=this.getOrDefault(e,i);if("crm"!==o){if("true"===o)return Promise.resolve(!0);var a=s.contains(this.getPremiumToolsBadge(),t);return Promise.resolve(a)}var l=n(8),c=this;return l.checkServiceSubscribed(t).then((function(t){return r&&c.set(e,String(t)),t}))},loadSettings:function(){return n(8).loadSettings().then(this.loadSettingsSuccess.bind(this)).catch(this.loadSettingsError.bind(this))},load:function(){return this.loadSettings()},loadSettingsSuccess:function(e){return this.set(e.data),r.trigger("settings:load:success"),Promise.resolve(e)},loadSettingsError:function(e){return Promise.reject(e)},getDefaultDistancePipsMultiplier:function(){return this.getFloat("default.distance.pips.multiplier",2.5)},getPlatformTypeId:function(){return this.isLive()?u:d},getPlatformType:function(){return this.getOrDefault("platformType","Live")},isLive:function(){return"live"===this.getPlatformType().toLowerCase()},isDemo:function(){return!this.isLive()},isAdvancedShortRegistration:function(){return this.getBoolean("short.registration.phone.validation.enabled",!1)},isMarketingProgramCheckboxMandatory:function(){return this.getBoolean("short.registration.marketing.program.mandatory",!1)},isOldRegistration:function(){return this.getBoolean("temp.new_registration.switcher",!1)},isNewCfdGlobalReg:function(){return this.getBoolean("temp.new_registration.cfdglobal.switcher",!1)},getLeverageMostPopular:function(){return this.get("leverage.most.popular")},isRegistrationLeverageSelectionEnabled:function(){return this.getBoolean("registration.step.leverage.enabled",!1)},isGuaranteedStopLossEnabled:function(){return this.getBoolean("order.guaranteed_stop_loss.enabled",!1)},isRegistrationLowScoreDisclaimerEnabled:function(){return this.getBoolean("full_registration.low_score_disclaimer.enabled",!1)},isSpreadRebateEnabled:function(){return this.isAccountSettingsSectionEnabled(l.SPREAD_REBATE)},isLeverageChangeEnabled:function(){return this.isAccountSettingsSectionEnabled(l.LEVERAGE)},isAccountSettingsSectionEnabled:function(e){return this.getBoolean("account.settings."+e+".enabled",!1)},isTradingSettingsSectionEnabled:function(){return this.isAccountSettingsSectionEnabled(l.TRADING_SETTINGS)},isViewSettingsSectionEnabled:function(){return this.isAccountSettingsSectionEnabled(l.VIEW_SETTINGS)},isLocalizationSettingsSectionEnabled:function(){return this.isAccountSettingsSectionEnabled(l.LOCALIZATION)},isAccountClassificationEnabled:function(){return this.isAccountSettingsSectionEnabled(l.ACCOUNT_CLASSIFICATION)},isAccountClassificationBenefitsSectionHidden:function(){return this.getBoolean("account.settings.account-classification.benefits-section.hidden",!1)},isAccountClassificationConfidentialSectionHidden:function(){return this.getBoolean("account.settings.account-classification.confidential-section.hidden",!1)},isRegistrationFinalStepAllowBack:function(e){return e=String(e).toLowerCase(),!this.getBoolean("full_registration."+e+"_score.hide_final_back.enabled",!1)},isRegistrationRiskWarningEnabled:function(){return this.getBoolean("full_registration.risk_warning.enabled",!1)},isRegistrationRiskWarningMetaTraderHidden:function(){return this.getBoolean("full_registration.risk_warning.meta_trader.hidden",!1)},getRegistrationRiskWarningMinCustomerId:function(){return this.getInteger("full_registration.risk_warning.min.customer.id",0)},isTradingPositionRiskWarningEnabled:function(){return this.getBoolean("trading.position_risk_warning.enabled",!1)},isMetaTraderOpenRiskWarningEnabled:function(){return this.getBoolean("metatrader.open.risk_warning.enabled",!1)},getInactivityConfirmationTimeout:function(){return this.getInteger("inactivity.user.actions.timeout",72e5)},getLogoutTimeout:function(){var e=this.getInteger("inactivity.confirmation.timeout",18e5);return this.getInactivityConfirmationTimeout()+e},isManualDepositAmountNeeded:function(){return this.getBoolean("manual.deposit.amount.needed",!1)},emphasizeBiggestBonusAmount:function(){return this.getBoolean("emphasize.biggest.bonus.amount",!1)},isDepositAmountsEnabled:function(){return this.getBoolean("vamos.proxy.deposit_amounts.enabled",!1)},getDepositAmountSizes:function(){return this.getIntArray("vamos.proxy.deposit_amounts.sizes",";")},isRegistrationAutocompleteEnabled:function(){return this.getBoolean("registration.dummy.autocomplete.enabled",!1)},isAutomaticWithdrawalEnabled:function(){return this.getBoolean("automatic.withdrawal.enabled",!1)},isCreditCardFastVerificationEnabled:function(){return this.getBoolean("credit_card_verification.fast_mode.enabled",!1)},isMetaTraderEnabled:function(){return this.getBoolean("userinfo.menuitem.mt4-accounts.enabled",!0)},isMetaTraderMobileViewEnabled:function(){return this.getBoolean("metatrader.mobile-view.enabled",!0)},isMetaTraderInternalEnabled:function(){return this.getBoolean("metatrader.internal.enabled",!1)},isDocumentsExpirationEnabled:function(){return this.getBoolean("documents.expiration.enabled",!1)},isDocumentsExpirationPreventTradingEnabled:function(){return this.isDocumentsExpirationEnabled()&&this.getBoolean("documents.expiration.prevent_trading.enabled",!1)},getBrandName:function(){return this.get("platform.brand.name")},getEventsAndTradeScriptLocation:function(){return this.get("events_and_trade.url")},getTradableInstruments_24_7:function(){return this.getArray("everyday.trading.instrument.symbols",",")},isTradingToolEnabled:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getBoolean("tool."+e+".enabled",t)},checkTradingToolEnabled:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.checkSubscribedService("tool."+e+".enabled",e,t)},checkEducationEnabled:function(){return this.checkSubscribedService("education_on_demand.enabled","education_on_demand")},isEducationEnabled:function(){return this.getBoolean("education_on_demand.enabled",!1)},getTipranksScriptLocation:function(){return this.get("tipranks.url")},isPlatformMessagingEnabled:function(){return this.getBoolean("in_platform_messaging.enabled",!1)},isReferralCodeEnabled:function(){return this.getBoolean("registration.show.referral.code",!1)},getPlatformMessagingScriptLocation:function(){return this.get("in_platform_messaging.url")},getInstalledRelatedAppsKey:function(){return this.get("home.screen.installed.related.apps.key")},isSocialLoginGoogleEnabled:function(){return this.getBoolean("social.login.google.enabled",!1)},getSocialLoginGoogleClientId:function(){return a.ios()?this.get("social.login.google.ios.client_id"):this.get("social.login.google.client.id")},isSocialLoginFacebookEnabled:function(){return this.getBoolean("social.login.facebook.enabled",!1)},getSocialLoginFacebookAppId:function(){return a.ios()?this.get("social.login.phonegap.ios.facebook.app.id"):this.get("social.login.facebook.app.id")},isSocialLoginEnabled:function(){return this.isSocialLoginGoogleEnabled()||this.isSocialLoginFacebookEnabled()},isGtmTrackingEnabled:function(){return this.getBoolean("gtm.enabled",!1)},getGtmTrackingId:function(){return this.get("gtm.tracking.id")},getGtmGroupTrackingId:function(){return this.get("gtm.group.tracking.id")},getDcmGroupTrackingId:function(){return this.get("dcm.group.tracking.id")},isDcmTrackingEnabled:function(){return this.getBoolean("tracking.google.dcm.enabled",!1)},getDcmTrackingId:function(){return this.get("tracking.google.dcm.id")},getIosAppStoreURL:function(){return this.get("mobile.iphone.app-market.link")},getAppStoreLinkProvider:function(){return this.get("mobile.ios.app-market.link.provider")},getAndroidStoreURL:function(){return this.get("mobile.android.app-market.link")},getMiniChartsServiceUrl:function(){return this.get("mini.charts.service.url")},getMiniChartsUpdateInterval:function(){return this.getInteger("mini.charts.update.interval",3e5)},getPriceAlertsTypes:function(){return this.getIntArray("price.alerts.types",",")},isLiveChatEnabled:function(){return this.getBoolean("live.chat.enabled",!1)&&this.getLiveChatLicenseId()>0},needShowTinInAccountSettings:function(){return this.getBoolean("account.settings.show.tin",!1)},needShowPersonalDataUsage:function(){return this.getBoolean("registration.show.personal_data_usage",!1)},isManageAccountsEnabled:function(){return this.getBoolean("manage_accounts.enabled",!1)},isCompliantMenuEnabled:function(){return this.getBoolean("menu.compliant.enabled",!0)},getLiveChatLicenseId:function(){return this.getInteger("live.chat.license",0)},getTabsWithBadge:function(){return this.getArray("tabs.with.badge",",")},getPracticeAmount:function(e){return this.getOrDefault("practice.grant.amount."+String(e).toUpperCase(),"10,000")},getEventosTrackingUrl:function(){return this.get("event-tracking.external.url")},getCrmTrackingServiceUrl:function(){return this.getOrDefault("crm.tracking.service.url","")},getPasswordMinLength:function(){return this.getInteger("account.settings.validation.password.min.length",6)},isPasswordClientValidationEnabled:function(){return this.getBoolean("password.validation.client.enabled",!1)},isForcePasswordChangeEnabled:function(){return this.getBoolean("force_password_change.enabled",!1)},getPasswordMaxLength:function(){return this.getInteger("account.settings.validation.password.max.length",15)},getTestInstrumentNames:function(){return this.getArray("test.instrument.names",",")},isAddToHomeScreenEnabled:function(){return this.getBoolean("android.add.to.home.screen.enabled",!1)},isSpanishRegulationForOpenPositionEnabled:function(){return this.getBoolean("spanish.regulation.open_position.enabled",!0)},isSpanishRegulationRejectUserEnabled:function(e){return e=String(e).toLowerCase(),this.getBoolean("spanish.regulation.reject."+e+"_score.enabled",!1)},isMiddleScoreRiskWarningConfirmationEditEnabled:function(){return this.getBoolean("full_registration.risk_warning.middle_score.confirmation_edit.enabled",!0)},isRiskWarningConfirmationEditEnabled:function(){return this.getBoolean("full_registration.risk_warning.confirmation_edit.enabled",!0)},isBonusesAwardsEnabled:function(){return this.getBoolean("bonuses.awards.enabled",!1)},isFaqOpenNewTabEnabled:function(){return this.getBoolean("external.faq.open_new_tab.enabled",!1)},isTradingAnnouncementEnabled:function(){return this.getBoolean("trading.announcement.enabled",!1)},isTradingToolsEnabled:function(){return this.getBoolean("trading.tools.enabled",!1)},getLegalDocumentsPopupLinks:function(){return this.getArray("legal_documents.popup.links",",",["terms_and_conditions","risk_disclosure","conflict_of_interest","privacy_policy","terms_and_conditions_bonus"])},isLegalDocumentsOpenNewTab:function(){return this.getBoolean("external.legal_documents.enabled",!1)},isPendingCreditCardWithdrawEnabled:function(){return this.getBoolean("external.pending.credit.card.withdraw.enabled",!1)},isInternalCampaignMessageEnabled:function(){return this.getBoolean("internal_campaign.message.enabled",!1)},isPriceAlertWebPushEnabled:function(){return this.getBoolean("price.alerts.webpush.enabled",!1)},isOpenPositionChangePriceEnabled:function(){return this.getBoolean("open.position.change.price.enabled",!1)},isComplianceECDDCheckEnabled:function(){return this.getBoolean("compliance.enhanced_cysec_due_diligence.check.enabled",!1)},isComplianceNationalCountryIdentifierEnabled:function(){return this.getBoolean("compliance.national_country_identifier.enabled",!1)},isPorScheduleCallEnabled:function(){return this.getBoolean("por.schedule_call.enabled",!1)},isWebinarsFilterEnabled:function(){return this.getBoolean("webinars.filter.enabled",!1)},isFBTrackingEnabled:function(){return this.getBoolean("tracking.facebook.fbq.enabled",!1)},getFBTrackingID:function(){return this.get("tracking.facebook.fbq.id")},getWebinarsFeedbackMinViewTime:function(){return this.getInteger("webinars.feedback.min.view.time",3e4)},getWebinarsActiveAdditionTime:function(){return this.getInteger("webinars.active.addition.time",3e5)},getWebinarsPreActiveAdditionTime:function(){return this.getInteger("webinars.pre.active.addition.time",12e4)},getWebinarsFeedbackMaxLength:function(){return this.getInteger("webinars.feedback.max.length",4e3)},getMobileAndroidLaunchLink:function(){return this.getOrDefault("mobile.android.launch.link","cosmos://")},getMobileIOSLaunchLink:function(){return this.getOrDefault("mobile.iphone.launch.link","cosmos://")},getVerifyPoiDocuments:function(){return this.getArray("verify.document.poi.model",",")},getEventsAndTradeApiUrl:function(){return this.getOrDefault("events.and.trade.api.url","https://eia.delkos.com/eia/resources")},getThemesList:function(){return this.getArray("themes.list",",",["light"])},isWithdrawMethodEnabled:function(e){return this.getBoolean("withdrawal."+e+".enabled",!0)},isWithdrawalAccountChooseEnabled:function(){return this.getBoolean("withdrawal.account.choose.enabled",!1)},isTradingViewModeSwitcherEnabled:function(){return this.getBoolean("trading_view.mode.switcher.enabled",!1)},isChartModeSwitcherEnabled:function(){return a.desktop()&&this.getBoolean("chart.mode.switcher.enabled",!1)},isBonusesEnabled:function(){return this.getBoolean("bonuses.enabled",!1)},isMtFirstDepositBonusEnabled:function(){return this.getBoolean("mt.first.deposit.bonus.enabled",!0)},getPaymentsServiceVendor:function(){return this.getOrDefault("payments.service.vendor","SAFE_CHARGE")},getBonusRequestsRefreshPeriodSec:function(){return this.getInteger("bonus.requests.refresh.period",900)},canMergeMultipleBonusRequests:function(){return this.getBoolean("merge_multiple_bonus_requests.enabled",!1)},checkTradingCentralEnabled:function(){var e=this,t="trading_central.enabled";return this.checkSubscribedService(t,"trading_central","crm",!1).then((function(n){return n?Promise.resolve(!0):e.checkSubscribedService(t,"trading_central_limited")}))},checkMultiChartsEnabled:function(){return this.checkSubscribedService("multi.charts.enabled","multi_charts",!0)},isMultiChartsEnabled:function(){return this.getBoolean("multi.charts.enabled",!0)},isMediumRegistrationPopupEnabled:function(){return this.getBoolean("full_registration.medium_score.risk_warning.enabled",!1)},isChartInstrumentsComparisonEnabled:function(){return this.getBoolean("chart.instruments_comparison.enabled",!1)},getChartRateLineTypes:function(){return this.getArray("chart.rate_line.types",",",["sell","buy","middle"])},isMetaTraderInternalFundsTransferEnabled:function(){return this.getBoolean("metatrader.internal.funds-transfer.enabled",!0)},isMT5PlatformEnabled:function(){return this.getBoolean("metatrader.mt5-platform.enabled",!0)},isMetaTraderConditionsTabEnabled:function(){return this.getBoolean("metatrader.conditions-tab.enabled",!0)},isMetaTraderInternalLeverageEnabled:function(){return this.getBoolean("metatrader.internal.leverage.enabled",!0)},isPaymentsUrlReplaceEnabled:function(){return this.getBoolean("payments.service.url.replace.enabled",!1)},checkCustomerLevelsEnabled:function(){return this.checkSubscribedService("customer_levels.enabled","customer_levels")},isCustomerLevelsEnabled:function(){return this.getBoolean("customer_levels.enabled",!1)},forcePromotionMarketsX:function(){return this.getBoolean("customer.promotion.marketsX.force",!1)},getPremiumToolsBadge:function(){return this.getArray("premium.tools.badge",",")},checkPremiumSupportPhoneEnabled:function(){return n(6).getUserLevelsModel().isMarketsX()?this.loadPremiumSupportPhone():Promise.resolve(!1)},loadPremiumSupportPhone:function(){var e=n(8);return this.$loadPremiumSupportPhone?this.$loadPremiumSupportPhone:(this.$loadPremiumSupportPhone=e.loadPremiumSupportPhone(),this.$loadPremiumSupportPhone)},getCheckKnowledgeLink:function(){return this.getOrDefault("link.check_knowledge","")},getTimeOutForRegistrationEyeCatcher:function(){return 1e3*this.getInteger("eyecatcher.inactivity.timeout.registration.seconds",5)},getTimeOutForEyeCatcher:function(){return 1e3*this.getInteger("eyecatcher.inactivity.timeout.platform.seconds",10)},getIntervalForEyeCatcher:function(){return 36e5*Number(this.getOrDefault("eyecatcher.min.interval.hours",.05))},getTimesPerWeekforEyeCatcher:function(){return this.getInteger("eyecatcher.max.shows.per.week",3)},getLangsForEyeCatcher:function(){return this.getArray("eyecatcher.available.languages",",",["en"])},isEyeCatcherEnabled:function(){return this.isLiveChatEnabled()&&this.getBoolean("eyecatcher.enabled",!1)},getBlogUrl:function(){return this.getOrDefault("blog.url","")},isMultipleQuizEnabled:function(){return this.getBoolean("multiple.quiz.enabled",!1)},getNewsFeedIntervalUpdateTime:function(){return this.getInteger("news.feed.interval.update.time",18e4)},isShowVerificationCenterPopupEnabled:function(){return this.getBoolean("show.verification_center.popup.enabled",!1)},isTimezoneEnabled:function(){return this.getBoolean("user.timezone.enabled",!1)},isRegistrationCustomerSelectedCompanyEnabled:function(){return this.getBoolean("registration.customer_selected_company.enabled",!1)},showCustomRiskWarningForCustomerSelectedCompany:function(){return this.getArray("registration.customer_selected_company.custom_risk_warning.company_ids",",")},needConfirmChangeCustomerRegulationCompany:function(){return this.getBoolean("registration.company_change.confirm.enabled",!1)},needNotifyCustomerRegulationCompany:function(){return this.getBoolean("registration.company_changed.notify.enabled",!1)},getSessionRandom:function(){var e=this.get("sessionRandom");return s.isUndefined(e)?(e=Math.random(),this.set("sessionRandom",e),e):e},isPlatformTypePopupVisible:function(){if((0,n(27).isUserInstrumentTypeOf)(window.store.getState(),f.QUANT_RANKS))return!1;var e=this.percentageOfUsersToShowPlatformPopup();if(e=50,this.getBoolean("platform.type.popup.enabled",!1)){var t=this.getSessionRandom();return n(6).getUserCommonData().isFirstLogin()&&t<e/100}return!1},isPlatformTypeSettingOnDemo:function(){return this.getBoolean("platform_type_popup",!1)},percentageOfUsersToShowPlatformPopup:function(){return this.getInteger("platform.type.popup.percentage",50)},isDefaultAdvancedViewsEnabled:function(){return this.getBoolean("default.advanced.views.enabled",!1)},isNotificationCenterEnabled:function(){return this.getBoolean("user.notification_center.enabled",!1)},getCaptchaKey:function(){return this.getOrDefault("google.recaptcha.key.site","")},isCaptchaEnabled:function(){return!s.isEmpty(this.getCaptchaKey())},isNewAdvancedDashboardCollapsibleListEnabled:function(){return this.getBoolean("new_advanced_dashboard.collapsible_list.enabled",!1)},isChartTradingViewTradingLinesEnabled:function(){return this.getBoolean("chart.trading_view.trading_lines.enabled",!0)},getChartTradingViewServiceUrl:function(){return this.getOrDefault("chart.trading_view.service.url","")},isChartTradingViewMultichartsEnabled:function(){return this.getBoolean("chart.trading_view.multicharts.enabled",!0)},isMultiChartsTradingViewEnabled:function(){return this.getBoolean("multicharts.trading_view.enabled",!0)},isHotjarEnabled:function(){if("en"!==__("lang"))return!1;var e=this.getHotjarId();return this.getBoolean("hotjar.enabled",!1)&&e},getHotjarId:function(){return this.getInteger("hotjar.id",0)},isHotjarMenuFeedbackEnabled:function(){return this.isHotjarEnabled()&&this.getBoolean("hotjar.menu.feedback.enabled",!1)},isHotjarFeedbackEnabled:function(){return this.isHotjarEnabled()&&this.getBoolean("hotjar.feedback.enabled",!1)},getPraxisRedirectUrl:function(){return this.getOrDefault("praxis.redirect.url","")},isDoubleSignalBoxEnabled:function(){return this.getBoolean("double.signal.box.enabled",!1)},getUXCamAppKey:function(){return this.getOrDefault("uxcam.appkey",null)},isUXCamEnabled:function(){var e=this.getUXCamAppKey();return this.getBoolean("uxcam.enabled",!1)&&e},getSaxoAvailableAccountTypes:function(){return this.getArray("saxo.available_account_types",",",[p.REAL])},getQuantRanksAvailableAccountTypes:function(){return this.getArray("quant_ranks.available_account_types",",",[p.REAL])},getPortfolioTradingHours:function(){return this.getArray("portfolio.trading_hours","-")},isPerformanceEventosEnabled:function(){return this.getBoolean("performance.eventos.enabled",!1)},isPerformanceFirebaseEnabled:function(){return this.getBoolean("performance.firebase.enabled",!1)},getPerformanceFirebaseRemoteConfig:function(){return this.getOrDefault("performance.firebase.remote_config","")},getPortfolioTradingDays:function(){return this.getArray("portfolio.trading_days",",")}});i.exports=new h}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},,,function(e,t,n){(function(e){var i,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*!
 * jBone v1.2.0 - 2016-04-13 - Library for DOM manipulation
 *
 * http://jbone.js.org
 *
 * Copyright 2016 Alexey Kupriyanenko
 * Released under the MIT license.
 */
!function(o){var s,a=o.$,l=o.jBone,c=/^<(\w+)\s*\/?>$/,u=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,d=[].slice,p=[].splice,f=Object.keys,h=document,m=function(e){return"string"==typeof e},g=function(e){return e instanceof Object},v=function(e){return!!g(e)&&"[object Function]"==={}.toString.call(e)},b=function(e){return Array.isArray(e)},_=function(e,t){return new s.init(e,t)};function y(e,t){var n,i;for(n in this.originalEvent=e,i=function(e,t){"preventDefault"===e?this[e]=function(){return this.defaultPrevented=!0,t[e]()}:"stopImmediatePropagation"===e?this[e]=function(){return this.immediatePropagationStopped=!0,t[e]()}:v(t[e])?this[e]=function(){return t[e]()}:this[e]=t[e]},e)(e[n]||"function"==typeof e[n])&&i.call(this,n,e);_.extend(this,t,{isImmediatePropagationStopped:function(){return!!this.immediatePropagationStopped}})}_.noConflict=function(){return o.$=a,o.jBone=l,_},(s=_.fn=_.prototype={init:function(e,t){var n,i,r,o;if(!e)return this;if(m(e)){if(i=c.exec(e))return this[0]=h.createElement(i[1]),this.length=1,g(t)&&this.attr(t),this;if((i=u.exec(e))&&i[1]){for(o=h.createDocumentFragment(),(r=h.createElement("div")).innerHTML=e;r.lastChild;)o.appendChild(r.firstChild);return n=d.call(o.childNodes),_.merge(this,n)}if(_.isElement(t))return _(t).find(e);try{return n=h.querySelectorAll(e),_.merge(this,n)}catch(e){return this}}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?e():e instanceof _?e:_.makeArray(e,this)},pop:[].pop,push:[].push,reverse:[].reverse,shift:[].shift,sort:[].sort,splice:[].splice,slice:[].slice,indexOf:[].indexOf,forEach:[].forEach,unshift:[].unshift,concat:[].concat,join:[].join,every:[].every,some:[].some,filter:[].filter,map:[].map,reduce:[].reduce,reduceRight:[].reduceRight,length:0}).constructor=_,s.init.prototype=s,_.setId=function(e){var t=e.jid;e===o?t="window":void 0===e.jid&&(e.jid=t=++_._cache.jid),_._cache.events[t]||(_._cache.events[t]={})},_.getData=function(e){var t=(e=e instanceof _?e[0]:e)===o?"window":e.jid;return{jid:t,events:_._cache.events[t]}},_.isElement=function(e){return e&&e instanceof _||e instanceof HTMLElement||m(e)},_._cache={events:{},jid:0},s.pushStack=function(e){return _.merge(this.constructor(),e)},_.merge=function(e,t){for(var n=t.length,i=e.length,r=0;r<n;)e[i++]=t[r++];return e.length=i,e},_.contains=function(e,t){return e.contains(t)},_.extend=function(e){var t;return p.call(arguments,1).forEach((function(n){if(t=e,n)for(var i in n)t[i]=n[i]})),e},_.makeArray=function(e,t){var n,i,s,a=t||[];return null!==e&&(i=(n=e).length,s=void 0===n?"undefined":r(n),!v(s)&&n!==o&&(1===n.nodeType&&i||b(s)||0===i||"number"==typeof i&&i>0&&i-1 in n)?_.merge(a,m(e)?[e]:e):a.push(e)),a},_.unique=function(e){if(null==e)return[];for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n];t.indexOf(r)<0&&t.push(r)}return t},_.Event=function(e,t){var n,i;return e.type&&!t&&(t=e,e=e.type),n=e.split(".").splice(1).join("."),i=e.split(".")[0],(e=h.createEvent("Event")).initEvent(i,!0,!0),_.extend(e,{namespace:n,isDefaultPrevented:function(){return e.defaultPrevented}},t)},_.event={add:function(e,t,n,i,r){_.setId(e);var o,s,a,l=function(t){_.event.dispatch.call(e,t)},c=_.getData(e).events;for(s=(t=t.split(" ")).length;s--;)c[o=(a=t[s]).split(".")[0]]=c[o]||[],c[o].length?l=c[o][0].fn:e.addEventListener&&e.addEventListener(o,l,!1),c[o].push({namespace:a.split(".").splice(1).join("."),fn:l,selector:r,data:i,originfn:n})},remove:function(e,t,n,i){var r,o,s=function(e,t,i,r,o){var s;(n&&o.originfn===n||!n)&&(s=o.fn),e[t][i].fn===s&&(e[t].splice(i,1),e[t].length||r.removeEventListener(t,s))},a=_.getData(e).events;if(a)return!t&&a?f(a).forEach((function(t){for(o=a[t],r=o.length;r--;)s(a,t,r,e,o[r])})):void t.split(" ").forEach((function(t){var n,l=t.split(".")[0],c=t.split(".").splice(1).join(".");if(a[l])for(o=a[l],r=o.length;r--;)n=o[r],(!c||c&&n.namespace===c)&&(!i||i&&n.selector===i)&&s(a,l,r,e,n);else c&&f(a).forEach((function(t){for(o=a[t],r=o.length;r--;)(n=o[r]).namespace.split(".")[0]===c.split(".")[0]&&s(a,t,r,e,n)}))}))},trigger:function(e,t){(m(t)?t.split(" ").map((function(e){return _.Event(e)})):[t=t instanceof Event?t:_.Event(t)]).forEach((function(t){t.type&&e.dispatchEvent&&e.dispatchEvent(t)}))},dispatch:function(e){for(var t,n,i,r,o,s=0,a=0,l=this,c=_.getData(l).events[e.type],u=c.length,d=[],p=[];s<u;s++)d.push(c[s]);for(s=0,u=d.length;s<u&&~c.indexOf(d[s])&&(!r||!r.isImmediatePropagationStopped());s++)if(n=null,o={},(i=d[s]).data&&(o.data=i.data),i.selector){if(~(p=_(l).find(i.selector)).indexOf(e.target)&&(n=e.target)||l!==e.target&&l.contains(e.target)){if(!n)for(t=p.length,a=0;a<t;a++)p[a]&&p[a].contains(e.target)&&(n=p[a]);if(!n)continue;o.currentTarget=n,r=new y(e,o),e.namespace&&e.namespace!==i.namespace||i.originfn.call(n,r)}}else r=new y(e,o),e.namespace&&e.namespace!==i.namespace||i.originfn.call(l,r)}},s.on=function(e,t,n,i){var r=this.length,o=0;if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),!i)return this;for(;o<r;o++)_.event.add(this[o],e,i,n,t);return this},s.one=function(e){var t,n=arguments,i=0,r=this.length,o=d.call(n,1,n.length-1),s=d.call(n,-1)[0];for(t=function(t){var n=_(t);e.split(" ").forEach((function(e){n.on.apply(n,[e].concat(o,(function i(r){n.off(e,i),s.call(t,r)})))}))};i<r;i++)t(this[i]);return this},s.trigger=function(e){var t=0,n=this.length;if(!e)return this;for(;t<n;t++)_.event.trigger(this[t],e);return this},s.off=function(e,t,n){var i=0,r=this.length;for(v(t)&&(n=t,t=void 0);i<r;i++)_.event.remove(this[i],e,n,t);return this},s.find=function(e){for(var t,n=[],i=0,r=this.length;i<r;i++)t=this[i],v(t.querySelectorAll)&&[].forEach.call(t.querySelectorAll(e),(function(e){n.push(e)}));return _(n)},s.get=function(e){return null!=e?e<0?this[e+this.length]:this[e]:d.call(this)},s.eq=function(e){return _(this[e])},s.parent=function(){for(var e,t=[],n=0,i=this.length;n<i;n++)!~t.indexOf(e=this[n].parentElement)&&e&&t.push(e);return _(t)},s.toArray=function(){return d.call(this)},s.is=function(){var e=arguments;return this.some((function(t){return t.tagName.toLowerCase()===e[0]}))},s.has=function(){var e=arguments;return this.some((function(t){return t.querySelectorAll(e[0]).length}))},s.add=function(e,t){return this.pushStack(_.unique(_.merge(this.get(),_(e,t))))},s.attr=function(e,t){var n,i=arguments,r=0,o=this.length;if(m(e)&&1===i.length)return this[0]&&this[0].getAttribute(e);for(2===i.length?n=function(n){n.setAttribute(e,t)}:g(e)&&(n=function(t){f(e).forEach((function(n){t.setAttribute(n,e[n])}))});r<o;r++)n(this[r]);return this},s.removeAttr=function(e){for(var t=0,n=this.length;t<n;t++)this[t].removeAttribute(e);return this},s.val=function(e){var t=0,n=this.length;if(0===arguments.length)return this[0]&&this[0].value;for(;t<n;t++)this[t].value=e;return this},s.css=function(e,t){var n,i=arguments,r=0,s=this.length;if(m(e)&&1===i.length)return this[0]&&o.getComputedStyle(this[0])[e];for(2===i.length?n=function(n){n.style[e]=t}:g(e)&&(n=function(t){f(e).forEach((function(n){t.style[n]=e[n]}))});r<s;r++)n(this[r]);return this},s.data=function(e,t){var n,i=arguments,r={},o=0,s=this.length,a=function(e,t,n){g(n)?(e.jdata=e.jdata||{},e.jdata[t]=n):e.dataset[t]=n},l=function(e){return"true"===e||"false"!==e&&e};if(0===i.length)return this[0].jdata&&(r=this[0].jdata),f(this[0].dataset).forEach((function(e){r[e]=l(this[0].dataset[e])}),this),r;if(1===i.length&&m(e))return this[0]&&l(this[0].dataset[e]||this[0].jdata&&this[0].jdata[e]);for(1===i.length&&g(e)?n=function(t){f(e).forEach((function(n){a(t,n,e[n])}))}:2===i.length&&(n=function(n){a(n,e,t)});o<s;o++)n(this[o]);return this},s.removeData=function(e){for(var t,n,i=0,r=this.length;i<r;i++)if(t=this[i].jdata,n=this[i].dataset,e)t&&t[e]&&delete t[e],delete n[e];else{for(e in t)delete t[e];for(e in n)delete n[e]}return this},s.addClass=function(e){for(var t=0,n=0,i=this.length,r=e?e.trim().split(/\s+/):[];t<i;t++)for(n=0,n=0;n<r.length;n++)this[t].classList.add(r[n]);return this},s.removeClass=function(e){for(var t=0,n=0,i=this.length,r=e?e.trim().split(/\s+/):[];t<i;t++)for(n=0,n=0;n<r.length;n++)this[t].classList.remove(r[n]);return this},s.toggleClass=function(e,t){var n=0,i=this.length,r="toggle";if(!0===t&&(r="add")||!1===t&&(r="remove"),e)for(;n<i;n++)this[n].classList[r](e);return this},s.hasClass=function(e){var t=0,n=this.length;if(e)for(;t<n;t++)if(this[t].classList.contains(e))return!0;return!1},s.html=function(e){var t,n=arguments;return 1===n.length&&void 0!==e?this.empty().append(e):0===n.length&&(t=this[0])?t.innerHTML:this},s.append=function(e){var t,n=0,i=this.length;for(m(e)&&u.exec(e)?e=_(e):g(e)||(e=document.createTextNode(e)),e=e instanceof _?e:_(e),t=function(t,n){e.forEach((function(e){n?t.appendChild(e.cloneNode(!0)):t.appendChild(e)}))};n<i;n++)t(this[n],n);return this},s.appendTo=function(e){return _(e).append(this),this},s.empty=function(){for(var e,t=0,n=this.length;t<n;t++)for(e=this[t];e.lastChild;)e.removeChild(e.lastChild);return this},s.remove=function(){var e,t=0,n=this.length;for(this.off();t<n;t++)delete(e=this[t]).jdata,e.parentNode&&e.parentNode.removeChild(e);return this},"object"===r(e)&&e&&"object"===r(e.exports)?e.exports=_:(void 0===(i=function(){return _}.call(t,n,t,e))||(e.exports=i),o.jBone=o.$=_)}(window)}).call(this,n(416)(e))},function(e,t,n){"use strict";(function(e){n.d(t,"n",(function(){return r})),n.d(t,"A",(function(){return o})),n.d(t,"z",(function(){return s})),n.d(t,"L",(function(){return a})),n.d(t,"D",(function(){return l})),n.d(t,"B",(function(){return c})),n.d(t,"F",(function(){return u})),n.d(t,"G",(function(){return d})),n.d(t,"K",(function(){return p})),n.d(t,"m",(function(){return f})),n.d(t,"s",(function(){return h})),n.d(t,"l",(function(){return m})),n.d(t,"J",(function(){return g})),n.d(t,"O",(function(){return v})),n.d(t,"I",(function(){return b})),n.d(t,"H",(function(){return _})),n.d(t,"N",(function(){return y})),n.d(t,"t",(function(){return E})),n.d(t,"v",(function(){return S})),n.d(t,"u",(function(){return C})),n.d(t,"P",(function(){return w})),n.d(t,"k",(function(){return O})),n.d(t,"j",(function(){return T})),n.d(t,"i",(function(){return P})),n.d(t,"q",(function(){return k})),n.d(t,"o",(function(){return I})),n.d(t,"r",(function(){return A})),n.d(t,"p",(function(){return x})),n.d(t,"d",(function(){return N})),n.d(t,"a",(function(){return D})),n.d(t,"M",(function(){return R})),n.d(t,"h",(function(){return L})),n.d(t,"b",(function(){return M})),n.d(t,"g",(function(){return j})),n.d(t,"f",(function(){return F})),n.d(t,"e",(function(){return B})),n.d(t,"c",(function(){return U})),n.d(t,"w",(function(){return V})),n.d(t,"x",(function(){return z})),n.d(t,"E",(function(){return q})),n.d(t,"Q",(function(){return H})),n.d(t,"C",(function(){return $})),n.d(t,"y",(function(){return G}));var i=n(72),r="editPortfolio",o="portfolioPlaceOrder",s="portfolioEditOrder",a="TOTAL_PL",l={FUNDED:"funded",UNFUNDED:"unfunded"},c={NEW:"NEW",WAITING:"WAITING",OPENING:"OPENING",CLOSING:"CLOSING",COMPLETED:"COMPLETED",REJECTED:"REJECTED",CLOSED:"CLOSED"},u="signals_",d="signalsTotal",p=[{value:30,label:"1 Month"},{value:90,label:"3 Months"}],f=e.findWhere(p,{value:90}),h=[{value:.01,label:"Top 1%"},{value:.02,label:"Top 2%"},{value:.05,label:"Top 5%"},{value:.1,label:"Top 10%"},{value:.2,label:"Top 20%"},{value:.3,label:"Top 30%"},{value:.5,label:"Top 50%"},{value:.7,label:"Top 70%"},{value:.9,label:"Top 90%"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:10,label:"10"},{value:20,label:"20"},{value:25,label:"25"},{value:50,label:"50"},{value:100,label:"100"},{value:200,label:"200"},{value:250,label:"250"},{value:500,label:"500"}],m=e.findWhere(h,{value:.1}),g="sectors",v="universeType",b="shareFilters",_="sharesCount",y=[{value:"All",label:"All"},{value:"SP 500",label:"SP 500"},{value:"Russell 2000",label:"Russell 2000"}],E=100,S=1e3,C=S*S,w="whiteList",O="blackList",T="#2e86ab",P="#ffa19e",k=function(){return i.isLightTheme()?"#ccd6eb":"#ebebeb"},I=function(){return i.isLightTheme()?"#ccd6eb":"#ebebeb"},A=function(){return i.isLightTheme()?"#404957":"#ebebeb"},x=function(){return i.isLightTheme()?"#404957":"#ebebeb"},N=["#9b9b9b","#b8e986","#7eb640","#528a10","#ec647c","#7fc5b6","#608de7","#3f5fda"],D="AllYears",R={WITH_TRADING:"WithTradingCost",WITHOUT_TRADING:"WithoutTradingCost"},L=["totalStrategyReturn","totalIndexReturn","sharpeRatio","maxDrawDown","profitableDays","standardDeviation","alpha"],M=["symbol","companyName","marketCapAtOpenDate","stockSectorName","threeMonthVolumeAtOpenDate","peRatioAtOpenDate","betaAtOpenDate","scoreAtOpenDate"],j="stockSectorInsights",F="stockScoreInsights",B="marketCapInsights",U=[{label:"portfolio.backtest.existing.select.sector",value:j},{label:"portfolio.backtest.existing.select.market_cap",value:B},{label:"portfolio.backtest.existing.select.score",value:F}],V="BUY",z="SELL",q={1:"BUY",2:"SELL"},H="YTD",$={CREATION:1,IMPRESSION:2},G={NAME:"name",CREATED_DATE:"createdDate",CHANGE:"change",GAIN_REBALANCED:"gainRebalanced",GAIN_CREATED:"gainCreated",LAST_REBALANCED_DATE:"lastRebalancedDate",NEXT_REBALANCED_DATE:"nextRebalancedDate",PL:"pl",INVESTED_FUNDS:"investedFunds"}}).call(this,n(1))},,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"isInstrumentMarginLevelLow",(function(){return p})),n.d(t,"getInstruments",(function(){return f})),n.d(t,"getFxInstruments",(function(){return h})),n.d(t,"getInstrument",(function(){return m})),n.d(t,"getInstrumentSymbolMap",(function(){return g})),n.d(t,"getInstrumentLastQuoteTime",(function(){return v})),n.d(t,"getInstrumentId",(function(){return b})),n.d(t,"getInstrumentCategory",(function(){return _})),n.d(t,"getInstrumentCategoryPath",(function(){return y})),n.d(t,"getInstrumentDescription",(function(){return E})),n.d(t,"getInstrumentName",(function(){return S})),n.d(t,"getInstrumentTicker",(function(){return C})),n.d(t,"getInstrumentSentiment",(function(){return w})),n.d(t,"getInstrumentSentimentLongs",(function(){return O})),n.d(t,"getInstrumentSentimentShorts",(function(){return T})),n.d(t,"getInstrumentFxSystemSettings",(function(){return P})),n.d(t,"getInstrumentOvernightInterestTime",(function(){return k})),n.d(t,"getInstrumentRolloverDates",(function(){return I})),n.d(t,"getInstrumentRolloverDatesValue",(function(){return A})),n.d(t,"getInstrumentSwapRates",(function(){return x})),n.d(t,"getInstrumentBuyRate",(function(){return N})),n.d(t,"getInstrumentSellRate",(function(){return D})),n.d(t,"getInstrumentsSettingsUpdate",(function(){return R})),n.d(t,"getInstrumentSettingsUpdate",(function(){return L})),n.d(t,"getInstrumentMinOrderSize",(function(){return M})),n.d(t,"getInstrumentTradingMode",(function(){return j})),n.d(t,"isInstrumentVisible",(function(){return F})),n.d(t,"isInstrumentAllowOrdersOutsideOfTradingHours",(function(){return B})),n.d(t,"getInstrumentsMarginingSettings",(function(){return U})),n.d(t,"getInstrumentMarginingSettings",(function(){return V})),n.d(t,"getInstrumentMarginRatePercent",(function(){return z})),n.d(t,"getInstrumentMarginRateValue",(function(){return q})),n.d(t,"getInstrumentMaintenanceMarginValue",(function(){return H})),n.d(t,"getQuoteInstruments",(function(){return $})),n.d(t,"getInstrumentQuote",(function(){return G})),n.d(t,"getInstrumentAsk",(function(){return W})),n.d(t,"getInstrumentBid",(function(){return Y})),n.d(t,"getInstrumentCurrentAskDirection",(function(){return K})),n.d(t,"getInstrumentAskDirection",(function(){return X})),n.d(t,"getInstrumentCurrentBidDirection",(function(){return Q})),n.d(t,"getInstrumentBidDirection",(function(){return J})),n.d(t,"getInstrumentSpread",(function(){return Z})),n.d(t,"getInstrumentSpreadDirection",(function(){return ee})),n.d(t,"getInstrumentCurrency",(function(){return te})),n.d(t,"getInstrumentPrecision",(function(){return ne})),n.d(t,"getInstrumentPipsPrecision",(function(){return ie})),n.d(t,"getInstrumentPipsPrecisionSize",(function(){return re})),n.d(t,"getInstrumentLotSize",(function(){return oe})),n.d(t,"getInstrumentBaseCurrency",(function(){return se})),n.d(t,"getInstrumentType",(function(){return ae})),n.d(t,"isInstrumentTypeSpreadBetting",(function(){return le})),n.d(t,"getInstrumentAmountSpreadBettingLabel",(function(){return ce})),n.d(t,"getSummaryInstruments",(function(){return ue})),n.d(t,"getInstrumentSummary",(function(){return de})),n.d(t,"getInstrumentDayOpen",(function(){return pe})),n.d(t,"getInstrumentPercentChange",(function(){return fe})),n.d(t,"getInstrumentDayHigh",(function(){return he})),n.d(t,"getInstrumentDayLow",(function(){return me})),n.d(t,"getInstrumentChange",(function(){return ge})),n.d(t,"isTradersTrendsDataAvailable",(function(){return ve})),n.d(t,"getInstrumentAmountWordUsed",(function(){return be})),n.d(t,"getTradingCalendarsSettings",(function(){return _e})),n.d(t,"getInstrumentTradingCalendarsSettings",(function(){return ye})),n.d(t,"getCryptoInfo",(function(){return Ee})),n.d(t,"getInstrumentCryptoStartDate",(function(){return Se})),n.d(t,"getInstrumentCryptoMaxSupply",(function(){return Ce})),n.d(t,"getInstrumentCryptoAlgorithm",(function(){return we})),n.d(t,"getInstrumentCryptoNetworkHS",(function(){return Oe})),n.d(t,"getInstrumentCryptoTwitter",(function(){return Te})),n.d(t,"getInstrumentCryptoCoinType",(function(){return Pe})),n.d(t,"getInstrumentCryptoBlockPr",(function(){return ke})),n.d(t,"getInstrumentCryptoBlockNo",(function(){return Ie})),n.d(t,"getTradeStatuses",(function(){return Ae})),n.d(t,"getInstrumentTradeStatuses",(function(){return xe})),n.d(t,"getInstrumentOutOfMarketHours",(function(){return Ne})),n.d(t,"isInstrumentTradingModeAvailableForTrading",(function(){return De})),n.d(t,"isInstrumentTradable",(function(){return Re})),n.d(t,"isInstrumentAvailableForTrade",(function(){return Le})),n.d(t,"isInstrumentOTH",(function(){return Me})),n.d(t,"isInstrumentBuyTradable",(function(){return je})),n.d(t,"isInstrumentSellTradable",(function(){return Fe})),n.d(t,"getInstrumentPriceAlerts",(function(){return Be})),n.d(t,"hasInstrumentPriceAlerts",(function(){return Ue})),n.d(t,"getInstrumentsTreePathsMap",(function(){return Ve})),n.d(t,"getInstrumentCategoryByPath",(function(){return ze})),n.d(t,"getFirstElementInInstrumentCategoryByPath",(function(){return qe})),n.d(t,"getInstrumentsChildCategories",(function(){return He})),n.d(t,"getInstrumentSymbolsInFeaturedCategory",(function(){return $e})),n.d(t,"getInstrumentSymbolsCategoryByPath",(function(){return Ge})),n.d(t,"getDefaultInstrumentTreeCategoryPath",(function(){return We})),n.d(t,"getDefaultCategoryInstrumentsSortedByWeight",(function(){return Ye})),n.d(t,"getFirstInstrumentInDefaultCategory",(function(){return Ke})),n.d(t,"getId2SymbolMap",(function(){return Xe})),n.d(t,"getInstrumentLowercaseSymbolMap",(function(){return Qe}));var i=n(1),r=n.n(i),o=n(2),s=n(3),a=n(27),l=n(733),c=n(42),u=n(23),d=n(49),p=Object(o.a)(a.isUserMarginLevelLow,(function(e){return e})),f=function(e){return e.instruments},h=Object(o.a)(f,(function(e){return e.FX_INSTRUMENT})),m=Object(o.a)([h,u.a],(function(e,t){return e[t]})),g=Object(o.a)(f,(function(e){return e.instrumentSymbolMap||c.b})),v=Object(o.a)(f,(function(e){return e.instrumentLastQuoteTime})),b=Object(o.a)([g,u.a],(function(e,t){return e[t]&&e[t].id})),_=Object(o.a)([g,u.a],(function(e,t){return e[t]&&e[t].category||""})),y=Object(o.a)([g,u.a],(function(e,t){return e[t]&&e[t]._categoryPath||""})),E=Object(o.a)([g,u.a],(function(e,t){return e[t]&&e[t].description})),S=Object(o.a)([g,h,u.a],(function(e,t,n){return e[n]&&e[n].name||t[n]&&t[n].displayName})),C=Object(o.a)([g,u.a],(function(e,t){return e[t]&&e[t].ticker})),w=Object(o.a)([g,u.a],(function(e,t){return e[t]&&e[t].sentiment})),O=Object(o.a)(w,(function(e){return e&&e.longs})),T=Object(o.a)(w,(function(e){return e&&e.shorts})),P=Object(o.a)(f,(function(e){return e.FX_SYSTEM_SETTINGS})),k=Object(o.a)(P,(function(e){return e&&e.overnightInterestTime})),I=Object(o.a)(f,(function(e){return e.ROLLOVER_DATES})),A=Object(o.a)([I,u.a],(function(e,t){return e[t=String(t).toLowerCase()]&&e[t].value})),x=Object(o.a)(f,(function(e){return e.SWAP_RATES})),N=Object(o.a)([x,u.a],(function(e,t){return e[t]&&e[t].buyRate})),D=Object(o.a)([x,u.a],(function(e,t){return e[t]&&e[t].sellRate})),R=Object(o.a)(f,(function(e){return e.INSTRUMENT_SETTINGS_UPDATE})),L=Object(o.a)([R,u.a],(function(e,t){return e[t]})),M=Object(o.a)(L,(function(e){return e&&e.minOrderSize})),j=Object(o.a)(L,(function(e){return e&&e.trading||""})),F=Object(o.a)(L,(function(e){return e&&e.visible})),B=Object(o.a)(L,(function(e){return e&&e.allowOrdersOutsideOfTradingHours})),U=Object(o.a)(f,(function(e){return e.MARGINING_SETTINGS})),V=Object(o.a)([U,u.a],(function(e,t){return e[t]})),z=Object(o.a)(V,(function(e){return e&&e.marginRatePercent})),q=Object(o.a)(V,(function(e){return e&&e.marginRateValue})),H=Object(o.a)(V,(function(e){return e&&e.maintenanceMarginValue})),$=Object(o.a)(f,(function(e){return e.QUOTE})),G=Object(o.a)([$,u.a],(function(e,t){return e[t]})),W=Object(o.a)(G,(function(e){return e&&e.ask})),Y=Object(o.a)(G,(function(e){return e&&e.bid})),K=Object(o.a)(G,(function(e){return e&&e._currentAskDirection})),X=Object(o.a)(G,(function(e){return e&&e.askDirection})),Q=Object(o.a)(G,(function(e){return e&&e._currentBidDirection})),J=Object(o.a)(G,(function(e){return e&&e.bidDirection})),Z=Object(o.a)(G,(function(e){return e&&e._spread})),ee=Object(o.a)(G,(function(e){return e&&e._spreadDirection})),te=Object(o.a)(m,(function(e){return e&&e.currency})),ne=Object(o.a)(m,(function(e){return e&&e.precision})),ie=Object(o.a)(m,(function(e){return e&&e.pipsPrecision})),re=Object(o.a)(ie,(function(e){return 1/Math.pow(10,e)})),oe=Object(o.a)(m,(function(e){return e&&e.lotSize})),se=Object(o.a)(m,(function(e){return e&&e.baseCurrency})),ae=Object(o.a)(m,(function(e){return e&&e.type})),le=Object(o.a)(ae,(function(e){return e===s.INSTRUMENT_TYPE_SPREAD_BETTING})),ce=Object(o.a)([te,re],(function(e,t){return Object(d.getAmountSpreadBettingLabel)(e,t)})),ue=Object(o.a)(f,(function(e){return e.SUMMARY})),de=Object(o.a)([ue,u.a],(function(e,t){return e[t]})),pe=Object(o.a)(de,(function(e){return e&&e.dayOpen})),fe=Object(o.a)(de,(function(e){return e&&e._percentChange})),he=Object(o.a)(de,(function(e){return e&&e.dayHigh})),me=Object(o.a)(de,(function(e){return e&&e.dayLow})),ge=Object(o.a)(de,(function(e){return e&&e._change})),ve=Object(o.a)([O,T],(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.a.every(t,(function(e){return!!e}))})),be=Object(o.a)([ae,_],(function(e,t){return e===s.INSTRUMENT_TYPES.FOREX&&t!==s.INSTRUMENT_CATEGORIES.CRYPTO})),_e=Object(o.a)(f,(function(e){return e.TRADING_CALENDARS_SETTINGS})),ye=Object(o.a)([_e,u.a],(function(e,t){return e&&e[t]})),Ee=Object(o.a)(f,(function(e){return e.CRYPTO_INFO||c.b})),Se=Object(o.a)([Ee,u.a],(function(e,t){return e[t]&&e[t].startDate})),Ce=Object(o.a)([Ee,u.a],(function(e,t){return e[t]&&e[t].maxSupply})),we=Object(o.a)([Ee,u.a],(function(e,t){return e[t]&&e[t].algorithm})),Oe=Object(o.a)([Ee,u.a],(function(e,t){return e[t]&&e[t].networkHS})),Te=Object(o.a)([Ee,u.a],(function(e,t){return e[t]&&e[t].twitter})),Pe=Object(o.a)([Ee,u.a],(function(e,t){return e[t]&&e[t].coinType})),ke=Object(o.a)([Ee,u.a],(function(e,t){return e[t]&&e[t].blockPr})),Ie=Object(o.a)([Ee,u.a],(function(e,t){return e[t]&&e[t].blockNo})),Ae=Object(o.a)(f,(function(e){return e.INSTRUMENT_TRADE_STATUSES})),xe=Object(o.a)([Ae,u.a],(function(e,t){return e&&e[t]})),Ne=Object(o.a)(xe,(function(e){return e&&e.outOfMarketHours})),De=Object(o.a)(j,(function(e){return e!==s.TRADING_MODE.CLOSE_ONLY&&e!==s.TRADING_MODE.NO})),Re=Object(o.a)([F,a.isUserMarginLevelLow,Ne,De],(function(e,t,n,i){return e&&!t&&!n&&i})),Le=Object(o.a)([F,a.isUserMarginLevelLow],(function(e,t){return e&&!t})),Me=Object(o.a)([Le,B,De,Ne],(function(e,t,n,i){return e&&t&&n&&i})),je=Object(o.a)([Re,W,j],(function(e,t,n){return e&&t>0&&(n===s.TRADING_MODE.FULL||n===s.TRADING_MODE.LONG_ONLY)})),Fe=Object(o.a)([Re,Y,j],(function(e,t,n){return e&&t>0&&(n===s.TRADING_MODE.FULL||n===s.TRADING_MODE.SHORT_ONLY)})),Be=Object(o.a)([b,l.a],(function(e,t){return t[e]||[]})),Ue=Object(o.a)(Be,(function(e){return!r.a.isEmpty(e)})),Ve=Object(o.a)(f,(function(e){return e.treePathsMap})),ze=Object(o.a)([Ve,u.a],(function(e,t){return e[t]})),qe=Object(o.a)(ze,(function(e){return e&&e.elements})),He=Object(o.a)(qe,(function(e){return e&&e[0]&&e[0]._path&&e})),$e=Object(o.a)(Ve,(function(e){var t=e["/Trending_now/Popular/"];return r.a.map(t&&t.elements,(function(e){return e.symbol}))})),Ge=Object(o.a)([Ve,u.a],(function(e,t){var n=e[t];return r.a.map(n&&n.elements,(function(e){return e.symbol}))})),We=Object(o.a)(f,(function(e){return e.defaultInstrumentTreeCategoryPath})),Ye=Object(o.a)([Ve,We],(function(e,t){var n=e[t];return n&&r.a.chain(n.elements).sortBy((function(e){return e.weight})).map((function(e){return e.symbol})).reverse().value()})),Ke=Object(o.a)(Ye,(function(e){return r.a.first(e)})),Xe=Object(o.a)(f,(function(e){return e.idToSymbolMap})),Qe=Object(o.a)(f,(function(e){return e.lowercaseInstrumentSymbolMap}))},function(e,t,n){(function(i,r,o){var s;void 0===(s=function(e,t,i){var r=n(24),o=n(5),s=n(1),a=n(12),l=r.View.extend({events:{"click .no-action":function(e){e.preventDefault()},"click .fn-help-live-chat-link":function(e){e.preventDefault(),e.stopPropagation(),o.trigger("ui:need-help")},"click [data-url]":function(e){var t=a(e.currentTarget).attr("data-url");t&&(location.href=t)}},addEvents:function(e){return function(t){return s.extend({},e?s.result(e.prototype,"events"):{},t)}},getOptions:function(e){return e||{}},initialize:function(e){this._rendered=!1,this.childViews={},this.options=this.getOptions(e),s.extend(this,s.pick(this.options,"parent")),e&&e.additionalEvents&&this.delegateEvents(s.extend({},s.result(this,"events"),s.result(e,"additionalEvents"))),this.listenTo(o,"app:destroy",this.destroy)},render:function(){return this.parent&&a(this.parent).append(this.el),this._rendered=!0,this},destroy:function(){this.removeChildViews(),this.undelegateEvents(),this.stopListening(),a(this.el).remove(),this.trigger("destroy")},addChildView:function(e,t,n){this.removeChildView(e);var i=s.isFunction(t)?new t(n):t;return this.childViews[e]=i,this.$el.find(e).append(i.render().el),i},removeChildView:function(e){var t=this.childViews,n=t[e];n&&(n.remove(),delete t[e])},removeChildViews:function(){for(var e in this.childViews)this.removeChildView(e)},getChildView:function(e){return this.childViews[e]}});i.exports=l}.call(t,n,t,e))||(e.exports=s)}).call(this,n(24),n(12),n(1))},function(e,t,n){"use strict";n.r(t),n.d(t,"TYPE_PERSONAL",(function(){return i})),n.d(t,"TYPE_PLATFORM",(function(){return r})),n.d(t,"TYPE_DEFAULT",(function(){return o})),n.d(t,"TAB_CHECKBOX_UNCHECKED",(function(){return s})),n.d(t,"TAB_CHECKBOX_INDETERMINATE",(function(){return a})),n.d(t,"TAB_CHECKBOX_CHECKED",(function(){return l})),n.d(t,"MESSAGE_TYPE_PROMOTION",(function(){return c})),n.d(t,"MESSAGE_TYPE_TUTORIAL",(function(){return u})),n.d(t,"MESSAGE_TYPE_NEW_FEATURE",(function(){return d})),n.d(t,"MESSAGE_TYPE_ALERT",(function(){return p})),n.d(t,"MESSAGE_ACTION_OPEN_NEW_TAB",(function(){return f})),n.d(t,"MESSAGE_ACTION_OPEN_DEEP_LINK",(function(){return h})),n.d(t,"MESSAGE_ACTION_OPEN_HASH",(function(){return m})),n.d(t,"MESSAGE_ACTION_CLOSE",(function(){return g})),n.d(t,"MESSAGE_ACTION_OPEN_REGISTRATION_DIALOG",(function(){return v})),n.d(t,"MESSAGE_ACTION_OPEN_DEPOSIT_DIALOG",(function(){return b})),n.d(t,"MESSAGE_ACTION_OPEN_VERIFICATION_CENTER",(function(){return _})),n.d(t,"MESSAGE_ACTION_SWITCH_TO_REAL",(function(){return y})),n.d(t,"MESSAGE_ACTION_OPEN_TRADE_DIALOG",(function(){return E})),n.d(t,"MESSAGE_ACTION_OPEN_INSTRUMENT_PAGE",(function(){return S})),n.d(t,"MESSAGE_ACTION_INTERNAL_ACTION",(function(){return C})),n.d(t,"MESSAGE_ACTION_OPEN_URL",(function(){return w})),n.d(t,"MESSAGE_ACTION_OPEN_TRADING_TOOL",(function(){return O})),n.d(t,"MESSAGE_ACTION_OPEN_VIDEO_TUTORIALS",(function(){return T})),n.d(t,"API_ACTION_REMOVE",(function(){return P})),n.d(t,"API_ACTION_READ",(function(){return k})),n.d(t,"API_ACTION_UNREAD",(function(){return I})),n.d(t,"API_ACTION_SEEN",(function(){return A})),n.d(t,"API_RESPONSE_SUCCESS",(function(){return x})),n.d(t,"FLOW_ON_BOARDING",(function(){return N})),n.d(t,"LABEL_SHARED_OPTIONS",(function(){return D}));var i="NOTIFICATION_CENTER",r="DEALING_MESSAGE",o=i,s="UNCHECKED",a="INDETERMINATE",l="CHECKED",c="Promotion",u="Tutorial",d="New Feature",p="Alert",f="openNewTab",h="openDeepLink",m="openHash",g="close",v="openRegistrationDialog",b="openDepositDialog",_="openVerificationCenter",y="switchToReal",E="openTradeDialog",S="openInstPage",C="internalAction",w="openUrl",O="openTradingTool",T="videoTutorials",P="remove",k="read",I="unread",A="seen",x="ok",N="flow:onBoarding",D={"data-tooltip-align":"bottom","data-tooltip-disable-stop-propagation":"true","data-tooltip-classname":"narrow"}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=function(e,t){return t},r=function(e,t,n){return n}},,function(e,t,n){"use strict";n.d(t,"C",(function(){return i})),n.d(t,"E",(function(){return r})),n.d(t,"D",(function(){return o})),n.d(t,"O",(function(){return s})),n.d(t,"Q",(function(){return a})),n.d(t,"P",(function(){return l})),n.d(t,"B",(function(){return c})),n.d(t,"A",(function(){return u})),n.d(t,"bb",(function(){return d})),n.d(t,"db",(function(){return p})),n.d(t,"cb",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return g})),n.d(t,"i",(function(){return v})),n.d(t,"k",(function(){return b})),n.d(t,"j",(function(){return _})),n.d(t,"x",(function(){return y})),n.d(t,"z",(function(){return E})),n.d(t,"y",(function(){return S})),n.d(t,"U",(function(){return C})),n.d(t,"W",(function(){return w})),n.d(t,"V",(function(){return O})),n.d(t,"r",(function(){return T})),n.d(t,"t",(function(){return P})),n.d(t,"s",(function(){return k})),n.d(t,"w",(function(){return I})),n.d(t,"L",(function(){return A})),n.d(t,"N",(function(){return x})),n.d(t,"M",(function(){return N})),n.d(t,"ib",(function(){return D})),n.d(t,"q",(function(){return R})),n.d(t,"l",(function(){return L})),n.d(t,"n",(function(){return M})),n.d(t,"m",(function(){return j})),n.d(t,"Z",(function(){return F})),n.d(t,"d",(function(){return B})),n.d(t,"e",(function(){return U})),n.d(t,"f",(function(){return V})),n.d(t,"p",(function(){return z})),n.d(t,"hb",(function(){return q})),n.d(t,"v",(function(){return H})),n.d(t,"g",(function(){return $})),n.d(t,"F",(function(){return G})),n.d(t,"H",(function(){return W})),n.d(t,"G",(function(){return Y})),n.d(t,"I",(function(){return K})),n.d(t,"K",(function(){return X})),n.d(t,"J",(function(){return Q})),n.d(t,"Y",(function(){return J})),n.d(t,"u",(function(){return Z})),n.d(t,"h",(function(){return ee})),n.d(t,"o",(function(){return te})),n.d(t,"R",(function(){return ne})),n.d(t,"T",(function(){return ie})),n.d(t,"S",(function(){return re})),n.d(t,"X",(function(){return oe})),n.d(t,"eb",(function(){return se})),n.d(t,"gb",(function(){return ae})),n.d(t,"fb",(function(){return le})),n.d(t,"ab",(function(){return ce}));var i="portfolio/LOAD_LATEST_UNIVERSE",r="portfolio/LOAD_LATEST_UNIVERSE_SUCCESS",o="portfolio/LOAD_LATEST_UNIVERSE_ERROR",s="portfolio/LOAD_SCORE_TYPES",a="portfolio/LOAD_SCORE_TYPES_SUCCESS",l="portfolio/LOAD_SCORE_TYPES_ERROR",c="portfolio/LOAD_LATEST_SCORES_SUCCESS",u="portfolio/LOAD_LATEST_SCORES_ERROR",d="portfolio/SYNC_PORTFOLIOS",p="portfolio/SYNC_PORTFOLIOS_SUCCESS",f="portfolio/SYNC_PORTFOLIOS_ERROR",h="portfolio/BACKTEST_REQUEST",m="portfolio/BACKTEST_REQUEST_SUCCESS",g="portfolio/BACKTEST_REQUEST_ERROR",v="portfolio/CHECK_BACKTEST_STATE",b="portfolio/CHECK_BACKTEST_STATE_SUCCESS",_="portfolio/CHECK_BACKTEST_STATE_ERROR",y="portfolio/LOAD_BACKTEST_OVERVIEW",E="portfolio/LOAD_BACKTEST_OVERVIEW_SUCCESS",S="portfolio/LOAD_BACKTEST_OVERVIEW_ERROR",C="portfolio/LOAD_USER_STRATEGIES_UNIVERSE",w="portfolio/LOAD_USER_STRATEGIES_UNIVERSE_SUCCESS",O="portfolio/LOAD_USER_STRATEGIES_UNIVERSE_ERROR",T="portfolio/CREATE_STRATEGY",P="portfolio/CREATE_STRATEGY_SUCCESS",k="portfolio/CREATE_STRATEGY_ERROR",I="portfolio/DELETE_STRATEGY_SUCCESS",A="portfolio/LOAD_PORTFOLIO_PERFORMANCE",x="portfolio/LOAD_PORTFOLIO_PERFORMANCE_SUCCESS",N="portfolio/LOAD_PORTFOLIO_PERFORMANCE_ERROR",D="portfolio/UPDATE_PORTFOLIO",R="portfolio/CREATE_REMOTE_PORTFOLIO",L="portfolio/CLOSE_REMOTE_PORTFOLIO_REQUEST",M="portfolio/CLOSE_REMOTE_PORTFOLIO_REQUEST_SUCCESS",j="portfolio/CLOSE_REMOTE_PORTFOLIO_REQUEST_ERROR",F="portfolio/POSITION_PORTFOLIO_METRICS",B="portfolio/BUILD_PORTFOLIO",U="portfolio/BUILD_PORTFOLIO_ERROR",V="portfolio/BUILD_PORTFOLIO_SUCCESS",z="portfolio/CREATE_LOCAL_PORTFOLIO",q="portfolio/UPDATE_LOCAL_PORTFOLIO",H="portfolio/DELETE_LOCAL_PORTFOLIO",$="portfolio/CHANGE_LOCAL_PORTFOLIO_NAME",G="portfolio/LOAD_LOCAL_PORTFOLIOS",W="portfolio/LOAD_LOCAL_PORTFOLIOS_SUCCESS",Y="portfolio/LOAD_LOCAL_PORTFOLIOS_ERROR",K="portfolio/LOAD_MIN_INVESTMENT_AMOUNT",X="portfolio/LOAD_MIN_INVESTMENT_AMOUNT_SUCCESS",Q="portfolio/LOAD_MIN_INVESTMENT_AMOUNT_ERROR",J="portfolio/PORTFOLIO_METRICS",Z="portfolio/CREATE_TEMPORARY_REMOTE_PORTFOLIO",ee="portfolio/CHANGE_TEMPORARY_REMOTE_PORTFOLIO",te="portfolio/CREATE_BACKTEST_WITH_OVERVIEW",ne="portfolio/LOAD_STATEMENT_URL",ie="portfolio/LOAD_STATEMENT_URL_SUCCESS",re="portfolio/LOAD_STATEMENT_URL_ERROR",oe="portfolio/PORTFOLIO_EMIT_EVENT",se="portfolio/UPDATE_FUNDED_PORTFOLIO",ae="portfolio/UPDATE_FUNDED_PORTFOLIO_SUCCESS",le="portfolio/UPDATE_FUNDED_PORTFOLIO_ERROR",ce="portfolio/SORT_PORTFOLIO"},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(187);i.exports=r}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){"use strict";n.r(t),n.d(t,"getUser",(function(){return h})),n.d(t,"getAccountMetrics",(function(){return m})),n.d(t,"getAccountSettings",(function(){return g})),n.d(t,"getUserPendingDeposit",(function(){return v})),n.d(t,"getUserRiskLevel",(function(){return b})),n.d(t,"getUserBalance",(function(){return _})),n.d(t,"getUserProfitLoss",(function(){return y})),n.d(t,"getUserBuyingPower",(function(){return E})),n.d(t,"getUserEquity",(function(){return S})),n.d(t,"getUserMaintenanceMargin",(function(){return C})),n.d(t,"getUserMarginUsed",(function(){return w})),n.d(t,"getAccountAvailableForWithdrawal",(function(){return O})),n.d(t,"getUserActiveBonusesAmount",(function(){return T})),n.d(t,"getUserAvailableBalanceForWithdrawal",(function(){return P})),n.d(t,"getUserLiquidationLevel",(function(){return k})),n.d(t,"getUserMarginAlertLevel2",(function(){return I})),n.d(t,"getUserMarginLevelRange",(function(){return A})),n.d(t,"isUserMarginLevelLow",(function(){return x})),n.d(t,"getFavoriteInstrumentSymbols",(function(){return N})),n.d(t,"getFavoritesInstrumentSymbolsAsArray",(function(){return D})),n.d(t,"getFavorites",(function(){return R})),n.d(t,"getTotalFavoritesCount",(function(){return L})),n.d(t,"getUserData",(function(){return M})),n.d(t,"getActiveCrmboAccount",(function(){return j})),n.d(t,"getActiveCrmboAccountId",(function(){return F})),n.d(t,"getUserPlatformType",(function(){return B})),n.d(t,"getUserInstrumentType",(function(){return U})),n.d(t,"getUserName",(function(){return V})),n.d(t,"getUserPlatformAccountId",(function(){return z})),n.d(t,"getUserCurrency",(function(){return q})),n.d(t,"getUserTradingType",(function(){return H})),n.d(t,"getUserDepositEnabled",(function(){return $})),n.d(t,"getUserBrandLogoFileName",(function(){return G})),n.d(t,"getUserCustomerId",(function(){return W})),n.d(t,"getUserTinData",(function(){return Y})),n.d(t,"getUserNationalCountryIdentifier",(function(){return K})),n.d(t,"isUserFromEuropeanEconomicAreaCountry",(function(){return X})),n.d(t,"isUserElectiveProfessionalEnabled",(function(){return Q})),n.d(t,"getUserStateActions",(function(){return J})),n.d(t,"isUserFullRegistrationCompleted",(function(){return Z})),n.d(t,"getUserFirstDeposit",(function(){return ee})),n.d(t,"isUserTradeEnabled",(function(){return te})),n.d(t,"isUserFirstDeposit",(function(){return ne})),n.d(t,"isUserForcePasswordChange",(function(){return ie})),n.d(t,"getUserComplianceStage",(function(){return re})),n.d(t,"isUserCompliance",(function(){return oe})),n.d(t,"isUserComplianceSuspended",(function(){return se})),n.d(t,"isUserLimitedCompliance",(function(){return ae})),n.d(t,"isUserPendingCompliance",(function(){return le})),n.d(t,"getUserComplianceSuspendedGround",(function(){return ce})),n.d(t,"isUserComplianceSuspendedGroundInactivity",(function(){return ue})),n.d(t,"isUserComplianceSuspendedGroundExpiration",(function(){return de})),n.d(t,"isUserComplianceSuspendedGroundOther",(function(){return pe})),n.d(t,"getUserPendingComplianceGround",(function(){return fe})),n.d(t,"isUserPendingComplianceGroundPendingECDD",(function(){return he})),n.d(t,"isUserPendingComplianceGroundPhoneVerification",(function(){return me})),n.d(t,"isUserNotEEACompliance",(function(){return ge})),n.d(t,"getUserDataTradingAccounts",(function(){return ve})),n.d(t,"getUserTradingAccounts",(function(){return be})),n.d(t,"getUserDataSaxoAccountsOnly",(function(){return _e})),n.d(t,"isSaxoAccountExists",(function(){return ye})),n.d(t,"getTradingAccountById",(function(){return Ee})),n.d(t,"getTradingAccountCurrencyById",(function(){return Se})),n.d(t,"getUserRegistrationData",(function(){return Ce})),n.d(t,"isUserPromotionMarketsX",(function(){return we})),n.d(t,"isUserCustomerSelectedCompany",(function(){return Oe})),n.d(t,"getUserExternalLogin",(function(){return Te})),n.d(t,"getUserComplianceData",(function(){return Pe})),n.d(t,"getUserConfirmCompanyMismatch",(function(){return ke})),n.d(t,"getUserQuantranksConsent",(function(){return Ie})),n.d(t,"isUserPendingConfirmSelectedCompany",(function(){return Ae})),n.d(t,"getUserBrandCompanyData",(function(){return xe})),n.d(t,"getUserPartnerCompanyNameKey",(function(){return Ne})),n.d(t,"getUserCustomerLevelGoalAlert",(function(){return De})),n.d(t,"getUserCustomerLevelGoalAlertLevel",(function(){return Re})),n.d(t,"isUserCustomerLevelGoalAlert",(function(){return Le})),n.d(t,"getUserTotalDoneDeposits",(function(){return Me})),n.d(t,"getUserMarketxThreshold",(function(){return je})),n.d(t,"getUserAdditionalDepositForMarketX",(function(){return Fe})),n.d(t,"getUserScoreLevel",(function(){return Be})),n.d(t,"getUserAffiliateId",(function(){return Ue})),n.d(t,"getUserPasswordHashObj",(function(){return Ve})),n.d(t,"getUserPersonalData",(function(){return ze})),n.d(t,"getUserPassword",(function(){return qe})),n.d(t,"getUserCountry",(function(){return He})),n.d(t,"getUserCitizenship",(function(){return $e})),n.d(t,"getUserFirstName",(function(){return Ge})),n.d(t,"getUserLastName",(function(){return We})),n.d(t,"getUserBirthDate",(function(){return Ye})),n.d(t,"getUserAddress",(function(){return Ke})),n.d(t,"getUserZipCode",(function(){return Xe})),n.d(t,"getUserCity",(function(){return Qe})),n.d(t,"getUserLanguage",(function(){return Je})),n.d(t,"getUserPhone",(function(){return Ze})),n.d(t,"getUserEmail",(function(){return et})),n.d(t,"getUserFormatedPersonalData",(function(){return tt})),n.d(t,"isUserBonusRestrictedCountries",(function(){return nt})),n.d(t,"isUserInstrumentTypeOf",(function(){return it})),n.d(t,"isUserLoggedInQuantRankAccount",(function(){return rt})),n.d(t,"getCurrentLeverage",(function(){return ot})),n.d(t,"getLeverages",(function(){return st}));var i=n(1),r=n.n(i),o=n(2),s=n(9),a=n.n(s),l=n(63),c=n(3),u=n(42),d=n(23),p=n(393),f=n(263),h=function(e){return e.user},m=Object(o.a)(h,(function(e){return e.ACCOUNT_METRICS})),g=Object(o.a)(h,(function(e){return e.ACCOUNT_SETTINGS})),v=Object(o.a)(h,(function(e){return e.pendingDeposit})),b=Object(o.a)(m,(function(e){var t=Math.round(e.riskLevel);return r.a.isNaN(t)||Math.abs(t)===l.MARGIN_VALUES.RISK_LEVEL_MAX?null:t})),_=Object(o.a)(m,(function(e){return e.balance})),y=Object(o.a)(m,(function(e){return e.profitLoss})),E=Object(o.a)(m,(function(e){return e.buyingPower})),S=Object(o.a)(m,(function(e){return e.equity})),C=Object(o.a)(m,(function(e){return e.maintenanceMargin})),w=Object(o.a)(m,(function(e){return e.margin})),O=Object(o.a)(m,(function(e){return e.availableBalanceForWithdrawal})),T=Object(o.a)(m,(function(e){return e.activeBonusesAmount})),P=Object(o.a)([O,T,v],p.calcAvailableForWithdrawal),k=Object(o.a)(g,(function(e){return e.liquidationLevel})),I=Object(o.a)(g,(function(e){return e.marginAlertLevel2})),A=Object(o.a)(b,(function(e){return e||(e=l.MARGIN_VALUES.RISK_LEVEL_MAX),e>=l.MARGIN_VALUES.MARGIN_LEVEL_OK?l.MARGIN_VALUES.MARGIN_LEVEL_OK:l.MARGIN_VALUES.MARGIN_LEVEL_2<e&&e<=l.MARGIN_VALUES.MARGIN_LEVEL_1?l.MARGIN_VALUES.MARGIN_LEVEL_1:l.MARGIN_VALUES.LIQUIDATION_LEVEL_BUFFER<e&&e<=l.MARGIN_VALUES.MARGIN_LEVEL_2?l.MARGIN_VALUES.MARGIN_LEVEL_2:l.MARGIN_VALUES.LIQUIDATION_LEVEL<=e&&e<=l.MARGIN_VALUES.LIQUIDATION_LEVEL_BUFFER?l.MARGIN_VALUES.LIQUIDATION_LEVEL_BUFFER:e<l.MARGIN_VALUES.LIQUIDATION_LEVEL?l.MARGIN_VALUES.LIQUIDATION_LEVEL:void 0})),x=Object(o.a)(A,(function(e){return e<=l.MARGIN_VALUES.MARGIN_LEVEL_2})),N=Object(o.a)(h,(function(e){return e.favoriteInstrumentSymbols})),D=Object(o.a)(N,(function(e){return r.a.keys(e)})),R=Object(o.a)(h,(function(e){return e.favorites})),L=Object(o.a)(D,(function(e){return e.length})),M=Object(o.a)(h,(function(e){return e.USER_DATA})),j=Object(o.a)(M,(function(e){return(a.a.isLive()?e.cosmosRealAccount:e.cosmosDemoAccount)||u.b})),F=Object(o.a)(j,(function(e){return e.id})),B=Object(o.a)(j,(function(e){return e.tradePlatformType})),U=Object(o.a)(j,(function(e){return e.tradingAccountInstrumentType})),V=Object(o.a)(j,(function(e){return e.userName})),z=Object(o.a)(j,(function(e){return e.platformAccountId})),q=Object(o.a)(j,(function(e){return e.currency})),H=Object(o.a)([B,U],(function(e,t){var n=c.PLATFORM_ID_TO_TYPE[e];return e===c.PLATFORM_TYPE_ID.COSMOS&&(n=t),c.ACCOUNT_TRADING_TYPE[n]||""})),$=Object(o.a)(M,(function(e){return e.depositActionEnabled})),G=Object(o.a)(M,(function(e){return e.brandLogoFileName})),W=Object(o.a)(M,(function(e){return e.id})),Y=Object(o.a)(M,(function(e){return e.tinData||u.b})),K=Object(o.a)(Y,(function(e){return e.nationalCountryIdentifier})),X=Object(o.a)(M,(function(e){return e.europeanEconomicAreaCountry})),Q=Object(o.a)(M,(function(e){return e.electiveProfessionalEnabled})),J=Object(o.a)(M,(function(e){return e.stateActions||u.b})),Z=Object(o.a)(J,(function(e){return e.fullRegistrationComplete})),ee=Object(o.a)(J,(function(e){return e.firstDepositDone})),te=Object(o.a)(J,(function(e){return e.tradeEnabled})),ne=Object(o.a)(ee,(function(e){return!0===e})),ie=Object(o.a)(M,(function(e){return e.requestPasswordChange})),re=Object(o.a)(M,(function(e){return e.complianceStage})),oe=Object(o.a)(re,(function(e){return e===c.COMPLIANCE_STAGE.COMPLIANT})),se=Object(o.a)(re,(function(e){return e===c.COMPLIANCE_STAGE.SUSPENDED})),ae=Object(o.a)(re,(function(e){return e===c.COMPLIANCE_STAGE.LIMITED})),le=Object(o.a)(re,(function(e){return e===c.COMPLIANCE_STAGE.PENDING})),ce=Object(o.a)(M,(function(e){return e.complianceSuspendedGround})),ue=Object(o.a)([se,ce],(function(e,t){return e&&t===c.COMPLIANCE_SUSPENDED_GROUND.INACTIVITY})),de=Object(o.a)([se,ce],(function(e,t){return e&&t===c.COMPLIANCE_SUSPENDED_GROUND.EXPIRATION})),pe=Object(o.a)([se,ue,de],(function(e,t,n){return e&&!t&&!n})),fe=Object(o.a)(M,(function(e){return e.pendingComplianceGround})),he=Object(o.a)([le,fe],(function(e,t){return e&&t===c.PENDING_COMPLIANCE_GROUND.PENDING_ECDD})),me=Object(o.a)([le,fe],(function(e,t){return e&&t===c.PENDING_COMPLIANCE_GROUND.PENDING_PHONE_VERIFICATION})),ge=Object(o.a)([oe,se,X],(function(e,t,n){return!e&&!t&&n})),ve=Object(o.a)(M,(function(e){return e.tradingAccounts||u.a})),be=Object(o.a)(ve,(function(e){return r.a.map(e,(function(e){return e.accountId=String(e.id),e}))})),_e=Object(o.a)(be,(function(e){return r.a.where(e,{tradingAccountInstrumentType:c.ACCOUNT_TRADING_TYPE.SHARE_DEALING})})),ye=Object(o.a)(_e,(function(e){return!r.a.isEmpty(e)})),Ee=Object(o.a)([be,d.a],(function(e,t){return r.a.find(e,(function(e){return String(e.id)===String(t)}))||u.b})),Se=Object(o.a)(Ee,(function(e){return e.currency})),Ce=Object(o.a)(M,(function(e){return e.registrationData||u.b})),we=Object(o.a)(Ce,(function(e){return!r.a.isUndefined(e.marketingPromotion)})),Oe=Object(o.a)(Ce,(function(e){return!0===e.companySelection})),Te=Object(o.a)(Ce,(function(e){return e.externalLogin})),Pe=Object(o.a)(M,(function(e){return e.complianceData||u.b})),ke=Object(o.a)(Pe,(function(e){return e.confirmCompanyMismatch})),Ie=Object(o.a)(Pe,(function(e){return e.quantranksConsent})),Ae=Object(o.a)(ke,(function(e){return e===c.PENDING})),xe=Object(o.a)(M,(function(e){return e.brandCompanyData||u.b})),Ne=Object(o.a)(xe,(function(e){return e.partnerCompanyNameKey})),De=Object(o.a)(M,(function(e){return e.customerLevelGoalAlert||u.b})),Re=Object(o.a)(De,(function(e){return e.level})),Le=Object(o.a)(Re,(function(e){return e||!1})),Me=Object(o.a)(De,(function(e){return e.totalDoneDeposits||null})),je=Object(o.a)(De,(function(e){return e.threshold||null})),Fe=Object(o.a)([je,Me],(function(e,t){return r.a.isNull(e)||r.a.isNull(t)?null:e-t})),Be=Object(o.a)(M,(function(e){return e.ascoreLevel})),Ue=Object(o.a)(M,(function(e){return e.affiliateId})),Ve=Object(o.a)(M,(function(e){return e.passwordHash||u.b})),ze=Object(o.a)(M,(function(e){return e.personalData||u.b})),qe=Object(o.a)(Ve,(function(e){return e.hashedPassword})),He=Object(o.a)(ze,(function(e){return e["person.country"]})),$e=Object(o.a)(ze,(function(e){return e["person.citizenship"]})),Ge=Object(o.a)(ze,(function(e){return e["person.firstName"]})),We=Object(o.a)(ze,(function(e){return e["person.lastName"]})),Ye=Object(o.a)(ze,(function(e){return e["person.birthDate"]})),Ke=Object(o.a)(ze,(function(e){return e["person.address.address"]})),Xe=Object(o.a)(ze,(function(e){return e["person.address.zipCode"]})),Qe=Object(o.a)(ze,(function(e){return e["person.address.city"]})),Je=Object(o.a)(ze,(function(e){return e["person.language"]})),Ze=Object(o.a)(ze,(function(e){return e["person.phone1.num"]})),et=Object(o.a)(ze,(function(e){return e["person.email1.emailAddress"]})),tt=Object(o.a)([Qe,Ke,Xe,Ye,We,Ge,$e,He,qe,Je,W,Ue,Ze,et],(function(e,t,n,i,r,o,s,a,l,c,u,d,p,f){return{city:e,zip:n,address:t,birthDate:i,lastName:r,firstName:o,citizenship:s,country:a,password:l,language:c,id:u,affilatedId:d,phone:p,email:f}})),nt=Object(o.a)(M,(function(e){return e.inBonusRestrictedCountries})),it=Object(o.a)([U,d.a],(function(e,t){return e===t})),rt=Object(o.a)([U,f.isPortfolioEnabled],(function(e,t){return e===c.ACCOUNT_TRADING_TYPE.QUANT_RANKS&&t})),ot=Object(o.a)(h,(function(e){return r.a.isObject(e.leverages.data)&&e.leverages.data.currentLeverage})),st=Object(o.a)(h,(function(e){return r.a.isObject(e.leverages.data)&&e.leverages.data.leverageLevels}))},function(e,t,n){"use strict";n.d(t,"s",(function(){return i})),n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"r",(function(){return s})),n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return l})),n.d(t,"q",(function(){return c})),n.d(t,"n",(function(){return u})),n.d(t,"m",(function(){return d})),n.d(t,"l",(function(){return p})),n.d(t,"k",(function(){return f})),n.d(t,"j",(function(){return h})),n.d(t,"p",(function(){return m})),n.d(t,"h",(function(){return g})),n.d(t,"o",(function(){return v})),n.d(t,"i",(function(){return b})),n.d(t,"D",(function(){return _})),n.d(t,"a",(function(){return y})),n.d(t,"c",(function(){return E})),n.d(t,"b",(function(){return S})),n.d(t,"u",(function(){return C})),n.d(t,"t",(function(){return w})),n.d(t,"v",(function(){return O})),n.d(t,"C",(function(){return T})),n.d(t,"A",(function(){return P})),n.d(t,"B",(function(){return k})),n.d(t,"z",(function(){return I})),n.d(t,"y",(function(){return A})),n.d(t,"x",(function(){return x})),n.d(t,"w",(function(){return N}));var i="notificationCenterReducer/POPUP_STATE",r="notificationCenterReducer/MESSAGES_ADD_OLD",o="notificationCenterReducer/MESSAGES_ADD_NEW",s="notificationCenterReducer/MESSAGES_VIEW",a="notificationCenterReducer/MESSAGES_COUNT_UNREAD",l="notificationCenterReducer/MESSAGES_COUNT_NEW",c="notificationCenterReducer/MESSAGES_UNSELECT_ALL",u="notificationCenterReducer/MESSAGES_SELECT_ALL",d="notificationCenterReducer/MESSAGES_SELECT",p="notificationCenterReducer/MESSAGES_SEEN_RESET_SUCCESS",f="notificationCenterReducer/MESSAGES_SEEN_RESET_LOADING",h="notificationCenterReducer/MESSAGES_SEEN_RESET_ERROR",m="notificationCenterReducer/MESSAGES_UNSELECT",g="notificationCenterReducer/MESSAGES_READ",v="notificationCenterReducer/MESSAGES_UNREAD",b="notificationCenterReducer/MESSAGES_READ_SELECTED",_="notificationCenterReducer/TAB_MESSAGES_VIEW",y="notificationCenterReducer/GARBAGE_ADD",E="notificationCenterReducer/GARBAGE_RESTORE",S="notificationCenterReducer/GARBAGE_FLUSH",C="notificationCenterReducer/SET_ACTIVE_TAB",w="notificationCenterReducer/SET_ACTIVE_MESSAGE",O="notificationCenterReducer/SET_IS_ACTIVE_MESSAGE_VISIBLE",T="notificationCenterReducer/TAB_CHECKBOX_CHECK",P="notificationCenterReducer/STATUS_MESSAGES_LOADING",k="notificationCenterReducer/STATUS_MESSAGES_SUCCESS",I="notificationCenterReducer/STATUS_MESSAGES_ERROR",A="notificationCenterReducer/STATUS_API_SUCCESS",x="notificationCenterReducer/STATUS_API_PENDING",N="notificationCenterReducer/STATUS_API_ERROR"},,function(e,t,n){"use strict";var i=n(635),r=n(249),o=n(248),s=n(0),a=n.n(s),l=n(325),c=n.n(l),u=n(7),d=n.n(u),p=(n(1368),n(15)),f=n.n(p),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={sliderWidth:1},f()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),h(t,[{key:"componentDidMount",value:function(){var e=this.refs.container.clientWidth-2;this.sliderDefaultDeltaWidth=window.innerWidth-e,this.setSliderWidth(e),window.addEventListener("resize",this.onWindowResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onWindowResize)}},{key:"onWindowResize",value:function(){this.setSliderWidth(window.innerWidth-this.sliderDefaultDeltaWidth)}},{key:"setSliderWidth",value:function(e){this.setState({sliderWidth:e})}},{key:"render",value:function(){var e,t,n,i=this.props,r=i.children,o=i.className,s=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(i,["children","className"]),l=this.state.sliderWidth;return a.a.createElement("div",{className:d()((e={"slider-component":!0},t=o,n=!!o,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e)),ref:"container"},a.a.createElement("div",{style:{maxWidth:l}},a.a.createElement(c.a,s,r)))}}]),t}(a.a.Component);m.defaultProps={nextArrow:a.a.createElement(r.a,null),prevArrow:a.a.createElement(o.a,null),dots:!1,infinite:!1,adaptiveHeight:!1};var g=m,v=n(84),b=(n(138),n(336)),_=n(369),y=n(32),E=n.n(y),S=n(3);n(1374);var C=function(e){var t,n,i,r=e.rating,o=e.className,s=e.size,l=void 0===s?S.MAX_RATING_VALUE:s;return a.a.createElement("div",{className:d()((t={"rating-stars":!0},n=o,i=!!o,n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t))},a.a.createElement("div",{className:"rating-stars__fill",style:{width:E()(r/l).toPercent()}}))},w=(n(91),n(1375),function(e){var t=e.consensus,n=e.bullishRatio;switch(t){case S.SENTIMENT_BULLISH:"long","bloggers.bullish","icon-bullish";break;case S.SENTIMENT_BEARISH:"short","bloggers.bearish","icon-bearish";break;default:"hold","sentiment.hold",""}var i=E()(1-n).toPercent(0),r=E()(n).toPercent(0);return a.a.createElement("div",{className:"consensus-container"},a.a.createElement("div",{className:"consensus-graph"},a.a.createElement("div",{className:"consensus-bearish"},a.a.createElement("i",{className:"icon icon-bearish"}),a.a.createElement("div",null,__("bloggers.bearish")),a.a.createElement("div",null,i)),a.a.createElement("div",{className:"bar"},a.a.createElement("b",{style:{width:i}}),a.a.createElement("i",{style:{width:r}})),a.a.createElement("div",{className:"consensus-bullish"},a.a.createElement("i",{className:"icon icon-bullish"}),a.a.createElement("div",null,__("bloggers.bullish")),a.a.createElement("div",null,r))))}),O=n(149),T=n(31),P=n(44),k=n(293),I=(n(1377),function(e){var t=e.children;return a.a.createElement("div",{className:"settings-description"},t)}),A=(n(1378),function(e){var t=e.children,n=e.className,i=void 0===n?"":n;return a.a.createElement("div",{className:"settings-template "+i},t)}),x=(n(1379),function(e){var t=e.children;return a.a.createElement("div",{className:"settings-title"},t)});n.d(t,"c",(function(){return i.a})),n.d(t,"l",(function(){return g})),n.d(t,"m",(function(){return v.d})),n.d(t,"o",(function(){return v.a})),n.d(t,"q",(function(){return v.c})),n.d(t,"p",(function(){return v.b})),n.d(t,"b",(function(){return b.a})),n.d(t,"n",(function(){return _.a})),n.d(t,"f",(function(){return C})),n.d(t,"a",(function(){return w})),n.d(t,"e",(function(){return O.a})),n.d(t,"g",(function(){return T.default})),n.d(t,"d",(function(){return P.default})),n.d(t,"h",(function(){return k.a})),n.d(t,"i",(function(){return I})),n.d(t,"j",(function(){return A})),n.d(t,"k",(function(){return x}))},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(1),s=n.n(o),a=n(33),l=n(71),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.updateDimensions=s.a.debounce((function(){e._mounted&&e.setState({width:a.default.getSize().width,orientation:a.default.getOrientation()})}),300),e.state={width:a.default.getSize().width,orientation:a.default.getOrientation()},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"componentDidMount",value:function(){this._mounted=!0,window.addEventListener("resize",this.updateDimensions),this.updateDimensions.cancel()}},{key:"componentWillUnmount",value:function(){this._mounted=!1,window.removeEventListener("resize",this.updateDimensions)}},{key:"render",value:function(){var e=this.props,t=e.maxWidth,n=e.minWidth,i=e.onlyDesktop,r=e.onlyTablet,o=e.onlyMobile,s=e.desktop,c=e.tablet,u=e.mobile,d=e.landscape,p=e.portrait,f=e.children,h=this.state,m=h.width,g=h.orientation;function v(){return d?"landscape"===g?f:null:p?"portrait"===g?f:null:f}function b(){return n||t?t&&n?n<=m&&t>=m?v():null:t&&!n?t>=m?v():null:!t&&n?n<=m?v():null:void 0:v()}return i?l.default.desktop()?b():null:r?l.default.tablet()?b():null:o?l.default.mobile()?b():null:s&&a.default.desktop()?b():c&&a.default.tablet()?b():u&&a.default.mobile()?b():s||c||u||!(d||p||t||n)?null:b()}}]),t}(r.a.Component);t.default=u},,function(e,t,n){"use strict";n.r(t);var i=n(1),r=n.n(i),o=n(71),s=n(3),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var l=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.updateWindowWidth=r.a.debounce((function(){t.windowWidth=t.getSize().width}),200),window.addEventListener("resize",this.updateWindowWidth),this.windowWidth=this.getSize().width}return a(e,[{key:"getSize",value:function(){var e=document.documentElement,t=document.getElementsByTagName("body")[0];return{width:window.innerWidth||e.clientWidth||t.clientWidth,height:window.innerHeight||e.clientHeight||t.clientHeight}}},{key:"getOrientation",value:function(){return this.getSize().width>this.getSize().height?"landscape":"portrait"}},{key:"desktop",value:function(){return!this.tablet()&&!this.mobile()}},{key:"tablet",value:function(){return o.default.tablet()||o.default.desktop()&&this.windowWidth>=s.BREAKPOINT_SCREEN_SM_MAX&&this.windowWidth<s.BREAKPOINT_SCREEN_LG_MAX}},{key:"mobile",value:function(){return o.default.mobile()||this.windowWidth<s.BREAKPOINT_SCREEN_SM_MAX}}]),e}();t.default=new l},function(e,t,n){"use strict";n.d(t,"n",(function(){return i})),n.d(t,"s",(function(){return r})),n.d(t,"u",(function(){return o})),n.d(t,"t",(function(){return s})),n.d(t,"H",(function(){return a})),n.d(t,"G",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"m",(function(){return f})),n.d(t,"A",(function(){return h})),n.d(t,"B",(function(){return m})),n.d(t,"L",(function(){return g})),n.d(t,"D",(function(){return v})),n.d(t,"F",(function(){return b})),n.d(t,"E",(function(){return _})),n.d(t,"I",(function(){return y})),n.d(t,"K",(function(){return E})),n.d(t,"J",(function(){return S})),n.d(t,"x",(function(){return C})),n.d(t,"z",(function(){return w})),n.d(t,"y",(function(){return O})),n.d(t,"o",(function(){return T})),n.d(t,"q",(function(){return P})),n.d(t,"p",(function(){return k})),n.d(t,"v",(function(){return I})),n.d(t,"a",(function(){return A})),n.d(t,"C",(function(){return x})),n.d(t,"r",(function(){return N})),n.d(t,"b",(function(){return D})),n.d(t,"g",(function(){return R})),n.d(t,"N",(function(){return L})),n.d(t,"M",(function(){return M})),n.d(t,"w",(function(){return j})),n.d(t,"i",(function(){return F})),n.d(t,"h",(function(){return B})),n.d(t,"j",(function(){return U})),n.d(t,"k",(function(){return V})),n.d(t,"l",(function(){return z}));var i="webinarsReducer/INIT_WEBINARS",r="webinarsReducer/LOAD_WEBINARS",o="webinarsReducer/LOAD_WEBINARS_SUCCESS",s="webinarsReducer/LOAD_WEBINARS_ERROR",a="webinarsReducer/SWITCH_WEBINARS_LIST_VIEW",l="webinarsReducer/SWITCH_WEBINARS_CALENDAR_VIEW",c="webinarsReducer/CHANGE_SELECTED_DATE",u="webinarsReducer/CHANGE_SELECTED_SMALL_CALENDAR_DATE",d="webinarsReducer/CHANGE_SELECTED_VIEW",p="webinarsReducer/CHANGE_SELECTED_EVENT",f="webinarsReducer/EXTEND_EVENTS",h="webinarsReducer/SELECT_NEXT_PAST_EVENT",m="webinarsReducer/SELECT_PREV_PAST_EVENT",g="webinarsReducer/WATCH_WEBINAR",v="webinarsReducer/SUBSCRIBE_WEBINAR",b="webinarsReducer/SUBSCRIBE_WEBINAR_SUCCESS",_="webinarsReducer/SUBSCRIBE_WEBINAR_ERROR",y="webinarsReducer/UNSUBSCRIBE_WEBINAR",E="webinarsReducer/UNSUBSCRIBE_WEBINAR_SUCCESS",S="webinarsReducer/UNSUBSCRIBE_WEBINAR_ERROR",C="webinarsReducer/PREMIUM_WEBINARS_CHECKER_REQUEST",w="webinarsReducer/PREMIUM_WEBINARS_CHECKER_REQUEST_SUCCESS",O="webinarsReducer/PREMIUM_WEBINARS_CHECKER_REQUEST_ERROR",T="webinarsReducer/JOIN_WEBINAR",P="webinarsReducer/JOIN_WEBINAR_SUCCESS",k="webinarsReducer/JOIN_WEBINAR_ERROR",I="webinarsReducer/MOBILE_SMALL_CALENDAR_ACTION",A="webinarsReducer/APPLY_FILTER",x="webinarsReducer/SPLIT_EVENTS",N="LIST",D="CALENDAR",R="DAY",L="WORK_WEEK",M="WEEK",j="MONTH",F="past",B="live",U="premium",V="soon",z="upcoming"},function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"o",(function(){return r})),n.d(t,"n",(function(){return o})),n.d(t,"r",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"i",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"w",(function(){return u})),n.d(t,"x",(function(){return d})),n.d(t,"I",(function(){return p})),n.d(t,"J",(function(){return f})),n.d(t,"h",(function(){return h})),n.d(t,"c",(function(){return m})),n.d(t,"E",(function(){return g})),n.d(t,"k",(function(){return v})),n.d(t,"H",(function(){return b})),n.d(t,"C",(function(){return _})),n.d(t,"e",(function(){return y})),n.d(t,"a",(function(){return E})),n.d(t,"G",(function(){return S})),n.d(t,"g",(function(){return C})),n.d(t,"m",(function(){return w})),n.d(t,"q",(function(){return O})),n.d(t,"l",(function(){return T})),n.d(t,"y",(function(){return P})),n.d(t,"B",(function(){return k})),n.d(t,"z",(function(){return I})),n.d(t,"j",(function(){return A})),n.d(t,"D",(function(){return x})),n.d(t,"p",(function(){return N})),n.d(t,"t",(function(){return D})),n.d(t,"s",(function(){return R})),n.d(t,"A",(function(){return L})),n.d(t,"v",(function(){return M})),n.d(t,"F",(function(){return j})),n.d(t,"u",(function(){return F}));var i="ui/INIT_APP_UI",r="ui/SELECT_INSTRUMENT_CATEGORY_TREE_PATH",o="ui/SELECT_INSTRUMENT_CATEGORY_SYMBOL",s="ui/SET_INSTRUMENT_DETAILS_SYMBOL",a="ui/CLEAR_INSTRUMENT_DETAILS_SYMBOL",l="ui/OPEN_INSTRUMENT_DETAILS",c="ui/CLOSE_INSTRUMENT_DETAILS",u="ui/SET_SECTION",d="ui/SET_SECTION_TO_PREVIOUS",p="ui/UPDATE_HEADER",f="ui/UPDATE_INSTRUMENT_CATEGORY_SYMBOLS",h="ui/OPEN_ASIDE_BOX",m="ui/CLOSE_ASIDE_BOX",g="ui/TOGGLE_ASIDE_BOX",v="ui/RESIZE_CHART",b="ui/UPDATE_CHART_STATE",_="ui/SHOW_CHART",y="ui/HIDE_CHART",E="ui/CHANGE_INSTRUMENT_INFO_VISIBILITY",S="ui/UPDATE_CATEGORY_SECTIONS",C="ui/NAVIGATE_BY_SELECTED_CATEGORY_PATH",w="ui/SELECT_FIRST_SYMBOL_IN_SYMBOL_LIST",O="ui/SELECT_TAB_IN_INSTRUMENT_DETAILS",T="ui/SELECTED_TAB_IN_MANAGE_ACCOUNTS",P="ui/SET_SELECTED_SIGNAL_BOX_SOURCE",k="ui/SHOULD_INSTRUMENT_BE_CENTERED",I="ui/SET_SYMBOLS_SORT",A="ui/RESET_SYMBOLS_SORT",x="ui/SORT_SELECTED_CATEGORY_SYMBOLS",N="ui/SELECT_INSTRUMENT_NEWS_ID",D="ui/SET_INSTRUMENT_TREE_CATEGORY_STATE",R="ui/SET_INSTRUMENT_EXPANDED",L="ui/SET_WEBINAR_TOOLTIP",M="ui/SET_OPEN_POSITION_PL_TYPE",j="ui/TOGGLE_OPEN_POSITION_PL_TYPE",F="ui/SET_MULTI_CHARTS_ENABLED"},,,function(e,t,n){"use strict";n.d(t,"k",(function(){return i})),n.d(t,"l",(function(){return r})),n.d(t,"B",(function(){return o})),n.d(t,"j",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return l})),n.d(t,"i",(function(){return c})),n.d(t,"u",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"H",(function(){return h})),n.d(t,"r",(function(){return m})),n.d(t,"o",(function(){return g})),n.d(t,"z",(function(){return v})),n.d(t,"G",(function(){return b})),n.d(t,"p",(function(){return _})),n.d(t,"s",(function(){return y})),n.d(t,"w",(function(){return E})),n.d(t,"x",(function(){return S})),n.d(t,"C",(function(){return C})),n.d(t,"n",(function(){return w})),n.d(t,"m",(function(){return O})),n.d(t,"J",(function(){return T})),n.d(t,"q",(function(){return P})),n.d(t,"A",(function(){return k})),n.d(t,"t",(function(){return I})),n.d(t,"I",(function(){return A})),n.d(t,"y",(function(){return x})),n.d(t,"v",(function(){return N})),n.d(t,"D",(function(){return D})),n.d(t,"F",(function(){return R})),n.d(t,"E",(function(){return L})),n.d(t,"b",(function(){return M})),n.d(t,"d",(function(){return j})),n.d(t,"c",(function(){return F}));var i="user/UPDATE_ACCOUNT_METRICS",r="user/UPDATE_ACCOUNT_SETTINGS",o="user/UPDATE_PENDING_DEPOSIT",s="user/TOTALS",a="user/ADD_FAVORITE_INSTRUMENT",l="user/REMOVE_FAVORITE_INSTRUMENT",c="user/SET_FAVORITE_INSTRUMENTS",u="user/UPDATE_FAVORITES",d="user/SAVE_FAVORITES",p="user/SAVE_FAVORITES_SUCCESS",f="user/SAVE_FAVORITES_ERROR",h="user/UPDATE_USER_DATA",m="user/UPDATE_CONFIRM_COMPANY_MISMATCH",g="user/UPDATE_BRAND_COMPANY_DATA",v="user/UPDATE_PARTNER_COMPANY_NAME_KEY",b="user/UPDATE_SCORE_LEVEL",_="user/UPDATE_CITIZENSHIP",y="user/UPDATE_COUNTRY",E="user/UPDATE_FIRST_NAME",S="user/UPDATE_LAST_NAME",C="user/UPDATE_PHONE",w="user/UPDATE_BIRTH_DATE",O="user/UPDATE_ADDRESS",T="user/UPDATE_ZIP_CODE",P="user/UPDATE_CITY",k="user/UPDATE_PASSWORD",I="user/UPDATE_EMAIL",A="user/UPDATE_USER_LANGUAGE",x="user/UPDATE_NATIONAL_COUNTRY_IDENTIFIER",N="user/UPDATE_FIRST_DEPOSIT",D="user/UPDATE_QUANTRANKS_CONSENT",R="user/UPDATE_QUANTRANKS_CONSENT_SUCCESS",L="user/UPDATE_QUANTRANKS_CONSENT_ERROR",M="user/LOAD_LEVERAGES",j="user/LOAD_LEVERAGES_SUCCESS",F="user/LOAD_LEVERAGES_ERROR"},function(e,t,n){"use strict";n.r(t),n.d(t,"garbageAdd",(function(){return f})),n.d(t,"garbageAddMultiple",(function(){return h})),n.d(t,"garbageFlush",(function(){return m})),n.d(t,"garbageRestore",(function(){return g})),n.d(t,"messagesAddOld",(function(){return v})),n.d(t,"messageRead",(function(){return b})),n.d(t,"messagesRead",(function(){return _})),n.d(t,"messageUnread",(function(){return y})),n.d(t,"messagesReadSelected",(function(){return E})),n.d(t,"messagesAddNew",(function(){return S})),n.d(t,"messagesSeenReset",(function(){return C})),n.d(t,"messageView",(function(){return w})),n.d(t,"messageSelect",(function(){return O})),n.d(t,"messagesSelectAll",(function(){return T})),n.d(t,"messageUnselect",(function(){return P})),n.d(t,"messagesUnselectAll",(function(){return k})),n.d(t,"setOpenPopupState",(function(){return I})),n.d(t,"setActiveTab",(function(){return A})),n.d(t,"setActiveMessage",(function(){return x})),n.d(t,"setIsActiveMessageVisible",(function(){return N})),n.d(t,"setTypeMessagesCountUnread",(function(){return D})),n.d(t,"setTypeMessagesCountNew",(function(){return R})),n.d(t,"updateSelectAllCheckboxState",(function(){return L})),n.d(t,"messagesAddOldRequest",(function(){return M})),n.d(t,"messageReadRequest",(function(){return j})),n.d(t,"messagesReadRequest",(function(){return F})),n.d(t,"messageUnreadRequest",(function(){return B})),n.d(t,"messagesSeenRequest",(function(){return U})),n.d(t,"messagesToggleReadSelectedRequest",(function(){return V}));var i=n(28),r=n(8),o=n.n(r),s=n(189),a=n(21),l=n(1),c=n.n(l),u=n(50),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function p(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function f(e,t){return function(n){n({type:i.a,payload:{messageType:e,array:[t]}}),n(s._debounceFlushRequest),n(L())}}function h(e,t){return function(n){n({type:i.a,payload:{messageType:e,array:t}}),n(s._debounceFlushRequest),n(L(a.TAB_CHECKBOX_UNCHECKED))}}function m(){return{type:i.b}}function g(){return function(e){s._debounceFlushRequest.cancel(),e({type:i.c}),e(L())}}function v(e,t){return{type:i.e,payload:{messageType:e,array:t}}}function b(e,t){return{type:i.h,payload:{messageType:e,array:[t]}}}function _(e,t){return{type:i.h,payload:{messageType:e,array:t}}}function y(e,t){return{type:i.o,payload:{messageType:e,array:[t]}}}function E(e,t){return{type:i.i,payload:{messageType:e,isRead:t}}}function S(e,t){return function(n){n({type:i.d,payload:{messageType:e,array:t}}),n(L())}}function C(e){return{type:i.l,payload:{messageType:e}}}function w(e,t){return function(n,r){var o=r().notificationCenter[e].newIds;o.count&&c.a.contains(o.list,t)&&(e===a.TYPE_PERSONAL&&n(s._debouncePersonalSeenRequest),n(s._debouncePlatformSeenRequest),n({type:i.r,payload:{messageType:e,array:[t]}}))}}function O(e,t){return function(n){n({type:i.m,payload:{messageType:e,array:[t]}}),n(L())}}function T(e,t){return function(n){n({type:i.n,payload:{messageType:e,selected:t}}),n(L())}}function P(e,t){return function(n){n({type:i.p,payload:{messageType:e,array:[t]}}),n(L())}}function k(){return function(e){e({type:i.q}),e(L())}}function I(e){return function(t,n){Object(u.l)(n())!==e&&t({type:i.s,payload:e})}}function A(e){return function(t,n){t({type:i.u,payload:e}),Object(u.k)(n())&&t(N(!1))}}function x(e,t){return function(n){var r=t?d({},t,{type:e}):null;n({type:i.t,payload:r}),t&&!t.isRead&&n(j(e,t.id)),t&&t.isNew&&n(w(e,t.id))}}function N(e){return{type:i.v,payload:e}}function D(e,t){return{type:i.g,payload:{messageType:e,count:t}}}function R(e,t){return{type:i.f,payload:{messageType:e,count:t}}}function L(e){return{type:i.C,payload:e}}function M(e,t,n){return function(r){r({types:[i.A,i.B,i.z],callApi:function(){return Object(s.getMessagesService)(e,t,n).then((function(t){try{var n=JSON.parse(t.data),i=c.a.map(n,(function(t){return Object(s.switchMessageAdaptorService)(e,t)}));r(v(e,i))}catch(t){return Promise.reject("Unable to exec "+e+" response")}})).catch((function(e){}))},shouldCallApi:function(){return!!n}})}}function j(e,t){return function(n){n({types:[i.x,i.y,i.w],callApi:function(){return o.a.setNotificationCenterAction(a.API_ACTION_READ,e,{messageIds:[t]}).then((function(){n(b(e,t))})).catch((function(e){}))},shouldCallApi:function(){return!!t}})}}function F(e,t){return function(n){n({types:[i.x,i.y,i.w],callApi:function(){return o.a.setNotificationCenterAction(a.API_ACTION_READ,e,{messageIds:t}).then((function(){n(_(e,t))})).catch((function(e){}))},shouldCallApi:function(){return!c.a.isEmpty(t)}})}}function B(e,t){return function(n){n({types:[i.x,i.y,i.w],callApi:function(){return o.a.setNotificationCenterAction(a.API_ACTION_UNREAD,e,{messageIds:[t]}).then((function(){n(y(e,t))})).catch((function(e){}))},shouldCallApi:function(){return!!t}})}}function U(e,t){return function(n){n({types:[i.k,i.l,i.j],callApi:function(){return o.a.setNotificationCenterAction(a.API_ACTION_SEEN,e,{messageIds:t})},additionalData:{messageType:e},shouldCallApi:function(){return!c.a.isEmpty(t)}})}}function V(e,t){return function(n,r){var s=t?a.API_ACTION_READ:a.API_ACTION_UNREAD,l=r().notificationCenter[e].marked;n({types:[i.x,i.y,i.w],callApi:function(){return o.a.setNotificationCenterAction(s,e,{messageIds:[].concat(p(l.list))}).then((function(){n(E(e,t))})).catch((function(e){}))},shouldCallApi:function(){return!c.a.isNil(t)||!!l.count}})}}},function(e,t,n){"use strict";n.d(t,"J",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"B",(function(){return o})),n.d(t,"h",(function(){return s})),n.d(t,"g",(function(){return a})),n.d(t,"e",(function(){return l})),n.d(t,"m",(function(){return c})),n.d(t,"l",(function(){return u})),n.d(t,"u",(function(){return d})),n.d(t,"v",(function(){return p})),n.d(t,"x",(function(){return f})),n.d(t,"w",(function(){return h})),n.d(t,"D",(function(){return m})),n.d(t,"F",(function(){return g})),n.d(t,"E",(function(){return v})),n.d(t,"y",(function(){return b})),n.d(t,"A",(function(){return _})),n.d(t,"z",(function(){return y})),n.d(t,"C",(function(){return E})),n.d(t,"G",(function(){return S})),n.d(t,"I",(function(){return C})),n.d(t,"H",(function(){return w})),n.d(t,"n",(function(){return O})),n.d(t,"p",(function(){return T})),n.d(t,"o",(function(){return P})),n.d(t,"a",(function(){return k})),n.d(t,"i",(function(){return I})),n.d(t,"k",(function(){return A})),n.d(t,"j",(function(){return x})),n.d(t,"q",(function(){return N})),n.d(t,"s",(function(){return D})),n.d(t,"r",(function(){return R})),n.d(t,"b",(function(){return L})),n.d(t,"d",(function(){return M})),n.d(t,"t",(function(){return j})),n.d(t,"f",(function(){return F}));var i="instruments/UPDATE_INSTRUMENT_QUOTE",r="instruments/FX_INSTRUMENT",o="instruments/SUMMARY",s="instruments/INSTRUMENT_TRADE_STATUSES",a="instruments/INSTRUMENT_SETTINGS_UPDATE",l="instruments/INIT_INSTRUMENT_TREE_PATHS",c="instruments/LOAD_INSTRUMENTS_SUCCESS",u="instruments/LOAD_INSTRUMENTS_ERROR",d="instruments/SET_INSTRUMENT_LAST_QUOTE_TIME",p="instruments/SUBSCRIBE_CHART_FEED",f="instruments/SUBSCRIBE_CHART_FEED_SUCCESS",h="instruments/SUBSCRIBE_CHART_FEED_ERROR",m="instruments/UNSUBSCRIBE_CHART_FEED",g="instruments/UNSUBSCRIBE_CHART_FEED_SUCCESS",v="instruments/UNSUBSCRIBE_CHART_FEED_ERROR",b="instruments/SUBSCRIBE_SWAP_RATES",_="instruments/SUBSCRIBE_SWAP_RATES_SUCCESS",y="instruments/SUBSCRIBE_SWAP_RATES_ERROR",E="instruments/SWAP_RATES",S="instruments/UNSUBSCRIBE_SWAP_RATES",C="instruments/UNSUBSCRIBE_SWAP_RATES_SUCCESS",w="instruments/UNSUBSCRIBE_SWAP_RATES_ERROR",O="instruments/LOAD_MARGINING_SETTINGS",T="instruments/LOAD_MARGINING_SETTINGS_SUCCESS",P="instruments/LOAD_MARGINING_SETTINGS_ERROR",k="instruments/CLEAR_MARGINING_SETTINGS",I="instruments/LOAD_CRYPTO_INFO",A="instruments/LOAD_CRYPTO_INFO_SUCCESS",x="instruments/LOAD_CRYPTO_INFO_ERROR",N="instruments/LOAD_TRADING_CALENDARS_SETTINGS",D="instruments/LOAD_TRADING_CALENDARS_SETTINGS_SUCCESS",R="instruments/LOAD_TRADING_CALENDARS_SETTINGS_ERROR",L="instruments/CLEAR_TRADING_CALENDARS_SETTINGS",M="instruments/FX_SYSTEM_SETTINGS",j="instruments/ROLLOVER_DATES",F="instruments/INIT_LOWERCASE_INSTRUMENT_SYMBOL_MAP"},function(e,t,n){"use strict";n.d(t,"t",(function(){return v})),n.d(t,"x",(function(){return y})),n.d(t,"B",(function(){return E})),n.d(t,"O",(function(){return S})),n.d(t,"H",(function(){return C})),n.d(t,"W",(function(){return O})),n.d(t,"k",(function(){return T})),n.d(t,"b",(function(){return P})),n.d(t,"g",(function(){return k})),n.d(t,"v",(function(){return I})),n.d(t,"j",(function(){return A})),n.d(t,"f",(function(){return x})),n.d(t,"h",(function(){return N})),n.d(t,"u",(function(){return D})),n.d(t,"i",(function(){return R})),n.d(t,"N",(function(){return M})),n.d(t,"K",(function(){return z})),n.d(t,"J",(function(){return q})),n.d(t,"L",(function(){return H})),n.d(t,"I",(function(){return $})),n.d(t,"M",(function(){return G})),n.d(t,"e",(function(){return W})),n.d(t,"X",(function(){return K})),n.d(t,"c",(function(){return X})),n.d(t,"D",(function(){return J})),n.d(t,"E",(function(){return Z})),n.d(t,"C",(function(){return ee})),n.d(t,"F",(function(){return te})),n.d(t,"G",(function(){return ie})),n.d(t,"p",(function(){return re})),n.d(t,"l",(function(){return oe})),n.d(t,"U",(function(){return ae})),n.d(t,"R",(function(){return ue})),n.d(t,"Y",(function(){return de})),n.d(t,"s",(function(){return pe})),n.d(t,"w",(function(){return fe})),n.d(t,"r",(function(){return me})),n.d(t,"V",(function(){return ge})),n.d(t,"S",(function(){return ve})),n.d(t,"P",(function(){return be})),n.d(t,"Q",(function(){return _e})),n.d(t,"n",(function(){return ye})),n.d(t,"o",(function(){return Se})),n.d(t,"A",(function(){return Ce})),n.d(t,"y",(function(){return Le})),n.d(t,"T",(function(){return Me})),n.d(t,"a",(function(){return Be})),n.d(t,"z",(function(){return Ue})),n.d(t,"d",(function(){return Ve})),n.d(t,"m",(function(){return ze})),n.d(t,"q",(function(){return qe}));n(3);var i=n(2),r=n(13),o=n(1),s=n.n(o),a=n(23),l=n(42),c=n(83),u=n(51),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},p=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};var f=function(e,t){return[s.a.findWhere(e,{markValue:t[0]}),s.a.findWhere(e,{markValue:t[1]})]},h=function(e,t){if(!t)return null;var n=f(e,t),i=p(n,2),r=i[0],o=i[1];return r&&o?[r,o]:null},m=function(e){return e.portfolio},g=function(e){return e.form},v=Object(i.a)(m,(function(e){return e.localPortfolios})),b=Object(i.a)(m,(function(e){return e.remotePortfolios})),_=(Object(i.a)(m,(function(e){return e.metadata})),Object(i.a)(g,(function(e){return e&&e[r.n]}))),y=Object(i.a)(_,(function(e){return e&&e.values})),E=Object(i.a)(g,(function(e){var t=s.a.getDeepProp(e,r.n+".values");return s.a.pick(t,(function(e,t){return Object(c.startWith)(r.F,t)&&!s.a.isNil(e)}))})),S=Object(i.a)(m,(function(e){return e.universe})),C=Object(i.a)(S,(function(e){return s.a.chain(e).indexBy("stockSectorName").map((function(e,t){return{value:e.stockSectorID,label:Object(u.G)(t)}})).reject((function(e){return s.a.isNull(e.value)||"General"===e.label})).value()})),w=Object(i.a)(g,(function(e){return s.a.has(e,r.n)&&!s.a.isEmpty(e[r.n])?e[r.n].values:{}})),O=(Object(i.a)(w,(function(e){var t=s.a.propertyOf(e)(r.O);return s.a.contains(s.a.map(r.N,(function(e){return e.value})),t)?t:s.a.first(r.N).value})),Object(i.a)(w,(function(e){return s.a.propertyOf(e)(r.J)})),Object(i.a)([w,a.a],(function(e,t){return s.a.propertyOf(e)(t)})),Object(i.a)(m,(function(e){return e.universeTypes}))),T=Object(i.a)(m,(function(e){return e.defaultUniverseType})),P=Object(i.a)(m,(function(e){return e.betas})),k=Object(i.a)(m,(function(e){return e.defaultBeta})),I=Object(i.a)(m,(function(e){return e.peRatios})),A=Object(i.a)(m,(function(e){return e.defaultPeRatio})),x=Object(i.a)(m,(function(e){return e.dailyVolumes})),N=Object(i.a)(m,(function(e){return e.defaultDailyVolume})),D=Object(i.a)(m,(function(e){return e.marketCap})),R=Object(i.a)(m,(function(e){return e.defaultMarketCap})),L=Object(i.a)(g,(function(e){return e&&e.editPortfolio&&e.editPortfolio.values})),M=Object(i.a)(L,(function(e){return e&&e.universeType})),j=Object(i.a)(L,(function(e){return e&&e.marketCap})),F=Object(i.a)(L,(function(e){return e&&e.dailyVolume})),B=Object(i.a)(L,(function(e){return e&&e.peRatio})),U=Object(i.a)(L,(function(e){return e&&e.beta})),V=Object(i.a)(L,(function(e){return e&&e.sectors})),z=Object(i.a)([D,j],h),q=Object(i.a)([x,F],h),H=Object(i.a)([I,B],h),$=Object(i.a)([P,U],h),G=Object(i.a)(L,(function(e){return e.shareFilters})),W=Object(i.a)([S,V,M,j,F,B,U,D,x,I,P],(function(e,t,n,i,r,o,a,l,c,u,d){var h=s.a.chain(e);if(!s.a.isEmpty(t)){var m=s.a.pluck(t,"value");h=h.filter((function(e){return s.a.contains(m,e.stockSectorID)}))}if(n&&-1!==n.value&&(h=h.filter((function(e){return s.a.contains(e.supportedIndex,n.value)}))),i){var g=f(l,i),v=p(g,2),b=v[0],_=v[1];b&&_&&(h=h.filter((function(e){return e.marketCap>=b.value&&e.marketCap<=_.value})))}if(r){var y=f(c,r),E=p(y,2),S=E[0],C=E[1];S&&C&&(h=h.filter((function(e){return e.threeMonthsVolume>=S.value&&e.threeMonthsVolume<=C.value})))}if(o){var w=f(u,o),O=p(w,2),T=O[0],P=O[1];T&&P&&(h=h.filter((function(e){return e.peRatio>=T.value&&e.peRatio<=P.value})))}if(a){var k=f(d,a),I=p(k,2),A=I[0],x=I[1];A&&x&&(h=h.filter((function(e){return e.beta>=A.value&&e.beta<=x.value})))}return h.value()})),Y=Object(i.a)(w,(function(e){return s.a.has(e,r.I)?e[r.I]:{}})),K=Object(i.a)(Y,(function(e){return s.a.has(e,r.P)?e[r.P]:[]})),X=Object(i.a)(Y,(function(e){return s.a.has(e,r.k)?e[r.k]:[]})),Q=Object(i.a)(m,(function(e){return e.scoreTypes})),J=Object(i.a)(Q,(function(e){return e.data})),Z=Object(i.a)(Q,(function(e){return e.groups||l.a})),ee=Object(i.a)(Q,(function(e){return e.categories||l.a})),te=Object(i.a)(_,(function(e){return e&&e.values&&e.values[r.G]})),ne=(Object(i.a)([E,J],(function(e,t){return s.a.map(e,(function(e,n){var i=String(n).split(r.F)[1];return{scoreType:t[i].scoreTypeID,scoreWeight:parseFloat((e/r.t).toFixed(3))}}))})),Object(i.a)(m,(function(e){return e.latestScores.data}))),ie=(Object(i.a)([W,ne],(function(e,t){return e&&t?s.a.map(e,(function(e){var n=Math.round(10*t[e.stockID])/10;return s.a.extend(e,{scoreAmount:n})})):l.a})),Object(i.a)(y,(function(e){return e&&e.universeType})),Object(i.a)([b,a.a],(function(e,t){return e[t]}))),re=Object(i.a)(m,(function(e){return e.sort.remote||l.b})),oe=Object(i.a)(ie,(function(e){return e})),se=Object(i.a)(b,(function(e){var t={};return s.a.each(e,(function(e){e.portfolioID;var n=e.portfolioProviderId,i=e.portfolioStatus;s.a.contains([r.B.CLOSED,r.B.REJECTED],i)||(t[n]=e)})),t})),ae=Object(i.a)(m,(function(e){return e.sort.local||l.b})),le=Object(i.a)(v,(function(e){return e})),ce=(Object(i.a)(se,(function(e){return e.data})),Object(i.a)(g,(function(e){return s.a.getDeepProp(e,r.n+".values.timeHorizon")||l.b})),Object(i.a)(m,(function(e){return e.strategies}))),ue=Object(i.a)([ce,a.a],(function(e,t){return e[t]})),de=(Object(i.a)([y],(function(e){if(!e)return l.b;var t=e.longPositionFactor,n=e.timeHorizon;return s.a.reduce({longPositionFactor:t,timeHorizon:n},(function(e,t,n){return t&&(e[n]=t),e}),{})})),Object(i.a)([v,a.a],(function(e,t){return!!e[t]}))),pe=Object(i.a)([v,a.a],(function(e,t){return e[t]})),fe=(Object(i.a)([v,a.a],(function(e,t){return e&&t&&s.a.has(e,t)})),Object(i.a)([pe,ie],(function(e,t){var n=t&&t.portfolioName||e&&e.portfolioName;return n?{portfolioName:n,portfolioID:t?t.portfolioID:null,local:e?d({},e):null,remote:t?d({},t):null}:null}))),he=Object(i.a)(m,(function(e){return e&&e.portfolioPositions})),me=Object(i.a)(se,(function(e){return s.a.size(e)})),ge=Object(i.a)(le,(function(e){return s.a.size(e)})),ve=Object(i.a)([me,ge],(function(e,t){return e+t})),be=Object(i.a)([se,re,he],(function(e,t,n){return Object(u.F)(s.a.map(e),t.column,t.dir,{portfolioPositions:n})})),_e=Object(i.a)([le,ae],(function(e,t){return Object(u.F)(s.a.map(e),t.column,t.dir)})),ye=Object(i.a)(ie,(function(e){return e&&e.portfolioItems})),Ee=Object(i.a)([he,a.a],(function(e,t){return e&&e[t]})),Se=Object(i.a)([Ee,a.b],(function(e,t){return e&&e[t]})),Ce=Object(i.a)([v,se],(function(e,t){return s.a.union(s.a.keys(e),s.a.pluck(t,"portfolioName"))})),we=Object(i.a)(fe,(function(e){return e&&e.local&&e.local.filters})),Oe=Object(i.a)(we,(function(e){return e&&e.universeType})),Te=Object(i.a)(we,(function(e){return e&&e.marketCap})),Pe=Object(i.a)(we,(function(e){return e&&e.dailyVolume})),ke=Object(i.a)(we,(function(e){return e&&e.peRatio})),Ie=Object(i.a)(we,(function(e){return e&&e.beta})),Ae=Object(i.a)(we,(function(e){return e&&e.sectors})),xe=Object(i.a)([D,Te],h),Ne=Object(i.a)([x,Pe],h),De=Object(i.a)([I,ke],h),Re=Object(i.a)([P,Ie],h),Le=(Object(i.a)([Oe,xe,Ne,De,Re,Ae],(function(e,t,n,i,r,o){return s.a.reduce({universeType:e,marketCap:t,dailyVolume:n,peRatio:i,beta:r,sectors:o},(function(e,t,n){return t&&(e[n]=t),e}))})),Object(i.a)([Oe,xe,Ne,De,Re,Ae],(function(e,t,n,i,r,o){return s.a.reduce({universeType:e},(function(e,t,n){return t&&(e[n]=t),e}),{})})),Object(i.a)([we],(function(e){if(!e)return l.b;var t=e.direction,n=e.stocks,i=e.timeHorizon;return s.a.reduce({direction:t,stocks:n,timeHorizon:i},(function(e,t,n){return t&&(e[n]=t),e}),{})})),Object(i.a)([we],(function(e){return e&&s.a.chain(e).pick((function(e,t){return Object(c.startWith)(r.F,t)})).reduce((function(e,t,n){return e[String(n).split(r.F)[1]]=t,e}),{}).value()||l.b})),Object(i.a)(m,(function(e){return e.backtestCache})),Object(i.a)(b,(function(e){return s.a.reduce(e,(function(e,t){return e[t.portfolioID]=t.portfolioProviderId,e}),{})}))),Me=(Object(i.a)(v,(function(e){return e})),Object(i.a)(pe,(function(e){return e}))),je=Object(i.a)(v,(function(e){return s.a.size(e)})),Fe=Object(i.a)(b,(function(e){return s.a.size(e)})),Be=Object(i.a)([je,Fe],(function(e,t){return e+t})),Ue=Object(i.a)(ie,(function(e){return e&&e.strategyDataTO})),Ve=Object(i.a)([W,X,K],(function(e,t,n){var i=s.a.chain(e).pluck("stockID").union(n).value();return s.a.without.apply(s.a,[i].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))).length})),ze=Object(i.a)(oe,(function(e){return e&&e.executedAmount})),qe=Object(i.a)(Ee,(function(e){return e&&e[r.L]}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var i=Object.freeze({}),r=Object.freeze([])},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,r){var o=n(24).Model;r.exports=o.extend({control:function(e,t){var n=this;return function(t,r,o){var s={};s[e]=t,n.set(i.extend({},r,s),o)}}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(3),s=n(1),a=n.n(s),l=n(15),c=n.n(l),u=n(4),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.default=function(e,t){var n,i;return i=n=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={status:o.LOADING,component:null},t.mounted=!1,c()(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),p(n,[{key:"shouldComponentUpdate",value:function(e,t){return!a.a.isEqual(e,this.props)||!a.a.isEqual(t,this.state)}},{key:"componentDidMount",value:function(){this.mounted=!0,this.load()}},{key:"load",value:function(){var e=this.props.loader;if(!a.a.isFunction(e))throw new Error("Attr 'loader' should be a function.");this.setState({status:o.LOADING,component:null}),e().then(this.loadSuccess).catch(this.loadError)}},{key:"loadSuccess",value:function(e){var t=e&&e.default||e;this.mounted&&(t?this.setState({status:o.LOADED,component:t}):this.setState({status:o.ERROR}))}},{key:"loadError",value:function(e){this.mounted&&this.setState({status:o.ERROR})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"handleTryAgain",value:function(){var e=this;this.setState({status:o.LOADING}),a.a.delay((function(){return e.mounted&&e.load()}),500)}},{key:"render",value:function(){var e=this.state,n=e.status,i=e.component,s=this.props,a=(s.loader,s.children),l=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(s,["loader","children"]);if(n===o.LOADING)return r.a.createElement("div",{className:"pane pane__fluid pane--center pane--middle"},r.a.createElement("div",{className:"cssload-jumping"},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null)));if(n===o.ERROR)return r.a.createElement("div",{className:"pane pane__fluid pane--center pane--middle"},r.a.createElement("div",{className:"pane pane__column pane--center"},r.a.createElement("div",{className:"pane flex-align-center bold"},__("generic.error.message")),r.a.createElement("button",{className:"pane btn btn-default",onClick:this.handleTryAgain},__("actions.try_again"))));if(n===o.LOADED){var c=r.a.createElement(i,d({},l),a);return t?r.a.createElement(u.Provider,{store:store},c):c}return null}}]),n}(r.a.Component),n.defaultProps={loader:e},i}},function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"m",(function(){return o})),n.d(t,"o",(function(){return s})),n.d(t,"n",(function(){return a})),n.d(t,"g",(function(){return l})),n.d(t,"l",(function(){return c})),n.d(t,"k",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"j",(function(){return p})),n.d(t,"i",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"u",(function(){return m})),n.d(t,"t",(function(){return g})),n.d(t,"s",(function(){return v})),n.d(t,"v",(function(){return b})),n.d(t,"x",(function(){return _})),n.d(t,"w",(function(){return y})),n.d(t,"b",(function(){return E})),n.d(t,"p",(function(){return S})),n.d(t,"r",(function(){return C})),n.d(t,"q",(function(){return w})),n.d(t,"z",(function(){return O})),n.d(t,"y",(function(){return T})),n.d(t,"c",(function(){return P})),n.d(t,"e",(function(){return k}));var i="acuity/ACUITY_INIT",r="acuity/ACUITY_DEINIT",o="acuity/ACUITY_LOAD_CLASSES",s="acuity/ACUITY_LOAD_CLASSES_SUCCESS",a="acuity/ACUITY_LOAD_CLASSES_ERROR",l="acuity/ACUITY_LOAD_ALERTS",c="acuity/ACUITY_LOAD_ALERTS_SUCCESS",u="acuity/ACUITY_LOAD_ALERTS_ERROR",d="acuity/ACUITY_LOAD_ALERTS_BY_SYMBOL",p="acuity/ACUITY_LOAD_ALERTS_BY_SYMBOL_SUCCESS",f="acuity/ACUITY_LOAD_ALERTS_BY_SYMBOL_ERROR",h="acuity/ACUITY_APPLY_FILTER",m="acuity/ACUITY_SELECT_CLASS",g="acuity/ACUITY_SELECT_ALERT",v="acuity/ACUITY_RESET_SELECTED_INSTRUMENTS",b="acuity/ACUITY_SELECT_INSTRUMENTS",_="acuity/ACUITY_SELECT_LEVEL_OF_CONFIDENCE",y="acuity/ACUITY_SELECT_INTERVAL",E="acuity/ACUITY_CLEAN_SENTIMENT",S="acuity/ACUITY_LOAD_SENTIMENT",C="acuity/ACUITY_LOAD_SENTIMENT_SUCCESS",w="acuity/ACUITY_LOAD_SENTIMENT_ERROR",O="acuity/ACUITY_TOGGLE_ROW",T="acuity/ACUITY_SELECT_NEWS_ID",P=2,k=1},function(e,t,n){"use strict";n.r(t),n.d(t,"debouncedSelectInstrument",(function(){return v})),n.d(t,"initAppUi",(function(){return b})),n.d(t,"selectInstrumentCategoryTreePath",(function(){return _})),n.d(t,"sortSelectedCategorySymbols",(function(){return y})),n.d(t,"selectInstrumentSymbolAndUpdateUrl",(function(){return E})),n.d(t,"updateUrlWithSelectingInstrumentSymbol",(function(){return S})),n.d(t,"selectInstrumentCategorySymbol",(function(){return C})),n.d(t,"setInstrumentDetailsSymbol",(function(){return w})),n.d(t,"clearInstrumentDetailsSymbol",(function(){return O})),n.d(t,"toggleInstrumentDetails",(function(){return T})),n.d(t,"openInstrumentDetails",(function(){return P})),n.d(t,"closeInstrumentDetails",(function(){return k})),n.d(t,"setSection",(function(){return I})),n.d(t,"setSectionToPrevious",(function(){return A})),n.d(t,"clearHeader",(function(){return x})),n.d(t,"setTradingSection",(function(){return N})),n.d(t,"setOrdersSection",(function(){return D})),n.d(t,"setOpenPositionsSection",(function(){return R})),n.d(t,"setFavoritesSection",(function(){return L})),n.d(t,"setPortfoliosSection",(function(){return M})),n.d(t,"setInvestSection",(function(){return j})),n.d(t,"setMultiChartsEnabled",(function(){return F})),n.d(t,"selectFirstSymbolInDefaultCategoryPath",(function(){return B})),n.d(t,"selectFirstSymbolInCategoryPath",(function(){return U})),n.d(t,"navigateSection",(function(){return V})),n.d(t,"navigatePreviousSection",(function(){return z})),n.d(t,"updateUrlBySelectedCategoryPath",(function(){return q})),n.d(t,"updateUrlBySelectedInstrumentSymbol",(function(){return H})),n.d(t,"updateHeader",(function(){return $})),n.d(t,"selectFirstSymbolInSymbolList",(function(){return G})),n.d(t,"updateInstrumentCategorySymbols",(function(){return W})),n.d(t,"openAsideBox",(function(){return Y})),n.d(t,"closeAsideBox",(function(){return K})),n.d(t,"toggleAsideBox",(function(){return X})),n.d(t,"resizeChart",(function(){return Q})),n.d(t,"setTabIdInstrumentDetails",(function(){return J})),n.d(t,"setSelectedSignalBoxSource",(function(){return Z})),n.d(t,"updateChartState",(function(){return ee})),n.d(t,"showChart",(function(){return te})),n.d(t,"hideChart",(function(){return ne})),n.d(t,"changeInstrumentInfoVisibility",(function(){return ie})),n.d(t,"updateCategorySections",(function(){return re})),n.d(t,"setSectionAndNavigateBySymbol",(function(){return oe})),n.d(t,"setSymbolsSort",(function(){return se})),n.d(t,"resetSymbolsSort",(function(){return ae})),n.d(t,"setShouldInstrumentBeCentered",(function(){return le})),n.d(t,"selectInstrumentNewsId",(function(){return ce})),n.d(t,"setInstrumentTreeCategoryState",(function(){return ue})),n.d(t,"setInstrumentExpanded",(function(){return de})),n.d(t,"setSelectedTabManageAccounts",(function(){return pe})),n.d(t,"setWebinarTooltip",(function(){return fe})),n.d(t,"setOpenPositionPLType",(function(){return he})),n.d(t,"toggleOpenPositionPLType",(function(){return me}));var i=n(3),r=n(5),o=n.n(r),s=n(49),a=n(143),l=n(59),c=n(1),u=n.n(c),d=n(19),p=n(35),f=n(27),h=n(109),m=n(88);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=u.a.debounce((function(e,t){o.a.trigger("ui:instruments:instrument-selected",e,t)}),10);function b(){return{type:p.f}}function _(e){return function(t,n){var i=Object(d.getInstruments)(n()),r=i.treePathsMap,o=i.defaultInstrumentTreeCategoryPath,s=r[Object(a.d)(e,r,o)],l=s&&Object(a.a)(s);l&&(t({type:p.o,payload:l&&l._pathUrl,instrumentsState:Object(d.getInstruments)(n())}),t(ae()),t(y()))}}function y(){return function(e,t){e({type:p.D,payload:Object(l.getSortedInstrumentSymbols)(t())})}}function E(e,t){return function(n,r){var o=Object(d.getInstruments)(r()).instrumentSymbolMap;e=o[e]?e:"";var s=Object(l.getSelectedInstrumentCategoryTreePath)(r()),a=Object(l.getUiSection)(r());u.a.contains([i.UI_SECTION_FAVORITES,i.UI_SECTION_ORDERS,i.UI_SECTION_OPEN_POSITION],a)?n(V(a+"/"+e,{trigger:!1})):n(V(a+s+e,{trigger:!1})),n(C(e,t))}}function S(e,t){return function(n,i){var r=Object(l.getUiSelectedInstrumentCategorySymbol)(i());u.a.indexOf(e,r)>=0||!t?n(E(r)):n(E(t||""))}}function C(e,t){return function(n,i){var r=Object(d.getInstruments)(i()).instrumentSymbolMap;(e=r[e]?e:null)&&(n({type:p.n,payload:e}),v(e,t))}}function w(e){return{type:p.r,payload:e}}function O(e){return{type:p.b,payload:e}}function T(e){return function(t,n){var r=n().ui,o=r.instrumentDetailsState,s=r.selectedInstrumentCategorySymbol;o===i.CLOSED?t(P(e)):t(s===e?k(e):P(e))}}function P(e){return function(t,n){n().ui.instrumentDetailsState===i.CLOSED&&u.a.delay((function(){return o.a.trigger("ui:chart:reflow")}),0),t({type:p.i,symbol:e})}}function k(e){return function(t,n){n().ui.instrumentDetailsState===i.OPEN&&setTimeout((function(){return o.a.trigger("ui:chart:reflow")}),0),t({type:p.d,payload:e})}}function I(e){return function(t){t({type:p.w,payload:e}),t(x()),t(ae())}}function A(){return function(e){e({type:p.x}),e(x()),e(ae())}}function x(){return function(e){e($({}))}}function N(){return function(e,t){e(I(i.UI_SECTION_TRADING));var n=t().ui.selectedInstrumentCategoryTreePath,r=u.a.compact(String(n).split("/")),o=u.a.first(r),s="tab."+o,a=__(s);e($({title:a!==s?a:o}))}}function D(){return function(e){e(I(i.UI_SECTION_ORDERS)),e($({title:__("tab.orders")}))}}function R(){return function(e){e(I(i.UI_SECTION_OPEN_POSITION)),e($({title:__("tab.open_positions")}))}}function L(e){return function(e,t){e(I(i.UI_SECTION_FAVORITES)),e($({title:__("tab.watchlist")}))}}function M(){return function(e,t){e(I(i.UI_SECTION_PORTFOLIOS)),e($({title:__("portfolio.invest.link")}))}}function j(){return function(e,t){e(I(i.UI_SECTION_INVEST)),e($({title:__("tab.invest")}))}}function F(e){return{type:p.u,payload:e}}function B(){return function(e,t){e(U(Object(d.getInstruments)(t()).defaultInstrumentTreeCategoryPath))}}function U(e){return function(t,n){var i=Object(d.getInstruments)(n()).treePathsMap[e],r=i&&Object(a.a)(i);if(r){var o=Object(s.sortSymbolsBy)(u.a.pluck(r.elements,"symbol"));t(C(u.a.first(o)||""))}}}function V(e,t){return function(n,r){Object(l.isMultiChartsEnabled)(r())&&(e=i.MULTI_CHARTS_PATH+"/"+e),o.a.navigate(e,t)}}function z(){return function(e,t){e(A()),e(H())}}function q(e){return function(t,n){var i=Object(l.getSelectedInstrumentCategoryTreePath)(n());t({type:p.g,payload:i}),i&&o.a.navigate("trading"+i,e)}}function H(){return function(e,t){var n=Object(l.getUiSelectedInstrumentCategorySymbol)(t()),r=Object(l.getSelectedInstrumentCategoryTreePath)(t()),s=Object(l.getUiSection)(t()),a=Object(l.isMultiChartsEnabled)(t());if(u.a.contains([i.UI_SECTION_PRICE_ALERTS,i.UI_SECTION_CANCELED_ORDERS,i.UI_SECTION_CLOSED_POSITIONS],s))e(V(s,{trigger:!1}));else if(u.a.contains([i.UI_SECTION_FAVORITES,i.UI_SECTION_ORDERS,i.UI_SECTION_OPEN_POSITION],s)){var c,d=(g(c={},i.UI_SECTION_FAVORITES,(function(){return u.a.chain(Object(f.getFavoriteInstrumentSymbols)(t())).keys().contains(n).value()})),g(c,i.UI_SECTION_ORDERS,(function(){return u.a.chain(Object(h.getInstrumentOrders)(t())).keys().contains(n).value()})),g(c,i.UI_SECTION_OPEN_POSITION,(function(){return u.a.chain(Object(m.getInstrumentPositions)(t())).keys().contains(n).value()})),c);e(V(s+(d[s]&&d[s]()?"/"+n:""),{trigger:!1}))}else u.a.isEmpty(r)?o.a.navigate(a?i.MULTI_CHARTS_PATH+"/":"/"):e(V(s+r+n,{trigger:!1}))}}function $(e){return{type:p.I,payload:e||{}}}function G(){return function(e,t){var n=u.a.first(Object(l.getSelectedInstrumentCategorySymbols)(t()));e({type:p.m,payload:n}),e(E(n))}}function W(e){return{type:p.J,payload:e}}function Y(){return{type:p.h}}function K(){return{type:p.c}}function X(){return{type:p.E}}function Q(e){return{type:p.k,payload:e}}function J(e){return{type:p.q,payload:e}}function Z(e){return{type:p.y,payload:e}}function ee(e){return{type:p.H,payload:e}}function te(){return{type:p.C}}function ne(){return{type:p.e}}function ie(e){return{type:p.a,payload:e}}function re(){return function(e,t){e({type:p.G,payload:{instruments:Object(d.getInstruments)(t()),selectedCategoryPath:Object(l.getSelectedInstrumentCategoryTreePath)(t())}})}}function oe(e){return function(t,n){var r=n(),s=(r.ui,r.user),a=r.instruments,l=s.favorites;if(u.a.indexOf(l,e)>=0)return t(I(i.UI_SECTION_FAVORITES)),t(E(e)),void o.a.trigger("ui:instrument",e,!1);var c=a.instrumentSymbolMap[e];t(_(c&&c._categoryPath)),t(re()),t(I(i.UI_SECTION_TRADING)),t(E(e))}}function se(e,t){return{type:p.z,payload:{name:e,direction:t}}}function ae(){return{type:p.j}}function le(e){return{type:p.B,payload:e}}function ce(e){return{type:p.p,payload:e}}function ue(e,t){return function(n){n({type:p.t,payload:{categoryPath:e,isOpen:t}})}}function de(e,t){return function(n){n({type:p.s,payload:t,symbol:e})}}function pe(e){return function(t){t({type:p.l,payload:e})}}function fe(e){return{type:p.A,payload:e}}function he(e){return{type:p.v,payload:e}}function me(){return{type:p.F}}},,,function(e,t,n){"use strict";n.r(t),n.d(t,"isBuyTradable",(function(){return g})),n.d(t,"isSellTradable",(function(){return v})),n.d(t,"isOutOfMarketHours",(function(){return b})),n.d(t,"canTradeOutsideOfTradingHours",(function(){return _})),n.d(t,"hasTradingMode",(function(){return y})),n.d(t,"getAsk",(function(){return E})),n.d(t,"getBid",(function(){return S})),n.d(t,"getNotTradableMessage",(function(){return C})),n.d(t,"getInstrumentBySymbol",(function(){return w})),n.d(t,"sortInstrumentByDefault",(function(){return O})),n.d(t,"sortSymbolsBy",(function(){return T})),n.d(t,"calcInstrumentSpread",(function(){return P})),n.d(t,"subscribeSymbol",(function(){return k})),n.d(t,"unsubscribeSymbol",(function(){return I})),n.d(t,"isPositionsClosable",(function(){return A})),n.d(t,"isPositionsEditable",(function(){return x})),n.d(t,"isOrderEditable",(function(){return N})),n.d(t,"isOrderCancelable",(function(){return D})),n.d(t,"getNotClosableMessage",(function(){return R})),n.d(t,"getNotEditableMessage",(function(){return L})),n.d(t,"capitalizeFirstLetter",(function(){return M})),n.d(t,"createInstrumentListMeasurerWrapper",(function(){return j})),n.d(t,"sortInstruments",(function(){return F})),n.d(t,"normalizeInstrumentSymbol",(function(){return B})),n.d(t,"getFormattedPrice",(function(){return U})),n.d(t,"getAmountSpreadBettingLabel",(function(){return V}));var i=n(3),r=n(26),o=n.n(r),s=n(1),a=n.n(s),l=n(115),c=n.n(l),u=n(110),d=n(83),p=n.n(d),f=[],h=[],m=a.a.debounce((function(){c.a.update(f,h),f=[],h=[]}),3);function g(e){var t=o.a.getInstrumentBySymbol(e);return t&&t.isVisible()&&E(e)>0&&!(t&&t.isMarginLevelLow())&&(!b(e)||_(e))&&(y(e,u.FULL_MODE)||y(e,u.LONG_ONLY_MODE))}function v(e){var t=o.a.getInstrumentBySymbol(e);return t&&t.isVisible()&&S(e)>0&&!(t&&t.isMarginLevelLow())&&(!b(e)||_(e))&&(y(e,u.FULL_MODE)||y(e,u.SHORT_ONLY_MODE))}function b(e){var t=store.getState().instruments.INSTRUMENT_TRADE_STATUSES[e];return t&&t.outOfMarketHours}function _(e){var t=store.getState().instruments.INSTRUMENT_SETTINGS_UPDATE[e];return t&&t.allowOrdersOutsideOfTradingHours}function y(e,t){var n=store.getState().instruments.INSTRUMENT_SETTINGS_UPDATE[e];return(n&&n.trading||"")===t}function E(e){var t=store.getState().instruments.QUOTE[e];return t&&t.ask}function S(e){var t=store.getState().instruments.QUOTE[e];return t&&t.bid}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=o.a.getInstrumentBySymbol(e);return n&&n.isVisible()?y(e,u.NO_MODE)?__("accountInfo.outOfMarket.other"):b(e)&&!_(e)?__("accountInfo.outOfMarket.notrade"):b(e)&&_(e)&&(!t||y(t))?__("accountInfo.outOfMarket.notrade"):y(e,u.CLOSE_ONLY_MODE)?__("accountInfo.outOfMarket.close"):y(e,u.SHORT_ONLY_MODE)?__("accountInfo.outOfMarket.buy"):y(e,u.LONG_ONLY_MODE)?__("accountInfo.outOfMarket.sell"):n&&n.isMarginLevelLow()?__("margin.level_2.buy_sell_button_tooltip.description"):"":__("accountInfo.outOfMarket.other")}function w(e){return store.getState().instruments.instrumentSymbolMap[e]||{}}function O(e){var t=a.a.groupBy(e,(function(e){return w(e).weight}));for(var n in t){var i=a.a.groupBy(t[n],(function(e){return w(e).volatility}));for(var r in i)i[r]=a.a.sortBy(i[r],(function(e){return String(w(e).name).toLowerCase()}));t[n]=i}return a.a.reduce(a.a.keys(t).reverse(),(function(e,n){return a.a.reduce(a.a.keys(t[n]).reverse(),(function(e,i){return e.concat(t[n][i])}),e)}),[])}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;switch(t){case"default":return O(e);case"name":return e.sort((function(e,t){return i=e,r=t,o="asc"===n?1:-1,function(e,t,n){return(e<t?-1:e>t?1:0)*n}(i=String(i).toLowerCase(),r=String(r).toLowerCase(),o);var i,r,o}));case"change":return e}return[]}function P(e,t,n,i){var r=Math.abs(Number(e)-Number(t))/(1/Math.pow(10,i))||!1;return!1!==r?Number(r).toFixed(n||0):0}function k(e){f.push(e),m()}function I(e){h.push(e),m()}function A(e,t){return!b(t)&&!y(t,u.NO_MODE)}function x(e,t){return(!b(t)||_(t))&&!(y(t,u.NO_MODE)||y(t,u.CLOSE_ONLY_MODE))}function N(e,t){return(!b(t)||_(t))&&!(y(t,u.NO_MODE)||y(t,u.CLOSE_ONLY_MODE))}function D(e,t){return(!b(t)||_(t))&&!y(t,u.NO_MODE)}function R(e){return y(e,u.NO_MODE)?__("accountInfo.outOfMarket.other"):b(e)?__("accountInfo.outOfMarket.notrade"):""}function L(e){return C(e)}function M(e){return e.charAt(0).toUpperCase()+e.slice(1)}function j(e,t){var n=t.CellMeasurerCache;function r(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=e.refs._list||e._list;t&&e._cache&&e._cache.clearAll(),n&&n.forceUpdateGrid()}function o(){e._cache=null,window.removeEventListener("resize",r)}return e._cache=new n({fixedWidth:!0,minHeight:i.BASIC_VIEW_INSTRUMENT_LIST_ITEM_MIN_HEIGHT}),window.addEventListener("resize",a.a.debounce(r,200)),o.resizeAll=r,o.recomputeRowHeights=function(t){var n=e.refs._list||e._list;n&&(e._cache.clear(t),n.recomputeRowHeights(t))},o.getChachedHeight=function(t){return e._cache.rowHeight({index:t})},o.clearCache=function(){return e._cache.clearAll()},o}function F(e,t,n,r){if(t=a.a.reject(t,(function(t){return!e[t]})),r===i.SORT_DIRECTION_NONE)return a.a.map(t,(function(t){return e[t].symbol}));var o=r===i.SORT_DIRECTION_ASC?-1:1,s=function(e,t,n){return(e<t?-1:e>t?1:0)*n};switch(n){case i.INSTRUMENT_SORT.INSTRUMENT:var l=a.a.groupBy(t,(function(t){return e[t].weight}));for(var c in l){var u=a.a.groupBy(l[c],(function(t){return e[t].volatility}));for(var d in u)u[d]=a.a.sortBy(u[d],(function(t){return String(e[t].name).toLowerCase()}));l[c]=u}return a.a.reduce(a.a.keys(l).reverse(),(function(e,t){return a.a.reduce(a.a.keys(l[t]).reverse(),(function(e,n){return e.concat(l[t][n])}),e)}),[]);case i.INSTRUMENT_SORT.NAME:var p=a.a.map(t,(function(t){var n=e[t];return{name:n&&n.name,symbol:n&&n.symbol}})).sort((function(e,t){return n=e.name,i=t.name,r=o,n=String(n).toLowerCase(),i=String(i).toLowerCase(),s(n,i,r);var n,i,r}));return a.a.pluck(p,"symbol");case i.INSTRUMENT_SORT.CHANGE:return t;case i.INSTRUMENT_SORT.SENTIMENT:var f=a.a.map(t,(function(t){var n=e[t];return{symbol:n&&n.symbol,sentiment:n&&n.sentiment}})).sort((function(e,t){return a.a.isObject(e.sentiment)?a.a.isObject(t.sentiment)?s(e.sentiment.longs,t.sentiment.longs,o):-1:1}));return a.a.pluck(f,"symbol")}return[]}function B(e){return String(e).replace("/","-").toLowerCase()}function U(e,t,n){if(a.a.isUndefined(e)||a.a.isUndefined(t)||a.a.isUndefined(n))return null;var i=Number(e).toFixed(t),r=p.a.divideValueByPipSize(i,n);return p.a.formatValueToStringOrComponent(r,!1)}function V(e,t){return __("order.amount.spread_betting",e,t)}},function(e,t,n){"use strict";n.d(t,"i",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"g",(function(){return m})),n.d(t,"j",(function(){return g})),n.d(t,"c",(function(){return v})),n.d(t,"l",(function(){return b})),n.d(t,"k",(function(){return _})),n.d(t,"f",(function(){return y})),n.d(t,"e",(function(){return E}));var i=n(2),r=n(1),o=n.n(r),s=n(21),a=function(e){return e.notificationCenter},l=Object(i.a)(a,(function(e){return e[e.activeTab]})),c=function(e){return Object(i.a)(a,(function(t){return t[e]}))},u=Object(i.a)(a,(function(e){return e.tabs})),d=Object(i.a)(a,(function(e){return e.activeTab})),p=Object(i.a)(a,(function(e){return e.activeMessage})),f=Object(i.a)(l,(function(e){return e.messages})),h=(Object(i.a)(l,(function(e){return e.newIds})),Object(i.a)(l,(function(e){return e.garbage}))),m=Object(i.a)(l,(function(e){return e.marked})),g=function(e){return Object(i.a)(c(e),(function(e){return e.unread.count}))},v=Object(i.a)([a,u],(function(e,t){return o.a.reduce(t,(function(t,n){return t+e[n].garbage.count}),0)})),b=Object(i.a)(a,(function(e){return e.isOpened})),_=Object(i.a)(a,(function(e){return e.isActiveMessageVisible})),y=Object(i.a)(a,(function(e){return e.markAllCheckboxState})),E=function(e){return Object(i.a)(c(e),(function(e){return e.new.count}))}(s.TYPE_PERSONAL)},function(e,t,n){"use strict";n.d(t,"w",(function(){return T})),n.d(t,"G",(function(){return I})),n.d(t,"n",(function(){return A})),n.d(t,"c",(function(){return x})),n.d(t,"x",(function(){return N})),n.d(t,"d",(function(){return D})),n.d(t,"l",(function(){return R})),n.d(t,"p",(function(){return L})),n.d(t,"o",(function(){return M})),n.d(t,"q",(function(){return j})),n.d(t,"s",(function(){return F})),n.d(t,"t",(function(){return B})),n.d(t,"r",(function(){return U})),n.d(t,"m",(function(){return V})),n.d(t,"g",(function(){return z})),n.d(t,"h",(function(){return q})),n.d(t,"f",(function(){return H})),n.d(t,"H",(function(){return $})),n.d(t,"B",(function(){return G})),n.d(t,"C",(function(){return W})),n.d(t,"z",(function(){return Y})),n.d(t,"j",(function(){return K})),n.d(t,"y",(function(){return X})),n.d(t,"u",(function(){return Q})),n.d(t,"A",(function(){return J})),n.d(t,"v",(function(){return Z})),n.d(t,"D",(function(){return ee})),n.d(t,"E",(function(){return te})),n.d(t,"e",(function(){return ne})),n.d(t,"a",(function(){return ie})),n.d(t,"b",(function(){return re})),n.d(t,"k",(function(){return oe})),n.d(t,"F",(function(){return se})),n.d(t,"i",(function(){return ae}));var i=n(3),r=n(42),o=n(8),s=n.n(o),a=n(6),l=n.n(a),c=n(16),u=n.n(c),d=n(32),p=n.n(d),f=n(1),h=n.n(f),m=n(83),g=n(5),v=n.n(g),b=n(13),_=n(207),y=n(108),E=n(9),S=n.n(E),C=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function O(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var T=function(){return s.a.loadLatestUniverse()},P=function(e){return h.a.isString(e)?String(e).replace(/\r?\n|\r/g,""):e},k=function(e){return String(e).toLowerCase().replace(/[^a-z0-9]/gi,"_")},I=function(e){return String(e).split(/(?=[A-Z])/).join(" ")},A=function(e){return h.a.reduce(e,(function(e,t){var n=h.a.reduce(t,(function(e,t,n){return e[P(n)]=P(t),e}),{});return e[k(n.name)]=n,e}),{})},x=function(e,t,n,i){return h.a.chain(e).groupBy(t).filter((function(e){return e.length})).uniq().reduce((function(e,t){return e[k(h.a.first(t)[n])]=h.a.chain(t).pluck(i).uniq().map((function(e){return k(e)})).value(),e}),{}).value()},N=function(){var e=l.a.getUserCommonData().getSettings(),t=e&&w({},e.portfolios);return new Promise((function(e){return e(h.a.isObject(t)?t:{})}))},D=function(e,t){return h.a.reduce(e,(function(e,n,i){var r=String(i).split(b.F)[1];return t[r]&&e.push({scoreName:r,value:n}),e}),[])},R=function(e){return h.a.map(e,(function(e){return{scoreName:k(e.scoreTypeName)}}))},L=function(e){return h.a.pick(e,(function(e,t){return Object(m.startWith)(b.F,t)}))||r.b},M=function(e,t){return h.a.map(e,(function(e,n){var i=String(n).split(b.F)[1];return{scoreType:t[i].scoreTypeID,scoreWeight:parseFloat((e/b.t).toFixed(3))}}))},j=function(e){var t=e[b.I],n=e.scoreCriteria,i=e.selectedMarketCapRanges,r=e.selectedDailyVolumeRanges,o=e.selectedPeRatioRanges,s=e.selectedBetaRanges,a=e.selectedSectors,l=e.longPositionFactor&&e.longPositionFactor.value;return{backtestPortfolioSetup:{cashAmount:1e5,compilationType:l<1?1:2,longPositionFactor:l,shortPositionFactor:0},backtestTradingCostSetup:{fee:.005,maximumTradeCostPercent:.01,minimumTradeCost:1,tradingCostModelType:1},scoreCriteria:n,sectors:h.a.pluck(a,"value"),stocks:null,stocksBlackList:t&&t.blackList||[],stocksWhiteList:t&&t.whiteList||[],timeHorizon:e&&e.timeHorizon&&e.timeHorizon.value,universeSelectionFilters:h.a.reduce([[i,2],[r,3],[o,5],[s,4]],(function(e,t){return h.a.isEmpty(t[0])||e.push({filterTypeID:t[1],lowerLimit:t[0][0],upperLimit:t[0][1]}),e}),[]),universeTypeID:e&&e.universeType&&e.universeType.value}},F=function(e){return s.a.portfolioSubmitBacktest(e)},B=function(e){return s.a.quantBacktestState(e).then((function(e){return e.data}))},U=function(e){return s.a.quantGetBacktestOverview(e).then((function(e){return e.data}))},V=function(e,t){return!h.a.isEmpty(e)&&h.a.isString(e)&&h.a.isNaN(Number(e))?h.a.isObject(t)&&h.a.has(t,e)?__(String(t[e]).replace("$KEY$",h.a.toSnakeCase(e))):__(String(t).replace("$KEY$",h.a.toSnakeCase(e))):e},z=function(e){var t=h.a.find(e,(function(e){return e.year===b.a}))||{};return{totalReturn:t.backtestReturn,maxDrawDown:t.maxDrawDown,profitableDays:t.profitableDaysPercent,sharpeRatio:t.sharpe}},q=function(e,t,n){var i=function(e,t){var n=t===b.M.WITH_TRADING;return h.a.reduce(e,(function(e,t){var i=t.year;return parseInt(i)===(new Date).getFullYear()&&(i=b.Q),e[i]={totalStrategyReturn:n?t.backtestReturnWithTC:t.backtestReturn,totalUniverseReturn:t.universeReturn,totalIndexReturn:t.indexReturn,sharpeRatio:n?t.sharpeWithTC:t.sharpe,maxDrawDown:n?t.maxDrawDownWithTC:t.maxDrawDown,profitableDays:n?t.profitableDaysPercentWithTC:t.profitableDaysPercent,standardDeviation:n?t.annualStandardDeviationWithTC:t.annualStandardDeviation,alpha:n?t.alphaWithTC:t.alpha},e}),{})}(e);return{thead:h.a.chain(i).keys().map((function(e){return V(e,n)})).value(),tbody:h.a.reduce(i,(function(e,t){return h.a.each(t,(function(t,n){h.a.contains(b.h,n)&&(e[n]||(e[n]=[]),e[n].push(t))})),e}),{})}},H=function(e,t,n){return{thead:h.a.chain(e).first().keys().filter((function(e){return h.a.contains(b.b,e)})).sortBy((function(e){return h.a.indexOf(b.b,e)})).map((function(e){return V(e,n)})).value(),tbody:h.a.reduce(e,(function(e,t){var n=h.a.map(b.b,(function(e){var n=t[e];return h.a.isNil(n)?"-":h.a.contains(["marketCapAtOpenDate","threeMonthVolumeAtOpenDate"],e)?p()(n).format("0[.]00a"):h.a.isNumber(n)?p()(n).format("0[.]00"):n}));return e.push(n),e}),[])}},$=function(e){return{investmentInstrumentData:h.a.map(e,(function(e){return{side:b.E[e.positionTypeID]||null,symbol:e.symbol}}))}},G=function(){return s.a.quantLoadUserStrategies()},W=function(e,t,n,i,r){return s.a.quantSaveStrategy(e,t,n,i,r).then((function(e){var t=h.a.extend({dateSaved:null,lastPortfolioData:null,lastRebalanceDate:null,nextRebalanceDate:null,strategyDescription:null,strategyID:null},e.data);return t.strategyID?(t.createdTime=u()().valueOf(),t):Promise.reject(new Error("StrategyID must not be null."))}))},Y=function(e){return s.a.quantLoadPortfolioPerformance(e).then((function(e){return e.data}))},K=function(e,t,n,i){return new Promise((function(r){var o=h.a.chain(t).filter((function(e){return h.a.include(n,e.stockID)})).value(),s=h.a.reject([].concat(O(e),O(o)),(function(e){return h.a.contains(i,e.stockID)}));r(h.a.sortBy(s))}))},X=function(e){return s.a.loadMinInvestmentPortfolioAmount(e).then((function(e){return e.data&&e.data.amount}))},Q=function(e){return s.a.closePortfolio(e)},J=function(e,t,n){return s.a.loadPortfolioStatementUrl(e,t,n).then((function(e){return e.request.responseURL}))},Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e===b.C.IMPRESSION)v.a.trigger("eventos","onBoardFlow:Quantranks:impression");else if(e===b.C.CREATION){var n=t.trigger,i=t.step;v.a.trigger("eventos","onBoardFlow:Quantranks:clkButton",{trigger:n,step:i}),v.a.trigger("gtm:portfolio:creation",{trigger:n,step:i,label:"Portfolio Builder"})}},ee=function(e,t,n,i){var r={id:Number(e),quantranksId:String(e),portfolioName:String(t),takeProfit:Number(n),stopLoss:Number(i)};return s.a.quantUpdatePortfolio(r)},te=function(e){v.a.trigger("flow:invest-portfolio",e)},ne=function(e,t){if(!e)return null;var n=-1===Math.sign(e)?"-":"",i="0,0[.]"+h.a.repeat("0",t),r=p()(Number(Math.abs(e)).toFixed(t)).format(i);return{value:e,formatted:n+l.a.getUserCurrencySymbol()+r}},ie=function(e){var t=[].concat(O(e));return[t[1],t[5],t[7]]},re=function(e){var t=[].concat(O(e)).reverse();return[t[0],t[2],t[1]]},oe=function(){var e=S.a.getPortfolioTradingDays(),t=S.a.getPortfolioTradingHours(),n=C(t,2),r=n[0],o=n[1];if(!r||!o||h.a.isEmpty(e))return{};var s=h.a.map([r,o],(function(e){return y.user.setDateToMoment(e,"HH:ss")})),a=C(s,2),l=a[0],c=a[1],d=y.user.convertTimestampToMoment(y.user.getTimestampAsUTC()),p=u.a.utc(r,"HH:ss").format("ddd"),f=d.isBetween(u.a.utc(l,"HH:ss"),u.a.utc(c,"HH:ss")),m=h.a.contains(e,p);if(f&&m)return{start:__(i.shortDayDictionaryMapping[l.format("ddd")])+" "+l.format("HH:ss"),end:__(i.shortDayDictionaryMapping[c.format("ddd")])+" "+c.format("HH:ss")};var g=u.a.utc(d.format("YYYY-MM-DDTHH:mm:ss.sss")).isAfter(c.format("YYYY-MM-DDTHH:mm:ss.sss"))?1:0,v=h.a.indexOf(e,l.format("ddd")),b=-1===v?e[0]:e[v+g]||e[0],_=h.a.indexOf(e,c.format("ddd")),E=-1===_?e[0]:e[_+g]||e[0];return{start:__(i.shortDayDictionaryMapping[b])+" "+l.format("HH:ss"),end:__(i.shortDayDictionaryMapping[E])+" "+c.format("HH:ss")}},se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.y.CREATED_DATE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.SORT_DIRECTION_DESC,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.b;if(!h.a.isArray(e))return e;var s=n===i.SORT_DIRECTION_ASC?-1:1,a=function(e){return e.strategyDataTO||r.b};switch(t){case b.y.NAME:return e.sort((function(e,t){return Object(_.b)(e.portfolioName,t.portfolioName,s)}));case b.y.CREATED_DATE:return e.sort((function(e,t){return Object(_.a)(e.createdTime,t.createdTime,s)}));case b.y.CHANGE:return e.sort((function(e,t){return Object(_.a)(a(e).lastSevenDayReturn,a(t).lastSevenDayReturn,s)}));case b.y.GAIN_REBALANCED:return e.sort((function(e,t){return Object(_.a)(a(e).returnSinceLastRebalance,a(t).returnSinceLastRebalance,s)}));case b.y.GAIN_CREATED:var l=o.portfolioPositions;return e.sort((function(e,t){var n=l[e.portfolioProviderId]||r.b,i=l[t.portfolioProviderId]||r.b,o=e.executedAmount,a=t.executedAmount,c=n.TOTAL_PL,u=i.TOTAL_PL,d=!(0===o&&h.a.isNil(c)),p=!(0===a&&h.a.isNil(u));return Object(_.a)(d&&c/o*b.t||null,p&&u/a*b.t||null,s)}));case b.y.LAST_REBALANCED_DATE:return e.sort((function(e,t){return Object(_.a)(u()(a(e).lastRebalanceDate||0).toDate(),u()(a(t).lastRebalanceDate||0).toDate(),s)}));case b.y.NEXT_REBALANCED_DATE:return e.sort((function(e,t){return Object(_.a)(u()(a(e).nextRebalanceDate||0).toDate(),u()(a(t).nextRebalanceDate||0).toDate(),s)}));case b.y.PL:var c=o.portfolioPositions;return e.sort((function(e,t){var n=c[e.portfolioID]||r.b,i=c[t.portfolioID]||r.b;return Object(_.a)(n.TOTAL_PL,i.TOTAL_PL,s)}));case b.y.INVESTED_FUNDS:return e.sort((function(e,t){return Object(_.a)(e.executedAmount||e.requestedAmount,t.executedAmount||t.requestedAmount,s)}));default:return e}},ae=function(e){var t=__("portfolio-edit.name.default"),n=new RegExp("^"+t+"\\d+$"),i=h.a.isEmpty(e)?0:h.a.chain(e).filter((function(e){return n.test(e)})).map((function(e){return h.a.last(String(e).split(t))})).map((function(e){return parseInt(e)})).max().value();return t+(i+1)}},,function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"i",(function(){return r})),n.d(t,"h",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return l})),n.d(t,"s",(function(){return c})),n.d(t,"u",(function(){return u})),n.d(t,"t",(function(){return d})),n.d(t,"v",(function(){return p})),n.d(t,"x",(function(){return f})),n.d(t,"w",(function(){return h})),n.d(t,"B",(function(){return m})),n.d(t,"D",(function(){return g})),n.d(t,"C",(function(){return v})),n.d(t,"y",(function(){return b})),n.d(t,"A",(function(){return _})),n.d(t,"z",(function(){return y})),n.d(t,"a",(function(){return E})),n.d(t,"c",(function(){return S})),n.d(t,"b",(function(){return C})),n.d(t,"m",(function(){return w})),n.d(t,"o",(function(){return O})),n.d(t,"n",(function(){return T})),n.d(t,"p",(function(){return P})),n.d(t,"r",(function(){return k})),n.d(t,"q",(function(){return I})),n.d(t,"j",(function(){return A})),n.d(t,"l",(function(){return x})),n.d(t,"k",(function(){return N})),n.d(t,"H",(function(){return D})),n.d(t,"E",(function(){return R})),n.d(t,"G",(function(){return L})),n.d(t,"F",(function(){return M}));var i="settings/CHECK_BLOGGERS_ENABLED",r="settings/CHECK_BLOGGERS_ENABLED_SUCCESS",o="settings/CHECK_BLOGGERS_ENABLED_ERROR",s="settings/CHECK_ANALYSTS_ENABLED",a="settings/CHECK_ANALYSTS_ENABLED_SUCCESS",l="settings/CHECK_ANALYSTS_ENABLED_ERROR",c="settings/CHECK_HEDGEFUNDS_ENABLED",u="settings/CHECK_HEDGEFUNDS_ENABLED_SUCCESS",d="settings/CHECK_HEDGEFUNDS_ENABLED_ERROR",p="settings/CHECK_INSIDERS_ENABLED",f="settings/CHECK_INSIDERS_ENABLED_SUCCESS",h="settings/CHECK_INSIDERS_ENABLED_ERROR",m="settings/CHECK_NEWS_SENTIMENT_ENABLED",g="settings/CHECK_NEWS_SENTIMENT_ENABLED_SUCCESS",v="settings/CHECK_NEWS_SENTIMENT_ENABLED_ERROR",b="settings/CHECK_NEWS_FEED_ENABLED",_="settings/CHECK_NEWS_FEED_SUCCESS",y="settings/CHECK_NEWS_FEED_ERROR",E="settings/CHECK_ACUITY_NEWS_SENTIMENT_ENABLED",S="settings/CHECK_ACUITY_NEWS_SENTIMENT_ENABLED_SUCCESS",C="settings/CHECK_ACUITY_NEWS_SENTIMENT_ENABLED_ERROR",w="settings/CHECK_EVENTS_AND_TRADE_ENABLED",O="settings/CHECK_EVENTS_AND_TRADE_SUCCESS",T="settings/CHECK_EVENTS_AND_TRADE_ENABLED_ERROR",P="settings/CHECK_FUNDAMENTALS_ENABLED",k="settings/CHECK_FUNDAMENTALS_SUCCESS",I="settings/CHECK_FUNDAMENTALS_ENABLED_ERROR",A="settings/CHECK_CUSTOMER_LEVELS_ENABLED",x="settings/CHECK_CUSTOMER_LEVELS_SUCCESS",N="settings/CHECK_CUSTOMER_LEVELS_ERROR",D="settings/SET_SETTINGS",R="settings/SAVE_SETTINGS_BY_KEY",L="settings/SAVE_SETTINGS_BY_KEY_SUCCESS",M="settings/SAVE_SETTINGS_BY_KEY_ERROR"},function(e,t,n){(function(i,r,o){var s,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};void 0===(s=function(e,t,i){var r=n(24),s=n(8),l=n(5),c=n(1),u=n(83).startWith,d=n(1316),p=n(185),f=n(3).HTTP_STATUS_CODE,h=n(1317).LANGUAGE,m={cs:"cz",cn:"zh"},g=["ar"],v={};function b(e,t){for(var n=String(e).toLowerCase(),i=arguments.length,r=Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];var s=t.apply(void 0,[n].concat(r));return s===n?e:s}function _(e,t,n){var i=arguments;return(v[t=e?e+t:t]?v[t]:t).replace(/{([0-9])}/gi,(function(e,t){var r=Number(t);return c.isArray(n)?n[r]:i[r+2]}))}function y(e,t){var n=Array.prototype.slice.call(arguments);return v["indigo."+e]?_.apply(null,["indigo."].concat(n)):_.apply(null,[null].concat(n))}function E(e){var t="currency.symbol."+e;return v[t]?v[t]:e}function S(e){return Object.keys(e).reduce((function(t,n){return t[n.toLowerCase()]=e[n],t}),{})}window.__=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=b.apply(void 0,[e,y].concat(n));return r},window.__currency=function(e){return b(e,E)},window.__default=function(e,t){for(var n,i=arguments.length,r=Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];var s,a=(n=window).__.apply(n,[e].concat(r));a===e&&(a=(s=window).__.apply(s,[t].concat(r)));return a},window.__group=function(e){return function(t){return __(e+t)}};var C=r.Model.extend({defaults:{lang:"en",languages:[]},initialize:function(){r.Model.prototype.initialize.apply(this,arguments),this.on("language:changed",this.onLanguageChange),l.on("localization:reload",this.loadDictionary,this),this.fetch(),this.onLanguageChange()},mergeDictionary:function(e){var t={},n=d.split("\n");return c.each(n,(function(e){var n=e.indexOf("=");if(-1!==n){var i=e.slice(0,n).trim();t[String(i).toLowerCase()]=e.slice(n+1).trim()}})),e=S(e),c.extend({},e,t)},save:function(){var e=JSON.stringify(a({},this.toJSON(),{dictionary:v}));localStorage.setItem("localization",e)},fetch:function(){var e=localStorage.getItem("localization"),t=void 0;e&&(t=JSON.parse(e),this.set(c.omit(t,"dictionary"))),v=this.mergeDictionary(c.result(t,"dictionary",{}))},loadDictionary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getCurrentLanguage(),t=arguments[1],n=s.loadDictionary(e).then(this.loadDictionarySuccess.bind(this,e,t));return!1!==t&&n.then(this.generateLanguageChangedEvent.bind(this)),n.catch(this.loadDictionaryError.bind(this,t))},loadDictionarySuccess:function(e,t,n){if(n.status===f.NOT_MODIFIED)return Promise.resolve();var i=n.data;return v=this.mergeDictionary(i),this.set({lang:e}),this.save(),Promise.resolve()},mergeDictionaryOnDemand:function(e){e=S(e),Object.assign(v,e),this.save()},hasTranslationKey:function(e){return c.has(v,String(e).toLowerCase())},loadDictionaryError:function(e,t){v=this.mergeDictionary(),!1!==t&&this.trigger("language:changing:after")},loadLanguages:function(){return this.requestLanguages()},requestLanguages:function(){return s.loadLanguages().then(this.requestLanguagesSuccess.bind(this)).catch(this.requestLanguagesError.bind(this))},requestLanguagesSuccess:function(e){this.set("languages",e.data),this.save()},requestLanguagesError:function(e){},getLanguage:function(){return this.get("lang")},getCurrentLanguage:function(){return this.getLanguage()},getCurrentLanguageFullName:function(){var e=this.getLanguage();return c.findKey(h,(function(t){return t===e}))},getDetectedLanguage:function(e){var t=this,n=this.validate(p.deleteQueryParam("lang"));if(n)return this.set("queryLanguage",n),this.unset("sessionLanguage"),Promise.resolve(n);if(n=this.validateKey("sessionLanguage"))return Promise.resolve(n);if(n=this.validateKey("queryLanguage"))return Promise.resolve(n);if(n=this.validateKey("browserLanguage"))return Promise.resolve(n);var i=navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage;return(i=this.validate(i.substr(0,2)))&&"en"!==i?(this.set("browserLanguage",i),Promise.resolve(i)):(n=this.validate(e))?(this.set("sessionLanguage",n),Promise.resolve(n)):(n=this.validateKey("locationLanguage"))?Promise.resolve(n):s.getLocation().then((function(e){if(c.has(e.data,"language")){var n=t.validate(e.data.language);return n?(t.set("locationLanguage",n),Promise.resolve(n)):Promise.resolve("en")}return Promise.resolve("en")})).catch((function(e){return Promise.resolve("en")}))},validate:function(e){return e&&c.contains(this.getLanguages(),e)?e:(e=m[e])&&c.contains(this.getLanguages(),e)?e:null},validateKey:function(e){return this.validate(this.get(e))},getLanguages:function(){return this.get("languages")},setLanguage:function(e){return this.validate(e)?(this.set("sessionLanguage",e),this.trigger("language:changing:before"),this.loadDictionary(e)):Promise.resolve(!1)},generateLanguageChangedEvent:function(){this.trigger("language:changed"),this.trigger("language:changing:after")},checkRtl:function(){var e=c.contains(g,this.getLanguage())?"rtl":"ltr";o("html").attr("dir",e)},getKeysGroup:function(e){return c.reduce(v,(function(t,n,i){return u(e,i)&&t.push(i.slice(i.lastIndexOf(".")+1)),t}),[])},onLanguageChange:function(){this.checkRtl(),o("html").attr("lang",this.getLanguage())},splitByComma:function(e){return e.indexOf("")>-1?e.split(""):e.split(",")},fixCategoryName:function(e,t){var n=__(e),i=String(t).replace(/_/gi," "),r=i.charAt(0).toUpperCase()+i.substr(1);return n===e?r:n}});i.exports=new C}.call(t,n,t,e))||(e.exports=s)}).call(this,n(1),n(24),n(12))},function(e,t,n){"use strict";n.r(t),n.d(t,"getSettings",(function(){return s})),n.d(t,"isAnalystsRatingsEnabled",(function(){return a})),n.d(t,"isBloggersOpinionsEnabled",(function(){return l})),n.d(t,"isCustomerLevelsEnabled",(function(){return c})),n.d(t,"isInsidersActivityEnabled",(function(){return u})),n.d(t,"isHedgeFundsEnabled",(function(){return d})),n.d(t,"isNewsSentimentEnabled",(function(){return p})),n.d(t,"isNewsFeedEnabled",(function(){return f})),n.d(t,"isEventsAndTradeEnabled",(function(){return h})),n.d(t,"isAcuityNewsSentimentEnabled",(function(){return m})),n.d(t,"isFundamentalsEnabled",(function(){return g})),n.d(t,"isNewAdvancedDashboardServicesPrimaryExpanded",(function(){return v})),n.d(t,"isNewAdvancedDashboardServicesSecondaryExpanded",(function(){return b})),n.d(t,"getNewAdvancedDashboardServicesPrimarySize",(function(){return _})),n.d(t,"getNewAdvancedDashboardServicesSecondarySize",(function(){return y})),n.d(t,"isNewAdvancedDashboardServicesInteracted",(function(){return E})),n.d(t,"isNewAdvancedDashboardInstrumentListExpanded",(function(){return S})),n.d(t,"getSelectedServicePrimary",(function(){return C})),n.d(t,"getSelectedServiceSecondary",(function(){return w})),n.d(t,"getSettingValueByKey",(function(){return O}));var i=n(2),r=n(23),o=n(127),s=function(e){return e.settings},a=Object(i.a)(s,(function(e){return e&&e.isAnalystsEnabled})),l=Object(i.a)(s,(function(e){return e&&e.isBloggersEnabled})),c=Object(i.a)(s,(function(e){return e&&e.isCustomerLevelsEnabled})),u=Object(i.a)(s,(function(e){return e&&e.isInsidersEnabled})),d=Object(i.a)(s,(function(e){return e&&e.isHedgeFundsEnabled})),p=Object(i.a)(s,(function(e){return e&&e.isNewsSentimentEnabled})),f=Object(i.a)(s,(function(e){return e&&e.isNewsFeedEnabled})),h=Object(i.a)(s,(function(e){return e&&e.isEventsAndTradeEnabled})),m=Object(i.a)(s,(function(e){return e&&e.isAcuityNewsSentimentEnabled})),g=Object(i.a)(s,(function(e){return e.isFundamentalsEnabled})),v=Object(i.a)(s,(function(e){return e[o.SETTINGS_IS_ADVANCED_DASHBOARD_SERVICES_PRIMARY_EXPANDED]})),b=Object(i.a)(s,(function(e){return e[o.SETTINGS_IS_ADVANCED_DASHBOARD_SERVICES_SECONDARY_EXPANDED]})),_=Object(i.a)(s,(function(e){return e[o.SETTINGS_ADVANCED_DASHBOARD_SERVICES_PRIMARY_SIZE]})),y=Object(i.a)(s,(function(e){return e[o.SETTINGS_ADVANCED_DASHBOARD_SERVICES_SECONDARY_SIZE]})),E=Object(i.a)(s,(function(e){return e[o.SETTINGS_IS_ADVANCED_DASHBOARD_SERVICES_INTERACTED]})),S=Object(i.a)(s,(function(e){return e[o.SETTINGS_IS_ADVANCED_DASHBOARD_INSTRUMENT_LIST_EXPANDED]})),C=Object(i.a)(s,(function(e){return e[o.SETTINGS_SELECTED_SERVICE_PRIMARY]})),w=Object(i.a)(s,(function(e){return e[o.SETTINGS_SELECTED_SERVICE_SECONDARY]})),O=Object(i.a)([s,r.a],(function(e,t){return e[t]}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"f",(function(){return r})),n.d(t,"h",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"m",(function(){return a})),n.d(t,"i",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"l",(function(){return u})),n.d(t,"n",(function(){return d})),n.d(t,"j",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"k",(function(){return m})),n.d(t,"c",(function(){return g}));var i="ALL_NEWS",r="newsReducer/LOAD_NEWS",o="newsReducer/LOAD_NEWS_SUCCESS",s="newsReducer/LOAD_NEWS_ERROR",a="newsReducer/SELECT_NEWS",l="newsReducer/OPEN_NEWS_PAGE",c="newsReducer/CLOSE_NEWS_PAGE",u="newsReducer/SELECT_DROPDOWN_FILTER",d="newsReducer/START_TIMER_UPDATE",p="newsReducer/REMOVE_TIMER_UPDATE",f="newsReducer/INCREMENT_REF_COUNT",h="newsReducer/DECREMENT_REF_COUNT",m="newsReducer/RESET_NEWS_BY_TICKER",g="newsReducer/CREATE_GROUP"},,function(e,t,n){var i;void 0===(i=function(e,t,n){return{get applicationHost(){return"https://"+_app.getPlatformHost()},get wsProtocol(){return"https:"===location.protocol||"file:"===location.protocol?"wss:":"ws:"},get webSocketHost(){return _app.getPlatformHost()},get webSocketUrl(){return this.wsProtocol+"//"+this.webSocketHost+"/fxclient5/client/connector?X-Atmosphere-tracking-id=0&X-Atmosphere-Framework=2.3.2-javascript&X-Atmosphere-Transport=websocket&X-Atmosphere-TrackMessageSize=true&Content-Type=text/x-gwt-rpc;%20charset=UTF-8&X-atmo-protocol=true&sessionState=dx-new&osVersion="+device.version},get baseUrl(){return"https://"+window._app.getPlatformHost()+"/trading-platform/"},creditCards:{VISA:2,MASTER_CARD:1,DINERS:3,AMERICAN_EXPRESS:4,JCB:5,DISCOVER:6,LASERCARD:7,MAESTRO:8,SOLO:9,SWITCH:10},tradePlatformIds2NameMap:{1:"ACT",2:"MT4",3:"FOREX_TRADER",4:"IFP_GAMING",5:"MULTI_TRADER",6:"WEB_FX",7:"TRADENCY_MT4",8:"SPOT_OPTION",9:"CURRENSEE_MT4",10:"SIGNAL_TRADER_MT4",11:"COSMOS",12:"FOREX_STRATEGY_MT4",14:"BINARYOPTIONS",15:"PLUS500",16:"MT5",18:"SAXO"},get accountStatementURL(){return this.applicationHost+"/fxclient5/controllers/reports/account/?from=<%=beginPeriod%>&to=<%=endPeriod%>&isToday=<%=isToday%>"},get accountStatementDeepLinkUrl(){return this.applicationHost+"/fxclient5/controllers/reports/deeplink?period=<%=period%>"},rateGraynessDelayMs:6e4,uploadDocumentsFileExt:/\.(jpe?g|jpg|png|bmp?|pdf|webp|img|art|dwg|dxf|gif|ico|jfif|jfif-tbnl|pct|pcx|pict?|pm|qtif|docx?|odt|txt|rtf|tif?f|pptx?)$/i,uploadDocumentsFileMimeTypes:"image/*,application/pdf,application/msword,application/doc,application/vnd.ms-powerpoint,application/vnd.oasis.opendocument.text,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.openxmlformats-officedocument.presentationml.presentation,text/richtext,text/plain,text/rtf,application/rtf,application/x-rtf,application/x-soffice",uploadDocumentsFileMaxSize:10485760,registrationSource:{REGULAR:0,GOOGLE_ONE_TAP:1,GOOGLE_CONNECT:2,FACEBOOK_CONNECT:3},tooltip:{crosshair:{indicators:{splitBy:".",defaultSeparator:" : ",list:{SMA:{propPath:["title","parameters.1.value"],multiPropsBitwise:"&&",separator:[" : "]}}}}},commentaries:{updateInterval:18e4,newStateHighlightTimeout:6e4},news:{headlines:{minPostsCount:3,maxPostsCount:20}},notificationCenter:{limiter:{newCount:9,unreadCount:99,exceedSymbol:"+"},messages:{flushDelay:5e3,viewDelay:3e3,preloadOnScrollDelay:500,preloadBefore:0,preloadCount:10},loader:{displayDelay:2e3}},services:{splitter:{size:8,primary:{defaultSize:125,threshold:38},secondary:{defaultSize:360,threshold:90}}}}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){"use strict";n.r(t),n.d(t,"getUi",(function(){return v})),n.d(t,"getUiSection",(function(){return b})),n.d(t,"getInstrumentDetailsSymbol",(function(){return _})),n.d(t,"getInstrumentDetailsNormalizedSymbol",(function(){return y})),n.d(t,"getSelectedInstrumentNewsId",(function(){return E})),n.d(t,"getUiSelectedInstrumentCategorySymbol",(function(){return S})),n.d(t,"getSelectedInstrumentCategorySymbols",(function(){return C})),n.d(t,"getSelectedInstrumentCategoryTreePath",(function(){return w})),n.d(t,"getAsideBoxState",(function(){return O})),n.d(t,"getChartVisibility",(function(){return T})),n.d(t,"getChartState",(function(){return P})),n.d(t,"getChartHeight",(function(){return k})),n.d(t,"getInstrumentDetailsState",(function(){return I})),n.d(t,"isInstrumentInsightTabAvailable",(function(){return A})),n.d(t,"getInstrumentInfo",(function(){return x})),n.d(t,"getInstrumentInfoVisibility",(function(){return N})),n.d(t,"getSetSelectedCategorySections",(function(){return D})),n.d(t,"getInstrumentSymbolMap",(function(){return R})),n.d(t,"getSelectedCategorySectionsSymbols",(function(){return L})),n.d(t,"getSelectedCategorySectionsSortName",(function(){return M})),n.d(t,"getSelectedCategorySectionsSortDir",(function(){return j})),n.d(t,"getSelectedTabId",(function(){return F})),n.d(t,"getSelectedTabIdManageAccounts",(function(){return B})),n.d(t,"getRootCategoryUrlInSelectedCategory",(function(){return U})),n.d(t,"getRootCategoryInSelectedCategory",(function(){return V})),n.d(t,"getSymbolsSortName",(function(){return z})),n.d(t,"getSymbolsSortDirection",(function(){return q})),n.d(t,"getSortedInstrumentSymbols",(function(){return H})),n.d(t,"sortInstrumentSymbols",(function(){return $})),n.d(t,"getSortedFavoritesSymbols",(function(){return G})),n.d(t,"getSelectedSignalBoxState",(function(){return W})),n.d(t,"getInstrumentTreeCategoriesOpenState",(function(){return Y})),n.d(t,"getInstrumentExpandedMap",(function(){return K})),n.d(t,"getInstrumentExpandedMapCurrentSection",(function(){return X})),n.d(t,"getInstrumentCurrentSectionExpandedState",(function(){return Q})),n.d(t,"getInstrumentSymbolsForCurrentSection",(function(){return J})),n.d(t,"isInstrumentsContainOTH",(function(){return Z})),n.d(t,"getFeaturedCategoryPath",(function(){return ee})),n.d(t,"getUiHeader",(function(){return te})),n.d(t,"isWebinarTooltipShown",(function(){return ne})),n.d(t,"getOpenPositionPLType",(function(){return ie})),n.d(t,"isMultiChartsEnabled",(function(){return re}));var i=n(19),r=n(49),o=n(191),s=n(236),a=n(235),l=n(634),c=n(633),u=n(2),d=n(1),p=n.n(d),f=n(265),h=n(23),m=n(27),g=n(64),v=function(e){return e.ui},b=Object(u.a)(v,(function(e){return e.section})),_=Object(u.a)(v,(function(e){return e.instrumentDetailsSymbol})),y=Object(u.a)(v,(function(e){return String(Object(g.transformSBSymbolToSymbol)(e.instrumentDetailsSymbol)).replace(/\//g,"~")})),E=Object(u.a)(v,(function(e){return e.selectedInstrumentDetailsNewsId})),S=Object(u.a)(v,(function(e){return e.selectedInstrumentCategorySymbol})),C=Object(u.a)(v,(function(e){return e.selectedInstrumentCategorySymbols})),w=Object(u.a)(v,(function(e){return e.selectedInstrumentCategoryTreePath})),O=Object(u.a)(v,(function(e){return e.asideBoxState})),T=Object(u.a)(v,(function(e){return e.chart.visibility})),P=Object(u.a)(v,(function(e){return e.chart.state})),k=Object(u.a)(v,(function(e){return e.chart.height})),I=Object(u.a)(v,(function(e){return e.instrumentDetailsState})),A=Object(u.a)([f.o,o.u,s.h,a.m,l.n,c.h],(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.a.some(t,(function(e){return!!e}))})),x=Object(u.a)(v,(function(e){return e.instrumentInfo})),N=Object(u.a)(x,(function(e){return e.visibility})),D=Object(u.a)(v,(function(e){return e.selectedCategorySections})),R=Object(u.a)(i.getInstruments,(function(e){return e.instrumentSymbolMap})),L=Object(u.a)(D,(function(e){return e.symbols})),M=Object(u.a)(D,(function(e){return e.sortName})),j=Object(u.a)(D,(function(e){return e.sortDir})),F=Object(u.a)(v,(function(e){return e.selectedTabIdInstrumentDetails})),B=Object(u.a)(v,(function(e){return e.selectedTabIdManageAccounts})),U=Object(u.a)(w,(function(e){return"/"+String(e).split("/")[1]+"/"})),V=Object(u.a)([U,i.getInstrumentsTreePathsMap],(function(e,t){return t[e]})),z=Object(u.a)(v,(function(e){return e.symbolsSortName})),q=Object(u.a)(v,(function(e){return e.symbolsSortDirection})),H=Object(u.a)([R,C,z,q],r.sortInstruments),$=Object(u.a)([R,h.a,z,q],r.sortInstruments),G=Object(u.a)([R,m.getFavorites,z,q],r.sortInstruments),W=Object(u.a)(v,(function(e){return e.selectedSignalBoxSource})),Y=Object(u.a)(v,(function(e){return e.instrumentTreeCategoriesOpenState})),K=Object(u.a)(v,(function(e){return e.instrumentExpandedMap})),X=Object(u.a)(K,b,w,(function(e,t,n){return e[t+("favorites"===t?"":n)]})),Q=Object(u.a)([X,h.a],(function(e,t){return e&&e[t]||!1})),J=Object(u.a)([H,G,b],(function(e,t,n){return"favorites"===n?t:e})),Z=Object(u.a)([J,function(e){return e}],(function(e,t){return e&&p.a.some(e,(function(e){return Object(i.isInstrumentOTH)(t,e)}))})),ee=Object(u.a)(v,(function(e){return e.featuredCategoryPath})),te=Object(u.a)(v,(function(e){return e.header})),ne=Object(u.a)(te,(function(e){return e.isWebinarTooltipShown})),ie=Object(u.a)(v,(function(e){return e.openPositionPLType})),re=Object(u.a)(v,(function(e){return e.multiChartsEnabled}))},,function(e,t,n){"use strict";n.r(t),n.d(t,"GMT",(function(){return i})),n.d(t,"LOCAL",(function(){return r})),n.d(t,"OPEN_POSITION_OPTIONS",(function(){return o})),n.d(t,"THEME_OPTIONS",(function(){return s})),n.d(t,"CHART_MODE_BASIC",(function(){return a})),n.d(t,"CHART_MODE_ADVANCED",(function(){return l})),n.d(t,"CHART_MODE_OPTIONS",(function(){return c})),n.d(t,"TRADING_VIEW_BASIC",(function(){return u})),n.d(t,"TRADING_VIEW_ADVANCED",(function(){return d})),n.d(t,"TRADING_VIEW_OPTIONS",(function(){return p}));var i="GMT",r="local",o=["basic","advanced","interactive"],s=[0,1],a="basic",l="advanced",c=[a,l],u="basic",d="advanced",p=[u,d]},,function(e,t,n){"use strict";n.r(t),n.d(t,"DEFAULT_OPEN_POSITION_MODE",(function(){return r})),n.d(t,"DEFAULT_TRADING_VIEW_MODE",(function(){return o})),n.d(t,"DEFAULT_CHART_MODE",(function(){return s})),n.d(t,"DEFAULT_CHART_MODE_MARKETSX",(function(){return a})),n.d(t,"TRADING_CENTRAL_ENABLED_KEY",(function(){return l})),n.d(t,"MARGIN_VALUES",(function(){return c})),n.d(t,"MARGIN_VALUES_WARNING_LEVELS",(function(){return u}));var i=n(61),r="basic",o="basic",s=i.CHART_MODE_BASIC,a=i.CHART_MODE_ADVANCED,l="indigo_tradingCentralEnabled",c={MARGIN_LEVEL_1:120,MARGIN_LEVEL_2:100,LIQUIDATION_LEVEL:50,LIQUIDATION_LEVEL_BUFFER:60,MARGIN_LEVEL_OK:121,BONUS_AMOUNT_CHECK_PERIOD:3e5,CHECK_PENDING_DEPOSIT_INTERVAL:18e4,CHECK_PENDING_DEPOSIT_FORCE_INTERVAL:5e3,CHECK_PENDING_DEPOSIT_FORCE_MAX_COUNT:20,MAX_NUMBER_SIZE:9,RISK_LEVEL_MAX:1e4},u=[c.MARGIN_LEVEL_2,c.LIQUIDATION_LEVEL_BUFFER,c.LIQUIDATION_LEVEL]},function(e,t,n){"use strict";n.r(t),n.d(t,"transformSBSymbolToSymbol",(function(){return r})),n.d(t,"transformSymbolToSBSymbol",(function(){return o})),n.d(t,"checkIsSymbolSB",(function(){return s}));var i=n(3);function r(e){if("string"!=typeof e)return e;var t=e.indexOf(i.SPREAD_BET_INSTRUMENT_SYMBOL_IDENTIFIER);return t>=0?e.slice(0,t):e}function o(e){return"string"!=typeof e?e:e.indexOf(i.SPREAD_BET_INSTRUMENT_SYMBOL_IDENTIFIER)>=0?e:e+i.SPREAD_BET_INSTRUMENT_SYMBOL_IDENTIFIER}function s(e){return"string"!=typeof e?e:e.indexOf(i.SPREAD_BET_INSTRUMENT_SYMBOL_IDENTIFIER)>=0}},,function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var r=n(24),o=n(1257),s=n(5),a=n(1),l=n(58);n(1258);var c=null,u={};var d=["QUOTE","chartFeedSubtopic","POSITION_METRICS","ACCOUNT_METRICS","PORTFOLIO_METRICS","SUMMARY","FX_SYSTEM_SETTINGS"],p=a.extend({},r.Events,{atmosphereId:null,initialize:function(){this.listenTo(s,"user:login",this.open),this.listenTo(s,"user:logout",this.close)},open:function(){this.driver=new o(l.webSocketUrl),this.listenTo(this.driver,"close",this.onClosed),this.listenTo(this.driver,"message",this.onMessage),this.listenTo(this.driver,"open",this.onOpened),this.listenTo(this.driver,"error",this.onError)},close:function(){this.driver&&this.driver.close()},onClosed:function(){n(6).getSessionModel().isSessionInactive()||(s.trigger("ui:connection-lost"),s.trigger("stream:closed"))},onOpened:function(){s.trigger("stream:opened")},onError:function(e){},onMessage:function(e){if(/^(\d\d\|)[a-zA-Z0-9-]+(\|0\|X\|)$/g.test(e)){var t=e.split("|")[1];this.atmosphereId=t,this.trigger("ready"),s.trigger("stream:ready")}else{var n=e.indexOf("|"),i=e.substr(n);if("{"!==i[1])return;try{i=JSON.parse(i.substr(1))}catch(e){return e}c&&c&&(c.destroy(),c=null);var r=i.type,o="stream:type:"+r;a.include(d,r)?a.isEqual(u[r],i.body)||(u[r]=i.body,this.trigger("type:"+r,i.body),s.trigger(o,i.body)):(this.trigger("type:"+r,i.body),s.trigger(o,i.body))}},send:function(e){},getAtmosphereId:function(){return this.atmosphereId}});p.initialize(),i.exports=p}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(24))},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return c}));var i="services/CHECK_SERVICES",r="services/CHECK_SERVICE_SUCCESS",o="services/CHECK_SERVICE_ERROR",s="services/LOAD_SERVICES_SUCCESS",a="services/LOAD_SERVICES_ERROR",l="services/SELECT_DROPDOWN_SERVICE",c={SIGNALS:"service.signals.page.title",COMMENTARY:"service.commentary.page.title",NEWS:"news.page.title",XRAY:"webinars.header"}},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var r=n(12),o=n(1),s=n(5),a=n(20),l=n(146),c=o.template(n(1336));function u(e){var t=o.map(e.split(" "),(function(e){return e.toUpperCase()}));return"<span>"+o.map(o.initial(t),(function(e){return"<span class='color-platform-text-color'>"+e+" </span>"})).join("")+"<span class='color-platform-accent'>"+o.last(t)+"</span></span>"}i.exports=a.extend({name:"",className:"x-popup responsive-popup x-popup-stretch-xs x-popup-no-padding-xs",timingMs:200,isOpened:!1,attributes:{tabindex:"-1"},events:function(){return o.extend({},o.result(a.prototype,"events"),{"click .fn-close-popup":"closePopup","click .fn-close":"close","click .fn-previous":"onPrevious","click .fn-size":"onSize",keydown:"onKeyDown"})},template:c,getOptions:function(e){return o.extend({},{position:"absolute",caption:"",isHeaderShowed:!1,closeIconStyle:"blue",headerBgStyle:"grey",headerStyle:"default",translucent:"1",isTranslucent:!0,zIndex:"auto",boxWidth:"",maxBoxWidth:"100%",isDraggable:!1,isMinimizable:!1,draggableOptions:[-480,600,480,-600],showBoxShadow:!1,showHeader:!0,overlayTranslucent:"1",previousCaption:"",style:"",closeOnESC:!0,onPrevious:function(){},onNext:function(){}},e)},initialize:function(e){a.prototype.initialize.apply(this,arguments),this.options.zIndex=l.getZindexForPopup(this.options.zIndex),l.addPopup({name:this.name,zIndex:this.options.zIndex})},onKeyDown:function(e){this.options.closeOnESC&&27===(e=e||window.event).keyCode&&this.close()},getDraggableContainer:function(){return this.$el.find(".x-popup-content")[0]},getDraggableTrigger:function(e){var t=this.$el.find(".responsive-header");return t.addClass(e||"cursor--move"),t[0]},render:function(){var e=this;a.prototype.render.call(this),this.el.focus(),this.$el.html(r(this.template(this.getRenderTemplateData()))),this.$el.addClass("responsive-popup-"+this.options.position+" x-popup-"+this.options.position),this.$el.addClass("responsive-popup-translucent-"+this.options.translucent+" x-popup-translucent-"+this.options.translucent+" responsive-popup-translucent-"+this.options.translucent),this.$el.attr("id",this.cid),"auto"!==this.options.zIndex&&this.$el.css({zIndex:this.options.zIndex}),this.show(),this.options.isDraggable&&(this.$el.addClass("draggable"),this.options.isTranslucent||this.$el.addClass("draggable--bg-transparent"),r("body").removeClass("scroll-lock"),n.e(137).then(n.t.bind(null,1919,7)).then((function(t){new(0,t.default)(e.getDraggableTrigger()).draggable({restrict:{restriction:{top:e.options.draggableOptions[0],bottom:window.innerHeight+e.options.draggableOptions[2],left:e.options.draggableOptions[3],right:window.innerWidth+e.options.draggableOptions[1]},endOnly:!0,elementRect:{top:0,left:0,bottom:1,right:1}},autoScroll:!1,onmove:function(t){var n=e.getDraggableContainer(t),i=(parseFloat(n.getAttribute("data-x"))||0)+t.dx,r=(parseFloat(n.getAttribute("data-y"))||0)+t.dy;n.style.webkitTransform=n.style.transform="translate("+i+"px, "+r+"px)",n.setAttribute("data-x",i),n.setAttribute("data-y",r)}}).styleCursor(!1).ignoreFrom(".btn")})))},getRenderTemplateData:function(){return{cid:this.cid,options:this.options,parseWizardHeader:u}},showLoading:function(){return this.hide(),this.$el.find(".responsive-container").addClass("loader-bg"),this},hideLoading:function(){return this.$el.find(".responsive-container").removeClass("loader-bg"),this.show(),this},hide:function(){return this.$el.removeClass("show-popup"),r("html").removeClass("scroll-lock"),this},show:function(){return this.openPanel(),this.$el.addClass("show-popup"),this.lockScrollOnBody(),s.trigger("popup:stack:added",this.options),this},unbind:function(){this.undelegateEvents()},destroy:function(){r("html").removeClass("scroll-lock"),l.deletePopup(this.name),a.prototype.destroy.call(this)},closePopup:function(){this.close()},close:function(){this.closePanel();var e=this.options.onClose;o.isFunction(e)&&e.apply(this,arguments)},setContent:function(e){this.$el.find(".responsive-popup-body").html(e)},getPopupViewId:function(){return this.cid},lockScrollOnBody:function(){r("body").addClass("scroll-lock")},unlockScrollOnBody:function(){r("body").removeClass("scroll-lock")},openPanel:function(){this.showOverlay(),setTimeout(this.addOpenStateClass.bind(this),10),this.isOpened=!0},closePanel:function(){this.hideOverlay(),this.removeOpenStateClass(),this.hide(),this.destroy(),this.unlockScrollOnBody(),this.isOpened=!1},onPrevious:function(){this.close(),this.options.onPrevious()},onSize:function(){var e=this.$el.find(".size i");e.hasClass("icon-minimize")?(this.$el.addClass("minimized"),e.removeClass("icon-minimize").addClass("icon-maximize")):(this.$el.removeClass("minimized"),e.removeClass("icon-maximize").addClass("icon-minimize"))},addOpenStateClass:function(){this.$el.addClass("responsive-popup-opened")},removeOpenStateClass:function(){this.$el.removeClass("responsive-popup-opened")},showOverlay:function(){var e=this.getOverlayEl(),t=e.css("opacity");e.css("opacity",0),setTimeout((function(){e.css("opacity",t)}),0)},hideOverlay:function(){this.getOverlayEl().css("opacity",0)},getOverlayEl:function(){return r(this.$(".slide-box-overlay"))}},{parseWizardHeader:u})}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){"use strict";n.r(t);var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=window.device,o={},s=[];window.device=o;var a=window.document.documentElement,l=window.navigator.userAgent.toLowerCase(),c=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","pov_tv","hbbtv","ce-html"];function u(e,t){return-1!==e.indexOf(t)}function d(e){return u(l,e)}function p(e){return a.className.match(new RegExp(e,"i"))}function f(e){var t=null;p(e)||(t=a.className.replace(/^\s+|\s+$/g,""),a.className=t+" "+e)}function h(e){p(e)&&(a.className=a.className.replace(" "+e,""))}function m(){setTimeout((function(){o.landscape()?(h("portrait"),f("landscape"),g("landscape")):(h("landscape"),f("portrait"),g("portrait")),_()}),10)}function g(e){for(var t in s)s[t](e)}o.macos=function(){return d("mac")},o.ios=function(){return o.iphone()||o.ipod()||o.ipad()},o.iphone=function(){return!o.windows()&&d("iphone")},o.ipod=function(){return d("ipod")},o.ipad=function(){return d("ipad")},o.android=function(){return!o.windows()&&d("android")},o.androidPhone=function(){return o.android()&&d("mobile")},o.androidTablet=function(){return o.android()&&!d("mobile")},o.blackberry=function(){return d("blackberry")||d("bb10")||d("rim")},o.blackberryPhone=function(){return o.blackberry()&&!d("tablet")},o.blackberryTablet=function(){return o.blackberry()&&d("tablet")},o.windows=function(){return d("windows")},o.windowsPhone=function(){return o.windows()&&d("phone")},o.windowsTablet=function(){return o.windows()&&d("touch")&&!o.windowsPhone()},o.fxos=function(){return(d("(mobile")||d("(tablet"))&&d(" rv:")},o.fxosPhone=function(){return o.fxos()&&d("mobile")},o.fxosTablet=function(){return o.fxos()&&d("tablet")},o.meego=function(){return d("meego")},o.cordova=function(){return window.cordova&&"file:"===location.protocol},o.nodeWebkit=function(){return"object"===i(window.process)},o.mobile=function(){return o.androidPhone()||o.iphone()||o.ipod()||o.windowsPhone()||o.blackberryPhone()||o.fxosPhone()||o.meego()},o.tablet=function(){return o.ipad()||o.androidTablet()||o.blackberryTablet()||o.windowsTablet()||o.fxosTablet()},o.desktop=function(){return!o.tablet()&&!o.mobile()},o.television=function(){for(var e=0;e<c.length;){if(d(c[e]))return!0;e++}return!1},o.portrait=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?u(screen.orientation.type,"portrait"):window.innerHeight/window.innerWidth>1},o.landscape=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?u(screen.orientation.type,"landscape"):window.innerHeight/window.innerWidth<1},o.noConflict=function(){return window.device=r,this},o.ios()?o.ipad()?f("ios ipad tablet"):o.iphone()?f("ios iphone mobile"):o.ipod()&&f("ios ipod mobile"):o.macos()?f("macos desktop"):o.android()?o.androidTablet()?f("android tablet"):f("android mobile"):o.blackberry()?o.blackberryTablet()?f("blackberry tablet"):f("blackberry mobile"):o.windows()?o.windowsTablet()?f("windows tablet"):o.windowsPhone()?f("windows mobile"):f("windows desktop"):o.fxos()?o.fxosTablet()?f("fxos tablet"):f("fxos mobile"):o.meego()?f("meego mobile"):o.nodeWebkit()?f("node-webkit"):o.television()?f("television"):o.desktop()&&f("desktop"),o.cordova()&&f("cordova"),o.onChangeOrientation=function(e){"function"==typeof e&&s.push(e)};var v="resize";function b(e){for(var t=0;t<e.length;t++)if(o[e[t]]())return e[t];return"unknown"}function _(){o.orientation=b(["portrait","landscape"])}Object.prototype.hasOwnProperty.call(window,"onorientationchange")&&(v="orientationchange"),window.addEventListener?window.addEventListener(v,m,!1):window.attachEvent?window.attachEvent(v,m):window[v]=m,m(),o.type=b(["mobile","tablet","desktop"]),o.os=b(["ios","iphone","ipad","ipod","android","blackberry","macos","windows","fxos","meego","television"]),_(),t.default=o},function(e,t,n){(function(i,r){var o,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}void 0===(o=function(e,t,i){var r,o=n(12),c=n(1),u=n(5),d=n(9),p=n(185),f=n(6),h=n(125),m=n(490).Themes,g={light:{},dark:{chart:{colors:{common:{background:"#272a39",foreground:"#8e949f",grid:"#8e949f",volume:"#35374f"}}}}},v={loaders:{}};function b(e){return("0"+parseInt(e,10).toString(16)).slice(-2)}var _=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=s({},v,t)}return a(e,[{key:"init",value:function(t){var n=e.getNameFromURL();if(this._storedNameURL=n,n&&this.isAvailable(n))t=n;else{var i=e.getNameFromStorage();i&&this.isAvailable(i)&&(t=i)}this.load(t)}},{key:"loadOnLogin",value:function(){var t=!1,n=e.getNameFromSettings();if(this._storedNameURL)t=n!==this._storedNameURL,n=this._storedNameURL,this._storedNameURL=void 0;else if(e.isThemeChanged()){var i=e.getNameFromStorage();i&&this.isAvailable(i)&&(t=!0,n=i)}n&&this.isAvailable(n)||(n=this.defaultTheme,t=!0),this.load(n,t)}},{key:"initBrandTitle",value:function(){o("title").html(d.isLive()?__("window.title.live"):__("window.title.demo")),e.addMeta("application-name",__("brand.name")),e.addMeta("apple-mobile-web-app-title",__("brand.name")),e.addMeta("theme-color","#2e86ab"),e.addMeta("msapplication-navbutton-color","#2e86ab"),e.addMeta("msapplication-starturl","./")}},{key:"loadThemeForBrand",value:function(){this.themes=d.getThemesList(),this.init(this.defaultTheme)}},{key:"load",value:function(t,n){var i=this;this.name=t||this.name;var r=this.options.loaders[this.name];c.isFunction(r)&&r().then((function(){i.applyTheme(t),e.updateBrowserThemeColor(),e.saveNameToStorage(t),n&&e.saveNameToSettings(t),d.forcePromotionMarketsX()?i.applyMarketsX(!0):d.isCustomerLevelsEnabled()&&i.applyMarketsX(h.isMarketsX()||f.isPromotionMarketsX()||f.getUserLevelsModel().isMarketsX()),u.trigger("ui:change-theme",t)})).catch((function(e){}))}},{key:"isEnabled",value:function(){return this.switcherConfig.length>1}},{key:"isAvailable",value:function(e){return this.switcherConfig.indexOf(e)>=0}},{key:"isLightTheme",value:function(){return this.name===m.LIGHT}},{key:"change",value:function(t,n){var i=this.themes[t];return this.load(i,n),n&&e.setThemeChanged(),i}},{key:"applyTheme",value:function(e){document.documentElement.setAttribute("theme",e)}},{key:"applyMarketsX",value:function(e){e?(this.applyCustomLogo("marketsx.png"),document.documentElement.setAttribute("marketsx",!0)):document.documentElement.getAttribute("marketsx")&&(this.applyCustomLogo(null),document.documentElement.removeAttribute("marketsx"))}},{key:"applyCustomLogo",value:function(e){c.isNull(e)?document.documentElement.removeAttribute("customLogo"):document.documentElement.setAttribute("customLogo",e)}},{key:"name",get:function(){return this._name},set:function(e){this._name=e}},{key:"defaultTheme",get:function(){return this.themes[0]}},{key:"currentThemeSettings",get:function(){return g[this.name]||{}}},{key:"switcherConfig",get:function(){return this.themes.slice(0,2)}}],[{key:"getNameFromURL",value:function(){return p.deleteQueryParam("theme")}},{key:"getNameFromStorage",value:function(){return localStorage.getItem("theme")}},{key:"saveNameToStorage",value:function(e){localStorage.setItem("theme",e)}},{key:"getNameFromSettings",value:function(){return f.getUserCommonData().getAppTheme()}},{key:"saveNameToSettings",value:function(e){f.getUserCommonData().saveAppTheme(e)}},{key:"isThemeChanged",value:function(){var e=localStorage.getItem("theme_changed");return e&&localStorage.removeItem("theme_changed"),!!e}},{key:"setThemeChanged",value:function(){localStorage.setItem("theme_changed",!0)}},{key:"addMeta",value:function(e,t){o("<meta>",{name:e,content:t}).appendTo("head")}},{key:"updateBrowserThemeColor",value:function(){var e,t=o("head").css("background-color");t.indexOf("rgb")>=0&&(t=(e=(e=t).match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+b(e[1])+b(e[2])+b(e[3]):""),"#000000"===t&&(t="#2e86ab"),o("meta[name=theme-color]").attr("content",t)}}]),e}())({loaders:(r={},l(r,m.DARK,(function(){return n.e(133).then(n.t.bind(null,1917,7))})),l(r,m.LIGHT,(function(){return n.e(134).then(n.t.bind(null,1918,7))})),r)});window.light=function(){_.load(m.LIGHT)},window.dark=function(){_.load(m.DARK)},i.exports=_}.call(t,n,t,e))||(e.exports=o)}).call(this,n(12),n(1))},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(32);r.defaultCurrencyFormat("$0,0.00"),r.fn.toPercent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=Array(e).fill(0);return r(this.value()).format("0[.]"+t.join("")+"%")},r.fn.formatForeignCurrencyToSymbol=function(e){return r(this.value()).formatForeignCurrency(__currency(e))},i.exports=r}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){"use strict";n.r(t),n.d(t,"POSITIVE_COLOR",(function(){return i})),n.d(t,"NEGATIVE_COLOR",(function(){return r})),n.d(t,"NEUTRAL_COLOR",(function(){return o})),n.d(t,"BRAND_PRIMARY",(function(){return s})),n.d(t,"MAIN_TEXT_COLOR",(function(){return a})),n.d(t,"TEXT_MUTED_COLOR",(function(){return l})),n.d(t,"GRAPH_LINE_COLOR",(function(){return c})),n.d(t,"GRAPH_LINE_COLOR2",(function(){return u})),n.d(t,"NEUTRAL_LIGHT_COLOR",(function(){return d})),n.d(t,"NEUTRAL_DARK_COLOR",(function(){return p})),n.d(t,"NEWS_SENTIMENT_COLORS",(function(){return f})),n.d(t,"OPINIONS_COLORS",(function(){return h}));var i="#1ecd93",r="#ff433d",o="#979797",s="#2e86ab",a="#38424b",l="#81878c",c="#b0a679",u="#63698e",d="#ebebeb",p="#303447",f={lineColor:l},h=["#de67a7","#673bb2",s,l]},function(e,t,n){"use strict";n.d(t,"k",(function(){return i})),n.d(t,"g",(function(){return r})),n.d(t,"i",(function(){return o})),n.d(t,"j",(function(){return s})),n.d(t,"h",(function(){return a})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"m",(function(){return d})),n.d(t,"n",(function(){return p})),n.d(t,"l",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return g}));var i="trading_settings/GET_SETTINGS",r="trading_settings/EDIT_SETTINGS",o="trading_settings/EDIT_SETTING_START",s="trading_settings/EDIT_SETTING_SUCCESS",a="trading_settings/EDIT_SETTING_ERROR",l="trading_settings/ADD_SETTING_START",c="trading_settings/ADD_SETTING_SUCCESS",u="trading_settings/ADD_SETTING_ERROR",d="trading_settings/REMOVE_SETTING_START",p="trading_settings/REMOVE_SETTING_SUCCESS",f="trading_settings/REMOVE_SETTING_ERROR",h={LONG:"LONG",SHORT:"SHORT",LONG_SHORT:"LONG_SHORT"},m="",g="trad-sett-"},,function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return h})),n.d(t,"f",(function(){return m})),n.d(t,"d",(function(){return g})),n.d(t,"g",(function(){return v})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return _})),n.d(t,"e",(function(){return y}));var i=n(6),r=n.n(i),o=n(1),s=n.n(o),a=n(5),l=n.n(a),c=n(32),u=n.n(c),d=n(124),p=n.n(d);var f=s.a.template(n(583)),h=function(){var e=r.a.getUserCommonData().getMyAccountActiveFields()||[];return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e))},m=function(e){var t=r.a.getUserCommonData();return e?t.saveMyAccountActiveFields(e):Promise.reject()},g=function(){return r.a.getUserCommonData().getMyAccountPosition()},v=function(e){return r.a.getUserCommonData().saveMyAccountPosition(e)},b=function(e){var t=r.a.getUserCurrencySymbol();return u()(e).formatForeignCurrency(t)},_=function(e){return s.a.isNull(e)?__("numeric.value.not.available.upper_case"):e+"%"},y=function(t){new p.a(s.a.extend({parent:e("body"),isHeaderShowed:!0,template:f,actions:{"fn-deposit":function(){return l.a.trigger("flow:deposit")},"fn-close-positions":s.a.partial(l.a.navigate,"/open-positions")}},t))}}).call(this,n(12))},,,,function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"j",(function(){return h})),n.d(t,"k",(function(){return m})),n.d(t,"l",(function(){return g})),n.d(t,"i",(function(){return v})),n.d(t,"m",(function(){return b})),n.d(t,"o",(function(){return _})),n.d(t,"d",(function(){return y})),n.d(t,"b",(function(){return E})),n.d(t,"f",(function(){return S})),n.d(t,"q",(function(){return w})),n.d(t,"p",(function(){return O})),n.d(t,"n",(function(){return T}));var i=n(2),r=n(3),o=n(1),s=n.n(o),a=n(23),l=function(e){return e.commentaries},c=Object(i.a)(l,(function(e){return e.sortedItemsId})),u=Object(i.a)(l,(function(e){return e.lastUpdated})),d=Object(i.a)(l,(function(e){return e.all})),p=Object(i.a)([d,a.a],(function(e,t){return e[t]})),f=Object(i.a)(p,(function(e){return e&&e.content})),h=Object(i.a)(p,(function(e){return e&&e.source})),m=Object(i.a)(p,(function(e){return e&&e.sourceName})),g=Object(i.a)(p,(function(e){return e&&e.title})),v=Object(i.a)(p,(function(e){return e&&e.publish_date})),b=Object(i.a)(l,(function(e){return e.selectedCommentaryId})),_=Object(i.a)([b,a.a],(function(e,t){return e===t})),y=Object(i.a)(l,(function(e){return e.newItemsId})),E=Object(i.a)(l,(function(e){return e.isFirstLoad})),S=Object(i.a)(l,(function(e){return e.status})),C=Object(i.a)(l,(function(e){return e.selectedCommentaryStatus})),w=Object(i.a)(C,(function(e){return e===r.LOADING})),O=Object(i.a)(C,(function(e){return e===r.SUCCESS})),T=Object(i.a)(l,(function(e){return!s.a.isEmpty(e.all)}))},,function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(0),o=n(1);i.exports.startWith=function(e,t){return 0===t.indexOf(e)},i.exports.duplicateChar=function(e,t){return o.range(t).map((function(){return e})).join("")},i.exports.resizeString=function(e,t,n){if(!o.isString(e)||!o.isNumber(t)||e.length<=t)return e;var r=o.isString(n)?i.exports.duplicateChar(n,4):"";return e.slice(0,t-4*r.length)+r},i.exports.toUnderscore=function(e){return e.replace(/([A-Z])/g,(function(e){return"_"+e.toLowerCase()}))},i.exports.insertAt=function(e,t,n){return[e.slice(0,t),n,e.slice(t)].join("")},i.exports.contains=function(e,t){return e&&"function"==typeof e.indexOf&&e.indexOf(t)>=0},i.exports.divideValueByPipSize=function(e,t){if(!e)return e;var n=String(e).split("."),i=n[0]||"",r=n[1]||"",s=function(e,t,n){return o.isUndefined(n)?e.slice(t):e.slice(t,n)},a=[],l=void 0;if(t>0){if(1===t)return l=s(r,0,t-1),a.push({value:""+i,isBigDigits:!1}),r&&(a.push({value:"."+l,isBigDigits:!1}),(l=s(r,t-1,t))&&a.push({value:""+l,isBigDigits:!0}),(l=s(r,t))&&a.push({value:""+l,isBigDigits:!1})),a;l=s(r,0,t-2),a.push({value:""+i,isBigDigits:!1}),r&&(a.push({value:"."+l,isBigDigits:!1}),(l=s(r,t-2,t))&&a.push({value:""+l,isBigDigits:!0}),(l=s(r,t))&&a.push({value:""+l,isBigDigits:!1}))}else{if(0===t)return(l=s(i,0,t-2))&&a.push({value:""+l,isBigDigits:!1}),(l=s(i,t-2))&&a.push({value:""+l,isBigDigits:!0}),r&&a.push({value:"."+r,isBigDigits:!1}),a;(l=s(i,0,t-2))&&a.push({value:""+l,isBigDigits:!1}),(l=s(i,t-2,t))&&a.push({value:""+l,isBigDigits:!0}),(l=s(i,t))&&a.push({value:""+l,isBigDigits:!1}),r&&a.push({value:"."+l,isBigDigits:!1})}return a},i.exports.formatValueToStringOrComponent=function(e,t){if(t){var n="";return e.forEach((function(e){n+=e.isBigDigits?"<i>"+e.value+"</i>":e.value})),n}return e.map((function(e,t){return e.isBigDigits?r.createElement("i",{key:t},e.value):e.value}))},i.exports.stringInject=function(e,t){if("string"==typeof e&&t instanceof Array)return e.replace(/({\d})/g,(function(e){return t[e.replace(/{/,"").replace(/}/,"")]}));if(!("string"==typeof e&&t instanceof Object))return!1;for(var n in t)return e.replace(/({([^}]+)})/g,(function(e){var n=e.replace(/{/,"").replace(/}/,"");return t[n]?t[n]:e}))},i.exports.hashCode=function(e){var t=0,n=void 0;if(0===e.length)return t;for(n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t}}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return u}));var i=n(0),r=n.n(i),o=n(7),s=n.n(o);n(1308);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(e){var t=e.children,n=e.className,i=void 0===n?"":n,o=e.colSpan;return r.a.createElement("th",{className:s()(a({"table-component__column":!0},i,!!i)),colSpan:o},t)},c=function(e){var t=e.children,n=e.className,i=void 0===n?"":n;return r.a.createElement("tr",{className:s()(a({"table-component__row":!0},i,!!i))},t)},u=function(e){var t=e.children,n=e.className,i=void 0===n?"":n,o=e.colSpan;return r.a.createElement("td",{className:s()(a({"table-component__cell":!0},i,!!i)),colSpan:o},t)};t.d=function(e){var t=e.thead,n=e.children,i=e.theadClassName,o=void 0===i?"":i,l=e.bodyClassName,c=void 0===l?"":l,u=e.className;return r.a.createElement("table",{className:s()(a({"table-component":!0},u,!!u))},t&&r.a.createElement("thead",{className:"table-component__thead "+o},t),r.a.createElement("tbody",{className:"table-component__rows "+c},n))}},function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"k",(function(){return a})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"l",(function(){return h})),n.d(t,"n",(function(){return m})),n.d(t,"m",(function(){return g}));var i="account_info/MY_ACCOUNT_GET_FIELDS_SUCCESS",r="account_info/MY_ACCOUNT_ACTIVE_FIELDS_SAVE_START",o="account_info/MY_ACCOUNT_ACTIVE_FIELDS_SAVE_SUCCESS",s="account_info/MY_ACCOUNT_ACTIVE_FIELDS_SAVE_ERROR",a="account_info/MY_ACCOUNT_SET_IS_OPENED",l="account_info/MY_ACCOUNT_IS_OPENED_SAVE_START",c="account_info/MY_ACCOUNT_IS_OPENED_SAVE_SUCCESS",u="account_info/MY_ACCOUNT_IS_OPENED_SAVE_ERROR",d=["balance","buyingPower","profitLoss"],p=1,f=5,h=100,m="pl_pos",g="pl_neg"},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(20),o=n(1),s=o.template(n(1416)),a=r.extend({className:"loading-container",getOptions:function(e){return o.extend({},{position:"absolute",translucent:"1"},e)},initialize:function(e){r.prototype.initialize.apply(this,arguments),this.render()},getRenderTemplateData:function(){return{options:this.options,cid:this.cid}},render:function(){return r.prototype.render.call(this),this.$el.addClass("loading-"+this.options.position),this.$el.addClass("loading-translucent-"+this.options.translucent),this.$el.attr("id",this.cid),this.$el.attr("style",this.options.style),this.$el.html(s()),this},getEl:function(){return this.$("#"+this.cid)},hide:function(){return this.getEl().css("display","none"),this},show:function(){return this.getEl().css("display","block"),this}});i.exports=a}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){"use strict";n.r(t),n.d(t,"SVGIcon",(function(){return Ke}));var i=n(0),r=n.n(i),o=n(7),s=n.n(o),a=n(885),l=n.n(a),c=n(886),u=n.n(c),d=n(887),p=n.n(d),f=n(888),h=n.n(f),m=n(889),g=n.n(m),v=n(890),b=n.n(v),_=n(891),y=n.n(_),E=n(892),S=n.n(E),C=n(893),w=n.n(C),O=n(894),T=n.n(O),P=n(895),k=n.n(P),I=n(896),A=n.n(I),x=n(897),N=n.n(x),D=n(898),R=n.n(D),L=n(899),M=n.n(L),j=n(900),F=n.n(j),B=n(901),U=n.n(B),V=n(902),z=n.n(V),q=n(903),H=n.n(q),$=n(904),G=n.n($),W=n(905),Y=n.n(W),K=n(906),X=n.n(K),Q=n(907),J=n.n(Q),Z=n(908),ee=n.n(Z),te=n(909),ne=n.n(te),ie=n(910),re=n.n(ie),oe=n(911),se=n.n(oe),ae=n(912),le=n.n(ae),ce=n(913),ue=n.n(ce),de=n(914),pe=n.n(de),fe=n(915),he=n.n(fe),me=n(916),ge=n.n(me),ve=n(917),be=n.n(ve),_e=n(918),ye=n.n(_e),Ee=n(919),Se=n.n(Ee),Ce=n(920),we=n.n(Ce),Oe=n(921),Te=n.n(Oe),Pe=n(922),ke=n.n(Pe),Ie=n(923),Ae=n.n(Ie),xe=n(924),Ne=n.n(xe),De=n(925),Re=n.n(De),Le=n(926),Me=n.n(Le),je=n(927),Fe=n.n(je),Be=n(928),Ue=n.n(Be),Ve=n(929),ze=n.n(Ve),qe=n(930),He=n.n(qe),$e=n(931),Ge=n.n($e);function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ye={close:u.a,edit:p.a,orders:h.a,positions:g.a,favorite:y.a,favorite_thin:b.a,favorite_fill:S.a,multiple_close:w.a,detach:T.a,reorder:k.a,drag_handler:A.a,alert:N.a,alert_fill:R.a,search:M.a,featured:F.a,index:U.a,currency:z.a,commodity:H.a,crypto:G.a,shares:Y.a,etfs:X.a,blends:J.a,bonds:ee.a,collapse_block:ne.a,expand_block:re.a,informative:se.a,uninformative:le.a,news_sentiment:ue.a,time:pe.a,neutral_sentiment:he.a,positive_sentiment:be.a,negative_sentiment:ge.a,warning:ye.a,trading_24H:Se.a,next_session:we.a,list:Te.a,calendar:ke.a,rotate_device:Ae.a,metatraders:Ne.a,deposit:Re.a,web_trader:Me.a,download:Fe.a,account_statement:Ue.a,quant_architect:ze.a,dma_exchange:He.a,edit_portfolio:Ge.a},Ke=function(e){var t,n=e.name,i=e.className,o=e.size,a=void 0===o?16:o,c=e.width,u=e.height;return Ye[n]?r.a.createElement(l.a,{src:Ye[n],cacheRequests:!0,loader:r.a.createElement("span",{style:{display:"block",width:c||a,minWidth:c||a,height:u||a,minHeight:u||a}}),style:{width:c||a,minWidth:c||a,height:u||a,minHeight:u||a},className:s()((t={"svg-icon":!0,isvg:!0},We(t,n,n),We(t,i,!!i),t))}):null};t.default=Ke},function(e,t,n){"use strict";n.r(t),n.d(t,"getInstrumentPositions",(function(){return p})),n.d(t,"getRequiredMargin",(function(){return f})),n.d(t,"getPositionRequiredMarginById",(function(){return h})),n.d(t,"getAllInstrumentSymbolsWithPositions",(function(){return m})),n.d(t,"getPositionIdsBySymbol",(function(){return g})),n.d(t,"getTotalPositionsIdsBySymbol",(function(){return v})),n.d(t,"getOpenPositionsMap",(function(){return _})),n.d(t,"getOpenPositionById",(function(){return y})),n.d(t,"getOpenPositionDirectionById",(function(){return E})),n.d(t,"getOpenPositionCostBasisById",(function(){return S})),n.d(t,"getOpenPositionSymbolById",(function(){return C})),n.d(t,"getOpenPositionQuantityById",(function(){return w})),n.d(t,"getOpenPositionActionById",(function(){return O})),n.d(t,"getPositionRequiredMarginInAccountCurrencyById",(function(){return T})),n.d(t,"getPositionRequiredMarginInInstrumentCurrency",(function(){return P})),n.d(t,"getTotalPositionsCount",(function(){return k})),n.d(t,"getAllInstrumentPositionsCounters",(function(){return I})),n.d(t,"getInstrumentPositionsCounter",(function(){return A})),n.d(t,"isInstrumentPositionsAvailable",(function(){return x})),n.d(t,"getSortedPositionsSymbols",(function(){return N})),n.d(t,"getAllClosingPositions",(function(){return D})),n.d(t,"getClosingPositionsById",(function(){return R})),n.d(t,"getClosingPositionStatusById",(function(){return L})),n.d(t,"getOpenPositionPLTypeValue",(function(){return M})),n.d(t,"getPositionMetrics",(function(){return j})),n.d(t,"getPositionMetricsById",(function(){return F})),n.d(t,"getPositionPLById",(function(){return B}));var i=n(49),r=n(2),o=n(59),s=n(1),a=n.n(s),l=n(23),c=n(3),u=n(27),d=function(e){return e.positions},p=Object(r.a)(d,(function(e){return e.instrumentPositions})),f=Object(r.a)(d,(function(e){return e.REQUIRED_MARGIN})),h=Object(r.a)([f,l.a],(function(e,t){return e[t]})),m=Object(r.a)(p,(function(e){return a.a.keys(e)})),g=Object(r.a)([p,l.a],(function(e,t){return e[t]})),v=Object(r.a)(g,(function(e){return a.a.keys(e).length})),b=Object(r.a)(d,(function(e){return a.a.keys(e.instrumentPositions)})),_=Object(r.a)(d,(function(e){return e.OPEN_POSITION})),y=Object(r.a)([_,l.a],(function(e,t){return e[t]})),E=Object(r.a)(y,(function(e){return e&&e._directionName})),S=Object(r.a)(y,(function(e){return e&&e.costBasis||null})),C=Object(r.a)(y,(function(e){return e&&e._instrumentSymbol||""})),w=Object(r.a)(y,(function(e){return e&&e.quantity})),O=Object(r.a)(w,(function(e){return e>0?c.BUY:c.SELL})),T=Object(r.a)(h,(function(e){return e&&e.requiredMarginInAccountCurrency})),P=Object(r.a)(h,(function(e){return e&&e.requiredMarginInInstrumentCurrency})),k=Object(r.a)(d,(function(e){return e.totalPositionsCount})),I=Object(r.a)(d,(function(e){return e.instrumentPositionsCounter})),A=Object(r.a)([I,l.a],(function(e,t){return e[t]})),x=Object(r.a)(A,(function(e){return!!e&&e._count>0})),N=Object(r.a)([o.getInstrumentSymbolMap,b,o.getSymbolsSortName,o.getSymbolsSortDirection],i.sortInstruments),D=Object(r.a)(d,(function(e){return e.closingPosition})),R=Object(r.a)([D,l.a],(function(e,t){return e[t]})),L=Object(r.a)(R,(function(e){return e&&e.status})),M=Object(r.a)([o.getOpenPositionPLType,u.getUserCurrency],(function(e,t){switch(e){case c.OPEN_POSITION_PL_TYPE.VALUE:return __currency(t);case c.OPEN_POSITION_PL_TYPE.PERCENTAGE:return"%"}return e})),j=Object(r.a)(d,(function(e){return e.POSITION_METRICS})),F=Object(r.a)([j,l.a],(function(e,t){return e[t]})),B=Object(r.a)(F,(function(e){return e&&e.plOpen||null}))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,r){var o=n(100),s=n(1259),a=(n(5),o.extend({model:s,_isReady:!1,initialize:function(){o.prototype.initialize.apply(this,arguments),this._instrumentIds={}},ready:function(){this._isReady||(this._isReady=!0,this.trigger("ready"))},isReady:function(){return this._isReady},getPositionByCode:function(e){var t=this.where({positionCode:e});return!!t.length&&t[0]},getOpenPosition:function(){return this.where({})},createPosition:function(e){var t=new this.model(e);return this.add(t),this.addInstrumentId(e.instrumentId),t},removePositionsByCode:function(){var e=i.isArray(arguments[0])?arguments[0]:arguments;i.chain(e).map((function(e){return this.findWhere({positionCode:e})}),this).each((function(e){var t=e.collection.length-1==0;this.remove(e),t&&this.removeInstrumentId(e.get("instrumentId"))}),this)},getClosablePositions:function(){var e=n(26);return i.filter(this.models,(function(t){var n=t.getInstrumentId(),i=e.getInstrumentById(n);return!!i&&i.status.isClosable()}))},addInstrumentId:function(e){this._instrumentIds[e]=!0,this.trigger("add-instrument",e)},removeInstrumentId:function(e){delete this._instrumentIds[e],this.trigger("remove-instrument",e)}}));r.exports=new a}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},,,,,,function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(7),s=n.n(o),a=n(6),l=n.n(a);t.a=function(e){var t,n,i,o=e.icon,a=l.a.getUserCommonData();return r.a.createElement("i",{className:s()((t={icon:!0},n=o+"-"+a.getAppTheme(),i=!!o,n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t))})}},function(e,t,n){"use strict";n.d(t,"n",(function(){return i})),n.d(t,"h",(function(){return r})),n.d(t,"j",(function(){return o})),n.d(t,"i",(function(){return s})),n.d(t,"k",(function(){return a})),n.d(t,"m",(function(){return l})),n.d(t,"l",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return g}));var i="positions/REQUIRED_MARGIN",r="positions/SUBSCRIBE_REQUIRED_MARGIN",o="positions/SUBSCRIBE_REQUIRED_MARGIN_SUCCESS",s="positions/SUBSCRIBE_REQUIRED_MARGIN_ERROR",a="positions/UNSUBSCRIBE_REQUIRED_MARGIN",l="positions/UNSUBSCRIBE_REQUIRED_MARGIN_SUCCESS",c="positions/UNSUBSCRIBE_REQUIRED_MARGIN_ERROR",u="positions/POSITION_METRICS",d="positions/OPEN_POSITION",p="positions/OPEN_POSITION_FILTERS",f="positions/EDIT_POSITION",h="positions/CLOSE_ALL_POSITION_BY_SYMBOL",m="positions/CLOSE_POSITION",g="positions/CLEAR_CLOSED_POSITION"},,function(e,t,n){var i;void 0===(i=function(e,t,n){n.exports={EMPTY:"EMPTY",PENDING:"PENDING",SUCCESS:"SUCCESS",ERROR:"ERROR",UPDATE:"UPDATE",FIRST_UPDATE:"FIRST_UPDATE",CHANGED:"CHANGED",NOT_USED:"NOT_USED",USE:"USE",YES:"YES",NO:"NO",FOUND:"FOUND",NOT_FOUND:"NOT_FOUND",READY:"READY",NOT_READY:"NOT_READY",DISABLED:"DISABLED",ENABLED:"ENABLED",CALCULATED:"CALCULATED",TYPE_MARKET:"market",TYPE_LIMIT:"limit",TYPE_STOP:"stop",SELL:"sell",BUY:"buy"}}.call(t,n,t,e))||(e.exports=i)},,function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var o=n(24),s=o.Collection.extend({isBoundedModelsEnabled:!1,enableBoundModels:function(){var e=this;this.isBoundedModelsEnabled=!0,this.on("reset",(function(t,n,i){r.each(n.previousModels,(function(e){e.off(),e.stopListening()})),e.off("reset")})),this.on("remove",(function(e,t,n){e.off(),e.stopListening()}))},disableBoundModels:function(){this.isBoundedModelsEnabled=!1,this.off("reset"),this.off("remove")},boundArr:function(e){var t=this;r.each(e,(function(e){t.bound.apply(t,e)}))},bound:function(){var e=r.map(arguments,(function(e){return e.toJSON()})),t=r.extend.apply(null,[{}].concat(e));delete t.id;var n=new o.Model(t);r.each(arguments,(function(e){var t=this;this.listenTo(e,"all",(function(e,n){t.set(n.toJSON())}))}),n),this.add(n)}});i.exports=s}.call(t,n,t,e))||(e.exports=o)}).call(this,n(24),n(1))},function(e,t,n){"use strict";n.r(t);var i=n(498),r=n(0),o=n.n(r),s=n(7),a=n.n(s),l=n(4),c=(n(1806),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e});function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}var p=function(e){return o.a.createElement("div",e,e.children)};p.defaultProps={className:"popup-mobile__nav"};var f=function(e){return o.a.createElement("div",e,e.children)};f.defaultProps={className:"popup-mobile__nav-left"};var h=function(e){return o.a.createElement("div",e,e.children)};h.defaultProps={className:"popup-mobile__nav-center"};var m=function(e){return o.a.createElement("div",e,e.children)};m.defaultProps={className:"popup-mobile__nav-right"};var g=function(e){var t,n=e.className,r=e.fixed,s=e.title,f=e.subtitle,m=e.rightComponent,g=e.leftComponent,v=e.isHeader,b=d(e,["className","fixed","title","subtitle","rightComponent","leftComponent","isHeader"]),_=!!(s||f||g||m),y=a()((u(t={},n,!!n),u(t,"fixed",r),u(t,"popup-mobile--is-header",_||v),t));return o.a.createElement(l.Provider,{store:window.store},o.a.createElement(i.a,c({className:y},b),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"pane-mobile__body pane pane__fluid"},_&&o.a.createElement(p,null,g,s||f?o.a.createElement(h,null,s&&o.a.createElement("div",null,s),f&&o.a.createElement("div",{className:"fs-13"},f)):null,m),b.children))))};g.defaultProps={fixed:!0,className:"popup-mobile",title:null,subtitle:"",leftComponent:null,rightComponent:null,isHeader:!0},g.Nav=p,g.NavLeft=f,g.NavRight=m,g.NavCenter=h,g.Body=function(e){var t,n=e.className,i=e.additionalClassName,r=d(e,["className","additionalClassName"]),s=a()((u(t={},n,!!n),u(t,"popup-mobile__body",!n),u(t,i,!!i),t));return o.a.createElement("div",c({},r,{className:s}),r.children)},t.default=g},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(6),s=n(9),a=n(178),l=n(212),c=n(380),u=n(770),d=n(33).default,p=n(3),f=p.IS_LOGIN_FROM_LOGIN_PAGE,h=p.REQUIRE_KEEP_USER_REGISTRATION_FLOW_KEY,m=p.ACCOUNT_TRADING_TYPE,g=p.LOW_SCORE,v=p.NONE_SCORE,b=p.UNKNOWN_SCORE,_=p.MEDIUM_SCORE,y=p.HIGH_SCORE,E=n(522).BRAND,S=n(977).MARKETS_COMPANY,C=function(){return window.store.getState()};i.exports={STOP:function(){return!0},MOBILE:function(){return d.mobile()},FULL_REGISTRATION_COMPLETED:function(){return o.isFullRegistrationCompleted()},ELIGIBLE_FOR_BONUS:function(){return!this.QR_ACCOUNT()&&!o.inBonusRestrictedCountries()&&o.getUserAwardsModel().hasFullRegistrationBonus(o.getUserCurrency())},FIRST_DEPOSIT_MADE:function(){return o.isFirstDeposit()},MANUAL_DEPOSIT_AMOUNT_NEEDED:function(){return s.isManualDepositAmountNeeded()},FIRST_LOGIN:function(){return o.getUserCommonData().isFirstLogin()},REAL_ACCOUNT:function(){return s.isLive()},R_BONUS_TC_ACCEPTED:function(){return o.getUserDataCompliance().get("fullRegistrationBonusTermsAndConditionsAccepted")},PROOF_OF_ID:function(){return o.getUserDataCompliance().get("proofOfId")},PROOF_OF_RESIDENCE:function(){return o.getUserDataCompliance().get("proofOfResidence")},REQUIRES_ADDITIONAL_DATA:function(){return o.getUserDataCompliance().get("requiresAdditionalData")},DEPOSIT_ENABLED:function(){return o.getDepositEnabled()},USABLE_MARGIN_IS_ZERO:function(){return 0===o.getUserAccountMetricsModel().get("buyingPower")},BUYING_POWER:function(){return o.getUserAccountMetricsModel().get("buyingPower")>0},U_DOC_UPLOADED:function(){return o.isCompliance()||o.getUserDocumentsModel().documentsApprovedByEV()||o.getUserDocumentsModel().isDocumentsUploaded()},U_PENDING:function(){return o.isCompliance()},U_IN_REVIEW:function(){return o.getUserDocumentsModel().hasDocumentInReview()},U_REJECTED:function(){return s.isDocumentsExpirationEnabled()&&o.getUserDocumentsModel().hasDocumentRejected()},U_REJECTED_AND_BUYING_POWER:function(){return s.isDocumentsExpirationPreventTradingEnabled()&&o.getUserDocumentsModel().hasDocumentRejected()&&o.getUserAccountMetricsModel().get("buyingPower")>0},U_EXPIRED:function(){return s.isDocumentsExpirationEnabled()&&o.getUserDocumentsModel().hasDocumentExpired()},U_EXPIRED_AND_BUYING_POWER:function(){return s.isDocumentsExpirationPreventTradingEnabled()&&o.getUserDocumentsModel().hasDocumentExpired()&&o.getUserAccountMetricsModel().get("buyingPower")>0},U_PENDING_EXPIRATION_SOON:function(){return s.isDocumentsExpirationEnabled()&&o.getUserDocumentsModel().hasDocumentPendingExpirationSoon()},U_PENDING_EXPIRATION:function(){return s.isDocumentsExpirationEnabled()&&o.getUserDocumentsModel().hasDocumentPendingExpiration()},U_VERIFIED:function(){return o.getUserDocumentsModel().isDocumentsApproved()||o.isCompliance()},U_SOME_VERIFIED:function(){return o.getUserDocumentsModel().isSomeDocumentsApproved()},U_SOME_DOC_UPLOADED:function(){return o.getUserDocumentsModel().isSomeDocumentsUploaded()},U_APPROVED_BY_EV:function(){return o.getUserDocumentsModel().isDocumentsApprovedByEV()},U_BOTH_DOCS_IN_REVIEW:function(){return o.getUserDocumentsModel().hasBothDocumentsInReview()},COMPLIANCE:function(){return o.isCompliance()},COMPLIANCE_SUSPENDED:function(){return s.isDocumentsExpirationEnabled()&&o.isComplianceSuspended()},COMPLIANCE_SUSPENDED_GROUND_INACTIVITY:function(){return o.isComplianceSuspendedGroundInactivity()},COMPLIANCE_SUSPENDED_GROUND_EXPIRATION:function(){return o.isComplianceSuspendedGroundExpiration()},COMPLIANCE_SUSPENDED_OTHER:function(){return o.isComplianceSuspendedGroundOther()},PENDING_COMPLIANCE:function(){return o.isPendingCompliance()},PENDING_COMPLIANCE_GROUND_ECDD:function(){return s.isComplianceECDDCheckEnabled()&&o.isPendingComplianceGroundPendingECDD()},PENDING_COMPLIANCE_GROUND_PHONE_VERIFICATION:function(){return s.isComplianceECDDCheckEnabled()&&o.isPendingComplianceGroundPhoneVerification()},LIMITED_COMPLIED:function(){return s.isDocumentsExpirationEnabled()&&o.isLimitedCompliance()},COMPLIANCE_OR_COMPLIANCE_SUSPENDED:function(){return o.isComplianceSuspended()||o.isCompliance()},C_VERIFIED:function(){return o.getUserCreditCards().isVerified()},C_UPLOADED:function(){return o.getUserCreditCards().isUploaded()},MONEY_FOR_WITHDRAW:function(){return o.getFirstDeposit()},AUTO_WITHDRAWAL:function(){return s.isAutomaticWithdrawalEnabled()},PENDING_DEPOSIT:function(){return o.getUserPendingDeposit()>0},DEEP_LINK:function(){return a.isDetected()},DL_FULLREG:function(){return"fullreg"===a.path},LOW_SCORE:function(){return r.contains([b,v,g],o.getUserScore())},MEDIUM_SCORE:function(){return o.getUserScore()===_},HIGH_SCORE:function(){return o.getUserScore()===y},COMMON_REGULATION:function(){return l.isCommonRegulation()},SPANISH_REGULATION:function(){return l.isSpanishRegulation()},FRENCH_REGULATION:function(){return l.isFrenchRegulation()},SPANISH_REG_CONFIRMATION_REQUIRED:function(){return c.isFullRegistrationRiskWarningRequired()},SPANISH_REG_REJECT_USER:function(){return c.isRejectedScore(o.getUserScore())},REGISTRATION_EDIT_ALLOWED:function(){return o.getUserScore()!==y&&s.isRegistrationFinalStepAllowBack(o.getUserScore())&&!o.isFullRegistrationCompleted()},MEDIUM_REGISTRATION_POPUP:function(){return s.isMediumRegistrationPopupEnabled()},CHECK_KNOWLEDGE_POPUP:function(){return o.getPartnerCompanyNameKey()===S.PRELIUM_LTD||o.getPartnerCompanyNameKey()===S.STA_GLOBAL},MULTIPLE_QUIZ:function(){return s.isMultipleQuizEnabled()},ELIGIBLE_QUIZ:function(){return o.getUserQuizStatus().isQuizEligible()},POSTPONED_QUIZ:function(){return o.getUserQuizStatus().isQuizPostponed()},FIRST_TIME_LOADING:function(){return u.needShowLoginMessage()},REGISTRATION_LEVERAGE_SELECTION_ENABLED:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.accountTradingType,n=t===m.SHARE_DEALING;return!n&&!this.QR_ACCOUNT()&&s.isRegistrationLeverageSelectionEnabled()},MARKETS_X_ENABLE:function(){return o.getUserLevelsModel().isEnable()},SHOW_VERIFICATION_CENTER_POPUP:function(){return s.isShowVerificationCenterPopupEnabled()},SHOW_UPGRADE_MARKETS_X_POPUP:function(){return o.getUserLevelsModel().isShowUpgradePopup()},IS_TC_ACCEPTED_FOR_MARKETS_X:function(){return o.getUserLevelsModel().isTcAccepted()},MARKETS_X_ELIGIBLE:function(){return o.getUserLevelsModel().isEligibleForMarketsX()},MARKETS_X:function(){return o.getUserLevelsModel().isMarketsX()},MARKETS_X_PROMOTION:function(){return o.isPromotionMarketsX()},IS_ADVANCED_VIEW:function(){return o.getUserCommonData().isAdvancedTradingView()},IS_PLATFORM_TYPE_POPUP_VISIBLE:function(){return s.isPlatformTypePopupVisible()},PLATFORM_TYPE_POPUP_DEMO_ENABLED:function(){return s.isPlatformTypeSettingOnDemo()},LOGIN_FROM_LOGINPAGE:function(){return localStorage.getItem(f)||!1},IS_SILENT_SWITCH:function(){return s.getBrandName()===E.MARKETS},KEEP_USER_REGISTRATION_FLOW:function(){var e=localStorage.getItem(h);return localStorage.removeItem(h),o.getPlatformAccountId()===e&&!!e},QR_ACCOUNT:function(){return(0,n(27).isUserInstrumentTypeOf)(C(),m.QUANT_RANKS)},SWITCH_ACCOUNT:function(){var e=n(453).PATH;return(0,n(978).getDeepLink)(C(),"platform_path")===e.SYNC},SAXO_ACCOUNT_EXISTS:function(){return(0,n(27).isSaxoAccountExists)(C())},SAXO_ACCOUNT_HAS_DEPOSIT:function(){return(0,n(314).getFirstSaxoAccountBalance)(C())>0},SAXO_ACCOUNT_HAS_PENDING_DEPOSIT:function(){return(0,n(314).getFirstSaxoAccountPendingDeposit)(C())>0},QR_CONSENT:function(){return(0,n(27).getUserQuantranksConsent)(window.store.getState())}}}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,r){var o=n(100),s=n(1385),a=(n(5),o.extend({model:s,_isReady:!1,initialize:function(){o.prototype.initialize.apply(this,arguments),this._instrumentIds={}},ready:function(){this._isReady||(this._isReady=!0,this.trigger("ready"))},isReady:function(){return this._isReady},getOrderById:function(e){return this.get(e)},createOrder:function(e){var t=new this.model(e);return this.add(t),this.addInstrumentId(e.instrumentId),t},remove:function(e){var t=n(26);if(e){var i=t.getInstrumentById(e.get("instrumentId")),r=i&&i.getOrders()||[],s=0===r.length;s&&this.removeInstrumentId(e.get("instrumentId"))}o.prototype.remove.apply(this,arguments)},removeOrdersByIds:function(){var e=this,t=i.isArray(arguments[0])?arguments[0]:arguments;i.chain(t).map(this.get,this).each((function(t){t&&e.remove(t)}))},getCancelableOrders:function(){var e=n(26);return i.filter(this.models,(function(t){var n=t.getInstrumentId(),i=e.getInstrumentById(n);return!!i&&i.status.isClosable()}))},addInstrumentId:function(e){this._instrumentIds[e]=!0,this.trigger("add-instrument",e)},removeInstrumentId:function(e){delete this._instrumentIds[e],this.trigger("remove-instrument",e)}}));r.exports=new a}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},,,function(e,t,n){"use strict";n.r(t),n.d(t,"TOPIC_NAMES",(function(){return i})),n.d(t,"ACCOUNT_ITEMS",(function(){return r}));var i={LIQUIDATION_LEVEL:"LIQUIDATION_LEVEL",LIQUIDATION_LEVEL_BUFFER:"LIQUIDATION_LEVEL_BUFFER",MARGIN_LEVEL_1:"MARGIN_LEVEL_1",MARGIN_LEVEL_2:"MARGIN_LEVEL_2",PENDING_DEPOSIT:"PENDING_DEPOSIT"},r={BALANCE:"balance",EQUITY:"equity",PROFIT_LOSS:"profitLoss",BUYING_POWER:"buyingPower",MAINTENANCE_MARGIN:"maintenanceMargin",MARGIN_USED:"marginUsed",RISK_LEVEL:"riskLevel",AVAILABLE_FOR_WITHDRAWAL:"availableForWithdrawal",ACTIVE_BONUSES_AMOUNT:"activeBonusesAmount",SPREAD_REBATE_TOTAL:"spreadRebateTotal"}},,function(e,t,n){(function(i){var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}void 0===(r=function(e,t,i){var r=n(1),c=n(16),u=n(9),d=n(3),p=d.MILLISECONDS,f=d.MINUTES,h=Symbol("scoped"),m=function(){function e(){l(this,e),this[h]={},this[h].offset=0}return o(e,[{key:"getOffset",value:function(){return this[h].offset}},{key:"getOffsetAs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=r.capitalize(e);return c.duration(this[h].offset)["as"+t]()}},{key:"getInvertedOffsetAs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return-1*this.getOffsetAs(e)}},{key:"getUserTimezoneObjectItem",value:function(){return{offset:this.getOffsetAs(p),gmt:this.GMTPostfix()}}},{key:"getTimestamp",value:function(){return Date.now()}},{key:"getTimestampAsUTC",value:function(){return this.applyOffsetToTimestamp()}},{key:"getMoment",value:function(){return c()}},{key:"setDateAsNewDate",value:function(e,t){if(!e)return new Date;var n=-1*(new Date).getTimezoneOffset();return c.utc(e,t).utcOffset(n-this.getOffsetAs(f),!0).toDate()}},{key:"setTimestampAsNewDate",value:function(e){return c.utc(e).utcOffset(this.getInvertedOffsetAs(f),!0).toDate()}},{key:"setDateToMoment",value:function(e,t){return c.utc(e,t).utcOffset(this.getOffsetAs(f))}},{key:"setDateObjectToMoment",value:function(e){var t=-1*e.getTimezoneOffset();return c.utc(e).utcOffset(t+this.getOffsetAs(f))}},{key:"setTimestampToMoment",value:function(e){return c.utc(e).utcOffset(this.getOffsetAs(f),!1)}},{key:"setDateToTimestamp",value:function(e,t){return c.utc(e,t).utcOffset(this.getInvertedOffsetAs(f),!0).valueOf()}},{key:"convertDateAsNewDate",value:function(e,t){return c(e,t).toDate()}},{key:"convertTimestampAsNewDate",value:function(e){return c(e).toDate()}},{key:"convertDateToMoment",value:function(e,t){return c(e,t)}},{key:"convertTimestampToMoment",value:function(e){return c(e)}},{key:"convertDateToTimestamp",value:function(e,t){return c(e,t).valueOf()}},{key:"formatDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY HH:mm",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"DD/MM/YYYY HH:mm";return c(e,t).format(n)}},{key:"formatUTCDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY HH:mm",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"DD/MM/YYYY HH:mm";return c.utc(e,t).format(n)}},{key:"formatTimestamp",value:function(e,t){return c(e).format(t)}},{key:"formatUTCTimestamp",value:function(e,t){return c.utc(e).format(t)}},{key:"applyOffsetToTimestamp",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t?c.utc(e).utcOffset(n?this.getInvertedOffsetAs(f):this.getOffsetAs(f)).format(t):c.utc(e).utcOffset(n?this.getOffsetAs(f):this.getInvertedOffsetAs(f),!0).valueOf()}},{key:"applyOffset",value:function(e,t,n){return c.utc(e,t).utcOffset(this.getOffsetAs(f)).format(n)}},{key:"GMTPostfix",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GMT",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.formatOffset();return""+(e=""===n?e:e+" ")+n+t}},{key:"formatOffset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"H",t=0===this[h].offset?"":this[h].offset>0?"+":"-";e=+this[h].offset%3600>0?e+":mm":e;var n=c.utc(Math.abs(this[h].offset)).format(e),i="0"===n?"":n;return""+t+i}}]),e}(),g=function(e){function t(){l(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),i=n(6);return e[h].offset=i.getUserCommonData().getUserTimezoneObject().offset,s(e,e)}return a(t,e),t}(m),v=function(e){function t(){l(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=new Date;return e[h].offset=c.duration(-1*n.getTimezoneOffset(),f).asMilliseconds(),s(e,e)}return a(t,e),t}(m),b=function(e){function t(e){l(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(!Number.isInteger(e))throw new Error("Argument should be Int");return n[h].offset=e,s(n,n)}return a(t,e),t}(m),_=function(){function e(){l(this,e)}return o(e,[{key:"defined",value:function(e){return new b(e)}},{key:"user",get:function(){return u.isTimezoneEnabled()?new g:new m}},{key:"local",get:function(){return new v}},{key:"default",get:function(){return new m}}]),e}();i.exports=new _,i.exports.TIMEZONE_LOCAL_ID="local"}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){"use strict";n.r(t),n.d(t,"getOrders",(function(){return u})),n.d(t,"getInstrumentOrders",(function(){return d})),n.d(t,"getOrderIdsBySymbol",(function(){return p})),n.d(t,"getTotalOrdersBySymbol",(function(){return f})),n.d(t,"getOrderMap",(function(){return h})),n.d(t,"getOrderById",(function(){return m})),n.d(t,"getOrderSymbolById",(function(){return g})),n.d(t,"getOrderStopLimitPriceById",(function(){return v})),n.d(t,"getOrderTypeById",(function(){return b})),n.d(t,"getOrderQuantityById",(function(){return _})),n.d(t,"getOrderActionById",(function(){return y})),n.d(t,"getAllInstrumentSymbolsWithOrders",(function(){return E})),n.d(t,"getAllInstrumentOrdersCounters",(function(){return S})),n.d(t,"getInstrumentOrdersCounter",(function(){return C})),n.d(t,"isInstrumentOrdersAvailable",(function(){return w})),n.d(t,"getTotalOrdersCount",(function(){return O})),n.d(t,"getSortedOrdersSymbols",(function(){return T}));var i=n(49),r=n(59),o=n(1),s=n.n(o),a=n(2),l=n(23),c=n(3),u=function(e){return e.orders},d=Object(a.a)(u,(function(e){return e.instrumentOrders})),p=Object(a.a)([d,l.a],(function(e,t){return e[t]})),f=Object(a.a)(p,(function(e){return s.a.keys(e).length})),h=Object(a.a)(u,(function(e){return e.ORDER})),m=Object(a.a)([h,l.a],(function(e,t){return e[t]})),g=Object(a.a)(m,(function(e){return e&&e._instrumentSymbol||""})),v=Object(a.a)(m,(function(e){return e&&e.stopLimitPrice||""})),b=Object(a.a)(m,(function(e){return e&&e.type})),_=Object(a.a)(m,(function(e){return e&&e.quantity})),y=Object(a.a)(_,(function(e){return e>0?c.BUY:c.SELL})),E=Object(a.a)(d,(function(e){return s.a.keys(e)})),S=Object(a.a)(u,(function(e){return e.instrumentOrdersCounter})),C=Object(a.a)([S,l.a],(function(e,t){return e[t]})),w=Object(a.a)(C,(function(e){return!!e&&e._count>0})),O=Object(a.a)(u,(function(e){return e.totalOrdersCount})),T=Object(a.a)([r.getInstrumentSymbolMap,E,r.getSymbolsSortName,r.getSymbolsSortDirection],i.sortInstruments)},function(e,t,n){"use strict";n.r(t),n.d(t,"NO_MODE",(function(){return i})),n.d(t,"CLOSE_ONLY_MODE",(function(){return r})),n.d(t,"LONG_ONLY_MODE",(function(){return o})),n.d(t,"SHORT_ONLY_MODE",(function(){return s})),n.d(t,"FULL_MODE",(function(){return a}));var i="NO",r="CLOSE_ONLY",o="LONG_ONLY",s="SHORT_ONLY",a="FULL"},function(e,t,n){"use strict";n.d(t,"k",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"l",(function(){return a})),n.d(t,"f",(function(){return l})),n.d(t,"m",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"n",(function(){return h})),n.d(t,"h",(function(){return m})),n.d(t,"o",(function(){return g})),n.d(t,"i",(function(){return v})),n.d(t,"p",(function(){return b})),n.d(t,"j",(function(){return _})),n.d(t,"b",(function(){return y})),n.d(t,"d",(function(){return E}));var i=n(16),r=n.n(i),o="thisMonth",s="lastMonth",a="thisQuarter",l="lastQuarter",c="thisYear",u="lastYear",d="allPeriod",p="customPeriod";function f(e,t){return{begin:e,end:t}}function h(){return f(r()().startOf("month"),r()())}function m(){return f(r()().subtract(1,"months").startOf("month"),r()().subtract(1,"months").endOf("month"))}function g(){return f(r()().startOf("quarter"),r()().endOf("quarter"))}function v(){return f(r()().subtract(1,"quarter").startOf("quarter"),r()().subtract(1,"quarter").endOf("quarter"))}function b(){return f(r()().startOf("year"),r()())}function _(){return f(r()().subtract(1,"year").startOf("year"),r()().subtract(1,"year").endOf("year"))}function y(e,t){return f(e||r()(0),t||r()())}function E(e,t){return f(e,t)}},,,function(e,t,n){(function(i){var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();void 0===(r=function(e,t,i){var r=n(1),s=n(108),a=n(3).MINUTES,l=n(54),c=Symbol("instance"),u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,[{key:"chartOffset",value:function(){return this.timezone.getInvertedOffsetAs(a)}},{key:"positionTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY HH:mm";if(!e)return e;var n=this.timezone.applyOffset(e,t,t),i=this.timezone.GMTPostfix();return n+" ("+i+")"}},{key:"positionTimestamp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY HH:mm";return e?this.timezone.applyOffsetToTimestamp(e,t):e}},{key:"orderTimestamp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY HH:mm";return e?this.timezone.applyOffsetToTimestamp(e,t):e}},{key:"tradingHours",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e||!(t&&t.startDay&&t.endDay))return e;var o=e.split(" - "),s=0,a=1,l=[];return l[s]=t.startDay+" "+t.tradingHours[s],l[a]=t.endDay+" "+t.tradingHours[a],l=l.map((function(e,t){var i=n.timezone.applyOffset(e,"dddd HH:mm","HH:mm");return o[t].split(" ")[0]+" "+i})),(i?r.template('<span class="text-right"><span class="text-nowrap"><%= startTime %> - <%= endTime %></span> <span class="text-nowrap">(<%=offset%>)</span></span>'):r.template("<%= startTime %> - <%= endTime %> (<%=offset%>)"))({startTime:l[s],endTime:l[a],offset:this.timezone.GMTPostfix()})}},{key:"overnightInterestTime",value:function(e){return e?r.template('<span class="text-right"><%= time %> <span class="text-nowrap">(<%= offset %>)</span></span>')({time:this.timezone.applyOffset(e,"HH:mm","HH:mm"),offset:this.timezone.GMTPostfix()}):e}},{key:"gridCellTimestamp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY HH:mm",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return e;var i=this.timezone.formatUTCTimestamp(e,t);if(n){var r=this.timezone.GMTPostfix();return i+" ("+r+")"}return i}},{key:"gridCellOrderPlaceTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY HH:mm";if(!e)return e;var n=this.timezone.formatUTCTimestamp(e,t),i=this.timezone.GMTPostfix();return n+" ("+i+")"}},{key:"gridCellLongText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY HH:mm";if(!e)return e;var n=this.timezone.applyOffset(e,"ddd MMM DD HH:mm:ss",t),i=this.timezone.GMTPostfix();return n+" ("+i+")"}},{key:"servicesDate",value:function(e){return e?this.timezone.applyOffset(e,void 0,"D MMM YYYY HH:mm:ss")+" ("+this.timezone.GMTPostfix()+")":e}},{key:"notificationCenterItemDate",value:function(e){if(!e)return e;var t=this.timezone.applyOffset(e,void 0,"MMM DD, HH:mm:ss");return r.isNumber(e)&&(t=this.timezone.applyOffsetToTimestamp(e,"MMM DD, HH:mm:ss")),t+" ("+this.timezone.GMTPostfix()+")"}},{key:"popupGMTPostfix",value:function(){return" ("+this.timezone.GMTPostfix()+")"}},{key:"columnGMTPostfix",value:function(){return" ("+this.timezone.GMTPostfix()+")"}},{key:"newsSentimentArticleDate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY HH:mm";if(!e)return e;var n=this.timezone.formatUTCTimestamp(e,t);return""+n}},{key:"webinarDateTime",value:function(e){if(!e)return e;var t=this.timezone.convertTimestampToMoment(e),n=this.localization.getMonthsNames()[t.month()];return this.localization.getDaysShortNames()[t.day()]+", "+t.format("D")+" "+n+" "+t.format(" Y, H:mm")}},{key:"webinarStartTime",value:function(e){if(!e)return e;var t=this.timezone.setTimestampToMoment(e),n=this.timezone.GMTPostfix();return t.format("h:mma")+" ("+n+")"}},{key:"timezone",get:function(){return this[c]?this[c]:(this[c]=s.user,this[c])}},{key:"localization",get:function(){return{getMonthsNames:function(){return l.splitByComma(__("calendar_monthNames"))},getDaysShortNames:function(){return l.splitByComma(__("calendar_shortDays"))}}}}]),e}();i.exports=new u}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(43),s=n(8),a=n(66),l=n(5),c=n(26),u={},d=1,p=2,f=3,h=0,m=null,g=r.debounce((function(){var e,t=r.chain(u).map((function(e,t){return[t,e.refs]})).filter((function(e){return!u[e[0]].subscribed})).map((function(e){return e[0]})).each((function(e){return u[e].subscribed=!0})).value(),n=r.chain(u).map((function(e,t){return[t,e.refs]})).filter((function(e){return 0===e[1]&&u[e[0]].subscribed})).map((function(e){return e[0]})).value();if(!r.isEmpty(t)||!r.isEmpty(n))return r.isEmpty(t)||(e=t,r.isEmpty(e)||s.subscribeInstrumentSymbols(a.getAtmosphereId(),e)),function(){for(var e in u)0===u[e].refs&&delete u[e]}(),v().then((function(){return s.changeTemporaryInstrumentSubscription(a.getAtmosphereId(),t,n)}))}),500);function v(){return h===p||h===d?m:new Promise((function(e,t){h=d;var n=function(e,t,n){return l.trigger(t),e(h=n)};m=s.fxStart(a.getAtmosphereId()).then((function(){return n(e,"request:fxstart:success",p)})).catch((function(){return n(t,"request:fxstart:error",f)}))}))}function b(e){return e?(e=r.isArray(e)?e:[e])[0]&&e[0]instanceof o?r.map(e,(function(e){return e.get("symbol")})):e:[]}function _(e){var t=function(e){return r.isEmpty(e)?[]:r.chain(e).filter((function(e){return c.getInstrumentBySymbol(e)})).each((function(e){var t=u[e];t?t.refs++:u[e]={refs:1}})).map((function(e){return e})).value()}(b(e));return g(),t}function y(e){var t=function(e){return r.isEmpty(e)?[]:r.chain(e).filter((function(e){return u[e]&&c.getInstrumentBySymbol(e)&&u[e].refs>0})).each((function(e){return u[e].refs--})).filter((function(e){return 0===u[e].refs})).value()}(b(e));return g(),t}i.exports={add:_,remove:y,update:function(e,t){return{addedSymbols:_(e),removedSymbols:y(t)}}},a.on("type:USER_LOGIN_INFO",v),window.subs={add:_,remove:y,map:u}}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},,,function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(136),s=n(72),a=n(6),l=r.template(n(1340)),c=o.extend({events:function(){return r.extend({},r.result(o.prototype,"events"),{"click .fn-ok":"onOK","click .fn-cancel":"onCancel"})},getOptions:function(e){return r.extend({},r.result(o.prototype,"getOptions"),{showLogo:!1,isMarketsXPromotion:a.isPromotionMarketsX(),showConfirmCaption:!0,closeIconStyle:"grey",size:"small",headerBgStyle:"transparent",confirmOKBtnText:__("ok"),confirmCancelBtnText:__("cancel"),confirmCaption:__("reports.request.popup.title"),confirmMessage:"",confirmMessageAlignment:"text-center",isLightTheme:s.isLightTheme(),onOK:r.noop,onCancel:r.noop,template:l},e)},initialize:function(e){o.prototype.initialize.apply(this,arguments),this.render();var t=this.$(".btn-primary").get(0);t&&t.focus()},render:function(){return o.prototype.render.call(this),this.setContent(this.options.template({options:this.options})),this.$el.addClass("popup-type-confirm"),this},onOK:function(e){this.options.onOK(),this.close()},onCancel:function(e){this.options.onCancel(),this.close()}});i.exports=c}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){"use strict";n.r(t),n.d(t,"WithdrawMethod",(function(){return i}));var i=Object.freeze({CREDIT_DEBIT_CARD:"credit_debit_card",GLOBE_PAY:"globe_pay",MONEYBOOKERS:"moneybookers",NETELLER:"neteller",PAYPAL:"paypal",UNION_PAY:"union_pay",WIRE_TRANSFER:"wire_transfer",SEA_SOLUTION:"sea_solution",properties:{credit_debit_card:{instantiate:function(){return new(0,n(1482).default)},endpoint:"/withdrawal/creditcard"},globe_pay:{instantiate:function(){return new(0,n(1483).default)},endpoint:"/withdrawal/globepay"},moneybookers:{instantiate:function(){return new(0,n(1484).default)},endpoint:"/withdrawal/moneybookers"},neteller:{instantiate:function(){return new(0,n(1485).default)},endpoint:"/withdrawal/neteller"},paypal:{instantiate:function(){return new(0,n(1486).default)},endpoint:"/withdrawal/paypal"},union_pay:{instantiate:function(){return new(0,n(1487).default)},endpoint:"/withdrawal/unionpay"},wire_transfer:{instantiate:function(){return new(0,n(1488).default)},endpoint:"/withdrawal/wiretransfer"},sea_solution:{instantiate:function(){return new(0,n(1489).default)},endpoint:"/withdrawal/seasolution"}}})},function(e,t,n){"use strict";n.r(t),n.d(t,"isAppThemeDark",(function(){return h})),n.d(t,"getValueFromTradingSettings",(function(){return m})),n.d(t,"getInstrumentName",(function(){return g})),n.d(t,"getCurrentSettings",(function(){return v})),n.d(t,"setTradingSettings",(function(){return b})),n.d(t,"getChangedSettings",(function(){return _})),n.d(t,"getOrderType",(function(){return y})),n.d(t,"getDefaultAmount",(function(){return E})),n.d(t,"setDefaultAmount",(function(){return S})),n.d(t,"setInteractiveTradingSettings",(function(){return C}));var i=n(187),r=n.n(i),o=n(75),s=n(6),a=n.n(s),l=n(1),c=n.n(l),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function d(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var p=a.a.getUserCommonData();function f(e){var t=e.orderType,n=e.instrument;return c.a.reduce(v(),(function(e,i){return i.instrument!==n||i.orderType!==t&&i.orderType!==o.b.LONG_SHORT&&t!==o.b.LONG_SHORT||e.push(i),e}),[])}function h(){return"dark"===p.getAppTheme()}function m(e,t){var n=f({instrument:e,orderType:t?o.b.LONG:o.b.SHORT});return n.length>0?n[0].amount:null}var g=function(e){var t=r.a.getInstrumentBySymbol(e);return t?t.attributes.name:""};function v(){var e=p.getTradingSettings()||[];return[].concat(d(e))}function b(e){return e?p.saveTradingSettings(e):Promise.reject()}function _(e){if(!function(e){var t=f(e);return!(t.length>1)&&(0===t.length||t[0].id===e.id)}(e))return null;var t=v();if(!e.id)return[].concat(d(t),[u({},e,{id:c.a.uniqueId(o.c)})]);var n=c.a.find(t,(function(t){return t.id===e.id}));return c.a.extend(n,e),t}var y=function(e){switch(e){case o.b.LONG:return __("account_settings.trading-settings.order-type.long");case o.b.SHORT:return __("account_settings.trading-settings.order-type.short");case o.b.LONG_SHORT:return __("account_settings.trading-settings.order-type.long_short")}},E=function(e,t){var n=m(e,t);if(n)return n;var i=a.a.getUserCommonData().getInteractiveTradingSettings()||[],r=c.a.find(i,(function(t){return t.instrument===e}));return r?r.amount:""},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=p.getInteractiveTradingSettings()||[],i={instrument:e,amount:t},r=c.a.findIndex(n,(function(t){return t.instrument===e}));return r>-1?n[r]=i:n.push(i),C(n)};function C(e){return e?p.saveInteractiveTradingSettings(e):Promise.reject()}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return l})),n.d(t,"i",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"a",(function(){return d}));var i="commentariesReducer/LOAD_COMMENTARIES",r="commentariesReducer/LOAD_COMMENTARIES_SUCCESS",o="commentariesReducer/LOAD_COMMENTARIES_ERROR",s="commentariesReducer/LOAD_COMMENTARY",a="commentariesReducer/LOAD_COMMENTARY_SUCCESS",l="commentariesReducer/LOAD_COMMENTARY_ERROR",c="commentariesReducer/SELECT_COMMENTARY",u="commentariesReducer/OPEN_COMMENTARY_PAGE",d="commentariesReducer/CLOSE_COMMENTARY_PAGE"},function(e,t,n){"use strict";function i(e){var t={page:e?"details":"main"};e&&(t.financialCommentaryId=e),__eventos("tradingTools:commentary:impression",t)}function r(e){var t={page:e?"details":"main"};e&&(t.newsId=e),__eventos("tradingTools:news:impression",t)}function o(e){var t={page:e?"details":"main"};e&&(t.newsAlertId=e),__eventos("tradingTools:newsAlerts:impression",t)}function s(e){var t={page:e?"details":"main"};e&&(t.webinarId=e),__eventos("tradingTools:xRay:impression",t)}function a(e){var t={page:e?"details":"main"};e&&(t.videoUrl=e),__eventos("tradingTools:educationOnDemand:impression",t)}function l(e){__eventos("tradingTools:tradingCentral:impression",{page:e?"details":"main"})}function c(e){var t={page:e?"details":"main"};e&&(t.symbol=e),__eventos("tradingTools:multiCharts:impression",t)}function u(e){var t={page:e?"details":"main"};e&&(t.instrumentName=e),__eventos("tradingTools:insiders:impression",t)}function d(e){__eventos("tradingTools:analystResearchDownload:impression",{page:e?"details":"main"})}function p(e){var t={page:e?"details":"main"};e&&(t.instrumentName=e),__eventos("tradingTools:analystRec:impression",t)}function f(e){var t={page:e?"details":"main"};e&&(t.instrumentName=e),__eventos("tradingTools:hedgefunds:impression",t)}function h(e){var t={page:e?"details":"main"};e&&(t.economicEvent=e),__eventos("tradingTools:delkos:impression",t)}function m(e){var t={page:e?"details":"main"};e&&(t.instrumentName=e),__eventos("tradingTools:bloggers:impression",t)}function g(e){var t={page:e?"details":"main"};e&&(t.instrumentName=e),__eventos("tradingTools:newsSentiment:impression",t)}function v(e){var t={page:e?"details":"main"};e&&(t.videoId=e),__eventos("tradingTools:videoTutorials:impression",t)}n.r(t),n.d(t,"sendEventosCommentaryAction",(function(){return i})),n.d(t,"sendEventosNewsAction",(function(){return r})),n.d(t,"sendEventosNewsAlertsAction",(function(){return o})),n.d(t,"sendEventosXrayAction",(function(){return s})),n.d(t,"sendEventosEducationOnDemandAction",(function(){return a})),n.d(t,"sendEventosTradingCentralAction",(function(){return l})),n.d(t,"sendEventosMultiChartsAction",(function(){return c})),n.d(t,"sendEventosInsidersAction",(function(){return u})),n.d(t,"sendEventosAnalystResearchAction",(function(){return d})),n.d(t,"sendEventosAnalystRecommendationsAction",(function(){return p})),n.d(t,"sendEventosHedgefundsAction",(function(){return f})),n.d(t,"sendEventosEventsAndTradesAction",(function(){return h})),n.d(t,"sendEventosBloggersAction",(function(){return m})),n.d(t,"sendEventosNewsSentimentAction",(function(){return g})),n.d(t,"sendEventosVideoTutorialsAction",(function(){return v}))},function(e,t,n){"use strict";n.d(t,"h",(function(){return y})),n.d(t,"l",(function(){return E})),n.d(t,"c",(function(){return w})),n.d(t,"g",(function(){return O})),n.d(t,"k",(function(){return T})),n.d(t,"s",(function(){return P})),n.d(t,"d",(function(){return I})),n.d(t,"r",(function(){return A})),n.d(t,"e",(function(){return x})),n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return D})),n.d(t,"o",(function(){return R})),n.d(t,"i",(function(){return L})),n.d(t,"j",(function(){return M})),n.d(t,"n",(function(){return j})),n.d(t,"m",(function(){return F})),n.d(t,"f",(function(){return B})),n.d(t,"q",(function(){return U})),n.d(t,"p",(function(){return V}));var i=n(42),r=n(3),o=n(19),s=n(88),a=n(41),l=n(6),c=n.n(l),u=n(13),d=n(1),p=n.n(d),f=n(83),h=n(8),m=n.n(h),g=n(51),v=n(25),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_=function(e,t){return p.a.map(e,(function(e){var n=p.a.findWhere(t,{markValue:e});return n&&n.value}))};function y(){return{types:[v.C,v.E,v.D],callApi:function(){return Object(g.w)()}}}function E(){return{types:[v.O,v.Q,v.P],callApi:function(){return m.a.loadScoreTypes()}}}function S(){return function(e,t){var n=Object(a.t)(t());return e({types:[v.bb,v.db,v.cb],callApi:function(){return m.a.storeSettings({portfolios:n})}}).then((function(){return c.a.getUserCommonData().load()}))}}function C(e){return function(t){var n,r=function e(n,i,r){var o;t((o=n,{types:[v.i,v.k,v.j],callApi:function(){return Object(g.t)(o)}})).then((function(t){var o=(t&&t.progressData||{}).percentComplete;return p.a.isNumber(o)?o>=1?i(t):void p.a.delay((function(){return e(n,i,r)}),1e3):r()})).catch(r)};return t((n=e,function(e,t){var r,o=t(),s=n&&_(n.marketCap,Object(a.u)(o)),l=n&&_(n.dailyVolume,Object(a.f)(o)),c=n&&_(n.peRatio,Object(a.v)(o)),d=n&&_(n.beta,Object(a.b)(o)),h=n&&n.sectors,m=Object(g.o)((r=n,p.a.pick(r,(function(e,t){return Object(f.startWith)(u.F,t)}))||i.b),Object(a.D)(o)),y=b({},n,{selectedMarketCapRanges:s,selectedDailyVolumeRanges:l,selectedPeRatioRanges:c,selectedBetaRanges:d,selectedSectors:h,scoreCriteria:m}),E=Object(g.q)(y);return e({types:[v.a,v.c,v.b],callApi:function(){return Object(g.s)(E)}})})).then((function(e){var t=(e.data||{}).backtestID;return t?new Promise((function(e,n){r(t,e,n)})):Promise.reject(new Error("Backtest must not be empty"))}))}}function w(e){return function(t){return t({type:v.o,payload:{filters:e}}),t(C(e)).then((function(e){return t(O(e.backtestID)).then((function(t){return{backtest:e,overview:t}}))})).then((function(e){return e}))}}function O(e){return{types:[v.x,v.z,v.y],callApi:function(){return Object(g.r)(e)}}}function T(e){return{types:[v.L,v.N,v.M],callApi:function(){return Object(g.z)(e)}}}function P(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(i,r){if(!Object(a.Y)(r(),e))return Promise.reject(new Error("Portfolio doesn't exists. "+e));i({type:v.ib,payload:{portfolioName:e,properties:t}});var o=Object(a.s)(r(),e);return!0===n?i(S()).then((function(){return o})):Promise.resolve(o)}}function k(e,t,n,i,r){return function(o,s){var l=s();return Object(a.s)(l,e)?(o({type:v.q,payload:{portfolioName:e,backtestID:t,amount:n,takeProfit:i,stopLoss:r}}),o(function(e,t,n,i,r){return function(o,s){var l=Object(a.s)(s(),e);if(!l)return Promise.reject(new Error('You have to create local portfolio "'+e+'" before try to create the strategy.'));var c=Object(a.R)(s(),l.strategyID);return c&&c.backtestID===t?Promise.resolve(c):o({types:[v.r,v.t,v.s],callApi:function(){return Object(g.C)(e,t,n,i,r)}})}}(e,t,n,i,r))):Promise.reject(new Error("Can't create remote portfolio. Local portfolio must be created before."))}}function I(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(r,o){if(p.a.isEmpty(e))return Promise.reject(new Error("Portfolio name mustn't be empty"));var s=Object(a.s)(o(),e);if(s)return Promise.resolve(s);r({type:v.p,payload:{portfolioName:e,filters:t,options:n}});var l=Object(a.s)(o(),e);return!0===i?r(S()).then((function(){return l})):Promise.resolve(l)}}function A(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(r,o){if(p.a.isEmpty(e))return Promise.reject(new Error("Portfolio name mustn't be empty"));var s=Object(a.s)(o(),e),l=p.a.omit(t,"portfolioName");if(!s){if(!1===i)return Promise.reject(new Error("Portfolio is not found. "+e));s=b({portfolioName:e},l,{createdTime:p.a.now()})}r({type:v.hb,payload:{portfolio:s,props:l}});var c=Object(a.s)(o(),e);return!0===n?r(S()).then((function(){return c})):Promise.resolve(c)}}function x(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n,i){if(p.a.isEmpty(e))return Promise.reject(new Error("Portfolio name mustn't be empty"));var r=Object(a.s)(i(),e);return r?(n({type:v.v,payload:{portfolio:r}}),!0===t?n(S()).then((function(){return r})):Promise.resolve(r)):Promise.reject(new Error("Portfolio is not found. "+e))}}function N(e,t,n,i,o,s,l){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{autoDeleteLocalPortfolio:!0};return function(u,d){var f=d();if(u({type:v.d,payload:{portfolioName:e,backtest:t,filters:n,options:i,amount:o,takeProfit:s,stopLoss:l}}),p.a.isEmpty(e))return Promise.reject(new Error('Action "buildPortfolio" called without portfolioName'));var h=Object(a.s)(f,e);if(h&&h.strategyID){var m=Object(a.R)(f,h.strategyID);return m?Promise.resolve({portfolio:h,strategy:m}):Promise.reject(new Error("Portfolio has a strategy that does not exists"))}var g=function(e){return u(function(e,t){return function(n){var i=p.a.extend({createdTime:null,lastPortfolioData:null,lastRebalanceDate:null,nextRebalanceDate:null,strategyID:null,strategyName:null,portfolioProviderId:null,portfolioStatus:null},t,e);return n({type:v.u,payload:i}),Promise.resolve(i)}}(e,{portfolioProviderId:e.strategyID,requestedAmount:o,portfolioStatus:r.WAITING}))},b=u(I(e,n,i)).then((function(e){var n;return(t?Promise.resolve(t):(n=e.filters,u(C(n)))).then((function(t){return(n=e,i=t.backtestID,u(k(n.portfolioName,i,o,s,l))).then((function(e){return g(e).then((function(t){return!1!==c.autoDeleteLocalPortfolio?(n=e.strategyName,u(x(n))).then((function(e){return t})):t;var n}))}));var n,i}))}));return b.then((function(e){u({type:v.f,payload:N})})),b.catch((function(e){u({type:v.e,payload:e.message})})),b}}function D(e){return function(t,n){return Object(a.G)(n(),e)?t({types:[v.l,v.n,v.m],callApi:function(){return Object(g.u)(e)}}).then((function(){t(function(e,t){return{type:v.h,payload:{portfolioProviderId:e,values:t}}}(e,{portfolioStatus:r.CLOSING}))})):Promise.reject(new Error("Portfolio metric has not been found. "+e))}}function R(){return function(e,t){e({type:v.Z,payload:{positionMetrics:Object(s.getPositionMetrics)(t()),positions:Object(s.getOpenPositionsMap)(t())},instrumentId2SymbolMap:Object(o.getId2SymbolMap)(t()),portfolioId2ProviderIdMap:Object(a.y)(t())})}}function L(){return{types:[v.F,v.H,v.G],callApi:function(){return Object(g.x)()}}}function M(e){return{types:[v.I,v.K,v.J],callApi:function(){return Object(g.y)(e)}}}function j(e){return{type:v.Y,payload:e}}function F(e,t,n){return{types:[v.R,v.T,v.S],callApi:function(){return Object(g.A)(e,t,n)}}}function B(e,t){return function(n){n({type:v.X,payload:{eventName:e,options:t}}),Object(g.v)(e,t)}}function U(e,t,n,i){return{types:[v.eb,v.gb,v.fb],callApi:function(){return Object(g.D)(e,t,n,i)}}}function V(e,t,n){return{type:v.ab,payload:{portfolioType:e,column:t,dir:n}}}},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(136),s=r.template(n(1450)),a=o.extend({events:function(){return r.extend({},r.result(o.prototype,"events"),{"click .btn":"onOK","click .fn-close-popup":"onClose"})},getOptions:function(e){return r.extend({},r.result(o.prototype,"getOptions"),{parent:document.body,isHeaderShowed:!0,closeIconStyle:"blue",headerBgStyle:"transparent",headerStyle:"default",type:"default",size:"small",okBtnText:"Ok",isShowCloseForMobile:!1,isShowOkButton:!0,textAlignment:"text-center"},e)},initialize:function(e){o.prototype.initialize.apply(this,arguments),this.render()},render:function(){return o.prototype.render.call(this),this.setContent((this.options.template||s)(this.getRenderTemplateData())),this.options.additionalClassName&&this.$(".message-box").addClass(this.options.additionalClassName),this},onOK:function(e){var t=e.currentTarget.attributes.getNamedItem("action");t&&r.isFunction(this.options.actions[t.value])?this.options.actions[t.value]():r.isFunction(this.options.onOK)&&this.options.onOK(),this.close()},onClose:function(e){e.stopImmediatePropagation(),this.options.actions&&r.isFunction(this.options.actions.onClose)&&this.options.actions.onClose(),this.close()}});i.exports=a}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i,r){var o,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();void 0===(o=function(e,t,i){var r=n(24),o=n(1),a=n(387),l=n(8),c=n(185),u=n(5),d=n(9),p=n(522).BRAND,f=n(976).default,h="tracking_aff",m="tracking_aff_expiration",g="_dcm_uid",v=2592e6,b=3*v,_=function(e){return f((navigator.userAgent||"")+(navigator.platform||"")+(new Date).getTime()+Math.random()).slice(0,e||16)},y=function(){return _(8)+"-"+_(4)+"-"+_(4)+"-"+_(4)+"-"+_(12)},E=function(e){return e?new c.Url(e).getQueryString():c.getQueryString()},S=function(e){return o.reduce(e.split("&"),(function(e,t){if(!o.isEmpty(t)){var n=t.split("=");2===n.length&&(e[n[0]]=decodeURIComponent(n[1]))}return e}),{})},C=function(){return d.isLive()};function w(){var e,t=localStorage.getItem(h);return(e=parseInt(localStorage.getItem(m)))&&e<Date.now()||!t?(O(),{}):JSON.parse(t)}function O(){localStorage.removeItem(h),localStorage.removeItem(m)}function T(e,t){localStorage.setItem(h,JSON.stringify(e));var n=v;(o.has(e,"pid")&&e.pid.toLowerCase().indexOf("google")>-1||o.has(e,"utm_source")&&e.utm_source.toLowerCase().indexOf("google")>-1)&&(n*=3),t&&localStorage.setItem(m,Date.now()+n)}var P=function(e){var t=a.getCookie(g);return t||(t=y(),a.setCookie(g+"="+t,new Date(Date.now()+b),e)),t},k=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return s(e,[{key:"trackEvent",value:function(t){if(e.SUPPORTED_FB_EVENTS[t]&&C()&&"function"==typeof window.fbq)return window.fbq("track",t),__eventos("test:fb:"+t,{},!0)}}],[{key:"SUPPORTED_FB_EVENTS",get:function(){return{PageView:!0,Lead:!0,CompleteRegistration:!0,Purchase:!0}}}]),e}(),I=r.Model.extend({defaults:{machineId:"en",affiliateTracking:{}},initialize:function(){var e,t,n,i;this.loadMachineId(),this.dcmTracking=(e=null,t=c.getDomainName(),n=function(e){var t=o.extend({allow_custom_scripts:!0},e);gtag("event","conversion",t)},i={sitev:function(){return n({u1:window._uid,send_to:d.getDcmTrackingId()+"/sitev0/sitev0+unique"}),__eventos("test:dcm:sitev",{},!0)},leadw:function(e){return __eventos("test:dcm:leadwBefore",{},!0),n({u1:window._uid,u2:e,send_to:d.getDcmTrackingId()+"/leadw0/leadc0+unique"}),__eventos("test:dcm:leadw",{u2:e},!0)},fullr:function(e){return n({u2:e,send_to:d.getDcmTrackingId()+"/fullr0/fullr0+unique"}),__eventos("test:dcm:fullr",{u2:e})},first:function(e){return n({u2:e,send_to:d.getDcmTrackingId()+"/first0/first0+unique"}),__eventos("test:dcm:first",{u2:e})}},{trackEvent:function(n,r){try{if(!d.isDcmTrackingEnabled()||!window.gtag||!C())return Promise.resolve();if(a.getCookie(g)&&"sitev"===n)return Promise.resolve();e||(window._uid=P(t));var o=i[n];return o?o(r):Promise.resolve()}catch(e){Promise.resolve()}}}),this.fbTracking=new k},trackDcmEvent:function(e,t){return d.isDcmTrackingEnabled()&&this.dcmTracking?this.dcmTracking.trackEvent(e,t):Promise.resolve()},trackFBEvent:function(e){return d.isFBTrackingEnabled()?this.fbTracking.trackEvent(e):Promise.resolve()},loadMachineId:function(){if(this.machineId=localStorage.getItem("tracking_uid"),!this.machineId){var e=S(E());o.has(e,"uid")?this.machineId=e.uid:this.machineId=y(),localStorage.setItem("tracking_uid",this.machineId)}},loadAffiliateTracking:function(){var e=this,t=w();this.set("affiliateTracking",t);var n=S(E());if(!o.has(n,"pid")&&o.has(n,"utm_source")&&(n.pid=n.utm_source),o.has(n,"intent_group")||(n.intent_group="Brand",n.intent_instrument="na"),d.getBrandName()===p.MARKETS&&this.updateReferrers(n),o.has(t,"marketsx")&&(n.marketsx=t.marketsx),o.isEmpty(n))return Promise.resolve();var i=d.getCrmTrackingServiceUrl();return i?l.get(i+"?"+c.paramsToQueryString(n)).then((function(t){return!t.data||t.data.error?Promise.resolve(t):o.keys(t.data).length<=2?Promise.resolve(t):(T(n,!0),e.set("affiliateTracking",n),Promise.resolve(t))})).catch((function(t){return T(n,!0),e.set("affiliateTracking",n),Promise.resolve()})):Promise.resolve()},getMachineId:function(){return this.machineId},getAffiliateTracking:function(){var e=this.get("affiliateTracking");return!o.isEmpty(e)&&o.has(e,"pid")?e:function(){var e=a.getCookie("tracking");if(null===e)return null;try{var t=JSON.parse(unescape(e));return!o.isEmpty(t)&&o.has(t,"pid")?t:null}catch(e){return null}}()||function(){var e=a.getCookie("_eh2_ref");if(null===e)return null;try{var t=S(E(unescape(e)));return!o.isEmpty(t)&&o.has(t,"pid")?t:null}catch(e){return null}}()||{}},getLoginTracking:function(){var e=this.get("affiliateTracking");return o.reduce(["affiliateId","campaignName"],(function(t,n){return o.has(e,n)&&(t[n]=e[n]),t}),{})},storeMarketsxFlag:function(){var e=w();o.isObject(e)||(e={}),o.isUndefined(e.marketsx)&&(e.marketsx="1",T(e,!0))},removeMarketsXFlag:function(){var e=this.get("affiliateTracking"),t=(e.marketsx,function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["marketsx"]));this.set("affiliateTracking",t),T(t,!1)},getMarketsXTrackingParameter:function(){if(!this.isMarketsX())return{};var e,t,n,i=this.get("affiliateTracking").marketsx;return n=i,(t="marketsx")in(e={})?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},isMarketsX:function(){return o.has(this.get("affiliateTracking"),"marketsx")},removeAffiliateTracking:function(){O(),this.set("affiliateTracking",{})},getReferrer:function(){var e={},t=a.getCookie("_eh2_ref");return null!==t&&(e.referrer=t),e},updateReferrers:function(e){var t=document.referrer;o.isEmpty(t)||-1!==o.indexOf(t,"markets.com")||a.setCookie("external_referrer="+t,new Date(Date.now()+30),c.getDomainName());var n=a.getCookie("internal_referrer");if(o.isNull(n)&&a.setCookie("internal_referrer="+window.location,new Date(Date.now()+30),c.getDomainName()),n){var i=c.getQueryParam("pid")||0;(0===i&&o.has(e,"pid")||0!==i&&o.has(e,"pid")&&i!==e.pid)&&a.setCookie("internal_referrer="+window.location,new Date(Date.now()+30),c.getDomainName())}},sendLeadCreationEventTo3rdPartyTracking:function(e){e&&e.id?(this.trackFBEvent("Lead"),u.trigger("gtm:lead",e),this.trackDcmEvent("leadw",e.id)):window.__eventos("test:dcm:missingUser",{},!0)},savePageRoute:function(e){localStorage.setItem("last_route",e)},resetLastPageRoute:function(){localStorage.removeItem("last_route")},getLastPageRoute:function(){var e=localStorage.getItem("last_route");return this.resetLastPageRoute(),e}});i.exports=new I}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(24))},function(e,t,n){"use strict";function i(e,t,n,i){return cordova.InAppBrowser.open(e,t||"_system",i)}n.r(t),n.d(t,"default",(function(){return i}))},function(e,t,n){"use strict";n.r(t),n.d(t,"SETTINGS_IS_ADVANCED_DASHBOARD_SERVICES_PRIMARY_EXPANDED",(function(){return i})),n.d(t,"SETTINGS_IS_ADVANCED_DASHBOARD_SERVICES_SECONDARY_EXPANDED",(function(){return r})),n.d(t,"SETTINGS_ADVANCED_DASHBOARD_SERVICES_PRIMARY_SIZE",(function(){return o})),n.d(t,"SETTINGS_ADVANCED_DASHBOARD_SERVICES_SECONDARY_SIZE",(function(){return s})),n.d(t,"SETTINGS_IS_ADVANCED_DASHBOARD_SERVICES_INTERACTED",(function(){return a})),n.d(t,"SETTINGS_IS_ADVANCED_DASHBOARD_INSTRUMENT_LIST_EXPANDED",(function(){return l})),n.d(t,"SETTINGS_SELECTED_SERVICE_PRIMARY",(function(){return c})),n.d(t,"SETTINGS_SELECTED_SERVICE_SECONDARY",(function(){return u}));var i="isAdvancedDashboardServicesExpanded",r="isAdvancedDashboardServicesSecondaryExpanded",o="advancedDashboardServicesSize",s="advancedDashboardServicesSecondarySize",a="advancedDashboardServicesIterated",l="isAdvancedDashboardInstrumentListExpanded",c="userSelectedService",u="userSelectedServiceSecondary"},function(e,t,n){"use strict";n.r(t);var i=n(6),r=n.n(i),o=n(8),s=n.n(o),a=n(66),l=n.n(a),c=n(119),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id="base.withdraw.method"}return u(e,[{key:"getId",value:function(){return this.id}},{key:"setData",value:function(e){var t=r.a.getPersonalData();this.data={commonData:{beneficiaryName:e.beneficiary,firstName:t.firstName,lastName:t.lastName,tradingAccount:Number(e.account?e.account:r.a.getAccountId()),currency:e.currency?e.currency:r.a.getUserCurrency(),amount:e.amount,hashPassword:t.password,comment:e.comment}}}},{key:"proceed",value:function(){var e=c.WithdrawMethod.properties[this.id].endpoint;return s.a.withdrawRequest(l.a.getAtmosphereId(),e,this.data)}}]),e}();t.default=d},,,,,,function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(18),s=n.n(o),a=n(234),l=n.n(a),c=n(623),u=n.n(c),d=n(148),p=n.n(d),f=n(1),h=n.n(f),m=n(7),g=n.n(m),v=(n(1395),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e});var b=l.a.extend({initialize:function(){var e=this;l.a.prototype.initialize.apply(this,arguments),this._events={onchange:function(t){return e.options.onChange(t)}}}}),_=u.a.extend({initialize:function(){var e=this;u.a.prototype.initialize.apply(this,arguments),this._events={onchange:function(t){return e.options.onChange(t)}}},getHtmlTemplate:l.a.prototype.getHtmlTemplate});t.a=s()({displayName:"Dropdown",getDefaultProps:function(){return{as:"div",name:"dropdown",title:"",options:[],selected:"",isDisabled:!1,onChange:h.a.noop,childClassName:null,emptyText:void 0,defaultValue:void 0,overflowComponentSelector:"",transformOptionText:function(e){return e},transformOptionsValue:function(e){return e},transformOptionToAriaLabel:function(e){return""},isOptionDisabled:function(e){return!1},multiselect:!1,totalSelectedText:void 0,resetText:void 0,allTranslationKey:""}},getComposedOptions:function(){var e=this;return{className:this.props.childClassName,name:this.props.name,options:this.props.options,selected:this.props.selected,disable:this.props.isDisabled,template:this.props.multiselect?p.a.multiSelectDefault:p.a.selectBox,translationKey:"",allTranslationKey:this.props.allTranslationKey,translationGroupPrefix:"",dependent:"",totalSelectedText:this.props.totalSelectedText,resetText:this.props.resetText,disableChangeByKeyboard:!0,transformOptionsValue:this.props.transformOptionsValue,transformOptionToAriaLabel:this.props.transformOptionToAriaLabel,isOptionDisabled:this.props.isOptionDisabled,transformOptionText:this.props.transformOptionText,title:this.props.title,emptyText:this.props.emptyText,defaultValue:this.props.defaultValue,onChange:function(){return e.onChange()},overflowComponentSelector:this.props.overflowComponentSelector}},componentDidMount:function(){this.createField()},getValue:function(){return this.field&&this.field.value()},setValue:function(e){this.field&&this.field.value(e)},createField:function(){this.field||(this.field=new(this.props.multiselect?_:b)(v({parent:this.refs.el},this.getComposedOptions())),this.field.value(this.props.selected),this.field.render())},destroyField:function(){this.field&&(this.field.remove(),this.field=null)},onChange:function(e){this.props.onChange(this.field.value())},componentWillUnmount:function(){this.destroyField()},componentDidUpdate:function(){this.destroyField(),this.createField()},render:function(){var e,t,n,i=h.a.omit(this.props,["allTranslationKey","resetText","totalSelectedText","multiselect","children","overflowComponentSelector","options","selected","onChange","childClassName","transformOptionText","emptyText","defaultValue","transformOptionsValue","transformOptionToAriaLabel","name","title","isOptionDisabled","isDisabled"]),o=g()((e={"dropdown-component":!0},t=this.props.className,n=!!this.props.className,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e));return r.a.createElement(i.as,v({},i,{ref:"el",className:o}))}})},function(e,t,n){"use strict";n.d(t,"k",(function(){return c})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return p})),n.d(t,"h",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"f",(function(){return g})),n.d(t,"n",(function(){return v})),n.d(t,"g",(function(){return b})),n.d(t,"o",(function(){return _})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return C})),n.d(t,"c",(function(){return w})),n.d(t,"b",(function(){return O})),n.d(t,"l",(function(){return T})),n.d(t,"m",(function(){return P}));var i=n(2),r=n(23),o=n(1),s=n.n(o),a=n(42),l=function(e){return e.webinars||e},c=Object(i.a)(l,(function(e){return e.status})),u=Object(i.a)(l,(function(e){return e.events})),d=Object(i.a)(u,(function(e){return s.a.findWhere(e,{_isLive:!0})})),p=Object(i.a)(l,(function(e){return e.nextSessionEventId})),f=Object(i.a)(l,(function(e){return e.eventsMap||a.b})),h=Object(i.a)(l,(function(e){return e.eventsIds||a.a})),m=Object(i.a)([f,r.a],(function(e,t){return e[t]})),g=Object(i.a)(m,(function(e){return e&&e.title})),v=Object(i.a)(m,(function(e){return e&&e.isPremium})),b=Object(i.a)(m,(function(e){return e&&e._type})),_=Object(i.a)(m,(function(e){return e&&e.isRegistered})),y=Object(i.a)(m,(function(e){return e&&e._period})),E=(Object(i.a)(m,(function(e){return e&&e._isUpcoming})),Object(i.a)(m,(function(e){return e&&e.url}))),S=Object(i.a)(m,(function(e){return e&&e.historyVODUrl})),C=(Object(i.a)(m,(function(e){return e&&e._isActive?E(state,eventId):S(state,eventId)})),Object(i.a)(m,(function(e){return e&&e._start}))),w=Object(i.a)(m,(function(e){return e&&e._end})),O=(Object(i.a)(m,(function(e){return e&&e.duration})),Object(i.a)(m,(function(e){return e&&e.category})),Object(i.a)(m,(function(e){return e&&e.description}))),T=Object(i.a)(m,(function(e){return e&&e._isLive})),P=Object(i.a)(m,(function(e){return e&&e._isPast}))},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var r=n(12),o=n(1),s=n(20),a=n(5),l=n(146),c=o.isFunction,u=s.extend({name:"",className:"popup-container",events:function(){return o.extend({},o.result(s.prototype,"events"),{"click .fn-close-popup":"onPopupClose"})},template:o.template(n(1339)),getOptions:function(e){return o.extend({},{position:"absolute",caption:"",isHeaderShowed:!1,closeIconStyle:"blue",headerBgStyle:"grey",headerStyle:"default",translucent:"1",zIndex:"auto",boxWidth:"",maxBoxWidth:"",size:"default",nameClass:"",valign:"middle",halign:"center",onCloseClick:function(){},onEnterClick:function(){},ignorableByLoginMessage:!1},e)},initialize:function(e){s.prototype.initialize.apply(this,arguments),this.$el[0].addEventListener("keypress",this.onKeyPress.bind(this)),this.options.zIndex=l.getZindexForPopup(this.options.zIndex),l.addPopup({name:this.name,zIndex:this.options.zIndex})},onKeyPress:function(e){13===(e.which||e.keyCode)&&this.options.onEnterClick()},render:function(){s.prototype.render.call(this),this.$el.addClass("popup-"+this.options.position),this.$el.addClass("popup-translucent-"+this.options.translucent),this.$el.attr("id",this.cid),"auto"!==this.options.zIndex&&this.$el.css({zIndex:this.options.zIndex}),this.$el.html(r(this.template(this.getRenderTemplateData()))),this.show()},getRenderTemplateData:function(){var e=this.options,t=e.caption;return e.caption=o.isArray(t)?t:String(t).split(" "),{cid:this.cid,options:e}},showLoading:function(){return this.hide(),this.$el.find(".popup-box").addClass("loader-bg"),this},hideLoading:function(){return this.$el.find(".popup-box").removeClass("loader-bg"),this.show(),this},hide:function(){return this.$el.css("display","none"),r(document.body).removeClass("scroll-lock"),this},show:function(){return this.$el.css("display","block"),r(document.body).addClass("scroll-lock"),a.trigger("popup:stack:added",this.options),this},unbind:function(){this.undelegateEvents()},destroy:function(){this.$el[0].removeEventListener("keypress",this.onKeyPress),r(document.body).removeClass("scroll-lock"),l.deletePopup(this.name),s.prototype.destroy.call(this)},onPopupClose:function(){var e=this.options.onButtonCloseClicked;o.isFunction(e)&&e(),this.close()},close:function(){var e=this.options,t=e.onClose,n=e.onCloseClick;c(n)&&n(),c(t)&&t.apply(this,arguments),this.destroy()},setContent:function(e){this.options.nameClass&&this.$el.find(".popup-content").addClass("popup-"+this.options.nameClass),this.$el.find(".popup-body").html(e)},getPopupViewId:function(){return this.cid},getPopupElement:function(){return this.$el}});i.exports=u}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},,function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(7),s=n.n(o),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(e){var t,n=e.children,i=e.btnType,o=void 0===i?"default":i,c=e.size,u=e.className,d=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["children","btnType","size","className"]);return r.a.createElement("button",a({type:"button",className:s()((t={btn:!0},l(t,c,c),l(t,"btn-"+o,!0),l(t,u,!!u),t))},d),n)}},,function(e,t,n){"use strict";n.r(t),n.d(t,"loadCommentaries",(function(){return h})),n.d(t,"selectCommentary",(function(){return m})),n.d(t,"loadCommentary",(function(){return g})),n.d(t,"openCommentaryPage",(function(){return v})),n.d(t,"closeCommentaryPage",(function(){return b})),n.d(t,"selectFirstItem",(function(){return _}));var i=n(121),r=n(1),o=n.n(r),s=n(33),a=n(8),l=n.n(a),c=n(58),u=n.n(c),d=n(81),p=n(3),f=u.a.commentaries.updateInterval;function h(){return function(e,t){var n=Object(d.c)(t()),r=Object(d.a)(t());return o.a.now()-n>f-p.SECOND_IN_MILLISECONDS?e({types:[i.b,i.d,i.c],callApi:function(){return l.a.loadCommentaries()},additionalData:{prevStateAll:r}}):Promise.resolve(null)}}function m(e){return{type:i.i,payload:e}}function g(e){return{types:[i.e,i.g,i.f],callApi:function(){return l.a.loadCommentary(e)},additionalData:{id:e}}}function v(){return{type:i.h}}function b(){return{type:i.a}}function _(){return function(e,t){var n=t().commentaries;if(!s.default.mobile()&&!n.selectedCommentaryId){var i=o.a.first(n.sortedItemsId);i&&e(m(i))}}}},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(49),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"componentDidMount",value:function(){Object(o.subscribeSymbol)(this.props.symbol)}},{key:"componentWillUnmount",value:function(){Object(o.unsubscribeSymbol)(this.props.symbol)}},{key:"componentWillUpdate",value:function(e){e.symbol!==this.props.symbol&&(Object(o.unsubscribeSymbol)(this.props.symbol),Object(o.subscribeSymbol)(e.symbol))}},{key:"render",value:function(){return null}}]),t}(r.a.Component);t.a=a},function(e,t,n){"use strict";n.r(t);var i=n(5),r=n.n(i),o=n(89),s=n.n(o),a=n(1),l=n.n(a),c=n(96),u=n(3),d=n(8),p=n.n(d),f=void 0,h=function(){return f||(f=n(66)),f.getAtmosphereId()},m=function(e){return p.a.requiredMarginByPositionUpdate(h(),e,!0)},g=function(e){return p.a.unsubscribeRequiredMarginByPositionUpdate(h(),e,!0)};function v(e){return{type:c.g,payload:e}}function b(e){return function(t,n){t({type:c.e,payload:e,instruments:n().instruments})}}function _(e){return{type:c.f,payload:e}}function y(e){return{type:c.n,payload:e}}function E(e){return function(t){t({types:[c.h,c.j,c.i],callApi:function(){return m(e)}})}}function S(e){return function(t){t({types:[c.k,c.m,c.l],callApi:function(){return g(e)}})}}function C(e){return function(t,n){var i=e.positionsArr,r=e.removed;l.a.each(i,(function(e){var i=e.quantity,o=e.positionCode,s=n().positions.closingPosition,a=s[o];if(!l.a.isEmpty(s)&&a){var d=a.closingAmount,p=a.changedQuantity,f=Math.round(100*(Math.abs(p)-Math.abs(d)))/100;r?t({type:c.a,payload:{positionCode:o,status:u.CLOSED}}):a&&Math.abs(f)===Math.abs(i)&&t({type:c.a,payload:{positionCode:o,status:u.CLOSED}})}}))}}function w(e){return function(t){t({type:c.d,payload:e});var n=s.a.getPositionByCode(e);r.a.trigger("ui:edit-position",n)}}function O(e){return function(t){t({type:c.c,payload:e});var n=s.a.getPositionByCode(e);r.a.trigger("ui:close-position",n)}}function T(e){return function(t){t({type:c.b,payload:e}),r.a.trigger("instrument:positions:close_all",e)}}function P(){return function(){var e=n(6).getApplicationSettings(),t=!e.floatingOpenPositionsEnabled();e.floatingOpenPositionsEnabled(t),r.a.trigger("ui:click:floating:open-positions",t)}}function k(e){return function(t){t({type:c.a,payload:e})}}n.d(t,"positionMetrics",(function(){return v})),n.d(t,"openPosition",(function(){return b})),n.d(t,"openPositionFilters",(function(){return _})),n.d(t,"requiredMargin",(function(){return y})),n.d(t,"subscribeMarginRates",(function(){return E})),n.d(t,"unsubscribeMarginRates",(function(){return S})),n.d(t,"clearClosedPosition",(function(){return C})),n.d(t,"editPosition",(function(){return w})),n.d(t,"closePosition",(function(){return O})),n.d(t,"closeAllPositionsBySymbol",(function(){return T})),n.d(t,"toggleFloatingPositions",(function(){return P})),n.d(t,"closePositionByCode",(function(){return k}))},function(e,t,n){"use strict";n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"d",(function(){return h}));var i=n(1),r=n.n(i);var o=function(e){return r.a.has(r.a.first(e.elements),"elements")},s=function(e){return r.a.isEmpty(e.elements)},a=function(e){return r.a.chain(e).filter((function(e){return!r.a.isEmpty(e.elements)})).first().value()},l=function(e){return e&&r.a.isArray(e.elements)&&!!a(e.elements)},c=function(e){return!s(e)&&(!o(e)||l(e))},u=function e(t){var n=function(e){return l(e)&&a(e.elements)}(t);return n?e(n):t},d=function(e){return l(e)&&[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e.elements))},p=function(e,t){return r.a.size(e)>=t&&r.a.first(e,t)},f=function(e){return r.a.isArray(e)&&"/"+e.join("/")+"/"},h=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=String(e).split("/").filter((function(e){return!!e})),r=i.length,o=0;o<r;o++){var s=i.slice(0,r-o),a="/"+s.join("/")+"/";if(t[a])return a}return n}},,function(e,t,n){"use strict";n.r(t),n.d(t,"LazyBasicDashboardDesktop",(function(){return r})),n.d(t,"LazyBasicDashboardTablet",(function(){return o})),n.d(t,"LazyBasicDashboardMobile",(function(){return s})),n.d(t,"LazyAdvancedDashboardDesktop",(function(){return a})),n.d(t,"LazyAdvancedDashboardMobile",(function(){return l})),n.d(t,"LazyBasicCategoryInstruments",(function(){return c})),n.d(t,"LazyBasicFavorites",(function(){return u})),n.d(t,"LazyBasicOpenPositions",(function(){return d})),n.d(t,"LazyBasicOrders",(function(){return p})),n.d(t,"LazyBasicCategoryInstrumentsTablet",(function(){return f})),n.d(t,"LazyBasicFavoritesTablet",(function(){return h})),n.d(t,"LazyBasicOpenPositionsTablet",(function(){return m})),n.d(t,"LazyBasicOrdersTablet",(function(){return g})),n.d(t,"LazyBasicCategoryInstrumentsMobile",(function(){return v})),n.d(t,"LazyBasicFavoritesMobile",(function(){return b})),n.d(t,"LazyBasicOpenPositionsMobile",(function(){return _})),n.d(t,"LazyBasicOrdersMobile",(function(){return y})),n.d(t,"LazyAdvancedCategoryInstrumentsMobile",(function(){return E})),n.d(t,"LazyAdvancedFavoritesMobile",(function(){return S})),n.d(t,"LazyAdvancedOpenPositionsMobile",(function(){return C})),n.d(t,"LazyAdvancedOrdersMobile",(function(){return w})),n.d(t,"LazyAdvancedPortfoliosMobile",(function(){return O})),n.d(t,"LazyOrderHistory",(function(){return T})),n.d(t,"LazyClosedPositions",(function(){return P})),n.d(t,"LazyMultiCharts",(function(){return k})),n.d(t,"LazyPriceAlerts",(function(){return I})),n.d(t,"LazyPortfolios",(function(){return A})),n.d(t,"LazyPortfolioLanding",(function(){return x})),n.d(t,"LazyInvest",(function(){return N})),n.d(t,"LazyInstrumentTreeContainer",(function(){return D})),n.d(t,"LazyBasicInstrumentDetails",(function(){return R})),n.d(t,"LazyInstrumentDetailsContainer",(function(){return L})),n.d(t,"LazyPortfoliosMobile",(function(){return M})),n.d(t,"LazyInvestUnfundedPortfolioWrapper",(function(){return j})),n.d(t,"LazyInvestUnfundedPortfolioWrapperMobile",(function(){return F}));var i=n(44),r=Object(i.default)((function(){return Promise.all([n.e(12),n.e(19),n.e(52)]).then(n.bind(null,1921))})),o=Object(i.default)((function(){return Promise.all([n.e(0),n.e(6),n.e(13),n.e(12),n.e(54)]).then(n.bind(null,1922))})),s=Object(i.default)((function(){return Promise.all([n.e(1),n.e(20),n.e(19),n.e(31),n.e(53)]).then(n.bind(null,1957))})),a=Object(i.default)((function(){return Promise.all([n.e(17),n.e(135),n.e(0),n.e(5),n.e(44)]).then(n.bind(null,1951))})),l=Object(i.default)((function(){return Promise.all([n.e(20),n.e(19),n.e(31),n.e(38),n.e(45)]).then(n.bind(null,1958))})),c=Object(i.default)((function(){return Promise.all([n.e(17),n.e(50)]).then(n.bind(null,1923))})),u=Object(i.default)((function(){return Promise.all([n.e(10),n.e(55)]).then(n.bind(null,1924))})),d=Object(i.default)((function(){return Promise.all([n.e(6),n.e(11),n.e(33),n.e(59)]).then(n.bind(null,1925))})),p=Object(i.default)((function(){return Promise.all([n.e(33),n.e(62)]).then(n.bind(null,1926))})),f=Object(i.default)((function(){return n.e(51).then(n.bind(null,1927))})),h=Object(i.default)((function(){return Promise.all([n.e(10),n.e(57)]).then(n.bind(null,1928))})),m=Object(i.default)((function(){return Promise.all([n.e(6),n.e(11),n.e(61)]).then(n.bind(null,1929))})),g=Object(i.default)((function(){return n.e(63).then(n.bind(null,1930))})),v=Object(i.default)((function(){return Promise.resolve().then(n.bind(null,672))})),b=Object(i.default)((function(){return Promise.all([n.e(10),n.e(56)]).then(n.bind(null,1931))})),_=Object(i.default)((function(){return Promise.all([n.e(6),n.e(11),n.e(60)]).then(n.bind(null,1932))})),y=Object(i.default)((function(){return Promise.resolve().then(n.bind(null,850))})),E=Object(i.default)((function(){return Promise.resolve().then(n.bind(null,671))})),S=Object(i.default)((function(){return Promise.all([n.e(10),n.e(46)]).then(n.bind(null,1933))})),C=Object(i.default)((function(){return Promise.all([n.e(11),n.e(47)]).then(n.bind(null,1956))})),w=Object(i.default)((function(){return Promise.resolve().then(n.bind(null,879))})),O=Object(i.default)((function(){return Promise.resolve().then(n.bind(null,398))})),T=Object(i.default)((function(){return Promise.resolve().then(n.bind(null,856))})),P=Object(i.default)((function(){return Promise.resolve().then(n.bind(null,852))})),k=Object(i.default)((function(){return n.e(121).then(n.bind(null,1915))}),!0),I=Object(i.default)((function(){return Promise.resolve().then(n.bind(null,410))})),A=Object(i.default)((function(){return Promise.all([n.e(28),n.e(138),n.e(24),n.e(25),n.e(130)]).then(n.bind(null,1949))})),x=Object(i.default)((function(){return Promise.all([n.e(28),n.e(138),n.e(24),n.e(25),n.e(130)]).then(n.bind(null,1913))})),N=Object(i.default)((function(){return Promise.all([n.e(28),n.e(138),n.e(24),n.e(25),n.e(130)]).then(n.bind(null,1955))})),D=Object(i.default)((function(){return n.e(108).then(n.bind(null,1954))})),R=Object(i.default)((function(){return Promise.all([n.e(0),n.e(6),n.e(13),n.e(32),n.e(58)]).then(n.bind(null,1914))})),L=Object(i.default)((function(){return Promise.all([n.e(20),n.e(38)]).then(n.bind(null,1916))})),M=Object(i.default)((function(){return Promise.resolve().then(n.bind(null,398))})),j=Object(i.default)((function(){return Promise.all([n.e(25),n.e(110)]).then(n.bind(null,1934))})),F=Object(i.default)((function(){return Promise.all([n.e(25),n.e(111)]).then(n.bind(null,1935))}))},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var r=n(24),o=n(1),s=r.Model.extend({defaults:function(){return{defaultZindex:7e3,router:"",popups:[],popupOpen:!1,amountOpenPopups:0}},getDefaultZindex:function(){return Number(this.get("defaultZindex"))||0},getZindexForPopup:function(e){var t=this.getOpenPopups(),n=this.getDefaultZindex(),i=t[t.length-1];return e=Number(e),i?i.zIndex+1:o.isNaN(e)?n:e<n?n:e},isPopupOpen:function(){return this.get("popupOpen")},getRouter:function(){return this.get("router")},getOpenPopups:function(){var e=this.get("popups");return o.isArray(e)?e:(this.set({popups:[]},{silent:!0}),this.get("popups"))},getAmountOpenPopups:function(){return this.get("amountOpenPopups")},getTopPopup:function(){var e=this.getOpenPopups(),t=e.length-1;return!!o.isObject(e[t])&&e[t]},getNameForOpenPopup:function(){var e=this.getTopPopup();return o.has(e,"name")?e.name:""},setRouter:function(e){this.set({router:e})},addPopup:function(e){this.getOpenPopups().push({name:e.name,zIndex:e.zIndex}),this.set({amountOpenPopups:this.getAmountOpenPopups()+1,popupOpen:!0})},deletePopup:function(e){if(!o.isEmpty(this.getOpenPopups())){var t=this.getTopPopup();if(o.has(t,"name")&&t.name===e){this.getOpenPopups().pop();var n={amountOpenPopups:this.getAmountOpenPopups()-1,popupOpen:!1};this.getAmountOpenPopups()>1&&delete n.popupOpen,this.set(n)}}}});i.exports=new s}.call(t,n,t,e))||(e.exports=o)}).call(this,n(24),n(1))},,function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(83).startWith,o=n(1);i.exports=function(){var e=document.createElement("div");e.innerHTML=n(1394);var t=o.partial(r,"field-type-"),i=o.reduce(e.children,(function(e,n){return e[o.find(n.className.split(" "),t)]=o.template(o.unescape(n.outerHTML)),e}),{});return{selectBox:i["field-type-select"],selectBoxOverflowWidth:function(e){return i["field-type-select"](o.extend({overflowOptions:!0},e))},countriesSelectBox:i["field-type-select-country"],multiSelect:i["field-type-multi-select"],multiSelectDefault:i["field-type-multi-select-default"],checkBox:i["field-type-checkbox"],multiCheckBox:i["field-type-multi-checkbox"],inputBox:i["field-type-input"],phoneBox:i["field-type-phone"],dateBox:i["field-type-date"],fatcaBox:i["field-type-fatca"],financialExpBox:i["field-type-financial-exp"],textArea:i["field-type-textarea"],file:i["field-type-file"],inputAddon:i["field-type-input-addon"],radio:i["field-type-radio"],radioWithDescription:i["field-type-radio-description"],datepicker:i["field-type-datepicker"],timepicker:i["field-type-timepicker"],yesNoDetails:i["field-type-yes-no-details"],textLabel:i["field-type-text-label"]}}()}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(7),s=n.n(o),a=n(1),l=n.n(a);t.a=function(e){var t=e.position,n=void 0===t?"relative":t,i=e.translucent,o=e.small,a=e.fit,c=e.progress,u=s()({"loading-box":!0,"fs-10":!!o,"loading-fit":!!a,"loading-relative":"relative"===n,"loading-absolute":"absolute"===n,"loading-fixed":"fixed"===n,"translucent-1":1===i,"translucent-2":2===i,"translucent-3":3===i,"translucent-no":"no"===i});return r.a.createElement("div",{className:u},r.a.createElement("div",{className:"loading-content"},!l.a.isNil(c)&&r.a.createElement("div",{className:"progress-text"},c,"%"),r.a.createElement("div",{className:"cssload-jumping"},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null))))}},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return c}));var i=n(16),r=n.n(i),o=n(108),s=n.n(o);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.a.user.getOffsetAs();return l(new Date,e).toDate()}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.a.user.getOffsetAs();return r()({year:e.getUTCFullYear(),month:e.getUTCMonth(),day:e.getUTCDate(),hour:e.getUTCHours(),minute:e.getUTCMinutes(),second:e.getUTCSeconds(),millisecond:e.getUTCMilliseconds()}).add({minutes:t})}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.a.user.getOffsetAs();return r()(e).subtract({minutes:t})}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return c}));var i="education/LOAD_EDUCATION",r="educationReducer/LOAD_EDUCATION_SUCCESS",o="educationReducer/LOAD_EDUCATION_ERROR",s="educationReducer/SELECT_URL",a="educationReducer/SELECT_GROUP",l="educationReducer/SAVE_URL",c="educationReducer/SAVE_GROUP"},function(e,t,n){"use strict";n.r(t),n.d(t,"getManageAccounts",(function(){return d})),n.d(t,"getAllAccountsData",(function(){return p})),n.d(t,"getAllAccountsInfo",(function(){return f})),n.d(t,"getAllAccountsInfoFiltered",(function(){return h})),n.d(t,"getQuantAccounts",(function(){return m})),n.d(t,"getSaxoAccountsOnly",(function(){return g})),n.d(t,"getAccountsMapIdToIndex",(function(){return v})),n.d(t,"getSortedAccounts",(function(){return b})),n.d(t,"getMetaTradersAccountsOnly",(function(){return _})),n.d(t,"getAccountInfoById",(function(){return y})),n.d(t,"getAccountTradePlatformTypeById",(function(){return E})),n.d(t,"getAccountTradingInstrumentTypeById",(function(){return S})),n.d(t,"getAccountTradingPlatformTypeById",(function(){return C})),n.d(t,"isAccountMetatrader",(function(){return w})),n.d(t,"isAccountSaxo",(function(){return O})),n.d(t,"getAccountCurrencyById",(function(){return T})),n.d(t,"getAccountTradingAccountStatusById",(function(){return P})),n.d(t,"getAccountTradingAccountTypeById",(function(){return k})),n.d(t,"getAccountProfitLossById",(function(){return I})),n.d(t,"getAccountEquityById",(function(){return A})),n.d(t,"getAccountFreeMarginById",(function(){return x})),n.d(t,"getAccountUsedMarginById",(function(){return N})),n.d(t,"getAccountMarginLevelById",(function(){return D})),n.d(t,"getAccountAvailableForWithdrawalById",(function(){return R})),n.d(t,"getAccountBonusesAmountById",(function(){return L})),n.d(t,"getAccountPendingDepositById",(function(){return M})),n.d(t,"getAccountTotalAvailableForWithdrawalById",(function(){return j})),n.d(t,"getAccountTradingPlatformValueById",(function(){return F})),n.d(t,"getAccountUserNameById",(function(){return B})),n.d(t,"isAccountReal",(function(){return U})),n.d(t,"isAccountDemo",(function(){return V})),n.d(t,"getAccountPlatformById",(function(){return z})),n.d(t,"isAccountCurrent",(function(){return q})),n.d(t,"getLastAddedAccountId",(function(){return H})),n.d(t,"getRealAccounts",(function(){return $})),n.d(t,"getRealAccountsMap",(function(){return G})),n.d(t,"getMetaTradersAccountsMap",(function(){return W})),n.d(t,"getAccountsDepositAmounts",(function(){return Y})),n.d(t,"getAccountDepositAmountsById",(function(){return K})),n.d(t,"getAccountsAtmOptions",(function(){return X})),n.d(t,"getAccountAmtOptionsById",(function(){return Q})),n.d(t,"getExpandedAccounts",(function(){return J})),n.d(t,"getIsAccountExpandedById",(function(){return Z})),n.d(t,"getFirstExpandedAccountId",(function(){return ee})),n.d(t,"getAccountByInstrumentType",(function(){return te}));var i=n(2),r=n(23),o=n(1),s=n.n(o),a=n(27),l=n(42),c=n(3),u=n(393),d=function(e){return e.manageAccounts},p=Object(i.a)(d,(function(e){return e.ALL_DATA})),f=Object(i.a)(d,(function(e){return e.ACCOUNTS_LIST})),h=Object(i.a)(f,(function(e){return s.a.reject(e,{tradingAccountInstrumentType:c.ACCOUNT_TRADING_TYPE.QUANT_RANKS,tradingAccountType:c.ACCOUNT_TYPE.DEMO})})),m=Object(i.a)(a.getUserTradingAccounts,(function(e){return s.a.where(e,{tradingAccountInstrumentType:c.ACCOUNT_TRADING_TYPE.QUANT_RANKS})})),g=Object(i.a)(f,(function(e){return s.a.where(e,{tradingAccountInstrumentType:c.ACCOUNT_TRADING_TYPE.SHARE_DEALING})})),v=Object(i.a)(d,(function(e){return e.MAP_ID_TO_INDEX})),b=Object(i.a)(h,(function(e){return s.a.sortBy(e,(function(e){return[c.PLATFORM_ID_TO_TYPE[e.tradePlatformType],e.tradingAccountInstrumentType,e.tradingAccountType===c.ACCOUNT_TYPE.REAL?-1:1]}))})),_=Object(i.a)(h,(function(e){return s.a.filter(e,(function(e){return e.tradePlatformType===c.PLATFORM_TYPE.MT4||e.tradePlatformType===c.PLATFORM_TYPE.MT5}))})),y=Object(i.a)([f,v,r.a],(function(e,t,n){return e[t[n]]||l.b})),E=Object(i.a)(y,(function(e){return e.tradePlatformType||""})),S=Object(i.a)(y,(function(e){return e.tradingAccountInstrumentType||""})),C=Object(i.a)([S,E],(function(e,t){var n=c.PLATFORM_TYPE[t];return t!==c.PLATFORM_TYPE.COSMOS&&t!==c.PLATFORM_TYPE.SAXO||(n=e),c.ACCOUNT_TRADING_TYPE[n]||""})),w=Object(i.a)(C,(function(e){return(e=String(e))===c.ACCOUNT_TRADING_TYPE.MT5||e===c.ACCOUNT_TRADING_TYPE.MT4})),O=Object(i.a)(C,(function(e){return String(e)===c.ACCOUNT_TRADING_TYPE.SHARE_DEALING})),T=Object(i.a)(y,(function(e){return e.currency})),P=Object(i.a)(y,(function(e){return e.tradingAccountStatus})),k=Object(i.a)(y,(function(e){return s.a.capitalize(e.tradingAccountType)})),I=Object(i.a)(y,(function(e){return e.profitLoss})),A=Object(i.a)(y,(function(e){return e.equity})),x=Object(i.a)(y,(function(e){return e.freeMargin})),N=Object(i.a)(y,(function(e){return e.usedMargin})),D=Object(i.a)(y,(function(e){return e.marginLevel})),R=Object(i.a)(y,(function(e){return e.availableForWithdrawal})),L=Object(i.a)(y,(function(e){return e.accountBonusesAmount})),M=Object(i.a)(y,(function(e){return e.pendingDeposit})),j=Object(i.a)([R,L,M],u.calcAvailableForWithdrawal),F=Object(i.a)(y,(function(e){return e.platformAccountId})),B=Object(i.a)(y,(function(e){return e.userName})),U=Object(i.a)(y,(function(e){return e.tradingAccountType===c.ACCOUNT_TYPE.REAL})),V=Object(i.a)(y,(function(e){return e.tradingAccountType===c.ACCOUNT_TYPE.DEMO})),z=Object(i.a)(U,(function(e){return e?"live":"demo"})),q=Object(i.a)([y,a.getActiveCrmboAccountId],(function(e,t){return String(e.accountId)===String(t)})),H=Object(i.a)(d,(function(e){return e.lastAddedAccountId})),$=Object(i.a)(h,(function(e){return s.a.filter(e,(function(e){return e.tradingAccountType===c.ACCOUNT_TYPE.REAL}))})),G=Object(i.a)($,(function(e){return s.a.indexBy(e,(function(e){return e.platformAccountId}))})),W=Object(i.a)(_,(function(e){return s.a.indexBy(e,(function(e){return e.accountId}))})),Y=Object(i.a)(p,(function(e){return e.tradingAccountsDepositAmounts||l.b})),K=Object(i.a)([Y,F],(function(e,t){return e[t]||l.b})),X=Object(i.a)(p,(function(e){return e.tradingAccountsAtmOptions||l.b})),Q=Object(i.a)([X,F],(function(e,t){return e[t]||l.a})),J=Object(i.a)(d,(function(e){return e.expandedAccounts})),Z=Object(i.a)([J,r.a],(function(e,t){return e[t]})),ee=Object(i.a)(J,(function(e){return s.a.first(s.a.keys(e))})),te=Object(i.a)([f,r.a],(function(e,t){return s.a.where(e,{tradingAccountInstrumentType:t})}))},,,,,function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var r=n(20),o=n(1),s=n(176),a=n(12),l=[8,9,13,16,17,18,19,20,27,33,34,35,36,37,38,39,40,45,46,91,92,93,106,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,144,145,186,188,189,190,191,192,219,220,221,222],c=r.extend({inputBuffer:"",initialize:function(e){this.defaultOnClientEvent=this.defaultOnClientEvent.bind(this),this.clearBuffer=o.debounce(this.clearBuffer,3e3),r.prototype.initialize.apply(this,arguments);var t=this.getHtmlTemplate();t&&this.$el.html(t),this._events={},this._name="",this._value=e.value||"",this._filters={},this.options=o.extend(this.getDefaultOptions(),e),this.state=this.getDefaultState(),this.update(),o.each(this.getDependentFieldNames(),(function(e){this.listenTo(this.options.form,"field:change:"+e,this.onDependentFieldChanged)}),this),document.addEventListener("click",this.defaultOnClientEvent)},defaultOnClientEvent:function(){},setEvent:function(e,t){this._events[e]=t.bind(this)},onChange:function(e){this.fireChangeEvent(),this.executeCustomOnChange(e)},executeCustomOnChange:function(e){o.isFunction(this._events.onchange)&&this._events.onchange(e)},getName:function(){return this._name},setName:function(e){var t=this._name;return this._name=e,t},destroy:function(){this.$el=null,document.removeEventListener("click",this.defaultOnClientEvent)},value:function(e){var t=this.$el.find("input");if(void 0===e)return t.val();t.val(e)},getValue:function(){return this.value()},setValue:function(e){this.value(e)},setValueWithFireChangeEvent:function(e){var t=this.getValue();this.setValue(e),t!==e&&this.fireChangeValueEvent(e)},getFilters:function(){var e={};return e[this.getName()]=this._filters,e},getRules:function(){var e={};return e[this.getName()]=this._rules,e},setFilters:function(e){return this._filters=e,this},setRules:function(e){return this._rules=e,this},fieldError:function(e){var t=e[this.getName()][0];this.$el.removeClass("field-ok"),this.$el.addClass("field-error"),this.setTooltipMessage(t),this.showTooltip()},fieldVerified:function(){this.$el.addClass("field-ok")},setTooltipMessage:function(e){this.$el.find(".field-tooltip .content").html(e),this.showTooltip()},data:function(){var e={};return e[this.getName()]=this.value(),e},hasRules:function(){return this._rules},validate:function(e){var t=this.getFilters(),n=this.getRules(),i=new s(t,n),r=this.data(),o=i.validate(r);return e?!1!==o:(this.hasRules()&&this.setDefaultState(),!1!==o?this.fieldError(o):this.fieldVerified(),o)},hideTooltip:function(){this.$el.find(".field-tooltip").removeClass("field-tooltip-visible").addClass("field-tooltip-hidden")},showTooltip:function(){this.$el.find(".field-tooltip").removeClass("field-tooltip-hidden").addClass("field-tooltip-visible")},showNotErrorTooltip:function(){this.showTooltip(),this.$el.find(".field-tooltip .content").addClass("non-error")},hideErrorTooltip:function(){this.isNotErrorTooltipShown()||this.hideTooltip()},isNotErrorTooltipShown:function(){return this.$el.find(".field-tooltip .content").hasClass("non-error")},disable:function(){return this.setState({disabled:!0,pristine:!0}),this},enable:function(){return this.setState({disabled:!1}),this},isDisabled:function(){return this.$el.hasClass("field-disabled")},isEnabled:function(){return!this.isDisabled()},setDefaultState:function(){return this.$el.removeClass("field-error"),this.$el.removeClass("field-ok"),this.hideErrorTooltip(),this},setError:function(e){return this.$el.addClass("field-error"),this.setTooltipMessage(e),this.showTooltip(),this},getDefaultOptions:function(){return{filterFunction:function(e,t){return e[0].textContent.toLowerCase().trim().startsWith(t)},getValueFunction:function(e){return e[0].innerHTML},setValueFunction:function(e,t){return a(e[0].previousElementSibling).find("select").val(t).trigger("change")}}},setOptions:function(e,t){return this.options=o.extend({},this.getDefaultOptions(),this.options,e),!0!==(t&&t.silent)&&this.validate(),this},getOption:function(e){return this.options[e]},getOptions:function(e){return this.options||e},getDefaultState:function(){return{disabled:this.$el.hasClass("field-disabled"),pristine:!0}},setState:function(e){var t=this;o.each(o.keys(e),(function(n){t.state[n]!==e[n]&&(t.state[n]=e[n],t.trigger("field:change:state:"+n,t,e[n]))})),this.update()},getState:function(){return this.state},enableElement:function(){},disableElement:function(){},update:function(){this.state.disabled?this.disableElement():this.enableElement()},filter:function(e,t){var n=s.prototype.filters[e];return o.isFunction(n)?n(t):t},hasDepends:function(){return!o.isEmpty(this.getDependentFieldNames())},getDependentFieldNames:function(){return o.isEmpty(this.$el.attr("data-field-depends"))?[]:this.$el.attr("data-field-depends").split(" ")},onDependentFieldChanged:function(e){this.trigger("dependent:field:"+e.getName()+":change",e,this.options.form)},fireChangeEvent:function(){this.fireChangeValueEvent(this.value())},fireChangeValueEvent:function(e){this.trigger("change",this,e)},getDependentFields:function(){return o.map(this.getDependentFieldNames(),(function(e){return this.options.form.getField(e)}),this)},getDependentFieldByName:function(e){return o.contains(this.getDependentFieldNames(),e)?this.options.form.getField(e):null},getDefaultValue:function(){return""},setDefaultValue:function(){this.value(this.getDefaultValue()),this.setDefaultState()},setDefaultValueWithFireChangeEvent:function(){this.setDefaultValue(),this.fireChangeEvent()},focus:function(){var e=this.$input[0];return o.delay((function(){e.focus(),o.delay((function(){return e.scrollIntoView()}),0)}),1),this},hide:function(){this.disable(),this.$el.css("display","none")},show:function(){this.$el.css("display","flex"),this.enable()},isPristine:function(){return this.getState().pristine},hasError:function(){return this.$el.hasClass("field-error")},clearBuffer:function(){this.inputBuffer=""},processKey:function(e,t,n,i){var r=this;if(this.isDisabled())return t;switch(this.clearBuffer(),e.which){case 40:case 38:if(t.length>0){var s=40===e.which?a(t[0].nextElementSibling):a(t[0].previousElementSibling),c=40===e.which?1:-1;s.length>0&&(t.removeClass("selected"),t=s.addClass("selected"),n.find("ul")[0].scrollTop+=c*t[0].clientHeight)}else t=i.eq(0).addClass("selected");break;case 8:this.inputBuffer=this.inputBuffer.slice(0,-1);break;case 13:t.trigger("click");break;default:if(-1!==l.indexOf(e.which))break;var u=n.find("ul");this.inputBuffer+=e.key;var d=u.find("li").filter((function(e){return r.options.filterFunction(a(e),r.inputBuffer)}))[0];o.isUndefined(d)||(t.length>0&&t.removeClass("selected"),t=a(d).addClass("selected"),d.scrollIntoView())}return t},hasDetails:function(){return!1},defineControl:function(){},getHtmlTemplate:function(){}});i.exports=c}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return l}));var i="manage-accounts/LOAD_ALL_ACCOUNTS",r="manage-accounts/LOAD_ALL_ACCOUNTS_SUCCESS",o="manage-accounts/LOAD_ALL_ACCOUNTS_ERROR",s="manage-accounts/SET_LAST_ADDED_ACCOUNT_ID",a="manage-accounts/SET_ACCOUNT_EXPANDED",l="manage-accounts/RESET_ACCOUNT_EXPANDED"},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return a})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return c}));var i="account-settings-platform-features/LOAD_TIMEZONE_LIST",r="account-settings-platform-features/LOAD_TIMEZONE_LIST_SUCCESS",o="account-settings-platform-features/LOAD_TIMEZONE_LIST_ERROR",s="account-settings-platform-features/STATUS_LOADING",a="account-settings-platform-features/STATUS_SUCCESS",l="account-settings-platform-features/STATUS_ERROR",c="account-settings-platform-features/IS_RELOAD_NEEDED"},,function(e,t,n){"use strict";var i=n(3),r=n(0),o=n.n(r),s=n(4),a=n(46),l=n(1),c=n.n(l),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function d(e){return{setInstrumentInfoVisibleIfNeeded:function(t){var n=t?i.VISIBLE:i.HIDDEN;e(Object(a.changeInstrumentInfoVisibility)(n))},dispatch:e}}function p(e){return{deepLinkSymbol:e.deepLinks.list.symbol,selectedSymbol:e.ui.selectedInstrumentCategorySymbol}}t.a=function(e){var t=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),u(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.symbols,n=e.hasData,i=e.selectedSymbol,r=c.a.isArray(t)?t:c.a.keys(t);c.a.isNil(this.props.deepLinkSymbol)&&(c.a.contains(r,i)||this.props.dispatch(Object(a.selectInstrumentCategorySymbol)(c.a.first(r))),this.props.dispatch(Object(a.updateUrlBySelectedInstrumentSymbol)()),this.props.setInstrumentInfoVisibleIfNeeded(n),this.props.deepLinkSymbol&&c.a.delay((function(){return store.dispatch(clearDeepLinkParam("symbol"))}),0))}},{key:"componentDidUpdate",value:function(){this.props.setInstrumentInfoVisibleIfNeeded(this.props.hasData)}},{key:"render",value:function(){return o.a.createElement(e,this.props)}}]),n}(o.a.Component);return Object(s.connect)(p,d)(t)}},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(162),o=n(1404),s=n(422),a=n(764),l=n(1405),c=n(234),u=n(1406),d=n(211),p=n(1408),f=n(1409),h=n(1410),m=n(765),g=n(766),v=n(1411),b=n(1004),_=n(1412),y=n(1413),E=n(1414),S=n(1415),C=n(20),w=n(1),O=n(5),T=C.extend({className:"form",events:function(){return w.extend({},w.result(C.prototype,"events"),{"click .submit":"submit","click .cancel":"cancel"})},initialize:function(){C.prototype.initialize.apply(this,arguments),this.render()},render:function(){return C.prototype.render.call(this),this._fields={},this.options.template&&this.$el.html(this.options.template(this.options.templateOptions)),this.findFields(),this},findFields:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$el,t=e.find(".field"),n=0;n<t.length;n++){var i=t[n],r=i.className,o=this.detectType(r),s=this.createField(o,i);w.isUndefined(this._fields[s.getName()])&&(this.addField(s),s.on("change",this.onFieldChange,this),s.on("focus",this.onFocusChange,this))}},addField:function(e){if(e){var t=e.getName();if(this._fields[t])throw"The field '"+t+"' is already added in from. Try another name.";this._fields[t]=e}},removeField:function(e){var t=this.getField(e);w.isNull(t)||(t.off("change",this.onFieldChange,this),t.off("focus",this.onFocusChange,this),delete this._fields[e],t.destroy())},destroy:function(){for(var e in this._fields)this.removeField(e);C.prototype.destroy.call(this)},createField:function(e,t){var n={el:t,form:this};switch(e){case"input":case"input-addon":return new s(n);case"textarea":return new b(n);case"spin":return new a(n);case"spin-relative":return new l(n);case"checkbox":return new d(n);case"rollout":return new p(n);case"fieldset":return new f(n);case"date":return new o(n);case"select":case"select-country":return new c(n);case"multi-select":return new u(n);case"multi-checkbox":return new h(n);case"phone":return new m(n);case"radio":case"financial-exp":case"fatca":case"radio-description":return new g(n);case"yes-no-details":return new v(n);case"remind":return new _(n);case"file":return new y(n);case"datepicker":return new E(n);case"timepicker":return new S(n);default:return new r(n)}},detectType:function(e){for(var t=e.split(" "),n=0;n<t.length;n++){var i=t[n];if(-1!=i.indexOf("field-type-"))return i.replace("field-type-","")}return null},getField:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._fields[e];return!n&&t?null:n},getFieldsList:function(){return this._fields},field:function(e){return this.getField(e)},validate:function(e){var t=[];for(var n in this._fields){var i=this._fields[n];if(!i.isDisabled()){var r=i.validate(e);r&&t.push(w.values(r))}}var o=0!=t.length;return o&&this.trigger("validation:error",w.flatten(t)),o},getErrorFields:function(){return w.filter(this._fields,(function(e){return e.hasError()}))},getData:function(e){var t={};for(var n in this._fields){var i=this._fields[n],r=i.getName();(e||!i.isDisabled()&&r)&&(t[r]=i.value(),i.hasDetails()&&(t[r+"_details"]=i.detailsValue()))}return t},submit:function(){var e=this.validate();return e||this.trigger("submit"),e},cancel:function(e){e.preventDefault(),this.trigger("cancel")},onFieldChange:function(e){this.triggerEvent(e,"change",w.toArray(arguments))},onFocusChange:function(e){this.triggerEvent(e,"focus",w.toArray(arguments))},triggerEvent:function(e,t,n){var i="field:"+t+":"+e.getName();n.unshift(i),this.trigger.apply(this,n),O.trigger(i)},setRules:function(e){var t=this;w.isObject(e)&&w.each(e,(function(e,n){var i=t.field(n);i&&i.setRules(e)}))},setFilters:function(e){var t=this;w.isObject(e)&&w.each(e,(function(e,n){var i=t.field(n);i&&i.setFilters(e)}))}});i.exports=T}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){"use strict";n.r(t);var i=n(46),r=n(40),o=n(8),s=n.n(o),a=void 0,l=function(){return a||(a=n(66)),a.getAtmosphereId()},c={loadMarginingSettings:function(e){return s.a.getMarginingSettings(l(),e)},loadTradingCalendarsSettings:function(e){return s.a.getTradingCalendarsSettings(l(),e)},subscribeChartFeed:function(e,t){return s.a.updateChartsSubscription(l(),e,t)},subscribeSwapRates:function(e){return s.a.subscribeSwapRates(l(),e,!0)},unsubscribeChartFeed:function(e){return s.a.unsubscribeCharts(l(),e)},unsubscribeSwapRates:function(e){return s.a.subscribeSwapRates(l(),e,!1)},loadCryptoInfo:function(){return s.a.loadCryptoInfo()}},u=n(59);n.d(t,"updateInstrumentsQuote",(function(){return p})),n.d(t,"fxInstrument",(function(){return f})),n.d(t,"summary",(function(){return h})),n.d(t,"instrumentTradeStatuses",(function(){return m})),n.d(t,"instrumentSettingsUpdate",(function(){return g})),n.d(t,"initInstrumentTreePaths",(function(){return v})),n.d(t,"loadInstrumentsSuccess",(function(){return b})),n.d(t,"loadInstrumentsError",(function(){return _})),n.d(t,"setInstrumentLastQuoteTime",(function(){return y})),n.d(t,"subscribeChartFeed",(function(){return E})),n.d(t,"unsubscribeChartFeed",(function(){return S})),n.d(t,"subscribeSwapRates",(function(){return C})),n.d(t,"swapRatesReceived",(function(){return w})),n.d(t,"unsubscribeSwapRates",(function(){return O})),n.d(t,"fxSystemSettings",(function(){return T})),n.d(t,"loadTradingCalendarsSettings",(function(){return P})),n.d(t,"clearTradingCalendarsSettings",(function(){return k})),n.d(t,"loadMarginingSettings",(function(){return I})),n.d(t,"loadCryptoInfo",(function(){return A})),n.d(t,"clearMarginingSettings",(function(){return x})),n.d(t,"rolloverDates",(function(){return N})),n.d(t,"initLowercaseInstrumentSymbolMap",(function(){return D}));var d=1;function p(e){return function(t,n){t({type:r.J,instrumentDetailsSymbol:Object(u.getInstrumentDetailsSymbol)(n()),payload:e})}}function f(e){return{type:r.c,payload:e}}function h(e){return{type:r.B,payload:e}}function m(e){return{type:r.h,payload:e}}function g(e){return{type:r.g,payload:e}}function v(){return{type:r.e}}function b(e){return function(t){t({type:r.m,payload:e}),t(v()),t(D()),t(Object(i.selectFirstSymbolInDefaultCategoryPath)())}}function _(e){return{type:r.l,payload:e}}function y(e){return{type:r.u,payload:e}}function E(e){return function(t){t({types:[r.v,r.x,r.w],callApi:function(){return c.subscribeChartFeed(e)}})}}function S(e){return function(t){t({types:[r.D,r.F,r.E],callApi:function(){return c.unsubscribeChartFeed(e)}})}}function C(e){return function(t,n){n().instruments.subsCounters.SWAP_RATES[e]?t({type:r.y,payload:e}):t({types:[r.y,r.A,r.z],additionalData:{payload:e},callApi:function(){return c.subscribeSwapRates(e)}})}}function w(e){return{type:r.C,payload:e}}function O(e){return function(t,n){n().instruments.subsCounters.SWAP_RATES[e]===d?t({types:[r.G,r.I,r.H],additionalData:{payload:e},callApi:function(){return c.unsubscribeSwapRates(e)}}):t({type:r.G,payload:e})}}function T(e){return{type:r.d,payload:e}}function P(e){return function(t,n){n().instruments.subsCounters.TRADING_CALENDARS_SETTINGS[e]?t({type:r.q,payload:e}):t({types:[r.q,r.s,r.r],additionalData:{payload:e},callApi:function(){return c.loadTradingCalendarsSettings(e)}})}}function k(e){return{type:r.b,payload:e}}function I(e){return function(t,n){n().instruments.subsCounters.MARGINING_SETTINGS[e]?t({type:r.n,payload:e}):t({types:[r.n,r.p,r.o],additionalData:{payload:e},callApi:function(){return c.loadMarginingSettings(e)}})}}function A(){return function(e,t){return t().instruments.CRYPTO_INFO?Promise.resolve():e({types:[r.i,r.k,r.j],callApi:function(){return c.loadCryptoInfo()}})}}function x(e){return{type:r.a,payload:e}}function N(e){return{type:r.t,payload:e}}function D(){return{type:r.f}}},,,,,,function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1);function o(e,t){this._filters=e,this._rules=t,this._errors={},this._data={}}o.prototype.messages=function(e,t){return{not_empty:'The field "'+e+'" must not be empty',email:'The field "'+e+'" must be an email',regexp:'The field "'+e+'" must be a valid regular expression '+t}},o.prototype.filters={string:function(e){return String(e)},float:function(e){return parseFloat(e)},integer:function(e){return parseInt(e,10)},trim:function(e){return e.trim()},number:function(e){return String(e).replace(/[^\d.]/g,"")},natural_number:function(e){return"0"===e?"":String(e).replace(/[^\d]/g,"")}},o.prototype.rules={required:function(e,t){return this.not_empty(e)},not_empty:function(e,t){return r.isArray(e)?e.length:(r.isString(e)&&(e=e.trim()),r.isObject(e)||r.isString(e)?!r.isEmpty(e):r.isNumber(e)?0!==e:e)},email:function(e,t){return/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@([a-z0-9!#$%&'*+/=?^_`{|}~-]+(\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)+)/i.test(e)},password:function(e,t){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{6,15}$/.test(e)},regexp:function(e,t){return t.test(e)},min:function(e,t){return e>=t},min_with_default_value:function(e,t){return!e||e>=t},min_gt:function(e,t){return e>t},max_lt:function(e,t){return e<t},max:function(e,t){return e<=t},min_length:function(e,t){return e.length>=t},max_length:function(e,t){return e.length<=t},credit_card:function(e){return r.some([/^3[47][0-9]{13}$/,/^(6541|6556)[0-9]{12}$/,/^389[0-9]{11}$/,/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/,/^65[4-9][0-9]{13}|64[4-9][0-9]{13}|6011[0-9]{12}|(622(?:12[6-9]|1[3-9][0-9]|[2-8][0-9][0-9]|9[01][0-9]|92[0-5])[0-9]{10})$/,/^63[7-9][0-9]{13}$/,/^(?:2131|1800|35\d{3})\d{11}$/,/^9[0-9]{15}$/,/^(6304|6706|6709|6771)[0-9]{12,15}$/,/^(5018|5020|5038|6304|6759|6761|6763)[0-9]{8,15}$/,/^5[1-5][0-9]{14}$/,/^(6334|6767)[0-9]{12}|(6334|6767)[0-9]{14}|(6334|6767)[0-9]{15}$/,/^(4903|4905|4911|4936|6333|6759)[0-9]{12}|(4903|4905|4911|4936|6333|6759)[0-9]{14}|(4903|4905|4911|4936|6333|6759)[0-9]{15}|564182[0-9]{10}|564182[0-9]{12}|564182[0-9]{13}|633110[0-9]{10}|633110[0-9]{12}|633110[0-9]{13}$/,/^(62[0-9]{14,17})$/,/^4[0-9]{12}(?:[0-9]{3})?$/,/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14})$/],(function(t){return t.test(e)}))},between:function(e,t,n){return r.isNumber(e)?this.min(e,t)&&this.max(e,n):this.min_length(e,t)&&this.max_length(e,n)},alpha_numeric:function(e){return new RegExp(/^[a-z0-9]+$/i).test(e)},strict_equals:function(e,t){return"function"==typeof t?e===t():void 0!==t&&"string"==typeof e&&t instanceof RegExp?!!e.match(t):e===t},not_equals:function(e,t){return e!==t},not_equals_array:function(e,t){return e.length!==t.length||!r.isEqual(r.sortBy(e,(function(e){return e})),r.sortBy(t,(function(e){return e})))},numeric:function(e){return new RegExp(/^[0-9]+$/i).test(e)},divisible:function(e,t,n){return n&&(e=Math.round(e*n),t=Math.round(t*n)),e%t==0}},o.prototype.addError=function(e,t,n){var i=n;i||(i=this.messages(t,e)[e]);this._errors[t]||(this._errors[t]=[]),this._errors[t].push(i)},o.prototype.checkRule=function(e,t,n,i){var o=i,s=i;return r.isArray(i)&&(o=r.initial(i),s=r.last(i)),!!this.rules[e].apply(this.rules,[n].concat(o))||(this.addError(e,t,s),!1)},o.prototype.errors=function(){return!r.isEmpty(this._errors)&&this._errors},o.prototype.validate=function(e){var t=this;return this._errors={},r.each(this._filters,(function(n,i){r.isString(n)?e[i]=t.filters[n](e[i]):r.each(n,(function(n){e[i]=t.filters[n](e[i])}))})),this._data=e,r.each(this._rules,(function(n,i){r.isArray(n)?r.each(n,(function(n){t.checkRule(n,i,e[i])})):r.isObject(n)&&r.each(n,(function(n,o){if(r.isFunction(n)){var s=n(e,i);r.isString(s)&&!r.isEmpty(s)&&t.addError(o,i,s)}else t.checkRule(o,i,e[i],n)}))})),this.prepareErrors(),this.errors()},o.prototype.check=function(e){return!1===this.validate(e)},o.prototype.prepareErrors=function(){var e=this.errors();!1!==e&&(e&&(e=r.mapObject(e,(function(e,t,n){return[r.first(e)]}))),this._errors=e)},o.prototype.data=function(e){return this._data[e]},i.exports=o}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){"use strict";n.r(t),n.d(t,"filterTipRanks",(function(){return d})),n.d(t,"loadHedgefunds",(function(){return p})),n.d(t,"loadHedgefund",(function(){return f})),n.d(t,"loadAcuityAlerts",(function(){return h})),n.d(t,"loadTipRanks",(function(){return m})),n.d(t,"loadEventsAndTrade",(function(){return g}));var i=n(19),r=n(64),o=n(8),s=n.n(o),a=n(1),l=n.n(a),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},u=function(e){var t=window.store.getState(),n=Object(i.getInstrumentLowercaseSymbolMap)(t),r=Object(i.getInstrumentSymbolMap)(t);return l.a.map(e,(function(e){var t=e.symbol;return c({},e,{symbol:r[t]?t:n[t]})}))},d=function(e){var t=Object(i.getInstrumentSymbolMap)(window.store.getState());return l.a.filter(e,(function(e){var n=e.symbol;return t[n]||(n=Object(r.transformSymbolToSBSymbol)(n)),!!t[n]&&(e.symbol=n,!0)}))},p=function(){return s.a.loadHedgefunds().then((function(e){return e.data=d(e.data),e}))},f=function(e){return s.a.loadHedgefund(e)},h=function(e,t){return s.a.loadAcuityAlerts(e,t).then((function(e){return{data:u(e.data)}})).then((function(e){var t,n;return e.data=(t=e.data,n=Object(i.getInstrumentSymbolMap)(window.store.getState()),l.a.filter(t,(function(e){var t=e.symbol;return n[t]||(t=Object(r.transformSymbolToSBSymbol)(t)),!!n[t]}))),e}))},m=function(e){return s.a.loadTipRanks(e).then((function(e){return e.data&&e.data.recommendations&&(e.data.recommendations=d(e.data.recommendations)),e}))},g=function(e,t,n,o){return s.a.loadEventsAndTrade(e,t,n,o).then((function(e){var t=Object(i.getInstrumentSymbolMap)(store.getState());return e.data=l.a.map(e.data,(function(e){var n=e.data,i=l.a.reduce(n.items,(function(e,n){var i=n.symbol.name,o=i.substr(0,3)+"/"+i.substr(3);return t[o]||(o=Object(r.transformSymbolToSBSymbol)(o)),t[o]&&(n.symbol.name=o.replace("/",""),e.push(n)),e}),[]);return c({},e,{data:c({},n,{items:i})})})),e}))}},function(e,t,n){(function(i){var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();void 0===(r=function(e,t,i){var r=n(5),s=n(1),a=n(58),l=n(185),c=n(126).default,u=n(3),d=u.PATH_PARAM_NAME,p=u.PATH_SYNC_PARAM_NAME,f=u.VISIBLE,h=u.MY_ACCOUNTS_TABS,m=n(769),g=m.setDeepLinks,v=m.updateDeepLinks,b=m.clearDeepLinks,_=n(46),y=_.updateUrlBySelectedCategoryPath,E=_.openInstrumentDetails,S=_.setSectionAndNavigateBySymbol,C=_.changeInstrumentInfoVisibility,w=(n(769).clearDeepLinkParam,n(423).isLeverageChangeTabAvailable),O=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.path=null,this.mainMenu={map:{popular:"trading",openposlist:"open-positions",poshist:"closed-positions",orders:"orders",ordlist:"canceled-orders",closedPositions:"closed-positions",favorites:"favorites",alerts:"price-alerts"},active:null}}return o(e,[{key:"isDetected",value:function(){var e=this.get(d)||this.get(p);return!s.isEmpty(this.getParams())||!!e&&void 0}},{key:"getParams",value:function(){return store.getState().deepLinks.list}},{key:"setParams",value:function(){var e=l.getQueryParams();return!s.isEmpty(e)&&(l.deleteAllQueryParams(),store.dispatch(g(e)),!0)}},{key:"updateParams",value:function(e){if(!s.isString(e)||s.isEmpty(e))return!1;var t=new l.Url(e).getQueryParams();return!s.isEmpty(t)&&(l.deleteAllQueryParams(),store.dispatch(v(t)),!0)}},{key:"clearParams",value:function(){store.dispatch(b())}},{key:"isPlatformSwitchingNeeded",value:function(e){var t=this.getPlatform();return!!t&&t!==String(e).toLowerCase()}},{key:"getQueryString",value:function(){var e=window.location.href,t=e.indexOf("?"),n=e.indexOf("#");return t<0?"":e.slice(t,n<0?void 0:n)}},{key:"get",value:function(e){return l.getQueryParams()[e]||null}},{key:"getPlatform",value:function(){var e=String(store.getState().deepLinks.list.platform).toLowerCase();return s.contains(["live","demo"],e)?e:null}},{key:"navigateOnTab",value:function(e){this.mainMenu.active=e,r.navigate(this.mainMenu.map[e])}},{key:"path_videoTutorial",value:function(e){e||r.trigger("ui:tutorials")}},{key:"path_indicators",value:function(e){e||r.trigger("ui:chart-indicator-settings:show")}},{key:"path_popular",value:function(e){this.navigateOnTab("popular")}},{key:"path_favorites",value:function(e){this.navigateOnTab("favorites")}},{key:"path_poshist",value:function(e){this.navigateOnTab("poshist")}},{key:"path_orders",value:function(e){this.navigateOnTab("orders")}},{key:"path_openposlist",value:function(e){this.navigateOnTab("openposlist")}},{key:"path_load_acc_stat",value:function(e){if(!e){var t=store.getState().deepLinks.list.period,n=s.template(a.accountStatementDeepLinkUrl)({period:t}),i=c(n);i?i.focus&&i.focus():window.location=n}}},{key:"path_ordlist",value:function(e){this.navigateOnTab("ordlist")}},{key:"path_closedPositions",value:function(e){this.navigateOnTab("closedPositions")}},{key:"path_withdrawal",value:function(e){e||r.trigger("ui:withdraw")}},{key:"path_deposit",value:function(e){e||r.trigger("flow:deposit")}},{key:"path_upload",value:function(e){e||r.trigger("flow:verify")}},{key:"path_ccverify",value:function(e){e||r.trigger("flow:verify")}},{key:"path_deposit_failed",value:function(e){e||r.trigger("ui:message-box:fail_deposit")}},{key:"path_deposit_sucess",value:function(e){if(!e){var t={totalAmount:store.getState().deepLinks.list.totalAmount,currency:store.getState().deepLinks.list.currency,doFirstDeposit:store.getState().deepLinks.list.first_deposit,atmAmount:store.getState().deepLinks.list.atmAmount,payment_method:"cc_card"};r.trigger("ui:deposit-message",t)}}},{key:"path_metatrader",value:function(e){if(!e){if(!n(212).isMetaTraderVisible())return;r.trigger("ui:open-metatrader","metatrader-accounts")}}},{key:"path_details",value:function(e){if(!e){var t=n(6),i=n(26),r=store.getState().deepLinks.list.symbol,o=i.getInstrumentBySymbol(r,!0);if(!o)return;r=o.getSymbol(),t.getApplicationSettings().set({selectedInstrumentSymbol:r,deeplinkNavigate:!0,deeplink:!0,chart:store.getState().deepLinks.list.chart}),store.dispatch(S(r)),store.dispatch(y({trigger:!1})),store.dispatch(E(r)),store.dispatch(C(f))}}},{key:"path_price_alerts",value:function(e){e||r.trigger("ui:alert",store.getState().deepLinks.list.symbol)}},{key:"path_category",value:function(e){e||r.trigger("ui:instruments:select-category",store.getState().deepLinks.list.category)}},{key:"path_fullreg",value:function(e){e||r.trigger("sm","registration_open")}},{key:"path_faq",value:function(e){e||r.trigger("ui:help-center")}},{key:"path_sms",value:function(e){}},{key:"path_bonus",value:function(e){}},{key:"path_account_settings",value:function(e){if(!e){var t=n(322).SECTION,i=store.getState().deepLinks.list.section?store.getState().deepLinks.list.section.toUpperCase():void 0;r.trigger("ui:account-settings",t[i])}}},{key:"path_pro_app_form",value:function(e){e||r.trigger("ui:account-classification")}},{key:"path_leverage_settings",value:function(e){if(!e){if(!w(store.getState()))return;r.trigger("flow:leverage-settings")}}},{key:"path_account_level",value:function(e){e||r.trigger("ui:account-settings","account-level")}},{key:"path_trade",value:function(e){if(!e){var t={direction:store.getState().deepLinks.list.side,symbolOrId:store.getState().deepLinks.list.symbol,quantity:store.getState().deepLinks.list.quantity,type:store.getState().deepLinks.list.type,tp:"true"===store.getState().deepLinks.list.tp,sl:"true"===store.getState().deepLinks.list.sl,source:"deeplink"};t.symbolOrId&&t.direction&&r.trigger("ui:new-position",t)}}},{key:"path_finevents",value:function(e){e||r.trigger("flow:events-and-trade")}},{key:"path_verification_center",value:function(e){e||r.trigger("flow:verify")}},{key:"path_retake_quiz",value:function(e){r.trigger("ui:retake-quiz")}},{key:"path_analyst",value:function(e){e||r.trigger("ui:tip-ranks")}},{key:"path_insiders",value:function(e){e||r.trigger("ui:insiders")}},{key:"path_news_sentiment",value:function(e){e||r.trigger("ui:newsSentiment")}},{key:"path_bloggers",value:function(e){e||r.trigger("ui:bloggers")}},{key:"path_hedgefunds",value:function(e){e||r.trigger("ui:hedgefunds")}},{key:"path_webinars",value:function(e){if(!e){var t=store.getState().deepLinks.list.webinar_id;r.trigger("flow:webinars",parseInt(t))}}},{key:"path_sync",value:function(e){if(e){var t=store.getState().deepLinks.list,n=t.position_mode,i=t.trading_view,o=t.timezone_id,s=t.timezone_offset,a=t.timezone_gmt,l=t.timezone_name,c=t.platform_type_popup;r.trigger("settings:update",{position_mode:n,trading_view:i,timezone_id:o,timezone_offset:s,timezone_gmt:a,timezone_name:l,platform_type_popup:c})}}},{key:"path_blog",value:function(e){e||r.trigger("flow:blog")}},{key:"path_invest",value:function(e){e||r.trigger("ui:invest")}},{key:"path_my_accounts",value:function(e){if(!e){var t=this.get("tab"),n=-1===s.indexOf(h,t)?null:t;r.trigger("ui:manage-accounts",n)}}},{key:"path_portfolio_builder",value:function(e){e||r.navigate("portfolios/create")}},{key:"getMainMenuActiveTab",value:function(){return this.mainMenu.map[this.mainMenu.active]}},{key:"mobileToWeb",value:function(e){var t=n(9),i=t.getMobileAndroidLaunchLink(),r=t.getMobileIOSLaunchLink();return e.indexOf(i)>=0&&(e=e.replace(i,d+"=")),e.indexOf(r)>=0&&(e=e.replace(r,d+"=")),e.indexOf("?")>=0&&(e=e.replace("?","&")),e}},{key:"campaignsInternalAction",value:function(e){var t=n(9);e="?"+this.mobileToWeb(e),t.isLive()?this.run(!1,e):r.trigger("platform:switch","live",e)}},{key:"run",value:function(e,t){var n=this.get(d)||this.get(p);t&&this.updateParams(t),e&&n&&this.setParams();var i=store.getState().deepLinks.list;!!i[p]&&this.path_sync(e);var r=i.path;if(r){this.path=r;var o=this["path_"+String(r).replace("-","_")];if(s.isFunction(o))return o.call(this,e),!0}}},{key:"prepare",value:function(){this.run(!0)}}]),e}();i.exports=new O}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},,,,,,,function(e,t,n){var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=n(1),o=function(){function e(t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.href=t||window.location.href,this}return i(e,[{key:"getQueryParams",value:function(){var e=this.getQueryString();return this.convertQueryToObject(e)}},{key:"convertQueryToObject",value:function(e){if(r.isString(e))return r.chain(e.split("&")).compact().map((function(e){var t=e.split("=");return[t[0],decodeURIComponent(decodeURIComponent(t[1]))]})).object().value()}},{key:"getAddress",value:function(){var e=this.href,t=e.indexOf("?");return-1===t&&(t=e.length),e.slice(0,t)}},{key:"getProtocol",value:function(e){var t=(e=e||this.href).indexOf("//");return t=-1===t?0:t+2,e.substring(0,t)}},{key:"getDomain",value:function(e){var t=(e=e||this.href).indexOf("//");t=-1===t?0:t+2;var n=e.indexOf("/",t);return n=-1===n?e.length:n,e.substring(t,n)}},{key:"getPort",value:function(e){e=e||this.href;var t=this.getDomain(e),n=e.indexOf(":");return-1===n?"":Number(t.substring(n+1,t.length))}},{key:"getHost",value:function(e){return e=e||this.href,this.getProtocol(e)+this.getDomain(e)}},{key:"getQueryString",value:function(){var e=this.href,t=e.indexOf("?")+1,n=e.indexOf("#");return t?n&&n>t?e.slice(t,n):e.slice(t,e.length):""}},{key:"getQueryParam",value:function(e){return this.getQueryParams()[e]}},{key:"createQueryString",value:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t=t.join("&"),r.isEmpty(t)?t:"?"+t}},{key:"deleteQueryParam",value:function(e){var t=this.getQueryString(),n=this.getQueryParams(t),i=n[e];if(void 0!==i){delete n[e];var r=this.createQueryString(n),o=window.location.pathname+r+window.location.hash;try{window.history.replaceState({},"/",o),this.href=window.location.href}catch(e){return i}return i}}},{key:"deleteAllQueryParams",value:function(){try{window.history.replaceState({},"/",window.location.pathname+window.location.hash)}catch(e){return!1}}},{key:"getDomainName",value:function(){var e=location.hostname;return e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}},{key:"paramsToQueryString",value:function(e){return r.map(e,(function(e,t){return t+"="+e})).join("&")}}],[{key:"normalize",value:function(e,t,n,i){var o,s=Function.prototype.call.bind(String.prototype.toLowerCase),a=Function.prototype.call.bind(String.prototype.toUpperCase);t=!!r.isBoolean(t)&&t;try{var l=e.split("/").map((o=t?a:s,function(e){return o(e.charAt(0))+e.slice(1)})).join("/");return n&&(l.charAt(0)!==n&&(l=n+l),l.charAt(l.length-1)!==n&&(l+=n)),i&&l.charAt(l.length-1)===n?l.substring(0,l.length-1):l}catch(t){return e}}}]),e}();e.exports=new o,e.exports.Url=o,e.exports.normalize=o.normalize},,function(e,t,n){(function(i,r){var o;function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}void 0===(o=function(e,t,i){var o=n(100),a=n(1260),l=n(609),c=n(5),u=n(1),d=n(185).normalize,p=n(8),f=n(170).loadInstrumentsSuccess,h=o.extend({_selectedCategory:null,_isFakeData:!1,overnightInterestTime:null,_theMostDeepestCategoryMap:{},_theMostDeepestCategoryMapArray:[],_instrumentSymbolMap:{},_instrumentIdMap:{},setData:function(e){this.data=e,e=this.transform(e),this.initTheMostDeepestCategoryMap(e),this.setSelectedCategory(this.getFirstCategory()),o.prototype.set.apply(this,arguments)},transform:function(e){var t=this,n=this._instrumentSymbolMap,i=this._instrumentIdMap;return function e(r,o,c){return u.map(r,(function(r){var d=u.isArray(r.elements),p=r.symbol||r.name;if(r.isCategory=!!d,r.isInstrument=!d,r.categoryList=r.isInstrument?[].concat(s(c)):[].concat(s(c),[r.category]),d)return r.elements=e(r.elements,r,r.categoryList),r;r.id,r.basket=l.getBasketData(p),-1===r.category.indexOf(o.category)&&(r.category+="."+o.category);var f=t.getInstrumentBySymbol(p);return f?f.set(r):f=new a(r),n[p]=f,i[r.id]=f,f}))}(e,{},[])},setFakeData:function(e){this._isFakeData=e},isFakeData:function(){return this._isFakeData},clean:function(){this._selectedCategory=null,this._theMostDeepestCategoryMap={},this._theMostDeepestCategoryMapArray=[],this._instrumentSymbolMap={},this.reset()},initTheMostDeepestCategoryMap:function(e){var t=this._theMostDeepestCategoryMap,n=this._theMostDeepestCategoryMapArray;!function e(i,o){for(var s=0;s<i.length;s++){if(!(i[s]instanceof r.Model)){var a=i[s].category,l=i[s].elements,c=l[0]instanceof r.Model;o=d(o,!0,"/");var u=d(o+a,!0,"/");i[s].parentPath=o,i[s].path=u,a&&l&&(e(l,u),c&&(t[u]=i[s],n.push(i[s])))}}}(e,"/")},setSelectedCategory:function(e){if(e&&this._selectedCategory!==e)return this._selectedCategory=e,c.trigger("instruments:category:changed",[e]),this},getSelectedCategory:function(){return this._selectedCategory},getCategoryName:function(e){return e?(e.category.charAt(0).toUpperCase()+e.category.slice(1)).replace(new RegExp("_","g")," "):null},getSelectedCategoryName:function(){return this.getCategoryName(this.getSelectedCategory())},getSelectedCategoryInstruments:function(){return this.getInstrumentsByCategory(this._selectedCategory)},getInstrumentsByCategoryPath:function(e){return this._theMostDeepestCategoryMap[e]?this._theMostDeepestCategoryMap[e].elements:[]},getInstrumentsByCategory:function(e){return e?e.elements:[]},getPopularCategory:function(){return this.getCategoryByName("popular")},getInstrumentById:function(e){return this._instrumentIdMap[e]},getInstrumentBySymbol:function(e,t){return t?(e=e.toLowerCase(),this._instrumentSymbolMap[u.findKey(this._instrumentSymbolMap,(function(t,n){return n.toLowerCase()===e}))]):this._instrumentSymbolMap[e]},getFirstAvailableInstrumentSymbol:function(){return this._instrumentSymbolMap.AXT?"AXT":u.first(u.keys(this._instrumentSymbolMap))},getCategoryByPath:function(e){return this._theMostDeepestCategoryMap[e]},getCategoryByName:function(e){return u.chain(this._theMostDeepestCategoryMapArray).filter((function(t){return t.category===e})).first().value()},getInstrumentCategory:function(e){return u.find(this._theMostDeepestCategoryMapArray,(function(t){if(u.find(t.elements,(function(t){return t.id===e})))return t}))},getData:function(){return this.data},getAllInstruments:function(){return this._instrumentSymbolMap},filterInstruments:function(e){return u.filter(this._instrumentSymbolMap,e)},createInstrument:function(e){e.basket=l.getBasketData(e.symbol),e.id=e.instrumentId,e.name=e.displayName;var t=new a(e);return this._instrumentSymbolMap[t.getSymbol()]=t,this._instrumentIdMap[t.getInstrumentId()]=t,t},setSelectedCategoryByPath:function(e){var t=this.getCategoryByPath(e);this.setSelectedCategory(t)},getSelectedCategoryPath:function(){var e=this.getSelectedCategory();return e&&e.path},getFirstCategory:function(){return u.first(this._theMostDeepestCategoryMapArray)},getFirstCategoryPath:function(){var e=u.first(this._theMostDeepestCategoryMapArray);return e?e.path:""},load:function(){return c.trigger("instruments:load:before"),p.loadInstruments().then(this.loadSuccess.bind(this)).catch(this.loadError.bind(this))},loadSuccess:function(e){return store.dispatch(f(JSON.parse(JSON.stringify(e.data)))),this.clean(),this.setData(e.data),this.setFakeData(!1),c.trigger("instruments:load:after"),Promise.resolve(e)},loadError:function(e){return c.trigger("instruments:load:after"),Promise.reject(e)},analyzePath:function(e){if(!e)return{categoryPath:null,category:null,instrument:null,instrumentSymbol:null};for(var t=e.split("/"),n=u.compact(t),i=[],r="";n.length;){var o=n.join("/");if(r=this.getCategoryByPath("/"+o+"/"))break;i.splice(0,0,n.pop())}var s=i.join("/");return{categoryPath:r&&r.path,category:r,instrument:this.getInstrumentBySymbol(s),instrumentSymbol:s}},isAmountWordUsed:function(e){var t=this.getInstrumentBySymbol(e);return t&&t.isAmountWordUsed()}});i.exports=new h}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(24))},,function(e,t,n){"use strict";n.r(t),n.d(t,"switchMessageAdaptorService",(function(){return P})),n.d(t,"getMessagesService",(function(){return I})),n.d(t,"_debounceFlushRequest",(function(){return x})),n.d(t,"_debouncePersonalSeenRequest",(function(){return N})),n.d(t,"_debouncePlatformSeenRequest",(function(){return D})),n.d(t,"notificationCenterSubscribeService",(function(){return R})),n.d(t,"messagesRestFilterService",(function(){return M}));var i=n(5),r=n.n(i),o=n(8),s=n.n(o),a=n(66),l=n.n(a),c=n(1),u=n.n(c),d=n(58),p=n.n(d),f=n(54),h=n.n(f),m=n(114),g=n.n(m),v=n(21),b=n(28),_=n(39),y=n(6),E=n.n(y);function S(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var C=[b.x,b.y,b.w],w={preferredLocale:"en",messagesPreloadCount:p.a.notificationCenter.messages.preloadCount||10,messagesFlushDelay:p.a.notificationCenter.messages.flushDelay||5e3,messagesSeenResetDelay:p.a.notificationCenter.messages.viewDelay||5e3},O=!1;function T(e){return e[h.a.getCurrentLanguage()]||e[w.preferredLocale]||e[u.a.first(u.a.keys(e))]}function P(e,t){switch(e){case v.TYPE_PERSONAL:return function(e){var t=e.id,n=e.messageJson,i=e.publishDay,r=e.wasRead,o=e.isNew,s=n.texts,a=n.image,l=n.action,c=n.tags,d=T(s);return{id:t,title:d.title||"",images:a||[],body:d.body||"",buttonText:d.buttonText||"",publishDate:g.a.notificationCenterItemDate(i)||"",action:l.id?l:null,tag:u.a.first(c)||null,isRead:!!r,isDeleted:!1,isNew:o||!1}}(t);case v.TYPE_PLATFORM:return function(e){var t=e.id,n=e.messageJson,i=e.publishDay,r=e.wasRead,o=e.isNew,s=n.localizableMessage,a=n.reasonKey,l=n.reasonParameters,c=n.actionType;return n.critical,{id:t,title:__("message.header."+c)||"",body:__(s.key,s.parameters)||"",reason:a?__(a,l):null,isRead:!!r,isNew:o||!1,isDeleted:!1,publishDate:g.a.notificationCenterItemDate(i)||""}}(t);default:throw new Error("Type "+e+" is not supported")}}function k(e){try{var t=null,n=JSON.parse(e);switch(n.type){case"inform-notification-center-message":t=v.TYPE_PERSONAL,n=function(e){w.preferredLocale;var t=e.id,n=(e.englishAsDefault,e.texts),i=e.image,r=e.action,o=(e.notifications,e.publishDay),s=e.tags,a=T(n);return{id:t,title:a.title||"",images:i||[],body:a.body||"",buttonText:a.buttonText||"",publishDate:g.a.notificationCenterItemDate(o)||"",action:r.id?r:null,tag:u.a.first(s)||null,isRead:!1,isDeleted:!1,isNew:!0}}(n);break;case"dealing-message":r=(i=n).id,o=i.dealingMessage,s=o.actionType,o.category,o.critical,a=o.localizableMessage,l=o.reasonKey,c=o.reasonParameters,d=o.timeStamp,n={id:r,title:__("message.header."+s)||"",body:__(a.key,a.parameters)||"",reason:l?__(l,c):null,isRead:!1,isDeleted:!1,isNew:!0,publishDate:g.a.notificationCenterItemDate(d)||""},t=v.TYPE_PLATFORM}n&&!L(n)&&window.store.dispatch(Object(_.messagesAddNew)(t,[n]))}catch(e){}var i,r,o,s,a,l,c,d}function I(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];switch(e){case v.TYPE_PERSONAL:return s.a.loadNotificationCenterMessages.apply(s.a,n);case v.TYPE_PLATFORM:return s.a.loadDealingMessages.apply(s.a,n)}}function A(e){return function(t,n){var i=n().notificationCenter[e].seenIds.list;u.a.size(i)&&t(Object(_.messagesSeenRequest)(e,i))}}var x=u.a.debounce((function(e,t){var n=t().notificationCenter;u.a.each(n.tabs,(function(t){var i=n[t].garbage.list;u.a.size(i)&&e({types:C,callApi:function(){return s.a.setNotificationCenterAction(v.API_ACTION_REMOVE,t,{messageIds:[].concat(S(i))}).then((function(){e(Object(_.garbageFlush)())})).catch((function(t){e(Object(_.garbageRestore)())}))}})}))}),w.messagesFlushDelay),N=u.a.debounce(A(v.TYPE_PERSONAL),w.messagesSeenResetDelay),D=u.a.debounce(A(v.TYPE_PLATFORM),w.messagesSeenResetDelay);function R(){var e;O||(O=!0,r.a.on("stream:ready",(function(){s.a.subscribeNotificationCenter(l.a.getAtmosphereId()),r.a.on("stream:type:NOTIFICATION_CENTER",k)})),(e=window.store.dispatch)(Object(_.messagesAddOldRequest)(v.TYPE_PERSONAL,0,w.messagesPreloadCount)),e(Object(_.messagesAddOldRequest)(v.TYPE_PLATFORM,0,w.messagesPreloadCount)),e({types:C,callApi:function(){return s.a.loadNotificationCenterMessagesCount().then((function(t){return e(Object(_.setTypeMessagesCountUnread)(v.TYPE_PLATFORM,t.data.dealingUnread)),e(Object(_.setTypeMessagesCountUnread)(v.TYPE_PERSONAL,t.data.notificationCenterUnread)),e(Object(_.setTypeMessagesCountNew)(v.TYPE_PLATFORM,t.data.dealingNew)),e(Object(_.setTypeMessagesCountNew)(v.TYPE_PERSONAL,t.data.notificationCenterNew)),t})).catch((function(e){}))}}))}function L(e){var t=u.a.getDeepProp(e,"action.id"),n=u.a.getDeepProp(e,"action.url");return t===v.MESSAGE_ACTION_INTERNAL_ACTION&&n===v.FLOW_ON_BOARDING&&!E.a.getUserCommonData().isAdvancedTradingView()}function M(e,t){var n=[],i=e!==v.TYPE_PERSONAL?t:u.a.filter(t,(function(e){var t=!L(e);return t||!e.id||e.isRead||n.push(e.id),t}));return u.a.isEmpty(n)||window.store.dispatch(Object(_.messagesReadRequest)(e,n)),i}},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(233),s=n(58),a=n(26),l=n(662),c=n(663),u=n(18);i.exports=u({displayName:"exports",getDefaultProps:function(){return{type:"Buy",className:"",display:"",standardLayout:!0,onClick:function(){}}},getInitialState:function(){return{type:this.props.type,id:this.props.model.get("instrumentId"),rate:this.props.model.get(this.props.column.key),eventName:"change:"+this.props.column.key,eventNameDirection:"change:"+this.props.column.direction,dir:this.props.model.get(this.props.column.direction)}},componentDidMount:function(){this.props.model.on(this.state.eventName,this.update,this),this.props.model.on(this.state.eventNameDirection,this.update,this),this.props.model.on("change:buyTradable",this.update,this),this.props.model.on("change:sellTradable",this.update,this)},componentWillUnmount:function(){this.props.model.off(this.state.eventName,this.update,this),this.props.model.off(this.state.eventNameDirection,this.update,this),this.props.model.off("change:buyTradable",this.update,this),this.props.model.off("change:sellTradable",this.update,this)},update:function(){this.setState({id:this.props.model.get("instrumentId"),dir:this.props.model.get(this.props.column.direction),rate:this.props.model.get(this.props.column.key)})},render:function(){var e=a.getInstrumentBySymbol(this.props.model.attributes.symbol),t=e.getPrecision(),n=e.getPipsPrecision(),i=Number(this.state.rate).toFixed(t);i=0===i?"":i;var u=["rate-with-button",this.props.display,this.props.className],d=this.state.type.toLowerCase(),p="buy"===d?l:c;return this.props.standardLayout?r.createElement("td",{className:u.join(" ")},r.createElement("div",null,r.createElement("div",{className:"rate"},r.createElement(o,{dir:this.state.dir,value:i,precision:t,pipsPrecision:n,positiveSymbol:"",alwaysPrecision:!0,shouldZeroHide:!0,greynessDelay:s.rateGraynessDelayMs})),r.createElement("div",{className:"button"},r.createElement(p,{type:"primary",size:"xs",id:e.getInstrumentId(),model:e,onClick:this.props.onClick},__("actions."+d))))):r.createElement("td",{className:u.join(" ")},r.createElement("div",{className:"button"},r.createElement(p,{type:"primary",size:"xs",id:e.getInstrumentId(),model:e,onClick:this.props.onClick},r.createElement("div",{className:"caption"},__("actions."+d)),r.createElement("div",{className:"rate"},r.createElement(o,{dir:this.state.dir,value:i,precision:t,pipsPrecision:n,positiveSymbol:"",alwaysPrecision:!0,shouldZeroHide:!0,greynessDelay:s.rateGraynessDelayMs})))))}})}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),s=n(1),a=n.n(s),l=n(7),c=n.n(l),u=n(91),d=n.n(u);var p=Object(o.connect)((function(e,t){var n=t.symbol;return{tipRanks:Object(Y.c)(e,n)}}))((function(e){var t=e.tipRanks,n=e.className,i=e.showShortDescription,o=void 0!==i&&i;if(a.a.isEmpty(t))return null;var s,l,u,p=c()((u=!!n,(l=n)in(s={"price-target-description":!0})?Object.defineProperty(s,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):s[l]=u,s)),f=t.total_analysts_recommendations,h=t.name,m=t.avg_target_price,g=t.high_target_price,v=t.low_target_price,b=__("tipranks.text.price_target_description"+(o?"_short":""),f,h,"$"+m," $"+g," $"+v);return r.a.createElement("div",{className:p},d()(b))})),f=n(3);var h=Object(o.connect)((function(e,t){var n=t.symbol;return{tipRanks:Object(Y.c)(e,n)}}))((function(e){var t=e.tipRanks,n=e.className,i=e.showTitle,o=void 0===i||i;if(a.a.isEmpty(t))return null;var s,l,u,d=c()((u=!!n,(l=n)in(s={"avg-target-price":!0})?Object.defineProperty(s,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):s[l]=u,s)),p=t.avg_target_price,h=t.avg_upside,m=c()({"avg-target-price__avg":!0,"upside-value":!0,"upside-value--upside":h>0,"upside-value--downside":h<=0});return r.a.createElement("div",{className:d},o&&r.a.createElement("div",{className:"avg-target-price__title"},__("tipranks.text.avg_target_price")),r.a.createElement("div",{className:"avg-target-price__price"},r.a.createElement("div",{className:"avg-target-price__avg-price"},"$",p),r.a.createElement("div",{className:m},h?Math.abs(h)+"% "+(h>0?__("tipranks.text.upside"):__("tipranks.text.downside")):f.NA)))})),m=n(84),g=n(336),v=n(74),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function _(e){return c()({"price-target-graph__upside-price":!0,"price-target-graph__upside-price--upside":e>0,"price-target-graph__upside-price--downside":e<=0})}function y(e){return e?e+"% "+(e>0?__("tipranks.text.upside"):__("tipranks.text.downside")):f.NA}var E=Object(o.connect)((function(e,t){var n=t.symbol;return{tipRanks:Object(Y.c)(e,n)}}))((function(e){var t=e.tipRanks,i=e.className;if(a.a.isEmpty(t))return null;n(72);var o,s,l,u=c()((l=!!i,(s=i)in(o={"price-target-graph":!0})?Object.defineProperty(o,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[s]=l,o)),d=t.past_prices,p=t.avg_target_price,f=t.high_target_price,h=t.low_target_price,E=t.high_upside,S=t.avg_upside,C=t.low_upside,w={y:a.a.last(d),x:d.length-1,marker:{enabled:!1},states:{hover:{halo:!1,enabled:!1}}},O={dashStyle:"shortdot",marker:{symbol:"circle"}},T=d.length-1,P=1.5*d.length,k={verticalAlign:"bottom",style:{fontSize:"10px",fontWeight:"bold",fontFamily:"arial sans-serif",color:v.TEXT_MUTED_COLOR,padding:"10px"}},I={chart:{backgroundColor:"transparent",height:104,width:300},series:[{data:d,marker:{enabled:!1},color:"#d69133"},b({data:[w,{y:f,x:P}]},O,{color:v.POSITIVE_COLOR}),b({data:[w,{y:p,x:P}]},O,{color:v.NEUTRAL_COLOR}),b({data:[w,{y:h,x:P}]},O,{color:v.NEGATIVE_COLOR})],xAxis:{plotLines:[{value:T,color:"#000",width:1}],labels:{enabled:!1}},yAxis:{labels:{enabled:!1},title:{text:null}},tooltip:{pointFormat:"{point.y}",headerFormat:"",style:{color:v.TEXT_MUTED_COLOR}},legend:{enabled:!1},title:b({text:__("tipranks.text.past_months"),align:"left",x:10},k),subtitle:b({text:__("tipranks.text.next_months"),align:"right",x:-10},k)};return r.a.createElement("div",{className:u},r.a.createElement("div",{className:"price-target-graph__graph"},r.a.createElement(g.a,{config:I})),r.a.createElement("div",{className:"price-target-graph__table"},r.a.createElement(m.d,{className:"price-target-graph__table-content",bodyClassName:"price-target-graph__table-content__body"},r.a.createElement(m.c,{className:_(E)},r.a.createElement(m.a,{className:"price-target-graph__table-cell price-target-graph__table-cell--upside"},__("tipranks.text.high")),r.a.createElement(m.a,{className:"price-target-graph__table-cell"},f),r.a.createElement(m.a,{className:"price-target-graph__table-cell"},y(E))),r.a.createElement(m.c,{className:_(S)},r.a.createElement(m.a,{className:"price-target-graph__table-cell price-target-graph__table-cell--avg"},__("tipranks.text.average")),r.a.createElement(m.a,{className:"price-target-graph__table-cell"},p),r.a.createElement(m.a,{className:"price-target-graph__table-cell"},y(S))),r.a.createElement(m.c,{className:_(C)},r.a.createElement(m.a,{className:"price-target-graph__table-cell price-target-graph__table-cell--downside"},__("tipranks.text.low")),r.a.createElement(m.a,{className:"price-target-graph__table-cell"},h),r.a.createElement(m.a,{className:"price-target-graph__table-cell"},y(C))))))})),S=(n(757),n(343)),C=n(42);function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=Object(o.connect)((function(e,t){var n=t.symbol;return n?{consensus:Object(Y.b)(e,n)}:C.b}))((function(e){var t,n=e.className,i=e.consensus;if(!a.a.isString(i))return null;i=i.toLowerCase();var o=S.a.getConsensusDirection(i),s=c()((w(t={"consensus-text-component":!0},"consensus-text-component--"+o,!0),w(t,n,!!n),t));return r.a.createElement("div",{className:s},__("tipranks.text."+i))}));var T=Object(o.connect)((function(e,t){var n=t.symbol;return{totalAnalystsRecommendations:Object(Y.d)(e,n)}}))((function(e){var t,n,i,o=e.className,s=e.totalAnalystsRecommendations,a=c()((i=!!o,(n=o)in(t={"consensus-based-on fs-11":!0})?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t));return r.a.createElement("div",{className:a},__("tipranks.text.based_on",s))}));var P=Object(o.connect)((function(e,t){var n=t.symbol;return{isAvailable:Object(Y.k)(e,n)}}))((function(e){var t=e.isAvailable,n=e.className,i=e.symbol;if(!t)return null;var o,s,a,l=c()((a=!!n,(s=n)in(o={"consensus-status":!0})?Object.defineProperty(o,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[s]=a,o));return r.a.createElement("div",{className:l},r.a.createElement(O,{className:"consensus-status__consensus",symbol:i}),r.a.createElement(T,{className:"consensus-status__description",symbol:i}))}));var k=Object(o.connect)((function(e,t){var n=t.symbol;return{tipRanks:Object(Y.c)(e,n)}}))((function(e){var t=e.tipRanks,n=e.className;if(a.a.isEmpty(t))return null;var i,o,s,l=c()((s=!!n,(o=n)in(i={"consensus-description":!0})?Object.defineProperty(i,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[o]=s,i)),u=t.consensus,p=t.total_analysts_recommendations,f=__("tipranks.text.consensus_description",p,t.name,u);return r.a.createElement("div",{className:l},d()(f))})),I=n(30),A=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var x=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),A(t,[{key:"render",value:function(){var e=this.props,t=e.tipRanks,n=e.className;if(a.a.isEmpty(t))return null;var i,o,s,l=t.total_analysts_buy,u=t.total_analysts_sell,d=t.total_analysts_hold,p=c()((s=!!n,(o=n)in(i={"analyst-pie":!0})?Object.defineProperty(i,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[o]=s,i)),f={chart:{type:"pie",height:104,width:230},plotOptions:{pie:{allowPointSelect:!1,dataLabels:{enabled:!1},showInLegend:!0,point:{events:{legendItemClick:function(e){e.preventDefault()}}}},series:{states:{hover:{enabled:!1}}}},legend:{align:"right",verticalAlign:"middle",layout:"vertical",labelFormat:"{percentage:.1f}% {name} ({y})",itemStyle:{fontSize:"11px",fontWeight:"normal",color:v.TEXT_MUTED_COLOR},itemMarginBottom:4},tooltip:{pointFormat:"{point.name}: {point.percentage:.1f}%",headerFormat:"",style:{color:v.TEXT_MUTED_COLOR}},series:[{colorByPoint:!0,data:[{name:__("tipranks.text.buy"),y:l,color:v.POSITIVE_COLOR},{name:__("tipranks.text.sell"),y:u,color:v.NEGATIVE_COLOR},{name:__("tipranks.text.hold"),y:d,color:v.NEUTRAL_COLOR}]}]};return r.a.createElement("div",{className:p},r.a.createElement(I.b,{config:f,className:"analyst-pie__chart"}))}}]),t}(r.a.Component),N=Object(o.connect)((function(e,t){var n=t.symbol;return{tipRanks:Object(Y.c)(e,n)}}))(x);function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=function(e){var t=e.recommendation,n=e.analystInfo,i=e.className,o=c()(D({"analyst-recommendation":!0},i,!!i)),s=c()({"upside-value":!0,"upside-value--upside":t.analyst_upside>0,"upside-value--downside":t.analyst_upside<=0});return r.a.createElement("div",{className:o},r.a.createElement("div",{className:"analyst-recommendation__header"},r.a.createElement("div",{className:"analyst-recommendation__name"},n.name),r.a.createElement("div",{className:"analyst-recommendation__company"},n.firm),r.a.createElement(I.f,{rating:n.rating,className:"analyst-recommendation__rating"})),r.a.createElement("div",{className:"analyst-recommendation__content"},r.a.createElement("div",{className:"analyst-recommendation__recommendation"},r.a.createElement("div",null,__("tipranks.text.change")),r.a.createElement("div",{className:"analyst-recommendation__date"},t.action)),r.a.createElement("div",{className:"analyst-recommendation__recommendation"},r.a.createElement("div",null,__("tipranks.text.target_price")),r.a.createElement("div",{className:"analyst-recommendation__price"},"$",t.analyst_target_price)),r.a.createElement("div",{className:"analyst-recommendation__recommendation"},r.a.createElement("div",null,__("tipranks.text.upside_downside")),r.a.createElement("div",{className:s},t.analyst_upside?Math.abs(t.analyst_upside)+"%":f.NA)),r.a.createElement("div",{className:"analyst-recommendation__recommendation"},r.a.createElement("div",null,__("tipranks.text.recommendation")),r.a.createElement(O,{consensus:t.recommendation}))))},L=Object(o.connect)((function(e,t){var n=t.symbol;return{recommendations:Object(Y.h)(e,n),analysts:Object(Y.f)(e)}}))((function(e){var t=e.recommendations,n=e.analysts,i=e.symbol,o=e.inSlider,s=void 0===o||o,l=e.className;if(a.a.isEmpty(t))return null;var u=c()(D({"analysts-list":!0},l,!!l));return r.a.createElement("div",{className:u},s?r.a.createElement(I.l,{slidesToShow:5.25,responsive:[{breakpoint:1599,settings:{slidesToShow:4.25}},{breakpoint:1420,settings:{slidesToShow:3.25}},{breakpoint:1200,settings:{slidesToShow:2.25}}]},a.a.map(t,(function(e,t){return r.a.createElement(I.c,{className:"analysts-list__recommendation",key:t},r.a.createElement(R,{symbol:i,recommendation:e,analystInfo:n[e.analyst_id]}))}))):a.a.map(t,(function(e,t){return r.a.createElement(I.c,{className:"analysts-list__recommendation",contentClassName:"analysts-list__recommendation-content",key:t},r.a.createElement(R,{symbol:i,recommendation:e,analystInfo:n[e.analyst_id]}))})))})),M=n(138),j=n(19),F=n(5),B=n.n(F),U=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),U(t,[{key:"onConsensusBtnClick",value:function(e){var t=this.props,n=t.onClick,i=t.symbol;e===f.HOLD||this.isDisabled(e)||(B.a.trigger("ui:new-position",{direction:e,symbolOrId:i}),n())}},{key:"getNotTradableMessage",value:function(e){if(!this.isDisabled(e))return"";var t=this.props,n=t.isVisible,i=t.tradingMode,r=t.isOutOfMarketHours,o=t.isMarginLevelLow;if(!n)return __("accountInfo.outOfMarket.other");switch(i){case f.TRADING_MODE.NO:return __("accountInfo.outOfMarket.other");case f.TRADING_MODE.CLOSE_ONLY:return __("accountInfo.outOfMarket.close");case f.TRADING_MODE.SHORT_ONLY:return __("accountInfo.outOfMarket.buy");case f.TRADING_MODE.LONG_ONLY:return __("accountInfo.outOfMarket.sell")}return r?__("accountInfo.outOfMarket.notrade"):o?__("margin.level_2.buy_sell_button_tooltip.description"):""}},{key:"isDisabled",value:function(e){if(e===f.HOLD)return!1;var t=this.props,n=t.isBuyTradable,i=t.isSellTradable;return e===f.BUY?!n:!i}},{key:"render",value:function(){var e,t=this,n=this.props.className,i=this.props.consensus;i=i.toLowerCase();var o=S.a.getConsensusDirection(i),s=c()((V(e={"consensus-btn":!0},"consensus-btn--"+o,!0),V(e,n,!!n),V(e,"disabled",this.isDisabled(o)),e));return r.a.createElement(M.a,{className:s,onClick:function(){return t.onConsensusBtnClick(o)},"aria-label":this.getNotTradableMessage(o)},__("tipranks.text."+i))}}]),t}(r.a.Component);z.defaultProps={onClick:a.a.noop};Object(o.connect)((function(e,t){var n=t.symbol;return{isBuyTradable:Object(j.isInstrumentBuyTradable)(e,n),isSellTradable:Object(j.isInstrumentSellTradable)(e,n),isOutOfMarketHours:Object(j.getInstrumentOutOfMarketHours)(e,n),isMarginLevelLow:Object(j.isInstrumentMarginLevelLow)(e),isVisible:Object(j.isInstrumentVisible)(e,n),tradingMode:Object(j.getInstrumentTradingMode)(e,n)}}))(z);var q=n(32),H=n.n(q),$=(n(1380),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}());var G=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),$(t,[{key:"render",value:function(){var e=this.props,t=e.tipRanks,n=e.className,i=e.totalRecommendations;if(a.a.isEmpty(t))return null;var o,s,l,u=t.total_analysts_buy,d=t.total_analysts_sell,p=t.total_analysts_hold,f=c()((l=!!n,(s=n)in(o={"analyst-bar":!0})?Object.defineProperty(o,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[s]=l,o)),h=H()(u/i).toPercent(),m=H()(d/i).toPercent(),g=H()(p/i).toPercent();return r.a.createElement("div",{className:f},r.a.createElement("div",{className:"analyst-bar__bar"},r.a.createElement("div",{className:"analyst-bar__segment analyst-bar__segment--buy",style:{width:h}}),r.a.createElement("div",{className:"analyst-bar__segment analyst-bar__segment--sell",style:{width:m}}),r.a.createElement("div",{className:"analyst-bar__segment analyst-bar__segment--hold",style:{width:g}})),r.a.createElement("div",{className:"analyst-bar__legend"},r.a.createElement("div",{className:"analyst-bar__legend-item analyst-bar__legend-item--buy"},__("tipranks.text.buy"),": ",h),r.a.createElement("div",{className:"analyst-bar__legend-item analyst-bar__legend-item--sell"},__("tipranks.text.sell"),": ",m),r.a.createElement("div",{className:"analyst-bar__legend-item analyst-bar__legend-item--hold"},__("tipranks.text.hold"),": ",g)))}}]),t}(r.a.Component),W=Object(o.connect)((function(e,t){var n=t.symbol;return{tipRanks:Object(Y.c)(e,n),totalRecommendations:Object(Y.d)(e,n)}}))(G),Y=n(476),K=n(251),X=n(758),Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},J={status:f.EMPTY};function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments[1],n=t.type,i=t.payload;switch(n){case K.c:return Q({},e,i.responsePayload.data,{status:f.SUCCESS})}return e}n.d(t,"i",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"j",(function(){return E})),n.d(t,"g",(function(){return P})),n.d(t,"f",(function(){return k})),n.d(t,"b",(function(){return N})),n.d(t,"c",(function(){return L})),n.d(t,"a",(function(){return W})),n.d(t,"h",(function(){return O})),n.d(t,"e",(function(){return T})),n.d(t,"s",(function(){return Y.i})),n.d(t,"m",(function(){return Y.c})),n.d(t,"k",(function(){return Y.a})),n.d(t,"o",(function(){return Y.e})),n.d(t,"l",(function(){return Y.b})),n.d(t,"u",(function(){return Y.k})),n.d(t,"n",(function(){return Y.d})),n.d(t,"q",(function(){return Y.g})),n.d(t,"r",(function(){return Y.h})),n.d(t,"p",(function(){return Y.f})),n.d(t,"t",(function(){return Y.j})),n.d(t,"v",(function(){return X.a})),n.d(t,"w",(function(){return Z}))},,function(e,t,n){"use strict";n.r(t);var i=n(1),r=n.n(i),o=n(8),s=n.n(o),a=n(5),l=n.n(a),c=n(38);function u(e){return{type:c.k,payload:e}}function d(e){return{type:c.l,payload:e}}function p(e){return{type:c.B,payload:e}}function f(e){return{type:c.j,payload:e}}function h(e){return function(t){t({type:c.a,payload:e}),t(F())}}function m(e){return function(t){t({type:c.e,payload:e}),t(F())}}function g(e){return function(t,n){var i=n().user,r=i.favoriteSymbols;i.favorites;-1===r.indexOf(e)?t(h(e)):t(m(e))}}function v(e){return{type:c.i,payload:e}}function b(e){return l.a.trigger("user:change:userData",e),{type:c.H,payload:e}}function _(e){return{type:c.r,payload:e}}function y(e){return{type:c.o,payload:e}}function E(e){return{type:c.z,payload:e}}function S(e){return{type:c.G,payload:e}}function C(e){return{type:c.s,payload:e}}function w(e){return{type:c.p,payload:e}}function O(e){return{type:c.w,payload:e}}function T(e){return{type:c.x,payload:e}}function P(e){return{type:c.C,payload:e}}function k(e){return{type:c.n,payload:e}}function I(e){return{type:c.m,payload:e}}function A(e){return{type:c.J,payload:e}}function x(e){return{type:c.q,payload:e}}function N(e){return{type:c.A,payload:e}}function D(e){return{type:c.t,payload:e}}function R(e){return{type:c.I,payload:e}}function L(e){return{type:c.y,payload:e}}function M(e){return{type:c.v,payload:e}}function j(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n,i){var o=i().user.favorites;r.a.isArray(e)&&!r.a.isEmpty(e)&&!r.a.isEqual(o,e)&&(n({type:c.u,payload:e}),t&&n(F()))}}function F(){return function(e,t){e({types:[c.f,c.h,c.g],callApi:function(){return s.a.storeSettings({favorites:t().user.favorites})}})}}function B(){return{types:[c.b,c.d,c.c],callApi:function(){return s.a.loadLeverage().then((function(e){return e.data}))}}}function U(){return function(e){return e({types:[c.D,c.F,c.E],callApi:function(){return s.a.updateQuanranksConsent()}})}}n.d(t,"updateAccountMetrics",(function(){return u})),n.d(t,"updateAccountSettings",(function(){return d})),n.d(t,"setUserPendingDeposit",(function(){return p})),n.d(t,"totals",(function(){return f})),n.d(t,"addFavoriteInstrument",(function(){return h})),n.d(t,"removeFavoriteInstrument",(function(){return m})),n.d(t,"toggleFavoriteInstrument",(function(){return g})),n.d(t,"setFavoriteInstruments",(function(){return v})),n.d(t,"updateUserData",(function(){return b})),n.d(t,"updateUserConfirmCompanyMismatch",(function(){return _})),n.d(t,"updateUserBrandCompanyData",(function(){return y})),n.d(t,"updatePartnerCompanyNameKey",(function(){return E})),n.d(t,"updateScoreLevel",(function(){return S})),n.d(t,"updateCountry",(function(){return C})),n.d(t,"updateCitizenship",(function(){return w})),n.d(t,"updateFirstName",(function(){return O})),n.d(t,"updateLastName",(function(){return T})),n.d(t,"updatePhone",(function(){return P})),n.d(t,"updateDateOfBirth",(function(){return k})),n.d(t,"updateAddress",(function(){return I})),n.d(t,"updateZipCode",(function(){return A})),n.d(t,"updateCity",(function(){return x})),n.d(t,"updatePassword",(function(){return N})),n.d(t,"updateEmail",(function(){return D})),n.d(t,"updateUserLanguage",(function(){return R})),n.d(t,"updateNationalCountryIdentifier",(function(){return L})),n.d(t,"updateFirstDeposit",(function(){return M})),n.d(t,"updateFavorites",(function(){return j})),n.d(t,"saveFavorites",(function(){return F})),n.d(t,"loadLeverages",(function(){return B})),n.d(t,"updateQuanranksConsent",(function(){return U}))},,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));var i=n(166),r=n(8),o=n.n(r);function s(){return{types:[i.b,i.d,i.c],callApi:function(){return o.a.getTimezoneAll()},shouldCallApi:function(e){return!e.accountSettingsPlatformFeature.timezone.list.length}}}function a(e){return{type:i.a,payload:!!e}}},,function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return s}));var i="price-alerst/PRICE_ALERTS_LOAD_SUCCESS",r="price-alerst/PRICE_ALERTS_ADD_SUCCESS",o="price-alerst/PRICE_ALERTS_UPDATE_SUCCESS",s="price-alerst/PRICE_ALERTS_DELETE_SUCCESS"},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return a})),n.d(t,"g",(function(){return l})),n.d(t,"b",(function(){return c}));var i="hotjar/INIT",r="hotjar/INJECT",o="hotjar/CHANGE_VISIBILITY",s="hotjar/HOTJAR_TRIGGER_ORIGIN_FEEDBACK",a="hotjar/HOTJAR_OPEN_ORIGIN_FEEDBACK_FORM",l="hotjar/HOTJAR_TRY_TO_OPEN_FEEDBACK_FORM",c="hotjar/HOTJAR_DISABLE_AUTO_OPEN_FEEDBACK_TRIGGER"},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var i="deepLinks/SAVE_DEEP_LINKS",r="deepLinks/UPDATE_DEEP_LINKS",o="deepLinks/CLEAR_DEEP_LINKS",s="deepLinks/CLEAR_DEEP_LINK_PARAM"},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=function(t,n,i){return!e.isNumber(t)&&e.isNumber(n)?1*i:e.isNumber(t)&&!e.isNumber(n)?-1*i:(t<n?-1:t>n?1:0)*i},r=function(e,t,n){return e=String(e).toLowerCase(),t=String(t).toLowerCase(),i(e,t,n)}}).call(this,n(1))},function(e,t,n){"use strict";n.r(t),n.d(t,"checkCustomerLevelsEnabled",(function(){return p})),n.d(t,"checkBloggersEnabled",(function(){return f})),n.d(t,"checkAnalystsEnabled",(function(){return h})),n.d(t,"checkInsidersEnabled",(function(){return m})),n.d(t,"checkHedgeFundsEnabled",(function(){return g})),n.d(t,"checkNewsSentimentEnabled",(function(){return v})),n.d(t,"checkNewsFeedEnabled",(function(){return b})),n.d(t,"checkAcuityNewsSentimentEnabled",(function(){return _})),n.d(t,"checkEventsAndTradeEnabled",(function(){return y})),n.d(t,"checkFundamentalsEnabled",(function(){return E})),n.d(t,"setSettings",(function(){return S})),n.d(t,"saveSettingsByKey",(function(){return C}));var i=n(1),r=n.n(i),o=n(8),s=n.n(o),a=n(53),l=n(9),c=n.n(l),u=n(55),d=n(3);function p(){return function(e,t){var n=Object(u.isCustomerLevelsEnabled)(t());return r.a.isNull(n)?e({types:[a.j,a.l,a.k],callApi:function(){return c.a.checkCustomerLevelsEnabled()}}):Promise.resolve(n)}}function f(){return function(e,t){var n=Object(u.isBloggersOpinionsEnabled)(t());return r.a.isNull(n)?e({types:[a.g,a.i,a.h],callApi:function(){return c.a.checkTradingToolEnabled(d.TRADING_TOOLS.BLOGGERS)}}):Promise.resolve(n)}}function h(){return function(e,t){var n=Object(u.isAnalystsRatingsEnabled)(t());return r.a.isNull(n)?e({types:[a.d,a.f,a.e],callApi:function(){return c.a.checkTradingToolEnabled(d.TRADING_TOOLS.ANALYST_RECOMMENDATIONS)}}):Promise.resolve(n)}}function m(){return function(e,t){var n=Object(u.isInsidersActivityEnabled)(t());return r.a.isNull(n)?e({types:[a.v,a.x,a.w],callApi:function(){return c.a.checkTradingToolEnabled(d.TRADING_TOOLS.INSIDERS)}}):Promise.resolve(n)}}function g(){return function(e,t){var n=Object(u.isHedgeFundsEnabled)(t());return r.a.isNull(n)?e({types:[a.s,a.u,a.t],callApi:function(){return c.a.checkTradingToolEnabled(d.TRADING_TOOLS.HEDGEFUNDS)}}):Promise.resolve(n)}}function v(){return function(e,t){var n=Object(u.isNewsSentimentEnabled)(t());return r.a.isNull(n)?e({types:[a.B,a.D,a.C],callApi:function(){return c.a.checkTradingToolEnabled(d.TRADING_TOOLS.NEWS_SENTIMENT)}}):Promise.resolve(n)}}function b(){return function(e,t){var n=Object(u.isNewsFeedEnabled)(t());return r.a.isNull(n)?e({types:[a.y,a.A,a.z],callApi:function(){return c.a.checkTradingToolEnabled(d.TRADING_TOOLS.NEWS_FEED)}}):Promise.resolve(n)}}function _(){return function(e,t){var n=Object(u.isAcuityNewsSentimentEnabled)(t());return r.a.isNull(n)?e({types:[a.a,a.c,a.b],callApi:function(){return c.a.checkTradingToolEnabled(d.TRADING_TOOLS.ACUITY)}}):Promise.resolve(n)}}function y(){return function(e,t){var n=Object(u.isEventsAndTradeEnabled)(t());return r.a.isNull(n)?e({types:[a.m,a.o,a.n],callApi:function(){return c.a.checkTradingToolEnabled(d.TRADING_TOOLS.EVENTS_AND_TRADE)}}):Promise.resolve(n)}}function E(){return function(e,t){var n=Object(u.isFundamentalsEnabled)(t());return r.a.isNull(n)?e({types:[a.p,a.r,a.q],callApi:function(){return c.a.checkTradingToolEnabled(d.TRADING_TOOLS.ANALYST_RESEARCH)}}):Promise.resolve(n)}}function S(e){return function(t){t({type:a.H,payload:e})}}function C(e,t){return function(n){if(!r.a.isString(e)&&!r.a.isEmpty(e))return Promise.reject("Key "+e+" should be a non empty string");n({types:[a.E,a.G,a.F],additionalData:{key:e,value:t},callApi:function(){return s.a.storeSettings(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,t))}})}}},,,function(e,t,n){(function(i){var r;void 0===(r=function(e,t,r){var o=n(162),s=o.extend({events:function(){return i.extend({},i.result(o.prototype,"events"),{"click input[type=checkbox]":"onChange"})},initialize:function(){o.prototype.initialize.apply(this,arguments),this.setName(this.$el.find("input").attr("name")),this.getDefaultValue()&&this.check()},value:function(){return this.$el.find("input").attr("parse-string")?String(this.$el.find("[type=checkbox]")[0].checked):this.$el.find("[type=checkbox]")[0].checked},check:function(){var e=this.$("input[type=checkbox]"),t=e[0];return e&&!this.value()&&(t.click(),t.checked||e.attr("checked",!0)),this},uncheck:function(){var e=this.$("input[type=checkbox]"),t=e[0];return e&&this.value()&&(t.click(),t.checked&&e.attr("checked",!1)),this},setChecked:function(e){!0===e?this.check():this.uncheck()},isChecked:function(){return this.value()},update:function(){var e=this.$el.find("input");this.state.disabled?e.attr("disabled","disabled"):e.removeAttr("disabled","disabled")},getDefaultValue:function(){return"true"===this.$el.find("input").attr("default-value")},getHtmlTemplate:function(){var e=this.options.template,t=i.extend({},{checked:!1},this.options);return e?e(i.pick(t,["disable","dependent","savedData","options","translationKey","name","title","checked"])):""}});r.exports=s}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(24),o=n(5),s=(n(8),n(9)),a=(n(6),n(380)),l=n(1422),c=r.Model.extend({defaults:function(){return{metaTraderEnabled:!1}},initialize:function(){o.on("app:ready",this.checkIsMetaTraderEnabled,this),o.on("registration:filled",this.checkIsMetaTraderEnabled,this),o.on("settings:load:success",this.checkIsMetaTraderEnabled,this)},isMetaTraderVisible:function(){return!this.hideMetaTraderLink()},hideMetaTraderLink:function(){return this.hideMetaTraderLinkByDefault()||a.hideMetaTraderLink()||l.hideMetaTraderLink()},hideMetaTraderLinkByDefault:function(){var e=n(102);return e.LOW_SCORE()||!e.FULL_REGISTRATION_COMPLETED()||!this.get("metaTraderEnabled")},checkIsMetaTraderEnabled:function(){var e=s.isMetaTraderEnabled();this.set("metaTraderEnabled",e,{silent:!0}),this.trigger("change:metaTraderEnabled",this,e)},isCommonRegulation:function(){return!this.isSpanishRegulation()&&!this.isFrenchRegulation()},isSpanishRegulation:function(){return a.isSpanishRegulation()},isFrenchRegulation:function(){return l.isFrenchRegulation()},showTradeConfirmation:function(){return a.isSpanishRegulation()&&a.isTradingPositionRiskWarningRequired()?new Promise((function(e){o.trigger("ui:risk-warning",{regulation:"spanish",action:"trade",onOK:e})})):Promise.resolve()}});i.exports=new c}.call(t,n,t,e))||(e.exports=r)}).call(this,n(24))},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(43),o=(n(1),n(6)),s=n(9),a=n(218),l=n(98),c=l.EMPTY,u=l.TYPE_MARKET,d=l.TYPE_LIMIT,p=l.TYPE_STOP;i.exports=r.extend({order:function(){return this.get("order")},instrument:function(){return this.instrumentDriver().value()},instrumentDriver:function(){return this.get("instrumentDriver")},amount:function(){return this.get("amount")},type:function(){return this.get("type")},direction:function(){return this.get("direction")},conversion:function(){return this.get("conversion")},requiredMargin:function(){return this.get("requiredMargin")},entry:function(){return this.get("entry")},gsl:function(){return this.get("gsl")},stopLoss:function(){return this.get("stopLoss")},takeProfit:function(){return this.get("takeProfit")},setEntry:function(e){this.set("entry",e)},removeEntry:function(){this.set("entry",0)},isSell:function(){return this.direction().isSell()},isBuy:function(){return this.direction().isBuy()},setConversion:function(e){this.set({conversion:e})},setRequiredMargin:function(e){this.set({requiredMargin:e})},statusOfInstrument:function(){return this.instrumentDriver().get("statusOfInstrument")},statusOfInstrumentInfo:function(){return this.instrumentDriver().get("statusOfInstrumentInfo")},statusOfAmount:function(){return this.amount().get("statusOfAmount")},getCommonData:function(){var e=this.amount(),t=this.type().value()!==u?this.entry():0,n=this.direction(),i=this.instrument(),r=this.conversion(),a=this.requiredMargin(),l=i&&i.getBid(),c=i&&i.getAsk(),f=n?n.isBuy()?i?i.getAsk():0:i?i.getBid():0:0,h=n?n.isBuy()?i?i.getBid():0:i?i.getAsk():0:0,m=t&&Number(t.value()),g=a&&a.get("calculated");return{bid:l,ask:c,isEntry:!!t,entryPrice:m,price:t?m:f,currentSellPrice:l,currentBuyPrice:c,currentPrice:f,currentOppositePrice:h,isBuy:n&&n.isBuy(),isSell:n&&n.isSell(),amount:e&&e.value(),requiredMargin:a&&a.value(),calculatedRequiredMargin:g,calculatedRequiredMarginInAccountCurrency:g&&Number(g.requiredMarginInAccountCurrency),guaranteedStopLossAmount:g&&Number(g.guaranteedStopLossAmount),power:o.getUserAccountMetricsModel().getBuyingPower(),maxOrderSize:i&&i.getMaxOrderSize(),minOrderSize:i&&i.getMinOrderSize(),minOrderIncrement:i&&i.getMinOrderIncrement(),precision:i&&i.getPrecision(),pipsPrecision:i&&i.getPipsPrecision(),precisionSize:i&&i.getPrecisionSize(),pipsPrecisionSize:i&&i.getPipsPrecisionSize(),diffPipsPrecision:i&&i.getPipsPrecisionDiff(),isFractionalAmountEnabled:i&&i.isFractionalAmountEnabled(),isAmountWordUsed:i&&i.isAmountWordUsed(),limitStopDistance:i&&i.getLimitStopDistance(),defaultDistancePipsMultiplier:s.getDefaultDistancePipsMultiplier(),conversionRate:r&&r.value()||1,lotSize:i&&(i.isTypeForex()?1:i.getLotSize()),marginRate:i&&i.getMarginRate(),isEntryLimit:t&&t.name===d,isEntryStop:t&&t.name===p,gsl:this.gsl(),currency:o.getUserCurrencySymbol(),isTypeSpreadBetting:i&&i.isTypeSpreadBetting(),instrument:i}},divisible:function(e,t,n){return n&&(e=Math.round(e*n),t=Math.round(t*n)),e%t==0},minOrderDistance:function(e){var t=this.getCommonData(),n=t.limitStopDistance,i=t.pipsPrecisionSize,r=t.precision,o=t.defaultDistancePipsMultiplier,s=void 0;return o=o.toFixed(r),n=Number(n).toFixed(r),s=e?n*i:n*o*i,Number(Number(s).toFixed(r))},minAllowedOrderDistance:function(){var e=this.getCommonData(),t=e.precision,n=e.limitStopDistance,i=e.pipsPrecisionSize;return Number((n*i).toFixed(t))},roundPrice:function(e,t){return this.getCommonData().isBuy?a.roundUp(e,t):a.roundDown(e,t)},getSpread:function(){var e=this.getCommonData(),t=e.ask,n=e.bid,i=e.amount,r=e.conversionRate;return i!==c?Number((t-n)*(i||1)*r).toFixed(2):0}})}.call(t,n,t,e))||(e.exports=i)},,,,,function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=this,o=n(1),s=n(3).NA,a=5e-7;function l(e){return 0==((t=e)>(n=0)+(i=a)?1:t<n-i?-1:(isNaN(t)?1:0)-(isNaN(n)?1:0));var t,n,i}i.exports.roundUp=function(e,t){var n=Math.pow(10,t);return isFinite(e)?l(e)?0:Math.ceil((e+a)*n)/n:e},i.exports.roundDown=function(e,t){var n=Math.pow(10,t);return isFinite(e)?l(e)?0:Math.floor((e+a)*n)/n:e},i.exports.roundMToB=function(e){return e===s||Number(e)!==+e?e:Math.round(e)/1e3+"B"},i.exports.cutNumber=function(e,t){if(!o.isNumber(e)||o.isNaN(e))return e;var n=new RegExp("^-?\\d+(?:\\.\\d{0,"+t+"})?","gi"),i=e.toString().match(n)[0];return Number(i)},i.exports.cutCurrency=function(e){return r.cutNumber(e,2)},i.exports.roundToTwo=function(e){return+(Math.round(e+"e+1")+"e-1")}}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},,function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),s=n(19),a=n(109),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.a=Object(o.connect)((function(e,t){var n=t.orderId,i=Object(a.getOrderStopLimitPriceById)(e,n),r=Object(a.getOrderSymbolById)(e,n),o=Object(s.getInstrumentPrecision)(e,r);return{value:o&&Number(i).toFixed(o)||""}}))((function(e){var t=e.as,n=(e.orderId,e.value),i=(e.dispatch,e.after),o=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["as","orderId","value","dispatch","after"]);return r.a.createElement(t||"span",l({},o),n,i)}))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),s=n(32),a=n.n(s),l=n(1),c=n.n(l),u=n(109);var d=function(e){e.orderId;var t=e.value,n=(e.dispatch,e.transformValueText),i=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["orderId","value","dispatch","transformValueText"]);return t?(t=a()(Math.abs(t)).format("0,0[.][000]"),r.a.createElement(i.as,i,c.a.isFunction(n)?n(t):t)):null};d.defaultProps={as:"span"},t.a=Object(o.connect)((function(e,t){var n=t.orderId;return{value:Object(u.getOrderQuantityById)(e,n)}}))(d)},function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return d}));var i=n(69),r=n(1),o=n.n(r),s=n(55),a=n(3);function l(){return function(e,t){e({type:i.a})}}function c(e,t){return function(n,r){var l;n({type:i.c,name:e,enabled:t}),n((l=function(e,t){return o.a.contains(e.availableServices,t)?t:o.a.first(e.availableServices)},function(e,t){var n=t().services,i=Object(s.getSelectedServicePrimary)(t()),r=Object(s.getSelectedServiceSecondary)(t());e(d(a.SELECTED_DROPDOWN_SERVICE_PRIMARY,l(n,i))),e(d(a.SELECTED_DROPDOWN_SERVICE_SECONDARY,l(n,r)))}))}}function u(e,t){return{type:i.b,name:t,enabled:!1}}function d(e,t){return{type:i.f,payload:{name:t,id:e}}}},function(e,t,n){"use strict";n.r(t),n.d(t,"hotjarInit",(function(){return u})),n.d(t,"hotjarInject",(function(){return d})),n.d(t,"hotjarChangeVisibility",(function(){return p})),n.d(t,"hotjarTriggerOriginFeedback",(function(){return f})),n.d(t,"hotjarOpenOriginFeedbackForm",(function(){return h})),n.d(t,"hotjarTryToOpenFeedbackForm",(function(){return m})),n.d(t,"hotjarDisableAutoOpenFeedbackTrigger",(function(){return g}));var i=n(407),r=n(205),o=n(9),s=n.n(o),a=n(208),l=n(1),c=n.n(l);function u(){return{type:r.c}}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.a.getHotjarId();return function(t){t({type:r.d}),Object(i.c)(e)}}function p(e){return{type:r.a,payload:e}}function f(){return function(e){e({type:r.f}),Object(i.b)("feedback")}}function h(){return function(e){e({type:r.e}),Object(i.a)()}}var m=c.a.throttle((function(){return function(e){if(e({type:r.g}),!Object(i.d)())return e(f()),void c.a.delay((function(){return e(m())}),10);e(h())}}),300);function g(){return function(e){e({type:r.b}),e(Object(a.saveSettingsByKey)("isAutoOpenFeedbackTriggerEnabled",!1))}}},,,,function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var o=n(20),s=n(1),a=n(5),l=n(71).default,c=n(773),u=s.template(n(1641)),d=["message","topic","level"],p="NOTIFICATION_ID",f=function(e,t){return s.every(e,(function(e){return s.has(t,e)}))},h={},m=new c,g=o.extend({className:"ribbon-notification",events:function(){return s.extend({},s.result(o.prototype,"events"),{"click .fn-more":"moreClick","click .fn-dismiss":"dismissClick","click .message":"onClick"})},initialize:function(e){o.prototype.initialize.apply(this,arguments),this.options=s.extend({showMore:!0,hideDismiss:!1,showWarning:!1,parent:r(".ribbon-box")},e),this.toggleVisibility=this.toggleVisibility.bind(this),window.addEventListener("orientationchange",this.toggleVisibility,!1),this.render()},toggleVisibility:function(){l.mobile()&&(window.matchMedia("(orientation: portrait)").matches?this.$el.removeClass("hidden"):this.$el.addClass("hidden"))},destroy:function(){document.removeEventListener("orientationchange",this.toggleVisibility),o.prototype.destroy.call(this)},render:function(){s.has(this.options,"message")&&(this.$el.html(u(this.options)),this.options.type&&this.$el.addClass(this.options.type),this.options.parent.append(this.$el),a.trigger("ribbon:update"))},moreClick:function(){if(s.isFunction(this.options.onMoreClick))return this.options.onMoreClick();this.hide()},dismissClick:function(){if(s.isFunction(this.options.onDismissClick))return this.options.onDismissClick();this.hide()},onClick:function(){if(s.isFunction(this.options.onClick))return this.options.onClick()},hide:function(){this.$el.addClass("hidden"),a.trigger("ribbon:update"),this.destroy()}});function v(e,t){return e=s.isFunction(e)?e:s.noop,t?function(){a.trigger("ribbon:strip:user:action"),b(),e()}:function(){a.trigger("ribbon:strip:user:action"),e()}}function b(){if(!s.isEmpty(h)){h.view.hide(),h={};var e=m.pop();if(!e)return;h=s.extend({data:e},{view:new g(e)})}}i.exports.show=function(e){if(e){if(!f(d,e))return null;var t={onDismissClick:v(e.onDismissClick,!0),onMoreClick:v(e.onMoreClick,!1)},n={data:s.extend({_id:s.uniqueId([p])},s.extend(e,t))};return s.isEmpty(h)?(h=s.extend(n,{view:new g(n.data)})).data._id:n.data.level>h.data.level?(h.data.persist&&m.push(h.data),h.view.hide(),h=s.extend(n,{view:new g(n.data)}),n.data._id):n.data.level===h.data.level?n.data.topic!==h.data.topic?(m.push(n.data),n.data._id):null:n.data.level<h.data.level&&n.data.topic===h.data.topic?null:(m.push(n.data),n.data._id)}},i.exports.hideAndMoveToNextMessage=b,i.exports.hide=function(e){if(!s.isEmpty(h)&&h.data._id===e)return b();e&&m.removeById(e)}}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),s=n(19),a=n(15),l=n.n(a),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var d=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return s.el=r.a.createRef(),s.state={isOverflowed:!1},l()(s),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),u(t,[{key:"changeStateIfOverflow",value:function(){var e=this.el&&this.el.current,t=e&&e.offsetWidth<e.scrollWidth;this.state.isOverflowed!==t&&this.setState({isOverflowed:t})}},{key:"componentDidMount",value:function(){this.changeStateIfOverflow()}},{key:"componentWillUpdate",value:function(){this.changeStateIfOverflow()}},{key:"render",value:function(){var e=this.props,t=e.value,n=(e.symbol,e.dispatch,function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["value","symbol","dispatch"]));return this.state.isOverflowed?r.a.createElement(n.as,c({"aria-label":t,"data-tooltip-align":"bottom-start","data-tooltip-classname":"instrument-name","data-tooltip-disable-stop-propagation":!0,ref:this.el},n),t):r.a.createElement(n.as,c({ref:this.el},n),t)}}]),t}(r.a.PureComponent);t.a=Object(o.connect)((function(e,t){var n=t.symbol,i=t.as,r=void 0===i?"span":i;return{value:Object(s.getInstrumentName)(e,n),as:r}}))(d)},function(e,t,n){"use strict";var i=n(3),r=n(5),o=n.n(r),s=n(0),a=n.n(s),l=n(1),c=n.n(l),u=n(46),d=n(49),p=n(142),f=n(389),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(6);var m=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),h(t,[{key:"selectInstrument",value:function(e,t){e.stopPropagation(),e.preventDefault(),store.dispatch(Object(u.setShouldInstrumentBeCentered)(!1)),c.a.delay((function(){return store.dispatch(Object(u.selectInstrumentSymbolAndUpdateUrl)(t))}),10)}},{key:"sortByName",value:function(e){store.dispatch(Object(u.setSymbolsSort)(i.INSTRUMENT_SORT.NAME,e))}},{key:"sortByChange",value:function(e){store.dispatch(Object(u.setSymbolsSort)(i.INSTRUMENT_SORT.CHANGE,e))}},{key:"sortBySentiments",value:function(e){store.dispatch(Object(u.setSymbolsSort)(i.INSTRUMENT_SORT.SENTIMENT,e))}},{key:"toggleFavorite",value:function(e,t){e.preventDefault(),e.stopPropagation(),o.a.trigger("favorites:toggle",t)}},{key:"buy",value:function(e,t){Object(d.isBuyTradable)(t)&&o.a.trigger("ui:new-position",{direction:i.BUY,symbolOrId:t})}},{key:"sell",value:function(e,t){Object(d.isSellTradable)(t)&&o.a.trigger("ui:new-position",{direction:i.SELL,symbolOrId:t})}},{key:"editPosition",value:function(e,t){e.preventDefault(),e.stopPropagation(),store.dispatch(Object(p.editPosition)(t))}},{key:"closePosition",value:function(e,t){e.preventDefault(),e.stopPropagation(),store.dispatch(Object(p.closePosition)(t))}},{key:"cancelOrder",value:function(e,t){e.preventDefault(),e.stopPropagation(),store.dispatch(Object(f.b)(t))}},{key:"editOrder",value:function(e,t){e.preventDefault(),e.stopPropagation(),store.dispatch(Object(f.c)(t))}},{key:"closeInstrumentDetails",value:function(e,t){e.preventDefault(),e.stopPropagation(),o.a.trigger("ui:close-instrument-details",t)}},{key:"openPriceAlerts",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.preventDefault(),e.stopPropagation(),n?o.a.navigate("price-alerts"):o.a.trigger("ui:create-price-alert",t)}},{key:"cancelAllInstrumentOrders",value:function(e,t){e.preventDefault(),e.stopPropagation(),o.a.trigger("instrument:orders:cancel_all",t)}},{key:"closeAllInstrumentPositions",value:function(e,t){e.preventDefault(),e.stopPropagation(),o.a.trigger("instrument:positions:close_all",t)}},{key:"openInstrumentDetails",value:function(e,t){store.dispatch(Object(u.toggleInstrumentDetails)(t))}},{key:"render",value:function(){return null}}]),t}(a.a.Component);t.a=m},function(e,t,n){"use strict";var i=n(138),r=n(310),o=n(0),s=n.n(o),a=n(1),l=n.n(a),c=n(91),u=n.n(c),d=n(7),p=n.n(d),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),h(t,[{key:"render",value:function(){var e,t,n,o=this.props,a=o.title,l=o.message,c=o.onClose,d=o.onOK,h=o.onCancel,m=o.textCancel,g=o.textOK,v=o.children,b=o.hideCancel,_=o.className,y=o.popupProps,E=p()((n=!!_,(t=_)in(e={quant:!0})?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e));return s.a.createElement(r.b,f({popupStyle:E,title:a,onClose:c},y),s.a.createElement("div",{className:"confirm-dialog__content fs-13"},l&&s.a.createElement("div",{className:"message"},u()(l)),v),s.a.createElement("div",{className:"confirm-dialog__actions fs-13"},!b&&s.a.createElement(i.a,{btnType:"cancel",className:"confirm-dialog__action-cancel",onClick:h},__(m)),!b&&s.a.createElement("div",{className:"space"}),s.a.createElement(i.a,{btnType:"primary",className:"confirm-dialog__action-ok",onClick:d},__(g))))}}]),t}(s.a.Component);m.defaultProps={title:"",message:"",hideCancel:!1,onOK:l.a.noop,textCancel:"actions.cancel",textOK:"ok",popupProps:{}},t.a=m},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.a=Object(o.connect)((function(e,t){var n=t.symbol;return{positionsAvailable:void 0!==e.positions.instrumentPositions[n],ordersAvailable:void 0!==e.orders.instrumentOrders[n]}}))((function(e){var t=e.as,n=e.positionsAvailable,i=e.ordersAvailable,o=(e.dispatch,e.children),a=(e.symbol,function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["as","positionsAvailable","ordersAvailable","dispatch","children","symbol"]));return n||i?r.a.createElement(t||"span",s({},a),o):null}))},function(e,t,n){var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};var r=n(0),o=n(18);n(20);e.exports=o({displayName:"exports",getDefaultProps:function(){return{name:"",className:""}},componentDidMount:function(){this.createView()},componentWillUnmount:function(){var e=this;setTimeout((function(){return e.destroyView()}),0)},shouldComponentUpdate:function(e){return e.name!==this.props.name},createView:function(){var e,t,n,r=this.props,o=r.name,s=r.options,a=r.className;o&&(this.viewInstance=new o(i((e={},t=this.props.useParent?"parent":"el",n=this.refs.container,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e),s,{className:a})),!0!==this.viewInstance._rendered&&this.viewInstance.render())},componentDidUpdate:function(){this.redraw()},destroyView:function(){this.viewInstance.destroy(),this.viewInstance=null},redraw:function(){this.destroyView(),this.createView()},render:function(){var e=this.props.className;return r.createElement("div",{ref:"container",className:e})}})},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(0),o=n(1),s=n(83);var a=n(18)({displayName:"Change",getDefaultProps:function(){return{inline:!1,dir:null,value:0,precision:0,pipsPrecision:0,prefix:"",postfix:"",positiveSymbol:"",negativeSymbol:"-",alwaysPrecision:!1,shouldZeroHide:!1,greynessDelay:!1,bold:!1,text:"",className:""}},getInitialState:function(){return{greyness:!1,currentDirection:this.props.dir,value:this.props.value}},componentWillUnmount:function(){this.clearGreynessTimeout()},componentWillMount:function(){this.createGreynessTimeout()},componentWillUpdate:function(e,t){if(!1!==this.props.greynessDelay){var n=e.dir;0!==n&&(t.currentDirection=n,this.createGreynessTimeout())}},clearGreynessTimeout:function(){if(!1!==this.props.greynessDelay){var e=this.fnGreynessDelay;e&&e()}},createGreynessTimeout:function(){var e=this,t=this.props.greynessDelay,n=this.fnGreynessDelay;if(!1!==t){n&&n();var i;this.fnGreynessDelay=(i=setTimeout((function(){return e.setState({currentDirection:0})}),t),function(){i&&clearTimeout(i),e.fnGreynessDelay=null})}},render:function(){var e=this.state,t=this.props,n=Number(t.value),i=0===n?"equally":n>0?"up":"down",a=n>=0?t.positiveSymbol:t.negativeSymbol,l=n%1?t.precision:0,c=!1!==t.precision,u=t.dir,d=t.greynessDelay,p=e.currentDirection,f=(e.greyness,t.text);!0===t.alwaysPrecision&&(l=t.precision),o.isNull(u)||!1===d||(i={"-1":"down",0:"equally",1:"up"}[p]);var h=["change",i,t.className].join(" ");!1===t.value||0!==n||t.shouldZeroHide||null!==u?!o.isNumber(n)||o.isNaN(n)||0===n&&!1===t.alwaysPrecision?n="":0===(n=Math.abs(n))&&t.shouldZeroHide?(n="",f=""):(n=c?n.toFixed(l):String(n),n=function(e){var t=e.val.split(".");return 1===t.length?[e.symbol+e.prefix+t[0]+e.postfix]:(t[1]=t[1]||"",[e.symbol+e.prefix+t[0],".",t[1]+e.postfix])}({symbol:a||"",prefix:t.prefix||"",postfix:t.postfix||"",val:n})):n=[t.prefix,"0.00",t.postfix];var m=void 0;if(!0===t.inline)m=r.createElement("span",{className:h},n);else{if(!n)return null;"%"!==(n=n.join("")).substr(n.length-1)?(n=s.divideValueByPipSize(n,t.pipsPrecision),m=r.createElement("div",{className:h},r.createElement("span",null,n.map((function(e,t){return e.isBigDigits?r.createElement("i",{key:t},e.value):e.value}))))):m=r.createElement("div",{className:h},r.createElement("span",null,n||""))}return m=!0===t.bold?r.createElement("b",null,m):m,f?r.createElement("span",null,f," ",m):m}});i.exports=a}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var o=n(1),s=n(243),a=s.extend({events:function(){return o.extend({},o.result(s.prototype,"events"),{"change select":"onChange","click .dk-option":"onChangeList"})},initialize:function(){s.prototype.initialize.apply(this,arguments),this.defineControl()},defineControl:function(){var e=this.$el.find("select")[0];e&&(this.setName(this.$el.attr("name")),e.onfocus=this.onFocus.bind(this),this.setDefaultValue())},onFocus:function(e){this.setDefaultState()},value:function(e){var t=this.$el.find("select");if(void 0===e)return t.val();t.val(e),this.selectOption(e)},selectOption:function(e){var t="EMPTY"!==e?this.$el.find('li.dk-option[data-value="'+e+'"]').html():this.options.emptyText||__("wizard.form.label.DEFAULT_EMPTY");this.$el.find(".dk-selected").html(t)},disableElement:function(){this.$el.addClass("field-disabled"),this.$el.find("select").attr("disabled",!0)},enableElement:function(){this.$el.removeClass("field-disabled"),this.$el.find("select").removeAttr("disabled")},getDefaultValue:function(){return this.$el.find("select").attr("default-value")},onChangeList:function(e){if(!r(e.currentTarget).hasClass("disabled")){var t=this.$el.find(".dk-select");t.removeClass("dk-select-open-down dk-select-open-up").find(".dk-select-options").attr("aria-expanded",!1),t.find(".dk-selected").html(this.options.getValueFunction(r(e.currentTarget)))[0].focus(),this.options.setValueFunction(t,r(e.currentTarget).attr("data-value"))}},getHtmlTemplate:function(){var e=this.options;if(!e)return!1;var t=e.template;return t?t(o.pick(e,["title","disable","translationKey","options","transformOptionsValue","transformOptionToAriaLabel","isOptionDisabled","transformOptionText","translationPrefix","translationGroupPrefix","emptyText","dependent","overflowOptions","value","name","totalSelectedText","resetText"])):""}});i.exports=a}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){"use strict";var i=n(19),r=n(8),o=n.n(r),s={loadAllInsiders:function(){return o.a.getInsiders()},loadInsider:function(e){return o.a.getInsider(e)}},a="instruments/LOAD_ALL_INSIDERS",l="instruments/LOAD_ALL_INSIDERS_SUCCESS",c="instruments/LOAD_ALL_INSIDERS_ERROR",u="instruments/LOAD_INSIDER",d="instruments/LOAD_INSIDER_SUCCESS",p="instruments/LOAD_INSIDER_ERROR",f="instruments/LOAD_INSIDER_EMPTY_DATA",h=n(1),m=n.n(h),g=n(2),v=n(55),b=n(23),_=n(64),y=function(e){return e.insiders},E=Object(g.a)(y,(function(e){return e.status})),S=Object(g.a)(y,(function(e){return e.ALL})),C=Object(g.a)(y,(function(e){return e.INFO})),w=Object(g.a)([C,b.a],(function(e,t){return e&&e[Object(_.transformSBSymbolToSymbol)(t)]})),O=Object(g.a)(w,(function(e){return!m.a.isEmpty(e)&&e.stockLast3MonthTrend})),T=Object(g.a)(w,(function(e){return!m.a.isEmpty(e)&&e.stockLast3MonthTrendAmount})),P=Object(g.a)([v.isInsidersActivityEnabled,O,T],(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e&&m.a.every(n,(function(e){return m.a.isNumber(e)&&!m.a.isNaN(e)}))}));function k(){return function(e,t){var n=Object(i.getInstrumentSymbolMap)(t());return S(t())?Promise.resolve():e({types:[a,l,c],callApi:function(){return s.loadAllInsiders().then((function(e){return{data:m.a.filter(e.data,(function(e){return!!n[e.symbol]}))}}))}})}}function I(e){return function(t,n){e=Object(_.transformSBSymbolToSymbol)(e);var i=S(n()),r=m.a.findWhere(i,{symbol:e});return r?t({types:[u,d,p],additionalData:{symbol:e},callApi:function(){return s.loadInsider(r.stockTicker)}}):(t({type:f,payload:{additionalData:{symbol:e}}}),Promise.resolve())}}var A=n(3),x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D={ALL:null,INFO:{},status:A.EMPTY};function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments[1],n=t.type,i=t.payload;switch(n){case d:var r=i.additionalData.symbol;return x({},e,{INFO:x({},e.INFO,N({},r,x({},m.a.findWhere(e.ALL,{symbol:r}),i.responsePayload.data)))});case f:var o=i.additionalData.symbol;return x({},e,{INFO:x({},e.INFO,N({},o,null))});case l:return x({},e,{ALL:i.responsePayload.data,status:A.SUCCESS})}return e}var L=n(7),M=n.n(L),j=n(32),F=n.n(j),B=n(0),U=n.n(B),V=n(4),z=n(30);n(280);var q=Object(V.connect)((function(e,t){var n=t.symbol;return{insider:w(e,n)}}))((function(e){var t,n,i,r=e.insider,o=e.className,s=M()((i=!!o,(n=o)in(t={"insiders-shares-amount":!0})?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t)),a=F()(r.totalSellAmount).format("0,0"),l=F()(r.totalBuyAmount).format("0,0");return U.a.createElement(z.c,{title:__("insiders.yearly.shares.amount"),className:s},U.a.createElement("div",{className:"totals"},U.a.createElement("div",{className:"total-sold"},U.a.createElement("span",{className:"action"},__("insiders.sold")),U.a.createElement("span",{className:"value"},a)),U.a.createElement("div",{className:"total-bought"},U.a.createElement("span",{className:"action"},__("insiders.bought")),U.a.createElement("span",{className:"value"},l))))}));var H=Object(V.connect)((function(e,t){var n=t.symbol;return{signalScore:w(e,n).confidenceSignalScore}}))((function(e){var t=e.signalScore,n=e.className;if("na"===(t=t.toLowerCase()))return null;var i,r,o,s=M()((o=!!n,(r=n)in(i={"insiders-signal-direction":!0})?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o,i)),a=t.replace(" ","-"),l=t.replace(" ",".");return U.a.createElement(z.c,{title:__("insiders.stock.insider.signal"),className:s},U.a.createElement("div",{className:"signal-direction"},U.a.createElement("div",null,U.a.createElement("div",{className:"icon-signal icon-"+a})),U.a.createElement("div",{className:"signal-info "+a},__("insiders."+l))))})),$=n(91),G=n.n($),W=n(54),Y=n.n(W),K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},X={SOLD:"Sold",BOUGHT:"Bought"},Q=1,J=0,Z=3,ee="0.0a",te="calendar_monthNames";var ne=Object(V.connect)((function(e,t){var n=t.symbol;return{insider:w(e,n)}}))((function(e){var t,n,i,r,o,s=e.insider,a=e.className,l=M()((i=!!a,(n=a)in(t={"insiders-signal-reasoning":!0})?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t)),c=(r=s,o=r.transactionBuyCount,r.transactionSellCount<o?X.BOUGHT:X.SOLD).toLowerCase(),u=__("insiders.signal.reasoning.count",Math.max(s.transactionSellCount,s.transactionBuyCount),s.transactionDistinctInisdersCount);return U.a.createElement(z.c,{title:__("insiders.signal.reasoning"),className:l},U.a.createElement("div",{className:"insiders-signal-reasoning__content"},U.a.createElement("div",{className:"signal-direction "+c},__("actions."+c)),U.a.createElement("div",{className:"signal-description"},G()(u))))}));function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=Object(V.connect)((function(e,t){var n=t.symbol;return{insider:w(e,n)}}))((function(e){var t=e.insider,n=e.className,i=M()(ie({"insiders-stock-behavior-graph":!0},n,!!n)),r=t&&t.stockLast3MonthChangePercent,o=r&&r.toFixed(2);return m.a.isUndefined(r)?null:U.a.createElement(z.c,{title:__("insiders.stock.behavior"),className:i},U.a.createElement("div",{className:M()(ie({"insiders-behavior-value":!0},r>0?"up":"down",!0))},o+"%"),t.stockLast3MonthChangeChartImg&&U.a.createElement("div",{className:"insiders-behavior-graph"},U.a.createElement("div",{className:"icon-coordinate-plane"},U.a.createElement("img",{src:t.stockLast3MonthChangeChartImg}))))})),oe=n(87);var se=Object(V.connect)((function(e,t){var n=t.symbol;return{insider:w(e,n)}}))((function(e){var t,n,i,r=e.insider,o=e.className,s=M()((i=!!o,(n=o)in(t={"insiders-transactions-type":!0})?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t));return U.a.createElement(z.c,{title:__("insiders.yearly.transactions.type"),className:s},U.a.createElement("div",{className:"totals"},U.a.createElement("div",{className:"total-informative"},U.a.createElement(oe.default,{name:"informative",width:"23",height:"16"}),U.a.createElement("span",null,G()(__("insiders.total.informative",r.discretionaryTransactions)))),U.a.createElement("div",{className:"total-uninformative"},U.a.createElement(oe.default,{name:"uninformative",width:"23",height:"16"}),U.a.createElement("span",null,G()(__("insiders.total.uninformative",r.uninformativeTransactions))))))})),ae=n(33);var le=Object(V.connect)((function(e,t){var n=t.symbol;return{insider:w(e,n)}}))((function(e){var t,n,i,r,o=e.insider,s=e.className,a=M()((i=!!s,(n=s)in(t={"insiders-trend":!0})?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t)),l=(r=o.stockLast3MonthTrendAmount,F()(Math.abs(r)).format(ee).toUpperCase()),c=function(e){return e.stockLast3MonthTrend>0?X.BOUGHT:X.SOLD}(o).toLowerCase(),u=__("insiders.trend.3month",o.description,__("insiders."+c),l);return U.a.createElement(z.c,{title:__("insiders.trend"),className:a,horizontal:ae.default.desktop()},U.a.createElement("div",{className:"trend-dir "+c},G()(u)))})),ce=n(74),ue=n(336),de=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};var fe={chart:{zoomType:!1,spacing:[10,0,0,0],height:168},xAxis:{lineWidth:1,lineColor:"#8e949f",style:{color:ce.TEXT_MUTED_COLOR},labels:{style:{fontSize:"8px"}},tickInterval:1,gridLineWidth:1,gridLineDashStyle:"ShortDot",gridLineColor:"#a4a4a4"},yAxis:[{lineWidth:1,lineColor:"#8e949f",title:{text:__("insiders.graph.transactions"),style:{color:ce.TEXT_MUTED_COLOR,fontSize:"10px",whiteSpace:"nowrap"}},labels:{format:"{value}",style:{color:ce.TEXT_MUTED_COLOR,fontSize:"8px"},x:-3},gridLineColor:"#2a2a2a",gridLineDashStyle:"ShortDot",plotLines:[{color:ce.TEXT_MUTED_COLOR,width:1,dashStyle:"ShortDot",value:0}]},{lineWidth:1,lineColor:"#8e949f",title:{text:__("insiders.graph.stock.price"),style:{color:ce.TEXT_MUTED_COLOR,fontSize:"10px",whiteSpace:"nowrap"}},labels:{format:"{value}",style:{color:"#9e9052",fontSize:"8px"},x:3},gridLineDashStyle:"ShortDot",gridLineColor:"#a4a4a4",tickPixelInterval:50,opposite:!0}],plotOptions:{spline:{lineWidth:1,marker:{enabled:!1}},column:{groupPadding:.5,pointWidth:17,borderWidth:0}},legend:{enabled:!1},tooltip:{style:{color:ce.TEXT_MUTED_COLOR},formatter:function(){var e=this.point.additionalData,t=__("insiders.graph.tooltip",e.discretionaryCount,'<span style="font-weight:bold; color:'+this.color+'"> '+__("actions.buy")+" </span>",e.count-e.discretionaryCount,e.insidersCount);return"<span><b>"+this.key+"</b><br/>"+t+"</span>"}},series:[{name:"",type:"column",color:ce.POSITIVE_COLOR},{name:"",type:"column",color:ce.NEGATIVE_COLOR},{name:"",type:"spline",color:"#9e9052",yAxis:1,enableMouseTracking:!1}]};var he=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),de(t,[{key:"render",value:function(){var e,t,n,i,r,o,s,a,l,c,u,d,p,f,h,g=this.props.className,v=M()((n=!!g,(t=g)in(e={"insiders-yearly-transaction-graph":!0})?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e));return U.a.createElement(z.c,{title:__("insiders.yearly.insider.transactions",""),className:v},U.a.createElement(ue.a,{config:(c=this.props.insider,u=c.stockLastYearTransactions,d=Y.a.splitByComma(__(te)),p=m.a.map(u,(function(e){var t=e.month.split("-"),n=d[t[Q]-1].substring(0,Z)+" "+t[J];return K({},e,{month:n})})).reverse(),f=m.a.map(p,(function(e){return e.month})),h=m.a.map(p,(function(e){return e.price})),i={xData:f,yPositiveColumnData:m.a.map(p,(function(e){var t=e.buyCount;return{y:t,additionalData:{count:t,discretionaryCount:e.discretionaryBuyCount,insidersCount:e.transactionDistinctInisdersCount}}})),yNegativeColumnData:m.a.map(p,(function(e){var t=e.sellCount;return{y:-t,additionalData:{count:t,discretionaryCount:e.discretionarySellCount,insidersCount:e.transactionDistinctInisdersCount}}})),ySplineData:h},r=i.xData,o=i.yPositiveColumnData,s=i.yNegativeColumnData,a=i.ySplineData,l=pe({},fe),l.xAxis.categories=r,l.series[0].data=o,l.series[1].data=s,l.series[2].data=a,pe({},fe))}))}}]),t}(U.a.Component),me=Object(V.connect)((function(e,t){var n=t.symbol;return{insider:w(e,n)}}))(he);n.d(t,"n",(function(){return k})),n.d(t,"o",(function(){return I})),n.d(t,"l",(function(){return R})),n.d(t,"i",(function(){return E})),n.d(t,"h",(function(){return S})),n.d(t,"k",(function(){return O})),n.d(t,"j",(function(){return T})),n.d(t,"m",(function(){return P})),n.d(t,"a",(function(){return q})),n.d(t,"b",(function(){return H})),n.d(t,"c",(function(){return ne})),n.d(t,"d",(function(){return re})),n.d(t,"e",(function(){return se})),n.d(t,"f",(function(){return le})),n.d(t,"g",(function(){return me}))},function(e,t,n){"use strict";var i=n(19),r=n(177),o="hedgeFunds/LOAD_HEDGEFUNDS",s="hedgeFunds/LOAD_HEDGEFUNDS_SUCCESS",a="hedgeFunds/LOAD_HEDGEFUNDS_ERROR",l="hedgeFunds/LOAD_HEDGEFUND_INFO",c="hedgeFunds/LOAD_HEDGEFUND_INFO_SUCCESS",u="hedgeFunds/LOAD_HEDGEFUND_INFO_ERROR",d="hedgeFunds/LOAD_HEDGEFUND_INFO_EMPTY_DATA",p=n(1),f=n.n(p),h=n(2),m=n(55),g=n(23),v=function(e){return e.hedgeFunds},b=Object(h.a)(v,(function(e){return e.status})),_=Object(h.a)(v,(function(e){return e.ALL})),y=Object(h.a)(v,(function(e){return e.INFO})),E=Object(h.a)([y,g.a],(function(e,t){return e&&e[t]})),S=Object(h.a)(E,(function(e){return e&&e[0]})),C=Object(h.a)(S,(function(e){return e&&e.institutionalHoldingSummary||""})),w=Object(h.a)([m.isHedgeFundsEnabled,C],(function(e,t){return e&&!!t}));function O(){return function(e,t){var n=Object(i.getInstrumentSymbolMap)(t());return _(t())?Promise.resolve():e({types:[o,s,a],callApi:function(){return Object(r.loadHedgefunds)().then((function(e){return{data:f.a.filter(e.data,(function(e){return!!n[e.symbol]}))}}))}})}}function T(e){return function(t,n){var i=_(n()),o=f.a.findWhere(i,{symbol:e});return o?t({types:[l,c,u],additionalData:{symbol:e},callApi:function(){return Object(r.loadHedgefund)(o.stockTicker)}}):(t({type:d,payload:{additionalData:{symbol:e}}}),Promise.resolve())}}var P=n(3),k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A={ALL:null,INFO:{},status:P.EMPTY};function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments[1],n=t.type,i=t.payload;switch(n){case s:return k({},e,{ALL:i.responsePayload.data,status:P.SUCCESS});case c:var r=i.additionalData.symbol;return k({},e,{INFO:k({},e.INFO,I({},r,i.responsePayload.data))});case d:var o=i.additionalData.symbol;return k({},e,{INFO:k({},e.INFO,I({},o,null))})}return e}var N=n(0),D=n.n(N),R=n(7),L=n.n(R),M=n(4),j=n(30);n(568);var F=Object(M.connect)((function(e,t){var n=t.symbol;return{hedgeFunds:S(e,n)}}))((function(e){var t,n,i,r=e.className,o=e.hedgeFunds,s=L()((i=!!r,(n=r)in(t={"hedge-funds-confidence-signal":!0})?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t)),a=o.rating.toLowerCase().replace(" ","-"),l=o.rating.toLowerCase().replace(" ",".");return D.a.createElement(j.c,{title:__("hedgefunds.confidence.signal"),className:s,contentClassName:"hedge-funds-confidence-signal__content"},D.a.createElement("div",{className:"hedge-funds-confidence-signal-info"},D.a.createElement("div",{className:a},__("insiders."+l)),D.a.createElement("div",{className:"signal-based-on"},__("hedgefunds.signal.based.on",o.basedOnNumHedgeFunds))),D.a.createElement("div",{className:"hedge-funds-confidence-signal-indicator"},D.a.createElement("div",{className:"indicator"},D.a.createElement("div",{className:"icon-"+a}),D.a.createElement("div",{className:"signal-sold-bought"},D.a.createElement("div",{className:"sold"},__("actions.sold")),D.a.createElement("div",{className:"bought"},__("actions.bought"))))))})),B=n(16),U=n.n(B),V=n(32),z=n.n(V),q=n(394),H=n(74),$=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};var W=.75,Y=864e5,K=7776e6;function X(e){var t=e.xData,n=e.yColumnData,i=e.yLineData,r={tooltip:{enabled:!1},chart:{height:168,zoomType:!1,spacingTop:25,spacingBottom:0,spacingLeft:0,spacingRight:0,events:{render:function(e){var t=e.target,n=t.series[0].points,i=Math.ceil(t.plotWidth/(n.length+1)*W);i!==n[1].pointWidth&&(e.target.series[0].points.forEach((function(e){return e.update({pointWidth:i},!1,!1)})),setTimeout((function(){return t.redraw()}),0))}}},xAxis:{type:"datetime",style:{color:H.TEXT_MUTED_COLOR},tickInterval:K,gridLineWidth:1,gridLineDashStyle:"ShortDot",gridLineColor:"#a4a4a4",startOnTick:!1,lineWidth:1,lineColor:"#8e949f",labels:{formatter:function(){return U()(this.value-Y).format("[Q]Q Y")},style:{fontSize:"9px"}}},yAxis:[{lineWidth:1,lineColor:"#8e949f",title:{text:__("tab.shares"),reserveSpace:!1,textAlign:"left",align:"high",offset:0,rotation:0,y:-10,style:{color:"#a4a4a4",fontSize:"10px",fontWeight:"bold",whiteSpace:"nowrap"}},labels:{formatter:function(){return z()(this.value).format("0a").toUpperCase()},style:{fontSize:"10px",color:H.TEXT_MUTED_COLOR}},gridLineColor:"#2a2a2a",gridLineDashStyle:"ShortDot"},{lineWidth:1,lineColor:"#8e949f",title:{text:__("insiders.graph.stock.price"),reserveSpace:!1,textAlign:"right",align:"high",offset:0,rotation:0,y:-10,style:{color:H.TEXT_MUTED_COLOR,fontSize:"10px",fontWeight:"bold",whiteSpace:"nowrap"}},labels:{format:"{value}",style:{fontSize:"10px"}},gridLineDashStyle:"ShortDot",gridLineColor:"#a4a4a4",tickPixelInterval:50,opposite:!0}],plotOptions:{line:{lineWidth:2,marker:{enabled:!1}},column:{borderWidth:0}},legend:{enabled:!1},series:[{name:"",type:"column",color:H.BRAND_PRIMARY},{name:"",type:"line",color:"#fcb040",yAxis:1,enableMouseTracking:!1}]},o=G({},r);return o.xAxis.categories=t,o.series[0].data=n,o.series[1].data=i,G({},r)}var Q=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),$(t,[{key:"render",value:function(){var e,t,n,i=this.props,r=i.className,o=i.hedgeFunds,s=L()((n=!!r,(t=r)in(e={"hedge-funds-holdings-graph":!0})?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e));return D.a.createElement(j.c,{title:__("hedgefunds.holdings.in")+" "+o.stockTicker,className:s},D.a.createElement(j.b,{config:X(Object(q.b)(this.props.hedgeFunds,5))}))}}]),t}(D.a.Component),J=Object(M.connect)((function(e,t){var n=t.symbol;return{hedgeFunds:S(e,n)}}))(Q),Z=n(91),ee=n.n(Z),te=n(33);var ne=Object(M.connect)((function(e,t){var n=t.symbol;return{hedgeFunds:S(e,n)}}))((function(e){var t,n,i,r=e.className,o=e.hedgeFunds,s=L()((i=!!r,(n=r)in(t={"hedge-funds-trend":!0})?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t)),a=q.c(o),l=q.d(o).toLowerCase(),c=__("hedgefunds.trend.text",__("hedgefunds.trend."+l),a);return D.a.createElement(j.c,{title:__("hedgefunds.text.trend"),className:s,horizontal:te.default.desktop()},D.a.createElement("div",{className:"trend-dir "+l},ee()(c)))}));n.d(t,"i",(function(){return O})),n.d(t,"j",(function(){return T})),n.d(t,"g",(function(){return x})),n.d(t,"e",(function(){return b})),n.d(t,"d",(function(){return _})),n.d(t,"f",(function(){return S})),n.d(t,"h",(function(){return w})),n.d(t,"a",(function(){return F})),n.d(t,"b",(function(){return J})),n.d(t,"c",(function(){return ne}))},function(e,t,n){var i,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};void 0===(i=function(e,t,n){var i={13:"enter",27:"escape"};function o(e,t,n){this.handle=function(e,t,n){return function(o){var s=o.keyCode||o.which,a=i[s],l=t;a&&("object"==(void 0===e?"undefined":r(e))?l=e[a]:a!==e&&(l=null),"function"==typeof l&&l.call(n,o))}}(e,t,n),document.addEventListener("keydown",this.handle,!1)}o.prototype.off=function(){document.removeEventListener("keydown",this.handle),this.handle=null},n.exports=function(e,t,n){return new o(e,t,n)}}.call(t,n,t,e))||(e.exports=i)},,,,,function(e,t){e.exports='<% _.each(errors, function(v, i) { %> <% _.each(v, function(errorMessage) { %> <div class=row> <div class="col-sm-12 error-message"> <i class=icon-warning></i> <%=errorMessage%> </div> </div> <% }); %> <% }); %>'},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var r=n(162),o=n(12),s=n(1),a=n(569).default,l=r.extend({events:function(){return s.extend({},s.result(r.prototype,"events"),{"click .dk-selected":"toggleList",keydown:"keyAction"})},defaultOnClientEvent:function(e){this.closeSelectBox(e)},destroy:function(){r.prototype.destroy.call(this)},getHeightToOpen:function(){var e=this.$el.find(".dk-select-options")[0];return e.offsetHeight+e.offsetTop},toggleList:function(e){var t=o(e.target).parent(),n=t.find(".dk-select-options");if("true"!==n.attr("aria-expanded")){if(t.trigger("click"),t.addClass("dk-select-open-down"),n.attr("aria-expanded",!0),window.innerHeight-t[0].getBoundingClientRect().bottom<n[0].offsetHeight&&(t.removeClass("dk-select-open-down"),t.addClass("dk-select-open-up")),this.parent&&this.options.overflowComponentSelector){var i=this.parent.parentElement.offsetTop+this.getHeightToOpen(),r=a(this.$el,this.options.overflowComponentSelector);i>r.offsetHeight+r.offsetTop&&(t.removeClass("dk-select-open-down"),t.addClass("dk-select-open-up"))}var s=t.find("li");t.find("li.selected");s.on("mouseover",(function(e){s.removeClass("selected"),o(e.currentTarget).addClass("selected")}))}else t.removeClass("dk-select-open-down dk-select-open-up").find(".dk-select-options").attr("aria-expanded",!1);e.target.focus(),e.stopPropagation()},keyAction:function(e){if(o(e.target).hasClass("dk-selected")){var t=o(e.target).parent(),n=t.find("li"),i=t.find("li.selected");(i=this.processKey(e,i,t,n)).length&&!this.options.disableChangeByKeyboard&&(o(e.target).html(this.options.getValueFunction(i)),this.options.setValueFunction(t,i.attr("data-value")),t.removeClass("field-error"))}},shouldClose:function(e){return!(e.target===this.el||this.el.contains(e.target))},closeSelectBox:function(e){if(this.shouldClose(e)){var t=this.$el.find(".dk-select.dk-select-open-down").removeClass("dk-select-open-down"),n=this.$el.find(".dk-select.dk-select-open-up").removeClass("dk-select-open-up");c(t),c(n)}}});function c(e){if(e.length){e.find(".dk-select-options").attr("aria-expanded",!1),e.find(".dk-selected")[0].focus();var t=o(e[0].previousElementSibling).find("select");if("EMPTY"===t.val()){var n=t[0].options[1];e.find(".dk-selected").html(n.text),t.val(n.value).trigger("change"),t.attr("default-value",n.value),o(e).parent().removeClass("field-error"),(e.hasClass("dk-day")||e.hasClass("dk-month")||e.hasClass("dk-year"))&&e.addClass("field-ok")}}}i.exports=l}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},,function(e,t,n){"use strict";n.r(t),n.d(t,"SWITCH_MODE_DROPDOWN",(function(){return i}));var i="settings_dropdown"},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,r){var o=n(0),s=n(18);r.exports=s({displayName:"exports",getDefaultProps:function(){return{type:"default",icon:"",className:"",size:"sm",tag:"button",isDisabled:!1,tooltipText:"",tooltipAlign:"",onClick:function(){}}},onClick:function(e){e.stopPropagation(),this.props.isDisabled||i.isFunction(this.props.onClick)&&this.props.onClick(e)},render:function(){var e=["btn",this.props.className,this.props.isDisabled?"disabled":""];return this.props.icon?e.push("btn-icon"):e.push("btn-"+this.props.type,"btn-"+this.props.size),o.createElement(this.props.tag,{onClick:this.onClick,"aria-label":this.props.tooltipText,"data-tooltip-align":this.props.tooltipAlign,className:e.join(" ")},this.props.icon&&o.createElement("i",{className:["icon","icon-"+this.props.icon].join(" ")}),this.props.children)}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(7),s=n.n(o),a=n(4),l=n(1),c=n.n(l),u=n(49),d=n(15),p=n.n(d),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return p()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),h(t,[{key:"onClick",value:function(e){var t=this.props,n=t.onClick,i=t.cancelable;e.preventDefault(),e.stopPropagation(),i&&n(e)}},{key:"render",value:function(){var e,t,n,i=this.props,o=i.cancelable,a=(i.dispatch,i.symbol),l=i.className,c=(i.onClick,i.children),d=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(i,["cancelable","dispatch","symbol","className","onClick","children"]),p=s()((n=!!l,(t=l)in(e={disabled:!o})?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e));return o||(d.disabled=!0,d["aria-label"]=Object(u.getNotEditableMessage)(a)),r.a.createElement(d.as,f({className:p},d,{onClick:this.onClick}),c)}}]),t}(r.a.Component);m.defaultProps={onClick:c.a.noop,as:"span"},t.a=Object(a.connect)((function(e,t){var n=t.symbol;return{cancelable:Object(u.isOrderCancelable)(e,n)}}))(m)},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(489),s=n(7),a=n.n(s),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(e){var t,n=e.className,i=e.style,s=e.onClick,u=e.icon,d=void 0===u?"icon-marketsX-popup-arrow-left":u,p=e.arrowClass,f=void 0===p?"arrow arrow--left":p,h=a()((c(t={},n,!!n),c(t,f,!!f),t));return r.a.createElement("div",{className:h,style:l({},i),onClick:s},r.a.createElement(o.a,{icon:d}))}},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(489),s=n(7),a=n.n(s),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(e){var t,n=e.className,i=e.style,s=e.onClick,u=e.icon,d=void 0===u?"icon-marketsX-popup-arrow-right":u,p=e.arrowClass,f=void 0===p?"arrow arrow--right":p,h=a()((c(t={},n,!!n),c(t,f,!!f),t));return r.a.createElement("div",{className:h,style:l({},i),onClick:s},r.a.createElement(o.a,{icon:d}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o}));var i="baskets/BASKETS_LOAD",r="baskets/BASKETS_LOAD_SUCCESS",o="baskets/BASKETS_LOAD_ERROR"},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o}));var i="instruments/LOAD_TIPRANKS",r="instruments/LOAD_TIPRANKS_SUCCESS",o="instruments/LOAD_TIPRANKS_ERROR"},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o}));var i="instruments/LOAD_BLOGGERS",r="instruments/LOAD_BLOGGERS_SUCCESS",o="instruments/LOAD_BLOGGERS_ERROR"},,,,,,,,function(e,t,n){e.exports=n.p+"./images/11f1bf57c0a7.svg"},,function(e,t,n){"use strict";n.d(t,"p",(function(){return m})),n.d(t,"q",(function(){return g})),n.d(t,"l",(function(){return v})),n.d(t,"k",(function(){return b})),n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return y})),n.d(t,"n",(function(){return E})),n.d(t,"i",(function(){return S})),n.d(t,"c",(function(){return C})),n.d(t,"d",(function(){return w})),n.d(t,"g",(function(){return O})),n.d(t,"h",(function(){return T})),n.d(t,"j",(function(){return P})),n.d(t,"a",(function(){return k})),n.d(t,"m",(function(){return I})),n.d(t,"o",(function(){return A})),n.d(t,"b",(function(){return x}));var i=n(2),r=n(1),o=n.n(r),s=n(55),a=n(59),l=n(58),c=n.n(l),u=n(42),d=n(64),p=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},f=function(e){return e.news},h=function(e,t){return t},m=Object(i.a)(f,(function(e){return!o.a.isEmpty(e.ALL_NEWS.news)})),g=Object(i.a)([s.isNewsFeedEnabled,f,a.getInstrumentDetailsNormalizedSymbol],(function(e,t,n){return e&&t&&t[Object(d.transformSBSymbolToSymbol)(n)]&&!o.a.isEmpty(t[Object(d.transformSBSymbolToSymbol)(n)].news)})),v=Object(i.a)([f,h],(function(e,t){return e&&e[t]})),b=Object(i.a)(v,(function(e){return e&&e.status})),_=Object(i.a)(v,(function(e){return e&&e.news})),y=Object(i.a)(v,(function(e){return e&&e.count})),E=Object(i.a)(v,(function(e){return e&&e.selectedNewsId})),S=Object(i.a)(v,(function(e){return e&&e.lastUpdated})),C=Object(i.a)(v,(function(e){return e&&e.isEmpty})),w=(Object(i.a)(v,(function(e){return e&&e.enabled})),Object(i.a)(v,(function(e){return e&&e.isFirstLoad}))),O=Object(i.a)(v,(function(e){return e&&e.filter})),T=Object(i.a)(v,(function(e){return e&&e.headlineIds})),P=(Object(i.a)(v,(function(e){return e&&e.pageStatus})),Object(i.a)(v,(function(e){return e&&e.newItemsId}))),k=Object(i.a)(v,(function(e){return e&&e.availableFilters})),I=Object(i.a)(v,(function(e){return e&&e.selectedDropdownFilter})),A=(Object(i.a)(v,(function(e){return e&&e.refCount})),Object(i.a)([v,h,function(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return i}],(function(e,t,n){var i=p(n,1)[0];return e&&e.news[i]||u.b}))),x=Object(i.a)(T,(function(e){return e&&o.a.size(e)>c.a.news.headlines.minPostsCount||!1}))},function(e,t,n){"use strict";n.r(t),n.d(t,"getInvest",(function(){return u})),n.d(t,"getAccountsConfigsData",(function(){return d})),n.d(t,"getAllAccountsObject",(function(){return p})),n.d(t,"isSaxoEnabled",(function(){return f})),n.d(t,"getAllCosmosAccounts",(function(){return h})),n.d(t,"isPortfolioEnabled",(function(){return m}));var i=n(2),r=n(42),o=n(1),s=n.n(o),a=n(3),l=n(9),c=n.n(l),u=function(e){return e.invest},d=Object(i.a)(u,(function(e){return e.ACCOUNTS_CONFIGS})),p=Object(i.a)(d,(function(e){return e.regulationConfigs||r.b})),f=Object(i.a)(p,(function(e){return s.a.has(e,a.PLATFORM_TYPE.SAXO)})),h=Object(i.a)(p,(function(e){return e[a.PLATFORM_TYPE.COSMOS]||r.b})),m=Object(i.a)(h,(function(e){return c.a.isTradingToolEnabled(a.TRADING_TOOLS.PORTFOLIO,!0)&&s.a.some(e,{instrumentType:a.ACCOUNT_TRADING_TYPE.QUANT_RANKS})}))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),s=n(19),a=n(504),l=n(1),c=n.n(l),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.a=Object(o.connect)((function(e,t){var n=t.symbol;return{direction:Object(s.getInstrumentAskDirection)(e,n)}}))((function(e){return r.a.createElement(a.a,u({loading:c.a.isUndefined(e.direction)},e))}))},function(e,t,n){"use strict";var i=n(759),r=n(252),o=n(3),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a={status:o.EMPTY};function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1],n=t.type,i=t.payload;switch(n){case r.c:return s({},e,i.responsePayload.data,{status:o.SUCCESS})}return e}n(477);var c=n(478),u=n(0),d=n.n(u),p=n(7),f=n.n(p),h=n(30),m=n(388);var g=function(e){var t=e.name,n=e.firm,i=e.stars,r=e.recommendation,s=e.date,a=e.bloggerImgUrl,l="",c="",u="";switch(r){case o.SENTIMENT_BULLISH:u="long",c="icon-bullish",l="sentiment.bullish";break;case o.SENTIMENT_BEARISH:u="short",c="icon-bearish",l="sentiment.bearish";break;default:u="hold",c="",l="sentiment.hold"}var p,g,v,b,_,y=f()((v=!!u,(g=u)in(p={"blogger-recommendation__trend-text":!0})?Object.defineProperty(p,g,{value:v,enumerable:!0,configurable:!0,writable:!0}):p[g]=v,p));return d.a.createElement("div",{className:"blogger-recommendation"},d.a.createElement("div",{className:"blogger-recommendation__header"},d.a.createElement("img",{src:a?"https://az712682.vo.msecnd.net/expert-pictures/"+a:m,className:"blogger-recommendation__photo",alt:t}),d.a.createElement("div",{className:"blogger-recommendation__details"},d.a.createElement("div",{className:"blogger-recommendation__name",title:t},t),d.a.createElement("div",{className:"blogger-recommendation__company"},n),d.a.createElement(h.f,{rating:i}))),d.a.createElement("div",{className:"blogger-recommendation__content"},d.a.createElement("div",{className:"blogger-recommendation__icon"},d.a.createElement("i",{className:c})),d.a.createElement("div",{className:"blogger-recommendation__trend"},d.a.createElement("div",{className:y},__(l)),d.a.createElement("div",{className:"blogger-recommendation__date"},__("insiders.days.ago",(b=new Date(s),_=new Date,Math.round((_.getTime()-b.getTime())/864e5)))))))},v=n(1),b=n.n(v),_=n(74),y=n(472),E=n(33),S=n(64),C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},w=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},O=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var P={chart:{plotBorderWidth:0,plotShadow:!1,type:"pie",height:140},colors:_.OPINIONS_COLORS,title:{text:null},tooltip:{enabled:!1},plotOptions:{pie:{allowPointSelect:!1,dataLabels:{enabled:!1},size:100,showInLegend:!0,point:{events:{legendItemClick:function(e){e.preventDefault()}}}},series:{type:"pie",innerSize:"70%",states:{hover:{enabled:!1}}}}},k=function(e){function t(){var e,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return n=i=T(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),i.state={width:100},T(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),O(t,[{key:"getBloggersList",value:function(){var e=this.props,t=e.symbol,n=e.dataOfBloggers;if(b.a.isEmpty(n))return{};var i=b.a.pick(n.stocks,(function(e){return e.symbol===Object(S.transformSBSymbolToSymbol)(t)})),r=b.a.map(i,(function(e,t){return C({ticker:t},e)}));return w(r,1)[0]}},{key:"render",value:function(){var e=this,t=this.getBloggersList();if(!t)return null;var n=t.sites,i=b.a.map(n,(function(e){return{name:e.siteName,y:e.percentageOfSite}})),r=C({},P,{legend:{layout:E.default.mobile()?"vertical":"horizontal",align:"right",verticalAlign:"middle",itemMarginBottom:4,itemStyle:{fontWeight:"normal",fontSize:"12px",color:_.TEXT_MUTED_COLOR},labelFormat:"{percentage:.1f}% {name}",width:!E.default.mobile()&&.7*this.state.width},series:[{colorByPoint:!0,data:i}]});return d.a.createElement("div",null,d.a.createElement(y.a,{handleWidth:!0,refreshMode:"debounce",refreshRate:200,onResize:function(t){return e.setState({width:t})}}),d.a.createElement(h.b,{config:r}))}}]),t}(d.a.Component),I=n(91),A=n.n(I),x=function(e){e.symbol;var t=e.consensus,n=e.bullishRatio,i=e.numOfBloggers,r=e.ticker;return d.a.createElement("div",null,d.a.createElement(h.a,{consensus:t,bullishRatio:n}),d.a.createElement("div",{className:"consensus-text"},A()(__("bloggers.consensus.text",r,i,t))))},N=n(4);var D=Object(N.connect)((function(e,t){var n=t.symbol;return{recommendations:Object(c.c)(e,n)}}))((function(e){var t=e.recommendations,n=e.inSlider,i=b.a.map(t,(function(e,t){return d.a.createElement(h.c,{className:"bloggers-recommendations__item",key:t},d.a.createElement(g,{name:e.bloggerName,firm:e.firmName,stars:e.stars,recommendation:e.recommendation,date:e.recommendationDate,bloggerImgUrl:b.a.parseNull(e.expertPictureUrl)}))}));return d.a.createElement("div",{className:"bloggers-recommendations"},n?d.a.createElement(h.l,{slidesToShow:5},b.a.map(i,(function(e,t){return d.a.createElement("div",{key:"slideKey"+t,className:"slide"},e)}))):d.a.createElement("div",{className:"bloggers-recommendations__list"},i))}));n.d(t,"p",(function(){return i.a})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return c.a})),n.d(t,"i",(function(){return c.d})),n.d(t,"g",(function(){return c.b})),n.d(t,"h",(function(){return c.c})),n.d(t,"l",(function(){return c.g})),n.d(t,"k",(function(){return c.f})),n.d(t,"m",(function(){return c.h})),n.d(t,"n",(function(){return c.i})),n.d(t,"j",(function(){return c.e})),n.d(t,"o",(function(){return c.j})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return D}))},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){n(5);var o=n(9),s=n(125),a=n(451).DEVICES,l=n(1),c=n(3).HTTP_STATUS_CODE;i.exports={addScript:function(e){return new Promise((function(t){var n=document.createElement("script");n.onload=t,n.src=e,document.getElementsByTagName("head")[0].appendChild(n)}))},closeOneTap:function(){googleyolo&&googleyolo.cancelLastOperation()},makeExternalAuth:function(e,t,i){var o=n(6),u=n(285),d={token:e,locale:__("lang"),appSource:a[u.device()],registrationSource:i,params:l.extend({uid:s.getMachineId()},s.getMarketsXTrackingParameter(),s.getAffiliateTracking(),s.getLoginTracking(),s.getReferrer())};return r("input[name='registration[currency]']")&&r("input[name='registration[currency]']:checked").val()&&(d.currency=r("input[name='registration[currency]']:checked").val()),o.externalAuthLogin(d,t).then((function(e){return s.removeAffiliateTracking(),e})).catch((function(e){var t=e.response,i="";if(t.status===c.BAD_REQUEST)switch(t.data.errorCode){case 2026:i=__("create.account.restricted");break;case 2008:i=__("create.account.exist")+'<br><a href="#forgetpassword" id="auth-forgot-password-link">'+__("create.account.exist.have_account")+"</a>";break;case 100001:i=__("social.login.user.empty.email");break;default:i="Unknown error"}else t.status===c.NOT_ACCEPTABLE&&(i=__("login.inappropriateness_score"));var o=l.template(n(242)),s=r(".form .error-block");return s.html(o({errors:[[i]]})),s.css("display","block"),Promise.reject(e)}))},saveSelectedAuthMethod:function(e){localStorage.authMethod=e},getSelectedAuthMethod:function(e){return localStorage.authMethod},isExternalLoginDetected:function(){return l.contains(["google","facebook","tap"],localStorage.authMethod)},externalLogout:function(){if(o.isSocialLoginEnabled()){var e=n(747),t=n(748),i=n(749);return Promise.all([e.logout(),t.logout(),i.logout()]).then((function(){localStorage.removeItem("authMethod")}))}}}}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i);var o=function(e){var t=e.value,n=e.name,i=e.checkedStatus,o=e.onCheck,s=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["value","name","checkedStatus","onCheck"]);return r.a.createElement(s.as,null,r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",value:t,name:n,checked:i,onChange:o}),r.a.createElement("span",null,n)))};o.defaultProps={as:"li"};var s=o,a=n(7),l=n.n(a),c=n(1),u=n.n(c),d=(n(1398),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}());function p(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var f={selected:!0},h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={opened:!1,placeholder:"",options:[],selected:[],searchText:"",text:""},n.onDocumentClick=n.onDocumentClick.bind(n),n.searchHandler=n.searchHandler.bind(n),n.onCheck=n.onCheck.bind(n),n.uncheckAll=n.uncheckAll.bind(n),n.toggle=n.toggle.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),d(t,[{key:"componentDidMount",value:function(){this.normalize(this.props),document.addEventListener("click",this.onDocumentClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.onDocumentClick)}},{key:"onDocumentClick",value:function(e){!this.dropdown.contains(e.target)&&this.state.opened&&this.setState({opened:!1,searchText:""})}},{key:"componentWillReceiveProps",value:function(e){this.normalize(e)}},{key:"toggle",value:function(){this.setState({opened:!this.state.opened})}},{key:"searchHandler",value:function(e){this.setState({searchText:e.target.value})}},{key:"normalize",value:function(e){var t=e.options,n=e.transformOptionValue,i=e.transformOptionText,r=e.selected,o=u.a.map(t,(function(e){return{origin:e,text:i(e),value:n(e),selected:!1}}));this.updateState(o,r)}},{key:"getPlaceholder",value:function(e,t){if(1===e){var n=u.a.find(t,f);return n?n.text:""}return e>1?e+" "+__("tipranks.text.assets_selected"):__(this.props.placeholder)}},{key:"updateState",value:function(e,t){var n=this,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];u.a.isEmpty(t)||u.a.chain(e).filter((function(e){return u.a.contains(t,e.value)})).each((function(e){return e.selected=i}));var r=u.a.size(u.a.groupBy(u.a.where(e,f),"value"));return this.setState((function(){return{options:[].concat(p(e)),countSelected:r,placeholder:n.getPlaceholder(r,e)}})),r}},{key:"onCheck",value:function(e){var t=e.target,n=t.value,i=t.checked,r=this.state.options,o=this.updateState(r,[n],i);this.props.onChange(!o&&this.props.needOrigin?u.a.pluck(r,"origin"):u.a.pluck(u.a.where(r,f),"origin"))}},{key:"uncheckAll",value:function(){var e=this.state.options;u.a.each(e,(function(e){return e.selected=!1})),this.updateState(e),this.props.onChange(this.props.needOrigin?u.a.pluck(e,"origin"):[])}},{key:"getFilteredOptions",value:function(){var e=this.state,t=e.options,n=e.searchText,i=String(n).toLowerCase();return u.a.isEmpty(i)?u.a.uniq(t,(function(e){return e.text})):u.a.chain(t).filter((function(e){return-1!==String(e.text).toLowerCase().indexOf(i)})).uniq((function(e){return e.text})).value()}},{key:"render",value:function(){var e=this,t=this.state,n=(t.countSelected,t.opened),i=t.placeholder,o=t.searchText,a=this.props.inputPlaceholder,c=l()({arrow_up:n,arrow_down:!n});return r.a.createElement("div",{className:"filteredDropdownWrapper",ref:function(t){return e.dropdown=t}},r.a.createElement("div",{className:"defaultOption pane pane__row",onClick:this.toggle},r.a.createElement("div",{className:"pane pane__fluid filteredDropdown__text"},i),r.a.createElement("div",{className:"pane arrowWrapper"},r.a.createElement("div",{className:c}))),n&&r.a.createElement("div",{className:"filterDropdown"},r.a.createElement("div",{className:"filterWrapper"},r.a.createElement("input",{type:"text",className:"filter",placeholder:__(a),onChange:this.searchHandler,value:o}),r.a.createElement("div",{className:"totalSelected"},r.a.createElement("div",{className:"uncheckAll",onClick:this.uncheckAll},__("autochartist.text.uncheck_all"))),r.a.createElement("div",{className:"options"},r.a.createElement("ul",{className:"optionList"},u.a.map(this.getFilteredOptions(),(function(t,n){var i=t.text,o=t.value,a=t.selected;return r.a.createElement(s,{as:"li",name:i,value:o,checkedStatus:a,key:n,onCheck:e.onCheck})})))))))}}]),t}(i.Component);h.defaultProps={options:[],selected:[],inputPlaceholder:"faq.search.placeholder",placeholder:"indigo.wizard.form.label.DEFAULT_EMPTY",transformOptionText:function(e){return e},transformOptionValue:function(e){return e},needOrigin:!0};t.default=h},,,,,,,,,,,,function(e,t,n){(function(i){var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};void 0===(r=function(e,t,i){var r=n(43),s=n(26),a=n(567),l=n(8),c=n(1),u=n(752),d=u.addPriceAlerts,p=u.updatePriceAlerts,f=u.removePriceAlerts,h=r.extend({idAttribute:"id",savedState:{},defaults:function(){return{hash:"",customerId:0,tpid:"",instrumentId:0,alertTypeId:window._app.settings.getPriceAlertsTypes()[0],params:{},baseValue:0,sendTo:{sendInPlatformId:!1,sendEmail:!0,sendSms:!1,sendPush:!1,sendWebPush:!1},frequency:1,status:1,modificationTime:null,occurences:0,instrument:null}},initialize:function(e){var t=n(6),i=c.extend({tpid:t.getPlatformAccountId(),customerId:t.getCustomerId()},e);!c.isUndefined(i.alertTypeId)&&c.isUndefined(i.id)&&c.isUndefined(a.get(i.alertTypeId))&&(i.alertTypeId=this.defaults().alertTypeId),this.set(i,{silent:!0}),this.loadDefaultValuesIfRequired(),this.updateHash(),this.saveState()},loadDefaultValuesIfRequired:function(){var e=this,t=this.getDefaultValue(),n={};c.each(this.getAlertTypeConfig("fieldsNames"),(function(i){(c.isNull(e.get("params")[i])||c.isUndefined(e.get("params")[i]))&&(n[i]=t[i])}),this),this.setParameterValues(n,!0),n={},c.each(this.get("params"),(function(t,i){var r=e.getParameterType(i);c.isUndefined(r)&&(n[i]=void 0)}),this),this.setParameterValues(n,!0)},getId:function(){return this.get("id")},updateHash:function(){this.set({hash:this.calculateHash()})},calculateHash:function(){return c.union(c.values(c.pick(this.attributes,["alertTypeId","instrumentId"])),c.values(c.pick(this.attributes.params,["paramValue1"]))).join("")},getHash:function(){return this.get("hash")},getTradingPlatformId:function(){return this.get("tpid")},getCustomerId:function(){return this.get("customerId")},getInstrumentId:function(){return this.get("instrumentId")},getInstrument:function(){return this.get("instrument")},setInstrument:function(e){var t=e.getId();return e.addPriceAlert(this),this.set({instrumentId:t,instrument:e})},getType:function(){return this.get("alertType")},setType:function(e){var t=e.getId();this.set({alertTypeId:t,alertType:e})},getTypeId:function(){return this.get("alertTypeId")},setTypeId:function(e){var t=parseInt(e),n=a.get(t);this.set({alertTypeId:t,alertType:n})},getParameterType:function(e){var t=this.getType().get("params");return c.isUndefined(e)?t:t[e.replace("paramValue","paramValueType")]},formatParameterValue:function(e,t){var n=this.getParameterType(t);if((c.isUndefined(n)||"string"===n)&&!c.isUndefined(e))return e.toString();if("float"===n){var i=this.getFieldOptions(t);return parseFloat(e).toFixed(i.precision)}return""},getParameterValue:function(e){return c.isUndefined(e)?c.map(this.get("params"),this.formatParameterValue,this):this.formatParameterValue(this.get("params")[e],e)},setParameterValue:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i={};i[e]=t,this.setParameterValues(i,n)},setParameterValues:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];c.each(e,(function(t,n){e[n]=c.isUndefined(t)?t:t.toString()}),this),this.set("params",c.pick(c.extend(this.get("params"),e),(function(e){return!c.isUndefined(e)})),{silent:t}),t||this.trigger("change:params",this.getParameterValue())},getNotificationSettings:function(e){var t=this.get("sendTo");return c.isUndefined(e)?t:!c.isUndefined(t[e])&&t[e]},setNotificationSettings:function(e,t){var n=c.clone(this.get("sendTo"));n[e]=t,this.set("sendTo",n),this.trigger("change:thereIsOneNotification",this.getThereIsOneNotification())},getThereIsOneNotification:function(){return c.some(this.getNotificationSettings())},prepareForServer:function(){var e=c.omit(this.toJSON(),["instrument","alertType","baseValue","modificationTime","hash"]);return c.isNumber(e.instrumentId)||(e.instrumentId=parseInt(e.instrumentId,10)),e},getAlertTypeConfig:function(e,t,n){if(c.isUndefined(this.getType()[e])||c.isUndefined(this.getType().fieldsNames))return 0;var i=c.isFunction(this.getType()[e])?this.getType()[e].bind(this)(t):this.getType()[e];return c.isUndefined(n)?i:i[n]},getDefaultValue:function(e,t){return this.getAlertTypeConfig("defaultValue",t||this.getInstrument(),e)},getFieldOptions:function(e){return this.getAlertTypeConfig("getFieldOptions",this.getInstrument(),e)},getFieldRules:function(e){return this.getAlertTypeConfig("getFieldRules",this.getInstrument(),e)},getRenderClass:function(e){return this.getAlertTypeConfig("renderClass",void 0,e)},getIsFluctuate:function(e){return this.getAlertTypeConfig("isFluctuate",void 0,e)},getParamsList:function(e){return this.getAlertTypeConfig("fieldsNames",void 0,e)},getParamTemplate:function(e){return this.getAlertTypeConfig("templates",void 0,e)},getParamTemplateData:function(e){return this.getAlertTypeConfig("templatesData",void 0,e)},isAvailableOnServer:function(){return!c.isUndefined(this.get("id"))},set:function(e,t){var n={};!c.isUndefined(e.instrumentId)&&c.isUndefined(e.instrument)&&(n.instrument=s.getInstrumentById(e.instrumentId),n.instrument.addPriceAlert(this)),!c.isUndefined(e.alertTypeId)&&c.isUndefined(e.alertType)&&(n.alertType=a.get(e.alertTypeId),c.isUndefined(n.alertType)),r.prototype.set.apply(this,[c.extend(e,n),t])},save:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isAvailableOnServer()){var n=this.prepareForServer();return this.rollbackState(!0),l.priceAlertsUpdate(this.getId(),n).then((function(n){store.dispatch(p(o({},n.data))),e.set(n.data,{silent:t}),e.updateHash()}))}return l.priceAlertsAdd(this.getTradingPlatformId(),this.prepareForServer()).then((function(n){store.dispatch(d(o({},n.data))),e.set(n.data,{silent:t}),e.updateHash(),window.dispatchEvent(new CustomEvent("price-alerts:update-symbol-status",{detail:{symbol:e.getInstrument().getSymbol(),status:!0}}))}))},remove:function(){var e=this;if(this.trigger("delete",this),this.isAvailableOnServer())return l.priceAlertsDelete(this.getId()).then((function(t){store.dispatch(f({priceAlertId:t.data.id,instrumentId:e.getInstrumentId()})),window.dispatchEvent(new CustomEvent("price-alerts:update-symbol-status",{detail:{symbol:e.getInstrument().getSymbol(),status:!!e.getInstrument().getPriceAlerts().length}}))}))},clone:function(){return new h(c.omit(this.prepareForServer(),["id"]))},saveState:function(){this.savedState=this.toJSON()},rollbackState:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.set(this.savedState,{silent:e})}});i.exports=h}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){},function(e,t,n){(function(i){var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};void 0===(r=function(e,t,i){var r=n(162),s=n(1),a=n(422),l=n(148),c=n(1396),u=n(761),d=a.extend({initialize:function(e){a.prototype.initialize.apply(this,arguments),this._value=e.value},onFocus:function(e){this.setState({pristine:!1,focus:!0}),this.trigger("focus",this,!0)},onBlur:function(){this.setState({focus:!1}),this.trigger("focus",this,!1)},value:function(e){return void 0!==e&&(this._value=e=this.filter(e,this._value)),a.prototype.value.call(this,e)},filter:function(e,t){var n=String(e);if(!s.isEmpty(n)){var i=n.split("."),r=Number(i[0]);n=s.size(i)>1?r+"."+i[1]:r}var o=this.options,a=o.intMax,l=o.precision,c="^\\s*\\d{0,"+a+"}";return l>0&&(c+="\\.?\\d{0,"+l+"}"),c+="\\s*$",new RegExp(c).test(String(n))?n:t}}),p=r.extend({className:"field field-type-spin-number flex flex-row",prevValue:"",events:function(){return this.addEvents(r)({"click .spin-number__control-up":"up","click .spin-number__control-down":"down","mousedown .spin-number__control-slide":"startSlide","keydown input":"keyDown",mousewheel:"mouseWheel"})},initialize:function(e){var t=this;e=s.extend({},{name:s.uniq("spin-"),value:"",step:1,intMax:10,minValue:0,precision:0,filter:function(e){return e}},e),r.prototype.initialize.apply(this,arguments),this.drag=u({onStart:function(){return{initial:parseInt(t.input.value(),10)||0}},onDrag:function(e){return e.dirY<0?t.down():e.dirY>0&&t.up()}})},value:function(e,t){return void 0!==e&&(e=this.minmax(e),this.input.value(e),this.input.setDefaultValue(e),!0!==t&&this.fireChangeEvent()),this.input.value(e)},minmax:function(e){var t=this.options,n=t.minValue,i=t.maxValue,r=t.precision;return void 0!==e&&s.isNumber(e)&&(s.isNumber(n)||s.isNumber(i))&&(e<n?e=n:e>i&&(e=i),e=Number(e).toFixed(r)),e},silentValue:function(e){return this.value(e,!0)},getHtmlTemplate:function(){return(this.options&&this.options.template||s.template(c))({disable:this.options.disable})},render:function(){var e=this;this.$el.html(this.getHtmlTemplate());var t={translationKey:"",disable:!1,title:__("wizard.form.label.DEFAULT_EMPTY"),defaultValue:this.options.value},n={template:l.inputBox,name:this.options.name+"__input",type:"text"};return this.input=this.addChildView(".spin-number__input-container",d,s.extend({},t,this.options,n)),this.input.$el.addClass("no-bg"),this.listenTo(this.input,"change",(function(t,n){return e.trigger("change",e,n)})),this.listenTo(this.input,"focus",(function(t,n){return e.trigger("focus",e,n)})),this.input.update(),this.options.disable&&this.disableElement(),this},disableElement:function(){this.input&&this.input.disable(),this.$el.addClass("field-disabled")},enableElement:function(){this.input&&this.input.enable(),this.$el.removeClass("field-disabled")},filter:function(e){if(void 0!==e)return Number(e)},up:function(){this.setState({pristine:!1});var e=Number(this.input.value())+this.options.step;e=this.minmax(e),this.setValueWithFireChangeEvent(e)},down:function(){this.setState({pristine:!1});var e=Number(this.input.value())-this.options.step;e=this.minmax(e),this.setValueWithFireChangeEvent(e)},startSlide:function(e){this.drag.start(e)},keyDown:function(e){if(!this.isDisabled()&&this.input.state.focus){var t=e.keyCode||e.which;40===t&&this.down(),38===t&&this.up()}},mouseWheel:function(e){e.preventDefault(),!this.isDisabled()&&this.input.state.focus&&(e.deltaY>0?this.down():this.up())},setOptions:function(e){r.prototype.setOptions.apply(this,arguments),this.input.setOptions(o({},e))}});i.exports=p}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},,,,function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(71).default;i.exports.device=function(){return r.tablet()?r.ios()?"iOSTabletWrapper":"androidTabletWrapper":r.mobile()?r.ios()?"iOSMobileWrapper":"androidMobileWrapper":"desktop"}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(18),s=n.n(o),a=n(4),l=n(32),c=n.n(l),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.a=Object(a.connect)((function(e,t){var n=t.positionCode,i=e.positions.OPEN_POSITION[n];return{value:i&&i.quantity}}))(s()({render:function(){var e=this.props,t=e.as,n=e.value,i=(e.dispatch,e.positionCode,e.abs),o=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["as","value","dispatch","positionCode","abs"]);return r.a.createElement(t||"span",u({},o),n&&c()(!0===i?Math.abs(n):n).format("0,0.[000]"))}}))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(18),s=n.n(o),a=n(4),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.a=Object(a.connect)((function(e,t){var n=e.orders.ORDER[t.orderId];return{value:n&&__("type."+String(n.type).toUpperCase())}}))(s()({render:function(){var e=this.props,t=e.as,n=(e.orderId,e.value),i=(e.dispatch,function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["as","orderId","value","dispatch"]));return r.a.createElement(t||"span",l({},i),n)}}))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(18),s=n.n(o),a=n(4),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.a=Object(a.connect)((function(e,t){var n=e.orders.ORDER[t.orderId];return{value:n&&__("actions."+(n.quantity>0?"buy":"sell"))}}))(s()({render:function(){var e=this.props,t=e.as,n=(e.orderId,e.value),i=(e.dispatch,function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["as","orderId","value","dispatch"]));return r.a.createElement(t||"span",l({},i),n)}}))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(18),s=n.n(o),a=n(4),l=n(3),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.a=Object(a.connect)((function(e,t){var n=e.orders.ORDER[t.orderId],i=(n&&n.quantity)>0?l.BUY:l.SELL,r=n&&n.type;return{value:"STOP"===r&&i===l.BUY||"LIMIT"===r&&i===l.SELL?__("order.above",""):__("order.below","")}}))(s()({render:function(){var e=this.props,t=e.as,n=(e.orderId,e.value),i=(e.dispatch,function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["as","orderId","value","dispatch"]));return r.a.createElement(t||"span",c({},i),n)}}))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),s=n(81),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.a=Object(o.connect)((function(e,t){var n=t.id;return{value:Object(s.l)(e,n)||null}}))((function(e){var t=e.value,n=(e.dispatch,e.as),i=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["value","dispatch","as"]);return r.a.createElement(n||"span",a({},i),t)}))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),s=n(114),a=n.n(s),l=n(81),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.a=Object(o.connect)((function(e,t){var n=t.id;return{value:Object(l.i)(e,n)||null}}))((function(e){var t=e.value,n=(e.dispatch,e.as),i=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["value","dispatch","as"]),o=a.a.servicesDate(t);return r.a.createElement(n||"span",c({},i),t?o:t)}))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),s=n(81),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.a=Object(o.connect)((function(e,t){var n=t.id;return{value:Object(s.k)(e,n)||"Forexlive.com"}}))((function(e){var t=e.value,n=(e.dispatch,e.as),i=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["value","dispatch","as"]);return r.a.createElement(n||"span",a({href:t,className:"item-source"},i),t)}))},function(e,t,n){"use strict";var i=n(0),r=n.n(i);n(1376);t.a=function(e){var t=e.children,n=e.className,i=void 0===n?"":n,o=e.style,s=void 0===o?"primary":o,a=e.icon,l=e.type,c=void 0===l?"button":l,u=e.disabled,d=e.onClick;return r.a.createElement("button",{className:"btn btn-"+s+" settings-button "+i,onClick:d,type:c,disabled:u},a&&r.a.createElement("span",{className:"settings-button__icon"},a),t)}},,,,,,function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s}));var i="orders/ORDER",r="orders/CANCEL_ORDER",o="orders/EDIT_ORDER",s="orders/CANCEL_ALL_ORDERS_BY_SYMBOL"},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=function(){return localStorage.getItem("Education")?JSON.parse(localStorage.getItem("Education")):{}},r=function(e){return localStorage.setItem("Education",JSON.stringify(e))}},,function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),s=n(19),a=n(141),l=n(49),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=(e.dispatch,e.children,e.symbol,e.precision),n=e.pipsPrecision,i=e.ask,o=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["dispatch","children","symbol","precision","pipsPrecision","ask"]),s=Object(l.getFormattedPrice)(i,t,n);return r.a.createElement(o.as,o,s)}}]),t}(a.a);t.a=Object(o.connect)((function(e,t){var n=t.symbol,i=t.as,r=void 0===i?"span":i;return{precision:Object(s.getInstrumentPrecision)(e,n),pipsPrecision:Object(s.getInstrumentPipsPrecision)(e,n),ask:Object(s.getInstrumentAsk)(e,n),as:r}}))(u)},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),s=n(7),a=n.n(s),l=n(19),c=n(1),u=n.n(c);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=Object(o.connect)((function(e,t){var n=t.symbol,i=t.as,r=void 0===i?"span":i,o=t.up,s=t.down,a=Object(l.getInstrumentPercentChange)(e,n);return{value:a?a.change:"",sign:a?a.sign:"",dir:a?a.dir:0,as:r,up:o||"up",down:s||"down"}}))((function(e){var t,n=e.value,i=e.sign,o=e.dir,s=e.up,l=e.down,c=e.className,p=e.showDir,f=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["value","sign","dir","up","down","className","showDir"]),h=a()((d(t={},s,o>0),d(t,l,o<0),d(t,c,!!c),t)),m=Number(n),g=u.a.isNumber(m)?i+m.toFixed(2)+"%":0;return p?r.a.createElement(f.as,{className:h},"("+g,r.a.createElement("span",{className:"caret caret--"+(o>0?"up":"down")}),")"):r.a.createElement(f.as,null,g)}))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(7),s=n.n(o),a=n(4),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=Object(a.connect)((function(e,t){var n=e.user,i=n.favoriteInstrumentSymbols;return{consist:n.favoriteInstrumentSymbolsCount&&i[t.symbol]}}))((function(e){var t,n=e.className,i=e.consist,o=e.yes,a=e.no,u=(e.symbol,e.dispatch,e.yesComponent),d=e.noComponent,p=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["className","consist","yes","no","symbol","dispatch","yesComponent","noComponent"]);if(u&&d)return i?u:d;var f=s()((c(t={},o,i),c(t,a,!i),c(t,n,!!n),c(t,"cursor--pointer",!0),c(t,"autotests-action-favorite",!0),t));return r.a.createElement(p.as,l({className:f},p))}))},function(e,t,n){"use strict";n.r(t);var i=n(250),r=n(1),o=n.n(r),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};var a={allBaskets:[],mapBySymbol:{}};function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1],n=t.type,r=t.payload;switch(n){case i.c:var l=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r.responsePayload)),c=o.a.indexBy(l,"instrumentSymbol");return s({},e,{allBaskets:l,mapBySymbol:c})}return e}var c=n(608),u=n(2),d=n(191),p=n(23),f=function(e){return e.basket},h=Object(u.a)(f,(function(e){return e.mapBySymbol})),m=Object(u.a)([h,p.a],(function(e,t){return e[t]})),g=Object(u.a)(m,(function(e){return!o.a.isEmpty(e)})),v=Object(u.a)(m,(function(e){return e&&e.instruments})),b=Object(u.a)([v,function(e){return e}],(function(e,t){return o.a.some(e,(function(e){return Object(d.t)(t,e.instrumentSymbol)}))})),_=n(0),y=n.n(_),E=n(16),S=n.n(E),C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},w=function(e){var t=e.basket,n=e.detailedInfo,i=S()(t.instrumentStartTime).utc().format("DD/MM/YYYY"),r=[],s=[],a=n?y.a.createElement("div",{className:"info-texts"},y.a.createElement("span",null,__("blend.start-date"),":"),y.a.createElement("span",null,i),y.a.createElement("span",null,__("blend.start-price"),":"),y.a.createElement("span",null,t.instrumentStartMidPrice)):null;return t.instruments.forEach((function(e,t){var n=t>24?{background:"hsl("+o.a.random(0,255)+", 50%, 50%)"}:{},i=C({width:e.instrumentWeight+"%"},n);r.push(y.a.createElement("span",{style:i,key:"bar-"+t})),s.push(y.a.createElement("span",{key:"label-"+t},y.a.createElement("i",{className:"label-color",style:n}),e.displayName," ",e.instrumentWeight,"%"))})),y.a.createElement("div",{className:"relation"},y.a.createElement("div",{className:"texts"},s),y.a.createElement("div",{className:"bar"},r),a)},O=n(4),T=(n(763),Object(O.connect)((function(e,t){var n=t.symbol;return{basket:m(e,n)}}))((function(e){var t=e.basket,n=e.detailedInfo,i=void 0!==n&&n;return t?y.a.createElement("div",{className:"instrument-basket basket-block"},y.a.createElement("div",{className:"basket-bar"},y.a.createElement(w,{basket:t,detailedInfo:i}))):null}))),P=n(659),k=n.n(P),I=n(660),A=n.n(I),x=n(19),N=(n(1421),n(33)),D=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var R=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),D(t,[{key:"createField",value:function(){this.field||(this.field=new k.a({parent:this.refs.el,showOnlyChart:!0,model:new A.a({displayName:this.props.instrumentName,symbol:this.props.symbol,instrumentStartTime:this.props.basket&&this.props.basket.instrumentStartTime}),direction:N.default.mobile()&&"vertical"}),this.field.render())}},{key:"componentDidMount",value:function(){this.createField()}},{key:"componentWillUnmount",value:function(){this.destroyField()}},{key:"componentDidUpdate",value:function(){this.destroyField(),this.createField()}},{key:"destroyField",value:function(){this.field&&(this.field.remove(),this.field=null)}},{key:"render",value:function(){return y.a.createElement("div",{className:"performance-chart"},y.a.createElement("div",{ref:"el"}))}}]),t}(y.a.Component),L=Object(O.connect)((function(e,t){var n=t.symbol;return{basket:m(e,n),instrumentName:Object(x.getInstrumentName)(e,n)}}))(R),M=Object(O.connect)((function(e,t){var n=t.symbol;return{isAvailable:g(e,n)}}))((function(e){var t=e.isAvailable,n=e.children;return t?n:null}));n.d(t,"basketReducer",(function(){return l})),n.d(t,"loadInstrumentBasketsData",(function(){return c.loadInstrumentBasketsData})),n.d(t,"BASKETS_LOAD",(function(){return i.a})),n.d(t,"BASKETS_LOAD_SUCCESS",(function(){return i.c})),n.d(t,"BASKETS_LOAD_ERROR",(function(){return i.b})),n.d(t,"getBaskets",(function(){return f})),n.d(t,"getBasketsMapBySymbol",(function(){return h})),n.d(t,"getBasketBySymbol",(function(){return m})),n.d(t,"isBasketAvailable",(function(){return g})),n.d(t,"getBlendInstruments",(function(){return v})),n.d(t,"isInstrumentInsightsBlendsAvailable",(function(){return b})),n.d(t,"Basket",(function(){return w})),n.d(t,"InstrumentBasket",(function(){return T})),n.d(t,"PerformanceChart",(function(){return L})),n.d(t,"IsInstrumentBasketAvailable",(function(){return M}))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),s=n(19),a=n(504),l=n(1),c=n.n(l),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.a=Object(o.connect)((function(e,t){var n=t.symbol;return{direction:Object(s.getInstrumentBidDirection)(e,n)}}))((function(e){return r.a.createElement(a.a,u({loading:c.a.isUndefined(e.direction)},e))}))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(7),s=n.n(o),a=n(4),l=n(49),c=n(141),u=n(110),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),p(t,[{key:"render",value:function(){var e,t=this.props,n=t.tradable,i=t.symbol,o=t.className,a=t.children,c=(t.dispatch,function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(t,["tradable","symbol","className","children","dispatch"])),p=!n&&Object(l.getNotTradableMessage)(i,u.LONG_ONLY_MODE),h=s()((f(e={},o,!!o),f(e,"disabled",!n),e));return n||(c["aria-label"]=p),r.a.createElement(c.as,d({className:h},c),a)}}]),t}(c.a);t.a=Object(a.connect)((function(e,t){var n=t.symbol,i=t.as,r=void 0===i?"span":i;return{tradable:Object(l.isSellTradable)(n),as:r}}))(h)},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),s=n(19),a=n(141),l=n(49),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=(e.dispatch,e.children,e.symbol,e.precision),n=e.pipsPrecision,i=e.bid,o=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["dispatch","children","symbol","precision","pipsPrecision","bid"]),s=Object(l.getFormattedPrice)(i,t,n);return r.a.createElement(o.as,o,s)}}]),t}(a.a);t.a=Object(o.connect)((function(e,t){var n=t.symbol,i=t.as,r=void 0===i?"span":i;return{precision:Object(s.getInstrumentPrecision)(e,n),pipsPrecision:Object(s.getInstrumentPipsPrecision)(e,n),bid:Object(s.getInstrumentBid)(e,n),as:r}}))(u)},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(7),s=n.n(o),a=n(4),l=n(49),c=n(141),u=n(110),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),p(t,[{key:"render",value:function(){var e,t=this.props,n=t.tradable,i=t.symbol,o=t.className,a=t.children,c=(t.dispatch,function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(t,["tradable","symbol","className","children","dispatch"])),p=!n&&Object(l.getNotTradableMessage)(i,u.SHORT_ONLY_MODE),h=s()((f(e={},o,!!o),f(e,"disabled",!n),e));return n||(c["aria-label"]=p),r.a.createElement(c.as,d({className:h},c),a)}}]),t}(c.a);t.a=Object(a.connect)((function(e,t){var n=t.symbol,i=t.as,r=void 0===i?"span":i;return{tradable:Object(l.isBuyTradable)(n),as:r}}))(h)},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n(498),r=n(0),o=n.n(r),s=n(7),a=n.n(s),l=n(15),c=n.n(l),u=(n(1677),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}());function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return c()(e),e.popupLayoutRef=o.a.createRef(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),u(t,[{key:"close",value:function(){this.popupLayoutRef.current.close()}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.open,r=e.description,s=e.valign,l=e.shadow,c=e.boxClass,u=e.panelClass,p=e.holderClass,h=e.contentClass,m=e.onClose,g=e.noContentShadow,v=(e.hideTitle,e.popupStyle),b=a()(d({"popup-box":!0,"popup-shadow":l,"popup-valign-top":"top"===s,"popup-valign-middle":"middle"===s,"popup-valign-bottom":"bottom"===s,"is-header":t||r},c,!!c)),_=a()(d({"popup-panel":!0},u,!!u)),y=a()(d({"popup-holder":!0},p,!!p)),E=a()(d({"popup-content":!0,"popup-content--no-shadow":!!g},h,!!h));return o.a.createElement(i.a,{open:n,ref:this.popupLayoutRef,popupStyle:v},o.a.createElement("div",{className:b},o.a.createElement("div",{className:_},o.a.createElement("div",{className:y},o.a.createElement("div",{className:E},(t||r)&&o.a.createElement(f,{title:t,description:r,onClose:m||this.close}),this.props.children)))))}}]),t}(o.a.PureComponent);p.defaultProps={open:!0,shadow:!0,valign:"middle",align:"center",boxClass:null,panelClass:null,holderClass:null,contentClass:null,popupStyle:null},t.b=p;var f=function(e){var t=e.title,n=e.description,i=e.children,r=e.onClose;return o.a.createElement("div",{className:"popup-header"},o.a.createElement("div",{className:"popup-header__body"},t&&o.a.createElement("div",{className:"popup-header__title"},t),n&&o.a.createElement("div",{className:"popup-header__description"},n),i),o.a.createElement("div",{className:"popup-header__actions"},o.a.createElement("div",{className:"icon-close-blue cursor--pointer",onClick:r})))},h=function(e){var t=e.children;return o.a.createElement("div",{className:"popup-body"},t)}},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(7),s=n.n(o),a=n(4),l=n(19);t.a=Object(a.connect)((function(e,t){var n=t.symbol,i=t.as,r=void 0===i?"span":i,o=Object(l.getInstrumentPercentChange)(e,n),s=o?o.dir:0;return{up:s>0,down:s<0,equally:0===s,as:r}}))((function(e){var t,n,i,o=e.up,a=e.down,l=e.equally,c=e.className,u=e.children,d=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["up","down","equally","className","children"]),p=s()((i=!!c,(n=c)in(t={up:o,down:a,equally:l})?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t));return r.a.createElement(d.as,{className:p},u)}))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),s=n(7),a=n.n(s),l=n(141),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),u(t,[{key:"render",value:function(){var e,t,n,i=this.props,o=i.children,s=(i.symbol,i.dispatch,i.className),l=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(i,["children","symbol","dispatch","className"]),u=a()((e={selected:this.props.selected},n=!!s,(t=s)in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e));return r.a.createElement(l.as,c({className:u},l),o)}}]),t}(l.a);t.a=Object(o.connect)((function(e,t){var n=t.symbol,i=t.as,r=void 0===i?"span":i;return{selected:e.ui.selectedInstrumentCategorySymbol===n,as:r}}))(d)},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var o=n(20),s=n(1),a=n(1009),l=n(100),c=n(419),u=n(640),d=n(1543),p=n(1544),f=n(1545),h=n(980),m=n(26),g=n(5),v=n(115),b=n(46),_=b.setTradingSection,y=b.setShouldInstrumentBeCentered,E=n(569).default;function S(e,t){var n=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector;if(n)return n.call(e,t)}var C=["instrumentName","sellButton","buyButton","favouriteButton"],w=o.extend({isFocused:!1,events:function(){return s.extend({},s.result(o.prototype,"events"),{"focusin input":"onFocus","keyup input":"updateSearchString","focusout input":"onBlur",keydown:"onKeyDown"})},model:new a,template:s.template(n(1546)),initialize:function(e){this.collection=new l,e=s.extend({},{value:"",autoClear:!0,handleCloseRules:!1,placeholder:__("search.placeholder"),autoRender:!0,columnNames:null,autoFocus:!1},e),o.prototype.initialize.call(this,e),this.bindedKillerFn=this.killerFn.bind(this),this.options.autoRender&&this.render()},render:function(){return o.prototype.render.call(this),this.$el.html(this.template({value:this.options.value,placeholder:this.options.placeholder,inputClassName:this.options.inputClassName})),!0===this.options.autoFocus&&this.$("input")[0].focus(),this},getText:function(){return this.$el.find("input").val()},onFocus:function(e){this.oldValue=this.getText(),this.enableKillerFn()},onBlur:function(){var e=this;setTimeout((function(){e.$("input").val(e.oldValue)}),100)},setOldValue:function(e){this.oldValue=e},closest:function(e,t){for(;e;){if(S(e,t))return e;e=e.parentElement}return null},killerFn:function(e){var t=this.options.onCancel||s.noop;null!==this.closest(e.target,".killer-container")&&(this.closeResultsBlock(),this.disableKillerFn(),t.call(this,this.oldValue),this.options.autoClear&&this.$el.find("input").val(""))},enableKillerFn:function(){this.disableKillerFn(),r(document).on("click",this.bindedKillerFn)},disableKillerFn:function(){r(document).off("click",this.bindedKillerFn)},getColumns:function(e){var t=this,n={instrumentName:{key:"name",type:u,style:{width:"100%"}},sellButton:{key:"instrumentId",type:p,cellProps:{source:"search",onClick:function(){t.closeResultsBlock(),g.trigger("close:mobile:instruments:tree")}}},buyButton:{key:"instrumentId",type:d,cellProps:{source:"search",onClick:function(){t.closeResultsBlock(),g.trigger("close:mobile:instruments:tree")}}},favouriteButton:{key:"instrumentId",type:f}};return s.reduce(e,(function(e,t){return e.push(n[t]),e}),[])},openResults:function(){this.$(".killer-container").removeClass("hidden");var e=this,t=this.options,i=t.handleCloseRules,r=function(e,t){var n=t.get("symbol");m.getInstrumentBySymbol(n)&&(store.dispatch(_()),g.trigger("ui:instrument",n,!0))};this.grid=c({className:"instruments-table",collection:this.collection,empty:h,shouldHideColumns:!0,source:"search",customRowsComponent:n(981),customRowComponent:n(982),columns:t.columns||this.getColumns(t.columnNames||C),onRowClick:function(n,o){var s=o.get("sellTradable")||o.get("buyTradable"),a=t.onRowClick||r;if(store.dispatch(y(!0)),!i||s){var l=!1!==a.apply(e,arguments);(i&&l||!i)&&e.closeResultsBlock()}}},this.$el.find(".results")[0]);var o=this.$el.find(".results");o.css("display","block"),this.isEnoughSpaceToOpen()||o.addClass("results--top"),this.enableKillerFn()},isEnoughSpaceToOpen:function(){if(this.parent&&this.options.overflowComponentSelector){var e=this.parent.parentElement.offsetTop+this.getHeightToOpen(),t=E(this.$el,this.options.overflowComponentSelector);return e<t.offsetHeight+t.offsetTop}return!0},getHeightToOpen:function(){var e=this.$el.find(".results")[0];return e.offsetHeight+e.offsetTop},closeResultsBlock:function(){var e=this;this.closeResults(),setTimeout((function(){return e.grid&&e.grid.destroy()}),0)},closeResults:function(){this.$(".killer-container").addClass("hidden"),this.collection.reset(),v.remove(this.subscribedInstruments),this.$el.find(".results").css("display","none").removeClass("results--top"),this.disableKillerFn()},search:function(e){this.results=this.model.search(e),this.subscribedInstruments=v.update(this.results,this.subscribedInstruments).addedSymbols,this.collection.set(this.results)},updateSearchString:function(e){var t=e.keyCode||e.which,n=e.target.value;if(n.length>=2)13!==t&&40!==t&&38!==t&&(this.search(n),this.openResults());else if(this.closeResultsBlock(),!(this.getText().length>0))return},onKeyDown:function(e){this.grid&&this.grid.element.onKeyDown(e)},setPlaceholder:function(e){this.$el.find("input").attr("placeholder",e)},disable:function(){this.$el.addClass("disabled"),this.$el.find("input").attr("disabled",!0)},enable:function(){this.$el.removeClass("disabled"),this.$el.find("input").removeAttr("disabled")}});i.exports=w}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){"use strict";n.r(t),n.d(t,"getSaxoDetails",(function(){return u})),n.d(t,"getSaxoWebLink",(function(){return d})),n.d(t,"getFirstSaxoAccount",(function(){return p})),n.d(t,"getFirstSaxoId",(function(){return f})),n.d(t,"getFirstSaxoAccountBalance",(function(){return h})),n.d(t,"getFirstSaxoAccountPendingDeposit",(function(){return m}));var i=n(2),r=n(23),o=n(1),s=n.n(o),a=n(42),l=n(157),c=n(3),u=Object(i.a)([l.getSaxoAccountsOnly,r.a],(function(e,t){return s.a.findWhere(e,{accountId:String(t)})||a.b})),d=Object(i.a)(u,(function(e){return e.webLink||"https://dma-qa-fsso.markets.com/sim/login.sso.ashx"})),p=Object(i.a)(l.getSaxoAccountsOnly,(function(e){return s.a.findWhere(e,{tradingAccountType:c.ACCOUNT_TYPE.REAL})||a.b})),f=Object(i.a)(p,(function(e){return e.accountId})),h=Object(i.a)(p,(function(e){return e.balance})),m=Object(i.a)(p,(function(e){return e.pendingDeposit}))},,function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(960),s=(n(1832),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e});t.a=function(e){var t=e.children,n=e.tooltip,i=e.hideArrow,a=e.className,l=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["children","tooltip","hideArrow","className"]);return r.a.createElement(o.a,s({},l,{tooltip:function(e){var t=e.arrowRef,o=e.tooltipRef,s=e.getArrowProps,l=e.getTooltipProps,c=e.placement;return r.a.createElement("div",l({ref:o,className:"react-tooltip-container "+a}),!i&&r.a.createElement("div",s({ref:t,className:"react-tooltip-arrow","data-placement":c})),n)}}),(function(e){var n=e.getTriggerProps,i=e.triggerRef;return r.a.createElement("span",n({ref:i,className:"react-tooltip-trigger"}),t)}))}},,,,,,function(e,t,n){var i;void 0===(i=function(e,t,n){var i=Object.freeze({CUSTOMER_INFO:"customer-info",ACCOUNT_CLASSIFICATION:"account-classification",LEVERAGE:"leverage-settings",SPREAD_REBATE:"spread-rebate",PASSWORD:"change-password",NOTIFICATIONS:"notifications",PLATFORM_FEATURES:"platform-features",TRADING_SETTINGS:"trading-settings",ACCOUNT_LEVEL:"account-level",LOCALIZATION:"localization",VIEW_SETTINGS:"view-settings"});n.exports={SECTION:i}}.call(t,n,t,e))||(e.exports=i)},,,,function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(1503),s=n(70),a=n(169),l=n(118),c=n(751),u=n(567),d=n(377),p=n(6),f=n(1504),h=n(9),m=n(83),g=n(71).default,v=n(26),b=n(279),_=n(1505),y=void 0;y=g.mobile()?r.template(n(1547)):r.template(n(1548));var E=s.extend({isValueFluctuating:!1,previousRateValue:null,selectedAlertTypeId:null,alertTypesList:[],elements:{},form:null,getOptions:function(e){return r.extend({},r.result(s.prototype,"getOptions"),{isHeaderShowed:!0,closeIconStyle:"blue",headerStyle:"wizard",caption:this.model.getId()?__("tab.price-alerts.caption.edit"):__("tab.price-alerts.caption.new"),boxWidth:"550px"},e)},listener:function(e){this.model&&(this.model[e]("change:alertType",this.onAlertTypeUpdated,this),this.model[e]("change:params",this.onParamsUpdated,this),this.model[e]("change:thereIsOneNotification",this.onNotificationsValidationChanged,this)),this.form&&(this.form[e]("field:change:price-alert-type",this.onTypeChanged,this),this.form[e]("field:change:note",this.onNoteChanged,this),this.form[e]("field:change:sendInPlatformId field:change:sendEmail field:change:sendSms field:change:sendPush field:change:sendWebPush",this.onNotificationSettingsChanged,this),this.form[e]("submit",this.onSubmit,this),this.form[e]("cancel",this.onCancel,this)),this.calculationModel[e]("change:rate change:rateDirection",this.onRateUpdated,this)},eventsOn:function(){this.listener("on")},eventsOff:function(){this.listener("off")},initialize:function(e){s.prototype.initialize.apply(this,arguments),this.model.saveState();var t=u.toJSON();this.alertTypesList=r.filter(t,(function(e){return r.isNull(e.alertTypeGroup)})),this.alertTypesList=r.reduce(this.alertTypesList,(function(e,t){return e[t.id]=t,e}),{}),this.alertTypesList=r.reduce(c,(function(e,t){return r.some(t.children,(function(e){return!r.isUndefined(u.get(e))}))&&(e[t.id]=t),e}),this.alertTypesList);var n=u.get(this.model.getTypeId());n.alertTypeGroup?this.selectedAlertTypeId=n.alertTypeGroup:this.selectedAlertTypeId=this.model.getTypeId(),this.calculationModel=new o({instrumentModel:this.model.getInstrument()}),this.render()},onRateUpdated:function(){this.updateRate(),this.updatePercent();var e=this.calculationModel.getRate();if(this.isValueFluctuating&&this.form.field("price-alert-value").isPristine()){var t=e-this.previousRateValue,n=parseFloat(this.model.getParameterValue());this.model.setParameterValue((t+n).toFixed(this.model.getInstrument().getPrecision()))}this.previousRateValue=e},updateRate:function(){var e=this.calculationModel.getRateData();e.value=m.divideValueByPipSize(e.value,this.calculationModel.getPipsPrecision()),this.elements.rate.html(m.formatValueToStringOrComponent(e.value,!0)).removeClass(e.remove).addClass(e.add)},updatePercent:function(){var e=this.calculationModel.getPercentData();this.elements.percent.html(e.value).parent().removeClass(e.remove).addClass(e.add)},onAlertTypeUpdated:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.renderSubCategoryTypes(),this.renderParamsFields(),e){var t={};r.each(this.model.getParamsList(),(function(e){t[e]=this.model.getDefaultValue(e)}),this),this.model.setParameterValues(t)}this.previousRateValue=this.calculationModel.getRate()},onParamsUpdated:function(){r.each(this.model.getParamsList(),(function(e){var t=this.form.getField(e);t&&t.value(this.model.getParameterValue(e))}),this)},onParameterChanged:function(e){this.model.setParameterValue(e.getName(),e.value(),!0),this.onNotificationsValidationChanged(this.model.getThereIsOneNotification()),this.model.getId()&&this.enableSubmitButton(JSON.stringify(this.defaultFormData)!==JSON.stringify(this.form.getData()))},onNoteChanged:function(e){e.$el.find("textarea").val().length>100?(this.enableSubmitButton(!1),e.$el.find("textarea").removeClass("field-ok"),e.$el.find("textarea").addClass("field-error")):(e.$el.find("textarea").removeClass("field-error"),e.$el.find("textarea").addClass("field-ok"),this.enableSubmitButton(!0)),this.model.set(e.getName(),e.value())},onNotificationSettingsChanged:function(e,t){this.model.setNotificationSettings(e.getName(),!0===t)},onNotificationsValidationChanged:function(e){if(!this._pendingWebPushResponse){var t=this.form.validate();this.enableSubmitButton(e&&!t)}},getParamsFieldsHtml:function(e){var t=this.model.getType().getLocalizationKey(),i=[];return r.isNull(this.form)||r.each(this.form.getFieldsList(),(function(e){this.elements.alertParams.find("#"+e.getName()).length&&(this.form.removeField(e.getName()),this.form.off("field:change:"+e.getName(),this.onParameterChanged,this))}),this),r.each(e,(function(e){var o=r.template(n(1549)("./"+this.model.getParamTemplate(e)));i.push(o(r.extend({paramLabel:"tab.price-alerts.description-labels."+t+"."+e,paramHelp:"tab.price-alerts.description-notes."+t+"."+e,paramName:e},this.model.getParamTemplateData(e))))}),this),i.join("")},getSubtypesHtml:function(e){return!r.isNull(this.form)&&this.form.getField("price-alert-subtype",!1)&&(this.form.removeField("price-alert-subtype"),this.form.off("field:change:price-alert-subtype",this.onSubtypeChanged,this)),0===e.length?"":r.template(n(1556))({localizationKey:c[this.selectedAlertTypeId].localizationKey,subtypes:e,selectedAlertTypeId:this.model.getTypeId()})},actualizeParamsFields:function(e){r.isNull(this.form)||(this.form.findFields(this.elements.alertParams),r.each(e,(function(e){this.form.getField(e).setOptions(this.model.getFieldOptions(e)).setRules(this.model.getFieldRules(e)),this.form.on("field:change:"+e,this.onParameterChanged,this)}),this))},renderParamsFields:function(){var e=this.model.getParamsList();this.elements.alertParams.html(this.getParamsFieldsHtml(e)),this.actualizeParamsFields(e)},renderSubCategoryTypes:function(){var e=this,t=u.toJSON();t=r.filter(t,(function(t){return!r.isNull(t.alertTypeGroup)&&t.alertTypeGroup.id===e.selectedAlertTypeId})),this.elements.alertSubtypes.html(this.getSubtypesHtml(t)),r.isNull(this.form)||t.length&&(this.form.findFields(this.elements.alertSubtypes),this.form.on("field:change:price-alert-subtype",this.onSubtypeChanged,this))},getNotificationConfiguration:function(){var e=f.isWebPushDeniedByUser(),t={pushNotificationsNotice:"",smsNotificationsNotice:"",firstDepositCompleted:p.getFirstDeposit(),fullRegistrationCompleted:p.isFullRegistrationCompleted(),webPushSupported:f.isWebPushSupported(),webPushDisabled:e,webPushNotificationsNotice:e?"tab.price-alerts.notification-notices.web-push-blocked":"tab.price-alerts.notification-notices.web-push-allow"};return t.fullRegistrationCompleted||(t.pushNotificationsNotice="tab.price-alerts.notification-notices.finish-registration"),t.firstDepositCompleted||(t.smsNotificationsNotice="tab.price-alerts.notification-notices.first-deposit-required"),t},updateInstrument:function(e){var t=v.getInstrumentBySymbol(e).getId();this.eventsOff(),this.model=new b({instrumentId:t}),this.calculationModel=new o({instrumentModel:this.model.getInstrument()}),this.eventsOn(),this.onRateUpdated(),this.onAlertTypeUpdated(!0)},render:function(){var e=this;s.prototype.render.call(this),this.form&&this.form.destroy(),this.eventsOff();var t=this.getNotificationConfiguration(),n=10!==this.model.getTypeId();this.setContent(y({model:this.model,showNoteBlock:n,calculationModel:this.calculationModel,instrument:this.model.getInstrument(),alertTypes:this.alertTypesList,selectedAlertTypeId:this.selectedAlertTypeId,isGroupSelected:this.alertTypesList[this.selectedAlertTypeId].isGroup,smsNotificationsDisabled:!t.firstDepositCompleted,smsNotificationsNotice:t.smsNotificationsNotice,pushNotificationsDisabled:!t.fullRegistrationCompleted,pushNotificationsNotice:t.pushNotificationsNotice,webPushSupported:t.webPushSupported,webPushNotificationsNotice:t.webPushNotificationsNotice,webPushDisabled:t.webPushDisabled,settings:h,completelyNew:this.options.completelyNew})),this.options.completelyNew&&(this.search=this.addChildView(".price-alert-search-block",_,{name:"search",disabled:!1,value:this.model.getInstrument().getDisplayName(),onChanged:function(t){e.updateInstrument(t)}}));var i=this.$el.find(".current-rate");this.elements={rate:i.find(".rate"),percent:i.find(".percent span"),sentimentRate:this.$el.find(".sentiment .rate"),alertParams:this.$el.find(".price-alert-parameter"),alertSubtypes:this.$el.find(".price-alert-subtypes")},this.form=new a({el:this.$el.find(".form")}),this.eventsOn(),this.onRateUpdated(),this.onAlertTypeUpdated(!1),this.onParamsUpdated(),this.onNotificationsValidationChanged(this.model.getThereIsOneNotification()),this.defaultFormData=this.form.getData(),this.enableSubmitButton(!this.model.getId())},close:function(){this.model.rollbackState(!1),s.prototype.close.call(this)},showConfirmBox:function(e){new l({boxWidth:"100%",maxBoxWidth:"400px",parent:document.body,hideCancelButton:!0,showConfirmCaption:!1,confirmMessage:__(e),confirmOKBtnText:__("actions.close")})},closePopup:function(){r.isFunction(this.options.onClose)&&this.options.onClose(),this.onCancel()},onCancel:function(){this.model.isAvailableOnServer()||this.model.remove(),this.close()},onSubmit:function(){var e=!this.model.isAvailableOnServer();if(d.isSuchAlertAvailable(this.model))return this.showConfirmBox("tab.price-alerts.messages.fail.duplication_error"),!1;this.model.getNotificationSettings("sendWebPush")&&f.subscribeUser(),this.model.save().then(function(){this.model.saveState(),e&&d.add(this.model),this.close(),e?this.showConfirmBox("tab.price-alerts.messages.success"):this.showConfirmBox("tab.price-alerts.messages.edit.success"),this.options.onSuccess()}.bind(this)).catch(function(e){var t="tab.price-alerts.messages.fail",n=!1;400===e.response.status&&void 0!==e.response.data.error&&(n=(t+="."+e.response.data.error)!==__(t)),this.close(),this.showConfirmBox(n?t:"tab.price-alerts.messages.fail")}.bind(this)),this.eventsOff()},onTypeChanged:function(e,t){if(this.selectedAlertTypeId=parseInt(t),u.get(t))return this.model.setTypeId(t),void this.render();var n=this.alertTypesList[t].children;this.model.setTypeId(n[0]),this.render()},onSubtypeChanged:function(e,t){this.model.setTypeId(t),this.enableSubmitButton(!0)},enableSubmitButton:function(e){var t=this.$el.find(".submit");e?t.removeAttr("disabled"):t.attr("disabled","disabled")}});i.exports=E}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(640),o=n(1510),s=n(190),a=n(1511),l=n(1512),c=n(1513),u=n(1514),d=n(455),p=n(1515),f=n(1516),h=n(1517),m=n(1518),g=n(1519),v=n(1520),b=n(1521),_=n(1522),y=n(1523),E=n(1524),S=n(1525),C=n(1527),w=n(1528),O=n(1529),T=n(1530),P=n(1531),k=n(1538),I=n(1540),A=n(1541),x=n(1542),N=n(1),D=function(e,t,n){return(e<t?-1:e>t?1:0)*n},R=function(e,t,n){return e=String(e).toLowerCase(),t=String(t).toLowerCase(),D(e,t,n)},L=null;i.exports={getColumnConfig:function(e){return L||(L={instrumentName:{name:"table.header.symbol",key:"name",type:r,columnProps:{className:"column-instrument-name",sortCompareFn:function(e,t){return R(e.get("name"),t.get("name"),this.sortDirection)}},cellProps:{className:"cell-instrument-name"}},instrumentMiniChart:{name:"table.header.mini-chart",key:"symbol",type:w,columnProps:{className:"column-mini-chart"}},instrumentNameWithChange:{name:"table.header.symbol",key:"name",type:o,columnProps:{className:"column-instrument-name-with-change",sortCompareFn:function(e,t){return R(e.get("name"),t.get("name"),this.sortDirection)}},cellProps:{className:"cell-instrument-name-with-change"}},blockRateWithSellButton:{name:"actions.sell",key:"bid",type:s,direction:"bidDirection",cellProps:{type:"Sell",display:"block",className:"cell-rate-with-button"},columnProps:{className:"column-rate-with-button"}},blockRateWithBuyButton:{name:"actions.buy",key:"ask",type:s,direction:"askDirection",cellProps:{type:"Buy",display:"block",className:"cell-rate-with-button"},columnProps:{className:"column-rate-with-button"}},rateWithSellButton:{name:"actions.sell",key:"bid",type:s,direction:"bidDirection",cellProps:{type:"Sell",className:"cell-rate-with-button"},customColumnComponent:n(784),columnProps:{text:"actions.sell",className:"column-rate-with-button"}},rateWithBuyButton:{name:"actions.buy",key:"ask",type:s,direction:"askDirection",cellProps:{type:"Buy",className:"cell-rate-with-button"},customColumnComponent:n(784),columnProps:{text:"actions.buy",className:"column-rate-with-button"}},pl:{name:"tab.open_positions.column.pl",key:"plOpen",type:c,cellProps:{className:"cell-pl"},columnProps:{className:"column-pl",sortCompareFn:function(e,t){return D(e.get("plOpen"),t.get("plOpen"),this.sortDirection)}}},change:{name:"actions.change",key:"percentChange",type:l,cellProps:{className:"cell-change"},columnProps:{className:"column-change",sortCompareFn:function(e,t){return D(e.get("percentChange"),t.get("percentChange"),this.sortDirection)}}},range:{name:"range",key:"dayHigh",type:O,cellProps:{className:"cell-range"},columnProps:{className:"column-range"}},sentiment:{name:"sentiment.title",key:"sentiment",type:a,cellProps:{tooltipText:"sentiment.text"},columnProps:{className:"column-sentiment",sortCompareFn:function(e,t){var n=e.get("sentiment"),i=t.get("sentiment");return N.isObject(n)?N.isObject(i)?D(i.longs,n.longs,this.sortDirection):-1:1}}},cellEmpty:{name:"",type:u},orderAction:{name:"history.order.direction",key:"side",type:d,columnProps:{className:"column-order-action",sortCompareFn:function(e,t){return D(e.get("side"),t.get("side"),this.sortDirection)}},cellProps:{className:"cell-order-action"},localizationKeyPrefix:"operation.side.",localizationValueToUpperCase:!0,valueLocalizable:!0},orderType:{name:"history.order.type",key:"type",type:d,columnProps:{className:"column-order-type",sortCompareFn:function(e,t){return D(e.get("type"),t.get("type"),this.sortDirection)}},cellProps:{className:"cell-order-type"},localizationKeyPrefix:"report.type.",localizationValueToUpperCase:!0,valueLocalizable:!0},orderPrice:{name:"history.order.entry.price",type:f,columnProps:{className:"column-order-price"},cellProps:{className:"cell-order-price"}},orderPlaceTime:{name:"history.order.entry.time",key:"createdTime",type:A,columnProps:{className:"column-order-place-time",sortCompareFn:function(e,t){return D(e.get("createdTime"),t.get("createdTime"),this.sortDirection)}},customColumnComponent:x,cellProps:{className:"cell-order-place-time"},alwaysInExpandable:!0},orderQuantity:{name:"history.order.lots",key:"quantity",type:m,columnProps:{className:"column-order-quantity"},cellProps:{className:"cell-order-quantity"}},orderModifiedTime:{name:"history.order.time",key:"modifiedTime",type:g,columnProps:{className:"column-order-modified-time",sortCompareFn:function(e,t){return D(e.get("modifiedTime"),t.get("modifiedTime"),this.sortDirection)}},customColumnComponent:x,cellProps:{className:"cell-order-modified-time"}},orderStatus:{name:"history.order.status",key:"lastExecutionStatus",type:d,columnProps:{className:"column-order-last-ex-status",sortCompareFn:function(e,t){return D(e.get("lastExecutionStatus"),t.get("lastExecutionStatus"),this.sortDirection)}},cellProps:{className:"cell-order-status"},localizationKeyPrefix:"history.order.status.",valueLocalizable:!0},orderNumber:{name:"history.order.id",key:"orderChainId",type:d,columnProps:{className:"column-order-order-number",sortCompareFn:function(e,t){return D(e.get("orderChainId"),t.get("orderChainId"),this.sortDirection)}},cellProps:{className:"cell-order-number"}},orderComment:{name:"history.order.reason",key:"statusDescription",type:p,columnProps:{className:"column-order-history-comment"},cellProps:{className:"cell-order-history-comment"},alwaysInExpandable:!0,localizationKeyPrefix:"traderejected.",localizationParams:"statusDescriptionParams",valueLocalizable:!0},positionDirection:{name:"history.order.direction",key:"side",type:d,columnProps:{className:"column-position-direction",sortCompareFn:function(e,t){return D(e.get("side"),t.get("side"),this.sortDirection)}},cellProps:{className:"cell-position-direction"},localizationKeyPrefix:"operation.side.",localizationValueToUpperCase:!0,valueLocalizable:!0},positionEntryPrice:{name:"history.position.entry.price",key:"openPrice",type:h,columnProps:{className:"column-position-entry-price"},cellProps:{className:"cell-position-entry-price"}},positionExitPrice:{name:"history.position.exit.price",key:"closePrice",type:h,columnProps:{className:"column-position-exit-price"},cellProps:{className:"cell-position-exit-price"}},positionEntryTime:{name:"history.position.entry.time",key:"openTime",type:g,columnProps:{className:"column-position-entry-time",sortCompareFn:function(e,t){return D(e.get("openTime"),t.get("openTime"),this.sortDirection)}},customColumnComponent:x,cellProps:{className:"cell-position-entry-time"}},positionExitTime:{name:"history.position.exit.time",key:"closeTime",type:g,columnProps:{className:"column-position-exit-time",sortCompareFn:function(e,t){return D(t.get("closeTime"),e.get("closeTime"),this.sortDirection)}},customColumnComponent:x,cellProps:{className:"cell-position-exit-time"}},positionNumber:{name:"history.position.key",key:"openOrderChainId",type:d,columnProps:{className:"column-position-position-number",sortCompareFn:function(e,t){return D(e.get("openOrderChainId"),t.get("openOrderChainId"),this.sortDirection)}},cellProps:{className:"cell-position-number"},alwaysInExpandable:!0},positionCloseReason:{name:"history.position.close.reason",key:"closeReason",type:d,columnProps:{className:"column-position-close-reason"},cellProps:{className:"cell-position-close-reason"},alwaysInExpandable:!0},priceAlertInstrumentName:{name:"table.header.symbol",type:b,columnProps:{className:"column-instrument-name",sortCompareFn:function(e,t){return R(e.get("instrument").get("name"),t.get("instrument").get("name"),this.sortDirection)}},cellProps:{className:"cell-instrument-name"},minWidth:156},priceAlertType:{name:"tab.price-alerts.grid.columns.type",type:_,columnProps:{className:"column-alert-type",sortCompareFn:function(e,t){return R(__("tab.price-alerts.alert-types."+e.get("alertType").get("localizationKey")),__("tab.price-alerts.alert-types."+t.get("alertType").get("localizationKey")),this.sortDirection)}},cellProps:{className:"cell-alert-type"},minWidth:260},priceAlertAmount:{name:"tab.price-alerts.grid.columns.amount",type:y,columnProps:{className:"column-alert-amount"},cellProps:{className:"cell-alert-amount"},minWidth:104},priceAlertNotifications:{name:"tab.price-alerts.grid.columns.notification-type",type:E,columnProps:{className:"column-alert-notifications"},cellProps:{className:"cell-alert-notifications"},minWidth:200},priceAlertCurrent:{name:"tab.price-alerts.grid.columns.current",type:S,columnProps:{className:"column-alert-current"},cellProps:{className:"cell-alert-current"},minWidth:208},priceAlertActions:{name:"tab.price-alerts.grid.columns.actions",type:C,columnProps:{className:"column-alert-actions"},cellProps:{className:"cell-alert-actions"},minWidth:100},priceAlertNewButton:{type:T},toggleExpandableRow:{type:v,columnProps:{className:"column-toggle"},minWidth:66},animSellButton:{name:"actions.sell",key:"bid",type:P,columnProps:{className:"cell-anim-button-rate block"},cellProps:{className:"cell-anim-button-rate block"}},animBuyButton:{name:"actions.buy",key:"ask",type:k,columnProps:{className:"cell-anim-button-rate block"},cellProps:{className:"cell-anim-button-rate block"}},spreadWithDirection:{name:"",type:I,columnProps:{className:"cell-spread-with-direction"},cellProps:{className:"cell-spread-with-direction"}}}),L[e]},size:{EXTRA_SMALL:768,SMALL:992,MIDDLE:1200},DEFAULT_COLUMN_MIN_WIDTH:100}}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){var i=n(0),r=n(18),o=n(1),s=n(115),a=n(26),l=[],c=[],u=o.debounce((function(){s.update(l,c),l=[],c=[]}),10),d=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o.reduce(String(e).split(","),(function(e,t){return e+" change:"+t}),"")};e.exports=r({displayName:"exports",getDefaultProps:function(){return{value:function(e){return e},properties:""}},getInitialState:function(){var e=a.getInstrumentBySymbol(this.props.symbol);return{attrs:e&&e.attributes||{},properties:""}},componentWillMount:function(){var e=this.props.symbol;this.model=a.getInstrumentBySymbol(e),this.model&&(!function(e){l.push(e),u()}(e),this.model.on(d(this.props.properties),this.change,this))},componentWillUnmount:function(){var e;this.model&&(e=this.props.symbol,c.push(e),u(),this.model.off(d(this.props.properties),this.change,this),this.model=null)},change:function(){this.setState({model:this.model,attrs:this.model.attributes})},render:function(){var e=this.props,t=e.as,n=e.render,r=e.children,s=e.options,a=(e.value,{attrs:this.state.attrs,model:this.model}),l=o.isFunction(s)?s(a):a;return n&&o.isFunction(n)?i.createElement(n,l):t?i.createElement(t,{className:l.className}):o.isFunction(r)?r(l):null}})},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),s=n(88),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.a=Object(o.connect)((function(e,t){var n=t.positionCode;return{value:Object(s.getOpenPositionCostBasisById)(e,n)}}))((function(e){var t=e.value,n=(e.dispatch,e.positionCode,e.children,e.after),i=e.as,o=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["value","dispatch","positionCode","children","after","as"]);return r.a.createElement(i||"span",a({},o),t,n)}))},,,,,,,function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(367),s=n.n(o),a=n(884),l=n.n(a),c=n(1),u=n.n(c),d=n(7),p=n.n(d),f=n(15),h=n.n(f),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={chartConfig:{}},n.defaultConfig={title:{text:""},plotOptions:{pie:{cursor:"pointer"}},chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,backgroundColor:"transparent",style:{fontFamily:"Lato, 'Helvetica Neue', Helvetica, Arial, sans-serif;"}},tooltip:{},credits:{enabled:!1}},h()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),m(t,[{key:"componentDidMount",value:function(){this.setState({chartConfig:u.a.mergeDeep({},this.defaultConfig,this.props.config)})}},{key:"componentWillReceiveProps",value:function(e){u.a.isEqual(e.config,this.props.config)||this.setState({chartConfig:u.a.mergeDeep({},this.defaultConfig,e.config)})}},{key:"render",value:function(){var e=this.state.chartConfig;if(u.a.isEmpty(e))return null;var t,n,i,o=this.props,a=o.afterRender,c=o.className,d=p()((i=!!c,(n=c)in(t={})?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t));return r.a.createElement("div",{className:d},r.a.createElement(l.a,{highcharts:s.a,options:e,callback:a}))}}]),t}(r.a.Component);g.defaultProps={afterRender:u.a.noop,config:{}},t.a=g},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(7),s=n.n(o),a=n(4),l=n(1),c=n.n(l),u=n(49),d=n(15),p=n.n(d),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return p()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),h(t,[{key:"onClick",value:function(e){var t=this.props,n=t.onClick,i=t.editable;e.preventDefault(),e.stopPropagation(),i&&n(e)}},{key:"render",value:function(){var e,t,n,i=this.props,o=i.editable,a=(i.dispatch,i.symbol),l=i.className,c=i.children,d=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(i,["editable","dispatch","symbol","className","children"]),p=s()((n=!!l,(t=l)in(e={disabled:!o})?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e));return o||(d.disabled=!0,d["aria-label"]=Object(u.getNotEditableMessage)(a)),r.a.createElement(d.as,f({className:p},d,{onClick:this.onClick}),c)}}]),t}(r.a.Component);m.defaultProps={onClick:c.a.noop,as:"span"},t.a=Object(a.connect)((function(e,t){var n=t.symbol;return{editable:Object(u.isOrderEditable)(e,n)}}))(m)},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(18),s=n.n(o),a=n(4),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.a=Object(a.connect)((function(e,t){var n=t.orderId,i=e.orders.ORDER[n],r=i&&e.instruments.FX_INSTRUMENT[i._instrumentSymbol],o=i&&i.stopLoss,s=r&&r.precision;return{value:i&&r&&o&&o.fixedPrice,precision:s}}))(s()({render:function(){var e=this.props,t=e.as,n=e.before,i=e.after,o=(e.orderId,e.value),s=e.precision,a=(e.dispatch,function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["as","before","after","orderId","value","precision","dispatch"]));return null===o?null:r.a.createElement(t||"span",l({},a),n,Number(o).toFixed(s),i)}}))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(18),s=n.n(o),a=n(4),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.a=Object(a.connect)((function(e,t){var n=t.orderId,i=e.orders.ORDER[n],r=i&&e.instruments.FX_INSTRUMENT[i._instrumentSymbol],o=i&&i.takeProfit,s=r&&r.precision;return{value:i&&r&&o&&o.fixedPrice,precision:s}}))(s()({render:function(){var e=this.props,t=e.before,n=e.after,i=e.as,o=(e.orderId,e.value),s=e.precision,a=(e.dispatch,function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["before","after","as","orderId","value","precision","dispatch"]));return null===o?null:r.a.createElement(i||"span",l({},a),t,Number(o).toFixed(s),n)}}))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(7),s=n.n(o),a=n(1),l=n.n(a);t.a=function(e){var t=e.value,n=e.bold,i=e.boldZero,o=e.boldPositive,a=e.boldNegative,c=e.children;if(!l.a.isString(c)&&!t)return c||t;var u=parseFloat(t||c);if(l.a.isNaN(u))return c||t;var d=Math.sign(u),p=s()({change:!0,up:1===d,down:-1===d,"text-muted":1!==d&&-1!==d,bold:n||i&&0===d||o&&1===d||a&&-1===d});return r.a.createElement("span",{className:p},c||t)}},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o={};i.exports.get=function(e){if(r.has(o,e))return o[e]},i.exports.put=function(e,t){o[e]=t},i.exports.delete=function(e){r.has(o,e)&&delete o[e]}}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i,r){var o,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();void 0===(o=function(e,t,i){var o=n(1),a=n(70),l=n(5),c=n(6),u=n(8),d=o.template(n(1590)),p=n(124),f=n(9),h=n(785),m=n(786),g=n(579).default,v=n(58),b=n(125),_=n(3),y=_.ERROR,E=_.SUCCESS,S=_.PAY_GATE,C=_.SOLID_PAYMENTS,w=_.ZOTA,O=_.PRAXIS;function T(e){if(e.doFirstDeposit){l.trigger("gtm:deposit",e.totalAmount);var t=c.getCustomerId();t&&(b.trackDcmEvent("first",t),l.trigger("eventos","test:dcm:first"),b.trackFBEvent("Purchase"))}}i.exports.send3rdPartyTracking=T;var P=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return s(e,null,[{key:"eventos",value:function(e,t){var n=t.totalAmount,i=t.TransactionID,r=t.currency,o=t.atmAmount,s=t.doFirstDeposit;var a=c.isCompliance(),u=void 0;t&&(u="cc_card"===t.payment_method);var d=function(t){return l.trigger("eventos","onBoardFlow:"+t+":"+e,{atmAmount:o,totalAmount:n,currency:r,transactionId:i})};s&&u&&!a&&d("depositSuccess1stCcNonComp"),!s||u||a||d("depositSuccess1stPmNonComp"),s||!u||a||d("depositSuccess2ndCcNonComp"),!s&&a&&d("depositSuccess2ndComp")}}]),e}();i.exports.Deposit_eventos=P;var k=a.extend({name:"deposit-popup",getOptions:function(e){return o.extend({},o.result(a.prototype,"getOptions"),{isHeaderShowed:!0,closeIconStyle:"blue",headerBgStyle:"grey",headerStyle:"wizard",type:"default",caption:__("status.deposit_funds"),headerContent:'<span class="deposit-secured"><i class="icon-secure-grey"></i><span>'+__("deposit.secured_by_ssl")+"</span></span>"},e)},formatDepositUrl:function(e,t){var n=v.baseUrl;return e+="&success_url="+encodeURIComponent(n+"deposit.html"),this.model.isBonusApplied()&&(e+="&customField4=33"),e+="&customField6=CosmosWeb"},subscribe:function(){this.messageHandler||(this.messageHandler=this.onDepositResponse.bind(this),r(window).on("message",this.messageHandler))},unsubscribe:function(){this.messageHandler&&(r(window).off("message",this.messageHandler),this.messageHandler=null)},onDepositResponse:function(e){var t=this;if("deposit_failed"===e.data.type)return"4"!==this.parseData(e.data.data).status&&l.trigger("ui:message-box:fail_deposit"),this.close(),void this.unsubscribe();if("deposit"===e.data.type){var n=this.model.get("doFirstDeposit"),i=this.model.getAtmAmount();c.loadUserData().then((function(){c.setFirstDeposit(!0),c.isCompliance()||l.trigger("check:pending:deposit:force")})),this.close(),this.unsubscribe();var s=f.getPaymentsServiceVendor();if(s===S||s===C||s===O?this.depositInfo={totalAmount:this.model.getAmount(),currency:c.getUserCurrency(),doFirstDeposit:n,atmAmount:i,payment_method:"cc_card"}:(this.depositInfo=o.chain(e.data.data.split("&")).map((function(e){return e&&e.split("=")})).compact().object().value(),o.extend(this.depositInfo,{doFirstDeposit:n,atmAmount:i})),T(this.depositInfo),"cc_card"===this.depositInfo.payment_method){var a=new m({depositInfo:this.depositInfo});new h({model:a,parent:document.body})}else P.eventos("display",this.depositInfo),l.trigger("sm","deposit_successful"),l.trigger("funds:deposit:success"),new p({parent:r("body"),text:__("proof_of_payment.dialog.message"),caption:__("proof_of_payment.dialog.header",[this.depositInfo.totalAmount,this.depositInfo.currency]),isHeaderShowed:!1,onOK:function(){return P.eventos("clkClose",t.depositInfo)}});l.trigger("deposit:success",{isFirstDeposit:n})}},choseDepositAmount:function(){var e=this.model.getAmount();return o.isNaN(e)||-1===e||!e?this.model.getDefaultAmount():e},initialize:function(e){a.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:status",this.onStatusChange)},onStatusChange:function(){var e=this.model.get("status");return e===y?(this.showLoadError(),this.close()):e===E?this.render():void 0},showLoadError:function(){l.trigger("ui:message-box",{parent:document.body,text:__("server.request.generic.error.body",__("link.contact_us"))})},render:function(e){var t=this;l.trigger("ui:loading");var n=this.model.get("doFirstDeposit"),i=this.model.getAmount(),r=this.model.getAtmAmount(),o=c.getUserCurrency(),s={amount:this.choseDepositAmount(),country:c.getCountry(),currency:o,locale:g(),bonusApproved:this.model.isBonusApplied()},d=v.baseUrl,p=f.getPaymentsServiceVendor();p===C?(s.successUrl=encodeURIComponent(d+"?path=deposit_sucess&first_deposit="+n+"&totalAmount="+i+"&atmAmount="+r+"&currency="+o),s.failUrl=encodeURIComponent(d+"?path=deposit_failed")):(s.successUrl=encodeURIComponent(d+"deposit.html"),s.failUrl=encodeURIComponent(d+"deposit_failed.html")),p===w&&(s.wrapperSuccessUrl=encodeURIComponent(d+"?path=deposit_sucess&first_deposit="+n+"&totalAmount="+i+"&atmAmount="+r+"&currency="+o),s.wrapperFailUrl=encodeURIComponent(d+"?path=deposit_failed")),u.getDepositUrl(s).then((function(e){l.trigger("ui:loading:hide"),t.$el.removeClass("hidden").addClass("visible"),a.prototype.render.call(t),t.renderFrame(e.data),t.subscribe()})).catch((function(){l.trigger("ui:loading:hide"),t.showLoadError(),t.close()}))},renderFrame:function(e){this.setContent(d(this.getRenderTemplateData())),__eventos("onBoardFlow:cashierDialog:display");var t=this.$el.find("#deposit-frame");t[0].setAttribute("src",e),t.css("visibility","visible")},parseData:function(e){var t={};return e.split("&").forEach((function(e){var n=e.split("=");t[n[0]]=decodeURIComponent(n[1])})),t}});i.exports.DepositPopupView=k}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){"use strict";var i=n(3),r=n(177),o=i.LAST_SEVEN_DAYS,s={loadAnalyticsRecommendations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return Object(r.loadTipRanks)(e)},getConsensusDirection:function(e){return e===i.HOLD?e:-1!==e.indexOf(i.BUY)?i.BUY:i.SELL}};t.a=s},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var i=n(58),r=n.n(i),o=n(140),s=r.a.commentaries.updateInterval,a=null;function l(){return function(){a&&(clearInterval(a),a=null)}}function c(e){return function(e){a||(a=setInterval((function(){return e(Object(o.loadCommentaries)())}),s))}(e),e(Object(o.loadCommentaries)())}},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),s=n(943),a=n.n(s),l=n(39),c=n(50),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),u(t,[{key:"onClick",value:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),this.props.garbageRestore()}},{key:"render",value:function(){var e=this;return this.props.garbage?r.a.createElement("div",{className:"notification-center__undo",onClick:function(t){return e.onClick(t)}},r.a.createElement("img",{className:"ci ci-undo",src:a.a}),__("notification.center.button.undo")):null}}]),t}(r.a.Component);d.defaultProps={garbage:0},t.a=Object(o.connect)((function(e){return{garbage:Object(c.c)(e)}}),(function(e){return{garbageRestore:function(){return e(Object(l.garbageRestore)())}}}))(d)},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(0),r=n.n(i),o=n(4),s=n(509),a=n(500),l=n(50),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"notification-center__tabs"},this.props.tabs.map((function(t){return r.a.createElement(s.b,{key:t,name:t,isActive:e.props.activeTab===t})})),r.a.createElement(a.a,null))}}]),t}(r.a.Component);t.b=Object(o.connect)((function(e){return{tabs:Object(l.i)(e),activeTab:Object(l.b)(e)}}))(u)},function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var i=n(0),r=n.n(i),o=n(4),s=n(1),a=n.n(s),l=n(7),c=n.n(l),u=n(39),d=n(405),p=n.n(d),f=n(260),h=n.n(f),m=n(50),g=n(21),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},b=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var _=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.state={isShouldMessagesBeRead:!0},o.prevMarked=[],o.onDelete=o.onDelete.bind(o),o.onRead=o.onRead.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),b(t,[{key:"shouldReadStateChange",value:function(e){return!(!a.a.isEmpty(this.prevMarked)&&!a.a.isEmpty(e))||JSON.stringify(this.prevMarked)!==JSON.stringify(e)}},{key:"componentWillUpdate",value:function(e){this.props.activeTab!==e.activeTab&&this.setState({isShouldMessagesBeRead:!0})}},{key:"onDelete",value:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),this.props.garbageAddMultiple(this.props.activeTab,this.props.marked.list)}},{key:"onRead",value:function(e){var t=this;e.stopPropagation(),e.nativeEvent.stopImmediatePropagation();var n=this.props.marked,i=this.state.isShouldMessagesBeRead;this.shouldReadStateChange(n.list)?this.setState({isShouldMessagesBeRead:!i},(function(){t.prevMarked=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n.list)),t.props.messagesReadMarked(t.props.activeTab,i)})):this.setState({isShouldMessagesBeRead:!i},(function(){t.props.messagesReadMarked(t.props.activeTab,i)}))}},{key:"render",value:function(){var e=this.state.isShouldMessagesBeRead,t=c()({"notification-center__tab_action-buttons":!0,inactive:!this.props.marked.count});return r.a.createElement("div",{className:t},r.a.createElement("img",v({className:"ci ci-trash",src:p.a,onClick:this.onDelete,"aria-label":__("notification.center.label.delete_selected")},g.LABEL_SHARED_OPTIONS)),e&&r.a.createElement("img",v({className:"ci ci-envelope-opened",src:h.a,onClick:this.onRead,"aria-label":__("notification.center.label.read_selected")},g.LABEL_SHARED_OPTIONS)),!e&&r.a.createElement("img",v({className:"ci ci-envelope",src:h.a,onClick:this.onRead,"aria-label":__("notification.center.label.unread_selected")},g.LABEL_SHARED_OPTIONS)))}}]),t}(r.a.Component);t.b=Object(o.connect)((function(e){return{activeTab:Object(m.b)(e),marked:Object(m.g)(e)}}),(function(e){return{garbageAddMultiple:function(t,n){return e(Object(u.garbageAddMultiple)(t,n))},messagesReadMarked:function(t,n){return e(Object(u.messagesToggleReadSelectedRequest)(t,n))}}}))(_)},,,function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(87),s=(n(1891),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}());var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"flex flex-align-center pane__xfluid rotate-device"},r.a.createElement("div",null,r.a.createElement("div",{className:"flex flex-align-center"},r.a.createElement(o.default,{name:"rotate_device",width:94,height:87})),r.a.createElement("div",{className:"rotate-device__text"},__("rotate.device"))))}}]),t}(i.Component);t.a=a},,function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),s=n(7),a=n.n(s),l=n(1),c=n.n(l),u=n(158),d=n(58),p=n.n(d),f=n(15),h=n.n(f),m=n(530),g=n(33),v=n(39),b=n(405),_=n.n(b),y=n(625),E=n.n(y),S=n(260),C=n.n(S),w=n(21),O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},T=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var P=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return h()(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),T(t,[{key:"onDelete",value:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),this.props.garbageAdd(this.props.type,this.props.message.id),__eventos("onBoardFlow:notificationCenter:deleteMessage",{messageId:this.props.message.id,type:this.props.type})}},{key:"onRead",value:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation();var t=this.props,n=t.type,i=t.message;i.isRead?this.props.messageUnread(n,i.id):(this.props.messageRead(n,i.id),__eventos("onBoardFlow:notificationCenter:markAsRead",{messageId:this.props.message.id,type:this.props.type}))}},{key:"render",value:function(){var e=this.props.message,t=e.title+"\n\r"+e.body;return g.default.desktop()?r.a.createElement("div",{className:"notification-center__action-buttons"},r.a.createElement("img",O({className:"ci ci-trash",src:_.a,onClick:this.onDelete,"aria-label":__("notification.center.label.delete")},w.LABEL_SHARED_OPTIONS)),r.a.createElement(m.CopyToClipboard,{text:t},r.a.createElement("img",O({className:"ci ci-copy",src:E.a,"aria-label":__("notification.center.label.copy")},w.LABEL_SHARED_OPTIONS))),!e.isRead&&r.a.createElement("img",O({className:"ci ci-envelope-opened",src:C.a,onClick:this.onRead,"aria-label":__("notification.center.label.read")},w.LABEL_SHARED_OPTIONS)),e.isRead&&r.a.createElement("img",O({className:"ci ci-envelope",src:C.a,onClick:this.onRead,"aria-label":__("notification.center.label.unread")},w.LABEL_SHARED_OPTIONS))):r.a.createElement("div",{className:"notification-center__action-buttons"},r.a.createElement("img",{className:"ci ci-trash",src:_.a,onClick:this.onDelete}),r.a.createElement(m.CopyToClipboard,{text:t},r.a.createElement("img",{className:"ci ci-copy",src:E.a})),!e.isRead&&r.a.createElement("img",{className:"ci ci-envelope-opened",src:C.a,onClick:this.onRead}),e.isRead&&r.a.createElement("img",{className:"ci ci-envelope",src:C.a,onClick:this.onRead}))}}]),t}(r.a.Component);P.defaultProps={message:{title:"",message:""}};var k,I=Object(o.connect)(void 0,(function(e){return{garbageAdd:function(t,n){return e(Object(v.garbageAdd)(t,n))},messageUnread:function(t,n){return e(Object(v.messageUnreadRequest)(t,n))},messageRead:function(t,n){return e(Object(v.messageReadRequest)(t,n))}}}))(P),A=Object(o.connect)(void 0,(function(e){return{setMessageView:function(t,n){return e(Object(v.messageView)(t,n))}}}))((function(e){var t=e.type,n=e.message,i=e.setMessageView;n.isNew&&c.a.debounce((function(){i(t,n.id)}),p.a.notificationCenter.messages.viewDelay)();var o=a()({"notification-center__message-item_label-new":!0,highlighted:n.isNew});return r.a.createElement("div",{className:o},__("notification.center.message.label.new"))})),x=n(947),N=n.n(x),D=n(948),R=n.n(D),L=n(949),M=n.n(L),j=n(950),F=n.n(j);function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=(B(k={},w.MESSAGE_TYPE_NEW_FEATURE,N.a),B(k,w.MESSAGE_TYPE_ALERT,R.a),B(k,w.MESSAGE_TYPE_TUTORIAL,M.a),B(k,w.MESSAGE_TYPE_PROMOTION,F.a),k),V=function(e){var t=U[e];return t||"#"+t},z=function(e){var t=e.tag;return t?r.a.createElement("div",{className:"notification-center__message-item_type"},r.a.createElement("img",{className:"ci",src:V(t)})):null},q=n(50),H=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.state={isFullMessageAvailable:!1},h()(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),H(t,[{key:"isFullMessageAvailable",value:function(e){return e&&c.a.some([e.action,e.images],(function(e){return!c.a.isEmpty(e)}))||this.isOverflowed(this.refs.title)||this.isOverflowed(this.refs.text)}},{key:"isOverflowed",value:function(e){if(!e)return 0;var t=parseFloat(getComputedStyle(e).lineHeight);return Math.floor(e.scrollHeight/t)>Math.floor(e.clientHeight/t)+1}},{key:"componentDidMount",value:function(){var e=this.isFullMessageAvailable(this.props.message);this.setState({isFullMessageAvailable:e})}},{key:"componentWillUpdate",value:function(e,t){t.isFullMessageAvailable=this.isFullMessageAvailable(e.message)}},{key:"isMarked",value:function(){return c.a.contains(this.props.marked.list,this.props.message.id)}},{key:"onChange",value:function(){var e=this.props,t=e.message,n=e.type;this.isMarked()?this.props.messageUnselect(n,t.id):this.props.messageSelect(n,t.id)}},{key:"onOpen",value:function(){var e=this.props,t=e.message,n=e.type,i=t.id;this.state.isFullMessageAvailable&&(this.props.setActiveMessage(this.props.type,this.props.message),this.props.openActiveMessage(),__eventos("onBoardFlow:notificationCenter:openMessage",{messageId:i,type:n}))}},{key:"render",value:function(){var e,t=this.props,n=t.className,i=t.message,o=t.style,s=t.type;if(!i)return null;var l=a()(($(e={},n,!!n),$(e,"notification-center__message-item",!0),$(e,"marked",this.isMarked()),$(e,"new",i.isNew),$(e,"unread",!i.isRead),e));return r.a.createElement("div",{style:o,className:l},r.a.createElement("div",{className:"notification-center__message-item_checkbox"},r.a.createElement("input",{ref:"checkbox",className:"custom-checkbox",type:"checkbox",name:"message-checkbox-"+i.id,checked:this.isMarked(),id:"message-checkbox-"+i.id,onChange:this.onChange}),r.a.createElement("label",{htmlFor:"message-checkbox-"+i.id})),r.a.createElement("div",{className:"notification-center__message-item_body"},r.a.createElement("div",{className:"notification-center__message-item_content",onClick:this.onOpen},r.a.createElement("div",{ref:"title",className:"notification-center__message-item_title"},r.a.createElement("div",{className:"notification-center__message-item_title-text"},i.title),r.a.createElement(A,{type:s,message:i})),r.a.createElement("div",{ref:"text",className:"notification-center__message-item_text"},i.body),this.state.isFullMessageAvailable&&r.a.createElement("div",{className:"notification-center__message-item_arrow"},r.a.createElement("i",{className:"icon icon-registration-next-arrow"}))),r.a.createElement("div",{className:"notification-center__message-item_footer"},r.a.createElement("div",{className:"notification-center__message-item_footer-left"},r.a.createElement("span",{className:"notification-center__message-item_datetime"},i.publishDate)),r.a.createElement("div",{className:"notification-center__message-item_footer-right"},r.a.createElement(I,{type:s,message:i})))),r.a.createElement(z,{tag:i.tag}))}}]),t}(r.a.Component);G.defaultProps={message:null,marked:{list:[],count:0}};var W=Object(o.connect)((function(e){return{marked:Object(q.g)(e)}}),(function(e){return{messageUnselect:function(t,n){return e(Object(v.messageUnselect)(t,n))},messageSelect:function(t,n){return e(Object(v.messageSelect)(t,n))},setActiveMessage:function(t,n){return e(Object(v.setActiveMessage)(t,n))},openActiveMessage:function(){return e(Object(v.setIsActiveMessageVisible)(!0))}}}))(G),Y=function(){return r.a.createElement("div",{className:"notification-center__message-list-empty"},r.a.createElement("div",null,r.a.createElement("span",{className:"icon-notification-thin"})),r.a.createElement("div",null,__("notification.center.message.list.empty")))},K=n(3),X=n(149),Q=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function J(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Z=function(e){function t(){var e,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return n=i=J(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),i.timer=null,i.state={isShow:!1},J(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Q(t,[{key:"componentDidMount",value:function(){this.delay()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"componentWillReceiveProps",value:function(e){e.status!==this.props.status&&(this.setState({isShow:!1}),this.delay())}},{key:"delay",value:function(){var e=this;this.timer=c.a.delay((function(){return e.show()}),p.a.notificationCenter.loader.displayDelay)}},{key:"show",value:function(){this.timer&&this.setState({isShow:!0})}},{key:"render",value:function(){return this.state.isShow&&this.props.status===K.LOADING?r.a.createElement("div",{className:"notification-center__message-list_preloader"},r.a.createElement(X.a,null)):null}}]),t}(r.a.Component);Z.defaultProps={status:K.SUCCESS};var ee=Object(o.connect)((function(e){return{status:e.notificationCenter.status}}))(Z),te=n(189),ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ie=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oe=p.a.notificationCenter.messages.preloadCount||10,se=p.a.notificationCenter.messages.preloadBefore||0,ae=p.a.notificationCenter.messages.preloadOnScrollDelay||100,le=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.scrollTimer=null,o.state={isActive:!1,isVisible:!0},h()(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ie(t,[{key:"cache",value:function(){var e=this.props.activeTab;return this.cachedCount||(this.cachedCount={}),this.cachedCount[e]||(this.cachedCount[e]={scrollToIndex:0}),this.cachedCount[e]}},{key:"componentWillUpdate",value:function(e){var t=this,n=e.garbage,i=e.messages,r=e.activeTab,o=this.getDelta();this.props.garbage.count<n.count&&o>0&&this.props.messages.count!==this.cache().list&&(this.cache().list=i.count,this.loadMore(r,this.cache().list,o)),this.props.activeTab!==r&&(this.cache().scrollToIndex=0,this.setState({isActive:!1,isVisible:!1}),setTimeout((function(){t.setState({isActive:!0})}),0))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.scrollTimer)}},{key:"getDelta",value:function(){return oe-this.filterDeletedMessages(this.props.messages.list).length}},{key:"loadMore",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:oe;this.cache().prevFrom!==t&&(this.cache().prevFrom=t,this.props.messagesAddOld(e,t,n))}},{key:"loadQueue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.scrollTimer=c.a.delay((function(){var i=t.getDelta()>0?t.getDelta():oe;t.cache().prevFrom!==n&&(t.cache().prevFrom=n,t.props.messagesAddOld(e,n,i))}),ae)}},{key:"onRendered",value:function(e){var t=e.overscanStopIndex,n=e.stopIndex,i=(e.overscanStartIndex,e.startIndex),r=this.props,o=r.activeTab,s=r.messages;i||t!==n||this.loadQueue(o,s.count)}},{key:"onScroll",value:function(e){var t=this.props,n=t.activeTab,i=t.messages,r=e.scrollHeight,o=e.clientHeight,s=e.scrollTop;r<=o||s<this.cache().prevScrollTop&&n===this.prevType||(this.prevType=n,this.cache().prevScrollTop=s,Math.ceil(s)+o>=r-90*se?(clearTimeout(this.scrollTimer),this.cache().scrollToIndex=void 0,this.loadQueue(n,i.count)):clearTimeout(this.scrollTimer))}},{key:"filterDeletedMessages",value:function(e){return c.a.filter(e,(function(e){return!e.isDeleted}))}},{key:"render",value:function(){var e,t=this,n=this.props,i=n.messages,o=n.className,s=n.activeTab,l=this.filterDeletedMessages(i.list),d=Object(te.messagesRestFilterService)(s,l),p=a()((re(e={},o,!!o),re(e,"pane pane__fluid",!0),re(e,"notification-center__message-list",!0),re(e,"visible",this.state.isVisible),re(e,"active",this.state.isActive),e));return r.a.createElement("div",{ref:"wrapper",className:p},r.a.createElement(ee,null),r.a.createElement(u.a,null,(function(e){var n=e.height,i=e.width;return r.a.createElement(u.d,{ref:"list",tabIndex:-1,"aria-label":"",height:n,width:i,rowCount:d.length,rowHeight:90,scrollToIndex:t.cache().scrollToIndex,onScroll:c.a.debounce(t.onScroll,100),onRowsRendered:c.a.debounce(t.onRendered,500),noRowsRenderer:function(){return r.a.createElement(Y,null)},overscanRowCount:20,rowRenderer:function(e){var t=e.key,n=e.index,i=e.style,o=ne({},d[n]);return r.a.createElement(W,{key:t,style:i,message:o,type:s})}})})))}}]),t}(r.a.PureComponent),ce=Object(o.connect)((function(e){return{activeTab:Object(q.b)(e),messages:Object(q.h)(e),garbage:Object(q.d)(e)}}),(function(e){return{messagesAddOld:function(t,n,i){return e(Object(v.messagesAddOldRequest)(t,n,i))}}}))(le),ue=function(e){var t=e.images;return c.a.isEmpty(t)?null:r.a.createElement("div",{className:"notification-center__message-full_images"},c.a.map(t,(function(e,t){return c.a.isNil(e)?null:r.a.createElement("div",{key:"image-"+t},e.imageTitle&&r.a.createElement("div",{className:"notification-center__message-full_images-title"},e.imageTitle),e.imageUrl&&r.a.createElement("img",{className:"notification-center__message-full_images-img",src:e.imageUrl}))})))},de=n(5),pe=n.n(de),fe=n(9),he=n.n(fe),me=n(126),ge=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var be=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return s.btnText="",s.btnAction=c.a.noop,s.actions=(ve(n={},w.MESSAGE_ACTION_OPEN_TRADING_TOOL,(function(){var e=this,t=this.props.message.action;this.setActionBtn("open_trading_tool",(function(){var n=t.url;({"ui:events-and-trade":"open_events_trade"})[n]?pe.a.trigger("sm",t.url):pe.a.trigger(n),e.props.closeActiveMessage(),e.props.closePopup()}))})),ve(n,w.MESSAGE_ACTION_OPEN_VIDEO_TUTORIALS,(function(){var e=this,t=this.props.message.action.url;this.setActionBtn("open_video_tutorial",(function(){pe.a.trigger(t),e.props.closeActiveMessage(),e.props.closePopup()}))})),ve(n,w.MESSAGE_ACTION_CLOSE,(function(){var e=this;this.setActionBtn("close",(function(){e.props.closeActiveMessage()}))})),ve(n,w.MESSAGE_ACTION_OPEN_REGISTRATION_DIALOG,(function(){var e=this;this.setActionBtn("open_registration_dialog",(function(){pe.a.trigger("sm","registration_only"),e.props.closePopup()}))})),ve(n,w.MESSAGE_ACTION_OPEN_DEPOSIT_DIALOG,(function(){var e=this;this.setActionBtn("open_deposit_dialog",(function(){pe.a.trigger("flow:deposit"),e.props.closeActiveMessage(),e.props.closePopup()}))})),ve(n,w.MESSAGE_ACTION_OPEN_VERIFICATION_CENTER,(function(){var e=this;this.setActionBtn("open_verification_center",(function(){pe.a.trigger("ui:verification-center"),e.props.closeActiveMessage(),e.props.closePopup()}))})),ve(n,w.MESSAGE_ACTION_SWITCH_TO_REAL,(function(){var e=this;this.setActionBtn("switch_to_real",(function(){he.a.isLive()||(pe.a.trigger("platform:switch","live"),e.props.closePopup())}))})),ve(n,w.MESSAGE_ACTION_OPEN_TRADE_DIALOG,(function(){var e=this,t=this.props.action;this.setActionBtn("open_trade_dialog",(function(){pe.a.trigger("ui:new-position",t.action||t.defaultAction,t.instrument,null,!1,!1,!1,"in_app_messaging"),e.props.closeActiveMessage(),e.props.closePopup()}))})),ve(n,w.MESSAGE_ACTION_OPEN_INSTRUMENT_PAGE,(function(){var e=this,t=this.props.message.action;this.setActionBtn("open_instrument_page",(function(){pe.a.trigger("ui:instrument",t.instrument,!0,!0),e.props.closeActiveMessage(),e.props.closePopup()}))})),ve(n,w.MESSAGE_ACTION_INTERNAL_ACTION,(function(){var e=this,t=this.props.message.action;c.a.isString(t.url)&&this.setActionBtn("internal_action",(function(){pe.a.trigger(t.url),e.props.closeActiveMessage(),e.props.closePopup()}))})),ve(n,w.MESSAGE_ACTION_OPEN_URL,(function(){var e=this;this.setActionBtn("open_url",(function(){var t,n=e.props.message.action;if(c.a.isString(n.url)){var i=n.url.slice(0,4),r=(ve(t={},w.MESSAGE_ACTION_OPEN_NEW_TAB,(function(){return"http"===i})),ve(t,w.MESSAGE_ACTION_OPEN_DEEP_LINK,(function(){return"?"===i.slice(0,1)})),ve(t,w.MESSAGE_ACTION_OPEN_HASH,(function(){return"#"===i.slice(0,1)})),t);switch(c.a.findKey(r,(function(e){return e()}))){case w.MESSAGE_ACTION_OPEN_NEW_TAB:Object(me.default)(n.url,"_self","","location=no");break;case w.MESSAGE_ACTION_OPEN_DEEP_LINK:window.location.href=window.location.pathname+(window.location.search?window.location.search.slice(1)+n.url:n.url)+window.location.hash;break;case w.MESSAGE_ACTION_OPEN_HASH:pe.a.navigate(n.url,{trigger:!0,replace:!0});break;default:return}e.props.closePopup()}}))})),n),h()(s),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ge(t,[{key:"onClick",value:function(e){var t=this.props.message,n=t.id,i=t.type;e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),__eventos("onBoardFlow:notificationCenter:clickThrough",{messageId:n,type:i}),this.btnAction()}},{key:"setActionBtn",value:function(e,t){this.btnText=c.a.isEmpty(this.props.message.buttonText)?__("notification.center.message.action."+e):this.props.message.buttonText,this.btnAction=t}},{key:"render",value:function(){var e=this.props.message.action;return e&&c.a.some(c.a.keys(this.actions),(function(t){return t===e.id}))?(this.actions[e.id].call(this),r.a.createElement("div",{className:"notification-center__message-full_action"},r.a.createElement("div",{className:"btn btn-primary",onClick:this.onClick},this.btnText))):null}}]),t}(r.a.Component);be.defaultProps={message:{}};var _e=Object(o.connect)(void 0,(function(e){return{closeActiveMessage:function(){return e(Object(v.setIsActiveMessageVisible)(!1))},closePopup:function(){return e(Object(v.setOpenPopupState)(!1))}}}))(be),ye=function(e){var t=e.onBack,n=e.message||{};return r.a.createElement("div",{className:"notification-center__message-full"},r.a.createElement("div",null,r.a.createElement("div",{className:"notification-center__button-back",onClick:t},r.a.createElement("i",{className:"icon icon-marketsX-popup-arrow-left"}),__("notification.center.button.back"))),r.a.createElement("div",{className:"notification-center__message-full_title"},n.title),r.a.createElement("div",{className:"notification-center__message-full_message"},n.body),r.a.createElement(ue,{images:n.images}),r.a.createElement(_e,{message:n}))};t.a=Object(o.connect)((function(e){return{isMessageVisible:Object(q.k)(e),message:Object(q.a)(e)}}),(function(e){return{onBack:function(){return e(Object(v.setIsActiveMessageVisible)(!1))}}}))((function(e){var t=e.isMessageVisible,n=e.message,i=e.onBack,o=a()({"notification-center__message-slider_items":!0,active:t});return r.a.createElement("div",{className:"notification-center__message-slider"},r.a.createElement("div",{className:o},r.a.createElement("div",{className:"notification-center__message-slider_item"},r.a.createElement(ce,null)),r.a.createElement("div",{className:"notification-center__message-slider_item"},r.a.createElement(ye,{message:n,onBack:i}))))}))},,,function(e,t,n){(function(i){var r;void 0===(r=function(e,t,r){var o=n(100),s=n(43),a=n(187),l=n(108),c=s.extend({defaults:{cancelled:[],rejected:[],filterAll:[]},bufferCollection:null,initialize:function(){this.bufferCollection=new o,this.bufferCollection._map={}},_getInstrumentProperty:function(e,t){return i.isFunction(e.get)?e.get(t):e[t]},_mappingOrderModel:function(e){var t=e.instrument,n=l.user;return{quantity:e.quantity,side:e.side,type:e.type,createdTime:n.applyOffsetToTimestamp(e.entryTime),modifiedTime:n.applyOffsetToTimestamp(e.closedTime),lastExecutionStatus:e.status,orderChainId:e.orderId,stopPrice:e.entryPrice,stopLimitPrice:e.exitPrice,statusDescription:e.rejectReason.key,statusDescriptionParams:e.rejectReason.parameters,name:this.instrumentName(t),symbol:this._getInstrumentProperty(t,"symbol"),precision:this._getInstrumentProperty(t,"precision")}},instrumentName:function(e){return this._getInstrumentProperty(e,"name")||this._getInstrumentProperty(e,"displayName")},_filterData:function(e){var t=[];return i.each(e,(function(e){var n=this.bufferCollection._map[e];i.isUndefined(n)||(n=this._mappingOrderModel(n),t.push(n))}),this),t},cancelledFilterData:function(e){var t=this._filterData(e);this.set("cancelled",t,{silent:!0}),this.trigger("change",this)},rejectedFilterData:function(e){var t=this._filterData(e);this.set("rejected",t,{silent:!0}),this.trigger("change",this)},allFilterData:function(e){var t=this._filterData(e);this.set("filterAll",t,{silent:!0}),this.trigger("change",this)},fillBuffer:function(e){e.edited.length>0&&i.each(e.edited,(function(e){var t=this.get(e.orderId);if(t)t=e;else{var n=a.getInstrumentById(e.instrument.instrumentId);n&&(e.instrument=n),this.add(e),this._map[e.orderId]=e}}),this.bufferCollection)}});r.exports=new c}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o}));var i="invest/LOAD_ACCOUNTS_CONFIGS",r="invest/LOAD_ACCOUNTS_CONFIGS_SUCCESS",o="invest/LOAD_ACCOUNTS_CONFIGS_ERROR"},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return a}));var i="trading-central/LOAD_TRADING_CENTRAL",r="trading-central/REMOVE_TRADING_CENTRAL",o="trading-central/LOAD_TRADING_CENTRAL_ERROR",s="trading-central/UPDATE_TRADING_CENTRAL",a="trading-central/UPDATE_TRADING_CENTRAL_SETTINGS"},,function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return c}));var i=n(75),r=n(120);function o(){return{type:i.k,payload:Object(r.getCurrentSettings)()}}function s(e){return{type:i.g,payload:e}}function a(e){return{types:[i.e,i.f,i.d],callApi:function(){return Object(r.setTradingSettings)(Object(r.getChangedSettings)(e))}}}function l(e){return{types:[i.i,i.j,i.h],callApi:function(){return Object(r.setTradingSettings)(Object(r.getChangedSettings)(e))}}}function c(t){var n=Object(r.getCurrentSettings)();return{types:[i.m,i.n,i.l],callApi:function(){return Object(r.setTradingSettings)(e.filter(n,(function(e){return e.id!==t})))}}}}).call(this,n(1))},function(e,t,n){"use strict";n.d(t,"i",(function(){return E})),n.d(t,"k",(function(){return S})),n.d(t,"n",(function(){return w})),n.d(t,"m",(function(){return O})),n.d(t,"a",(function(){return T})),n.d(t,"c",(function(){return P})),n.d(t,"f",(function(){return k})),n.d(t,"g",(function(){return I})),n.d(t,"h",(function(){return A})),n.d(t,"d",(function(){return x})),n.d(t,"b",(function(){return N})),n.d(t,"q",(function(){return D})),n.d(t,"l",(function(){return R})),n.d(t,"p",(function(){return M})),n.d(t,"e",(function(){return F})),n.d(t,"j",(function(){return U})),n.d(t,"o",(function(){return z}));var i=n(34),r=n(135),o=n(152),s=n(1),a=n.n(s),l=n(5),c=n.n(l),u=n(8),d=n.n(u),p=n(6),f=n.n(p),h=n(9),m=n.n(h),g=n(16),v=n.n(g),b=n(3),_=6e4,y=10*_;function E(){return function(e){e({type:i.n,payload:{selectedDate:Object(o.b)(),selectedSmallCalendarDate:Object(o.b)()}})}}function S(){return function(e,t){var n=f.a.getCustomerId(),r=t().webinars.lastUpdated;a.a.now()-r>y&&(e({types:[i.s,C,i.t],callApi:function(){return d.a.getWebinars(n)}}),a.a.after((function(){return e(S())}),y))}}function C(e){return function(t){t({type:i.u,payload:e}),t(q()),setInterval((function(){return t(q())}),_)}}function w(){return{type:i.H}}function O(){return{type:i.G}}function T(e){return function(t){t({type:i.c,payload:e})}}function P(e){return function(t){t({type:i.e,payload:e})}}function k(){return function(e,t){var n=t().webinars.selectedSmallCalendarDate;e(P(v()(n).add({days:1}).toDate()))}}function I(){return function(e,t){var n=t().webinars.selectedSmallCalendarDate;e(P(v()(n).add({days:-1}).toDate()))}}function A(){return function(e){e(P(Object(o.b)()))}}function x(e){return function(t){t({type:i.f,payload:e})}}function N(e){return function(t,n){var o=e,s=Object(r.h)(n());o&&(a.a.contains(s,o)||a.a.isEmpty(s))?(c.a.navigate("webinars/"+o,{trigger:!1}),t({type:i.G})):(c.a.navigate("webinars",{trigger:!1}),o=null),t({type:i.d,payload:o})}}function D(e){return function(t,n){t({type:i.L,payload:e}),c.a.trigger("ui:webinar:watch",e)}}function R(e){return function(t){var n=f.a.getCustomerId();t({types:[i.D,L,i.E],callApi:function(){return d.a.registerWebinar(n,e,!0)},additionalData:{eventId:e,action:"subscribe"}})}}function L(e){return function(t){t({type:i.F,payload:e}),c.a.trigger("ui:balloon",{title:__("webinars.register.title"),body:__("webinars.register.text")})}}function M(e){return function(t){var n=f.a.getCustomerId();t({types:[i.I,j,i.J],callApi:function(){return d.a.registerWebinar(n,e,!1)},additionalData:{eventId:e,action:"unsubscribe"}})}}function j(e){return function(t){t({type:i.K,payload:e}),c.a.trigger("ui:balloon",{title:__("webinars.unregister.title"),body:__("webinars.unregister.text")})}}function F(){return function(e,t){t().webinars.premiumWebinarsCheckerRequest!==b.SUCCESS?e({types:[i.x,B,i.y],callApi:function(){return m.a.checkTradingToolEnabled(b.TRADING_TOOLS.WEBINARS_PREMIUM)}}):e(S())}}function B(e){return function(t){t({type:i.z,payload:e}),t(S())}}function U(e){return function(t,n){var o=f.a.getCustomerId();Object(r.a)(n(),e)&&t({types:[i.o,i.q,i.p],callApi:function(){return d.a.joinWebinar(o,e)}})}}function V(e){var t=e.name,n=e.value;return{type:i.v,payload:{name:t,value:n}}}function z(){return function(e,t){e(V(t().webinars.isMobileSmallCalendarOpen?{name:"open",value:!1}:{name:"open",value:!0}))}}function q(){return function(e){e({type:i.m}),e({type:i.C})}}},,,,,function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(7),s=n.n(o),a=n(366);var l=n(1),c=n.n(l),u=n(261),d=n.n(u),p=n(15),f=n.n(p),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=c.a.property(["viewOptions","className"]),y=function(e,t){var n=e.offsetWidth,i=e.scrollWidth,r=t&&c.a.has(t,"offset")?t.offset.x:e.scrollLeft;return"rtl"!==document.documentElement.getAttribute("dir")?i>n&&n+r<i:i>n&&n-r<i},E=function(e){function t(){return g(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),h(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(c.a.isEqual(e,this.props)&&c.a.isEqual(t,this.state))}}]),t}(a.Tab),S=function(e){function t(){return g(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),h(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(c.a.isEqual(e,this.props)&&c.a.isEqual(t,this.state))}}]),t}(a.TabPanel),C=function(e){function t(e){g(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={selectedTabIndex:0,tabListFaded:!1},n._tabListEl=r.a.createRef(),f()(n),n}return b(t,e),h(t,[{key:"componentDidMount",value:function(){this.setListFaded(this._tabListEl.current),this.props.selectedTabId&&this.updateSelectedTabById(this.props.selectedTabId,this.props.tabList)}},{key:"componentDidUpdate",value:function(e,t){if(this._tabListEl.current){var n=y(this._tabListEl.current);n!==t.tabListFaded&&this.setState({tabListFaded:n})}}},{key:"isTabVisible",value:function(e){return c.a.result(e,"visible",!0)}},{key:"createTabs",value:function(e,t){var n=this;this.tabs=[],this.panels=[],e.forEach((function(e){if(n.isTabVisible(e)){var i,o=s()((m(i={"react-tabs__tab":!0},e.className,!!e.className),m(i,"autotests-instrument-details-tab-"+e.id,!0),i));n.tabs.push(r.a.createElement(E,{key:e.id,disabled:e.disabled,className:o},c.a.isFunction(t)?t(e.title):e.title,e.badge?e.badge:null));var a=_(e),l=s()(m({"react-tabs__tab-panel":!0},a,!!a));n.panels.push(r.a.createElement(S,{key:e.id,className:l},e.view))}}))}},{key:"getTabs",value:function(){return this.tabs}},{key:"getPanels",value:function(){return this.panels}},{key:"getFirstAvailableTabIndex",value:function(){var e=this;return c.a.findIndex(this.props.tabList,(function(t){return e.isTabVisible(t)}))}},{key:"checkCurrentTabAvailable",value:function(e){e=e||this.props.tabList,c.a.isArray(e)&&!this.isTabVisible(e[this.state.selectedTabIndex])&&this.moveToTabIndex(this.getFirstAvailableTabIndex())}},{key:"shouldSelect",value:function(e,t){var n=this.props,i=n.shouldSelect,r=n.tabList,o=n.onSelect,s=i(r[e]);return s||(this.moveToTabIndex(e),o(r[e])),s}},{key:"moveToTabIndex",value:function(e){this.setState({selectedTabIndex:e})}},{key:"componentWillReceiveProps",value:function(e,t){var n=t.tabList;this.checkCurrentTabAvailable(n),(e.selectedTabId&&e.selectedTabId!==this.props.selectedTabId||!c.a.isEqual(e.tabList,this.props.tabList))&&this.updateSelectedTabById(e.selectedTabId,e.tabList)}},{key:"updateSelectedTabById",value:function(e,t){var n=c.a.chain(t).filter(this.isTabVisible).findIndex((function(t){return t.id===e})).value();-1===n&&(n=0),this.setState({selectedTabIndex:n})}},{key:"setListFaded",value:function(e,t){var n=y(e,t);n!==this.state.tabListFaded&&this.setState({tabListFaded:n})}},{key:"onScroll",value:function(e){this.setListFaded(this._tabListEl.current,e)}},{key:"render",value:function(){var e=this.props,t=e.tabList,n=e.className,i=e.transformTitle,o=e.withFade,l=this.state.tabListFaded;if(c.a.isArray(t)){this.createTabs(t,i);var u=s()(m({"react-tabs":!0},n,!!n)),p=s()({"react-tabs__tab-list":!0,"horizontal-fading":o&&l});return r.a.createElement(a.Tabs,{className:u,onSelect:this.shouldSelect,selectedIndex:this.state.selectedTabIndex},r.a.createElement(a.TabList,{className:p},r.a.createElement(d.a,{onScroll:this.onScroll,className:"react-tabs__scrollbar"},r.a.createElement("div",{className:"react-tabs__tab-list__container",ref:this._tabListEl},this.getTabs()))),this.getPanels())}}}]),t}(r.a.Component);C.defaultProps={shouldSelect:c.a.noop,onSelect:c.a.noop,withFade:!0};t.a=C},,,,,,,,function(e,t,n){(function(i){var r;void 0===(r=function(e,t,r){var o=n(100),s=n(279),a=n(26),l=o.extend({model:s,add:function(e,t){var n=!i.isArray(e);return e=n?[e]:e.slice(),i.each(e,(function(t,n){if(this._isModel(e[n]))return!0;e[n]=new s(t),e[n].getId()||e[n].save()}),this),this.addListeners(e),this.set(e,i.extend({merge:!1,remove:!1},t))},isSuchAlertAvailable:function(e){return!i.isEmpty(i(this.where({hash:e.calculateHash()})).filter((function(t){return t.getId()!==e.getId()})))},loadData:function(e){this.reset(i.filter(e,(function(e){return i.isUndefined(a.getInstrumentById(e.instrumentId)),-1!==window._app.settings.getPriceAlertsTypes().indexOf(e.alertTypeId)&&!i.isUndefined(a.getInstrumentById(e.instrumentId))}))),this.addListeners(this.models)},addListeners:function(e){e.map((function(e){e.on("delete",(function(){this.remove(e),e.off("delete",this.addListeners)}),this)}),this)}});r.exports=new l}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"h",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"g",(function(){return u}));var i="eventsAndTrade/CHECK_EVENTS_AND_TRADE",r="eventsAndTrade/CHECK_EVENTS_AND_TRADE_SUCCESS",o="eventsAndTrade/CHECK_EVENTS_AND_TRADE_ERROR",s="eventsAndTrade/UPCOMING_EVENTS_AND_TRADE",a="eventsAndTrade/LOAD_EVENTS_AND_TRADE",l="eventsAndTrade/LOAD_EVENTS_AND_TRADE_SUCCESS",c="eventsAndTrade/LOAD_EVENTS_AND_TRADE_ERROR",u="eventsAndTrade/TOGGLE_EVENT_ROW"},,function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var r=n(24),o=n(1),s=n(9),a=n(6),l=r.Model.extend({initialize:function(){},isSpainCountry:function(){var e=a.getCountry();return e&&o.isString(e)&&"es"===e.toLowerCase()},isSpanishRegulation:function(){return this.isSpainCountry()},hideMetaTraderLink:function(){return this.isSpanishRegulation()&&s.isRegistrationRiskWarningMetaTraderHidden()&&a.getCustomerId()>s.getRegistrationRiskWarningMinCustomerId()},isFullRegistrationRiskWarningRequired:function(){return this.isSpanishRegulation()&&a.getUserDataCompliance().isTradeConfirmationRequired()&&s.isRegistrationRiskWarningEnabled()},isTradingPositionRiskWarningRequired:function(){return this.isSpanishRegulation()&&(a.getUserDataCompliance().isTradeConfirmationRequired()||a.getUserDataCompliance().isSecondTradeConfirmationRequired())&&s.isTradingPositionRiskWarningEnabled()},isMetaTraderOpenRiskWarningRequired:function(){return this.isSpanishRegulation()&&a.getUserDataCompliance().isTradeConfirmationRequired()&&s.isMetaTraderOpenRiskWarningEnabled()},isRejectedScore:function(e){return s.isSpanishRegulationRejectUserEnabled(e)}});i.exports=new l}.call(t,n,t,e))||(e.exports=o)}).call(this,n(24),n(1))},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(43),o=(n(5),n(9)),s=(n(8),n(66),n(26),n(218)),a=r.extend({defaults:function(){return{}},initialize:function(){r.prototype.initialize.apply(this,arguments),this.user=n(6)},setAmountIncrement:function(e){this.set("amountIncrement",Number(e))},getAmountIncrement:function(){return this.get("amountIncrement")},setOriginalAmount:function(e){this.set("originalAmount",Number(e))},getOriginalAmount:function(){return this.get("originalAmount")},setMarginInAccountCurrency:function(e){this.set("marginInAccountCurrency",e)},getMarginInAccountCurrency:function(){return this.get("marginInAccountCurrency")},setRequiredMarginInAccountCurrency:function(e){this.set("requiredMarginInAccountCurrency",e)},getRequiredMarginInAccountCurrency:function(){return this.get("requiredMarginInAccountCurrency")},setRequiredMarginInInstrumentCurrency:function(e){this.set("requiredMarginInInstrumentCurrency",e)},getRequiredMarginInInstrumentCurrency:function(){return this.get("requiredMarginInInstrumentCurrency")},setMarginInInstrumentCurrency:function(e){this.set("marginInInstrumentCurrency",e)},getMarginInInstrumentCurrency:function(){return this.get("marginInInstrumentCurrency")},updateMargins:function(){var e=this.getPositionModel(),t=this.getInstrumentModel();this.setRequiredMarginInAccountCurrency((e||t).get("requiredMarginInAccountCurrency")),this.setRequiredMarginInInstrumentCurrency((e||t).get("requiredMarginInInstrumentCurrency")),this.setGuaranteedStopLossAmount((e||t).get("guaranteedStopLossAmount")),this.setTotalRequiredMargin(t.get("totalRequiredMargin"))},setAmount:function(e,t){this.set("amount",Number(e),t)},getAmount:function(){return this.get("amount")},toFixed:function(e,t){var n=Number(e).toFixed(this.getInstrumentModel().getPrecision());return!0===t?n:+n},filter:function(){var e=String(this.get("direction")).toUpperCase();["BUY","SELL"].indexOf(e)<0&&(e="BUY"),this.set("direction",e)},getInstrumentModel:function(){return this.get("instrumentModel")},getPositionModel:function(){return this.get("position")},getSymbol:function(){return this.getInstrumentModel().getSymbol()},getPercentChange:function(){return this.getInstrumentModel().getPercentChange()},getCurrentPrice:function(){return this.toFixed(this.get("currentPrice"))},setCurrentPrice:function(e){this.set("currentPrice",this.toFixed(e))},getTakeProfitFromEntryLimit:function(){return this.get("takeProfitFromEntryLimit")},setTakeProfitFromEntryLimit:function(e,t){this.set("takeProfitFromEntryLimit",this.toFixed(e),t)},getTakeProfit:function(){return this.toFixed(this.get("takeProfit"))},setTakeProfit:function(e,t){this.set("takeProfit",this.toFixed(e),t),this.validateTakeProfit()},isTakeProfitEmpty:function(){var e=this.get("takeProfit");return null==e},cleanTakeProfit:function(){this.set("takeProfit",null)},resetTakeProfit:function(){this.calcTakeProfit()},getEntryOrderPrice:function(){var e=this.getEntryLimit(),t=this.getEntryStop();return null!==e?e:null!==t?t:void 0},getPrice:function(){var e=this.getCurrentPrice(),t=this.getEntryOrderPrice();return null!=t?t:e},setMinTakeProfit:function(e,t){this.set("minTakeProfit",this.toFixed(e),t)},getMinTakeProfit:function(){return this.toFixed(this.get("minTakeProfit"))},calcMinTakeProfit:function(){var e=this.isBuy()?this.getPrice()+this.minOrderDistance():this.getPrice()-this.minOrderDistance();this.setMinTakeProfit(e),this.calcTakeProfit()},getMinTakeProfitErrorMessage:function(){var e=this.isBuy()?this.get("minTakeProfitErrorMessage_Buy"):this.get("minTakeProfitErrorMessage_Sell");return __(e,this.getMinTakeProfit())},setMinStopLoss:function(e,t){this.set("minStopLoss",this.toFixed(e),t)},getMinStopLoss:function(){return this.toFixed(this.get("minStopLoss"))},calcMinStopLoss:function(){var e=this.isBuy()?this.getPrice()-this.minOrderDistance():this.getPrice()+this.minOrderDistance();this.setMinStopLoss(e)},getMinStopLossErrorMessage:function(){var e=this.isBuy()?this.get("minStopLossErrorMessage_Buy"):this.get("minStopLossErrorMessage_Sell");return __(e,this.getMinStopLoss())},validateTakeProfit:function(){var e=void 0,t=this.getTakeProfit(),n=this.minOrderDistance(!0);e=this.getEntryLimit()?this.isSell()?this.getEntryLimit()-n:this.getEntryLimit()+n:this.getEntryStop()?this.isSell()?this.getEntryStop()-n:this.getEntryStop()+n:this.getValidationValueForProfit();var i=null;t&&(this.isSell()&&t>e&&(i=__("order.form.validation.take_profit_pips_lesser",this.toFixed(e,!0))),this.isBuy()&&t<e&&(i=__("order.form.validation.take_profit_pips_higher",this.toFixed(e,!0)))),this.set("takeProfitError",i)},validateStopLoss:function(){var e=void 0,t=void 0,n=void 0,i=this.getStopLoss(),r=this.minOrderDistance(!0),o=this.getAmount(),s=this.getConversionRate(),a=this.getGuaranteedStopLossAmount(),l=this.getPositionModel();if(this.getEntryLimit())n=this.getEntryLimit(),t=this.calcClosePrice(n),e=this.isSell()?this.getEntryLimit()+r:this.getEntryLimit()-r;else if(this.getEntryStop())n=this.getEntryStop(),t=this.calcClosePrice(n),e=this.isSell()?this.getEntryStop()+r:this.getEntryStop()-r;else{if(l){var c=l.get("dividends")||0,u=l.get("financing")||0,d=l.get("rollover")||0,p=this.isBuy()?-1:1;t=(n=l.get("costBasis"))+p*((a+c+u+d)/(o*s))}else n=this.getDefiniteRate(),t=this.calcClosePrice(n);e=this.getValidationValueForLoss()}var f=null;i&&(this.isSell()&&i<e&&(f=__("order.form.validation.stop_loss_pips_higher",this.toFixed(e,!0))),this.isBuy()&&i>e&&(f=__("order.form.validation.stop_loss_pips_lesser",this.toFixed(e,!0))),this.user.isGuaranteedStopLossEnabled()&&(this.isSell()&&i>t&&(f=__("order.form.validation.stop_loss_pips_lesser",this.toFixed(t,!0))),this.isBuy()&&i<t&&(f=__("order.form.validation.stop_loss_pips_higher",this.toFixed(t,!0))))),this.set("stopLossError",f)},getGSLLimit:function(){var e=this.getAmount(),t=this.getConversionRate(),n=this.getGuaranteedStopLossAmount(),i=this.getPositionModel();if(i){var r=i.get("costBasis"),o=i.get("dividends")||0,s=i.get("financing")||0,a=i.get("rollover")||0;return r+(this.isBuy()?-1:1)*((n+o+s+a)/(e*t))}return 0},getGSLLimitForOrder:function(){var e=this.getAmount(),t=this.getConversionRate(),n=this.get("order");if(n){var i=n.get("stopLimitPrice")||n.get("stopPrice"),r=this.getGuaranteedStopLossAmount();return i+(this.isBuy()?-1:1)*(r/(e*t))}return 0},validateEntryLimit:function(){var e=this.getInstrumentModel().getPrecision(),t=this.getEntryLimit(),n=this.getCurrentPrice(),i=this.minOrderDistance(!0),r=null,o=0;this.isBuy()?(o=n-i)>this.getReflectRate()&&(o=Number((this.getReflectRate()-this.getInstrumentModel().getPipsPrecisionSize()).toFixed(e))):(o=n+i)<this.getReflectRate()&&(o=Number((this.getReflectRate()+this.getInstrumentModel().getPipsPrecisionSize()).toFixed(e))),t&&(this.isSell()&&t<o&&(r=__("order.form.validation.trigger_price_higher",__("order.form.field.entry_limit"),this.toFixed(o,!0))),this.isBuy()&&t>o&&(r=__("order.form.validation.trigger_price_lesser",__("order.form.field.entry_limit"),this.toFixed(o,!0)))),this.set("entryLimitError",r)},validateEntryStop:function(){var e=this.getEntryStop(),t=this.getCurrentPrice(),n=this.minOrderDistance(!0),i=this.isSell()?t-n:t+n,r=null;e&&(this.isSell()&&e>i&&(r=__("order.form.validation.trigger_price_lesser",__("order.form.field.entry_stop"),this.toFixed(i,!0))),this.isBuy()&&e<i&&(r=__("order.form.validation.trigger_price_higher",__("order.form.field.entry_stop"),this.toFixed(i,!0)))),this.set("entryStopError",r)},getStopLossFromEntryLimit:function(){return this.get("stopLossFromEntryLimit")},setStopLossFromEntryLimit:function(e,t){this.set("stopLossFromEntryLimit",this.toFixed(e),t)},getStopLoss:function(){return this.toFixed(this.get("stopLoss"))},setStopLoss:function(e,t){this.set("stopLoss",this.toFixed(e),t),this.validateStopLoss()},cleanStopLoss:function(){this.set("stopLoss","")},resetStopLoss:function(){this.calcStopLoss()},calcTakeProfit:function(){var e=void 0,t=this.getInstrumentModel().getPrecision();return this.isBuy()?(e=this.getPrice()+this.minOrderDistance())<this.getReflectRate()&&(e=Number((this.getReflectRate()+this.getInstrumentModel().getPipsPrecisionSize()).toFixed(t))):(e=this.getPrice()-this.minOrderDistance())>this.getReflectRate()&&(e=Number((this.getReflectRate()-this.getInstrumentModel().getPipsPrecisionSize()).toFixed(t))),this.setTakeProfit(e),this},calcStopLoss:function(){var e=void 0,t=this.getInstrumentModel().getPrecision();return this.isBuy()?(e=this.getPrice()-this.minOrderDistance())>this.getReflectRate()&&(e=Number((this.getReflectRate()-this.getInstrumentModel().getPipsPrecisionSize()).toFixed(t))):(e=this.getPrice()+this.minOrderDistance())<this.getReflectRate()&&(e=Number((this.getReflectRate()+this.getInstrumentModel().getPipsPrecisionSize()).toFixed(t))),this.setStopLoss(e),this},calcTakeProfitWithEntryOrder:function(e){var t=this.isBuy()?e+this.minOrderDistance():e-this.minOrderDistance();return this.setTakeProfit(t),this},calcStopLossWithEntryOrder:function(e){var t=this.isBuy()?e-this.minOrderDistance():e+this.minOrderDistance();return this.setStopLoss(t),this},calcEntryLimit:function(){var e=void 0,t=this.getInstrumentModel().getPrecision();return this.isBuy()?(e=this.getCurrentPrice()-this.minOrderDistance())>this.getReflectRate()&&(e=Number((this.getReflectRate()-this.getInstrumentModel().getPipsPrecisionSize()).toFixed(t))):(e=this.getCurrentPrice()+this.minOrderDistance())<this.getReflectRate()&&(e=Number((this.getReflectRate()+this.getInstrumentModel().getPipsPrecisionSize()).toFixed(t))),this.setEntryLimit(e),this},calcEntryStop:function(){var e=void 0,t=this.getInstrumentModel().getPrecision();return this.isBuy()?(e=this.getCurrentPrice()+this.minOrderDistance())<this.getReflectRate()&&(e=Number((this.getReflectRate()+this.getInstrumentModel().getPipsPrecisionSize()).toFixed(t))):(e=this.getCurrentPrice()-this.minOrderDistance())>this.getReflectRate()&&(e=Number((this.getReflectRate()-this.getInstrumentModel().getPipsPrecisionSize()).toFixed(t))),this.setEntryStop(e),this},calcDefaultValues:function(){},calcDefaultValuesWithEntryLimit:function(){this.calcStopLossWithEntryOrder(),this.calcTakeProfitWithEntryOrder()},minOrderDistance:function(e){var t=void 0,n=this.getInstrumentModel(),i=n.getLimitStopDistance(),r=n.getPipsPrecisionSize(),s=n.getPrecision(),a=o.getDefaultDistancePipsMultiplier();return a=a.toFixed(s),i=i.toFixed(s),t=e?i*r:i*a*r,Number(t.toFixed(s))},updatePrice:function(){this.setCurrentPrice(this.getRate())},isBuy:function(){return"BUY"===this.getDirection()},isSell:function(){return!this.isBuy()},getAsk:function(){return this.getInstrumentModel().getAsk()},getBid:function(){return this.getInstrumentModel().getBid()},getDefiniteRate:function(){return this.isBuy()?this.getAsk():this.getBid()},getEntryLimit:function(){return this.get("entryLimit")},setEntryLimit:function(e,t){this.set("entryLimit",this.toFixed(e),t),this.validateEntryLimit()},cleanEntryLimit:function(){this.set("entryLimit",null)},getEntryStop:function(){return this.get("entryStop")},setEntryStop:function(e,t){this.set("entryStop",this.toFixed(e),t),this.validateEntryStop()},cleanEntryStop:function(){this.set("entryStop",null)},setCurrentPriceFromEntryLimit:function(e,t){this.set("currentPriceFromEntryLimit",this.toFixed(e),t)},getCurrentPriceFromEntryLimit:function(){return this.get("currentPriceFromEntryLimit")},cleanCurrentPriceFromEntryLimit:function(){this.setCurrentPriceFromEntryLimit(null)},setCurrentPriceFromEntryStop:function(e,t){this.set("currentPriceFromEntryStop",this.toFixed(e),t)},getCurrentPriceFromEntryStop:function(){return this.get("currentPriceFromEntryStop")},cleanCurrentPriceFromEntryStop:function(){this.setCurrentPriceFromEntryStop(null)},onRateChanged:function(e,t){this.setRate(t)},getPriceDirectionKey:function(){return this.getPriceKey()+"Direction"},onPriceDirection:function(e,t){this.setRateDirection(t)},setRate:function(e){this.set("rate",e)},getRate:function(){return this.toFixed(this.get("rate"))},getRateDirection:function(){return this.get("rateDirection")},setRateDirection:function(e){this.set("rateDirection",e)},getDirection:function(){return this.get("direction")},getPriceKey:function(){return this.isBuy()?"ask":"bid"},getCurrencySymbol:function(){return this.getInstrumentModel().getBaseCurrencySymbol()},setClosedPrice:function(e){this.set("closedPrice",e)},getClosedPrice:function(){return this.get("closedPrice")},calcClosePrice:function(e){var t=e||this.getCurrentPrice(),n=this.getInstrumentModel(),i=n.getMarginRate()/100,r=t*(1+(this.isBuy()?-1:1)*i);return this.roundPrice(r,n.getPrecision())},roundPrice:function(e,t){return this.isBuy()?s.roundUp(e,t):s.roundDown(e,t)},setGuaranteedStopLossAmount:function(e){this.set("guaranteedStopLossAmount",e)},getGuaranteedStopLossAmount:function(){return this.get("guaranteedStopLossAmount")},calcLossForStopLoss:function(){var e=this.getInstrumentModel(),t=this.getStopLoss(),n=this.isEntryStopEnabled()?this.getEntryStop():this.isEntryLimitEnabled()?this.getEntryLimit():this.getCurrentPrice(),i=this.user.getUserCurrency(),r=(this.isBuy()?-(t-n):t-n)*this.getAmount(),o=e.getCurrency(),s=this.calcProfit(i,o,r);this.setLossForStopLoss(s)},calcProfitForTakeProfit:function(){var e=this.getInstrumentModel(),t=this.getTakeProfit(),n=this.isEntryStopEnabled()?this.getEntryStop():this.isEntryLimitEnabled()?this.getEntryLimit():this.getCurrentPrice(),i=this.user.getUserCurrency(),r=(this.isBuy()?t-n:-(t-n))*this.getAmount(),o=e.getCurrency(),s=this.calcProfit(i,o,r);this.setProfitForTakeProfit(s)},calcProfit:function(e,t,n){var i=this.getInstrumentModel().getPipsPrecisionSize(),r=n*this.getConversionRate();return this.getInstrumentModel().isTypeSpreadBetting()&&(r/=i),r},setProfitForTakeProfit:function(e){this.set("profitForTakeProfit",Number(e))},getProfitForTakeProfit:function(){return Number(this.get("profitForTakeProfit")).toFixed(2)},setLossForStopLoss:function(e){this.set("lossForStopLoss",Number(e))},getLossForStopLoss:function(){return Number(this.get("lossForStopLoss")).toFixed(2)},getProfit:function(){return this.get("profitForTakeProfit")},getLoss:function(){return this.get("lossForStopLoss")},getMidRateByPair:function(e,t){return e===t?1:1/this.getConversionRate()},getLabelForEntryLimit:function(){return this.isBuy()?this.get("entryLimit_Buy_Label"):this.get("entryLimit_Sell_Label")},getLabelForEntryStop:function(){return this.isBuy()?this.get("entryStop_Buy_Label"):this.get("entryStop_Sell_Label")},getEntryLimitExplanation:function(){return this.isBuy()?this.get("entryLimit_Buy_Explanation"):this.get("entryLimit_Sell_Explanation")},getEntryStopExplanation:function(){return this.isBuy()?this.get("entryStop_Buy_Explanation"):this.get("entryStop_Sell_Explanation")},getInstrument:function(){return this.get("instrumentModel")},getInstrumentDescription:function(){return this.getInstrument().get("description")},getInstrumentSentiment:function(){return this.getInstrument().get("sentiment")},getAmountLabel:function(){return this.getInstrumentModel().getAmountLabel()},getErrorAmounMax:function(){var e=this.getInstrument().getMaxOrderSize();return this.getInstrumentModel().isAmountWordUsed()?__("order.form.validation.amount_too_big",e):__("order.form.validation.quantity_too_big",e)},getErrorMoreFundsRequired:function(){return __(this.get("moreFundsRequired"))},getReflectRate:function(){return Number(this.getInstrumentModel().get(this.getReflectPriceKey()).toFixed(this.getInstrumentModel().getPrecision()))},minAllowedOrderDistance:function(){var e=this.getInstrumentModel().getLimitStopDistance(),t=this.getInstrumentModel().getPipsPrecisionSize(),n=this.getInstrumentModel().getPrecision();return Number((e*t).toFixed(n))},getErrorNotZero:function(e){return __("order.form.validation.price_empty",e)},getReflectPriceKey:function(){return this.isBuy()?"bid":"ask"},_onConversionRateChange:function(e){this.setConversionRate(e[0].value)},setConversionRate:function(e){return this.set("conversionRate",e),this},getConversionRate:function(){return this.get("conversionRate")||1},setTotalRequiredMargin:function(e){this.set("totalRequiredMargin",e)},getTotalRequiredMargin:function(){return this.get("totalRequiredMargin")}});i.exports=a}.call(t,n,t,e))||(e.exports=i)},,,,,,function(e,t,n){var i;void 0===(i=function(e,t,n){n.exports.getCookie=function(e){return e&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[-.+*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},n.exports.getCookieByName=function(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([.$?*|{}()[\]\\/+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},n.exports.setCookie=function(e,t,n){var i=n||window.location.host;document.cookie=[e,"Expires="+t.toGMTString(),"Path=/","Domain="+i].join(";")},n.exports.LOGIN_COOKIE_ID="JSESSIONID="}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){e.exports=n.p+"./images/8c13be018d4e.png"},function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var i=n(5),r=n.n(i),o=n(103),s=n.n(o),a=n(299);function l(e){return function(t,n){t({type:a.d,payload:e,instruments:n().instruments})}}function c(e){return function(t){t({type:a.c,payload:e});var n=s.a.getOrderById(e);r.a.trigger("ui:edit-order",n)}}function u(e){return function(t){t({type:a.b,payload:e});var n=s.a.getOrderById(e);r.a.trigger("ui:cancel-order",n)}}function d(e){return function(t){t({type:a.a,payload:e}),r.a.trigger("instrument:orders:cancel_all",e)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"MessageType",(function(){return i}));var i={ORDER_REJECTED:"ORDER_REJECTED",ORDER_FILLED:"ORDER_FILLED",ORDER_LIQUIDATION:"ORDER_LIQUIDATION"}},,,function(e,t,n){"use strict";n.r(t),n.d(t,"calcAvailableForWithdrawal",(function(){return i}));var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=e-t+n;return i<n&&(i=n),i<0&&(i=0),i}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return d}));var i=n(32),r=n.n(i),o=n(1),s=n.n(o),a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},l={INCREASED:"Increased",DECREASED:"Decreased"},c=function(e){var t=e.institutionalHoldingSummary,n=s.a.last(t);return n?r()(n.h).format("0a").toUpperCase():""},u=function(e){var t=e.institutionalHoldingSummary;if(s.a.isEmpty(t))return"";var n=s.a.last(t,2),i=a(n,2),r=i[0],o=i[1],c=o?o.h-r.h:"";return c>=0?l.INCREASED:c<0?l.DECREASED:""},d=function(e,t){var n=e.institutionalHoldingSummary,i=e.stockPrices,r=s.a.map(n,(function(e){return[new Date(e.l).getTime(),e.h]})),o=s.a.map(i,(function(e){return[new Date(e.m).getTime(),e.p]}));t&&(r=r.slice(-t),o=o.slice(12*-(t+1)));var a=s.a.uniq(s.a.union(s.a.map(r,(function(e){return e[0]})),s.a.map(o,(function(e){return e[0]})))).sort((function(e,t){return e-t})),l=a[0]-7776e6;return a.unshift(l),r.unshift([l,0]),{xData:a,yColumnData:r,yLineData:o}}},function(e,t,n){var i;void 0===(i=function(e,t,i){i.exports=n(24).Events}.call(t,n,t,e))||(e.exports=i)},,,function(e,t,n){"use strict";n.r(t);var i=n(149),r=n(123),o=n(13),s=n(0),a=n.n(s),l=n(91),c=n.n(l),u=n(677),d=n(869),p=n(482),f=n(418),h=n(41),m=n(3),g=n(101),v=n(679),b=n(654),_=n(642),y=n(655),E=n(15),S=n.n(E),C=n(4),w=n(1),O=n.n(w),T=n(870),P=n(656),k=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var I=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={shouldRunPerformanceLoader:!0,statusOfPerformanceLoader:m.EMPTY},S()(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),k(t,[{key:"onPerformanceLoaderSuccess",value:function(e){var t=e.loadedPerformance,n=e.loadedOverview;this.setState({loadedPerformance:t,loadedOverview:n,shouldRunPerformanceLoader:!1,statusOfPerformanceLoader:m.SUCCESS})}},{key:"onPerformanceLoaderError",value:function(){this.setState({shouldRunPerformanceLoader:!1,statusOfPerformanceLoader:m.ERROR})}},{key:"render",value:function(){var e=this.state,t=e.shouldRunPerformanceLoader,n=e.statusOfPerformanceLoader,r=e.loadedPerformance,l=e.loadedOverview,c=this.props,u=c.portfolio,d=c.onErrorCancel,p=c.onErrorClose,f=c.universeTypes,h=c.onClose,E=r||{},S=E.backtestRequest,C=E.backtestPerformance,w=E.backtestInsights,k=(l||{}).lastPortfolioData,I=S&&O.a.findWhere(o.K,{value:S.timeHorizon}),A=S&&O.a.findWhere(f,{value:S.universeTypeID});return a.a.createElement(g.default,{title:__("portfolio.backtest.performance.title"),leftComponent:a.a.createElement(g.default.NavLeft,null,a.a.createElement("button",{onClick:h,className:"pane pane__row pane_padded-small"},a.a.createElement("span",{className:"popup-mobile__nav-rotate"},a.a.createElement("i",{className:"icon-view-details"})),"",__("actions.back")))},a.a.createElement(g.default.Body,{additionalClassName:"pane flex-column fs-13 portfolios__mobile"},a.a.createElement("div",{className:"pane pane__fluid pane__scroll flex-column fs-13"},a.a.createElement("div",{className:"pane pane__scroll-content pane__fluid flex-column fs-13 portfolios__mobile"},t&&a.a.createElement(i.a,{position:"absolute",fit:!0}),t&&a.a.createElement(T.a,{portfolioProviderId:u.portfolioProviderId,onSuccess:this.onPerformanceLoaderSuccess,onErro:this.onPerformanceLoaderError,onErrorClose:p,onErrorCancel:d}),n===m.SUCCESS&&a.a.createElement(s.Fragment,null,a.a.createElement("div",{className:"pane bold p-10 bottom-line"},u.portfolioName),a.a.createElement("div",{className:"pane pane__fluid pane__column portfolio__performance p-10"},a.a.createElement("div",{className:"pane pane__fluid"},a.a.createElement(v.a,{compact:!0,selectedUniverseTypeID:S&&S.universeTypeID,selectedSectors:S&&S.sectors,selectedTimeHorizon:S&&S.timeHorizon,selectedLongPositionFactor:S&&S.backtestPortfolioSetup.longPositionFactor,selectedSignals:S&&S.scoreCriteria})),a.a.createElement("div",{className:"pane pane__fluid"},a.a.createElement(_.a,{compact:!0,universeName:A&&__(A.label),dailyReturnData:C&&C.dailyReturnData,yearlyPerformanceData:C&&C.yearlyPerformanceData})),a.a.createElement("div",{className:"pane"},a.a.createElement(y.a,{compact:!0,yearlyPerformanceData:C&&C.yearlyPerformanceData})),a.a.createElement("div",{className:"pane pane__fluid"},a.a.createElement(b.a,{compact:!0,timeHorizon:I&&I.value,yearlyInsightsData:w})),a.a.createElement("div",{className:"pane"},a.a.createElement(P.a,{compact:!0,lastPortfolioPositionData:k.positions}))))))))}}]),t}(s.PureComponent);I.defaultProps={onClose:O.a.noop,onErrorClose:O.a.noop,onErrorCancel:O.a.noop};var A=Object(C.connect)((function(e,t){var n=t.portfolioProviderId;return{portfolio:Object(h.l)(e,n)}}))(I),x=n(470),N=n(7),D=n.n(N),R=n(138),L=n(471),M=n(483),j=n(871),F=n(680),B=n(681),U=n(682),V=n(872),z=n(683),q=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var H=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return S()(e),e.state={isInfoOpen:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),q(t,[{key:"toggle",value:function(){this.props.shouldOpenInfo&&this.setState({isInfoOpen:!this.state.isInfoOpen})}},{key:"render",value:function(){var e=this.state.isInfoOpen,t=this.props,n=t.shouldOpenInfo,i=t.onPerformance,r=t.onPositionDetails,o=t.shouldShowPerformanceLink,s=this.props.portfolio,l=s.portfolioStatus===m.COMPLETED,c=s.portfolioName,u=s.portfolioProviderId;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"portfolio-table__row flex flex-row pane__fluid"},a.a.createElement("div",{className:"bold cursor--pointer pane pane__row pane_padded-small flex-valign-center fs-13 pane__xfluid",onClick:this.toggle},n&&a.a.createElement("div",{className:"pane portfolio-addon portfolio-addon-bordered"},a.a.createElement("i",{className:D()({"fs-7":!0,icon:!0,"icon-plus-ico":!e,"icon-minus-ico":e})})),a.a.createElement("div",{className:"pane bold"},c)),!l&&a.a.createElement("div",{className:"pane pane__xfluid pane__row pane_padded-small fs-13 flex-align-end"},a.a.createElement("div",{className:"pane"},__("status.title"),":"),a.a.createElement("div",{className:"pane text-muted"},__("status.pending")),a.a.createElement("i",{className:"icon icon-information","aria-label":__("portfolio.status.tooltip")}))),e&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"portfolio-table__row flex flex-row pane__fluid"},a.a.createElement("div",{className:"pane pane__xfluid fs-13 nowrap"},__("portfolio.table.created_date")),a.a.createElement("div",{className:"pane pane__xfluid"},a.a.createElement(x.a,{portfolio:s}))),a.a.createElement("div",{className:"portfolio-table__row flex flex-row pane__fluid"},a.a.createElement("div",{className:"pane pane__xfluid fs-13"},__("portfolio.table.position_type")),a.a.createElement("div",{className:"pane pane__xfluid"},a.a.createElement(B.a,{portfolio:s}))),a.a.createElement("div",{className:"portfolio-table__row flex flex-row pane__fluid"},a.a.createElement("div",{className:"pane pane__xfluid fs-13"},__("portfolio.table.last7days")),a.a.createElement("div",{className:"pane pane__xfluid"},a.a.createElement(U.a,{portfolio:s})))),a.a.createElement("div",{className:"portfolio-table__row flex flex-row pane__fluid"},a.a.createElement("div",{className:"pane pane__xfluid fs-13"},__("portfolio.table.gain_rebalance")),a.a.createElement("div",{className:"pane pane__xfluid"},a.a.createElement(V.a,{portfolio:s}))),a.a.createElement("div",{className:"portfolio-table__row flex flex-row pane__fluid"},a.a.createElement("div",{className:"pane pane__xfluid fs-13"},__("portfolio.table.gain_created")),a.a.createElement("div",{className:"pane pane__xfluid"},a.a.createElement(j.a,{portfolio:s}))),e&&a.a.createElement("div",{className:"portfolio-table__row flex flex-row pane__fluid"},a.a.createElement("div",{className:"pane pane__xfluid fs-13"},__("portfolio.table.last_rebalance_date")),a.a.createElement("div",{className:"pane pane__xfluid"},a.a.createElement(z.a,{portfolio:s}))),a.a.createElement("div",{className:"portfolio-table__row flex flex-row pane__fluid"},a.a.createElement("div",{className:"pane pane__xfluid fs-13"},__("portfolio.table.next_rebalance_date")),a.a.createElement("div",{className:"pane pane__xfluid"},a.a.createElement(F.a,{portfolio:s}))),a.a.createElement("div",{className:"portfolio-table__row flex flex-row pane__fluid"},a.a.createElement("div",{className:"pane pane__xfluid fs-13"},__("portfolio.table.pl")),a.a.createElement("div",{className:"pane pane__xfluid"},a.a.createElement(M.a,{portfolio:s}))),a.a.createElement("div",{className:"portfolio-table__row flex flex-row pane__fluid"},a.a.createElement("div",{className:"pane pane__xfluid fs-13"},__("portfolio.table.invested_funds")),a.a.createElement("div",{className:"pane pane__xfluid"},a.a.createElement(L.a,{amount:s&&(l?s.executedAmount:s.requestedAmount)}))),a.a.createElement("div",{className:"portfolio-table__row flex pane__fluid flex-align-center"},o&&a.a.createElement(R.a,{btnType:"default",onClick:function(){return i(u)},className:"pane pane__xfluid flex-align-center",size:"small"},__("portfolio.performance.link")),a.a.createElement(R.a,{btnType:"default",className:"pane pane__xfluid flex-align-center",size:"small",onClick:function(){return r(u)}},__("portfolio.details.link"))))}}]),t}(a.a.Component);H.defaultProps={onPerformance:O.a.noop,onPositionDetails:O.a.noop,shouldOpenInfo:!0,portfolio:null,strategy:null,shouldShowPerformanceLink:!1};var $=H,G=n(340),W=n(32),Y=n.n(W),K=n(873),X=Object(K.a)((function(e){var t=e.name,n=e.quantity,i=e.pl,r=e.orderSide;return a.a.createElement("div",{className:"flex flex-row"},a.a.createElement("div",{className:"portfolio-table__name bold"},a.a.createElement("div",{className:"portfolio-addon"}),t),a.a.createElement("div",{className:"flex flex-column portfolio-table__position-details"},a.a.createElement("div",{className:"portfolio-pl-value portfolio--text-overflow"},a.a.createElement(G.a,{value:i},__("p_l")," : ",i?Y()(i).format("0,0[.][00000000]"):a.a.createElement("span",{className:"text-muted"},""))),a.a.createElement("div",{className:"portfolio-position-type-value"},r===o.x?__("action.sold"):__("actions.bought"),": ",n||a.a.createElement("span",{className:"text-muted"},""))))}));var Q=Object(C.connect)((function(e,t){var n=t.portfolio;return{items:Object(h.n)(e,n.portfolioProviderId)}}))((function(e){var t=e.items,n=e.portfolio;return a.a.createElement(a.a.Fragment,null,O.a.isEmpty(t)&&a.a.createElement("tr",{className:"portfolio-table__row portfolio-table__instrument-list text-center"},a.a.createElement("td",{colSpan:11},__("portfolio.no_items"))),O.a.map(t,(function(e,t){return a.a.createElement(X,{portfolio:n,portfolioItem:e,key:t})})))})),J=n(108),Z=n(51),ee=n(87),te=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var ne=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),te(t,[{key:"render",value:function(){var e=this.props,t=e.portfolio,n=e.onClose,i=e.shouldShowEdit,r=e.onEdit,o=e.shouldShowClose,s=e.onClosePortfolio,l=t.portfolioStatus===m.COMPLETED,c=Object(Z.k)(),u=c.start,d=c.end;return a.a.createElement(g.default,{title:__("portfolio.details.link"),leftComponent:a.a.createElement(g.default.NavLeft,null,a.a.createElement("button",{onClick:n,className:"pane pane__row pane_padded-small"},a.a.createElement("span",{className:"popup-mobile__nav-rotate"},a.a.createElement("i",{className:"icon-view-details"})),"",__("actions.back")))},a.a.createElement(g.default.Body,{additionalClassName:"pane flex-column fs-13 portfolios__mobile"},a.a.createElement("div",{className:"pane bold p-10 bottom-line"},t.portfolioName),a.a.createElement("div",{className:"pane pane__row p-10 bottom-line"},a.a.createElement("div",{className:"pane"},a.a.createElement("span",{className:"nowrap"},__("p_l")," : "),a.a.createElement(M.a,{portfolio:t,precision:8})),a.a.createElement("div",{className:"pane pane__fluid"},__("portfolio.table.invested_funds"),":"," ",a.a.createElement(L.a,{amount:t&&(l?t.executedAmount:t.requestedAmount)})),u&&d&&a.a.createElement("div",{className:"pane"},a.a.createElement("i",{className:"icon icon-clock fs-16 mh-5","data-tooltip-align":"bottom","aria-label":u+" - "+d+" ("+J.user.GMTPostfix()+")"})),i&&a.a.createElement("div",{className:"pane"},a.a.createElement("div",{className:"pane pane__xfluid pane__row pane_padded-small flex-align-end"},a.a.createElement("span",{className:"pane portfolio--edit-icon",onClick:function(){return r(t)}},a.a.createElement(ee.default,{name:"edit_portfolio",width:20,height:19})))),o&&a.a.createElement("div",{className:"pane"},a.a.createElement("div",{className:"pane pane__xfluid pane__row pane_padded-small flex-align-end"},a.a.createElement("i",{className:"pane icon icon-close-round-square cursor--pointer fs-18",onClick:function(){return s(t)}})))),a.a.createElement("div",{className:"pane pane__fluid pane__scroll flex-column fs-13"},a.a.createElement("div",{className:"pane pane__scroll-content pane__fluid flex-column fs-13 portfolios__mobile"},a.a.createElement("div",{className:"bottom-line"},a.a.createElement(Q,{portfolio:t}))))))}}]),t}(s.PureComponent);ne.defaultProps={onClose:O.a.noop,onErrorClose:O.a.noop,onErrorCancel:O.a.noop,shouldShowEdit:!1,onEdit:O.a.noop,shouldShowClose:!0,onClosePortfolio:O.a.noop};var ie=Object(C.connect)((function(e,t){var n=t.portfolioProviderId;return{portfolio:Object(h.l)(e,n)}}))(ne),re=n(647),oe=n(648),se=n(230),ae=n(515),le=n(875),ce=n(877),ue=n(876),de=n(63),pe=n(6),fe=n.n(pe),he=n(874),me=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var ge=function(e){var t=e.input,n=t.value,i=t.onChange,r=t.onBlur,o=t.onFocus,s=t.name,l=e.className,c=e.step,u=e.disableButtons,d=e.disabled,p=e.meta.error;return a.a.createElement("div",{className:l},a.a.createElement(oe.a,{name:s,type:"text",className:"form-control input-field",value:n,onChange:i,onFocus:o,onBlur:r,error:!!p,errorMessage:p,disabled:d}),!u&&a.a.createElement(re.a,{onPlusClick:function(){return i(n&&Number(n)-c>-1?Number(n)+c:c)},onMinusClick:function(){return i(n&&Number(n)-c>-1?Number(n)-c:0)}}))},ve=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.inputStep=n.props.getStepIncrement(n.requestedAmount),S()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),me(t,[{key:"componentDidMount",value:function(){this._mounted=!0}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"mounted",value:function(){return this._mounted}},{key:"onUpdatePortfolioSuccess",value:function(){this.props.onSuccess()}},{key:"trySubmitAgain",value:function(){this.props.dispatch(Object(ae.e)(this.props.form))}},{key:"validateTakeProfit",value:function(e,t,n){n.syncErrors}},{key:"validateStopLoss",value:function(e,t,n){var i=n.syncErrors,r=i&&i.amount?fe.a.getUserAccountMetricsModel().getBuyingPower():t.amount;if(e=Number(e),!O.a.isNaN(e)){var o=r-1;return e>o?__("portfolio.errors.stopLoss.too_high",o.toFixed(2)):void 0}}},{key:"submit",value:function(e,t,n){var i=e.takeProfit,r=e.stopLoss;return n.clearSubmitErrors(),n.startSubmit(),this.props.updatePortfolio(this.props.portfolioProviderId,this.props.portfolioName,i,r).then((function(){n.setSubmitSucceeded()})).then(O.a.callIf(this.onUpdatePortfolioSuccess,this.mounted)).catch((function(){n.setSubmitFailed()})),!1}},{key:"isLiquidation",value:function(){return O.a.contains(de.MARGIN_VALUES_WARNING_LEVELS,this.props.marginLevelRange)}},{key:"render",value:function(){var e=this.props,t=e.invalid,n=e.onClose,r=e.handleSubmit,o=e.submitting,s=e.submitFailed,l=e.normalizeNumber,c=e.portfolioName,u=fe.a.getUserCurrency();return s?a.a.createElement(se.a,{title:__("errors.title"),message:__("server.request.generic.error.body",__("funded.client.contact_us.link")),textOK:__("actions.try_again"),onOK:this.trySubmitAgain,onCancel:n,onClose:n}):a.a.createElement(g.default,{title:__("portfolio.amount.popup.edit.title"),leftComponent:a.a.createElement(g.default.NavLeft,null,a.a.createElement("button",{onClick:n,className:"pane pane__row pane_padded-small"},a.a.createElement("span",{className:"popup-mobile__nav-rotate"},a.a.createElement("i",{className:"icon-view-details"})),"",__("actions.back")))},a.a.createElement(g.default.Body,{additionalClassName:"pane flex-column fs-13 portfolios__mobile"},a.a.createElement("div",{className:"pane pane__fluid pane__scroll flex-column"},a.a.createElement("div",{className:"pane pane__scroll-content pane__fluid flex-column"},a.a.createElement("div",{className:"pane pane__fluid pane__column portfolio__invest"},a.a.createElement("div",{className:"pane pane__fluid"},o&&a.a.createElement(i.a,{position:"absolute",fit:!0}),s&&a.a.createElement(se.a,{title:__("errors.title"),message:__("server.request.generic.error.body",__("funded.client.contact_us.link")),textOK:__("actions.try_again"),onOK:this.buildPortfolio,onCancel:this.onErrorBuildingCancel,onClose:this.onErrorBuildingClose}),a.a.createElement(le.a,{autoComplete:"off",onSubmit:r(this.submit),className:"form form__amount pane pane__fluid pane__column pane_padded-small pane--relative"},a.a.createElement("div",{key:"invest-portfolio-form",className:"pane pane__fluid pane__column"},a.a.createElement("div",{className:"portfolio__invest-portfolio-name fs-13 bold"},c),a.a.createElement("div",{className:"portfolios__mobile-padding-box"},a.a.createElement("div",{className:"pane__column"},a.a.createElement("div",{className:"pane pane__fluid fs-13 pane__row flex-valign-center"},a.a.createElement("div",{className:"pane"},a.a.createElement("i",{className:"icon icon-information","aria-label":__("portfolio.amount.popup.tooltip.amount")})),a.a.createElement("div",{className:"pane pane__fluid"},a.a.createElement("div",null,__("portfolio.amount.popup.amount")),a.a.createElement("div",{className:"ml-10"},u))),a.a.createElement(ce.a,{name:"amount",className:"pane",component:ge,disableButtons:!0,disabled:!0})),a.a.createElement("div",{className:"pane__column"},a.a.createElement("div",{className:"pane pane__fluid fs-13 pane__row flex-valign-center"},a.a.createElement("div",{className:"pane"},a.a.createElement("i",{className:"icon icon-information","aria-label":__("portfolio.amount.popup.tooltip.take_profit")})),a.a.createElement("div",{className:"pane pane__fluid"},a.a.createElement("div",null,__("portfolio.amount.popup.take_profit")),a.a.createElement("div",{className:"ml-10"},u))),a.a.createElement(ce.a,{name:"takeProfit",className:"pane",component:ge,step:this.inputStep,validate:this.validateTakeProfit,normalize:l})),a.a.createElement("div",{className:"pane__column"},a.a.createElement("div",{className:"pane pane__fluid fs-13 pane__row flex-valign-center"},a.a.createElement("div",{className:"pane"},a.a.createElement("i",{className:"icon icon-information","aria-label":__("portfolio.amount.popup.tooltip.stop_loss")})),a.a.createElement("div",{className:"pane pane__fluid"},a.a.createElement("div",null,__("portfolio.amount.popup.stop_loss")),a.a.createElement("div",{className:"ml-10"},u))),a.a.createElement(ce.a,{name:"stopLoss",className:"pane",component:ge,step:this.inputStep,validate:this.validateStopLoss,normalize:l})),a.a.createElement(ce.a,{name:"portfolioName",component:"input",type:"hidden",value:c}))),a.a.createElement("div",{className:"pane pane__row portfolio__invest_btn-row fs-16"},a.a.createElement("button",{className:"btn btn-default pane pane__fluid flex-align-center",type:"button",onClick:n},__("cancel")),a.a.createElement("button",{className:"btn btn-primary pane pane__fluid flex-align-center",type:"submit",disabled:this.isLiquidation()||t},__("actions.save_changes"))))))))))}}]),t}(a.a.PureComponent);ve.defaultProps={portfolio:{},updatePortfolio:O.a.noop,onSuccess:O.a.noop,onClose:O.a.noop};var be=Object(ue.a)({form:o.z,getStepIncrement:function(e){var t=parseInt(e/10/o.t,10)*o.t;return t>100?t:100},normalizeNumber:function(e,t){return O.a.isEmpty(e)?e:/^\d*\.?\d{0,2}$/gi.test(e)?e:t}})(ve),_e=Object(he.a)(be),ye=n(310),Ee=n(529),Se=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var Ce=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={status:m.EMPTY},S()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Se(t,[{key:"componentDidMount",value:function(){this._mounted=!0}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"mounted",value:function(){return this._mounted}},{key:"handleClose",value:function(){this.setState({status:m.IN_PROCESS}),this.props.closePortfolio(this.props.portfolio.portfolioProviderId).then(O.a.callIf(this.onSuccess,this.mounted)).catch(O.a.callIf(this.onError,this.mounted))}},{key:"close",value:function(){this.props.onClose()}},{key:"onSuccess",value:function(){this.props.onSuccess(),this.close()}},{key:"onError",value:function(){this.setState({status:m.ERROR})}},{key:"onTryAgain",value:function(){this.setState({status:m.IN_PROCESS}),setTimeout(O.a.callIf(this.handleClose,this.mounted),500)}},{key:"render",value:function(){var e=this,t=this.state.status,n=this.props,r=n.portfolio,o=n.onErrorCancel,s=n.onErrorClose,l=n.onCancel,c=n.onClose;if(!r&&t===m.EMPTY)return a.a.createElement(Ee.default,{title:__("portfolios.confirm.closing.title"),message:__("portfolios.not_found"),onOK:c===O.a.noop?this.close:c});switch(t){case m.EMPTY:case m.CONFIRM:return a.a.createElement(se.a,{title:__("portfolios.confirm.closing.title"),message:__("portfolios.confirm.closing.text",r.portfolioName),onClose:c===O.a.noop?this.close:c,onCancel:l===O.a.noop?this.close:l,onOK:function(){return e.handleClose()},textOK:__("yes"),textCancel:__("no")});case m.IN_PROCESS:return a.a.createElement(ye.b,null,a.a.createElement(i.a,{position:"absolute",fit:!0}));case m.ERROR:return a.a.createElement(se.a,{title:__("errors.title"),message:__("server.request.generic.error.body",__("funded.client.contact_us.link")),textOK:__("actions.try_again"),onOK:this.onTryAgain,onCancel:o===O.a.noop?this.close:o,onClose:s===O.a.noop?this.close:s})}return null}}]),t}(a.a.PureComponent);Ce.defaultProps={onClose:O.a.noop,onCancel:O.a.noop,onSuccess:O.a.noop,onErrorClose:O.a.noop,onErrorCancel:O.a.noop};var we=Object(C.connect)((function(e,t){var n=t.portfolioProviderId;return{portfolio:Object(h.G)(e,n)}}),(function(e){return{closePortfolio:function(t){return e(Object(r.b)(t))}}}))(Ce),Oe=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var Te=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={shouldOpenPerformance:!1,shouldOpenEditPopup:!1,shouldOpenClosePopup:!1},S()(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Oe(t,[{key:"openPerformance",value:function(e){this.setState({shouldOpenPerformance:!0,portfolioProviderId:e})}},{key:"closePerformance",value:function(){this.setState({shouldOpenPerformance:!1})}},{key:"openPositionDetails",value:function(e){this.setState({shouldOpenPositionDetails:!0,portfolioProviderId:e})}},{key:"closePositionDetails",value:function(){this.setState({shouldOpenPositionDetails:!1})}},{key:"onDelete",value:function(e){this.props.history.push("/portfolios/funded/delete/"+e)}},{key:"onClosePortfolio",value:function(e){var t=e.portfolioProviderId;this.setState({shouldOpenClosePopup:!0,portfolioProviderId:t})}},{key:"onClosePortfolioClose",value:function(){this.setState({shouldOpenClosePopup:!1})}},{key:"onEdit",value:function(e){var t=e.portfolioProviderId,n=e.portfolioName;this.setState({shouldOpenEditPopup:!0,portfolioProviderId:t,portfolioName:n})}},{key:"onEditSuccess",value:function(){this.setState({shouldOpenEditPopup:!1})}},{key:"onEditClose",value:function(){this.setState({shouldOpenEditPopup:!1})}},{key:"render",value:function(){var e=this,t=this.state,n=t.portfolioName,i=t.portfolioProviderId,r=t.shouldOpenPerformance,o=t.shouldOpenPositionDetails,s=t.shouldOpenEditPopup,l=t.shouldOpenClosePopup,c=this.props.portfolios,u=O.a.isEmpty(c);return a.a.createElement("div",{className:"pane pane__fluid flex-column portfolios-content"},r&&a.a.createElement(A,{portfolioProviderId:i,onClose:this.closePerformance,onErrorClose:this.closePerformance,onErrorCancel:this.closePerformance}),o&&a.a.createElement(ie,{portfolioProviderId:i,shouldShowEdit:!0,onEdit:this.onEdit,onClosePortfolio:this.onClosePortfolio,onClose:this.closePositionDetails}),s&&a.a.createElement(_e,{onSuccess:this.onEditSuccess,onClose:this.onEditClose,portfolioProviderId:i,portfolioName:n}),l&&a.a.createElement(we,{onClose:this.onClosePortfolioClose,onCancel:this.onClosePortfolioClose,onSuccess:this.onClosePortfolioClose,onErrorClose:this.onClosePortfolioClose,onErrorCancel:this.onClosePortfolioClose,portfolioProviderId:i}),!u&&a.a.createElement("div",{className:"header--lighter"},a.a.createElement("div",{className:"page"},O.a.map(c,(function(t,n){return a.a.createElement("div",{className:"portfolio-table__body portfolio-table__body-funded",key:n},a.a.createElement($,{key:n,portfolio:t,shouldShowPerformanceLink:!0,onPerformance:e.openPerformance,onPositionDetails:e.openPositionDetails,onDelete:e.onDelete}))}))),a.a.createElement("div",{className:"pane"},a.a.createElement(f.a,{className:"color--muted fs-13 portfolio__legal-content wide-100 padded"}))),u&&a.a.createElement(p.a,null))}}]),t}(s.PureComponent),Pe=Object(C.connect)((function(e){return{portfolios:Object(h.P)(e)}}))(Te),ke=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var Ie=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return S()(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ke(t,[{key:"render",value:function(){var e=this.props,t=e.portfolio,n=e.onInvest,i=e.shouldShowInvest,r=t.portfolioName;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"portfolio-table__row flex flex-row pane__fluid"},a.a.createElement("div",{className:"bold flex flex-row flex-valign-center fs-13 pane__xfluid"},a.a.createElement("div",{className:"bold"},r)),i&&a.a.createElement("div",{className:"pane pane__xfluid fs-13 flex-align-end"},a.a.createElement(R.a,{btnType:"primary",onClick:function(){return n(r)},className:"pane pane__xfluid flex-align-center btn-invest",size:"small"},__("portfolio.invest.link")))),a.a.createElement("div",{className:"portfolio-table__row flex flex-row pane__fluid"},a.a.createElement("div",{className:"pane pane__xfluid fs-13"},__("portfolio.table.created_date")),a.a.createElement("div",{className:"pane pane__xfluid"},a.a.createElement(x.a,{portfolio:t}))),a.a.createElement("div",{className:"portfolio-table__row flex flex-row pane__fluid"},a.a.createElement("div",{className:"pane pane__xfluid fs-13"},__("portfolio.table.position_type")),a.a.createElement("div",{className:"pane pane__xfluid"},"")))}}]),t}(a.a.Component);Ie.defaultProps={onPerformance:O.a.noop,onDetails:O.a.noop,shouldOpenInfo:!0,portfolio:null,strategy:null,shouldShowPerformanceLink:!1};var Ae=Ie,xe=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var Ne=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return S()(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),xe(t,[{key:"onInvest",value:function(e){Object(Z.E)({portfolioName:e})}},{key:"render",value:function(){var e=this,t=this.props.portfolios,n=O.a.isEmpty(t);return a.a.createElement("div",{className:"pane pane__fluid flex-column portfolios-content"},!n&&a.a.createElement("div",{className:"header--lighter"},a.a.createElement("div",{className:"page"},O.a.map(t,(function(t,n){return a.a.createElement("div",{className:"portfolio-table__body portfolio-table__body-unfunded",key:n},a.a.createElement(Ae,{key:n,portfolio:t,onInvest:e.onInvest,shouldShowInvest:t.options&&t.options.filled}))}))),a.a.createElement("div",{className:"pane"},a.a.createElement(f.a,{className:"color--muted fs-13 portfolio__legal-content wide-100 padded"}))),n&&a.a.createElement(p.a,null))}}]),t}(s.PureComponent),De=Object(C.connect)((function(e){return{portfolios:Object(h.Q)(e)}}))(Ne),Re=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Le=function(){var e=Object(s.useState)(o.D.FUNDED),t=Re(e,2),n=t[0],i=t[1];return a.a.createElement("div",{className:"portfolios__mobile pane pane__fluid flex-column fs-13"},a.a.createElement("div",{className:"pane pane__row pane__fluid portfolios__mobile--tabs"},a.a.createElement("div",{className:D()({"portfolios__mobile--tab":!0,pane__xfluid:!0,"flex-align-center":!0,"fs-12":!0,"cursor--pointer":!0,selected:n===o.D.FUNDED}),onClick:function(){return i(o.D.FUNDED)}},__("portfolios.funded.title")),a.a.createElement("div",{className:D()({"portfolios__mobile--tab":!0,pane__xfluid:!0,"flex-align-center":!0,"fs-12":!0,"cursor--pointer":!0,selected:n===o.D.UNFUNDED}),onClick:function(){return i(o.D.UNFUNDED)}},__("portfolios.unfunded.title"))),a.a.createElement("div",{className:"pane pane__fluid pane__scroll"},a.a.createElement("div",{className:"pane pane__fluid pane__scroll-content"},n===o.D.FUNDED?a.a.createElement(Pe,null):a.a.createElement(De,null))))},Me=(n(967),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}());var je=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Me(t,[{key:"componentDidMount",value:function(){this.props.emitEvent(o.C.IMPRESSION)}},{key:"render",value:function(){var e=this.props.className,t=a.a.createElement("div",{className:"pane pane__fluid flex-align-center flex-valign-center"},a.a.createElement(i.a,{fit:!0})),n=a.a.createElement("div",{className:"pane pane__fluid flex-align-center flex-valign-center"},a.a.createElement("div",null,c()(__("server.request.generic.error.body",__("link.contact_us.funded.client")))));return a.a.createElement(u.a,{loaderComponent:t,errorComponent:n},a.a.createElement(d.a,{loaderComponent:t,errorComponent:n,successComponent:a.a.createElement("div",{className:e},a.a.createElement(Le,null))}))}}]),t}(a.a.PureComponent);t.default=Object(C.connect)(null,(function(e){return{emitEvent:function(t,n){e(Object(r.f)(t,n))}}}))(je)},function(e,t,n){"use strict";n(643);var i=n(134),r=n(0),o=n.n(r),s=n(18),a=n.n(s),l=n(1),c=n.n(l),u=o.a.createElement.bind(null,"div"),d=o.a.createElement.bind(null,"button"),p=o.a.createElement.bind(null,"a"),f=o.a.createElement.bind(null,"select"),h=o.a.createElement.bind(null,"option"),m=o.a.createElement.bind(null,"label"),g=0,v={38:"handleUpKey",40:"handleDownKey",32:"handleSpaceKey",13:"handleEnterKey",27:"handleEscKey",74:"handleDownKey",75:"handleUpKey"};function b(e){e&&(e.preventDefault(),e.stopPropagation())}a()({displayName:"DropdownMultiselect",getInitialState:function(){return{id:"react-select-box-"+ ++g,open:!1,focusedIndex:-1,pendingValue:[]}},getDefaultProps:function(){return{closeText:"Close",clearText:"Remove selection"}},changeOnClose:function(){return this.isMultiple()&&"true"===String(this.props.changeOnClose)},updatePendingValue:function(e,t){return!!this.changeOnClose()&&(this.setState({pendingValue:e},t),!0)},componentWillMount:function(){this.updatePendingValue(this.props.value)},componentWillReceiveProps:function(e){this.updatePendingValue(e.value)},clickingOption:!1,blurTimeout:null,handleFocus:function(){clearTimeout(this.blurTimeout)},handleBlur:function(){clearTimeout(this.blurTimeout),this.blurTimeout=setTimeout(this.handleClose,0)},handleMouseDown:function(){this.clickingOption=!0},handleChange:function(e,t){return function(n){if(this.clickingOption=!1,b(n),this.isMultiple()){var i=[];if(null!==e){var r=(i=this.value().slice(0)).indexOf(e);-1!==r?i.splice(r,1):i.push(e)}this.updatePendingValue(i,t)||this.props.onChange(i)}else this.updatePendingValue(e,t)||this.props.onChange(e),this.handleClose(),this.refs.button.getDOMNode().focus()}.bind(this)},handleNativeChange:function(e){var t=e.target.value;this.isMultiple()&&(t=[].slice.call(e.target.childNodes,0).reduce((function(e,t){return t.selected&&e.push(t.value),e}),[]));this.props.onChange(t)},handleClear:function(e){b(e),this.handleChange(null,(function(){this.props.onChange(this.state.pendingValue)}))(e)},toggleOpenClose:function(e){if(b(e),this.setState({open:!this.state.open}),this.state.open)return this.setState({open:!1});this.handleOpen()},handleOpen:function(e){b(e),this.setState({open:!0},(function(){this.refs.menu.getDOMNode().focus()}))},handleClose:function(e){b(e),this.clickingOption||this.setState({open:!1,focusedIndex:-1}),this.changeOnClose()&&this.props.onChange(this.state.pendingValue)},moveFocus:function(e){var t=o.a.Children.count(this.props.children),n=(this.state.focusedIndex+e+t)%t;this.setState({focusedIndex:n})},handleKeyDown:function(e){v[e.which]&&this[v[e.which]](e)},handleUpKey:function(e){b(e),this.moveFocus(-1)},handleDownKey:function(e){b(e),this.state.open||this.handleOpen(e),this.moveFocus(1)},handleSpaceKey:function(e){b(e),this.state.open?-1!==this.state.focusedIndex&&this.handleEnterKey():this.handleOpen(e)},handleEnterKey:function(e){-1!==this.state.focusedIndex&&this.handleChange(this.options()[this.state.focusedIndex].value)(e)},handleEscKey:function(e){this.state.open?this.handleClose(e):this.handleClear(e)},label:function(){var e=this.options().filter(function(e){return this.isSelected(e.value)}.bind(this)).map((function(e){return e.label}));return e.length>0?e.join(", "):this.props.label},isMultiple:function(){return"true"===String(this.props.multiple)},options:function(){var e=[];return o.a.Children.forEach(this.props.children,(function(t){e.push({value:t.props.value,label:t.props.children})})),e},value:function(){var e=this.changeOnClose()?this.state.pendingValue:this.props.value;return!this.isMultiple()||c.a.isArray(e)?e:null!==e?[e]:[]},hasValue:function(){return this.isMultiple()?this.value().length>0:null!==this.value()},isSelected:function(e){return this.isMultiple()?-1!==this.value().indexOf(e):this.value()===e},render:function(){var e="react-select-box-container";return this.props.className&&(e+=" "+this.props.className),this.isMultiple()&&(e+=" react-select-box-multi"),this.hasValue()||(e+=" react-select-box-empty"),u({onKeyDown:this.handleKeyDown,className:e},d({id:this.state.id,ref:"button",className:"react-select-box",onClick:this.toggleOpenClose,onBlur:this.handleBlur,tabIndex:"0","aria-hidden":!0},u({className:"react-select-box-label"},this.label())),this.renderOptionMenu(),this.renderClearButton(),this.renderNativeSelect())},renderNativeSelect:function(){var e=this.state.id+"-native-select",t=this.isMultiple(),n=[t?null:h({key:"",value:""},"No Selection")].concat(this.props.children);return u({className:"react-select-box-native"},m({htmlFor:e},this.props.label),f({id:e,multiple:t,onKeyDown:function(e){e.stopPropagation()},value:this.props.value||(t?[]:""),onChange:this.handleNativeChange},n))},renderOptionMenu:function(){var e="react-select-box-options";return this.state.open||(e+=" react-select-box-hidden"),u({className:e,onBlur:this.handleBlur,onFocus:this.handleFocus,"aria-hidden":!0,ref:"menu",tabIndex:0},u({className:"react-select-box-off-screen"},this.options().map(this.renderOption)),this.renderCloseButton())},renderOption:function(e,t){var n="react-select-box-option";return t===this.state.focusedIndex&&(n+=" react-select-box-option-focused"),this.isSelected(e.value)&&(n+=" react-select-box-option-selected"),p({id:this.state.id+"-"+t,href:"#",onClick:this.handleChange(e.value),onMouseDown:this.handleMouseDown,className:n,tabIndex:-1,key:e.value,onBlur:this.handleBlur,onFocus:this.handleFocus},e.label)},renderClearButton:function(){if(this.hasValue())return d({"aria-label":this.props.clearText,className:"react-select-box-clear",onClick:this.handleClear})},renderCloseButton:function(){if(this.isMultiple()&&this.props.closeText)return d({onClick:this.handleClose,className:"react-select-box-close",onBlur:this.handleBlur,onFocus:this.handleFocus},this.props.closeText)}});var _=n(658),y=(n(267),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e});var E=n(0),S=n(18),C=n(762),w=n(1),O=C.extend({initialize:function(){var e=this;C.prototype.initialize.apply(this,arguments),this._events={onchange:function(t){return e.options.onChange(t)}}}});S({displayName:"CheckboxIOS",getDefaultProps:function(){return{as:"div",name:"dropdown",title:"",checked:!1,onText:"on",offText:"off",disable:!1,onChange:w.noop}},getComposedOptions:function(){var e=this;return{className:this.props.childClassName,name:this.props.name,title:this.props.title,disable:this.props.disable,checked:this.props.checked,onText:this.props.onText,offText:this.props.offText,onChange:function(){return e.onChange()}}},componentDidMount:function(){this.createField()},getValue:function(){return this.field&&this.field.value()},setValue:function(e){this.field&&this.field.value(e)},createField:function(){this.field||(this.field=new O(y({parent:this.refs.el},this.getComposedOptions())),this.field.value(this.props.selected),this.field.render())},destroyField:function(){this.field&&(this.field.remove(),this.field=null)},onChange:function(e){this.props.onChange(this.field.value())},componentWillUnmount:function(){this.destroyField()},componentDidUpdate:function(){this.destroyField(),this.createField()},render:function(){var e=this.props,t=(e.children,e.onChange,e.name,e.title,e.checked,e.onText,e.offText,e.disable,function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["children","onChange","name","title","checked","onText","offText","disable"]));return E.createElement(t.as,y({},t,{ref:"el"}))}});n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return _.a}))},,,function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(100),o=n(43),s=n(187),a=n(108),l=n(1),c=o.extend({defaults:{filtered:[],filterAll:[]},bufferCollection:null,closeReasons:{},initialize:function(){l.each(["DEALER","CUSTOMER","LIMIT","MARGINCALL","STOP","SYSTEM","UNDEFINED","EXPIRED"],(function(e){this.closeReasons[e]=__("history.position.close.reason."+e.toLowerCase())}),this),this.bufferCollection=new r,this.bufferCollection._map={}},_getInstrumentProperty:function(e,t){return l.isFunction(e.get)?e.get(t):e[t]},_mappingClosedPositionModel:function(e){var t=e.instrument,n=a.user;return{side:e.quantity>0?"SELL":"BUY",quantity:e.quantity,plOpen:e.plOpen,openPrice:e.openPrice,closePrice:e.closePrice,openTime:n.applyOffsetToTimestamp(e.openTime),closeTime:n.applyOffsetToTimestamp(e.closeTime),openOrderChainId:e.openOrderChainId,orderChainId:e.closingOrderId,closeReason:this.closeReasons[e.closeReason]||e.closeReason,name:this.instrumentName(t),symbol:this._getInstrumentProperty(t,"symbol"),precision:this._getInstrumentProperty(t,"precision")}},instrumentName:function(e){return this._getInstrumentProperty(e,"name")||this._getInstrumentProperty(e,"displayName")},_filterData:function(e){return l.chain(e).filter((function(e){return this.bufferCollection._map[e]}),this).compact().map((function(e){return this._mappingClosedPositionModel(this.bufferCollection._map[e])}),this).value()},filteredData:function(e){var t=this._filterData(e);this.set("filtered",t,{silent:!0}),this.trigger("change",this)},allFilterData:function(e){var t=this._filterData(e);this.set("filterAll",t,{silent:!0}),this.trigger("change",this)},fillBuffer:function(e){e.edited.length>0&&l.each(e.edited,(function(e){var t=this.get(e.closingOrderId);if(t)t=e;else{var n=s.getInstrumentById(e.instrument.instrumentId);n&&(e.instrument=n),this.add(e),this._map[e.closingOrderId]=e}}),this.bufferCollection)}});i.exports=new c}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"h",(function(){return s})),n.d(t,"i",(function(){return a})),n.d(t,"g",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"j",(function(){return p}));var i="metaTrader-accounts/GET_ALL_META_TRADERS_ACCOUNTS",r="metaTrader-accounts/GET_ALL_META_TRADERS_ACCOUNTS_SUCCESS",o="metaTrader-accounts/GET_ALL_META_TRADERS_ACCOUNTS_ERROR",s="metaTrader-accounts/LOAD_META_TRADING_CENTRAL_LINK",a="metaTrader-accounts/LOAD_META_TRADING_CENTRAL_SUCCESS",l="metaTrader-accounts/LOAD_META_TRADING_CENTRAL_ERROR",c="manage-accounts/LOAD_METATRADER_BONUSES",u="manage-accounts/LOAD_METATRADER_BONUSES_SUCCESS",d="manage-accounts/LOAD_METATRADER_BONUSES_ERROR",p="metaTrader-accounts/SET_META_TRADING_RESET_PASSWORD_AVAILABLE"},,function(e,t,n){e.exports=n.p+"./images/d69cf1e71be0.svg"},,function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return c}));var i=n(933),r=function(e){return"\n(function(h,o,t,j,a,r){\n    h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};\n    h._hjSettings={hjid:"+e+",hjsv:6};\n    a=o.getElementsByTagName('head')[0];\n    r=o.createElement('script');r.async=1;\n    r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;\n    a.appendChild(r);\n})(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');\n"},o='#_hj_feedback_container [class$="_feedback_minimized_label"]';function s(e){var t=r(e);Object(i.a)(t)}function a(t){var n=window.hj;e.isFunction(n)&&n("trigger",t)}function l(){var e=document.querySelector(o);if(e){var t=new CustomEvent("click",{bubbles:!0,cancelable:!0});e.dispatchEvent(t)}}function c(){return!!document.querySelector(o)}}).call(this,n(1))},function(e,t,n){"use strict";n.r(t),n.d(t,"loadAllAccounts",(function(){return a})),n.d(t,"setLastAddedAccountsId",(function(){return l})),n.d(t,"setCurrentAccountExpanded",(function(){return c})),n.d(t,"setAccountExpanded",(function(){return u})),n.d(t,"resetAccountExpanded",(function(){return d}));var i=n(8),r=n.n(i),o=n(165),s=n(27);function a(e){return function(t){return t({types:[o.a,o.c,o.b],callApi:function(){return r.a.getAllAccountsInfo(e)}})}}function l(e){return function(t){t({type:o.f,payload:e})}}function c(){return function(e,t){var n=Object(s.getActiveCrmboAccountId)(t());e({type:o.e,payload:{accountId:n,isExpanded:!0}})}}function u(e,t){return function(n){n({type:o.e,payload:{accountId:e,isExpanded:t}})}}function d(){return function(e){e({type:o.d})}}},function(e,t,n){e.exports={Bid:n(1532),Ask:n(1533),Quote:n(328),Change:n(1534),Spread:n(1535),RateDirection:n(1536)}},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(232),s=n.n(o),a=n(951),l=n.n(a),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.default=function(e){return r.a.createElement(s.a,c({name:l.a},e))}},function(e,t,n){"use strict";n.r(t);var i=n(5),r=n.n(i),o=n(0),s=n.n(o),a=n(4),l=n(103),c=n.n(l),u=n(46),d=n(480),p=n(288),f=n(289),h=n(287),m=n(221),g=n(220),v=n(338),b=n(339),_=n(337),y=n(247),E=n(87),S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.default=Object(a.connect)(null,(function(e){return{selectInstrument:function(t,n){e(Object(u.selectInstrumentSymbolAndUpdateUrl)(n))},cancelOrder:function(e,t){var n=c.a.getOrderById(t);r.a.trigger("ui:cancel-order",n)},editOrder:function(e,t){e.preventDefault(),e.stopPropagation();var n=c.a.getOrderById(t);r.a.trigger("ui:edit-order",n)}}}))((function(e){var t=e.selectInstrument,n=e.editOrder,i=e.cancelOrder,r=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["selectInstrument","editOrder","cancelOrder"]);return s.a.createElement(d.a,S({},r,{renderItem:function(e){return s.a.createElement("div",{onClick:function(e){return t(e,r.symbol)},className:"subrow-expanded grid-12 grid-noGutter order",key:"order-"+e},s.a.createElement("div",{className:"col-10 grid-middle order__info"},s.a.createElement("div",{className:"col-3 order__type"},s.a.createElement("i",{className:"icon icon-order-grey"}),s.a.createElement("span",{className:"subrow-expanded__title"},__("order"),": "),s.a.createElement(h.a,{orderId:e,as:"span"})," ",s.a.createElement(p.a,{orderId:e,as:"span"})," "),s.a.createElement("div",{className:"col-9"},s.a.createElement("span",null,s.a.createElement("span",null,__("order.form.amount.cfd"),":"," "),s.a.createElement("span",null,s.a.createElement(m.a,{orderId:e})," ",s.a.createElement(f.a,{orderId:e,as:"span"})," ",s.a.createElement(g.a,{orderId:e}),s.a.createElement(v.a,{orderId:e,before:", "+__("notification.protection.stopLoss")+" "}),s.a.createElement(b.a,{orderId:e,before:", "+__("notification.protection.takeProfit")+" "}))))),s.a.createElement("div",{className:"col-2 grid-middle grid-right"},s.a.createElement(_.a,{as:"div",className:"btn btn-sm",symbol:r.symbol,onClick:function(t){return n(t,e)}},s.a.createElement(E.default,{name:"edit",width:10,height:16})),s.a.createElement(y.a,{as:"div",className:"btn btn-sm",symbol:r.symbol,onClick:function(t){return i(t,e)}},s.a.createElement(E.default,{name:"close",width:14,height:14}))))}}))}))},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var o=n(1),s=n(20),a=o.template(n(1403)),l=n(169),c=n(71).default;i.exports=s.extend({initialize:function(e){s.prototype.initialize.apply(this,arguments),this.$parent=e.$parent,this.render(),this.isActive=!0},show:function(){this.$parent.html(a({model:this.model,device:c})),this.form=new l({el:this.$parent.find(".form")}),o.each(this.model.getFormFields(),this._setFieldsControls,this),o.each(this.model.getFormFields(),this._updateFieldValue,this),this.setUpFormFieldValues(),c.mobile()&&c.ios()&&o.each(document.querySelectorAll("select"),(function(e){return e.appendChild(document.createElement("optgroup"))}));var e=document.querySelectorAll(".styled-select select"),t=c.android()?"focus":"blur";o.each(e,(function(e){r(e).on(t,(function(){var e=r(this);"select-one"===e[0].type&&"EMPTY"===e[0].selectedOptions[0].value&&(e[0].selectedIndex=1),e.parent().parent().removeClass("field-error"),e.trigger("change"),o.contains(["day","month","year"],e.attr("name"))&&e.parent().addClass("field-ok")}))}))},setUpFormFieldValues:function(){var e=this,t=this.model.setUpFormFieldValues();o.each(t,(function(t,n){e.fieldValue(n,t)}))},saveData:function(){var e=this.getData();return this.model.saveFormValues(e),e},validate:function(){return this.form.validate()},getErrorFields:function(){return this.form.getErrorFields()},getData:function(){return this.form.getData(!0)},fieldValue:function(e,t){var n=this.form.getField(e);n&&n.setValueWithFireChangeEvent(t)},_isActive:function(){return this.isActive},_setFieldsControls:function(e){this._setRules(e),this._setDependentHandler(e),this._setEvents(e)},_updateFieldValue:function(e){this.fieldValue(e.name,e.savedData)},_setEvents:function(e){if(!o.isEmpty(e.events)){var t=this.form.getField(e.name);t&&t.setEvent&&o.each(e.events,(function(e,n){t.setEvent(n,e)}))}},_setDependentHandler:function(e){if(!o.isEmpty(e.dependent)){var t=this.form.getField(e.name);t&&o.each(e.dependent,(function(e){t.listenTo(t,"dependent:field:"+e.name+":change",e.handler.bind(t))}))}},_setRules:function(e){if(e.validation){var t=this.form.getField(e.name);t&&(t.setRules(e.validation.rules),t.setFilters(e.validation.filters))}},remove:function(){this.form&&this.form.getFieldsList()&&o.each(this.form.getFieldsList(),(function(e){e&&e.unmount&&e.unmount()})),s.prototype.remove.call(this)}})}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(43);i.exports=o.extend({setUpFormFieldValues:function(){var e=this.get("action");return r.isUndefined(e)?{}:e.before(this.getSavedData())},getFormFields:function(){return r.union(this.get("top"),this.get("bottom"),r.flatten(this.get("form")))},getSavedData:function(){return r.reduce(this.getFormFields(),(function(e,t){if(r.isUndefined(t.savedData))return e;if(e[t.name]=t.savedData,t.details){var n=t.details.value;r.isUndefined(n)||(e[t.name+"_details"]=n)}return e}),{})},_updateSavedData:function(e,t){if(!(r.isUndefined(e)||r.isUndefined(t)||r.isUndefined(e[t.name]))&&(t.savedData=e[t.name],t.details)){var n=e[t.name+"_details"];r.isUndefined(n)||(t.details.value=n)}},saveFormValues:function(e){var t=this.get("action");r.isUndefined(t)||(e=r.isFunction(t.after)?t.after(e):e);var n=r.each(this.get("top"),r.partial(this._updateSavedData,e)),i=r.each(this.get("bottom"),r.partial(this._updateSavedData,e)),o=r.each(this.get("form"),(function(t){r.each(t,r.partial(this._updateSavedData,e))}),this);this.set("top",n),this.set("bottom",i),this.set("form",o)}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(65),s=n(533),a=n(7),l=n.n(a),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={DropdownIndicator:function(e){return r.a.createElement(o.g.DropdownIndicator,e,r.a.createElement("div",{className:"indicator"}))}};t.default=function(e){var t,n=e.className,i=void 0===n?"":n,o=e.fluid,a=void 0!==o&&o,p=e.error,f=e.size,h=void 0===f?"default":f,m=(e.isClearable,e.isSearchable),g=void 0!==m&&m,v=(e.inputIsHidden,e.isHidden,e.menuPlacement),b=void 0===v?"auto":v,_=(e.controlShouldRenderValue,e.components),y=void 0===_?d:_,E=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["className","fluid","error","size","isClearable","isSearchable","inputIsHidden","isHidden","menuPlacement","controlShouldRenderValue","components"]);return r.a.createElement(s.default,c({components:y,className:l()((t={Select:!0},u(t,h,h),u(t,"fluid",a),u(t,"Select--error",!!p),u(t,i,!!i),t)),classNamePrefix:"Select",isSearchable:g,menuPlacement:b},E))}},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(7),s=n.n(o),a=n(4),l=n(49),c=n(1),u=n.n(c),d=n(15),p=n.n(d),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return p()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),h(t,[{key:"onClick",value:function(e){var t=this.props,n=t.onClick,i=t.closable;e.preventDefault(),e.stopPropagation(),i&&n(e)}},{key:"render",value:function(){var e,t,n,i=this.props,o=i.closable,a=(i.dispatch,i.symbol),c=i.className,u=(i.onClick,i.children),d=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(i,["closable","dispatch","symbol","className","onClick","children"]),p=s()((n=!!c,(t=c)in(e={disabled:!o})?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e));return o||(d.disabled=!0,d["aria-label"]=Object(l.getNotClosableMessage)(a)),r.a.createElement(d.as,f({className:p},d,{onClick:this.onClick}),u)}}]),t}(r.a.Component);m.defaultProps={onClick:u.a.noop,as:"span"},t.a=Object(a.connect)((function(e,t){var n=t.symbol;return{closable:Object(l.isPositionsClosable)(e,n)}}))(m)},,function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(7),s=n.n(o),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"render",value:function(){var e,t=this.props,n=t.as,i=t.transKey,o=t.className,l=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(t,["as","transKey","className"]),u=s()((c(e={},o,!!o),c(e,"item-label",!0),c(e,"item-label-new",!0),e));return r.a.createElement(n||"span",a({className:u},l),i?__(i):"New!")}}]),t}(r.a.Component);t.a=u},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=function(e){return r.a.createElement("div",e,__("portfolio.builder.legal"))};o.defaultProps={className:"pane pane__xfluid color--muted fs-13 portfolio__legal-content"},t.a=o},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var o=n(0),s=n(22),a=n(1507),l=n(1509),c=(n(327),n(327).size),u=(n(327).DEFAULT_COLUMN_MIN_WIDTH,n(1)),d=n(368).default,p=n(33).default,f=n(18)({displayName:"Grid",columnWidths:{},numberOfVisibleColumns:0,getDefaultProps:function(){return{className:"",empty:null,initialSort:!1,initialSortXS:"",initialSortSM:"",initialSortMD:"",initialSortLG:"",shouldHideColumns:!1,onClick:function(){},onRowClick:function(){},onSubRowClick:function(){},collection:[],columns:[],columnsXS:[],columnsSM:[],columnsMD:[],columnsLG:[],columnsContainerProps:null,columnsContainerPropsXS:null,columnsContainerPropsSM:null,columnsContainerPropsMD:null,columnsContainerPropsLG:null,customRowComponent:null,customRowComponentXS:null,customRowComponentSM:null,customRowComponentMD:null,customRowComponentLG:null,selectedRowId:null,customRowsComponent:null,toggleOnRowClick:!1,autoHideColumns:!1}},getInitialState:function(){return{collection:this.props.collection,className:this.props.className,showOpenPositions:this.props.showOpenPositions,showOrders:this.props.showOrders,screenSize:this.detectScreenSize(),columns:this.getColumns(),invalidate:!1,sortingData:{},selectedRowId:this.props.selectedRowId}},componentWillMount:function(){var e=this.getInitialSort();e&&this.changeSort(e)},componentDidMount:function(){window.addEventListener("resize",this.onResize,!1),this.props.collection.on("reset sort update sync",this.update,this)},componentWillUnmount:function(){window.removeEventListener("resize",this.onResize,!1),this.props.collection.off("reset sort update sync",this.update,this)},update:function(e){var t=e&&e.collection||this.props.collection;this.setState({collection:t,invalidate:!this.state.invalidate})},setSelectedRow:function(e){this.state.selectedRowId=e;var t=this.refs.rows;t&&t.setSelectedRow(e)},getSelectedRowElement:function(){var e=this.refs.rows;return!!e&&e.getSelectedRowElement()},getInitialSort:function(){var e="initialSort"+this.detectScreenSize();return this.props[e]||this.props.initialSort},getColumnsConfig:function(e,t){var n=this.props[e],i=this.props[e+t];return u.isEmpty(i)?n:i},getListOfSuitableColumns:function(e){return u.reject(e,(function(e){return e.alwaysInExpandable}))},getColumns:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.detectScreenSize(),n=this.getColumnsConfig("columns",t);if(e||!1===this.props.autoHideColumns||u.isNull(this.state))return this.numberOfVisibleColumns=n.length,n;var i=this.getListOfSuitableColumns(n);return this.numberOfVisibleColumns=i.length,i},getHiddenColumns:function(){return u.difference(this.props.columns,this.getColumns())},getColumnsContainerProps:function(){var e=this.detectScreenSize();return this.getColumnsConfig("columnsContainerProps",e)},detectScreenSize:function(){var e=parseInt(window.innerWidth);return e<c.EXTRA_SMALL?"XS":e<c.SMALL?"SM":e<c.MIDDLE?"MD":e>=c.MIDDLE?"LG":void 0},onResize:function(){var e=this.detectScreenSize();e!==this.state.screenSize&&this.setState({columns:this.getColumns(),screenSize:e})},getColumnByName:function(e){var t=this.getColumns(!0);return u.filter(t,(function(t){return e===t.name}))[0]},changeSort:function(e,t){var n=this.props.collection,i=this.getColumnByName(e),r=i&&i.columnProps,o=r&&r.sortCompareFn;if(o){var s=t||r.sortDirection||0,a=r.sortAscending,l=-1*s;0===l&&(l=a?-1:1),n.sortDirection=l,n.comparator=o,n.sort(),this.setState({sortingData:{columnName:e,sortDirection:l}})}},getColumnContainer:function(e){return this.props.shouldHideColumns?null:o.createElement(a,u.extend({},this.getColumnsContainerProps(),{key:e,columns:this.getColumns(),collection:this.state.collection,onSort:this.changeSort,sortingData:this.state.sortingData}))},componentWillReceiveProps:function(e){u.isEqual(e.collection,this.props.collection)||this.update(e)},render:function(){var e=["instruments-table",this.state.screenSize,this.state.className,this.state.collection.isEmpty()?"empty":""].join(" ");return o.createElement("div",{className:e},this.state.collection.isEmpty()?this.getEmptyContainer():this.getDataContainer())},getEmptyContainer:function(){if(this.props.empty)return o.createElement(this.props.empty)},getCustomRowsComponent:function(){var e=this.detectScreenSize();return this.props["customRowsComponent"+e]||this.props.customRowsComponent},onKeyDown:function(e){var t=this.refs.rows;t&&t.onKeyDown&&t.onKeyDown(e)},getDataContainer:function(){var e=this.detectScreenSize(),t="rows"+e+this.state.invalidate,n="columns"+e,i=this.getCustomRowsComponent()||l;return o.createElement("table",{onClick:this.props.onClick},this.getColumnContainer(n),o.createElement(i,{ref:"rows",key:t,screenSize:e,columns:this.getColumns(),hiddenColumns:this.getHiddenColumns(),collection:this.state.collection,showOpenPositions:this.state.showOpenPositions,showOrders:this.state.showOrders,customRowComponent:this.props.customRowComponent,customRowComponentXS:this.props.customRowComponentXS,customRowComponentSM:this.props.customRowComponentSM,customRowComponentMD:this.props.customRowComponentMD,customRowComponentLG:this.props.customRowComponentLG,onRowClick:this.props.onRowClick,onSubRowClick:this.props.onSubRowClick,selectedRowId:this.state.selectedRowId,toggleOnRowClick:!0===this.props.toggleOnRowClick||this.props.toggleOnRowClick===e,autoHideColumns:this.props.autoHideColumns}))}});i.exports=function(e,t,n){var i=u.extend({parentElement:t},e),a=void 0;return s.render(o.createElement(f,i),t,(function(){if(a=this,p.desktop()){var e=r(t),i=e.find("thead")[0];if(!u.isUndefined(i))d.init(e[0],{syncCallbacks:!0}).addListener((function(e){var t=e.offset;i.style.top=t.y+"px"}))}n&&n()})),{get element(){return a},destroy:function(){if(p.desktop()){var e=r(t);e&&d.destroy(e&&e[0])}s.findDOMNode(t)&&s.unmountComponentAtNode(t)}}},i.exports.component=f}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(124);i.exports=function(e){var t=__("socket.error.title"),n=__("server.request.generic.error.body",__("link.contact_us.funded.client"));return new r({parent:document.body,caption:t,text:n,onOK:e,actions:{onClose:e},zIndex:1e6})}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(1);var s=function(e){var t=e.onClose,n=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["onClose"]);return r.a.createElement(n.as,n,r.a.createElement("div",null,r.a.createElement("div",{className:"icon icon-orders-empty"}),r.a.createElement("div",{className:"caption"},__("tab.orders.empty.line1")),r.a.createElement("div",{className:"text"},__("tab.orders.empty.line2")),r.a.createElement("div",{className:"text"},__("tab.orders.empty.line3")),r.a.createElement("br",null),r.a.createElement("a",{className:"btn btn-primary",href:"#trading",onClick:t},__("tab.orders.empty.button"))))};s.defaultProps={as:"div",onClose:n.n(o).a.noop},t.default=s},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(243),s=o.extend({events:function(){return r.extend({},r.result(o.prototype,"events"),{"input input":"onChange"})},initialize:function(e){this.$input=this.$el.find("input"),o.prototype.initialize.apply(this,arguments),e.template&&(this.$input=this.$el.find("input")),this.setName(this.$el.find("input").attr("name")),this.$input[0].onfocus=this.onFocus.bind(this),r.isEmpty(this.value())&&this.setDefaultValue(),this.isNoPaste()&&(this.$input[0].onpaste=function(e){return e.preventDefault()})},isNoPaste:function(){return!!this.$input.attr("no-paste")},setEvent:function(e,t){this.$input[0][e]=t.bind(this)},getDefaultValue:function(){return this.$input.attr("default-value")},setDefaultValue:function(e){return void 0!==e&&this.$input.attr("default-value",e),o.prototype.setDefaultValue.call(this)},getDefaultOptions:function(){return r.extend({},r.result(o.prototype,"getDefaultOptions"))},isDefaultValue:function(){return this.value()===this.getDefaultValue()},isEmpty:function(){return r.isEmpty(this.value())||this.isDefaultValue()},onChange:function(e){e.preventDefault(),this.value(this.filterValue(this.value())),this.fireChangeEvent(),this.executeCustomOnChange(e)},filterValue:function(e){var t=e;if(this._filters)for(var n in this._filters)t=this.filter(this._filters[n],t);return t},onFocus:function(e){this.isDefaultValue()&&this.value(""),this.setDefaultState()},disableElement:function(){this.setDefaultValue(),this.$el.addClass("field-disabled"),this.$el.find("input").attr("disabled",!0)},enableElement:function(){this.$el.removeClass("field-disabled"),this.$el.find("input").removeAttr("disabled")},getHtmlTemplate:function(){var e=this.options.template;return e?e(r.pick(this.options,["disable","dependent","title","defaultValue","placeholder","type","name","conversion","type"])):""}});i.exports=s}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){"use strict";n.r(t),n.d(t,"isLeverageChangeTabAvailable",(function(){return c}));var i=n(1),r=n.n(i),o=n(2),s=n(27),a=n(9),l=n.n(a),c=Object(o.a)([s.getLeverages,s.getUserTradingAccounts],(function(e,t){return r.a.size(e)>1&&!r.a.isEmpty(t)&&l.a.isLeverageChangeEnabled()}))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(18),s=n.n(o),a=n(4),l=n(7),c=n.n(l),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=Object(a.connect)((function(e,t){var n=t.positionCode,i=e.positions.POSITION_METRICS[n],r=i&&i.plOpen||!1;return{isPositive:r>0,isNegative:r<0}}))(s()({render:function(){var e,t=this.props,n=t.as,i=(t.positionCode,t.dispatch,t.isPositive),o=t.isNegative,s=t.className,a=t.children,l=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(t,["as","positionCode","dispatch","isPositive","isNegative","className","children"]),p=c()((d(e={},s,!!s),d(e,"up",i),d(e,"down",o),e));return r.a.createElement(n||"span",u({},l,{className:p}),a)}}))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),s=n(6),a=n.n(s),l=n(73),c=n.n(l),u=n(88);var d=function(e){var t=e.plOpen,n=(e.dispatch,e.positionCode,function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["plOpen","dispatch","positionCode"]));return r.a.createElement(n.as,n,c()(t).formatForeignCurrency(a.a.getUserCurrencySymbol(),"$0.00"))};d.defaultProps={as:"span"},t.a=Object(o.connect)((function(e,t){var n=t.positionCode;return{plOpen:Object(u.getPositionPLById)(e,n)}}))(d)},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(7),s=n.n(o),a=n(4),l=n(49),c=n(1),u=n.n(c),d=n(15),p=n.n(d),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return p()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),h(t,[{key:"onClick",value:function(e){var t=this.props,n=t.onClick,i=t.editable;e.preventDefault(),e.stopPropagation(),i&&n(e)}},{key:"render",value:function(){var e,t,n,i=this.props,o=i.editable,a=(i.dispatch,i.symbol),c=i.className,u=i.children,d=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(i,["editable","dispatch","symbol","className","children"]),p=s()((n=!!c,(t=c)in(e={disabled:!o})?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e));return o||(d.disabled=!0,d["aria-label"]=Object(l.getNotEditableMessage)(a)),r.a.createElement(d.as,f({className:p},d,{onClick:this.onClick}),u)}}]),t}(r.a.Component);m.defaultProps={onClick:u.a.noop,as:"span"},t.a=Object(a.connect)((function(e,t){var n=t.symbol;return{editable:Object(l.isPositionsEditable)(e,n)}}))(m)},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),s=n(88);var a=function(e){var t=e.value,n=(e.dispatch,e.positionCode,function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["value","dispatch","positionCode"]));return r.a.createElement(n.as,n,t)};a.defaultProps={as:"span"},t.a=Object(o.connect)((function(e,t){var n=t.positionCode;return{value:Object(s.getOpenPositionDirectionById)(e,n)}}))(a)},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.a=Object(o.connect)((function(e,t){var n=t.positionCode,i=e.positions.OPEN_POSITION[n],r=e.instruments.FX_INSTRUMENT[i._instrumentSymbol];return{value:i&&i.takeProfit&&i.takeProfit.fixedPrice||null,precision:r&&r.precision}}))((function(e){var t=e.value,n=e.as,i=(e.dispatch,e.positionCode,e.precision),o=(e.children,e.before),a=e.after,l=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["value","as","dispatch","positionCode","precision","children","before","after"]);return null===t?null:r.a.createElement(n||"span",s({},l),o,Number(t).toFixed(i),a)}))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.a=Object(o.connect)((function(e,t){var n=t.positionCode,i=e.positions.OPEN_POSITION[n],r=e.instruments.FX_INSTRUMENT[i._instrumentSymbol];return{value:i&&i.stopLoss&&i.stopLoss.fixedPrice||null,precision:r&&r.precision}}))((function(e){var t=e.value,n=e.as,i=(e.dispatch,e.positionCode,e.precision),o=(e.children,e.before),a=e.after,l=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["value","as","dispatch","positionCode","precision","children","before","after"]);return null===t?null:r.a.createElement(n||"span",s({},l),o,Number(t).toFixed(i),a)}))},function(e,t,n){var i=n(0),r=n(18),o=n(5),s=n(26),a=n(1),l=n(103),c="change:sellTradable change:buyTradable change:outOfMarketHours change:isMarginLevelLow change:cancelable",u=function(){return a.filter(a.keys(l._instrumentIds),(function(e){var t=s.getInstrumentById(e);return t&&t.status.isCancelable()})).length};e.exports=r({displayName:"exports",getDefaultProps:function(){return{className:"",prevent:!1}},getInitialState:function(){return{disabled:!u()}},click:function(e){!1!==this.props.prevent&&(e.preventDefault(),e.stopPropagation()),o.trigger("orders:cancel_all")},componentDidMount:function(){this.createListener(),l.on("add-instrument",this.createSubscription,this),l.on("remove-instrument",this.removeSubscription,this)},componentWillUnmount:function(){this.removeListener(),l.off("add-instrument",this.createSubscription,this),l.off("remove-instrument",this.removeSubscription,this)},shouldComponentUpdate:function(e,t){return t.disabled!==this.state.disabled},createSubscription:function(e){var t=s.getInstrumentById(e);t&&(t.on(c,this.update,this),this.update())},removeSubscription:function(e){var t=s.getInstrumentById(e);t&&(t.off(c,this.update,this),this.update())},updateListener:function(){this.removeListener(),this.createListener(),this.update()},createListener:function(){a.map(a.keys(l._instrumentIds),this.createSubscription,this)},removeListener:function(){a.map(a.keys(l._instrumentIds),this.removeSubscription,this)},update:function(){this.setState({disabled:!u()})},render:function(){return i.createElement("button",{className:"btn "+this.props.className,disabled:this.state.disabled,onClick:this.click},__("actions.cancel_all_orders"))}})},,,,,,,,,,,,,,,,,,,,,function(e,t,n){var i;void 0===(i=function(e,t,n){var i=Object.freeze({desktop:8,iOSMobile:9,androidMobile:10,iOSTablet:11,androidTablet:12,iOSMobileWrapper:13,androidMobileWrapper:14,iOSTabletWrapper:15,androidTabletWrapper:16});n.exports={DEVICES:i}}.call(t,n,t,e))||(e.exports=i)},,function(e,t,n){"use strict";n.r(t),n.d(t,"PARAM",(function(){return i})),n.d(t,"PATH",(function(){return r}));var i={PATH:"path",CHART:"chart"},r={SYNC:"sync",DETAILS:"details",INDICATORS:"indicators"}},function(e,t,n){(function(i,r){var o,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();void 0===(o=function(e,t,i){var o=n(1),a=n(6),l=n(8),c=n(315),u=n(5),d=o.template("<div class='tc-inactive'><%=__('trading.central.status.disabled')%></div><div><%=__('trading.central.status.contact')%></div>")(),p={categories:"Other",id:"TradingCentral",lines:[{colors:["#31921a"],thickness:1,title:__("trading.central.study.resistance.title"),type:"LINEAR_TYPE"},{colors:["#db2e27"],thickness:1,title:__("trading.central.study.support.title"),type:"LINEAR_TYPE"},{colors:["#6543ba"],thickness:1,title:__("trading.central.study.pivot.title"),type:"LINEAR_TYPE"}],overlaying:!0,parameters:[],parametersId:"",title:__("trading.central.button.expand")},f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return s(e,null,[{key:"isEnabled",value:function(){return a.getUserCommonData().isTradingCentralEnabled()}},{key:"isAvailable",value:function(){return a.getUserAccountServices().isTradingCentralAvailable()}},{key:"showUnavailableMessage",value:function(e){u.trigger("ui:message-box",{parent:r("body"),text:d,isHeaderShowed:!1,onOK:function(){return e&&e.destroy()}})}},{key:"save",value:function(e,t){return e?l.storeSettings({"chart.setting/tradingCentral":t}).then((function(){return a.getUserCommonData().setTradingCentralSettings(t),Promise.resolve()})):l.deleteSetting({"chart.setting/tradingCentral":{}}).then((function(){return a.getUserCommonData().setTradingCentralSettings(),Promise.resolve()}))}},{key:"defaults",get:function(){return c(p)}},{key:"settings",get:function(){return e.isEnabled()?c(a.getUserCommonData().getTradingCentralSettings()):e.defaults}}]),e}();i.exports=f}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(18)({displayName:"GridCell",render:function(){var e=[this.props.className].join(" "),t=String(this.props.model.get(this.props.column.key));return this.props.column.valueLocalizable&&(t=__((this.props.column.localizationKeyPrefix||"")+(this.props.column.localizationValueToUpperCase?t.toUpperCase():t.toLowerCase()))),r.createElement("td",{className:e},t)}});i.exports=o}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,i){n(1);var r=n(43),o=n(8),s=n(6),a=n(9);i.exports=r.extend({defaults:{spreadRebate:null},load:function(){if(!a.isSpreadRebateEnabled())return this.set("enabled",!1),Promise.resolve();var e=s.getPlatformAccountId();return o.getSpreadRebate(e).then(this.loadSuccess.bind(this)).catch(this.loadError.bind(this))},loadSuccess:function(e){return e.data?(this.set("spreadRebate",e.data),this.getSpreadRebate().active?this.set("enabled",!0):this.set("enabled",!1),Promise.resolve(e)):Promise.reject()},loadError:function(e){return Promise.reject(e)},getSpreadRebate:function(){return this.get("spreadRebate")||{}},isEnabled:function(){return this.get("enabled")}})}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(43),s=n(5),a=n(8),l=n(9),c=n(6),u=n(390).MessageType,d=n(807).MessageCategory,p=o.extend({defaults:function(){return{active:{},bonuses:[],hasBonuses:!1}},initialize:function(){l.isBonusesEnabled()&&(this.listenTo(s,"user:info",this.load),this.listenTo(s,"user:active_bonus:reload",this.reloadActiveBonus),this.listenTo(s,"stream:type:MESSAGE",this.onOrderFilledMessage))},reloadActiveBonus:function(){this.loadActiveBonusProgress(),this.loadBonusProgress()},hasActiveBonus:function(){return!r.isEmpty(this.getActiveBonus())&&this.getVolume()>0},getActiveBonus:function(){return this.get("active")},hasBonuses:function(){return this.get("hasBonuses")},hasCashBonuses:function(){return!r.isEmpty(r.find(this.get("bonuses"),(function(e){return"PENDING_BONUS"!==e.type})))},getBonuses:function(){return this.get("bonuses")},getVolume:function(){return this.getActiveBonus().volume},getCurrentPoints:function(){return this.getActiveBonus().currentPoints},getTargetPoints:function(){return this.getActiveBonus().targetPoints},getExpiration:function(){return this.getActiveBonus().expiration},getEventOptions:function(){return{bonusAmount:this.getVolume(),bonusCurrency:c.getUserCurrencySymbol(),currentPoints:this.getCurrentPoints(),targetPoints:this.getTargetPoints(),bonusType:this.getActiveBonus().type}},loadBonusProgress:function(){return a.queryBonusProgress().then(this.loadBonusProgressSuccess.bind(this))},loadActiveBonusProgress:function(){return a.queryActiveBonus().then(this.loadActiveBonusProgressSuccess.bind(this))},loadActiveBonusProgressSuccess:function(e){var t=e.data;return this.set({active:r.isEmpty(t)?{}:t}),Promise.resolve(this)},loadBonusProgressSuccess:function(e){var t=this,n=e.data;return r.isEmpty(n)||this.set({hasBonuses:!0,bonuses:n}),r.each(n,(function(e){"IN_PROGRESS"===e.status&&t.set({active:e})})),Promise.resolve(this)},load:function(){this.loadBonusProgress()},onOrderFilledMessage:function(e){var t=this;r.each(e,(function(e){e.type===u.ORDER_FILLED&&e.category===d.TRADE_LOG&&t.loadActiveBonusProgress()}))}});i.exports=new p}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(43),s=n(6),a=n(8),l=n(9),c=n(102),u=n(3),d=u.EMPTY,p=u.LOADING,f=u.SUCCESS,h=u.ERROR,m=o.extend({defaults:function(){return{accountCurrencySymbol:s.getUserCurrencySymbol()}},status:function(e){var t=this;return function(n,i){var o={};o[e]=n,t.set(r.extend({},i,o)),t.update()}},loadDepositAmountSizes:function(){var e=s.getAccountId(),t=s.getPassword(),n=s.getUserCurrency(),i=s.getCountry(),o=this.status("statusOfDepositAmountSizes");return(s.isPromotionMarketsX()&&!c.FIRST_DEPOSIT_MADE()?a.loadDepositFirstAtm().then((function(e){return e.data})):a.loadDepositAmounts(e,t,n,i).then((function(e){var t=e.data;return(r.isArray(t)?t:[]).map((function(e){return{amount:e,emphasized:!1}}))}))).then(this.onLoadAmountsSizesSuccess.bind(this)).catch((function(e){return o(h)}))},onLoadAmountsSizesSuccess:function(e){var t=this.status("statusOfDepositAmountSizes"),n=l.getDepositAmountSizes(),i=r.some(n,(function(t){return Number(t)%e.length==0}));t(f,{amounts:e,isAmountSizeSuitable:i})},loadDepositAmountConfig:function(){var e=this.status("statusOfDepositAmountConfig");return e(p),a.loadDepositAmountsConfig().then((function(e){return e.data})).then(this.onLoadDepositAmountConfigSuccess.bind(this)).catch((function(t){return e(h)}))},onLoadDepositAmountConfigSuccess:function(e){this.status("statusOfDepositAmountConfig")(f,e)},loadDepositAmountsConfigForTradingAccount:function(e){var t=this.status("statusOfDepositAmountConfig");return t(p),a.loadDepositAmountsConfigForTradingAccount(e).then((function(e){return t(f,e.data)})).catch((function(e){return t(h)}))},getCurrentFormattedLeverageValue:function(){return this.leverage.getCurrentFormattedLeverageValue()},getCurrentLeverageValue:function(){return this.leverage.getCurrentLeverageValue()},getMinAmount:function(){return this.get("minAmount")},getMaxAmount:function(){return this.get("maxAmount")},getDefaultAmount:function(){var e=this.get("defaultAmount"),t=this.get("minAmount"),n=this.get("maxAmount");return e<=t?t:e>=n?n:e},loadLeverage:function(){var e=s.getUserLeverageLevels(),t=this.status("statusOfLeverage");t(p),e.load().then((function(e){return t(f)})).catch((function(e){return t(h)})),this.leverage=e},isDepositAmountsEnabled:function(){return l.isDepositAmountsEnabled()},isSelectingAmountEnabled:function(){return this.isDepositAmountsEnabled()&&this.get("isAmountSizeSuitable")},flushStatuses:function(){this.set({statusOfDepositAmountConfig:d,statusOfLeverage:d,statusOfDepositAmountSizes:d})},update:function(){var e=this.toJSON(),t=e.statusOfDepositAmountSizes,n=e.statusOfLeverage,i=e.statusOfDepositAmountConfig,o=function(e,r){return r([t,n,i],(function(t){return t===e}))},s=o(h,r.some),a=o(f,r.every);s&&this.set("status",h),a&&this.set("status",f)},getAmount:function(){return this.get("amount")}});i.exports=m}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},,,,,,function(e,t,n){"use strict";n(0);var i=n(4),r=n(59);function o(e){return{path:Object(r.getSelectedInstrumentCategoryTreePath)(e),symbols:Object(r.getSortedInstrumentSymbols)(e),symbolsSortName:Object(r.getSymbolsSortName)(e),symbolsSortDirection:Object(r.getSymbolsSortDirection)(e),hasData:!0,totalPositionsCount:e.positions.totalPositionsCount,totalOrdersCount:e.orders.totalOrdersCount}}t.a=function(e){return Object(i.connect)(o)(e)}},function(e,t,n){"use strict";var i=n(109),r=(n(0),n(4)),o=n(59);function s(e){return{symbols:Object(i.getSortedOrdersSymbols)(e),symbolsSortName:Object(o.getSymbolsSortName)(e),hasData:Object(i.getTotalOrdersCount)(e)>0}}t.a=function(e){return Object(r.connect)(s)(e)}},,,,,function(e,t,n){"use strict";var i=n(16),r=n.n(i),o=(n(0),function(e){var t=e.portfolio,n=e.empty,i=e.format;return t?r()(t.createdTime).format(i):n});o.defaultProps={strategy:null,empty:"",format:"DD/MM/YYYY"},t.a=o},function(e,t,n){"use strict";var i=n(32),r=n.n(i),o=(n(0),n(6)),s=n.n(o),a=function(e){var t=e.amount,n=e.empty,i=e.format;return t?s.a.getUserCurrencySymbol()+r()(t).format(i):n};a.defaultProps={amount:null,empty:"",format:"0,0.[00]"},t.a=a},,function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(7),s=n.n(o);var a=function(e){var t=e.value,n=e.name,i=e.checkedStatus,o=e.onCheck,a=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["value","name","checkedStatus","onCheck"]),l=s()({"icon-checkmark":!0,checked:i});return r.a.createElement(a.as,null,r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",value:t,id:n,name:n,checked:i,onChange:o}),r.a.createElement("label",{htmlFor:n}),r.a.createElement("span",{className:l}),r.a.createElement("span",null,n)))};a.defaultProps={as:"li"};var l=a,c=n(1),u=n.n(c),d=(n(1602),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}());function p(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var f={selected:!0},h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={opened:!1,options:[],selected:"",text:""},n.onComponentClick=n.onComponentClick.bind(n),n.onCheck=n.onCheck.bind(n),n.toggle=n.toggle.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),d(t,[{key:"componentDidMount",value:function(){this.normalize(this.props),document.addEventListener("click",this.onComponentClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.onComponentClick)}},{key:"onComponentClick",value:function(e){!this.refs.dropdown.contains(e.target)&&this.state.opened&&this.setState({opened:!1})}},{key:"componentWillReceiveProps",value:function(e){this.normalize(e)}},{key:"toggle",value:function(){this.setState({opened:!this.state.opened})}},{key:"normalize",value:function(e){var t=e.options,n=e.transformOptionValue,i=e.transformOptionText,r=e.selected,o=u.a.map(t,(function(e){return{origin:e,text:i(e),value:n(e),selected:!1}}));this.updateState(o,r)}},{key:"updateState",value:function(e,t){var n=u.a.clone(e);u.a.isEmpty(t)||u.a.chain(n).each((function(e){return e.selected=!1})).filter((function(e){return u.a.isEqual(t,e.value)})).each((function(e){return e.selected=!0})),this.setState((function(){return{options:[].concat(p(n))}}))}},{key:"onCheck",value:function(e){var t=e.target.value,n=this.state.options;this.updateState(n,t),this.props.onChange(u.a.pluck(u.a.where(n,f),"origin"))}},{key:"getOptions",value:function(){var e=this.state.options;return u.a.uniq(e,(function(e){return e.text}))}},{key:"render",value:function(){var e=this,t=this.state.opened;return r.a.createElement("div",{className:"settingsDropdownWrapper",ref:"dropdown"},r.a.createElement("div",{onClick:this.toggle},r.a.createElement("i",{className:"icon icon-hamburger-gray"})),t&&r.a.createElement("div",{className:"settingsDropdown"},r.a.createElement("div",{className:"settingsWrapper"},r.a.createElement("div",{className:"options"},r.a.createElement("ul",{className:"optionList"},u.a.map(this.getOptions(),(function(t,n){var i=t.text,o=t.value,s=t.selected;return r.a.createElement(l,{as:"li",name:i,value:o,checkedStatus:s,key:n,onCheck:e.onCheck})})))))))}}]),t}(i.Component);h.defaultProps={options:[],selected:"",transformOptionText:function(e){return e},transformOptionValue:function(e){return e}};t.default=h},,,function(e,t,n){"use strict";n.d(t,"i",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"b",(function(){return m})),n.d(t,"k",(function(){return g})),n.d(t,"d",(function(){return v})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return _})),n.d(t,"f",(function(){return y})),n.d(t,"j",(function(){return E}));var i=n(2),r=n(19),o=n(1),s=n.n(o),a=n(55),l=n(23),c=function(e){return e.tipRanks},u=Object(i.a)(c,(function(e){return e&&e.status})),d=Object(i.a)(c,(function(e){return e&&e.stocks})),p=Object(i.a)([d,r.getInstrumentTicker],(function(e,t){return e&&e[t]})),f=Object(i.a)(p,(function(e){return e&&e.avg_target_price||null})),h=Object(i.a)(p,(function(e){return e&&e.avg_upside||null})),m=Object(i.a)(p,(function(e){return e&&e.consensus||""})),g=Object(i.a)([a.isAnalystsRatingsEnabled,p],(function(e,t){return e&&!s.a.isEmpty(t)})),v=Object(i.a)(p,(function(e){return e&&e.total_analysts_recommendations||null})),b=Object(i.a)(c,(function(e){return e&&e.recommendations})),_=Object(i.a)([b,l.a],(function(e,t){return s.a.where(e,{symbol:t})})),y=Object(i.a)(c,(function(e){return e&&e.analysts})),E=Object(i.a)([f,m,h],(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return s.a.every(t,(function(e){return!!e}))}))},function(e,t,n){"use strict";var i=n(8),r=n.n(i),o=n(3).LAST_SEVEN_DAYS,s={loadBloggers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return r.a.loadBloggers(e)}};t.a=s},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"g",(function(){return m})),n.d(t,"f",(function(){return g})),n.d(t,"h",(function(){return v})),n.d(t,"i",(function(){return b})),n.d(t,"e",(function(){return _})),n.d(t,"j",(function(){return y}));var i=n(2),r=n(19),o=n(1),s=n.n(o),a=n(3),l=n(55),c=function(e){return e.bloggers},u=Object(i.a)(c,(function(e){return e&&e.status})),d=Object(i.a)(c,(function(e){return e&&e.stocks})),p=Object(i.a)(c,(function(e){return e&&e.bloggerRecommendations})),f=Object(i.a)([p,r.getInstrumentTicker],(function(e,t){return s.a.filter(e,(function(e){return e.stockTicker===t}))})),h=Object(i.a)([d,r.getInstrumentTicker],(function(e,t){return e&&e[t]})),m=Object(i.a)(h,(function(e){return e&&Math.round(e.bullishRatio*a.PERCENTS_100)/a.PERCENTS_100})),g=Object(i.a)(r.getInstrumentTicker,(function(e){return e})),v=Object(i.a)(h,(function(e){return e&&e.numberOfBloggers||""})),b=Object(i.a)(h,(function(e){return e&&Math.round(e.sectorBullRatio*a.PERCENTS_100)/a.PERCENTS_100})),_=Object(i.a)(h,(function(e){return e&&e.consensus||""})),y=(Object(i.a)(_,(function(e){return!!e})),Object(i.a)([l.isBloggersOpinionsEnabled,m,b,_],(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e&&s.a.every(n,(function(e){return!!e}))})))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),s=n(1),a=n.n(s),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.a=Object(o.connect)((function(e,t){var n=t.symbol,i=e.positions.instrumentPositionsCounter[n];return{counter:i?i._count:0,list:e.positions.instrumentPositions[n]}}))((function(e){var t=e.as,n=e.counter,i=e.renderItem,o=e.list,s=(e.dispatch,e.children,e.symbol,function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["as","counter","renderItem","list","dispatch","children","symbol"]));if(!n)return null;var c=a.a.keys(o);return r.a.createElement(t||"div",l({},s),a.a.map(c,i))}))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),s=n(1),a=n.n(s),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.a=Object(o.connect)((function(e,t){var n=t.symbol,i=e.orders.instrumentOrdersCounter[n];return{counter:i?i._count:0,list:e.orders.instrumentOrders[n]}}))((function(e){var t=e.as,n=e.counter,i=e.renderItem,o=e.list,s=(e.dispatch,e.children,e.symbol,function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["as","counter","renderItem","list","dispatch","children","symbol"]));if(!n)return null;var c=a.a.keys(o);return r.a.createElement(t||"div",l({},s),a.a.map(c,i))}))},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(4),s=n(7),a=n.n(s),l=n(58),c=n.n(l),u=n(50),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return n=i=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),i.newCountLimit=c.a.notificationCenter.limiter.newCount,p(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),d(t,[{key:"render",value:function(){var e=this.props.iconCounter,t=a()({"notification-center__counter":!0,hidden:!e});return this.newCountLimit<e&&(e=""+this.newCountLimit+(c.a.notificationCenter.limiter.exceedSymbol||"")),r.a.createElement("i",{className:t},e)}}]),t}(r.a.Component);f.defaultProps={iconCounter:0},t.default=Object(o.connect)((function(e){return{iconCounter:Object(u.e)(e)}}))(f)},function(e,t,n){"use strict";var i=n(138),r=n(0),o=n.n(r),s=n(431),a=function(e){var t=e.shouldShowCreate;return o.a.createElement("div",{className:"new-advanced--fill pane empty-stage pane__column pane__fluid flex flex-align-center flex-valign-center"},o.a.createElement("div",{className:"empty-stage-pad"}),o.a.createElement("div",{className:"pane"},o.a.createElement("div",{className:"empty-stage-icon icon-portfolios-ico fs-50"})),o.a.createElement("p",{className:"pane smaller-px flex flex-align-center empty-stage-text"},__("portfolios.empty")),t&&o.a.createElement("div",{className:"pane"},o.a.createElement(s.b,{to:"create"},o.a.createElement(i.a,{btnType:"primary",size:"small"},__("portfolios.create")))))};a.defaultProps={shouldShowCreate:!1},t.a=a},function(e,t,n){"use strict";var i=n(340),r=n(6),o=n.n(r),s=n(0),a=n.n(s),l=n(4),c=n(41),u=n(51),d=function(e){var t=e.portfolioTotalPL,n=e.empty,r=e.precision;if(!t||!o.a)return n;var s=Object(u.e)(t,r)||{};return a.a.createElement(i.a,{value:s.value},s.formatted)};d.defaultProps={portfolio:null,empty:"",precision:2},t.a=Object(l.connect)((function(e,t){var n=t.portfolio.portfolioID;return{portfolioTotalPL:Object(c.q)(e,n)}}))(d)},,,,,,function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(7),s=n.n(o);t.a=function(e){var t,n,i,o=e.icon;return r.a.createElement("i",{className:s()((t={icon:!0},n=o,i=!!o,n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t))})}},function(e,t,n){"use strict";n.r(t),n.d(t,"Themes",(function(){return i}));var i={LIGHT:"light",DARK:"dark"}},,,,function(e,t,n){"use strict";var i=n(134),r=n(72),o=n.n(r),s=n(0),a=n.n(s),l=(n(1),n(61));t.a=function(e){e.onChange;var t=e.themeDigit,n=e.onFieldChange;return a.a.createElement("div",{className:"pane pane__row"},a.a.createElement(i.a,{className:"switcher-mode-block",as:"div",name:"themes-switcher",title:__("account_settings.themes.menu.title"),selected:t,transformOptionText:function(e){return __("themes.label."+o.a.switcherConfig[e])},options:l.THEME_OPTIONS,onChange:function(e){return n&&n("themeDigit",parseInt(e))}}))}},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),s=n(134),a=n(6),l=n.n(a),c=n(202),u=n(61),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),d(t,[{key:"componentDidMount",value:function(){this.props.dispatch(Object(c.a)())}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"pane pane__row"},r.a.createElement(s.a,{className:"switcher-timezone-mode-block",as:"div",name:"switcher-timezone-mode",title:__("account_settings.timezone-mode.title"),selected:l.a.getUserCommonData().getUserTimezoneId()||u.GMT,options:this.getOptions(),transformOptionText:function(e){return"<span>"+e.displayName+'</span> <span class="gmt">('+e.gmt+")</span>"},transformOptionsValue:function(e){return e.id},onChange:function(t){return e.props.onFieldChange&&e.props.onFieldChange("timeZone",t)}}),r.a.createElement("div",{className:"pane--center field-addon-right"},r.a.createElement("div",{"aria-label":__("account_settings.timezone-mode.icon.help"),className:"icon icon-help"}),r.a.createElement("div",{className:"field-help"},__("account_settings.timezone-mode.icon.help"))))}},{key:"getOptions",value:function(){return this.props.timezoneOptions.length?this.props.timezoneOptions:[l.a.getUserCommonData().getUserTimezoneObject()]}}]),t}(r.a.Component);p.defaultProps={timezoneOptions:[]},t.a=Object(o.connect)((function(e){return{timezoneOptions:e.accountSettingsPlatformFeature.timezone.list}}))(p)},function(e,t,n){"use strict";var i=n(134),r=(n(72),n(0)),o=n.n(r),s=(n(18),n(6),n(1),n(54)),a=n.n(s);t.a=function(e){e.onChange;var t=e.language,n=e.onFieldChange;return o.a.createElement("div",{className:"pane pane__row"},o.a.createElement(i.a,{className:"switcher-mode-block",as:"div",name:"languages-dropdown",title:__("indigo.account_settings.language.form.title"),selected:t,transformOptionText:function(e){return __("language."+[e])},options:a.a.getLanguages(),onChange:function(e){return n&&n("language",e)}}))}},function(e,t,n){(function(i){var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};void 0===(r=function(e,t,i){var r=n(1),s=n(33).default,a=n(5),l=n(6),c=n(9),u=n(70),d=r.template(n(1634)),p=n(790),f=n(791),h=n(792),m=n(793),g=n(794),v=n(795),b=n(796),_=n(797),y=n(798),E=n(237),S=n(341),C=n(212),w=n(120),O=n(83),T=n(0),P=n(22),k=n(32),I=n(473).default,A=n(245).SWITCH_MODE_DROPDOWN,x=n(61).OPEN_POSITION_OPTIONS,N=n(98),D=N.EMPTY,R=N.UPDATE,L=N.READY,M=N.FOUND,j=N.NOT_FOUND,F=N.ENABLED,B=N.DISABLED,U=N.CHANGED,V=(N.SUCCESS,N.TYPE_MARKET),z=N.TYPE_LIMIT,q=N.TYPE_STOP,H=r.isEmpty,$=function(e){return e.addClass("hidden")},G=function(e){return e.removeClass("hidden")},W=function(e){return e<0?"down":e>0?"up":"equally"};i.exports=u.extend({name:"new-order-interactive",className:"new-order-interactive x-popup responsive-popup x-popup-stretch-xs x-popup-no-padding-xs",events:function(){return this.addEvents(u)({"click .fn-deposit":"openDeposit","click .action__submit":"submit","click .fn-settings":"openSettings"})},initialize:function(){u.prototype.initialize.apply(this,arguments),this.order=this.makeOrderObject(),this.updateForTradeOutsideOfTradingHours()},makeOrderObject:function(){var e=this.model;return new y.create({symbol:e.get("symbol"),amount:e.getAmount(),initialType:e.getType(),initialDirection:e.getDirection(),initialEntryPrice:e.getEntry(),initialStopLossPrice:e.getStopLoss(),initialTakeProfitPrice:e.getTakeProfit()})},updateForTradeOutsideOfTradingHours:function(){this.order.instrument().status.canTradeOutsideOfTradingHours()&&(this.model.excludeOrderType(V),this.openFromSwitchModeDropdown()?this.order.getType()===V&&this.order.setType(z):this.order.setType(z))},openFromSwitchModeDropdown:function(){return this.options.source===A},render:function(){var e=this;u.prototype.render.call(this);var t=this.model,n=this.order,i=n.instrument(),o=n.takeProfit(),s=n.stopLoss(),l=i.getPrecision(),c=n.getType(),y=n.getDirection(),S=n.direction(),C=r.throttle((function(t){return e.isAmountChanged=!0,n.amount().setValue(t)}),500),w=s.isEnabled(),O=o.isEnabled();this.keyboardEvents=E({escape:function(t){return e.close(t)},enter:function(t){e.submit(t)}},this),this.setContent(d({fullAmountLabel:n.amount().getFullAmountLabel(),instrument:i,submitButtonText:t.get("submitButtonText"),isSpreadBetting:i.isTypeSpreadBetting()})),this.type=this.addChildView(".new-order-interactive__type-control",p,{name:"type",value:c,disable:!t.get("isTypeEnabled"),exclude:t.get("excludeTypes")}),this.direction=this.addChildView(".new-order-interactive__direction-control",f,{name:"direction",value:y,disable:!t.get("isDirectionEnabled")}),this.directionDropdown=this.addChildView(".new-order-interactive__direction-dropdown-control",h,{name:"directionDropdown",value:y,disable:!t.get("isDirectionEnabled"),except:S.isSellTradable()?S.isBuyTradable()?null:"buy":"sell"}),this.amount=this.addChildView(".new-order-interactive__amount-control",m,{name:"amount",precision:l,minValue:i.getMinOrderSize(),placeholder:__("order.form.enter.amount")}),this.entry=this.addChildView(".new-order-interactive__entry-form",g,{name:"entry",minValue:i.getPrecisionAsFloat(),precision:l}),this.slCheckbox=this.addChildView(".new-order-interactive__sl-checkbox-control",v,{name:"sl-checkbox",checked:w,precision:l}),this.tpCheckbox=this.addChildView(".new-order-interactive__tp-checkbox-control",b,{name:"tp-checkbox",checked:O,precision:l}),this.stopLoss=this.addChildView(".new-order-interactive__sl-price-control",_,{name:"stopLoss",disable:!w,minValue:i.getPrecisionAsFloat(),precision:l}),this.takeProfit=this.addChildView(".new-order-interactive__tp-price-control",_,{name:"takeProfit",disable:!O,minValue:i.getPrecisionAsFloat(),precision:l}),this.amount.disable(),this.$sellRateValue=this.$(".new-order-interactive__sell-rate-value"),this.$buyRateValue=this.$(".new-order-interactive__buy-rate-value"),this.$changeBlock=this.$(".new-order-interactive__change-block"),this.$requiredMarginValue=this.$(".new-order-interactive__require-margin-value"),this.$amountLabel=this.$(".new-order-interactive__amount-label"),this.$slErrorMessage=this.$(".new-order-interactive__sl-error-message"),this.$tpErrorMessage=this.$(".new-order-interactive__tp-error-message"),this.$moneyTitle=this.$(".new-order-interactive__field-money-title"),this.$gsl=this.$(".new-order-interactive__gsl"),this.$gslValue=this.$(".new-order-interactive__gsl-value"),this.listenTo(a,"ui:new-position",this.close),this.listenTo(this.type,"change",(function(e,t){return n.setType(t)})),this.listenTo(this.direction,"change",(function(e,t){return n.setDirection(t)})),this.listenTo(this.direction,"change",(function(t,n){return e.directionDropdown.value(n)})),this.listenTo(this.directionDropdown,"change",(function(e,t){return n.setDirection(t)})),this.listenTo(this.directionDropdown,"change",(function(t,n){return e.direction.setChecked(n)})),this.listenTo(this.amount,"change",(function(e,t){return C(t)})),this.listenTo(this.entry,"change",(function(e,t){return n.setEntryValue(t)})),this.listenTo(this.slCheckbox,"change",(function(e,t){return!0===t?s.enable():s.disable()})),this.listenTo(this.stopLoss,"change",(function(e,t){return s.setPrice(t)})),this.listenTo(this.tpCheckbox,"change",(function(e,t){return!0===t?o.enable():o.disable()})),this.listenTo(this.takeProfit,"change",(function(e,t){return o.setPrice(t)})),this.listenTo(this.entry,"focus ",(function(){return n.disableAutoEntry()})),this.listenTo(this.stopLoss,"focus ",(function(){return s.touch("Price")})),this.listenTo(this.takeProfit,"focus ",(function(){return o.touch("Price")})),this.listenTo(n,"amount:change:statusOfAmount",this.onStatusOfAmount),this.listenTo(n,"instrumentDriver:change:statusOfInstrumentInfo",this.onStatusOfInstrumentInfo),this.listenTo(n,"instrumentDriver:change:statusOfInstrument",this.onStatusOfInstrument),this.listenTo(n,"stopLoss:change:status",this.onStatusOfStopLoss),this.listenTo(n,"takeProfit:change:status",this.onStatusOfTakeProfit),this.listenTo(n,"entryLimit:change:statusOfEntry",this.onStatusOfEntry),this.listenTo(n,"entryStop:change:statusOfEntry",this.onStatusOfEntry),this.listenTo(n,"type:change:value",this.onTypeChanged),this.listenTo(n,"direction:change:value",this.onDirectionChanged),this.listenTo(n,"requiredMargin:change:requiredMarginFormat",this.onRequiredMarginFormat),this.listenTo(n,"requiredMargin:change:statusOfRequiredMargin",this.onStatusOfRequiredMargin),this.listenTo(n,"amount:change:errorMessage",this.onChangeAmountErrorMessage.bind(this)),this.listenTo(n,"stopLoss:change:errorMessage",(function(t,n){return e.$slErrorMessage.html(n)})),this.listenTo(n,"takeProfit:change:errorMessage",(function(t,n){return e.$tpErrorMessage.html(n)})),this.listenTo(n,"entryLimit:change:errorMessage",(function(t,n){return e.entry.errorMessage(n)})),this.listenTo(n,"entryStop:change:errorMessage",(function(t,n){return e.entry.errorMessage(n)})),this.listenTo(n,"gsl:change:format",(function(t,n){return e.$gslValue.html(n)})),this.listenTo(n,"all",this.updateSubmitState),this.onStatusOfAmount(),this.onTypeChanged(),this.onStatusOfInstrument(),this.onStatusOfInstrumentInfo(),this.onStatusOfStopLoss(),this.onStatusOfTakeProfit(),this.showExpiration(),n.gsl().isEnabled()&&this.$gsl.removeClass("hidden");var T=document.createElement("div");T.className="header-actions fn-settings btn",T.id="settings";var P=this.$(".responsive-header")[0];return P.insertBefore(T,P.childNodes[2]),this.initSettings(),this},initSettings:function(){var e=this;if(!s.mobile()){this.$settingsButton=this.$("#settings")[0];var t=l.getUserCommonData().getOpenPositionMode();this.settingsDropdown=P.render(T.createElement(I,{options:x,selected:t,transformOptionText:function(e){return __("modes."+[e])},onChange:function(t){return e.changeOpenPositionMode(t)}}),this.$settingsButton)}},changeOpenPositionMode:function(e){var t=this,n=e[0],i=l.getUserCommonData().getOpenPositionMode(),r={direction:this.order.direction().value(),symbolOrId:this.model.getSymbol(),quantity:this.order.amount().value(),type:this.order.getType(),tp:this.order.takeProfit().isEnabled()?parseFloat(this.order.takeProfit().value()):D,sl:this.order.stopLoss().isEnabled()?parseFloat(this.order.stopLoss().value()):D,entry:this.order.getType()===V?D:Number(this.order.entry().value()),source:A};l.getUserCommonData().saveOpenPositionMode(n).then((function(){t.close(),a.trigger("ui:new-position",r),t.sendChangeOPModeEvent(n,i)}))},sendChangeOPModeEvent:function(e,t){__eventos("tradingPlatform:orderForm:OPmodeChanged",{newOPMode:e,previousOPMode:t})},onTypeChanged:function(){var e=this.order.getType(),t=this.order.instrument();switch(e){case V:this.entry.hide();break;case z:case q:var n=this.order.entry();this.entry.show({precision:t.getPrecision(),step:t.getPipsPrecisionSize()}),this.entry.setLabel(n.getLabel()),this.entry.setLabelDescription(n.getLabelDescription()),this.onStatusOfEntry()}},onDirectionChanged:function(){if(this.order.getType()!==V){var e=this.order.entry();this.entry.setLabel(e.getLabel()),this.entry.setLabelDescription(e.getLabelDescription())}this.showExpiration()},showExpiration:function(){var e=this.order,t=e.getType(),n=e.instrument(),i=this.$(".new-order-interactive__expiration"),r=this.$(".new-order-interactive__expiration-text"),o=n.getExpirationDays(),s=n.getExpirationDate();o?(i.removeClass("hidden"),r.html(t!==V?__("order.form.expiration",o):__("position.form.expiration",s))):i.hasClass("hidden")||i.addClass("hidden")},onChangeAmountErrorMessage:function(e,t){var n=this.$(".new-order-interactive__field-error-amount");"hide-initial"===t?n.addClass("hidden"):n.removeClass("hidden"),n.html(t===D?"":t),c.isLive()||this.$(".new-order-interactive__field-error-amount a.fn-deposit").addClass("hidden"),this.showTieredMargin()},showTieredMargin:function(){var e=this.$(".new-order-interactive__field-info-amount-tiered-margin"),t=this.order;t.amount().isValidated()&&t.instrument().isTieredMarginApplied()?e.removeClass("hidden"):e.addClass("hidden")},onStatusOfAmount:function(){var e=this.order,t=e.instrument(),n=e.amount(),i=this.amount;switch(n.get("statusOfAmount")){case L:var r={precision:t.isFractionalAmountEnabled()?t.getPrecision():0,step:t.isTypeSpreadBetting()?t.getMinOrderIncrement():n.getAmountIncrement()};i.setOptions(o({},r)),i.silentValue(n.value()),i.enable(),i.input.focus(),""!==n.value()&&(this.isAmountChanged=!0,this.onRequiredMarginFormat(null,e.requiredMargin().getFormat()));break;case R:i.silentValue(n.value()),this.showTieredMargin()}},onStatusOfInstrument:function(){var e=this.order,t=e.amount();switch(e.instrumentDriver().get("statusOfInstrument")){case D:case j:break;case U:e.stopLoss().auto(),e.takeProfit().auto();break;case M:this.$moneyTitle.html(l.getUserCurrency()),this.$amountLabel.html(t.getFullAmountLabel()),this.$amountLabel.attr("title",t.getFullAmountLabel()),this.reflectSentiments(),this.reflectRates(),this.showExpiration()}},onStatusOfInstrumentInfo:function(){switch(this.order.instrumentDriver().get("statusOfInstrumentInfo")){case R:this.reflectRates(),this.reflectDirection(),this.showTieredMargin(),this.updateInstrumentTradable()}},onStatusOfStopLoss:function(){var e=this.order,t=e.instrument(),n=e.stopLoss(),i=n.get("status"),r=this.stopLoss,o=this.$slErrorMessage,s=n.value(),a=t.getPrecision(),l=(t.getPrecisionSize(),t.getPipsPrecisionSize());switch(i){case F:this.enableFields(r);break;case B:this.disableFields(r),r.silentValue(""),o.html("");break;case R:r.setOptions({precision:a,step:l}),r.silentValue(s===D?"":s)}},onStatusOfTakeProfit:function(){var e=this.order,t=e.instrument(),n=e.takeProfit(),i=n.get("status"),r=this.takeProfit,o=this.$tpErrorMessage,s=n.value(),a=t.getPrecision(),l=(t.getPrecisionSize(),t.getPipsPrecisionSize());switch(i){case F:this.enableFields(r);break;case B:this.disableFields(r),r.silentValue(""),o.html("");break;case R:r.setOptions({precision:a,step:l}),r.silentValue(s===D?"":s)}},onRequiredMarginFormat:function(e,t){this.isAmountChanged&&this.$requiredMarginValue.html(parseFloat(this.amount.value())?t:"")},onStatusOfRequiredMargin:function(e,t){t===R&&this.renderDangerInfo()},enableFields:function(){r.each(arguments,(function(e){return e.enable()}))},disableFields:function(){r.each(arguments,(function(e){return e.disable()}))},onStatusOfEntry:function(){var e=this.order,t=e.entry(),n=t.get("statusOfEntry"),i=this.entry,r=t.value(),o=e.instrument().getPrecision(),s=e.instrument().getPipsPrecisionSize();switch(n){case R:i.setOptions({precision:o,step:s}),i.silentValue(r===D?"":r)}},reflectRates:function(){var e=this.order.instrument(),t=this.$changeBlock,n=this.$sellRateValue,i=this.$buyRateValue,r=t.find("span"),o=e.getBid(!0),s=e.getAsk(!0),a=e.getBidDirection(),l=e.getAskDirection(),c=e.getPercentChange();s=O.formatValueToStringOrComponent(O.divideValueByPipSize(s,e.getPipsPrecision()),!0),o=O.formatValueToStringOrComponent(O.divideValueByPipSize(o,e.getPipsPrecision()),!0),n.removeClass("up down equally"),i.removeClass("up down equally"),t.removeClass("up down equally"),n.html(o),i.html(s),r.html((c>0?"+"+c:c)+"%"),n.addClass(W(a)),i.addClass(W(l)),t.addClass(W(c))},reflectDirection:function(){var e=this.order.direction(),t=this.direction;e.isBuyTradable()&&t.enableByValue("buy"),e.isSellTradable()&&t.enableByValue("sell"),e.isBuyTradable()?e.isSellTradable()||(t.setChecked("buy"),t.disableByValue("sell")):(t.setChecked("sell"),t.disableByValue("buy"))},destroy:function(){this.keyboardEvents.off(),this.settingsDropdown&&this.destroySettings(),u.prototype.destroy.call(this),this.order.destroy()},destroySettings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$settingsButton;P.unmountComponentAtNode(e)},reflectSentiments:function(){var e=this.$(".new-order-interactive__sentiment-block"),t=this.$(".new-order-interactive__horz-splitter_info-block"),n=this.$(".new-order-interactive__sentiment-buyers-value"),i=this.$(".new-order-interactive__sentiment-sellers-value"),r=this.$(".new-order-interactive__sentiment-block .bar i"),o=this.$(".new-order-interactive__sentiment-block .bar b"),s=this.order.instrument().get("sentiment");$(e),$(t),H(s)||(G(e),G(t),n.html(s.longs),i.html(s.shorts),o.css("width",s.longs+"%"),r.css("width",s.shorts+"%"))},openDeposit:function(){a.trigger("flow:deposit:RealDepositItemMainMenu"),this.close()},updateSubmitState:function(){var e=this.$(".action__submit");this.order.hasErrors()?e.attr("disabled","true"):e.removeAttr("disabled")},disableSubmitButton:function(){this.$(".action__submit").attr("disabled","true")},submit:function(e){var t=this;e.preventDefault(),e.stopPropagation();var n=this.order;n.hasErrors()||C.showTradeConfirmation().then((function(){t.disableSubmitButton(),t.setInteractiveTradingSettings(),t.reportNewOrder(),n.placeOrder(),t.close()}))},setInteractiveTradingSettings:function(){w.setDefaultAmount(this.order.getSymbol(),this.order.amount().value())},tradeConfirmation:function(){return spanishRegulation.isTradingPositionRiskWarningRequired()?new Promise((function(e){a.trigger("ui:risk-warning",{regulation:"spanish",action:"trade",onOK:e})})):Promise.resolve()},reportNewOrder:function(){var e=this.order,t=e.getData(),n=t.isTakeProfit,i=t.isStopLoss,o=e.instrument().get("sentiment"),s=this.options.source,a={instrumentName:t.symbol,orderDirection:t.direction,orderType:t.type,originalQuantity:t.defaultAmount,price:t.currentPrice,quantity:Math.abs(t.amount),isSentiment:!!o,OPmodeView:l.getUserCommonData().getOpenPositionMode()};if(t.isEntryLimit&&(a.entryLimitPrice=t.entry),t.isEntryStop&&(a.entryStopPrice=t.entry),o&&(a.sentimentBuyPercentage=o.longs),i&&(a.stopLossPrice=t.stopLoss),n&&(a.takeProfitPrice=t.takeProfit),!H(s))if(s.indexOf("Popular")>-1)a.viewSource="popular";else if(s.indexOf("Trending_now")>-1)a.viewSource="trendingNow",a.trendingCategoryId=r.compact(s.split("/")).pop();else if(s.indexOf("trading")>-1){var c=r.compact(s.split("/"));c.shift(),3===c.length&&c.pop(),a.viewSource="category",a.categoryName=c.join(".")}else s.indexOf("instrument")>-1?a.viewSource="instrument":a.viewSource=s.replace("-","_")||"";__eventos("tradingPlatform:orderForm:clkSendOrder",a),S.put(t.requestId,a)},renderDangerInfo:function(){if(C.isSpanishRegulation()&&c.isSpanishRegulationForOpenPositionEnabled()){var e=l.getUserCurrencySymbol(),t=k(this.order.requiredMargin().getTotal()).format("0,0[.]00"),n=this.$(".new-order-interactive__danger-info");r.isNaNValue(t)?n.addClass("hidden"):(n.removeClass("hidden"),n.html(__("spanish.regulation.new_order.text",e+t)))}},openSettings:function(e){"settings"===e.target.id&&(this.stopDragEvent(e),e.target.querySelector(".icon-hamburger-gray").click())},stopDragEvent:function(e){e.stopImmediatePropagation(),e.preventDefault()},updateInstrumentTradable:function(){var e=this.order.instrument().status,t=this.$el.find(".new-order-interactive__trading-outside-of-trading-hours");e.canTradeOutsideOfTradingHours()?t.removeClass("hidden"):t.addClass("hidden")}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){"use strict";var i=n(146),r=n.n(i),o=n(0),s=n.n(o),a=n(7),l=n.n(a),c=n(22),u=n.n(c),d=n(1),p=n.n(d),f=n(15),h=n.n(f),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=7500,b=[],_=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return h()(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),m(t,[{key:"componentWillMount",value:function(){this.zIndex=++v,this.popupId=p.a.uniqueId("popup-"),this.eventId="popupEvent-"+this.popupId,r.a.addPopup({name:this.props.name,zIndex:this.zIndex}),b.push({popupId:this.popupId,zIndex:this.zIndex,index:b.length}),this.stack=b,this.open=this.props.open}},{key:"componentWillUpdate",value:function(e){this.localUpdate?this.localUpdate=!1:this.open=e.open}},{key:"componentWillUnmount",value:function(){var e=this,t=p.a.indexOf(b,(function(t){var n=t.popupId;return e.popupId===n}));b.splice(t,1),v--,this.releaseElement(),r.a.deletePopup({name:this.props.name})}},{key:"createElement",value:function(){var e;if(!this.isElCreated){var t=this.props,n=t.className,i=t.popupStyle,r=this.getPlaceholder(),o=l()((g(e={"popup-fixed":!0,"popup-nobg":!0,"popup-style":!0},i,i),g(e,n,!!n),e));this.el=document.createElement("div"),this.el.setAttribute("id",this.getPopupId()),this.el.setAttribute("class",o),this.el.setAttribute("style","z-index: "+v),r.appendChild(this.el),this.isElCreated=!0}}},{key:"releaseElement",value:function(){this.isElCreated&&(this.isElCreated=!1,this.getPlaceholder().removeChild(this.el))}},{key:"close",value:function(){var e=this.props.onClose;p.a.isFunction(e)&&e(),this.localUpdate=!0,this.open=!1,this.forceUpdate()}},{key:"getPlaceholder",value:function(){return document.getElementById("popups-placeholder")}},{key:"getPopupId",value:function(){return this.popupId}},{key:"render",value:function(){return this.open?(this.createElement(),u.a.createPortal(this.props.children,this.el)):(this.releaseElement(),null)}}]),t}(s.a.PureComponent);_.defaultProps={open:!0},t.a=_},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),s=n(58),a=n.n(s),l=n(50);t.a=Object(o.connect)((function(e,t){var n=t.tabId;return{count:n?Object(l.j)(n)(e):0}}))((function(e){var t=e.count,n=a.a.notificationCenter.limiter.unreadCount;return n<t&&(t=""+n+(a.a.notificationCenter.limiter.exceedSymbol||"")),r.a.createElement("span",{className:"notification-center__tab-count"},!!t&&"("+t+")")}))},function(e,t,n){"use strict";var i=n(0),r=n.n(i);t.a=function(){return r.a.createElement("div",{className:"notification-center__tabs_slider"},r.a.createElement("div",{className:"notification-center__tabs_slider_indicator"}))}},,,function(e,t,n){"use strict";var i=n(0),r=n.n(i);t.a=function(){return r.a.createElement("div",{className:"notification-center__title"},__("notification.center.title"))}},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(7),s=n.n(o),a=n(141),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return n=i=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),i.state={currentDirection:0},u(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){var t=this,n=e.direction;0===n&&n!==this.state.currentDirection&&(clearTimeout(this.timout),this.timout=setTimeout((function(){t.setState({currentDirection:n})}),1e3)),0!==n&&this.setState({currentDirection:n})}},{key:"componentWillUnmount",value:function(){(function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this).call(this),clearTimeout(this.timout)}},{key:"render",value:function(){var e,t=this.props,n=t.loading,i=t.className,o=t.children,a=t.disableEqualState,l=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(t,["loading","className","children","disableEqualState"]),u=this.state.currentDirection,d=1===u,p=-1===u,f=s()((c(e={},i,!!i),c(e,"up",d),c(e,"down",p),c(e,"equally",!d&&!p),c(e,"loading",n),e));return a&&(d||p?this.prevDirection=f:f=this.prevDirection||f),r.a.createElement(l.as,{className:f},o)}}]),t}(a.a);d.defaultProps={as:"span",disableEqualState:!1},t.a=d},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(7),s=n.n(o),a=n(32),l=n.n(a),c=n(1),u=n.n(c),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){return r.a.createElement("table",d({className:s()({"portfolio__table fs-13":!0,"layout-fixed":e.layoutFixed})},e.tableProps),e.caption&&r.a.createElement("caption",null,r.a.createElement("div",{className:"portfolio__table_caption"},r.a.isValidElement(e.caption)?r.a.createElement(e.caption,null):e.caption)),e.headers&&r.a.createElement("thead",null,r.a.createElement("tr",null,u.a.map(e.headers,(function(t,n){return r.a.createElement("th",{key:e.id+"-th-"+n,className:s()(p({divided:e.showDividerForFirstColumn&&!n},e.setClassesToColumns[n+1],!!e.setClassesToColumns[n+1]))},t)})))),!!e.tbody&&r.a.isValidElement(e.tbody)&&r.a.createElement(e.tbody,null),e.data&&!e.tbody&&r.a.createElement("tbody",null,u.a.map(e.data,(function(t,n){return r.a.createElement("tr",{key:e.id+"-tr-"+n},u.a.map(t,(function(t,i){return r.a.createElement("td",{key:e.id+"-td-"+i,className:s()(p({divided:e.showDividerForFirstColumn&&!i},e.setClassesToColumns[i+1],!!e.setClassesToColumns[i+1]))},r.a.createElement("div",{className:s()({rate:e.useColors&&!0,up:e.useColors&&t>0,down:e.useColors&&t<0})},e.useFormatter&&i?l()(t).format(u.a.isUndefined(e.formatterRule[n])?"0[.]00%":e.formatterRule[n]):t))})))}))))};f.defaultProps={id:Date.now(),showDividerForFirstColumn:!1,caption:null,headers:null,data:null,tableProps:null,setClassesToColumns:{},layoutFixed:!1,useFormatter:!1,formatterRule:{}},t.a=f},,,,function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(7),s=n.n(o),a=n(4),l=n(15),c=n.n(l),u=n(499),d=n(21),p=n(39),f=n(50),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var m=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return c()(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),h(t,[{key:"onSelectAll",value:function(e){this.props.messagesSelectAll(this.props.name,e.target.checked)}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.markAllCheckboxState,i=e.isActive,o=e.isMessageVisible,a=e.messages,l=n===d.TAB_CHECKBOX_CHECKED,c=s()({"custom-checkbox":!0,indeterminate:n===d.TAB_CHECKBOX_INDETERMINATE}),u=s()({"notification-center__tabs__checkbox":!0,offset:!i||o||!a.count});return r.a.createElement("span",{className:u},r.a.createElement("input",{className:c,type:"checkbox",name:"tab-checkbox-"+t,id:"message-checkbox-"+t,checked:l,onChange:this.onSelectAll}),r.a.createElement("label",{htmlFor:"message-checkbox-"+t}))}}]),t}(r.a.Component);m.defaultProps={isActive:!1,name:""};var g=Object(a.connect)((function(e){return{markAllCheckboxState:Object(f.f)(e),isMessageVisible:Object(f.k)(e),messages:Object(f.h)(e)}}),(function(e){return{messagesSelectAll:function(t,n){return e(Object(p.messagesSelectAll)(t,n))}}}))(m);n.d(t,"a",(function(){return _}));var v=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return c()(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),v(t,[{key:"setActiveType",value:function(){this.props.isActive||(this.props.setActiveType(this.props.name),this.props.messagesSelectAll(this.props.name,!1))}},{key:"render",value:function(){var e,t=this.props,n=t.className,i=t.name,o=s()((b(e={},n,!!n),b(e,"notification-center__tab",!0),b(e,"active",this.props.isActive),e));return r.a.createElement("div",{className:o,onClick:this.setActiveType},r.a.createElement(g,{isActive:this.props.isActive,name:i}),r.a.createElement("span",null,__("notification.center.tab."+i.toLowerCase())),r.a.createElement(u.a,{tabId:i}))}}]),t}(r.a.Component);_.defaultProps={isActive:!1,name:""};t.b=Object(a.connect)(void 0,(function(e){return{setActiveType:function(t){return e(Object(p.setActiveTab)(t))},messagesSelectAll:function(t,n){return e(Object(p.messagesSelectAll)(t,n))}}}))(_)},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),s=n(46),a=n(480),l=(n(1821),n(221)),c=n(220),u=n(337),d=n(247),p=n(87),f=n(338),h=n(339),m=n(1),g=n.n(m),v=n(287),b=n(288),_=n(289),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),y(t,[{key:"render",value:function(){var e=this.props,t=e.selectInstrument,n=e.editOrder,i=e.cancelOrder,o=e.symbol,s=e.orderId;return r.a.createElement("div",{onClick:function(e){return t(e,o)},className:"subrow-expanded grid-12 grid-noGutter order new-advanced__order-details"},r.a.createElement("div",{className:"col-9 grid-middle order__info"},r.a.createElement("div",{className:"col-4"},r.a.createElement("div",null,r.a.createElement("b",null,__("order"),": ")),r.a.createElement("div",null,r.a.createElement(v.a,{orderId:s})," ",r.a.createElement(b.a,{orderId:s})," ")),r.a.createElement("div",{className:"col-8"},r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("b",null,__("order.form.amount.cfd")),":"," ",r.a.createElement(l.a,{orderId:s})," ",r.a.createElement(_.a,{orderId:s,as:"span"}))," ",r.a.createElement(c.a,{orderId:s})," "),r.a.createElement("div",null,r.a.createElement(f.a,{orderId:s,before:r.a.createElement("b",null,__("notification.protection.stopLoss")+" ")}),r.a.createElement(h.a,{orderId:s,before:r.a.createElement("b",null," ",__("notification.protection.takeProfit")+" ")})))),r.a.createElement("div",{className:"col-3 grid-middle grid-right"},r.a.createElement(u.a,{as:"div",className:"btn instrument-list-btn",symbol:o,onClick:function(e){return n(e,s)}},r.a.createElement(p.default,{name:"edit",size:14})),r.a.createElement(d.a,{as:"div",className:"btn btn-sm instrument-list-btn",symbol:o,onClick:function(e){return i(e,s)}},r.a.createElement(p.default,{name:"close",size:14}))))}}]),t}(i.Component);E.defaultProps={selectInstrument:g.a.noop,editOrder:g.a.noop,cancelOrder:g.a.noop};var S=E,C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};var w=function(e){var t=e.selectInstrument,n=e.editOrder,i=e.cancelOrder,o=e.RenderComponent,s=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["selectInstrument","editOrder","cancelOrder","RenderComponent"]);return r.a.createElement(a.a,C({},s,{className:"advanced-orders-list",renderItem:function(e){return r.a.createElement(o,{selectInstrument:t,editOrder:n,cancelOrder:i,symbol:s.symbol,orderId:e,key:"order-"+e})}}))};w.defaultProps={RenderComponent:S};t.a=Object(o.connect)(null,(function(e){return{selectInstrument:function(t,n){e(Object(s.selectInstrumentSymbolAndUpdateUrl)(n))}}}))(w)},,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"g",(function(){return v})),n.d(t,"i",(function(){return b})),n.d(t,"j",(function(){return _})),n.d(t,"k",(function(){return y})),n.d(t,"h",(function(){return E})),n.d(t,"f",(function(){return S})),n.d(t,"l",(function(){return w})),n.d(t,"m",(function(){return O})),n.d(t,"p",(function(){return T})),n.d(t,"o",(function(){return P})),n.d(t,"n",(function(){return k}));var i=n(45),r=n(8),o=n.n(r),s=n(1),a=n.n(s),l=n(177),c=n(64);function u(){return function(e){e({type:i.f})}}function d(){return function(e){e({type:i.d})}}function p(){return function(e){e({types:[i.m,i.o,i.n],callApi:function(){return o.a.loadAcuityClasses()}})}}function f(e){return function(t){if(e){var n=String(Object(c.transformSBSymbolToSymbol)(e)).replace(/\//g,"~");t({types:[i.h,i.j,i.i],additionalData:{requestId:a.a.uniqueId("alerts-request-"),symbol:n},callApi:function(){return o.a.loadAcuityAlertsBySymbol(n,i.c)}})}}}function h(e,t){return function(n){e&&n({types:[i.g,m,i.k],additionalData:{requestId:a.a.uniqueId("alerts-request-"),classId:e},callApi:function(){return Object(l.loadAcuityAlerts)(e,t)}})}}function m(e){return function(t){t({type:i.l,payload:e}),t(g())}}function g(){return function(e){e({type:i.a})}}function v(e){return function(t){t({type:i.u,payload:e}),t({type:i.s})}}function b(e){return function(t){t({type:i.v,payload:a.a.isArray(e)?e:[e]}),t(g())}}function _(e){return{type:i.w,payload:e}}function y(e,t){return function(n){n({type:i.x,payload:{min:e,max:t}}),n(g())}}function E(){return function(e,t){var n=a.a.first(t().acuityTrading.filteredAlerts);n&&e(S(n))}}function S(e){return function(t){t({type:i.t,payload:e}),t(k())}}function C(){return{type:i.b}}function w(e,t){return function(n,r){var s=r().acuityTrading,a=t||s.selectedInterval,l=s.alertsMap[e],u=l&&Object(c.transformSBSymbolToSymbol)(l._symbol);n(u?{types:[i.p,i.r,i.q],callApi:function(){return o.a.loadAcuitySentiment(u,a)}}:C())}}function O(e){return function(t,n){if(e){var r=String(Object(c.transformSBSymbolToSymbol)(e)).replace(/\//g,"~");t({types:[i.p,i.r,i.q],callApi:function(){return o.a.loadAcuitySentiment(r,i.c)}})}else t(C())}}function T(e){return{type:i.z,payload:e}}function P(e){return{type:i.y,payload:e}}function k(){return function(e){e(P(null))}}},,function(e,t,n){"use strict";n.r(t),n.d(t,"loadNews",(function(){return g})),n.d(t,"loadNewsSuccess",(function(){return v})),n.d(t,"resetNewsByTicker",(function(){return b})),n.d(t,"selectFirstNewsId",(function(){return _})),n.d(t,"createGroup",(function(){return y})),n.d(t,"startTimerUpdate",(function(){return E})),n.d(t,"removeTimerUpdate",(function(){return S})),n.d(t,"selectNews",(function(){return C})),n.d(t,"openNewsPage",(function(){return w})),n.d(t,"closeNewsPage",(function(){return O})),n.d(t,"selectDropdownFilter",(function(){return T})),n.d(t,"incrementRefCount",(function(){return P})),n.d(t,"decrementRefCount",(function(){return k}));var i=n(56),r=n(1),o=n(33),s=n(5),a=n.n(s),l=n(9),c=n.n(l),u=n(8),d=n.n(u),p=n(262),f=n(64),h=function(){return c.a.getNewsFeedIntervalUpdateTime()},m=null;function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.a,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(o,s){if(!r.isEmpty(e)){var a=String(Object(f.transformSBSymbolToSymbol)(e)).replace(/\//g,"~"),l=r.isEmpty(Object(p.l)(s(),a)),c=void 0;n&&(c=Object(p.e)(s(),a)),l&&o(y(a)),o({types:[i.f,v,i.g],callApi:function(){return d.a[a===i.a?"loadNews":"loadNewsForInstrument"](a)},shouldCallApi:function(e){var t=Object(p.i)(e,a);return!n||r.now()-t>h()},additionalData:{ticker:a,shouldSelectFirstNews:t,prevStateAll:c}}),!m&&n&&o(E())}}}function v(e){return function(t){var n=e.additionalData,r=n.ticker,o=n.shouldSelectFirstNews;t({type:i.h,payload:e}),!0===o&&t(_(r))}}function b(e){return function(t){t({type:i.k,payload:e})}}function _(e){return function(t,n){var i=n().news[e];t(C(i&&r.first(i.filter),e))}}function y(e){return function(t){t({type:i.c,payload:e})}}function E(){return function(e){m||(e({type:i.n}),m=setInterval((function(){e(g())}),h()))}}function S(){return function(e,t){e({type:i.d}),0===t().news.refCount&&(e({type:i.j}),m&&(clearInterval(m),m=null))}}function C(e,t){return function(n){n({type:i.m,payload:{id:e,ticker:t}})}}function w(){return function(e){e(_(i.a)),e({type:i.i})}}function O(){return{type:i.b}}function T(e,t){return function(n,s){if(n({type:i.l,payload:{name:e,ticker:t}}),!o.default.mobile()){var l=s().news[t],c=l&&r.first(l.filter);c&&a.a.navigate("news/"+c)}}}function P(){return{type:i.e}}function k(){return{type:i.d}}},function(e,t,n){(function(i,r){var o,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};void 0===(o=function(e,t,i){var r=n(1),o=n(12),a=n(395),l=n(71).default,c=n(6),u=n(964),d=n(1006),p=n(1437),f=n(1440),h=n(573),m=n(520);i.exports=r.extend({},a,{init:function(){u.initLocalizedSettings()},createSubscription:function(e,t,n){var i=e.chartId,r=e.symbol,o=e.period,a=e.range,l=e.price,c=e.indicators,u=!!a,p=!!o;a=a?h[a]||h["1d"]:this.getRangeByPeriod(o);var f={aggregationPeriod:o=o?this.getPeriod(o):this.getPeriod(a.request.period),expansionBarsCount:0,extendedHours:!1,forexPriceField:l,id:void 0,maxBarsCount:400,range:{duration:a.request&&a.request.duration||a.duration},studySubscription:c,subtopic:void 0,symbol:r,updateInterval:300};return new d(s({chartId:i,settings:f,timeout:t,unsubscribeId:n},u?{range:a}:{},p?{period:o}:{}))},updateSubscription:function(e,t){t=h[t],e.set("range",t),r.extend(e.getSettings(),{aggregationPeriod:this.getPeriod(t.request.period),range:{duration:t.request&&t.request.duration||t.duration}})},showIndicatorsSettings:function(e,t){var n=this;return new f({parent:o("body"),translucent:"2"},e,this.getActiveIndicators(e),this.getInactiveIndicators(e),this.getAllIndicators(),(function(e,i,r){n.saveActiveIndicators(e,r),n.saveInactiveIndicators(i,r),t&&t(e,r)}))},saveActiveIndicators:function(e,t){r.isUndefined(t)?c.getUserCommonData().saveActiveIndicators(e):this.saveMultiChartsSettings(t,"indicators",e)},getActiveIndicators:function(e){if(l.mobile())return[];if(r.isUndefined(e))return c.getUserCommonData().getActiveIndicators();var t=c.getUserCommonData().getMultiChartsSettings().charts;if(t&&t[e]){var n=t[e].indicators;return r.isString(n)&&(n=JSON.parse(n)),n}return[]},saveInactiveIndicators:function(e,t){r.isUndefined(t)?c.getUserCommonData().saveInactiveIndicators(e):this.saveMultiChartsInactiveIndicators(t,e)},getInactiveIndicators:function(e){if(r.isUndefined(e))return c.getUserCommonData().getInactiveIndicators();var t=c.getUserCommonData().getMultiChartsInactiveIndicators();return t&&t[e]?t[e]:{}},getAllIndicators:function(){return c.getUserCommonData().getAllIndicators()},showChartSettings:function(e,t){var n=this,i=this.getChartSettings(e);return r.isUndefined(e)||delete i.switchers.showTrades,new p({parent:o("body"),translucent:"2"},e,i,u.defaultChartSettings,(function(e,i,r){n.saveChartSettings(e,i,r),t&&t(e,i,r)}))},saveChartSettings:function(e,t,n){r.isUndefined(n)?c.getUserCommonData().saveChartSettings(t):this.saveMultiChartsSettings(n,"settings",t)},getChartSettings:function(e){if(r.isUndefined(e))return u.prepareSettings(this.parseSettings(c.getUserCommonData().getChartSettings()));var t=c.getUserCommonData().getMultiChartsSettings().charts;return t&&t[e]?u.prepareSettings(t[e].settings):u.defaultChartSettings},getDrawings:function(e,t){if(r.isUndefined(t))return c.getUserCommonData().getDrawingSettings(e);var n=c.getUserCommonData().getMultiChartsSettings().charts;if(n&&n[t]){var i=n[t].drawings;return i||{}}return{}},saveDrawings:function(e,t,n){r.isUndefined(n)?c.getUserCommonData().saveDrawingSettings(e,t):this.saveMultiChartsSettings(n,"drawings",t)},saveComparison:function(e,t,n){var i=c.getUserCommonData().getMultiChartsSettings().charts;r.isArray(i)||(i=[]),r.isObject(i[e])||(i[e]={}),r.isArray(i[e].comparison)||(i[e].comparison=[]);var o=i[e].comparison;if(n)o.push(t);else{var s=o.indexOf(t);s>-1&&o.splice(s,1)}c.getUserCommonData().saveMultiChartsSettings({charts:i})},saveMultiChartsSettings:function(e,t,n){var i=c.getUserCommonData().getMultiChartsSettings().charts;return r.isArray(i)||(i=[]),r.isObject(i[e])||(i[e]={}),i[e][t]=n,"symbol"===t&&(i[e].drawings=void 0),c.getUserCommonData().saveMultiChartsSettings({charts:i})},removeMultiChartsSettings:function(e){var t=c.getUserCommonData().getMultiChartsSettings().charts;return r.isArray(t)&&(t[e]=null),c.getUserCommonData().saveMultiChartsSettings({charts:t})},saveMultiChartsInactiveIndicators:function(e,t){var n=c.getUserCommonData().getMultiChartsInactiveIndicators();r.isArray(n)||(n=[]),n[e]=t,c.getUserCommonData().saveMultiChartsInactiveIndicators(n)},parseSettings:function(e,t){return r.isUndefined(e)||r.isNull(e)?t:r.isString(e)?JSON.parse(e):e},getRanges:function(){return h},getPeriod:function(e){return r.findWhere(c.getUserCommonData().getPeriods(),{name:e})},getRangeDuration:function(e){return e=h[e].range,r.findWhere(c.getUserCommonData().getRanges(),{name:e})},getPeriods:function(){return m},getPeriodByRange:function(e){return h[e].request.period},getRangeByPeriod:function(e){return r.find(c.getUserCommonData().getPeriodRangePairs(),(function(t){return t.aggregationPeriod.name===e})).range},getApplicationSettings:function(){return c.getApplicationSettings()}})}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(5),o=n(8),s=n(43),a=n(1);rolloverDates=n(170).rolloverDates;var l=s.extend({defaults:function(){return{data:{}}},initialize:function(){this.listenTo(r,"user:login",this.loadRollovers)},loadRollovers:function(){return o.loadRollovers().then(this.loadRolloversSuccess.bind(this)).catch(this.loadRolloversError.bind(this))},loadRolloversSuccess:function(e){var t;this.set("data",e.data),store.dispatch(rolloverDates((t=e.data,JSON.parse(JSON.stringify(t)))))},loadRolloversError:function(e){},getRollovers:function(e){var t=this.get("data");if(a.has(t,e)){var n=t[e],i=this.getDayNumber(n),r=this.getDay(n),o=this.getMonths(n);return __("instrument_info.rollover_date.text",i,r,o)}return __("instrument_info.none")},getDayNumber:function(e){var t="instrument_info.rollover_date.day_number."+e.dayNumberOfMonth,n=__(t);return n===t?e.dayNumberOfMonth:n},getDay:function(e){var t="instrument_info.day."+e.dayOfWeek,n=__(t);return n===t?e.dayOfWeek:n},getMonths:function(e){return e.months.map((function(e){return __("instrument_info.rollover_date.month."+e)})).join(", ")}});i.exports=new l}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(8),o=n(66),s=n(1);function a(e){return e.data}function l(e){return Promise.reject(e)}function c(e){return t=e.data,n={monday:"message.day0",tuesday:"message.day1",wednesday:"message.day2",thursday:"message.day3",friday:"message.day4",saturday:"message.day5",sunday:"message.day6"},i=s.isString(t.startDay)?__(n[t.startDay.toLowerCase()]):"",r=t.tradingHours[0],o=s.isString(t.endDay)?__(n[t.endDay.toLowerCase()]):"",a=t.tradingHours[1],{tradingHoursName:d(t.active),tradingHoursValue:i&&r&&o&&a?i+" "+r+" - "+o+" "+a+" GMT":"",tradingHoursRaw:t};var t,n,i,r,o,a}function u(e){return Promise.reject(e)}function d(e){return void 0===e?__("instrument_info.trading_hours"):e?__("instrument_info.current_trading_hours"):__("instrument_info.next_trading_hours")}i.exports.getMarginingSettings=function(e){return function(e){return r.getMarginingSettings(o.getAtmosphereId(),e)}(e).then(a).catch(l)},i.exports.getTradingCalendarsSettings=function(e){return function(e){return r.getTradingCalendarsSettings(o.getAtmosphereId(),e)}(e).then(c.bind(this)).catch(u.bind(this))}}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(572),o=r.MINUTE,s=r.HOUR,a=r.DAY,l=r.WEEK,c=r.MONTH;i.exports={"1m":{amount:1,unit:o,seconds:60},"5m":{amount:5,unit:o,seconds:300},"15m":{amount:15,unit:o,seconds:900},"30m":{amount:30,unit:o,seconds:1800},"1h":{amount:1,unit:s,seconds:3600},"2h":{amount:2,unit:s,seconds:7200},"4h":{amount:4,unit:s,seconds:14400},"1d":{amount:1,unit:a,seconds:86400},"1w":{amount:1,unit:l,seconds:604800},"1mn":{amount:1,unit:c,seconds:2592e3}}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){"use strict";n.r(t),n.d(t,"LOGIN_START_TIME",(function(){return p})),n.d(t,"tracePlatformLogin",(function(){return T})),n.d(t,"tracePlatformLoad",(function(){return P})),n.d(t,"traceBasicChartLoad",(function(){return k})),n.d(t,"traceAdvancedChartLoad",(function(){return I}));var i=n(621),r=(n(1235),n(1)),o=n(5),s=n.n(o),a=n(285),l=n(61),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p="loginStartTime",f={apiKey:"AIzaSyCqRl_-q57A6LRNibxLeg-mH6mZWbtY4oA",authDomain:"api-project-21155591901.firebaseapp.com",databaseURL:"https://api-project-21155591901.firebaseio.com",projectId:"api-project-21155591901",storageBucket:"api-project-21155591901.appspot.com",messagingSenderId:"21155591901",appId:"1:21155591901:web:6df0d915f039b20914cd34"},h=Object(a.device)(),m=!!f,g=!1,v=void 0,b=void 0,_=void 0,y="platform:login",E="basicChart:load",S="advancedChart:load",C="platform:load",w=function(e){i.initializeApp(e),(_=i.performance()).instrumentationEnabled=!1};m&&w(f),s.a.once("settings:load:success",(function(){var e=n(9);if(g=e.isPerformanceEventosEnabled(),m=e.isPerformanceFirebaseEnabled()){if(!_){var t=function(e){var t=e.getPerformanceFirebaseRemoteConfig();if(r.isEmpty(t))return null;try{return JSON.parse(t)}catch(e){return null}}(e);t&&w(t)}}else _&&_&&(_.instrumentationEnabled=!1,_.dataCollectionEnabled=!1,void 0,_=void 0)})),s.a.once("user:common:data:update",(function(){var e=n(6),t=n(9);v=e.getUserCommonData().isAdvancedTradingView()?l.TRADING_VIEW_ADVANCED:l.TRADING_VIEW_BASIC,b=e.getUserCommonData().isAdvancedTradingView()&&t.isChartModeSwitcherEnabled()?e.getUserCommonData().getChartMode():l.CHART_MODE_BASIC}));var O=function(){function e(t,n){d(this,e),e._validateName(t),this._attributes={},this._name=t,this._getDefaultAttributes=n}return u(e,[{key:"start",value:function(e){this._start=Date.now(),this._attributes=c({},this._attributes,e),this._active=!0}},{key:"stop",value:function(e){this._active&&(this._active=!1,this.record(e,this._start))}},{key:"record",value:function(e,t,n){this._start=t,this._stop=n||Date.now(),this._duration=this._stop-this._start,this._attributes=c({},this._getDefaultAttributes&&this._getDefaultAttributes(),this._attributes,e,{appSource:h,version:"1.77.7"}),g&&this._sendToEventos(),m&&this._sendToFirebase(),this._sendToConsole()}},{key:"_sendToEventos",value:function(){__eventos("performance:"+this._name,c({},this._attributes,{duration:this._duration}))}},{key:"_sendToFirebase",value:function(){r.keys(this._attributes).length,_.trace(this._name).record(this._start,this._duration,{attributes:r.mapObject(this._attributes,(function(e){return String(e)}))})}},{key:"_sendToConsole",value:function(){}}],[{key:"_validateName",value:function(e){if(!e)throw new Error("Event name is empty");if(e.indexOf(":")<=0||2!==e.split(":").length)throw new Error('Event name must contain one ":" sign to meet eventos requirements');if(0===e.indexOf("_")||e.length>32)throw new Error('Event name must not start with "_" sign and max length must be 32 to meet firebase requirements')}}]),e}(),T=new(function(e){function t(){return d(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),u(t,[{key:"record",value:function(e){var n=localStorage.getItem(p);n&&(localStorage.removeItem(p),function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"record",this).call(this,e,Number(n)))}}]),t}(O))(y,(function(){return{tradingView:v,chartMode:b}})),P=new O(C,(function(){return{tradingView:v}})),k=new O(E),I=new O(S)},function(e,t,n){var i;void 0===(i=function(e,t,n){var i=Object.freeze({MARKETS:"markets",TRADE:"trade",FINEXO:"finexo",CFD_GLOBAL:"cfdglobal",FOREX_4_GROUP:"forex4group",CLICK_TRADES:"clicktrades",TRADE_TECH_DEMO:"TradeTech",FINQ:"finq",GLOBTREX:"globtrex"});n.exports={BRAND:i}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(20),o=(n(12),n(1)),s=n(1438);i.exports=r.extend({className:"color-picker",events:function(){return o.extend({},o.result(r.prototype,"events"),{"click .color-picker-button":"handleButtonClick"})},handleButtonClick:function(){this.$dropdown||(this.$dropdown=new s({parent:this.container},this.el,this.color,this.setColor.bind(this),this)),this.$dropdown.toggle()},setColor:function(e){this.color=e,this.$button.css("background-color",this.color),this.trigger("change",this,this.value())},initialize:function(e){r.prototype.initialize.apply(this,arguments),this.color=e.value||e.el.dataset.color,this.container=e.container,this.field=e.field,this.render()},value:function(){return this.color},updatePosition:function(){this.$dropdown&&this.$dropdown.updatePosition()},render:function(){this.$el.addClass(this.className),this.$el.html('<div class="color-picker-button"></div>'),this.$button=this.$el.find(".color-picker-button"),this.$button.css("background-color",this.color)}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){"use strict";n.r(t),function(e,i){var r=n(0),o=n.n(r),s=n(87),a=n(124),l=n.n(a),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var u=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),c(n,[{key:"openRiskWarning",value:function(){return new l.a({parent:e("body"),text:__("tipranks.text.disclaimer"),caption:__("risk.warning"),isHeaderShowed:!1,onOK:function(){return i.noop}})}},{key:"render",value:function(){return o.a.createElement("div",{onClick:this.openRiskWarning},o.a.createElement("div",{className:"warning-icon"},o.a.createElement(s.default,{name:"warning",width:22,height:17})),o.a.createElement("div",null,__("risk.warning")))}}]),n}(r.Component);t.default=u}.call(this,n(12),n(1))},function(e,t,n){var i;void 0===(i=function(e,t,n){n.exports={EMPTY:"EMPTY",PENDING:"PENDING",SUCCESS:"SUCCESS",ERROR:"ERROR"}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){"use strict";n.r(t),n.d(t,"show",(function(){return d}));var i=n(12),r=n.n(i),o=!1,s=null,a=[];function l(){return l._$elem||(l._$elem=r()(".balloon-message"),l._$elem.on("mouseenter",(function(e){e.stopPropagation(),clearTimeout(s)})),l._$elem.on("mouseleave",(function(e){e.stopPropagation(),c()}))),l._$elem}function c(){s=setTimeout((function(){o&&l().fadeOut({duration:800,complete:function(){o=!1,s=null,u(a.shift())}})}),5e3)}function u(e){var t=l();e?(o=!0,t.css("display","block"),e.critical?t.addClass("critical"):t.removeClass("critical"),t.find(".title").html(e.title),t.find(".body").html(e.body),t.fadeIn({duration:800,complete:c})):t.css("display","none")}var d=function(e){o?a.push(e):u(e)}},,function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(8),s=n(66),a=[];window._conversionRates=a,i.exports={add:function(e,t){var n=r.findWhere(a,{from:e,to:t});return n?n.refs++:(n={from:e,to:t,refs:1},a.push(n)),function(e,t){return o.requestConversionSubscription(e,t,s.getAtmosphereId()).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}(e,t)},remove:function(e,t){var n=r.findWhere(a,{from:e,to:t});return n&&(n.refs--,n.refs<=0)?(a.splice(a.indexOf(n),1),function(e,t){return o.requestConversionUnsubscription(e,t,s.getAtmosphereId()).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}(e,t)):Promise.resolve()}}}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){"use strict";n.r(t);var i=n(138),r=n(310),o=n(0),s=n.n(o),a=n(91),l=n.n(a),c=n(15),u=n.n(c),d=n(7),p=n.n(d),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var h=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return u()(e),e.popupLayoutRef=s.a.createRef(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),f(t,[{key:"close",value:function(){this.popupLayoutRef.current.close()}},{key:"render",value:function(){var e,t,n,o=this.props,a=o.title,c=o.message,u=o.onClose,d=o.onOK,f=o.textOK,h=o.style,m=o.children,g=o.contentClassName,v=o.footer,b=p()((n=!!g,(t=g)in(e={"message-box__content":!0,"fs-13":!0})?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e));return s.a.createElement(r.b,{popupStyle:h,title:a,onClose:u||this.close,ref:this.popupLayoutRef},s.a.createElement("div",{className:b},c&&s.a.createElement("div",{className:"message"},l()(c)),m),s.a.createElement("div",{className:"message-box__actions fs-13 flex-align-center"},s.a.createElement(i.a,{btnType:"primary",className:"message-box__action-ok",onClick:d||this.close},f)),v&&s.a.createElement("div",{className:"message-box__footer fs-13 flex-align-center"},v))}}]),t}(s.a.Component);h.defaultProps={style:"quant",title:"",message:"",textOK:__("ok"),onOK:null,onClose:null},t.default=h},,function(e,t,n){"use strict";n.d(t,"e",(function(){return b})),n.d(t,"c",(function(){return _})),n.d(t,"a",(function(){return y})),n.d(t,"f",(function(){return E})),n.d(t,"d",(function(){return S})),n.d(t,"b",(function(){return C}));var i=n(2),r=n(1),o=n.n(r),s=n(69),a=n(532),l=n(81),c=n(262),u=n(135),d=n(3);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=Object(i.a)((function(e){return e.services}),(function(e){return e.availableServices})),h=Object(i.a)(f,(function(e){return o.a.contains(e,__(s.g.SIGNALS))})),m=Object(i.a)(f,(function(e){return o.a.contains(e,__(s.g.NEWS))})),g=Object(i.a)(f,(function(e){return o.a.contains(e,__(s.g.COMMENTARY))})),v=Object(i.a)(f,(function(e){return o.a.contains(e,__(s.g.XRAY))})),b=Object(i.a)([h,a.g],(function(e,t){return e&&t})),_=Object(i.a)([m,c.p],(function(e,t){return e&&t})),y=Object(i.a)([g,l.n],(function(e,t){return e&&t})),E=Object(i.a)(v,(function(e){return e})),S=Object(i.a)([b,_,y,E],(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.a.some(t,(function(e){return!!e}))})),C=Object(i.a)([f,a.b,c.k,l.f,u.k],(function(e,t,n,i,r){var a,l=(p(a={},__(s.g.SIGNALS),t),p(a,__(s.g.NEWS),n),p(a,__(s.g.COMMENTARY),i),p(a,__(s.g.XRAY),r),a);return o.a.every(e,(function(e){return l[e]===d.SUCCESS}))}))},function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return E})),n.d(t,"g",(function(){return S}));var i=n(2),r=n(26),o=n.n(r),s=n(1),a=n.n(s),l=n(265),c=n(236),u=n(191),d=n(235),p=n(55),f=n(64),h=n(3),m=Object(i.a)([u.q,p.isAnalystsRatingsEnabled],(function(e,t){return!a.a.isEmpty(e)&&t})),g=Object(i.a)([d.h,p.isInsidersActivityEnabled],(function(e,t){return!a.a.isEmpty(e)&&t})),v=Object(i.a)([c.d,p.isHedgeFundsEnabled],(function(e,t){return!a.a.isEmpty(e)&&t})),b=Object(i.a)([l.g,p.isBloggersOpinionsEnabled],(function(e,t){return!a.a.isEmpty(e)&&t})),_=Object(i.a)([p.isBloggersOpinionsEnabled,p.isInsidersActivityEnabled,p.isHedgeFundsEnabled,p.isAnalystsRatingsEnabled],(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.a.chain([l.i,d.i,c.e,u.s]).map((function(e,n){return t[n]&&e})).compact().value()})),y=Object(i.a)(_,(function(e){return e}),(function(e,t){return!a.a.isEmpty(e)&&a.a.every(e,(function(e){return e(t)===h.SUCCESS}))?h.SUCCESS:h.LOADING})),E=Object(i.a)((function(e){return e.signals}),(function(e){return e.data})),S=Object(i.a)([E,m,g,v,b],(function(e,t,n,i,r){var s=[t&&h.TRADING_TOOLS.ANALYSTS,t&&h.TRADING_TOOLS.ANALYST_RECOMMENDATIONS,n&&h.TRADING_TOOLS.INSIDERS,i&&h.TRADING_TOOLS.HEDGEFUNDS,r&&h.TRADING_TOOLS.BLOGGERS];return a.a.some(e,(function(e){return o.a.getInstrumentBySymbol(e.symbol)||(e.symbol=Object(f.transformSymbolToSBSymbol)(e.symbol)),o.a.getInstrumentBySymbol(e.symbol)&&-1!==a.a.indexOf(s,e.source)}))}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){(function(i){var r;void 0===(r=function(e,t,r){var o=n(100),s=n(1328),a=o.extend({model:s,comparator:"weight",loadData:function(e){var t=window._app.settings.getPriceAlertsTypes();this.reset(i.filter(e,(function(e){return-1!==t.indexOf(e.id)||e.isGroup})))}});r.exports=new a}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){},function(e,t,n){"use strict";function i(e,t){return e.parent().closest(t)||{}}n.r(t),n.d(t,"default",(function(){return i}))},,function(e,t,n){"use strict";n.r(t),n.d(t,"LoginMessageActionType",(function(){return i}));var i={SWITCH_ACCOUNT_TYPE_LIVE:"SWITCH_ACCOUNT_TYPE_LIVE",SWITCH_ACCOUNT_TYPE_DEMO:"SWITCH_ACCOUNT_TYPE_DEMO",EXTERNAL:"EXTERNAL",INTERNAL:"INTERNAL"}},function(e,t,n){var i;void 0===(i=function(e,t,n){n.exports={MILLISECOND:"millisecond",SECOND:"second",MINUTE:"minute",HOUR:"hour",DAY:"day",WEEK:"week",MONTH:"month",YEAR:"year"}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(572),o=r.HOUR,s=r.DAY,a=r.WEEK,l=r.MONTH,c=r.YEAR;i.exports={"1h":{amount:1,unit:o,seconds:3600,request:{period:"1m",duration:864e3}},"1d":{amount:1,unit:s,seconds:86400,request:{period:"15m",duration:864e3}},"1w":{amount:1,unit:a,seconds:604800,request:{period:"2h",duration:864e3}},"1mn":{amount:1,unit:l,seconds:2592e3,request:{period:"4h",duration:6912e3}},"3mn":{amount:3,unit:l,seconds:7884e3,request:{period:"1d",duration:31622400}},"6mn":{amount:6,unit:l,seconds:1577e4,request:{period:"1d",duration:31622400}},"1y":{amount:1,unit:c,seconds:31622400,request:{period:"1d",duration:31622400}},"3y":{amount:3,unit:c,seconds:94867200,request:{period:"1w",duration:126489600}}}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(367),s=n(32),a=n(74).OPINIONS_COLORS;i.exports=function(e,t){var n=r.map(t,(function(e){return{name:e.siteName,y:e.percentageOfSite}}));o.chart(e,{credits:{enabled:!1},chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie",margin:[0,0,0,0],spacing:[0,0,0,0]},colors:a,title:{text:null},tooltip:{enabled:!1},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!1},size:"80px",showInLegend:!0,center:["15%","50%"],point:{events:{legendItemClick:function(e){e.preventDefault()}}}},series:{states:{hover:{enabled:!1}}}},legend:{layout:"vertical",align:"right",verticalAlign:"middle",symbolRadius:8,symbolWidth:10,symbolHeight:10,itemStyle:{fontWeight:"normal",fontSize:"13px"},labelFormatter:function(){return"<span>"+s(this.y).toPercent(0)+" "+this.name+"</span>"}},series:[{colorByPoint:!0,data:n}]})}}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,r){var o=n(0),s=n(455),a=n(18)({displayName:"GridRow",getDefaultProps:function(){return{model:null,columns:[],screenSize:null,onRowClick:function(){},selectedRowClass:"selected",isSelected:!1}},getRenderCells:function(){var e=this.props.model;return this.props.columns.map((function(t,n){var r=t.type||s,a=i.extend({},t.cellProps,{key:n,column:t,model:e});return o.createElement(r,a)}))},onRowClick:function(e){this.props.onRowClick(e,this.props.model)},render:function(){var e=["row",this.props.isSelected?this.props.selectedRowClass:""].join(" ");return o.createElement("tr",{className:e,onClick:this.onRowClick},this.getRenderCells())}});r.exports=a}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(233),s=n(18)({displayName:"PriceAlertDailyChange",getDefaultProps:function(){return{className:""}},getInitialState:function(){return{value:this.props.model.get("percentChange")}},componentDidMount:function(){this.props.model.on("change:percentChange",this.update,this)},componentWillUnmount:function(){this.props.model.off("change:percentChange",this.update,this)},update:function(){this.setState({value:this.props.model.get("change:percentChange")})},render:function(){return r.createElement(o,{value:this.state.value,positiveSymbol:"+",postfix:"%",useInline:!0,precision:2})}});i.exports=s}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(233),s=n(18)({displayName:"PriceAlertPriceAlert",getDefaultProps:function(){return{className:""}},getInitialState:function(){return{rate:this.props.model.get("bid"),dir:this.props.model.get("bidDirection"),eventName:"change:bid",eventNameDirection:"change:bidDirection"}},componentDidMount:function(){this.props.model.on(this.state.eventName,this.update,this),this.props.model.on(this.state.eventNameDirection,this.update,this)},componentWillUnmount:function(){this.props.model.off(this.state.eventName,this.update,this),this.props.model.off(this.state.eventNameDirection,this.update,this)},update:function(){this.setState({rate:this.props.model.get("bid"),dir:this.props.model.get("bidDirection")})},render:function(){var e=this.props.model,t=Number(e.get("precision")),n=Number(this.state.rate).toFixed(t);return r.createElement(o,{dir:this.state.dir,value:n,precision:t,positiveSymbol:""})}});i.exports=s}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(783),s=n(18)({displayName:"PriceAlertSentiment",render:function(){var e=this.props.model.get("sentiment");return r.createElement(o,{value:e})}});i.exports=s}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var i=n(3),r=n(9),o=n.n(r),s=n(54),a=n.n(s);function l(){var e=a.a.getLanguage(),t=o.a.getPaymentsServiceVendor()===i.PRAXIS?i.praxisLocales:i.cashierLocales;return t[e]?t[e]:t.en}},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(367),s=n(73),a=n(16),l=n(74),c=l.TEXT_MUTED_COLOR,u=l.BRAND_PRIMARY,d=l.GRAPH_LINE_COLOR;i.exports=function(e,t,n,i,l,p,f){var h=r.map(t,(function(e){return[new Date(e.l).getTime(),e.h]})),m=r.map(n,(function(e){return[new Date(e.m).getTime(),e.p]}));f&&(h=h.slice(-f),m=m.slice(12*-(f+1)));var g=r.uniq(r.union(r.map(h,(function(e){return e[0]})),r.map(m,(function(e){return e[0]})))).sort((function(e,t){return e-t})),v=g[0]-7776e6;g.unshift(v),h.unshift([v,0]),o.chart(e,{credits:{enabled:!1},tooltip:{enabled:!1},chart:{zoomType:!1,width:i,height:l,spacingTop:5,spacingBottom:5,spacingLeft:5,spacingRight:5,style:{fontFamily:"Lato"}},title:{text:""},xAxis:{type:"datetime",categories:g,style:{color:c},tickInterval:7776e6,gridLineWidth:1,gridLineDashStyle:"ShortDot",gridLineColor:c,startOnTick:!1,labels:{formatter:function(){return a(this.value-864e5).format("MMM, D Y")},style:{fontSize:"9px",fontWeight:"bold"}}},yAxis:[{title:{text:__("tab.shares"),style:{color:c}},labels:{formatter:function(){return s(this.value).format("0a").toUpperCase()},style:{color:c}},gridLineColor:c,gridLineDashStyle:"ShortDot"},{title:{text:__("insiders.graph.stock.price"),style:{color:c}},labels:{format:"{value}"},gridLineDashStyle:"ShortDot",gridLineColor:c,tickPixelInterval:50,opposite:!0}],plotOptions:{line:{marker:{enabled:!1}},column:{groupPadding:.5,pointWidth:p,borderWidth:0},series:{lineWidth:2}},legend:{enabled:!1},series:[{name:"",type:"column",data:h,color:u},{name:"",type:"line",data:m,color:d,yAxis:1,enableMouseTracking:!1}]})}}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){var i;void 0===(i=function(e,t,n){n.exports={PENDING:"PENDING",PENDING_BEGIN:"PENDING_BEGIN",PENDING_END:"PENDING_END",UPDATED:"UPDATED",CONVERTER_CHANGED:"CONVERTER_CHANGED",NEW_FEED:"NEW_FEED",UPDATE_FEED:"UPDATE_FEED",UPDATE_ALL_FEED:"UPDATE_ALL_FEED"}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,n){n.exports={EMPTY:"EMPTY",SUBMIT:"SUBMIT",IN_PROCESS:"IN_PROCESS",BUY:"buy",TYPE_MARKET:"market",TYPE_LIMIT:"limit",TYPE_STOP:"stop"}}.call(t,n,t,e))||(e.exports=i)},function(e,t){e.exports="<div class=margin-level-message-box> <div class=margin-level-message-box-content> <div class=description><%=options.description%></div> <div class=actions> <% if (!options.isLiquidationLevel) { %> <button class=\"btn btn-primary\" action=fn-deposit><%=__('actions.deposit')%></button> <button class=\"btn btn-link\" action=fn-close-positions><%=__('margin.level_1.popup.button.Close_Positions')%></button> <% } else { %> <button class=\"btn btn-primary\"><%=__('ok')%></button> <% } %> </div> </div> </div>"},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(43),s=n(5);function a(e,t,n){s.trigger("eventos","onBoardFlow:"+e+":"+t,function(e){return r.isEmpty(e)?{}:{id:e.id,amount:e.amount,currency:e.currency}}(n))}function l(e){a("bonusApprovalPopupUnified",e)}function c(e,t){if(!r.isEmpty(e))switch(e.type){case"VERIFIED_ID_BONUS":a("confirmIDBonus",t);break;case"VERIFIED_RESIDENCE_BONUS":a("confirmResidenceBonus",t)}}var u=o.extend({approve:function(e){c(e,"clkConfirm")},approveMultiple:function(){l("clkAccept")},reject:function(e){c(e,"clkDecline")},rejectMultiple:function(){l("clkDecline")},clickTermsMultiple:function(){l("clkTerms")},clickTerms:function(e){c(e,"clkTerms")}});i.exports=new u}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var o=n(1),s=n(5),a=n(70),l=n(8),c=o.template(n(1730)),u=n(16),d=n(6),p=n(1731),f=n(9),h=n(71).default,m=n(33).default,g=n(208).saveSettingsByKey,v=n(127).SETTINGS_IS_ADVANCED_DASHBOARD_SERVICES_PRIMARY_EXPANDED,b=n(55).isNewAdvancedDashboardServicesPrimaryExpanded,_=o.template('\n        <li>\n            <div class="message-data">\n              <span class="message-data-time"><%=time%></span>\n            </div>\n            <div class="message">\n              <%=messageOutput%>\n            </div>\n        </li>'),y=a.extend({initialize:function(e){e.isMinimizable=!0,e.isTranslucent=!1,a.prototype.initialize.apply(this,arguments),this.webinar=e.webinar,this.startTime=e.startTime||"",this.openedActiveWebinar=this.webinar.isActive(),this.listenTo(s,"ui:webinar:close",this.close),this.render()},events:function(){return o.extend({},o.result(a.prototype,"events"),{"click .icon-send-message":"addMessage","click .disclaimer a":"toggleDisclaimer","click .fn-size":"onSize"})},getOptions:function(e){return o.extend({},o.result(a.prototype,"getOptions"),{isHeaderShowed:!0,caption:__("menu.webinar"),previousCaption:__("actions.back"),isDraggable:!h.tablet()&&!h.mobile(),closeIconStyle:"grey",headerStyle:"wizard"},e)},addMessage:function(){var e=this.$el.find("#message-to-send");if(""!==e.val().trim()){var t=e.val(),n={messageOutput:t,time:u().format("h:mm a")};this.$el.find(".chat-history ul").append(_(n)),e.val(""),this.scrollToBottom();var i=d.getCustomerId(),r=this.webinar.getWebinarId();return l.webinarChatMessage(i,r,t).then((function(e){if(e.data.error)return Promise.reject()}))}},scrollToBottom:function(){var e=this.$el.find(".chat-history");e[0].scrollTop=e[0].scrollHeight},render:function(){return a.prototype.render.call(this),this.setContent(c({webinar:this.webinar,isMobile:m.mobile()})),m.mobile()&&this.updateChatHeight(),this},updateChatHeight:function(){var e=document.documentElement.clientHeight-parseInt(r(".webinars-mobile-header").css("height"))-parseInt(this.$el.find(".webinar-content").css("height"))-parseInt(this.$el.find(".chat-header").css("height"))-parseInt(this.$el.find(".chat-message").css("height"))-parseInt(this.$el.find(".disclaimer").css("height"))-27;this.$el.find(".chat-history").css("height",e+"px")},toggleDisclaimer:function(e){e.preventDefault(),this.$el.find(".disclaimer span").removeClass("hidden"),r(e.currentTarget.parentElement).addClass("hidden"),m.mobile()&&this.updateChatHeight()},close:function(){a.prototype.close.call(this);var e=b(window.store.getState());if(e||window.store.dispatch(g(v,!e)),this.openedActiveWebinar&&Date.now()-this.startTime>f.getWebinarsFeedbackMinViewTime()&&"true"!==localStorage.getItem("webinar"+this.webinar.getWebinarId()))new p({parent:r("body"),webinarId:this.webinar.getWebinarId(),onClose:function(){null}})}});i.exports=y}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i=n(0),r=n.n(i);t.a=function(){return r.a.createElement("tr",{className:"row mobile-instruments-table__header"},r.a.createElement("td",{className:"cell-instrument-name-with-change instrument-name-with-change column"},__("table.header.symbol")),r.a.createElement("td",{className:"rate-with-button cell-rate-with-button column"},__("actions.sell")),r.a.createElement("td",{className:"rate-with-button cell-rate-with-button column"},__("actions.buy")))}},,,,,function(e,t,n){"use strict";n.r(t);var i=n(250),r=n(8),o=n.n(r);function s(e,t){return e.instrumentWeight<t.instrumentWeight?1:e.instrumentWeight>t.instrumentWeight?-1:e.displayName>t.displayName?1:e.displayName<t.displayName?-1:0}function a(e){for(var t=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e)),n=t.length-1;n>=0;n--)t[n].instruments=t[n].instruments.sort(s);return t}function l(){return{types:[i.a,i.c,i.b],callApi:function(){return o.a.loadInstrumentBasketsData().then((function(e){return e.data})).then((function(e){return a(e)})).catch((function(){return Promise.resolve([])}))}}}n.d(t,"loadInstrumentBasketsData",(function(){return l}))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(24),o=n(608).loadInstrumentBasketsData,s=r.Model.extend({defaults:{baskets:[]},initialize:function(){r.Model.prototype.initialize.apply(this,arguments)},load:function(){var e=this;return store.dispatch(o()).then((function(t){return e.set("baskets",t)}))},getBaskets:function(){return this.get("baskets")},getBasketData:function(e){for(var t=this.get("baskets"),n=t.length-1;n>=0;n--)if(t[n].instrumentSymbol===e)return t[n];return!1},getInstrumentStartTime:function(){return this.get("instrumentStartTime")||!1}});i.exports=new s}.call(t,n,t,e))||(e.exports=r)}).call(this,n(24))},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return l}));var i="instruments/LOAD_ALL_NEWS_SENTIMENT",r="instruments/LOAD_ALL_NEWS_SENTIMENT_SUCCESS",o="instruments/LOAD_ALL_NEWS_SENTIMENT_ERROR",s="instruments/LOAD_NEWS_SENTIMENT_INFO",a="instruments/LOAD_NEWS_SENTIMENT_INFO_SUCCESS",l="instruments/LOAD_NEWS_SENTIMENT_INFO_ERROR"},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i="services/LOAD_SIGNALS",r="services/LOAD_SIGNALS_SUCCESS"},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(43),o=n(1),s=n(1447),a=s.EMPTY,l=s.SUCCESS,c=r.extend({defaults:function(){return{events:"",status:a}},status:function(e){var t=this;return function(n,i){var r={};r[e]=n,t.set(o.extend({},i,r))}},load:function(){var e=this.status("status");n.e(69).then(n.t.bind(null,1920,7)).then((function(t){var n=t.default;return e(l,{events:n})}))},getData:function(){return this.get("data")}});i.exports=new c}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));n(387),n(1),n(9);function i(){}},function(e,t,n){"use strict";(function(e){var i=n(379),r=n.n(i),o=n(0),s=n.n(o),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var c=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),l(n,[{key:"componentDidMount",value:function(){this.instance=new r.a(this.node,a({},this.props))}},{key:"componentWillUpdate",value:function(t){var n=this;e.each(t,(function(e,i){t[i]!==n.props[i]&&n.instance.set(i,e,!1)}))}},{key:"componentWillUnmount",value:function(){this.instance.destroy()}},{key:"render",value:function(){var e=this;return s.a.createElement("input",{ref:function(t){return e.node=t},className:this.props.className})}}]),n}(s.a.PureComponent);t.a=c}).call(this,n(1))},,function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(20),s=n(33).default,a=n(5),l=n(6),c=n(457),u=n(1840);i.exports=o.extend({template:r.template(n(1841)),events:function(){return r.extend({},r.result(o.prototype,"event"),{"click .bonus-progress":"onClick"})},initialize:function(e){o.prototype.initialize.apply(this,arguments),this.model=c,this.listenTo(this.model,"change:active",this.setActiveBonus),this.toggleVisibility=this.toggleVisibility.bind(this),window.addEventListener("orientationchange",this.toggleVisibility,!1),this.render()},toggleVisibility:function(){s.mobile()&&(window.matchMedia("(orientation: portrait)").matches?this.$el.removeClass("hidden"):this.$el.addClass("hidden"))},destroy:function(){document.removeEventListener("orientationchange",this.toggleVisibility),o.prototype.destroy.call(this)},setActiveBonus:function(){this.model.hasActiveBonus()?this.render():this.hide()},hide:function(){this.$el.addClass("hidden")},render:function(){return this.model.hasActiveBonus()&&this.$el.html(this.template({amount:this.getBonusAmount(),currentPoints:this.model.getCurrentPoints(),targetPoints:this.model.getTargetPoints(),progressPercent:this.calculateProgressPercent(),indicatorIcon:u})),this},onClick:function(){this.trackingClickOnProgressBar(),a.trigger("ui:active-bonus-progress")},getBonusAmount:function(){return __("bonus.active.note",l.getUserCurrencySymbol()+this.model.getVolume())},getBonusPoints:function(e){return __("bonus.item.points",this.model.getCurrentPoints(),this.model.getTargetPoints())},trackingClickOnProgressBar:function(){a.trigger("eventos","pendingBonus:activePendingBonus:clkBanner",this.model.getEventOptions())},calculateProgressPercent:function(){return 100*this.model.getCurrentPoints()/this.model.getTargetPoints()}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},,,function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var r=n(1),o=n(12),s=n(243),a=n(3).EMPTY,l=s.extend({events:function(){return r.extend({},r.result(s.prototype,"events"),{"click .dk-option":"onChangeList","change select":"onChange","click .chosen-elm .chosen-reset":"filterReset"})},initialize:function(){s.prototype.initialize.apply(this,arguments),this.setName(this.$el.attr("name")),this.$select=this.$el.find("select")[0],this.$dkSlectedText=this.$el.find(".dk-select .dk-selected"),this.$dkOptions=this.$el.find(".dk-option"),this.$chosenTotal=this.$el.find(".chosen-total span"),this.$mobileLabel=this.$el.find(".multi-select-mobile-label");var e=this.getDefaultValue();e&&this.setSelected(e,!1)},render:function(){s.prototype.render.apply(this,arguments),this.updateMobileLabel(this.value())},setSelected:function(e,t){this.$dkOptions.forEach((function(t){var n=o(t);n.find('[type="checkbox"]')[0].checked=r.contains(e,n.attr("data-value"))})),this.onChangeList(null,t)},onChangeList:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e){var n=o(e.currentTarget).find('[type="checkbox"]')[0];n.checked=!0!==n.checked}this.setValueFunction(t)},onChange:function(){s.prototype.onChange.apply(this,arguments),this.$dkSlectedText.html(this.getValueFunction(this.value())),this.updateMobileLabel(this.value())},setValueFunction:function(e){var t=r.filter(this.$dkOptions,(function(e){return o(e).find("input:checked").length}));this.setNativeSelectValue(this.$select,r.map(t,(function(e){return o(e).attr("data-value")}))),e&&o(this.$select).trigger("change")},value:function(e){if(r.isUndefined(e))return this.getNativeSelectValue();this.setSelected(e,!1)},getNativeSelectValue:function(){var e=this.$select.selectedOptions,t=r.reduce(e,(function(e,t){return e.push(t.value),e}),[]);return 0===t.length?[a]:t},setNativeSelectValue:function(e,t){for(var n=void 0,i=void 0,o=e.options,s=r.isArray(t)?t:t.split(","),l=o.length;l--;)((i=o[l]).selected=s.indexOf(i.value)>-1)&&(n=!0);return n?s:(e.selectedIndex=-1,[a])},updateMobileLabel:function(e){this.$mobileLabel.html(this.getValueFunction(e))},getValueFunction:function(e){var t="",n=e.length,i=this.options,s=i.getValueFunction,l=i.allTranslationKey;if(1===e.length&&e[0]!==a){var c=r.filter(this.$dkOptions,(function(t){return o(t).attr("data-value")===e[0]}));t=s(o(c[0]).find(".dk-select-options__text"))}else e.length>1?t=__(l||"wizard.form.selected",e.length):(t=void 0!==this.options.emptyText?this.options.emptyText:__("wizard.form.label.DEFAULT_EMPTY"),n=0);return this.$chosenTotal.html(n||""),t},filterReset:function(e){this.setSelected([])}});i.exports=l}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},,function(e,t,n){e.exports=n.p+"./images/d89848159f24.svg"},,,function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(43),o="registration.field.label.",s="registration.warning.this_field_is_required",a=r.extend({selectNotEmpty:function(e){return{rules:{not_equals:["EMPTY",__(e?"registration.warning.field_is_required":s,__(o+e))]},filters:[]}},countrySelectNotEmpty:function(e){return{rules:{not_equals:["EMPTY",__(e?"registration.warning.field_is_required":s,__(o+e))]},filters:["string"]}},multiSelectNotEmpty:function(e){return{rules:{not_equals_array:[["EMPTY"],__(e?"registration.warning.field_is_required":s,__(o+e))]},filters:[]}},multiCheckBoxNotEmpty:function(e){return{rules:{not_empty:__(s,__(e?o+e:s))},filters:[]}},radioNotEmpty:function(e){return{rules:{not_empty:__(s,__(e?o+e:s))},filters:[]}},inputNotEqual:function(e){return{rules:{not_equals:[e,"Field should not be empty"]},filters:[]}},notEmpty:function(e){return e?__("registration.warning.field_not_empty",__(o+e)):__(s)},maxLength:function(e,t){return[e,t?__("registration.warning.field_max_size_limit",__(o+t),e):__("registration.warning.this_field.max_size_limit",e)]},minLength:function(e,t){return[e,__("registration.warning.field_min_size_limit",__(o+t),e)]},numeric:function(e){return __("registration.warning.field_number_only",__(o+e))},zipCode:function(e){return{rules:{not_empty:__(s,__(e?o+e:s)),max_length:[50,__("registration.warning.field_max_size_limit",__(o+e),50)],regexp:[/^[a-zA-Z0-9-\s]+$/,__("registration.warning.zip_code")]},filters:[]}}});i.exports=new a}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(1),s=n.n(o),a=n(91),l=n.n(a),c=n(3),u=n(15),d=n.n(u),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={dirIndex:s.a.indexOf(e.dirs,e.defaultSortDirection)},d()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),f(t,[{key:"click",value:function(e){e.preventDefault();var t=++this.state.dirIndex%this.props.dirs.length;this.setState({dirIndex:t}),this.props.onSort(this.props.dirs[t])}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.onSort,e.active),i=(e.dirIndex,e.dirs,e.dirsIcons),o=(e.defaultSortDirection,function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["children","onSort","active","dirIndex","dirs","dirsIcons","defaultSortDirection"]));return r.a.createElement(o.as,p({},o,{onClick:this.click}),t," ",n&&l()(i[this.state.dirIndex]))}}]),t}(i.Component);h.defaultProps={as:"span",onSort:s.a.noop,active:!1,dirIndex:0,defaultSortDirection:c.SORT_DIRECTION_ASC,dirs:[c.SORT_DIRECTION_ASC,c.SORT_DIRECTION_DESC],dirsIcons:["&#9650;","&#9660;"]},t.a=h},function(e,t,n){"use strict";n.r(t),n.d(t,"createPortal",(function(){return f})),n.d(t,"removePortal",(function(){return h}));var i=n(0),r=n.n(i),o=n(22),s=n.n(o),a=n(1),l=n.n(a),c=n(146),u=n.n(c),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),d(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.className,n=void 0===t?"popup-container popup-absolute popup-translucent-1":t,i=e.name,r=u.a.getZindexForPopup(0);u.a.addPopup({name:i,zIndex:r}),this._popup=document.createElement("div"),this._popup.setAttribute("class",n),this._popup.style.zIndex=r,document.body.appendChild(this._popup),this._render()}},{key:"componentDidUpdate",value:function(){this._render()}},{key:"componentWillUnmount",value:function(){u.a.deletePopup(this.props.name),s.a.unmountComponentAtNode(this._popup),document.body.removeChild(this._popup)}},{key:"_render",value:function(){s.a.render(this.props.children,this._popup)}},{key:"render",value:function(){return null}}]),t}(r.a.PureComponent);function f(e){var t=document.getElementById("portals-root"),n=document.createElement("div");return s.a.render(r.a.createElement(r.a.Fragment,null,e),n),t.appendChild(n)}function h(e){if(e&&s.a.findDOMNode(e)){var t=document.getElementById("portals-root");s.a.unmountComponentAtNode(e),t.removeChild(e)}}p.defaultProps={name:l.a.uniqueId("portal-")},t.default=p},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),s=n(2),a=n(42),l=n(1),c=n.n(l),u=n(23),d=n(64),p=function(e){return e.fundamental},f=Object(s.a)(p,(function(e){return e.instruments})),h=Object(s.a)([f,u.a],(function(e,t){return e[t]||a.b})),m=Object(s.a)(p,(function(e){return e.existingFundamentals})),g=Object(s.a)([m,u.a],(function(e,t){return t=Object(d.transformSBSymbolToSymbol)(String(t)),c.a.has(e,t)||c.a.has(e,t.toLowerCase())})),v=Object(s.a)([h,u.a],(function(e,t){return e.symbol||t})),b=Object(s.a)(h,(function(e){return e.companyName})),_=Object(s.a)(h,(function(e){return e.employeesNum})),y=Object(s.a)(h,(function(e){return e.country})),E=Object(s.a)(h,(function(e){return e.publicSince})),S=Object(s.a)(h,(function(e){return e.auditor})),C=Object(s.a)(h,(function(e){return e.webSiteUrl})),w=Object(s.a)(h,(function(e){return e.streetAddress?[e.streetAddress,e.city,e.stateRegion,e.country].join(", "):""})),O=Object(s.a)(h,(function(e){return e.indexMembership||a.a})),T=Object(s.a)(h,(function(e){return e.businessSummary})),P=Object(s.a)(h,(function(e){return e.financialSummary||null})),k=Object(s.a)(P,(function(e){return!!e})),I=Object(s.a)(h,(function(e){return e.beta})),A=Object(s.a)(h,(function(e){return e.eps})),x=Object(s.a)(h,(function(e){return e.marketCap})),N=Object(s.a)(h,(function(e){return e.dividendPerShare})),D=Object(s.a)(h,(function(e){return e.volume||a.b})),R=Object(s.a)(D,(function(e){return e.tenDaysAverage})),L=Object(s.a)(D,(function(e){return e.threeMonthsAverage})),M=Object(s.a)(h,(function(e){return e.forecast||a.b})),j=Object(s.a)(M,(function(e){return e.eps||a.b})),F=Object(s.a)(j,(function(e){return!c.a.isEmpty(e)})),B=Object(s.a)(M,(function(e){return e.sales||a.b})),U=Object(s.a)(B,(function(e){return!c.a.isEmpty(e)})),V=Object(s.a)(h,(function(e){return e&&e.financial})),z=Object(s.a)(V,(function(e){return e&&e.currency})),q=Object(s.a)(V,(function(e){return e&&e.quarter||a.a})),H=Object(s.a)(V,(function(e){return e&&e.annual||a.a})),$=Object(s.a)([q,H],(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.a.some(t,(function(e){return!c.a.isEmpty(e)}))})),G=Object(s.a)(h,(function(e){return!c.a.isEmpty(e)})),W=Object(s.a)([$,U,F,k],(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return c.a.some(t,(function(e){return e}))})),Y=(Object(s.a)([R,L],(function(e,t){return!!e&&!!t})),n(3));var K=function(e){var t=e.value,n=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["value"]);return r.a.createElement(n.as,null,t||Y.NA)};K.defaultProps={as:"span"};var X=Object(o.connect)((function(e,t){var n=t.symbol;return{value:w(e,n)}}))(K);var Q=function(e){var t=e.value,n=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["value"]);return r.a.createElement(n.as,null,t||Y.NA)};Q.defaultProps={as:"span"};var J=Object(o.connect)((function(e,t){var n=t.symbol;return{value:S(e,n)}}))(Q);var Z=function(e){var t=e.value,n=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["value"]);return r.a.createElement(n.as,null,t||Y.NA)};Z.defaultProps={as:"span"};var ee=Object(o.connect)((function(e,t){var n=t.symbol;return{value:b(e,n)}}))(Z);var te=function(e){var t=e.value,n=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["value"]);return r.a.createElement(n.as,null,t||Y.NA)};te.defaultProps={as:"span"};var ne=Object(o.connect)((function(e,t){var n=t.symbol;return{value:y(e,n)}}))(te);var ie=function(e){var t=e.value,n=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["value"]);return r.a.createElement(n.as,null,t||Y.NA)};ie.defaultProps={as:"span"};var re=Object(o.connect)((function(e,t){var n=t.symbol;return{value:_(e,n)}}))(ie);var oe=Object(o.connect)((function(e,t){var n=t.symbol;return{indexes:O(e,n)}}))((function(e){var t=e.indexes;!function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}(e,["indexes"]);return c.a.isEmpty(t)?null:r.a.createElement("div",{className:"index-membership"},r.a.createElement("div",{className:"index-membership__title"},r.a.createElement("span",null,__("instrument_info.index_membership"))),r.a.createElement("div",{className:"index-membership__list"},c.a.map(t,(function(e,t){return r.a.createElement("div",{className:"index-membership__list__item",key:"index-membership-"+t},e)}))))})),se=n(16),ae=n.n(se);var le=function(e){var t=e.value,n=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["value"]);if(!t)return r.a.createElement(n.as,null,Y.NA);var i=ae()(t);return r.a.createElement(n.as,null,i.format("YYYY-MM-DD"))};le.defaultProps={as:"span"};var ce=Object(o.connect)((function(e,t){var n=t.symbol;return{value:E(e,n)}}))(le);Object(o.connect)((function(e,t){var n=t.symbol,i=t.as,r=void 0===i?"span":i;return{value:v(e,n),as:r}}))((function(e){var t=e.value,n=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["value"]);return r.a.createElement(n.as,null,t)}));var ue=Object(o.connect)((function(e,t){var n=t.symbol;return{value:C(e,n)}}))((function(e){var t=e.value;!function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}(e,["value"]);return t?r.a.createElement("a",{href:t,target:"_blank"},t):r.a.createElement("span",null,Y.NA)})),de=n(15),pe=n.n(de),fe=n(399),he=(n(1400),n(30)),me=n(73),ge=n.n(me),ve=(n(1401),{totalRevenue:"financials.total_revenue",totalOperatingExpenses:"financials.total_operating_expenses",netIncomeBeforeTaxes:"financials.net_income_before_taxes",netIncomeAfterTaxes:"financials.net_income_after_taxes"}),be=Object.keys(ve),_e=function(e){var t=e.financialData;if(c.a.isEmpty(t))return null;var n=c.a.reduce(t,(function(e,t){return e[t.periodEndDate]=c.a.omit(t,"periodEndDate"),e}),{});return r.a.createElement(he.m,{thead:r.a.createElement((function(){return r.a.createElement(he.q,{className:"financials-table__row financials-table__row--head"},r.a.createElement(he.p,{className:"financials-table__cell financials-table__cell--head"},__("financials.period")),Object.keys(n).map((function(e,t){return r.a.createElement(he.p,{className:"financials-table__cell financials-table__cell--head",key:"th-"+t},e)})))}),null),className:"financials-table",theadClassName:"financials-table__header",bodyClassName:"financials-table__body"},be.map((function(e,t){return r.a.createElement(he.q,{key:"row-"+t,className:"financials-table__row"},r.a.createElement(he.o,{className:"financials-table__cell"},__(ve[e])),Object.keys(n).map((function(i,o){var s=n[i][e],a=ge()(s).format("0,0[.]0");return r.a.createElement(he.o,{key:"row-"+t+"column-"+o,className:"financials-table__cell"},a,"M")})))})))},ye=n(7),Ee=n.n(ye),Se=n(261),Ce=n.n(Se),we=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Te=[Y.QUARTERLY,Y.ANNUAL],Pe=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={filterSelected:Y.QUARTERLY},pe()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),we(t,[{key:"componentDidMount",value:function(){this.props.onFilterChange(this.state.filterSelected)}},{key:"onFilterChange",value:function(e){this.setState({filterSelected:e}),this.props.onFilterChange(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.currency,i=t.className,o=this.state.filterSelected,s=Ee()(Oe({"financial-info":!0},i,!!i));return r.a.createElement(he.c,{className:s,title:r.a.createElement("div",{className:"financial-info__header"},r.a.createElement("div",{className:"financial-info__title"},__("financials.title"),r.a.createElement("span",{className:"financial-info__currency"},__("currency"),": ",n)),r.a.createElement("div",{className:"financial-info__filter"},r.a.createElement(fe.a,{options:Te.filter((function(t){return!c.a.isEmpty(e.props[t])})),selected:o,onChange:this.onFilterChange,transformOptionText:function(e){return __("financials."+e)}})))},r.a.createElement(Ce.a,null,r.a.createElement("div",{className:"financial-info__content"},r.a.createElement(_e,{financialData:this.props[o]}))))}}]),t}(r.a.Component);Pe.defaultProps={onFilterChange:c.a.noop};var ke=Object(o.connect)((function(e,t){var n,i=t.symbol,r=z(e,i),o=q(e,i),s=H(e,i);return Oe(n={currency:r},Y.QUARTERLY,o),Oe(n,Y.ANNUAL,s),n}))(Pe);var Ie,Ae=Object(o.connect)((function(e,t){var n=t.symbol;return{summary:P(e,n)}}))((function(e){var t=e.summary;return r.a.createElement("div",{className:"financial-summary"},t)})),xe=(n(1402),function(e){var t=e.tabData,n=ge()(t.avg).format("0,0[.]0"),i=ge()(t.high).format("0,0[.]0"),o=ge()(t.low).format("0,0[.]0"),s=ge()(t.numberOfEstimations).format("0,0[.]0");return r.a.createElement("div",{className:"forecast-tab-view"},r.a.createElement("div",{className:"forecast-tab-view__row"},r.a.createElement("div",{className:"forecast-tab-view__name"},__("financials.avg")),r.a.createElement("div",{className:"forecast-tab-view__value"},n)),r.a.createElement("div",{className:"forecast-tab-view__row"},r.a.createElement("div",{className:"forecast-tab-view__name"},__("financials.high")),r.a.createElement("div",{className:"forecast-tab-view__value"},i)),r.a.createElement("div",{className:"forecast-tab-view__row"},r.a.createElement("div",{className:"forecast-tab-view__name"},__("financials.low")),r.a.createElement("div",{className:"forecast-tab-view__value"},o)),r.a.createElement("div",{className:"forecast-tab-view__row"},r.a.createElement("div",{className:"forecast-tab-view__name"},__("financials.number_of_estimations")),r.a.createElement("div",{className:"forecast-tab-view__value"},s)))});function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var De,Re=[Y.QUARTER,Y.ANNUAL],Le=(Ne(Ie={},Y.QUARTER,"financials.quarterly"),Ne(Ie,Y.ANNUAL,"financials.annual"),Ie),Me=Object(o.connect)((function(e,t){var n=t.symbol;return{sales:B(e,n)}}))((function(e){var t=e.sales,n=c.a.map(Re,(function(e){return{id:e,title:e,view:r.a.createElement(xe,{tabData:t[e]})}}));return r.a.createElement("div",null,r.a.createElement(he.n,{tabList:n,transformTitle:function(e){return __(Le[e])}}))}));function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fe=[Y.QUARTER,Y.ANNUAL],Be=(je(De={},Y.QUARTER,"financials.quarterly"),je(De,Y.ANNUAL,"financials.annual"),De),Ue=Object(o.connect)((function(e,t){var n=t.symbol;return{eps:j(e,n)}}))((function(e){var t=e.eps,n=c.a.map(Fe,(function(e){return{id:e,title:e,view:r.a.createElement(xe,{tabData:t[e]})}}));return r.a.createElement("div",null,r.a.createElement(he.n,{tabList:n,transformTitle:function(e){return __(Be[e])}}))}));var Ve=function(e){var t=e.value,n=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["value"]);return r.a.createElement(n.as,null,t||Y.NA)};Ve.defaultProps={as:"span"};var ze=Object(o.connect)((function(e,t){var n=t.symbol;return{value:I(e,n)}}))(Ve);var qe=function(e){var t=e.value,n=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["value"]);return r.a.createElement(n.as,null,t||Y.NA)};qe.defaultProps={as:"span"};var He=Object(o.connect)((function(e,t){var n=t.symbol;return{value:A(e,n)}}))(qe),$e=n(218);var Ge=function(e){var t=e.value,n=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["value"]);return r.a.createElement(n.as,null,t?Object($e.roundMToB)(t):Y.NA)};Ge.defaultProps={as:"span"};var We=Object(o.connect)((function(e,t){var n=t.symbol;return{value:x(e,n)}}))(Ge);var Ye=function(e){var t=e.value,n=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["value"]);return r.a.createElement(n.as,null,t||Y.NA)};Ye.defaultProps={as:"span"};var Ke=Object(o.connect)((function(e,t){var n=t.symbol;return{value:N(e,n)}}))(Ye);var Xe=function(e){var t=e.value,n=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["value"]);return r.a.createElement(n.as,null,t||Y.NA)};Xe.defaultProps={as:"span"};var Qe=Object(o.connect)((function(e,t){var n=t.symbol;return{value:R(e,n)}}))(Xe);var Je=function(e){var t=e.value,n=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["value"]);return r.a.createElement(n.as,null,t||Y.NA)};Je.defaultProps={as:"span"};var Ze=Object(o.connect)((function(e,t){var n=t.symbol;return{value:L(e,n)}}))(Je),et=n(91),tt=n.n(et);var nt=function(e){var t=e.value,n=e.className,i=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["value","className"]);return r.a.createElement(i.as,{className:n},t?tt()(t):Y.NA)};nt.defaultProps={as:"div"};var it=Object(o.connect)((function(e,t){var n=t.symbol;return{value:T(e,n)}}))(nt),rt="instruments/LOAD_STOCK_FUNDAMENTAL",ot="instruments/LOAD_STOCK_FUNDAMENTAL_SUCCESS",st="instruments/LOAD_STOCK_FUNDAMENTAL_ERROR",at="instruments/LOAD_STOCK_FUNDAMENTALS",lt="instruments/LOAD_STOCK_FUNDAMENTALS_SUCCESS",ct="instruments/LOAD_STOCK_FUNDAMENTALS_ERROR",ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};var dt={instruments:{},existingFundamentals:{}};function pt(){var e,t,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,r=arguments[1],o=r.type,s=r.payload;switch(o){case ot:var a=s.additionalData.symbol;return ut({},i,{instruments:ut({},i.instruments,(e={},t=a,n=s.responsePayload.data,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e))});case lt:var l=c.a.object(s.responsePayload.data,!0);return ut({},i,{existingFundamentals:l})}return i}var ft=n(8),ht=n.n(ft),mt={loadStockFundamental:function(e){var t=Object(d.transformSBSymbolToSymbol)(e);return ht.a.getStockFundamental(t)},loadStockFundamentals:function(){return ht.a.getStockFundamentals()}};function gt(e){return{types:[rt,ot,st],additionalData:{symbol:e},callApi:function(){return mt.loadStockFundamental(e)}}}function vt(){return{types:[at,lt,ct],callApi:function(){return mt.loadStockFundamentals()}}}n.d(t,"e",(function(){return X})),n.d(t,"f",(function(){return J})),n.d(t,"i",(function(){return ee})),n.d(t,"j",(function(){return ne})),n.d(t,"l",(function(){return re})),n.d(t,"n",(function(){return oe})),n.d(t,"p",(function(){return ce})),n.d(t,"s",(function(){return ue})),n.d(t,"c",(function(){return ke})),n.d(t,"d",(function(){return Ae})),n.d(t,"b",(function(){return Me})),n.d(t,"a",(function(){return Ue})),n.d(t,"g",(function(){return ze})),n.d(t,"m",(function(){return He})),n.d(t,"o",(function(){return We})),n.d(t,"k",(function(){return Ke})),n.d(t,"q",(function(){return Qe})),n.d(t,"r",(function(){return Ze})),n.d(t,"h",(function(){return it})),n.d(t,"A",(function(){return g})),n.d(t,"w",(function(){return k})),n.d(t,"y",(function(){return F})),n.d(t,"z",(function(){return U})),n.d(t,"v",(function(){return $})),n.d(t,"u",(function(){return G})),n.d(t,"x",(function(){return W})),n.d(t,"t",(function(){return pt})),n.d(t,"B",(function(){return gt})),n.d(t,"C",(function(){return vt}))},function(e,t,n){"use strict";n.r(t);var i=n(5),r=n.n(i),o=n(0),s=n.n(o),a=n(89),l=n.n(a),c=n(46),u=n(4),d=n(479),p=n(425),f=n(428),h=n(429),m=n(427),g=n(286),v=n(18),b=n.n(v),_=n(16),y=n.n(_),E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};var S=Object(u.connect)((function(e,t){var n=t.positionCode,i=(t.as,e.positions.OPEN_POSITION[n]);return{value:i&&i.modifiedTime||!1}}))(b()({render:function(){var e=this.props,t=e.value,n=e.as,i=(e.dispatch,e.positionCode,e.children,e.before),r=e.after,o=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["value","as","dispatch","positionCode","children","before","after"]);return!1===t?null:s.a.createElement(n||"span",E({},o),i,y()(t).utc().format("DD/MM/YYYY HH:mm"),r)}})),C=n(424),w=n(329),O=n(673),T=n(674),P=n(415),k=n(426),I=n(3),A=n(7),x=n.n(A),N=n(87),D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.default=Object(u.connect)((function(e){return{closingPosition:e.positions.closingPosition}}),(function(e){return{selectInstrument:function(t,n){e(Object(c.selectInstrumentSymbolAndUpdateUrl)(n))},editPosition:function(e,t){e.preventDefault(),e.stopPropagation();var n=l.a.getPositionByCode(t);r.a.trigger("ui:edit-position",n)},closePosition:function(e,t){var n=l.a.getPositionByCode(t);r.a.trigger("ui:close-position",n)}}}))((function(e){var t=e.selectInstrument,n=e.editPosition,i=e.closePosition,r=e.closingPosition,o=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["selectInstrument","editPosition","closePosition","closingPosition"]);return s.a.createElement(d.a,D({},o,{renderItem:function(e){return s.a.createElement("div",{onClick:function(e){return t(e,o.symbol)},className:x()({"subrow-expanded grid-12 grid-noGutter position":!0,"request-processing":r[e]&&r[e].status===I.PROCESSING}),key:"position-"+e},s.a.createElement("div",{className:"col-10 grid-middle position__info"},s.a.createElement("div",{className:"col-3 position__type"},s.a.createElement("i",{className:"icon icon-verify-account-grey"}),s.a.createElement("span",{className:"subrow-expanded__title"},__("p_l"),": "),s.a.createElement(C.a,{as:"span",className:"change",positionCode:e},s.a.createElement(p.a,{positionCode:e}))),s.a.createElement("div",{className:"col-9"},s.a.createElement("span",null,s.a.createElement("span",null,s.a.createElement(m.a,{positionCode:e,as:"span"}),": "," ",s.a.createElement(g.a,{positionCode:e,abs:!0})," @ ",s.a.createElement(w.a,{positionCode:e})),s.a.createElement(f.a,{positionCode:e,before:", "+__("notification.protection.takeProfit")+" "}),s.a.createElement(h.a,{positionCode:e,before:", "+__("notification.protection.stopLoss")+" "}),s.a.createElement(S,{as:"span",positionCode:e,before:", "+__("actions.modified_on")+" "}),s.a.createElement(T.a,{as:"span",positionCode:e,before:", "+__("tab.open_positions.column.price.change")+" "}),s.a.createElement(O.a,{as:"span",positionCode:e,before:", "+__("tab.open_positions.column.expiration")+" "})))),s.a.createElement("div",{className:"col-2 grid-middle grid-right"},s.a.createElement(k.a,{as:"div",className:"btn btn-sm instrument-list-btn--edit",symbol:o.symbol,onClick:function(t){return n(t,e)}},s.a.createElement(N.default,{name:"edit",width:10,height:16})),s.a.createElement(P.a,{as:"div",className:"btn btn-sm instrument-list-btn--close",symbol:o.symbol,onClick:function(t){return i(t,e)}},s.a.createElement(N.default,{name:"close",width:14,height:14}))))}}))}))},function(e,t,n){"use strict";n.d(t,"g",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"i",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return _})),n.d(t,"h",(function(){return y}));var i=n(2),r=n(1),o=n.n(r),s=n(55),a=n(23),l=n(218),c=function(e){return e.acuityTrading},u=Object(i.a)(c,(function(e){return e.sentiment})),d=Object(i.a)(c,(function(e){return e.filteredAlerts})),p=Object(i.a)([u,a.a],(function(e,t){return e&&e.symbol===t&&e.current&&Object(l.roundToTwo)(e.current.feelGoodFactor)})),f=Object(i.a)(p,(function(e){return e&&100-e})),h=Object(i.a)([f,p],(function(e,t){return e||t})),m=Object(i.a)(c,(function(e){return e.selectedAlertId})),g=Object(i.a)(c,(function(e){return e.alertsBadges})),v=Object(i.a)(c,(function(e){return e.alertsMap})),b=Object(i.a)([v,a.a],(function(e,t){return e[t]})),_=Object(i.a)(b,(function(e){return e&&e.symbol})),y=(Object(i.a)(b,(function(e){return e&&e.assetName})),Object(i.a)([s.isAcuityNewsSentimentEnabled,g,a.a],(function(e,t,n){return e&&t&&t[n]&&!o.a.isEmpty(t)})));Object(i.a)([s.isAcuityNewsSentimentEnabled,u],(function(e,t){return e&&!o.a.isEmpty(t)}))},function(e,t,n){"use strict";n.d(t,"j",(function(){return p})),n.d(t,"k",(function(){return f})),n.d(t,"q",(function(){return h})),n.d(t,"i",(function(){return g})),n.d(t,"n",(function(){return b})),n.d(t,"a",(function(){return _})),n.d(t,"l",(function(){return y})),n.d(t,"b",(function(){return E})),n.d(t,"m",(function(){return S})),n.d(t,"f",(function(){return C})),n.d(t,"e",(function(){return w})),n.d(t,"o",(function(){return O})),n.d(t,"h",(function(){return T})),n.d(t,"g",(function(){return P})),n.d(t,"d",(function(){return k})),n.d(t,"c",(function(){return I})),n.d(t,"p",(function(){return A}));var i=n(2),r=n(1),o=n.n(r),s=n(19),a=n(55),l=n(23),c=function(e){return e.newsSentiment},u=Object(i.a)(c,(function(e){return e.ALL})),d=Object(i.a)([u,l.a],(function(e,t){return e&&o.a.find(e,(function(e){return e.symbol===t}))})),p=Object(i.a)(d,(function(e){return e&&e.bearishPercentage})),f=Object(i.a)(d,(function(e){return e&&e.bullishPercentage})),h=Object(i.a)([f,p],(function(e,t){return e||t})),m=Object(i.a)(c,(function(e){return e.INFO})),g=Object(i.a)(s.getInstrumentTicker,(function(e){return e})),v=Object(i.a)([m,l.a],(function(e,t){return e&&e[t]})),b=Object(i.a)([a.isNewsSentimentEnabled,v],(function(e,t){return e&&!o.a.isEmpty(t)})),_=Object(i.a)(v,(function(e){return e&&e.articles})),y=Object(i.a)(_,(function(e){return!o.a.isEmpty(e)})),E=Object(i.a)(v,(function(e){return e&&e.chartData})),S=Object(i.a)(E,(function(e){return!o.a.isEmpty(e)})),C=Object(i.a)(v,(function(e){return e&&e.numberArticlesWeek})),w=Object(i.a)(v,(function(e){return e&&e.numberArticlesAvg})),O=Object(i.a)([C,w],(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.a.every(t,(function(e){return!!e}))})),T=Object(i.a)(v,(function(e){return e&&e.positiveStockSentiment})),P=Object(i.a)(v,(function(e){return e&&e.positiveSectorSentiment})),k=Object(i.a)(v,(function(e){return e&&e.negativeStockSentiment})),I=Object(i.a)(v,(function(e){return e&&e.negativeSectorSentiment})),A=Object(i.a)([T,P,k,I],(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return o.a.every(t,(function(e){return!!e}))}))},function(e,t,n){"use strict";var i=n(7),r=n.n(i),o=n(0),s=n.n(o);n(1367);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(e){var t=e.className,n=e.contentClassName,i=e.onClick,o=e.children,l=e.title,c=e.tooltip,u=e.horizontal,d=void 0!==u&&u,p=e.noPadding,f=void 0!==p&&p,h=r()(a({"information-block":!0,"information-block--horizontal":d},t,!!t)),m=r()(a({"information-block__content":!0,"information-block__content--no-padding":f},n,!!n));return s.a.createElement("div",{className:h,onClick:i},l&&s.a.createElement("div",{className:"information-block__title"},l,c&&s.a.createElement("div",{className:"information-block__tooltip"},s.a.createElement("i",{className:"icon icon-help","aria-label":c}))),s.a.createElement("div",{className:m},o))}},function(e,t,n){(function(i){var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};void 0===(r=function(e,t,i){var r=n(1),s=n(43),a=n(8),l=n(54),c=n(3),u=c.SUCCESS,d=c.ERROR,p=c.LOADING;i.exports=s.extend({loadAllAccounts:function(){var e=this.status("statusOfAllAccounts");return e(p),a.getMetaTraderAccountsAll().then((function(t){e(u,{allAccounts:t.data})})).catch((function(t){e(d)}))},loadDepositAmountConfig:function(){var e=this.status("statusOfDepositAmountConfig");return e(p),a.loadDepositAmountsConfig().then((function(t){return e(u,{amountConfig:t.data})})).catch((function(t){return e(d)}))},loadMetaTraderAccounts:function(){var e=this,t=this.status("statusOfMetaTraderAccounts");return t(p),a.getMetaTraderAccounts(l.getLanguage()).then((function(n){t(u,{metaTraderAccounts:e.formatMetaTraderTOList(n.data.metaTraderTOList),metaTraderConfiguration:n.data.metaTraderConfigurationTOList,availableLeverages:n.data.availableLeverages,defaultLeverage:n.data.defaultLeverage})})).catch((function(e){t(d)}))},loadMetaTraderAccountsWithBonuses:function(){var e=this.status("statusOfMetaTraderAccountsWithBonuses");return e(p),a.getMetaTraderAccountsWithBonuses(l.getLanguage()).then((function(t){e(u,{metaTraderAccounts:t.data})})).catch((function(t){e(d)}))},loadMetaTraderBonus:function(e){var t=this.status("selectedAccountBonusesStatus");return t(p),a.queryBonusProgressForMtAccount(e).then((function(e){t(u,{selectedAccountBonuses:e.data})})).catch((function(e){t(d)}))},status:function(e){var t=this;return function(n,i){var o={};o[e]=n,t.set(r.extend({},i,o))}},hasPlatformAccountId:function(e){return!r.isEmpty(e.platformAccountId)},isTradingAccountStatus:function(e,t){return e.tradingAccountStatus===t},isTradingAccountType:function(e,t){return e.tradingAccountType===t},formatMetaTraderTOList:function(e){return r.map(e,(function(e){return o({},e,{accountStatementLink:window._app.getPhoneGapPlatformServerBaseUrl()+e.accountStatementLink})}))}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){"use strict";(function(e){var i=n(4),r=n(0),o=n.n(r),s=n(18),a=n.n(s),l=n(9),c=n.n(l),u=n(3),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.a=Object(i.connect)((function(){return{enabled:c.a.isTradingToolEnabled(u.TRADING_TOOLS.PRICEALERTS)}}))(a()({render:function(){var t=this.props,n=t.as,i=t.enabled,r=(t.dispatch,t.children),s=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(t,["as","enabled","dispatch","children"]);return i?e.isNull(n)?r:o.a.createElement(n||"span",d({},s),r):null}}))}).call(this,n(1))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(7),s=n.n(o),a=n(15),l=n.n(a),c=n(4),u=n(1),d=n.n(u),p=n(19),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),f(t,[{key:"onClick",value:function(e){var t=this.props,n=t.onClick,i=t.symbol,r=t.hasPriceAlerts,o=t.openPriceAlertsPopup;d.a.isFunction(n)&&(r&&d.a.isFunction(o)?o(!0):n(e,i,r))}},{key:"render",value:function(){var e,t=this.props,n=t.className,i=t.yes,o=t.no,a=t.yesComponent,l=t.noComponent,c=t.hasPriceAlerts,u=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(t,["className","yes","no","yesComponent","noComponent","hasPriceAlerts"]),d=s()((h(e={},n,!!n),h(e,i,c),h(e,o,!c),h(e,"cursor--pointer",!0),h(e,"autotests-action-pricealerts",!0),e));return a&&l?r.a.createElement(u.as,{className:d,onClick:this.onClick},c?a:l):r.a.createElement(u.as,{className:d,onClick:this.onClick})}}]),t}(r.a.Component);m.defaultProps={as:"span",className:"",yes:"yes",no:"no",yesComponent:null,noComponent:null,symbol:""},t.a=Object(c.connect)((function(e,t){var n=t.symbol;return{hasPriceAlerts:Object(p.hasInstrumentPriceAlerts)(e,n)}}))(m)},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),s=n(135),a=n(16),l=n.n(a),c=n(152),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(e){d(this,t);var n=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={timeRemaining:n.getTime()},n}return f(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.timerId=setInterval((function(){return e.mounted&&e.setState({timeRemaining:e.getTime()})}),1e3)}},{key:"getTime",value:function(){return l.a.utc(new Date(this.props.startTime-Object(c.b)()))}},{key:"componentWillUnmount",value:function(){this.mounted=!1,clearInterval(this.timerId)}},{key:"render",value:function(){return r.a.createElement("span",null,this.state.timeRemaining.format("HH:mm:ss"))}}]),t}(i.Component);var m=function(e){function t(){return d(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.nextSessionStartTime,n=(e.eventId,e.dispatch,function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["nextSessionStartTime","eventId","dispatch"]));return t?r.a.createElement("div",n,r.a.createElement(h,{startTime:t})):null}}]),t}(i.Component);t.a=Object(o.connect)((function(e){var t=e.webinars,n=t.eventsMap,i=t.nextSessionEventId;return{nextSessionStartTime:n[i]?Object(s.e)(e,i):null}}))(m)},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(18)({displayName:"GridCellInstrumentName",getDefaultProps:function(){return{className:""}},render:function(){var e=this.props.column.key,t=this.props.model,n=[],i=t.get(e)||t.get("symbol");return n.push(this.props.className,"instrument-name"),r.createElement("td",{className:n.join(" ")},r.createElement("div",{className:"instrument-name-cell"},i))}});i.exports=o}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(6),s=n(5),a=n(18),l=function(e){return o.getUserFavoritesModel().indexOf(e)>-1},c=a({displayName:"FavouriteInstrumentButton",getDefaultProps:function(){return{symbol:"",onClick:function(){}}},getInitialState:function(){return{isFavourite:l(this.props.symbol)}},componentDidMount:function(){s.on("favorites:update",this.update,this)},componentWillUnmount:function(){s.off("favorites:update",this.update,this)},update:function(){this.setState({isFavourite:l(this.props.symbol)})},onClick:function(e){e.stopPropagation(),s.trigger("favorites:toggle",this.props.symbol),this.setState({isFavourite:!this.state.isFavourite}),this.props.onClick()},render:function(){var e=[this.state.isFavourite?"icon-star-filled":"icon-star"];return r.createElement("div",{onClick:this.onClick,className:"btn btn-icon"},r.createElement("div",{className:e.join(" ")}))}});i.exports=c}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){"use strict";var i=n(30),r=n(340),o=n(32),s=n.n(o),a=n(0),l=n.n(a),c=n(7),u=n.n(c),d=n(1),p=n.n(d),f=n(13),h=n(51),m=function(e){var t=e.dailyReturnData,n=e.yearlyPerformanceData,o=e.formatDate,a=e.universeName,c=e.compact,d=e.invest,m=p.a.map(t,(function(e){return[Date.parse(e.date),f.t*e.backtestReturn]})),g=p.a.map(t,(function(e){return[Date.parse(e.date),f.t*e.universeReturn]})),v=Object(h.g)(n);return l.a.createElement("div",{className:u()({"portfolio__backtest_wrapper portfolio__backtest_performance":!0,compact:c,invest:d})},l.a.createElement("div",{className:"portfolio__backtest_wrapper-header"},l.a.createElement("div",{className:"pane pane--space-between"},l.a.createElement("div",null,__("portfolio.backtest.performance.title")),l.a.createElement("div",{className:"pane--center"},l.a.createElement("div",{className:"dotted-inline-list"},l.a.createElement("div",{className:"dotted-inline-list-item"},l.a.createElement("span",{className:"dotted-inline-list-item-dot",style:{background:f.j}}),l.a.createElement("span",null,__("portfolio.backtest.performance.my_portfolio"))),a&&l.a.createElement("div",{className:"dotted-inline-list-item"},l.a.createElement("span",{className:"dotted-inline-list-item-dot",style:{background:f.i}}),l.a.createElement("span",null,a))),l.a.createElement("i",{className:"icon icon-info-circle-thin","aria-label":__("portfolio.backtest.performance.tooltip")})))),l.a.createElement("div",{className:"portfolio__backtest_wrapper-content pane"},l.a.createElement("div",{className:"wrapper-panel wrapper-panel-left"},l.a.createElement("div",{className:"wrapper-panel-chart"},l.a.createElement("div",{className:"pane pane__column pane__yfluid"},l.a.createElement(i.b,{config:{chart:{height:250,zoomType:!1,margin:[10,50,30,20]},plotOptions:{line:{animation:!1,marker:{radius:1},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},tooltip:{headerFormat:'<span style="font-size:10px;">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}: {point.y}%</span><br/>',valueDecimals:2,hideDelay:0,dateTimeLabelFormats:{millisecond:o,second:o,minute:o,hour:o,day:o,week:o,month:o,year:o},style:{color:Object(f.p)(),fontSize:"12px"},xDateFormat:o},xAxis:{type:"datetime",labels:{enabled:!0,style:{color:Object(f.r)()},y:25}},yAxis:{opposite:!0,gridLineColor:Object(f.o)(),labels:{format:"{value}%",style:{color:Object(f.r)()}},title:{text:""}},legend:{enabled:!1},credits:{enabled:!1},series:[{type:"line",lineWidth:1,name:__("portfolio.backtest.performance.my_portfolio"),data:m,color:f.j},{type:"line",lineWidth:1,name:a,data:g,color:f.i}]}})))),l.a.createElement("div",{className:"wrapper-panel wrapper-panel-right"},l.a.createElement("div",{className:"column-list"},l.a.createElement("div",{className:"column-list-item"},l.a.createElement("div",{className:"column-list-item-label"},__("portfolio.backtest.performance.gain_since_created")),l.a.createElement("div",{className:"column-list-item-value"},l.a.createElement(r.a,{value:v.totalReturn},s()(v.totalReturn).format("0[.]00%")))),l.a.createElement("div",{className:"column-list-item"},l.a.createElement("div",{className:"column-list-item-label"},__("portfolio.backtest.performance.percent_of_positive_days")),l.a.createElement("div",{className:"column-list-item-value"},s()(v.profitableDays).format("0[.]00%"))),l.a.createElement("div",{className:"column-list-item"},l.a.createElement("div",{className:"column-list-item-label"},__("portfolio.backtest.performance.sharpe_ration")),l.a.createElement("div",{className:"column-list-item-value"},s()(v.sharpeRatio).format("0[.]00"))),l.a.createElement("div",{className:"column-list-item"},l.a.createElement("div",{className:"column-list-item-label"},__("portfolio.backtest.performance.max_drawdown")),l.a.createElement("div",{className:"column-list-item-value"},s()(v.maxDrawDown).format("0[.]00%")))))))};m.defaultProps={universeName:"Index",dailyReturnData:[],yearlyPerformanceData:[],formatDate:"%e %B %Y"},t.a=m},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(7),s=n.n(o),a=n(1),l=n.n(a),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.a=function(e){var t,n,i,o=e.dataBefore,a=e.disable,u=e.title,d=e.type,p=void 0===d?"text":d,f=e.className,h=e.onChange,m=void 0===h?l.a.noop:h,g=e.onBlur,v=void 0===g?l.a.noop:g,b=e.transformValue,_=void 0===b?function(e){return e}:b,y=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["dataBefore","disable","title","type","className","onChange","onBlur","transformValue"]);return r.a.createElement("div",{className:s()((t={"field field-type-input":!0,"has-title":!!o,"field-disabled":a},n=f,i=!!f,n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t)),"data-before":o},u&&r.a.createElement("label",{className:"field-type-input__title"},u),r.a.createElement("input",c({type:p,className:"form-control input-field",onChange:function(e){return m(_(e.target.value))},onBlur:function(e){return v(_(e.target.value))}},y)))}},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var o=n(20),s=n(1),a=n(5),l=n(9),c=n(6),u=n(86),d=n(124),p=n(73),f=n(227),h=n(33).default,m=n(187),g=n(118),v=n(102),b=n(89),_=n(390).MessageType,y=n(3).NA,E=n(106).TOPIC_NAMES,S=n(63).MARGIN_VALUES,C=n(27).isUserLoggedInQuantRankAccount,w=s.template(n(583)),O=S.MARGIN_LEVEL_1,T=S.MARGIN_LEVEL_2,P=S.LIQUIDATION_LEVEL,k=S.LIQUIDATION_LEVEL_BUFFER,I=S.MARGIN_LEVEL_OK,A=S.CHECK_PENDING_DEPOSIT_INTERVAL,x=S.CHECK_PENDING_DEPOSIT_FORCE_INTERVAL,N=S.CHECK_PENDING_DEPOSIT_FORCE_MAX_COUNT,D=S.MAX_NUMBER_SIZE,R=S.RISK_LEVEL_MAX;function L(e){new d(s.extend({parent:r("body"),isHeaderShowed:!0,template:w,actions:{"fn-deposit":function(){return a.trigger("flow:deposit")},"fn-close-positions":s.partial(a.navigate,"/open-positions")}},e))}function M(){var e=c.getUserAccountMetricsModel().getRiskLevel();return e||(e=R),e>=I?I:T<e&&e<=O?O:P+10<e&&e<=T?T:P<=e&&e<=k?k:e<P?P:void 0}function j(){var e=M();e===O&&L({caption:__("margin.level_1.popup.caption"),description:__("margin.level_1.popup.description")}),e<=T&&L({caption:__("margin.level_1.popup.caption"),description:__("margin.level_2.popup.description")})}i.exports.view=o.extend({template:s.template(n(1642)),floatingTemplate:s.template(n(664)),_oldLevelRange:I,_liqudationRibbonNotificationId:null,_marginWarnRibbonNotificationId:null,_marginWarnRibbonPendingMessages:[],_marginWarnRibbonChangingMessage:!1,_fontSize:null,_pendingDepositCheckForced:!1,_pendingDepositCheckTimer:null,initialize:function(){o.prototype.initialize.apply(this,arguments),this.subscribeAndRender(),this.checkMarginLevel(!0),this._fontSize=parseFloat(this.$el.find(".my-account-header span").css("font-size")),this.fitHeaderToStringLength()},fitHeaderToStringLength:function(){if(!this.$el.find(".pending-deposit-message").visible){var e=parseFloat(this.$el.find(".my-account-header a").css("height"))>=parseFloat(this.$el.find(".my-account-header").css("height")),t=parseFloat(this.$el.find(".account-demo").css("height"))>parseFloat(this.$el.find(".my-account-header").css("height")),n=parseFloat(this.$el.find(".account-real").css("height"))>parseFloat(this.$el.find(".my-account-header").css("height"));(e||t||n)&&(this._fontSize--,this.$el.find(".my-account-header a").css("font-size",this._fontSize+"px"),this.$el.find(".account-switch").css("font-size",this._fontSize+"px"),this.fitHeaderToStringLength())}},events:function(){return s.extend({},s.result(o.prototype,"events"),{"change #account-switch-checkbox":"switch_account_action","click #myfunds":"openFundsPopup","click .fn-deposit:not(:disabled)":"onDeposit","click span[data-id=riskLevel]":"notifyMarginLevel","click .pending-deposit-message":"onMoreClick"})},subscribeAndRender:function(){var e=this;this.listenTo(a,"user:account-metrics",this.update_metrics),this.listenTo(a,"stream:type:MESSAGE",(function(t){s.each(t,(function(t){t.type===_.ORDER_LIQUIDATION&&e.onLiquidationMessage(__("margin.liquidation.popup.description"))}))})),this.listenTo(a,"user:switch_account",this.make_switch),a.onEvent("stream:opened",(function(){e.checkPendingDeposit(),e.startRegularCheck()})),this.listenTo(a,"user:balance:updated",(function(){e.checkPendingDeposit(),e.startRegularCheck()})),this.listenTo(a,"pending:deposit:updated",this.startRegularCheck),this.listenTo(a,"check:pending:deposit:force",this.startForcedCheck),this.listenTo(a,"user:changeScoreLevel",this.render),this.render()},startForcedCheck:function(e){if(!this._pendingDepositCheckForced){this._pendingDepositCheckForced=!0,clearInterval(this._pendingDepositCheckTimer);var t=0,n=this;this._pendingDepositCheckTimer=setInterval((function(){t>=N?n.startRegularCheck():(n.checkPendingDeposit(),t++)}),e||x),this.checkPendingDeposit()}},startRegularCheck:function(){(this._pendingDepositCheckForced||s.isNil(this._pendingDepositCheckTimer))&&(clearInterval(this._pendingDepositCheckTimer),this._pendingDepositCheckTimer=setInterval(this.checkPendingDeposit.bind(this),A),this._pendingDepositCheckForced=!1)},switch_account_action:function(e){r(".account-switch").removeClass("bold");var t="live";e.currentTarget.checked?r(".account-real").addClass("bold"):(r(".account-demo").addClass("bold"),t="demo"),this.make_switch(t)},make_switch:function(e){this.switchAccount(e),new u({parent:document.body,position:"fixed",translucent:"2"})},switchAccount:function(e){a.trigger("platform:switch:sync",e)},notifyMarginLevel:function(){j()},showMarginRibbon:function(e){f.hide(this._marginWarnRibbonNotificationId),this._marginWarnRibbonNotificationId=f.show(s.extend({type:"notify",message:__("margin.low_level.ribbon.message"),level:1800,onMoreClick:j,hideDismiss:!0},e))},checkMarginLevel:function(e){if(!this.isQuantRanksAccount()&&!this._liqudationRibbonNotificationId){var t=M();if(t!==this._oldLevelRange){a.trigger("user:margin:level",t);var n=this._oldLevelRange;if(this._oldLevelRange=t,s.map(m.getAllInstruments(),(function(e){e.set({isMarginLevelLow:t<=T})})),t!==P)if(t===k&&h.mobile())this.showMarginRibbon({type:"error",topic:E.LIQUIDATION_LEVEL_BUFFER,level:1900});else if(t===O&&h.mobile()){if(n===T)return;this.showMarginRibbon({topic:E.MARGIN_LEVEL_1})}else if(t===T&&h.mobile()){if(n===O)return;this.showMarginRibbon({topic:E.MARGIN_LEVEL_2})}else this._marginWarnRibbonNotificationId&&(f.hide(this._marginWarnRibbonNotificationId),this._marginWarnRibbonNotificationId=null);else{if(e){var i=c.getUserAccountMetricsModel().getRiskLevel(),r=this.$el.find("span[data-id=riskLevel]");return r.attr("class","").addClass("help-risk flick"),r.html(i?i+"%":y),void this.onLiquidationMessage(0===b.length?__("margin.liquidation.login.popup.description",__("margin.liquidation.all.positions")):__("margin.liquidation.login.popup.description",__("margin.liquidation.part.positions")))}this.onLiquidationMessage(__("margin.liquidation.popup.description"))}}}},update_metrics:function(){var e=c.getUserAccountMetricsModel().toJSON(),t=c.getUserCurrencySymbol();s.each(e,(function(e,n){var i=void 0,o=e.length>=D,a=r("span[data-id="+n+"]"),l=void 0;l="riskLevel"===n?c.getUserAccountMetricsModel().getRiskLevel():s.isNumber(e)?p(e).formatForeignCurrency(t):"",s.each(a,(function(t){if(t=r(t),o?t.addClass("smallText"):t.removeClass("smallText"),"riskLevel"!==n)(i=t.html())!==l&&t.html(l),"profitLoss"===n&&(e>=0?r(".pl_value").removeClass("pl_neg").addClass("pl_pos"):r(".pl_value").removeClass("pl_pos").addClass("pl_neg"));else if("riskLevel"===n){(i=t.html().replace("%",""))===y&&(i=null),i!==l&&t.html(l?l+"%":y),t.attr("class",""),t.addClass("help-risk");var s=M();s===I&&t.addClass("none"),s===T&&t.addClass("warning"),s!==P&&s!==k||t.addClass("flick"),this.checkMarginLevel()}}),this)}),this);var n=r("span[data-id=maintenance-margin]"),i=p(c.getUserAccountMetricsModel().getMaintenanceMargin()).formatForeignCurrency(t);n.length&&n.html()!==i&&n.html(i)},render:function(){var e=c.getUserAccountMetricsModel(),t=c.getUserCurrencySymbol(),n=p(e.getBalance()).formatForeignCurrency(t),i=p(e.getBuyingPower()).formatForeignCurrency(t),r=p(e.getEquity()).formatForeignCurrency(t),o=p(e.getMarginUsed()).formatForeignCurrency(t),s=p(e.getProfitLoss()).formatForeignCurrency(t),a=e.getProfitLoss()>=0,u=e.getRiskLevel(),d=l.isLive()||!v.LOW_SCORE()||!v.FULL_REGISTRATION_COMPLETED(),f={currency:t,balance:n,buyingPower:i,equity:r,marginUsed:o,profitLoss:s,profitLossPositive:a,riskLevel:u,risk_level_class:"help-risk none",platformType:l.getPlatformType(),isPlatformSwitchAllowed:d};return this.$el.html(this.template(f)),this},onDeposit:function(){a.trigger("flow:deposit:RealDepositMyAccount")},openFundsPopup:function(){a.trigger("ui:funds-management")},onLiquidationMessage:function(e){var t=this;this.isQuantRanksAccount()||this._liqudationRibbonNotificationId||(this._liqudationRibbonNotificationId=f.show({message:__("margin.liquidation.popup.caption"),type:"error",topic:E.LIQUIDATION_LEVEL,level:2e3,onMoreClick:function(){return new g({parent:document.body,confirmCaption:__("margin.liquidation.popup.caption"),confirmMessage:__(e),confirmOKBtnText:__("ok"),hideCancelButton:!0,isHeaderShowed:!1,maxBoxWidth:"30em",onOK:function(){f.hide(t._liqudationRibbonNotificationId),t._liqudationRibbonNotificationId=null}})},hideDismiss:!0}))},checkPendingDeposit:function(){var e=this;c.isFirstDeposit()&&c.updateUserPendingDeposit().then((function(){var t=c.getUserPendingDeposit();if(s.isNumber(t)){if(t>0&&l.isLive()){!1===c.isFirstDeposit()&&(c.setFirstDeposit(!0),a.trigger("sm","deposit_successful"),a.trigger("funds:deposit:success")),e.$el.find(".my-account-header span").addClass("hidden"),e.$el.find(".pending-deposit-message").removeClass("hidden"),e.$el.find(".pending-deposit-message").attr("data-pending-deposit",t);var n=p(t).formatForeignCurrency(c.getUserCurrencySymbol());return e.$el.find(".pending-deposit-message .amount").html(n),void(h.mobile()&&!e._pandingRibbonNotificationId&&(e._pandingRibbonNotificationId=f.show({message:__("accountInfo.pendingDeposit")+": "+n,type:"pending-deposit",topic:E.PENDING_DEPOSIT,level:900,persist:!0,onClick:e.onMoreClick.bind(e),showMore:!1,hideDismiss:!0,showWarning:!1})))}e._pandingRibbonNotificationId&&(e._pandingRibbonNotificationId=null,f.hide(e._pandingRibbonNotificationId)),e.$el.find(".pending-deposit-message").addClass("hidden"),e.$el.find(".my-account-header span").removeClass("hidden")}}))},onMoreClick:function(){var e=this.$el.find(".pending-deposit-message").attr("data-pending-deposit");new g({parent:document.body,confirmCaption:__("accountInfo.pendingDeposit"),confirmMessage:__("accountInfo.pendingDeposit.message",c.getUserCurrencySymbol()+e),confirmOKBtnText:__("actions.verify"),confirmCancelBtnText:__("actions.close"),onOK:function(){a.trigger("flow:verify")},onCancel:function(){}})},createLoader:function(){this.loader&&this.destroyLoader(),this.loader=new u({parent:this.$el})},destroyLoader:function(){this.loader&&(this.loader.destroy(),this.loader=null)},isQuantRanksAccount:function(){return C(window.store.getState())}}),i.exports.getMarginLevelRange=M,i.exports.isMarginLevelLow=function(){return M()<=T},i.exports.notifyMarginLevel=j,i.exports.MARGIN_LEVEL_OK=I,i.exports.MARGIN_LEVEL_1=O,i.exports.MARGIN_LEVEL_2=T,i.exports.LIQUIDATION_LEVEL_BUFFER=k,i.exports.LIQUIDATION_LEVEL=P,i.exports.MAX_NUMBER_SIZE=D}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(5),s=n.n(o),a=n(7),l=n.n(a);var c=function(e){var t,n,i,o=e.onClick,s=e.className,a=l()((i=s,(n=s)in(t={help:!0,"flex flex-column flex-align-center":!0})?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t));return r.a.createElement("div",{className:a},r.a.createElement("span",null,__("help.need_help")),r.a.createElement("a",{href:"#",className:"cursor--pointer",onClick:o},r.a.createElement("span",null,__("help.right_here"))))};c.defaultProps={onClick:function(e){e.preventDefault(),e.stopPropagation(),s.a.trigger("ui:need-help")}},t.a=c},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(7),s=n.n(o),a=n(1),l=n.n(a),c=n(58),u=n.n(c),d=n(15),p=n.n(d),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isHighlighted:!0,isDelayed:!1},p()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),h(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"removeHighlight",value:function(){this._isMounted&&this.setState({isDelayed:!1,isHighlighted:!1})}},{key:"render",value:function(){var e,t=this,n=this.props,i=n.className,o=n.children,a=n.newItemsId,c=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(n,["className","children","newItemsId"]),d=l.a.contains(a,this.props.id),p=this.state.isHighlighted,h=s()((m(e={},i,!!i),m(e,"item__new",d),m(e,"item__highlighted",d&&p),e)),g=this.state.isDelayed;return!g&&d&&p&&(g=!0,l.a.delay((function(){t.removeHighlight()}),u.a.commentaries.newStateHighlightTimeout)),r.a.createElement(c.as,f({},c,{className:h}),o)}}]),t}(r.a.Component);g.defaultProps={as:"div"},t.a=g},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(15),s=n.n(o),a=(n(7),n(11)),l=n.n(a),c=n(1),u=n.n(c),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),d(t,[{key:"onPlusClick",value:function(){this.props.onPlusClick(this.props.name)}},{key:"onMinusClick",value:function(){this.props.onMinusClick(this.props.name)}},{key:"render",value:function(){return r.a.createElement("div",{className:"pane pane__row pane_padded-small"},r.a.createElement("div",{className:"actions pane"},r.a.createElement("button",{type:this.props.buttonType,className:"btn action-plus",onClick:this.onPlusClick},r.a.createElement("i",{className:"icon-plus"})),r.a.createElement("div",{className:"pane"}),r.a.createElement("button",{type:this.props.buttonType,className:"btn action-minus",onClick:this.onMinusClick},r.a.createElement("i",{className:"icon-minus"}))))}}]),t}(i.PureComponent);p.defaultProps={buttonType:"button",onMinusClick:u.a.noop,onPlusClick:u.a.noop,name:""},p.propTypes={buttonType:l.a.string,onMinusClick:l.a.func.isRequired,onPlusClick:l.a.func.isRequired,name:l.a.string.isRequired},t.a=p},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(11),s=n.n(o),a=n(1),l=n.n(a),c=n(7),u=n.n(c),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};var p=function(e){var t=e.error,n=e.disabled,i=e.errorMessage,o=(e.handleError,function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["error","disabled","errorMessage","handleError"])),s=u()({"field field-type-spin":!0,"pane pane__fluid":!0,"field-ok":!t,"field-error":!!t,"field-disabled":n}),a=d({},o);return n&&(a.disabled="disabled"),r.a.createElement("div",{className:s},r.a.createElement("div",{className:"input"},r.a.createElement("input",a)),r.a.createElement("div",{className:"field-tooltip field-tooltip-"+(t?"visible":"hidden")},r.a.createElement("div",{className:"content"},i)))};p.defaultProps={type:"text",value:"",name:"",errorMessage:"",placeholder:"",disabled:!1,onChange:l.a.noop,handleError:l.a.noop,onFocus:l.a.noop,onBlur:l.a.noop},p.propTypes={type:s.a.oneOf(["text","number"]).isRequired,name:s.a.string.isRequired,onChange:s.a.func.isRequired,onFocus:s.a.func.isRequired,onBlur:s.a.func.isRequired,handleError:s.a.func.isRequired,value:s.a.oneOfType([s.a.string,s.a.number]).isRequired,placeholder:s.a.string,disabled:s.a.bool,errorMessage:s.a.oneOfType([s.a.string,s.a.object]).isRequired},t.a=p},function(e,t,n){"use strict";n.r(t),n.d(t,"isCosmosTradingAccount",(function(){return d})),n.d(t,"getAvailableForWithdrawal",(function(){return p})),n.d(t,"transformWithdrawOptionText",(function(){return f}));var i=n(58),r=n.n(i),o=n(3),s=n(6),a=n.n(s),l=n(9),c=n.n(l),u=__group("account_instrument_type.");function d(e){return!!e&&r.a.tradePlatformIds2NameMap[e]===o.PLATFORM_TYPE.COSMOS}function p(){var e=a.a.getUserAccountMetricsModel().getEquity();return c.a.isPendingCreditCardWithdrawEnabled()&&(e=a.a.getUserAccountMetricsModel().getAvailableForWithdrawal()),e}function f(e){var t=e.platformAccountId,n=e.tradePlatformType,i=e.currency,s=r.a.tradePlatformIds2NameMap[n];switch(s){case o.PLATFORM_TYPE.COSMOS:s=__("brand.name");break;case o.PLATFORM_TYPE.SAXO:s=u(o.ACCOUNT_TRADING_TYPE.SHARE_DEALING);break;default:s=u(s)}return s+" - "+t+" - "+String(i).toUpperCase()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n(0),r=n.n(i),o=n(4),s=n(514),a=n(31),l=n(44),c=n(149),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var d=Object(l.default)((function(){return Promise.all([n.e(28),n.e(18),n.e(29),n.e(30),n.e(42)]).then(n.bind(null,1953))})),p=Object(l.default)((function(){return Promise.all([n.e(28),n.e(18),n.e(29),n.e(43)]).then(n.bind(null,1952))}));n(1015),t.b=Object(o.connect)(null,(function(e){return{init:function(){e(Object(s.b)())},deinit:function(){e(Object(s.a)())}}}))(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),u(t,[{key:"componentDidMount",value:function(){this.props.init()}},{key:"componentWillUnmount",value:function(){this.props.deinit()}},{key:"render",value:function(){return r.a.createElement("div",{className:"acuity__popup flex flex-stretch popup popup-translucent-1"},r.a.createElement(a.default,{minWidth:770},r.a.createElement(d,this.props)),r.a.createElement(a.default,{maxWidth:769},r.a.createElement(p,this.props)))}}]),t}(r.a.PureComponent));var f=function(){return r.a.createElement("div",{className:"pane pane__fluid flex-valign-center flex-align-center"},r.a.createElement(c.a,null))}},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(6),s=n.n(o),a=n(32),l=n.n(a),c=n(846);var u=function(e){var t=e.positionCode,n=(e.dispatch,e.before),i=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["positionCode","dispatch","before"]),o=s.a.getUserCurrencySymbol();return r.a.createElement(i.as,i,n,r.a.createElement(c.a,{positionCode:t},(function(e){return l()(e).formatForeignCurrency(o)})))};u.defaultProps={as:"span"},t.a=u},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(7),s=n.n(o),a=(n(1822),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e});var l=function(e){var t,n,i,o=e.open,l=e.horizontal,c=e.vertical,u=e.asSpoiler,d=e.className,p=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["open","horizontal","vertical","asSpoiler","className"]),f=s()((i=!!d,(n=d)in(t={collapse:!0,"is-open":o,"is-closed":!o,"is-horizontal":l,"is-vertical":c,"as-spoiler":u})?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t));return r.a.createElement(p.as,a({className:f},p))};l.defaultProps={open:!1,horizontal:!1,vertical:!1,as:"div"},t.a=l},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(9),s=n.n(o),a=n(1),l=n.n(a),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var d=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={timestamp:l.a.now()},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),u(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(l.a.isEqual(e,this.props)||l.a.isEqual(t,this.state))}},{key:"componentDidMount",value:function(){var e=this;this.delayedUpdate=l.a.debounce((function(){e.setState({timestamp:l.a.now()}),e.delayedUpdate()}),s.a.getMiniChartsUpdateInterval())}},{key:"componentWillUnmount",value:function(){this.delayedUpdate=l.a.noop}},{key:"render",value:function(){var e=this.props,t=e.symbol,n=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["symbol"]),i=String(t).replace("/","").replace(" ","").toLowerCase(),o=[s.a.getMiniChartsServiceUrl(),i,".png?t=",this.state.timestamp].join("");return r.a.createElement("img",c({src:o},n))}}]),t}(r.a.Component);t.a=d},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(13),s=n(30),a=n(1),l=n.n(a),c=n(51),u=n(414),d=n(4),p=n(41),f=n(7),h=n.n(f),m=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},g=function(e){return parseFloat(Number(e).toFixed(3))},v=function(e){var t,n=e.yearlyInsightsData,a=e.scoreTypes,d=e.selectedBreakdownType,p=e.breakdownTypes,f=e.timeHorizon,v=e.compact,b=Object(i.useState)(d),_=m(b,2),y=_[0],E=_[1],S=Object(i.useCallback)((function(e){return l.a.chain(e).pluck("year").map((function(e){return{label:Object(c.m)(e,"portfolio.backtest.$KEY$"),value:e}})).value()}),[n]),C=Object(i.useState)(l.a.first(S(n))),w=m(C,2),O=w[0],T=w[1],P=Object(i.useCallback)((function(e){return l.a.find(n,(function(t){return t.year===e.value}))}),[O]),k=Object(i.useCallback)((function(e,t){var n=P(e);return n?l.a.map(n[t.value],(function(e,n){switch(t.value){case o.g:return{name:Object(c.G)(e.stockSectorName),y:g(e.averageReturn*o.t),color:o.d[n]};case o.f:return{name:l.a.find(a,(function(t){return t.scoreTypeID===e.stockScoreTypeID})).name,y:g(e.factorScore*o.t),color:o.d[n]};case o.e:return{name:e.marketCapName,y:g(e.averageReturn*o.t),color:o.d[n]}}})):[]}),[O,y])(O,y);return r.a.createElement("div",{className:h()({"portfolio__backtest_wrapper portfolio__backtest_insights":!0,compact:v})},r.a.createElement("div",{className:"portfolio__backtest_wrapper-header"},r.a.createElement("div",{className:"pane pane--space-between"},r.a.createElement("div",{className:"pane--center pane--top"},__("portfolio.backtest.insights.title")),r.a.createElement("div",{className:"pane--center field-select-form"},r.a.createElement("div",{className:"field-select-row"},r.a.createElement("span",{className:"field-select-label"},__("portfolio.backtest.label.breakdown_by")),r.a.createElement(u.default,{size:"small",getOptionLabel:function(e){return __(e.label)},onChange:function(e){return E(e)},options:p,defaultValue:y})),r.a.createElement("div",{className:"field-select-row"},r.a.createElement("span",{className:"field-select-label"},__("portfolio.backtest.label.period")),r.a.createElement(u.default,{size:"small",onChange:function(e){return T(e)},options:S(n),defaultValue:O}))))),r.a.createElement("div",{className:"portfolio__backtest_wrapper-content pane"},r.a.createElement("div",{className:"wrapper-panel wrapper-panel-left"},r.a.createElement("div",{className:"wrapper-panel-title"},__("portfolio.backtest.insights.chart.title",__(y.label))),r.a.createElement("div",{className:"wrapper-panel-description w-50"},__("portfolio.backtest.insights.chart.description",f)),r.a.createElement("div",{className:"wrapper-panel-chart"},r.a.createElement(s.b,{config:(t=k,{chart:{height:250,animation:!1,zoomType:!1},plotOptions:{column:{pointPadding:0,borderWidth:0,groupPadding:0,shadow:!1},series:{animation:!1}},tooltip:{style:{color:Object(o.p)()}},yAxis:{title:{enabled:!1},opposite:!0,gridLineWidth:1,gridLineColor:Object(o.o)(),plotLines:[{value:0,color:Object(o.q)(),width:.5}],labels:{style:{color:Object(o.r)()}}},xAxis:{type:"category",labels:{enabled:!0,format:"{value}",autoRotation:[45],style:{color:Object(o.r)()}},gridLineWidth:0},legend:{enabled:!1},series:[{data:t,type:"column",maxPointWidth:25,dataLabels:{enabled:!1},tooltip:{pointFormat:"{point.y}"},colorByPoint:!0}]})}))),r.a.createElement("div",{className:"wrapper-panel wrapper-panel-right"},r.a.createElement("div",{className:"wrapper-panel-title"},__("portfolio.backtest.insights.annotation.title",__(y.label))),r.a.createElement("div",{className:"wrapper-panel-description"},__("portfolio.backtest.insights.annotation.description",__(y.label))),r.a.createElement("div",{className:"dotted-inline-list"},l.a.map(k,(function(e,t){return r.a.createElement("div",{key:t,className:"chart-item"},r.a.createElement("div",{className:"dotted-inline-list-item"},r.a.createElement("span",{className:"dotted-inline-list-item-dot",style:{background:e.color}}),r.a.createElement("span",null,e.name)))}))))))};v.defaultProps={timeHorizon:null,yearlyInsightsData:[],breakdownTypes:o.c,selectedBreakdownType:l.a.findWhere(o.c,{value:o.e})},t.a=Object(d.connect)((function(e){return{scoreTypes:Object(p.D)(e)}}))(v)},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(505),s=n(1),a=n.n(s),l=n(51),c=n(13);function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.a=function(e){var t=e.yearlyPerformanceData,n=e.compact;if(a.a.isEmpty(t))return null;var i,s,d,p=Object(l.h)(t,"year","portfolio.backtest.strategy.table.$KEY$"),f=p.thead,h=p.tbody;return n&&(f=Object(l.b)(f),h=a.a.reduce(h,(function(e,t,n){return e[n]=Object(l.b)(t),e}),{})),r.a.createElement(o.a,{showDividerForFirstColumn:!0,useFormatter:!0,useColors:!0,formatterRule:(i={},s=c.h.indexOf("sharpeRatio"),d="0[.]00",s in i?Object.defineProperty(i,s,{value:d,enumerable:!0,configurable:!0,writable:!0}):i[s]=d,i),caption:__("portfolio.backtest.strategy.title"),headers:[""].concat(u(f)),data:a.a.map(h,(function(e,t){return[Object(l.m)(t,"portfolio.backtest.strategy.table.$KEY$")].concat(u(e))}))})}},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(505),s=n(1),a=n.n(s),l=n(51);t.a=function(e){var t=e.lastPortfolioPositionData,n=e.compact;if(a.a.isEmpty(t))return null;var i=Object(l.f)(t,"year","portfolio.backtest.existing.table.$KEY$"),s=i.thead,c=i.tbody;return n&&(s=Object(l.a)(s),c=a.a.reduce(c,(function(e,t,n){return e[n]=Object(l.a)(t),e}),{})),r.a.createElement(o.a,{id:"backtestExistingPortfolioTable",caption:__("portfolio.backtest.existing.title")+" - "+a.a.size(c)+" "+__("portfolio.shares"),headers:s,data:c})}},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(5),s=n.n(o),a=n(1),l=n.n(a),c=n(66),u=n.n(c),d=n(8),p=n.n(d),f={},h=n(15),m=n.n(h),g=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},v=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var b=1;function _(e){return String(e).replace(/\$/g,"")}var y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),i=_(e.from),r=_(e.to);return n.state={from:i,to:r,conversionRate:b},m()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),v(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.from,n=e.to;(t=_(t))!==(n=_(n))?t===this.state.from&&n===this.state.to||(this.updateSubscription({from:t,to:n}),this.setState({from:t,to:n})):this.setState({from:t,to:n,conversionRate:1})}},{key:"componentDidMount",value:function(){s.a.on("stream:type:CONVERSION_RATE",this.onConversionRateChange),this.state.from!==this.state.to&&this.subscribeConversionRate(this.state)}},{key:"subscribeConversionRate",value:function(e){!function(e,t){f.hasOwnProperty(e+t)||(p.a.requestConversionSubscription(e,t,u.a.getAtmosphereId()),f[e+t]=null)}(e.from,e.to)}},{key:"unsubscribeConversionRate",value:function(e){!function(e,t){f.hasOwnProperty(e+t)&&(p.a.requestConversionUnsubscription(e,t,u.a.getAtmosphereId()),delete f[e+t])}(e.from,e.to)}},{key:"updateSubscription",value:function(e){this.unsubscribeConversionRate(this.state),this.subscribeConversionRate(e)}},{key:"componentWillUnmount",value:function(){s.a.off("stream:type:CONVERSION_RATE",this.onConversionRateChange),this.unsubscribeConversionRate(this.state)}},{key:"onConversionRateChange",value:function(e){var t=g(e,1)[0],n=t.from,i=t.to,r=t.value;n===this.state.from&&i===this.state.to&&(this.setState({conversionRate:r}),this.unsubscribeConversionRate({from:n,to:i}),this.props.onConversionRateChange(t))}},{key:"render",value:function(){var e=this.state.conversionRate;return l.a.isFunction(this.props.children)?this.props.children(e):null}}]),t}(r.a.Component);y.defaultProps={onConversionRateChange:l.a.noop};t.a=y},function(e,t,n){"use strict";n(1397);var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};var r=n(0),o=n(18),s=n(281),a=n(1),l=n(20),c=s.extend({initialize:function(){var e=this;s.prototype.initialize.apply(this,arguments),this.listenTo(this,"change",(function(t,n){return e.options.onChange(n)}))},render:function(){l.prototype.render.apply(this,arguments),s.prototype.render.apply(this,arguments)}});t.a=o({displayName:"SpinNumber",getDefaultProps:function(){return{as:"div",onChange:a.noop,value:"",step:1,intMax:10,minValue:0,maxValue:void 0,precision:0,placeholder:"",title:"",shouldRerender:!0}},getComposedOptions:function(){var e=this,t=this.props,n=t.title,i=t.placeholder,r=t.value,o=t.step,s=t.intMax,a=t.maxValue,l=t.minValue,c=t.precision,u=t.shouldRerender;return{defaultValue:this.props.defaultValue||"",onChange:function(t){return e.onChange(t)},translationKey:"",title:n,placeholder:i,value:r,step:o,intMax:s,maxValue:a,minValue:l,precision:c,disable:!1,shouldRerender:u}},componentDidMount:function(){this.createField()},getValue:function(){return this.field&&this.field.value()},setValue:function(e){this.field&&this.field.value(e)},createField:function(){this.field||(this.field=new c(i({parent:this.refs.el},this.getComposedOptions())),this.field.render(),this.field.value(this.props.value,!0))},destroyField:function(){this.field&&(this.field.remove(),this.field=null)},onChange:function(){this.props.onChange(this.field.value())},componentWillUnmount:function(){this.destroyField()},componentDidUpdate:function(){this.shouldRerender&&(this.destroyField(),this.createField()),this.field&&this.field.value(this.props.value,!0)},render:function(){var e=this.props,t=(e.children,e.onChange,e.defaultValue,e.step,e.intMax,e.maxValue,e.minValue,e.precision,e.placeholder,e.value,e.shouldRerender,function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["children","onChange","defaultValue","step","intMax","maxValue","minValue","precision","placeholder","value","shouldRerender"]));return r.createElement(t.as,i({},t,{className:"spin-number",ref:"el"}))}})},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(969),s=n(148),a=n(234),l=n(86),c=n(32),u=n(16),d=n(33).default,p=r.template(n(1417)),f=r.template(n(1418)),h=r.template(n(1419)),m=r.template(n(1420)),g=n(767),v=g.EMPTY,b=g.SUBSCRIBE_FEED_PENDING,_=g.WS_FEED_RECEIVED,y=g.SUBSCRIBE_FEED_ERROR;i.exports=o.extend({tagName:"div",className:"blend",events:function(){return this.addEvents(o)({"click .showmore__title":"showmore"})},initialize:function(){o.prototype.initialize.apply(this,arguments);var e=this.options||{};this.tmpl="vertical"===e.direction?h:f,this.listenTo(this.model,"change:statusOfData",this.onStatusOfData),this.listenTo(this.model,"change:selectedYear",this.onYearChanged),this.model.load()},render:function(){return o.prototype.render.call(this),this.$el.html(p({mobile:d.mobile(),instrumentDisplayName:this.model.get("displayName"),blendDetailsText:__("blend.details."+String(this.model.get("symbol")).toLocaleLowerCase()),showOnlyChart:this.options.showOnlyChart})),this.onStatusOfData(),this},onStatusOfData:function(){var e=this,t=this.model;switch(t.get("statusOfData")){case v:case b:return void this.addChildView(".blend__performance",l);case _:this.removeChildView(".blend__field-periods");var n=this.addChildView(".blend__field-periods",a,{template:s.selectBox,disable:!1,translationKey:"",value:this.model.get("selectedYear"),options:this.model.get("years"),transformOptionsValue:function(e){return e},transformOptionText:function(e){return e},title:__("wizard.form.label.DEFAULT_EMPTY"),name:"years"});return this.listenTo(n,"change",(function(n,i){t.filter({year:i}),e.renderChart()})),n.value(u().format("YYYY")),this.renderChart(),void this.removeChildView(".blend__performance");case y:return}},renderTotal:function(){this.$el.find(".blend__performance .chart__total").html(m({total:this.getTotal()}))},onYearChanged:function(){var e=this.getChildView(".chart-bar__body");e&&e.setData(this.model.get("data"))},beforeCreate:function(){return!0},isSaveNeeded:function(){return!1},getModelData:function(){return this.model.getData(this.shouldDiscardFutureDate())},getTotal:function(){return this.getModelData().total},shouldDiscardFutureDate:function(){return d.mobile()||d.tablet()},renderChart:function(){var e=this.model,t=this.getModelData().result;this.shouldDiscardFutureDate()&&(t=t.reverse()),this.$el.find(".chart-bar__body").html(this.tmpl({total:this.getTotal(),data:t,months:e.get("months"),format:function(e){return 0===e?0:c(e).format("0,0[.]00")+"%"},showmoreItemsCount:3})),this.renderTotal()},showmore:function(){var e=this.$(".showmore__content"),t=this.$(".showmore__title"),n="showmore__content--hidden";e.toggleClass(n),t.html(e.hasClass(n)?__("actions.showmore"):__("actions.showless"))}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}void 0===(r=function(e,t,i){var r=n(43),s=n(8),a=n(66),l=n(5),c=n(1),u=n(16),d=n(32),p=n(767),f=p.EMPTY,h=p.SUBSCRIBE_FEED_PENDING,m=p.SUBSCRIBE_FEED_SUCCESS,g=p.SUBSCRIBE_FEED_ERROR,v=p.WS_FEED_RECEIVED,b=p.SUBSCRIBE_FEED_TIMEOUT;i.exports=r.extend({defaults:function(){return{years:[],selectedYear:u().year(),statusOfData:f,info:[],history:[],dataForYear:[],symbol:null,requestID:"blend-generic-request-id",months:[__("instrument_info.rollover_date.month.january"),__("instrument_info.rollover_date.month.february"),__("instrument_info.rollover_date.month.march"),__("instrument_info.rollover_date.month.april"),__("instrument_info.rollover_date.month.may"),__("instrument_info.rollover_date.month.june"),__("instrument_info.rollover_date.month.july"),__("instrument_info.rollover_date.month.august"),__("instrument_info.rollover_date.month.september"),__("instrument_info.rollover_date.month.october"),__("instrument_info.rollover_date.month.november"),__("instrument_info.rollover_date.month.december")],instrumentStartTime:!1}},initialize:function(){r.prototype.initialize.apply(this),this.listenTo(l,"stream:type:chartFeedSubtopic",this.onWSFeed),this.listenTo(this,"change:statusOfData",this.onStatusOfData);var e=u.parseZone(this.get("instrumentStartTime"));this.set("instrumentStartTime",e.isValid()?e:u(0))},load:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.symbol,n=e.year,i="statusOfData",r=this.get(i),o=this.control(i);if(r!=h){if(t=t||this.get("symbol"),n=n||this.get("selectedYear"),!t)return o(g);this.set({data:[],history:[]},{silent:!0}),o(h),this.subscribeFeed(t,n).then((function(e){return o(m)})).catch((function(e){return o(g,{error:e.message},e)}))}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.year,n=e.history;t=t||this.get("selectedYear"),n=n||this.get("history");var i=function(e){return u(e).format("YYYY-MM-DD")},r=c.uniq(c.map(n,(function(e){return u(e.timestamp).format("YYYY")}))).reverse(),o=c.times(12,(function(e){return u({year:t,month:e,day:0,hour:0,minute:0,second:0})})),s=c.map(n,(function(e){return{change:0==e.open?0:(e.close-e.open)/e.open*100,timestamp:e.timestamp,date:i(e.timestamp),open:e.open,close:e.close}})),a=c.map(o,(function(e){var t=c.find(s,(function(t){return i(e)===i(t.timestamp)}));return{date:i(e),change:t&&t.change||0,open:t&&t.open||0,close:t&&t.close||0}}));this.set({dataForYear:a,selectedYear:t,years:r})},subscribeFeed:function(e){return s.updateChartsSubscription(a.getAtmosphereId(),[{aggregationPeriod:{name:"1mn",seconds:2592e3,intraday:!1},expansionBarsCount:0,extendedHours:!1,forexPriceField:"bid",id:this.get("requestID"),maxBarsCount:120,range:{name:"170 Years",duration:5375808e3,defaultAggregationPeriod:{name:"1mn",seconds:2592e3,intraday:!1}},studySubscription:[],subtopic:this.get("requestID"),symbol:e,updateInterval:300}])},unsubscribeFeed:function(){return s.unsubscribeCharts(a.getAtmosphereId(),[this.get("requestID")])},onWSFeed:function(e){if(c.isObject(e)&&e.historyRequestID===this.get("requestID")){var t=this.get("history"),n=e.data,i=[].concat(o(t),o(n));i=c.sortBy(i,"timestamp"),this.set({history:i,statusOfData:null},{silent:!0}),this.filter(),this.set("statusOfData",v,{trigger:!0})}},onStatusOfData:function(){switch(this.get("statusOfData")){case g:case m:return;case h:return void this.startWsDataTimeout();case b:return;case v:return void(this.stopWsDataTimeout()&&this.unsubscribeFeed())}},startWsDataTimeout:function(){var e=this;this.subscribeTimeoutId||(this.subscribeTimeoutId=setTimeout((function(){return e.set("statusOfData",b,{trigger:!0})}),5e3))},stopWsDataTimeout:function(){if(this.subscribeTimeoutId)return clearTimeout(this.subscribeTimeoutId),this.subscribeTimeoutId=null,!0},getData:function(e){var t=this,n=this.get("months"),i=this.get("dataForYear"),r=this.get("instrumentStartTime"),o=e,s=c.max(i,(function(e){return e.change})).change,a=c.min(i,(function(e){return e.change})).change,l=Math.max(Math.abs(s),Math.abs(a)),p=c.first(i),f=c.filter(i,(function(e){return 0!=e.change})),h=c.last(f)||0,m=0!=p.open?(h.close-p.open)/p.open*100:h.close,g=Math.abs(m),v=this._percent(m),b=this._direction(v),_=o?Math.max(g,l):l,y=g/_*100,E={originValue:m,zoomedPercent:y,reflectedAbsPercent:100-Math.abs(y),direction:b,percent:v,formatPercent:d(m).format("0,0[.]00")+"%"},S=c.map(i,(function(e,i,o){var s=e.change,a=o[i-1],l=t._percent(s),c=t._direction(s),p=0!==_?l/_*100:0,f=n[i];c=void 0!==a&&a===l?"equally":c;var h=r.diff(u(e.date,"YYYY-MM-DD"))>0;return{originValue:s,direction:c,percent:l,zoomedPercent:p,formatPercent:d(l).format("0,0[.]00")+"%",reflectedAbsPercent:100-Math.abs(p),month:f+(h?"*":""),intDate:parseInt(u(e.date,"YYYY-MM-DD").format("YYYYMMDD"),10)}}));if(!0===e){var C=parseInt(u().format("YYYYMMDD"),10);S=c.filter(S,(function(e){return e.intDate<=C}))}return{total:E,result:S}},_percent:function(e){return e>100?100:e<-100?-100:e},_direction:function(e){return e>0?"up":e<0?"down":"equally"}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};void 0===(r=function(e,t,i){var r=n(124),s=n(118),a=n(6),l=n(0),c=n(5),u=n(8),d=n(9),p=n(1).noop,f=n(755),h=n(3),m=h.LOW_SCORE,g=h.ACCOUNT_TRADING_TYPE,v=n(1);function b(e,t,n,i,s,a,l,c,u){if(a=a||__("ok"),null!==e&&"object"===(void 0===e?"undefined":o(e)))new r(e);else new r({caption:e,text:t,onOK:n,onClose:i,isHeaderShowed:s,okBtnText:a,isShowCloseForMobile:l,ignorableByLoginMessage:c,textAlignment:u||"text-center"})}function _(e){new s({parent:document.body,confirmCaption:e.caption,confirmMessage:e.text,confirmMessageAlignment:e.alignment||"text-center",confirmOKBtnText:e.textOK,confirmCancelBtnText:e.textCancel,ignorableByLoginMessage:e.ignorableByLoginMessage,hideCancelButton:e.hideCancelButton||!1,onOK:e.success,onCancel:e.cancel,additionalEvents:e.additionalEvents})}function y(e){return u.updateAccount({data:e})}function E(e,t,n){_({caption:__("relogin.registration.title"),text:__("flow.popup.complete_reg_to."+e),textOK:__("actions.proceed"),textCancel:__("actions.close"),success:t,cancel:n||p})}function S(e,t){_({caption:__("message.title.switch_registration"),text:__("flow.popup.complete_reg_and_switch_to."+e),textOK:__("actions.proceed"),textCancel:__("actions.close"),success:t||function(){return c.trigger("platform:switch","live")},cancel:p})}function C(e,t){_({caption:"",text:__("flow.switch_to."+e),textOK:__("actions.proceed"),textCancel:__("actions.close"),success:function(){return c.trigger("platform:switch","live",t)},cancel:p})}function w(e,t,n,i){_({caption:e,text:t,textOK:__("actions.proceed"),textCancel:__("actions.close"),success:function(){y({fullRegistrationBonusTermsAndConditions:"true"}).then(n)},cancel:i,additionalEvents:{"click .fn-proceed-no-bonus":function(e){e.preventDefault(),this.close(),c.trigger("sm","registration_no_bonus"),y({fullRegistrationBonusTermsAndConditions:"false"})}}})}function O(){return'<br /><br /><a href="#" class="fn-proceed-no-bonus">'+__("registration.popup.proceed_without.bonus")+"</a>"}function T(){return"<br/><i>"+__("terms.and.conditions.text")+"</i>"}i.exports={explore:function(e,t,n){var i=a.getUserCurrencySymbol(),r=d.getPracticeAmount(a.getUserCurrency());_({caption:__("demo.only.title"),text:__("demo.only.body",i+r),textOK:__("switch_to_practice"),textCancel:__("actions.close"),ignorableByLoginMessage:!!n,success:function(){c.trigger("platform:switch","demo"),e()},cancel:t})},explore_on_login:function(e,t){this.explore(e,t,!0)},regAndGetBonus:function(e,t,n){var i=a.getUserCurrencySymbol(),r=a.getUserCurrency(),o=d.getPracticeAmount(r);a.getUserAwardsModel().ready((function(s){_({caption:__("relogin.registration.title"),text:__("flow.popup.complete-reg-and-get-bonus.body",i+s.getFullRegistrationBonus(r),i+o)+O(),textOK:__("actions.proceed"),textCancel:__("actions.close"),ignorableByLoginMessage:!!n,success:function(){y({fullRegistrationBonusTermsAndConditions:"true"}).then(e)},cancel:t,additionalEvents:{"click .fn-proceed-no-bonus":function(e){e.preventDefault(),this.close(),c.trigger("sm","registration_no_bonus"),y({fullRegistrationBonusTermsAndConditions:"false"})}}})}))},firstLoginRegAndGetBonusOnLogin:function(e,t){var n=a.getUserCurrencySymbol(),i=a.getUserCurrency(),r=d.getPracticeAmount(i);a.getUserAwardsModel().ready((function(o){_({caption:__("first.login.registraion.title"),text:__("flow.popup.complete-reg-and-get-bonus.body",n+o.getFullRegistrationBonus(i),n+r)+O(),textOK:__("actions.proceed"),textCancel:__("actions.close"),ignorableByLoginMessage:!0,success:function(){y({fullRegistrationBonusTermsAndConditions:"true"}).then(e)},cancel:t,additionalEvents:{"click .fn-proceed-no-bonus":function(e){e.preventDefault(),this.close(),c.trigger("sm","registration_no_bonus"),y({fullRegistrationBonusTermsAndConditions:"false"})}}})}))},firstLoginRegOnLogin:function(e,t){var n=a.getUserCurrencySymbol(),i=a.getUserCurrency(),r=d.getPracticeAmount(i);_({caption:__("first.login.registraion.title"),text:__("first.login.registration.body",n+r),textOK:__("actions.proceed"),textCancel:__("actions.close"),ignorableByLoginMessage:!0,success:e,cancel:t})},firstLoginRegOnLoginPlatformPopup:function(e,t){c.trigger("ui:platformtype",{success:e,cancel:t})},welcomeBackAndGetBonus:function(e,t){a.getUserAwardsModel().ready((function(n){_({caption:__("relogin.registration.title"),text:__("flow.popup.welcome_back.eligible",a.getUserCurrencySymbol()+n.getFullRegistrationBonus(a.getUserCurrency()))+O(),textOK:__("actions.proceed"),textCancel:__("actions.close"),ignorableByLoginMessage:!0,success:function(){y({fullRegistrationBonusTermsAndConditions:"true"}).then(e)},cancel:t,additionalEvents:{"click .fn-proceed-no-bonus":function(e){e.preventDefault(),this.close(),c.trigger("sm","registration_no_bonus"),y({fullRegistrationBonusTermsAndConditions:"false"})}}})}))},switchToRealAndReg:function(e,t){_({caption:__("message.title.switch_registration"),text:__("flow.popup.switch-to-real-and-complete-reg"),textOK:__("actions.register"),textCancel:__("actions.close"),success:e,cancel:t})},needToRegBeforeGetBonusAndTrade:function(e,t){a.getUserAwardsModel().ready((function(n){w(__("relogin.registration.title"),__("state.machine.confirmation.register.suggest.eligible.trade",a.getUserCurrencySymbol()+n.getFullRegistrationBonus(a.getUserCurrency()))+T()+O(),e,t)}))},needToRegAndGetBonusBeforeDeposit:function(e,t){a.getUserAwardsModel().ready((function(n){_({caption:__("relogin.registration.title"),text:__("flow.popup.reg_before_deposit.eligible",a.getUserCurrencySymbol()+n.getFullRegistrationBonus(a.getUserCurrency()))+O(),textOK:__("actions.proceed"),textCancel:__("actions.close"),success:function(){y({fullRegistrationBonusTermsAndConditions:"true"}).then(e)},cancel:t,additionalEvents:{"click .fn-proceed-no-bonus":function(e){e.preventDefault(),this.close(),c.trigger("sm","registration_no_bonus"),y({fullRegistrationBonusTermsAndConditions:"false"})}}})}))},reg:function(e,t){var n=d.getPracticeAmount(a.getUserCurrency());_({caption:__("first.login.registraion.title"),text:__("state.machine.confirmation.register.suggest.promo",a.getUserCurrencySymbol()+n),textOK:__("actions.proceed"),textCancel:__("actions.close"),success:e,cancel:t})},welcomeBackAndNeedToReg:function(e,t){_({caption:__("relogin.registration.title"),text:__("relogin.registration.body"),textOK:__("actions.proceed"),textCancel:__("actions.close"),ignorableByLoginMessage:!0,success:e,cancel:t})},needToRegBeforeTrading:function(e,t){var i="state.machine.confirmation.register.suggest.trade",r=(0,n(27).getUserInstrumentType)(window.store.getState())+"."+i;_({caption:__("relogin.registration.title"),text:__default(r,i),textOK:__("actions.proceed"),textCancel:__("actions.close"),success:e,cancel:t})},needToRegAndGetBonusBeforeTrading:function(e,t){var n=a.getUserCurrencySymbol();a.getUserAwardsModel().ready((function(i){_({caption:__("relogin.registration.title"),text:__("flow.popup.reg_before_trading.eligible",n+i.getFullRegistrationBonus(a.getUserCurrency()))+O(),textOK:__("actions.proceed"),textCancel:__("actions.close"),success:function(){y({fullRegistrationBonusTermsAndConditions:"true"}).then(e)},cancel:t,additionalEvents:{"click .fn-proceed-no-bonus":function(e){e.preventDefault(),this.close(),c.trigger("sm","registration_no_bonus"),y({fullRegistrationBonusTermsAndConditions:"false"})}}})}))},needToRegBeforeDeposit:function(e,t){_({caption:__("relogin.registration.title"),text:__("state.machine.confirmation.register.suggest.deposit"),textOK:__("actions.proceed"),textCancel:__("actions.close"),success:e,cancel:t})},haveNotDepositYet:function(e,t){c.trigger("native-popups:block","have-not-deposit-yet");var n=function(){c.trigger("native-popups:release","have-not-deposit-yet"),e()},i=function(){c.trigger("native-popups:release","have-not-deposit-yet"),t()};b(__("status.deposit_funds"),__("first_deposit.popup.login.message"),n,i,!0,__("actions.deposit"),!0,!0)},lowBalanceAndFirstDeposit:function(e,t){_({caption:__("status.deposit_funds"),text:__("first_deposit.popup.trade.non_eligible_for_bonus.message"),textOK:__("actions.deposit"),textCancel:__("actions.close"),success:e,cancel:t})},lowBalanceAndDeposit:function(e,t){var i="state.machine.confirmation.deposit.suggest",r=(0,n(27).getUserInstrumentType)(window.store.getState())+"."+i;_({caption:__("status.deposit_funds"),text:__default(r,i)+"<br />"+__("state.machine.confirmation.deposit.confirm"),textOK:__("actions.deposit"),textCancel:__("actions.close"),success:e,cancel:t})},mustSwitchToRealAndDeposit:function(e,t){_({caption:__("status.deposit_funds"),text:__("depositDialog.text"),textOK:__("actions.deposit"),textCancel:__("actions.close"),success:e,cancel:t})},welcomeBackAndVerifyAccount:function(e,t){_({caption:__("verify_account.popup.header"),text:__("verify_account.popup.login.non_eligible.message"),textOK:__("actions.verify"),textCancel:__("actions.close"),ignorableByLoginMessage:!0,success:e,cancel:t})},verifyAccountBeforePlacingTrade:function(e,t){_({caption:__("verify_account.popup.header"),text:__("verify_account.popup.trade.non_eligible.message"),textOK:__("actions.verify"),textCancel:__("actions.close"),success:e,cancel:t})},verifyExpiredDocumentsBeforePlacingTrade:function(e,t){_({caption:__("verify_account.popup.header_expired"),text:__("verify_account.popup.expired.message"),textOK:__("actions.verify"),textCancel:__("actions.close"),success:e,cancel:t})},verifyExpiredDocumentsDemo:function(e,t){_({caption:__("verify_account.popup.header_expired"),text:__("verify_account.popup.expired.message"),textOK:__("actions.verify"),textCancel:__("actions.close"),success:function(){return c.trigger("platform:switch","live","?path=verification-center")},cancel:t})},verifyGoingToExpireDocumentsBeforePlacingTrade:function(e,t){_({caption:__("verify_account.popup.login.going_to_expire.header"),text:__("verify_account.popup.going_to_expire.message"),textOK:__("verify_account.popup.button_upload"),textCancel:__("actions.close"),success:e,cancel:t})},verifyGoingToExpireDocumentsDemo:function(e,t){_({caption:__("demo.banner.click.going_to_expire_document.header"),text:__("demo.banner.click.going_to_expire_document.message"),textOK:__("verify_account.popup.button_upload"),textCancel:__("actions.close"),success:function(){return c.trigger("platform:switch","live","?path=verification-center")},cancel:t})},suspendedComplianceInactivity:function(e){_({caption:__("verify_account.popup.login.compliance_suspended.header"),text:__("verify_account.popup.login.compliance_suspended.message"),textOK:__("ok"),hideCancelButton:!0,success:e})},suspendedComplianceOther:function(e){_({caption:__("verify_account.popup.login.compliance_suspended_other.header"),text:__("verify_account.popup.login.compliance_suspended_other.message"),textOK:__("ok"),hideCancelButton:!0,success:e})},switchToRealModeAndVerifyAccount:function(e,t){_({caption:__("verify_account.popup.header"),text:__("flow.popup.verify-account.switch-to-real-mode"),textOK:__("actions.verify"),textCancel:__("actions.close"),success:e,cancel:t})},verificationAccountSoon:function(e,t){var i=(0,n(27).getUserInstrumentType)(window.store.getState());b(__("verify_account.popup.header"),__default(i+".flow.popup.verification-account.soon","flow.popup.verification-account.soon"),e,t,!1)},switchToRealModeAndVerifyCreditCard:function(e,t){b(__("verification_center.popup.cc.label"),__("flow.popup.verify-credit-card.switch-to-real-mode"),e,t)},verifyCreditCardBeforePlacingTrade:function(e,t){_({caption:__("verification_center.popup.cc.label"),text:__("deposit.verify_cc.one.message"),textOK:__("actions.verify"),textCancel:__("actions.close"),success:e,cancel:t})},accountVerificationSoon:function(e,t){b("",__("flow.popup.verification-account.soon"),e,t)},confirmDeposit:function(e,t){b(__("flow.popup.confirm-deposit.title"),__("flow.popup.confirm-deposit.body"),e,t,!1)},moreFundsAreRequired:function(e,t){_({caption:__("status.deposit_funds"),text:__("flow.popup.more-funds-are-required"),textOK:__("actions.deposit"),textCancel:__("actions.close"),success:e,cancel:t})},proofOfPayment:function(e,t){var n=a.getUserCurrencySymbol();a.updateUserPendingDeposit().then((function(){b(__("proof_of_payment.dialog.header",[a.getUserPendingDeposit(),n]),__("proof_of_payment.dialog.message"),e,t)}))},regAndGetBonusBeforeChangeLeverage:function(e,t){a.getUserAwardsModel().ready((function(n){w(__("relogin.registration.title"),__("flow.leverage.settings.registration.bonus",a.getUserCurrencySymbol()+n.getFullRegistrationBonus(a.getUserCurrency()))+T()+O(),e,t)}))},regBeforeChangeLeverage:function(e,t){!function(e,t,n,i){_({caption:e,text:t,textOK:__("actions.proceed"),textCancel:__("actions.close"),success:n,cancel:i})}(__("relogin.registration.title"),__("flow.leverage.settings.registration"),e,t)},needToRegBeforeWithdrawal:function(e,t){E("open_withdrawal",e,t)},needToRegAndGetBonusBeforeWithdrawal:function(e,t){w(__("relogin.registration.title"),"In order to open withdrawal you need to complete the registration process."+T()+O(),e,t)},switchToRealAndRegToChangeLeverage:function(e,t){S("change_leverage")},switchToRealToChangeLeverage:function(){C("change_leverage","?path=account-settings&section=leverage")},switchToRealToChangePassword:function(){C("change_password","?path=account-settings&section=change-password")},switchToRealToChangeNotifications:function(){C("change_notifications","?path=account-settings&section=notifications")},lowScoreLoginLive:function(e){b({text:__("low_score.login.live.message"),onOK:e,isHeaderShowed:!1,okBtnText:__("low_score.login.live.button")})},lowScoreCantChangeLeverage:function(){b("",__("low_score.change_leverage"),p,p,!1,__("ok"))},needToRegAndGetBonusBeforeVerify:function(e,t){a.getUserAwardsModel().ready((function(n){w(__("relogin.registration.title"),__("flow.verify.complete.reg")+T()+O(),e,t)}))},needToRegBeforeVerify:function(e,t){_({caption:__("relogin.registration.title"),text:__("flow.verify.complete.reg"),textOK:__("actions.proceed"),textCancel:__("actions.close"),success:e,cancel:t})},switchToRealAndRegToVerificationCenter:function(e){S("open_verification_center",e)},switchToRealToVerificationCenter:function(){C("open_verification_center","?path=verification-center")},needDepositToWithdraw:function(e,t){_({caption:__("withdraw.title"),text:__("auto.withdrawal.deposit.text"),textOK:__("actions.deposit"),textCancel:__("actions.close"),success:e,cancel:t})},verifyBeforeWithdraw:function(e,t){_({caption:__("withdraw.title"),text:__("auto.withdrawal.verify.text"),textOK:__("actions.verify"),textCancel:__("actions.close"),success:e,cancel:t})},lowScoreRiskWarning:function(e,t){c.trigger("ui:risk-warning",{score:m,onOK:e,onCancel:t,onBack:t})},pseudoCompleteRegistrationPopup:function(e){return c.trigger("registration:complete",e)},lowScoreRiskWarningWithCheckKnowledge:function(e,t,n){return c.trigger("ui:risk-warning",{score:"LOW",checkKnowledge:!0,onOK:e,onCancel:t,onBack:n})},mediumScoreRiskWarning:function(e,t){return c.trigger("ui:risk-warning",{score:"MEDIUM",onOK:e,onCancel:t,onBack:t})},spanishLowScoreReject:function(e){return c.trigger("ui:risk-warning",{regulation:"spanish",action:"reject",onOK:e})},spanishMediumScoreRiskWarning:function(e,t){return c.trigger("ui:risk-warning",{score:"MEDIUM",regulation:"spanish",onOK:e,onCancel:t,onBack:t})},spanishHighScoreRiskWarning:function(e,t){return c.trigger("ui:risk-warning",{score:"HIGH",regulation:"spanish",onOK:e,onCancel:t})},leverageSelection:function(e,t){return c.trigger("ui:leverage-selection",{onOK:e,onButtonCloseClicked:t})},registration:function(e,t){return c.trigger("ui:registration",{isBonus:!0,onFinish:e,onAbort:t})},registrationNoBonus:function(e,t){return c.trigger("ui:registration",{onFinish:e,onAbort:t})},afterSelectLeveragePopup:function(e){return c.trigger("ui:after-select-leverage-popup",{onOK:e})},mediumRegistrationCompleted:function(e){return c.trigger("ui:medium-registration-completed",{onOK:e})},userCompanyChanged:function(e){b("",__default(e.partnerCompanyNameKey+".change_company.popup.text","change_company_popup.text",e.companyName),p,p,!1,__("actions.proceed"),!1,!0,"text-justify")},quizPassed:function(e){_({caption:__("quiz.passed.header"),text:e,textOK:__("quiz.go_to_live.button"),textCancel:__("quiz.stay_on_demo.button"),success:function(){return c.trigger("platform:switch","live","?path=deposit")},cancel:p})},quizFallenRetake:function(e){_({caption:"",text:e,textOK:__("quiz.retake.button"),textCancel:__("quiz.stay_on_demo.button"),success:function(){return c.trigger("ui:retake-quiz")},cancel:p})},quizFallen:function(e){b("",e,p,p,!1,__("quiz.stay_on_demo.button"))},welcomeBackAndRetakeQuiz:function(e){_({caption:__("relogin.quiz.eligible.header"),text:__("relogin.quiz.eligible.body"),textOK:__("quiz.retake.button"),textCancel:__("actions.close"),ignorableByLoginMessage:!0,success:e,cancel:p})},welcomeBackQuizPostponed:function(){b(__("relogin.quiz.postponed.header"),__("relogin.quiz.postponed.body",a.getUserQuizStatus().whenCustomerCouldRetakeQuiz()),p,p,!1,__("ok"),!1,!0)},promotionMarketsX:function(e,t){a.isPromotionMarketsX()?a.getUserLevelsModel().acceptTcForMarketsX().then((function(){return Promise.all([a.getUserLevelsModel().loadLevels(),a.loadUserData(),a.getUserAwardsModel().load()]).then((function(){return e()}))})):a.getUserLevelsModel().showPromotionPopup(e,t)},openUpgradeMarketsX:function(e,t){a.getUserLevelsModel().showUpgradePopup(e,t)},changeViewToAdvanced:function(e,t){new f({onSuccess:function(){e(),window.location.reload()},onCancel:t})},confirmCustomerSelectedCompanyRegulation:function(e,t,n,i){var r="registration.popup.customer_selected_company.text",o=__default(n+"."+i.currentPartnerCompanyNameKey+"."+r,i.currentPartnerCompanyNameKey+"."+r),s=__(i.currentPartnerCompanyNameKey+".actions.proceed.continue"),a=__(i.currentPartnerCompanyNameKey+".actions.cancel.continue");_({text:o,textOK:s.startsWith(i.currentPartnerCompanyNameKey)?__("actions.proceed"):s+" "+i.currentRegulationType,textCancel:a.startsWith(i.currentPartnerCompanyNameKey)?__("actions.cancel"):a+" "+i.newRegulationType,alignment:"text-justify",ignorableByLoginMessage:!0,success:e,cancel:t})},confirmRestrictedCountryCustomerRegulationCompany:function(e,t){_({text:__(t.newPartnerCompanyNameKey+".registration.popup.notify.company_changed.text"),textOK:__("actions.continue"),textCancel:__("actions.cancel"),alignment:"text-justify",ignorableByLoginMessage:!0,success:e,cancel:p,hideCancelButton:!0})},confirmChangeCustomerRegulationCompany:function(e,t,n){_({text:__(n.newPartnerCompanyNameKey+".registration.popup.confirm.company_change.text"),textOK:__("actions.proceed"),textCancel:__("actions.cancel"),alignment:"text-justify",ignorableByLoginMessage:!0,success:e,cancel:t})},needToRegBeforeCreateAccount:function(e,t){E("create_account",e,t)},pseudoSaxoCreateAccount:function(e,t,i,r){var o=this,s=n(1002).createShareDealingAccount,l=n(208).saveSettingsByKey,u=window.store.dispatch,d=function(){return c.trigger("ui:loading:hide")};c.trigger("ui:loading"),u(s()).then((function(s){var c=n(408).loadAllAccounts;d(),e(),a.getUserData().loadSuccess(s),a.getUserCommonData().saveShowTooltipStatus(!0),u(l("createdNewAccountTypeStatus",!0)),u(c()).then((function(){return o.saxoFlowPopup(r,t,i)}))})).catch((function(){d(),c.trigger("ui:message-box",{parent:document.body,text:__("server.request.generic.error.body",__("link.contact_us"))})}))},saxoRegistration:function(e,t){c.trigger("ui:registration",{isBonus:!0,onFinish:e,onAbort:t,accountInstrumentType:g.SHARE_DEALING})},saxoRegistrationNoBonus:function(e,t){c.trigger("ui:registration",{isBonus:!1,onFinish:e,onAbort:t,accountInstrumentType:g.SHARE_DEALING})},saxoNoDepositPopup:function(e,t){this.saxoFlowPopup({message:__("DMA.state.machine.confirmation.deposit.suggest")},e,t)},saxoVerifyPopup:function(e,t){this.saxoFlowPopup({title:__("verification_center.popup.documents.header"),message:__("DMA.verification_center.popup.verify.disclaimer"),textOK:__("verify_account.popup.button")},e,t)},saxoCardVerifyPopup:function(e,t){this.saxoFlowPopup({title:__("verification_center.popup.documents.header"),message:__("DMA.verification_center.popup.c_verify.disclaimer"),textOK:__("verify_account.popup.button")},e,t)},saxoVerifyInProgressPopup:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.noop,t=arguments[1];this.saxoFlowPopup({title:__("verification_center.popup.documents.header"),message:__("DMA.verification_center.popup.verify.in_progress"),textOK:__("ok")},e,t)},saxoVerificationPopup:function(e,t){c.trigger("ui:verification-center",{onClose:function(){return e(t)}})},saxoFlowPopup:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],i=arguments[2],r=n(314),o=r.getFirstSaxoId,s=n(408),a=s.setAccountExpanded,u=function(){c.trigger("ui:manage-accounts"),c.trigger("ui:message-box:react:close"),window.store.dispatch(a(o(store.getState()),!0)),v.result(e,"onLinkClick")},d=function(){v.result(e,"onOk"),t(i,e)};c.trigger("ui:message-box:react",{title:e.title||__("create_account.popup.success.title"),message:e.message||__("create_account.popup.success.message"),textOK:e.textOK||__("account.add_funds"),contentClassName:"text-center",onOK:d,style:"quant dma",footer:l.createElement("a",{onClick:u,className:"cursor--pointer"},e.linkText||__("account.view_account"))})}}}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(0),o=n(246),s=n(1),a=n(5),l=n(18);i.exports=l({displayName:"exports",getDefaultProps:function(){return{id:null,type:"default",icon:"",className:"",size:"sm",tag:"button",isDisabled:!1,tooltipAlign:"",tooltipText:"",source:"",onClick:function(){}}},onClick:function(e){s.isFunction(this.props.onClick)&&this.props.onClick(e);var t={direction:"buy",symbolOrId:this.props.id,quantity:null,type:!1,tp:!1,sl:!1,source:this.props.source};a.trigger("ui:new-position",t)},render:function(){return r.createElement(o,{type:this.props.type,icon:this.props.icon,className:this.props.className+" btn-buy",size:this.props.size,onClick:this.onClick,tag:this.props.tag,isDisabled:!this.props.model.status.isBuyTradable(),tooltipText:this.props.model.status.getBuyTradableMessage(),tooltipAlign:this.props.tooltipAlign},this.props.children)}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(0),o=n(246),s=n(1),a=n(5),l=n(18);i.exports=l({displayName:"exports",getDefaultProps:function(){return{id:null,type:"default",icon:"",className:"",size:"sm",tag:"button",isDisabled:!1,tooltipAlign:"",tooltipText:"",children:"actions.sell",onClick:function(){}}},onClick:function(e){s.isFunction(this.props.onClick)&&this.props.onClick(e);var t={direction:"sell",symbolOrId:this.props.id,quantity:null,type:!1,tp:!1,sl:!1,source:this.props.source};a.trigger("ui:new-position",t)},render:function(){return r.createElement(o,{type:this.props.type,icon:this.props.icon,className:this.props.className+" btn-sell",size:this.props.size,onClick:this.onClick,tag:this.props.tag,isDisabled:!this.props.model.status.isSellTradable(),tooltipText:this.props.model.status.getSellTradableMessage(),tooltipAlign:this.props.tooltipAlign},this.props.children)}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t){e.exports="<div class=floating-account-info-container> <div class=\"separator dots-separator\"></div> <table class=table> <thead> <tr> <td class=account-environment-separator colspan=3> <div class=environment-indicator> <span class=environment> <%=__( platformType != 'Live' ? 'accountInfo.demo.account' : 'accountInfo.live.account')%> </span> </div> </td> </tr> </thead> <tbody> <tr> <td class=account-info-title><%=__('accountInfo.cash')%>:</td> <td class=account-info-value> <span data-id=balance><%=balance%></span> </td> </tr> <tr> <td class=account-info-title> <%=__('accountInfo.equity')%>:</td> <td class=account-info-value> <span data-id=equity><%=equity%></span> </td> </tr> <tr> <td class=account-info-title><%=__('accountInfo.freeMargin')%>:</td> <td class=account-info-value> <span data-id=buyingPower><%=buyingPower%></span> </td> </tr> <tr> <td class=account-info-title><%=__('accountInfo.usedMargin')%>:</td> <td class=account-info-value> <span data-id=margin><%=marginUsed%></span> </td> </tr> <tr> <td class=\"account-info-title account-info-title-bold\"><%=__('accountInfo.pl')%></td> <td class=\"account-info-value pl_value <%= profitLossPositive ? 'pl_pos' : 'pl_neg' %>\"> <span data-id=profitLoss><%=profitLoss%></span> </td> </tr> </tbody> </table> <div class=\"fn-close icon-close-grey\"></div> </div>"},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(5),s=n(70),a=n(169),l=n(3),c=l.ERROR,u=l.SUCCESS,d=r.template(n(1662)),p=r.template(n(1663)),f=/^(0|[1-9]\d*)(\.|\.\d{1,2})?$/i,h=s.extend({name:"first-deposit-popup",events:function(){return r.extend({},r.result(s.prototype,"events"),{"click .fn-submit":"onSubmit","click .fn-cancel":"onClose"})},initialize:function(e){this.options=e,s.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:status",this.onStatusChange),o.trigger("ui:loading")},render:function(){return o.trigger("ui:loading:hide"),s.prototype.render.call(this),this.setContent(d()),this.$el.addClass("deposit-manual-popup").find(".content").html(p({userCurrencySymbol:this.model.getCurrencySymbol()})),this.initForm(),this},initForm:function(){this.form=new a({el:this.$el.find(".form")}),this.listenTo(this.form,"field:change:amount",this.onAmountChange),this.defineField()},defineField:function(){var e=this.form.field("amount"),t=this.model,n=this.getDefaultAmount(),i=t.getMinAmount(),r=t.getMaxAmount();e.value(n),e.setOptions({min:i,max:r}),e.setRules({min:[i,__("first_deposit.popup.amount.validate.range.min",i)],max:[r,__("first_deposit.popup.amount.validate.range.max",r)]})},onAmountChange:function(e){var t=e.value();t.length<=12&&f.test(t)?this.lastValidValue=t:(this.lastValidValue&&""!==t?this.lastValidValue:(this.lastValidValue="",0),""!==t&&e.value(this.lastValidValue))},onClose:function(){this.close({depositSelected:!1})},getDefaultAmount:function(){return this.model.get("selectedAmount")||this.model.getDefaultAmount()},onSubmit:function(){var e=Number(this.form.field("amount").value());this.form.submit()||(this.model.set({amount:e}),this.close({depositSelected:!0}),this.handleCallback("onSuccess"))},onStatusChange:function(){var e=this.model.get("status");return e===c?this.onClose():e===u?this.render():void 0},handleCallback:function(e){var t=this.options,n=r.isObject(t)&&t[e];r.isFunction(n)&&n()}});i.exports=h}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var o=n(1),s=n(136),a=n(5),l=n(32),c=n(6),u=n(3).DEPOSIT_STATUSES,d=n(9),p=n(102),f=o.template(n(1672)),h=s.extend({className:"first-deposit-bonus",name:"first-deposit-bonus",events:function(){return o.extend({},o.result(s.prototype,"events"),{"click .fn-amount":"selectAmount","click #deposit-without-bonus":"depositWithoutBonus"})},initialize:function(){s.prototype.initialize.apply(this,arguments),a.trigger("ui:loading"),this.render()},render:function(){s.prototype.render.apply(this),a.trigger("ui:loading:hide");var e=this.getBonusesForRender();this.setContent(f({bonuses:e,isPopular:this.isPopular,isBiggest:this.isBiggest,isMarketsX:c.isPromotionMarketsX()&&!p.FIRST_DEPOSIT_MADE()}));var t=c.getUserCommonData();c.isPromotionMarketsX()&&!p.FIRST_DEPOSIT_MADE()&&(this.$el.find("i.icon-close-blue").removeClass("icon-close-blue").addClass("icon-marketsX-close-"+t.getAppTheme()),this.$el.addClass("marketsX-popup-deposit"))},selectAmount:function(e){var t=Number(r(e.currentTarget).attr("data-value"));d.isManualDepositAmountNeeded()&&-1===t?this.model.set({selectedAmount:t,status:u.MANUAL_SELECT_AMOUNT,bonusApplied:!0}):this.model.set({selectedAmount:t,status:u.SELECTED,bonusApplied:!0}),this.close()},depositWithoutBonus:function(){this.model.set({selectedAmount:-1,status:u.SELECTED,bonusApplied:!1}),d.isManualDepositAmountNeeded()?this.model.set({selectedAmount:-1,status:u.MANUAL_SELECT_AMOUNT,bonusApplied:!1}):this.model.set({selectedAmount:-1,status:u.SELECTED,bonusApplied:!1}),this.close()},close:function(){a.trigger("ui:loading:hide"),s.prototype.close.call(this)},onPopupClose:function(){this.model.set("status",u.CANCELLED),s.prototype.onPopupClose.call(this)},isPopular:function(e){return"POPULAR"===e.type},isBiggest:function(e){return"BIGGEST"===e.type},getBonusesForRender:function(){var e=this,t=this.model.toJSON().all;if(!t||o.isEmpty(t))return[];var n=o.max(t,"bonus").bonus,i=c.isPromotionMarketsX();return o.map(t,(function(t){return o.extend({},t,{depositString:e.formatAmount(t.deposit),bonusString:e.formatAmount(t.bonus),emphasized:o.has(t,"emphasized")?t.emphasized:d.emphasizeBiggestBonusAmount()&&i&&t.bonus===n})}))},formatAmount:function(e){return""+this.model.get("accountCurrencySymbol")+l(e).format("0,0")}});i.exports=h}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(43),o=n(1),s=n(6);i.exports=r.extend({initialize:function(){o.isEmpty(this.get("currency"))&&this.set("currency",s.getUserCurrency()),this.set("accountCurrencySymbol",__currency(this.get("currency"))),this.loadFirstDepositAmountSizes()},loadFirstDepositAmountSizes:function(){this.set(s.getUserAwardsModel().getDepositBonus(this.get("currency")))}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var i=function(t,n,i){if(t&&t.scrollbar){var r=t.scrollbar,o=e(r.contentEl).find(n).get(0),s=e(o).find(i).get(0);o&&s&&r.setPosition(0,s.offsetTop+s.offsetHeight/2-r.containerEl.offsetHeight/2)}},r=function(t,n){var i=e(t).get(0),r=e(i).find(n).get(0);i&&r&&r.scrollIntoView()}}).call(this,n(12))},,,function(e,t,n){"use strict";n.r(t),n.d(t,"AdvancedCategoryInstrumentsMobile",(function(){return g}));n(603);var i=n(49),r=n(168),o=n(0),s=n.n(o),a=n(15),l=n.n(a),c=n(158),u=n(464),d=n(1),p=n.n(d),f=n(843),h=n(847),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l()(n),n.measurer=Object(i.createInstrumentListMeasurerWrapper)(n,{CellMeasurerCache:c.c}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),m(t,[{key:"componentWillUnmount",value:function(){this.measurer()}},{key:"componentWillUpdate",value:function(){this.measurer.resizeAll(!1)}},{key:"_rowRenderer",value:function(e){var t=e.index,n=e.parent,i=e.style,r=this.props,o=r.symbols,a=r.onRowClick,l=o[t];return s.a.createElement(c.b,{cache:this._cache,columnIndex:0,key:t,parent:n,rowIndex:t},s.a.createElement("div",{style:i},s.a.createElement(f.a,{key:l,symbol:l,index:t,measurer:this.measurer,onRowClick:a})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.symbols,i="list-"+t.path+"-"+t.totalPositionsCount+"-"+t.totalOrdersCount;return s.a.createElement("div",{className:"mobile-instruments-table instruments-table simple-instrument-list pane pane__sm-xfluid"},s.a.createElement("table",null,s.a.createElement("div",{className:"rows pane pane__xfluid pane__fluid pane__column"},s.a.createElement("div",{className:"pane__xfluid"},s.a.createElement(h.a,null)),s.a.createElement("div",{className:"flex pane__fluid"},s.a.createElement(c.a,null,(function(t){var r=t.height,o=t.width;return s.a.createElement(c.d,{ref:function(t){return e._list=t},key:i,height:r,"aria-label":"",rowCount:p.a.size(n),overscanRowCount:10,width:o,deferredMeasurementCache:e._cache,rowHeight:e._cache.rowHeight,rowRenderer:e._rowRenderer})}))))))}}]),t}(s.a.Component);t.default=Object(u.a)(Object(r.a)(g))},function(e,t,n){"use strict";n.r(t),n.d(t,"BasicCategoryInstrumentsMobile",(function(){return F}));var i=n(31),r=n(49),o=n(168),s=n(637),a=n(638),l=n(0),c=n.n(l),u=n(15),d=n.n(u),p=n(158),f=n(1),h=n.n(f),m=n(302),g=n(264),v=n(309),b=n(308),_=n(306),y=n(307),E=n(464),S=n(411),C=n(632),w=n(304),O=n(229),T=n(675),P=n(231),k=n(653),I=n(676),A=n(228),x=n(303),N=n(311),D=n(312),R=n(603),L=n(101),M=n(410),j=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var F=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={priceAlertsPopup:!1},d()(n),n.measurer=Object(r.createInstrumentListMeasurerWrapper)(n,{CellMeasurerCache:p.c}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),j(t,[{key:"componentWillUnmount",value:function(){this.measurer()}},{key:"componentWillUpdate",value:function(){this.measurer.resizeAll()}},{key:"openPriceAlertsPopup",value:function(e){this.setState({priceAlertsPopup:e})}},{key:"_rowRenderer",value:function(e){var t=this,n=e.index,r=(e.isScrolling,e.isVisible,e.key),o=e.parent,l=e.style,u=this.props.symbols[n],d=this.state.priceAlertsPopup;return c.a.createElement(p.b,{cache:this._cache,columnIndex:0,key:r,parent:o,rowIndex:n},d&&c.a.createElement(L.default,null,c.a.createElement(L.default.Nav,null,c.a.createElement(L.default.NavLeft,null,c.a.createElement("button",{onClick:function(){return t.openPriceAlertsPopup(!1)}},c.a.createElement("span",{className:"popup-mobile__nav-rotate"},c.a.createElement("i",{className:"icon-view-details"})),"  ",__("actions.back"))),c.a.createElement(L.default.NavCenter,null,c.a.createElement("div",null,__("tab.price_alerts")))),c.a.createElement(L.default.Body,{className:"popup-mobile__body pane pane__fluid"},c.a.createElement(M.default,{className:"pane pane__xfluid",onClose:function(){return t.openPriceAlertsPopup(!1)}}))),c.a.createElement("div",{style:l},c.a.createElement(D.a,{as:"tr",className:"row",symbol:u,onClick:function(e){return t.selectInstrument(e,u)}},c.a.createElement("td",{className:"cell-instrument-name-with-change instrument-name-with-change"},c.a.createElement(A.a,{as:"div",symbol:u,className:"name"}),c.a.createElement(N.a,{symbol:u,as:"div",className:"change flex flex-start"},c.a.createElement(x.a,{symbol:u}))),c.a.createElement("td",{className:"rate-with-button block cell-rate-with-button block"},c.a.createElement("div",null,c.a.createElement("div",{className:"rate"},c.a.createElement(_.a,{as:"div",symbol:u,className:"change"},c.a.createElement(b.a,{as:"span",symbol:u}))),c.a.createElement("div",{className:"button"},c.a.createElement(y.a,{onClick:function(e){return t.sell(e,u)},as:"button",symbol:u,className:"btn  btn-sell  btn-primary btn-xs"},__("actions.sell"))))),c.a.createElement("td",{className:"rate-with-button block cell-rate-with-button block"},c.a.createElement("div",null,c.a.createElement("div",{className:"rate"},c.a.createElement(g.a,{as:"div",symbol:u,className:"change"},c.a.createElement(m.a,{as:"span",symbol:u}))),c.a.createElement("div",{className:"button"},c.a.createElement(v.a,{onClick:function(e){return t.buy(e,u)},as:"button",symbol:u,className:"btn  btn-buy btn-primary btn-xs"},__("actions.buy"))))),c.a.createElement(i.default,{minWidth:1605},c.a.createElement("td",{className:"cell-range"},c.a.createElement(T.a,{symbol:u,as:"div"}))),c.a.createElement(i.default,{minWidth:885},c.a.createElement("td",{className:"sentiment-block"},c.a.createElement(I.a,{as:"div",symbol:u,"data-tooltip-align":"right","aria-label":__("sentiment.text")}))),c.a.createElement(i.default,{minWidth:1450},c.a.createElement("td",{className:"instrument-mini-chart"},c.a.createElement("div",{className:"instrument-mini-chart-cell"},c.a.createElement(k.a,{symbol:u,width:75})))),c.a.createElement("td",{className:"cell-actions actions"},c.a.createElement("div",{className:"actions"},c.a.createElement("div",{className:"btn btn-icon",onClick:function(e){return t.toggleFavorite(e,u)}},c.a.createElement(w.a,{symbol:u,as:"div",className:"",yes:"icon-star-filled",no:"icon-star"})),c.a.createElement(s.a,{as:"div",className:"btn btn-icon"},c.a.createElement(a.a,{symbol:u,as:"div",className:"",onClick:function(e,n,i){return t.openPriceAlerts(e,u,i)},openPriceAlertsPopup:this.openPriceAlertsPopup,yes:"icon-bell-filled",no:"icon-bell"})),c.a.createElement("div",{className:"btn btn-icon"},c.a.createElement("div",{className:"icon-instrument-info",onClick:function(e){return t.openInstrumentDetails(e,u)}}))))),c.a.createElement(P.a,{symbol:u,as:"tr",className:"row-expand"},c.a.createElement(C.default,{as:"td",colSpan:5,symbol:u,editPosition:this.editPosition,closePosition:this.closePosition,selectInstrument:this.selectInstrument}),c.a.createElement(S.default,{as:"td",colSpan:5,symbol:u,editOrder:this.editOrder,cancelOrder:this.cancelOrder,selectInstrument:this.selectInstrument}))))}},{key:"render",value:function(){var e=this,t=this.props,n=t.selectedSymbol,i=t.symbols,r="list-"+t.path+"-"+t.totalPositionsCount+"-"+t.totalOrdersCount,o=h.a.indexOf(i,n);return c.a.createElement("div",{className:"mobile-instruments-table instruments-table trading-tab "},c.a.createElement("table",null,c.a.createElement("div",{className:"rows pane pane__xfluid pane__fluid pane__column"},c.a.createElement("div",{className:"pane__xfluid"},c.a.createElement(R.a,null)),c.a.createElement("div",{className:"flex pane__fluid"},c.a.createElement(p.a,null,(function(t){var n=t.height,s=t.width;return c.a.createElement(p.d,{ref:function(t){return e._list=t},key:r,height:n,"aria-label":"",rowCount:h.a.size(i),overscanRowCount:10,width:s,rowHeight:e._cache.rowHeight,rowRenderer:e._rowRenderer,scrollToIndex:o})}))))))}}]),t}(O.a);t.default=Object(E.a)(Object(o.a)(F))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(18),s=n.n(o),a=n(4),l=n(16),c=n.n(l),u=n(33),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.a=Object(a.connect)((function(e,t){var n=t.positionCode,i=(t.as,e.positions.OPEN_POSITION[n]),r=i&&i.expirationDate||!1;return{value:r,shouldShowExpiration:!u.default.mobile()&&r}}))(s()({render:function(){var e=this.props,t=e.value,n=e.as,i=e.shouldShowExpiration,o=(e.dispatch,e.positionCode,e.children,e.before),s=e.after,a=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["value","as","shouldShowExpiration","dispatch","positionCode","children","before","after"]);return i&&!1!==t?r.a.createElement(n||"span",d({},a),o,c()(t).utc().format("DD/MM/YYYY HH:mm"),s):null}}))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(18),s=n.n(o),a=n(4),l=n(32),c=n.n(l),u=n(9),d=n.n(u),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.a=Object(a.connect)((function(e,t){var n=t.positionCode,i=(t.as,e.positions.OPEN_POSITION[n]);return{value:i&&i._priceChange||!1,enabled:d.a.isOpenPositionChangePriceEnabled()}}))(s()({render:function(){var e=this.props,t=e.value,n=e.as,i=e.enabled,o=(e.dispatch,e.positionCode,e.children,e.before),s=e.after,a=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["value","as","enabled","dispatch","positionCode","children","before","after"]);return i&&!1!==t?r.a.createElement(n||"span",p({},a),o,c()(t).format("0,0.00%"),s):null}}))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),s=n(19);t.a=Object(o.connect)((function(e,t){var n=t.symbol,i=t.as,r=void 0===i?"span":i,o=Object(s.getInstrumentPrecision)(e,n);return{dayHigh:Object(s.getInstrumentDayHigh)(e,n),dayLow:Object(s.getInstrumentDayLow)(e,n),precision:o,as:r}}))((function(e){e.dispatch,e.symbol;var t=e.dayHigh,n=e.dayLow,i=e.precision,o=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["dispatch","symbol","dayHigh","dayLow","precision"]);return null===t||null===n?null:r.a.createElement(o.as,o,Number(n).toFixed(i)+" - "+Number(t).toFixed(i))}))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),s=n(7),a=n.n(s),l=n(19),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.a=Object(o.connect)((function(e,t){var n=t.symbol,i=t.as,r=void 0===i?"div":i;return{longs:Object(l.getInstrumentSentimentLongs)(e,n),shorts:Object(l.getInstrumentSentimentShorts)(e,n),as:r}}))((function(e){e.dispatch;var t=e.className,n=e.longs,i=e.shorts,o=(e.symbol,function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["dispatch","className","longs","shorts","symbol"]));if(null===n||null===i)return null;var s,l,u,d=a()((u=!!t,(l=t)in(s={sentiment:!0})?Object.defineProperty(s,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):s[l]=u,s));return r.a.createElement(o.as,c({},o,{className:d}),r.a.createElement("div",{className:"sellers"},i,"%"),r.a.createElement("div",{className:"bar"},r.a.createElement("i",{style:{width:i+"%"}}),r.a.createElement("b",{style:{width:n+"%"}})),r.a.createElement("div",{className:"buyers"},n,"%"))}))},function(e,t,n){"use strict";var i=n(3),r=n(0),o=n.n(r),s=n(15),a=n.n(s),l=n(1),c=n.n(l),u=n(4),d=n(123),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var f=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={status:i.EMPTY,statusOfScoreTypes:i.IN_PROCESS,statusOfUniverse:i.IN_PROCESS},a()(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),p(t,[{key:"componentDidMount",value:function(){this._mounted=!0,this.props.loadScoreTypes().then(c.a.callIf(this.onLoadScoreTypesSuccess,this.mounted)).catch(c.a.callIf(this.onError,this.mounted)),this.props.loadUniverse().then(c.a.callIf(this.onLoadUniverseSuccess,this.mounted)).catch(c.a.callIf(this.onError,this.mounted))}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"onLoadScoreTypesSuccess",value:function(e){var t=e.data;this.setState({statusOfScoreTypes:t?i.SUCCESS:i.ERROR})}},{key:"onLoadUniverseSuccess",value:function(e){var t=e.data;this.setState({statusOfUniverse:t?i.SUCCESS:i.ERROR})}},{key:"onError",value:function(){this.setState({status:i.ERROR})}},{key:"mounted",value:function(){return this._mounted}},{key:"render",value:function(){var e=this.state,t=e.status,n=e.statusOfScoreTypes,r=e.statusOfUniverse,s=this.props,a=s.errorComponent,l=s.successComponent,u=s.loaderComponent,d=s.children,p=s.data;return t===i.ERROR||r===i.ERROR||n===i.ERROR?a||null:r!==i.SUCCESS||n!==i.SUCCESS?u||null:l?o.a.createElement(l,{data:p}):c.a.isFunction(d)?d(p):d}}]),t}(r.PureComponent);f.defaultProps={successComponent:null,loaderComponent:null},t.a=Object(u.connect)(null,(function(e){return{loadScoreTypes:function(){return e(Object(d.l)())},loadUniverse:function(){return e(Object(d.h)())}}}))(f)},,function(e,t,n){"use strict";var i=n(13),r=n(0),o=n.n(r),s=n(1),a=n.n(s),l=n(41),c=n(4),u=n(51),d=n(7),p=n.n(d),f=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var m=function(e,t){return[t&&a.a.findWhere(e,{markValue:t[0]}),t&&a.a.findWhere(e,{markValue:t[1]})]},g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),h(t,[{key:"render",value:function(){var e=this.props,t=e.compact,n=e.signals,i=e.sectors,r=e.marketCap,s=e.dailyVolumes,l=e.peRatios,c=e.betas,d=e.timeHorizons,h=e.longPositionFactors,g=e.selectedSectors,v=e.selectedMarketCap,b=e.selectedDailyVolume,_=e.selectedPeRatio,y=e.selectedBeta,E=e.selectedTimeHorizon,S=e.selectedLongPositionFactor,C=e.selectedSignals,w=e.shouldFindSignalNames,O=this.props,T=O.universeTypes,P=O.selectedUniverseTypeID,k=a.a.findWhere(T,{value:P}),I=a.a.filter(i,(function(e){return a.a.contains(g,e.value)})),A=E&&a.a.findWhere(d,{value:E}),x=S&&a.a.findWhere(h,{value:S}),N=m(r,v),D=f(N,2),R=D[0],L=D[1],M=m(s,b),j=f(M,2),F=j[0],B=j[1],U=m(l,_),V=f(U,2),z=V[0],q=V[1],H=m(c,y),$=f(H,2),G=$[0],W=$[1],Y=C&&(w?Object(u.d)(C,n):Object(u.l)(C)),K=a.a.isEmpty(Y);return o.a.createElement("div",{className:p()({"portfolio__backtest_wrapper portfolio__backtest_history":!0,compact:t})},o.a.createElement("div",{className:"portfolio__backtest_wrapper-header"},o.a.createElement("div",{className:"pane pane--space-between"},o.a.createElement("div",{className:"pane--center"},__("portfolio.backtest.history.title")))),o.a.createElement("div",{className:"portfolio__backtest_wrapper-content pane"},o.a.createElement("div",{className:"wrapper-panel pane pane__fluid"},o.a.createElement("div",{className:"pane pane__fluid pane__column"},o.a.createElement("div",{className:"portfolio__backtest_history-title"},__("portfolio.details.index.title")),o.a.createElement("ul",{className:"unstyled-list"},k&&o.a.createElement("li",null,k.label),a.a.map(I,(function(e){return o.a.createElement("li",{key:e.value},e.label)})),R&&L&&o.a.createElement("li",null,__("portfolio.details.index.mcap"),": ",R.label," - ",L.label),F&&B&&o.a.createElement("li",null,__("portfolio.details.index.adv"),": ",F.label," - ",B.label),z&&q&&o.a.createElement("li",null,__("portfolio.details.index.peratio"),": ",z.label," - ",q.label),G&&W&&o.a.createElement("li",null,__("portfolio.details.index.beta"),": ",G.label," - ",W.label))),o.a.createElement("div",{className:"pane pane__fluid pane__column"},o.a.createElement("div",{className:"portfolio__backtest_history-title"},__("portfolio.details.strategy.title")),o.a.createElement("ul",{className:"unstyled-list"},A&&o.a.createElement("li",null,A.label),x&&o.a.createElement("li",null,__("portfolio.shares"),": ",x.label))),!K&&o.a.createElement("div",{className:"pane pane__fluid pane__column"},o.a.createElement("div",{className:"portfolio__backtest_history-title"},__("portfolio.details.signals.title")),o.a.createElement("ul",{className:"unstyled-list"},a.a.map(Y,(function(e,t){return o.a.createElement("li",{key:t},__("portfolio.signal.score."+e.scoreName))})))))))}}]),t}(o.a.PureComponent);g.defaultProps={sectors:null,marketCap:null,dailyVolumes:null,peRatios:null,betas:null,selectedSectors:null,selectedMarketCap:null,selectedDailyVolume:null,selectedPeRatio:null,selectedBeta:null,selectedTimeHorizon:null,selectedLongPositionFactor:null,timeHorizons:i.K,longPositionFactors:i.s,shouldFindSignalNames:!1},t.a=Object(c.connect)((function(e){return{signals:Object(l.D)(e),universeTypes:Object(l.W)(e),sectors:Object(l.H)(e),marketCap:Object(l.u)(e),dailyVolumes:Object(l.f)(e),peRatios:Object(l.v)(e),betas:Object(l.b)(e)}}))(g)},function(e,t,n){"use strict";var i=n(16),r=n.n(i),o=(n(0),n(4)),s=n(41);var a=function(e){var t=e.meta,n=e.empty,i=e.format;return t?r()(t.nextRebalanceDate).format(i):n};a.defaultProps={meta:null,empty:"",format:"DD/MM/YYYY"},t.a=Object(o.connect)((function(e,t){var n=t.portfolio;return{meta:n&&Object(s.z)(e,n.portfolioProviderId)}}))(a)},function(e,t,n){"use strict";var i=n(41),r=(n(0),n(4));var o=function(e){var t=e.meta,n=e.empty;return t?t.positionTypeName:n};o.defaultProps={meta:null,empty:""},t.a=Object(r.connect)((function(e,t){var n=t.portfolio;return{meta:n&&Object(i.z)(e,n.portfolioProviderId)}}))(o)},function(e,t,n){"use strict";(function(e){var i=n(13),r=n(0),o=n.n(r),s=n(32),a=n.n(s),l=n(4),c=n(41),u=n(7),d=n.n(u);var p=function(t){var n=t.meta,r=t.empty,s=t.format,l=n&&n.lastSevenDayReturn,c=e.isNil(l)?null:l*i.t;return o.a.createElement("div",{className:d()({change:!0,up:c>0,down:c<0,"text-muted":0===c})},null!==c?a()(c).format(s)+"%":r)};p.defaultProps={meta:null,empty:"",format:"0,0.[00]"},t.a=Object(l.connect)((function(e,t){var n=t.portfolio;return{meta:n&&Object(c.z)(e,n.portfolioProviderId)}}))(p)}).call(this,n(1))},function(e,t,n){"use strict";var i=n(16),r=n.n(i),o=(n(0),n(4)),s=n(41);var a=function(e){var t=e.meta,n=e.empty,i=e.format;return t?r()(t.lastRebalanceDate).format(i):n};a.defaultProps={meta:null,empty:"",format:"DD/MM/YYYY"},t.a=Object(o.connect)((function(e,t){var n=t.portfolio;return{meta:n&&Object(s.z)(e,n.portfolioProviderId)}}))(a)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return l}));var i=n(2),r=n(23),o=n(1),s=n.n(o),a=function(e){return e.priceAlerts},l=(Object(i.a)([a,r.a],(function(e,t){return e[t]})),Object(i.a)(a,(function(e){return s.a.chain(e).filter((function(e){return!!e})).reduce((function(e,t){return e+=t.length}),0).value()})))},,,,,,,,,,,,,,function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(266),o=n(5),s=n(58);n(1);i.exports={connect:function(e){window.plugins.googleplus.trySilentLogin({webClientId:window._app.settings.getSocialLoginGoogleClientId(),offline:!0},(function(e){r.makeExternalAuth(e.idToken,"google",s.registrationSource.GOOGLE_CONNECT).then((function(){return r.saveSelectedAuthMethod("google")})).then((function(){return o.trigger("login:external:success")}))}),(function(e){})),e[0].onclick=function(){window.plugins.googleplus.login({webClientId:window._app.settings.getSocialLoginGoogleClientId(),offline:!0},(function(e){r.makeExternalAuth(e.idToken,"google",s.registrationSource.GOOGLE_CONNECT).then((function(){return r.saveSelectedAuthMethod("google")})).then((function(){return o.trigger("login:external:success")}))}),(function(e){}))}},logout:function(){try{window.plugins.googleplus.logout((function(){}))}catch(e){}}}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var o=n(266),s=n(5),a=n(58),l=n(1),c=n(71).default;i.exports={connect:function(e){function t(){var e=l.template(n(242)),t=r(".form .error-block");t.html(e({errors:[[__("extrenal.auth.ff.incognito.warning")]]})),t.css("display","block")}e.on("click",(function(){if(!l.isNil(window.facebookConnectPlugin)){var e=["public_profile"];c.ios()&&e.push("email"),window.facebookConnectPlugin.login(e,(function(e){"connected"===e.status?o.makeExternalAuth(e.authResponse.accessToken,"facebook",a.registrationSource.FACEBOOK_CONNECT).then((function(){return o.saveSelectedAuthMethod("facebook")})).then((function(){return s.trigger("login:external:success")})):t()}),(function(e){t()}))}}))},logout:function(){l.isNil(window.facebookConnectPlugin)||window.facebookConnectPlugin.getLoginStatus((function(e){e&&"connected"===e.status&&window.facebookConnectPlugin.logout((function(){}))}))}}}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(266),o=n(5),s=n(58);i.exports={connect:function(e){o.onEvent("app:social:onetap:init:finish",(function(){window.googleyolo&&googleyolo.hint({supportedAuthMethods:["https://accounts.google.com"],supportedIdTokenProviders:[{uri:"https://accounts.google.com",clientId:window._app.settings.getSocialLoginGoogleClientId()}]}).then((function(e){var t=e.idToken;r.makeExternalAuth(t,"google",s.registrationSource.GOOGLE_ONE_TAP).then((function(){return r.saveSelectedAuthMethod("tap")})).then((function(){return o.trigger("login:external:success")}))}),(function(e){})).catch((function(e){}))}))},logout:function(){window.googleyolo&&googleyolo.disableAutoSignIn().then((function(){}))}}}.call(t,n,t,e))||(e.exports=i)},,function(e,t,n){var i;void 0===(i=function(e,t,n){n.exports={100:{id:100,localizationKey:"analyst_recommendations",isGroup:!0,children:[11,12,13]}}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){"use strict";n.r(t),n.d(t,"onLoadPriceAlertsSuccess",(function(){return r})),n.d(t,"addPriceAlerts",(function(){return o})),n.d(t,"updatePriceAlerts",(function(){return s})),n.d(t,"removePriceAlerts",(function(){return a}));var i=n(204);function r(e){return{type:i.c,payload:e}}function o(e){return{type:i.a,payload:e}}function s(e){return{type:i.d,payload:e}}function a(e){return{type:i.b,payload:e}}},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=(n(5),r.template(n(1338))),s=n(118),a=n(0),l=n(22),c=n(1344),u=s.extend({initialize:function(e){s.prototype.initialize.apply(this,arguments),this.onOK=e.onOK,this.render(),l.render(a.createElement(c,{onSubmit:this.onSubmit.bind(this),btnText:e.btnText,texts:e.texts}),this.$el.find(".marketsX-popup-confirm")[0])},render:function(){s.prototype.render.call(this),this.$el.find(".popup-content").addClass("marketsX-content"),this.setContent(o())},close:function(){this.unmount(),s.prototype.close.call(this)},onSubmit:function(){this.close(),this.onOK()},unmount:function(){l.unmountComponentAtNode(this.$el.find(".marketsX-popup-confirm")[0])}});i.exports=u}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},,function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(118),s=n(6),a=o.extend({getOptions:function(e){var t=this;return r.extend({},r.result(o.prototype,"getOptions"),{parent:document.body,confirmCaption:__("marketsX.popup.change_view.text.part1"),confirmMessage:__("marketsX.popup.change_view.text.part2"),confirmOKBtnText:__("yes"),confirmCancelBtnText:__("actions.close"),onOK:function(){return t.onSuccess()}},e)},initialize:function(e){o.prototype.initialize.apply(this,arguments),this.render(e),this.onSuccess=this.onSuccess.bind(this,e)},onSuccess:function(e){s.getUserCommonData().saveTradingViewMode("advanced").then(e.onSuccess).catch(e.onSuccess)}});i.exports=a}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(325),s=n.n(o),a=n(248),l=n(249),c=n(95),u=n(6),d=n.n(u);t.default=function(){var e=d.a.getUserCommonData(),t={dots:!0,autoplaySpeed:5e3,nextArrow:r.a.createElement(l.a,{icon:"icon-marketsX-popup-arrow-right-"+e.getAppTheme(),arrowClass:null}),prevArrow:r.a.createElement(a.a,{icon:"icon-marketsX-popup-arrow-left-"+e.getAppTheme(),arrowClass:null})};return r.a.createElement("div",{className:"marketsX-slider"},r.a.createElement(s.a,t,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(c.a,{icon:"icon-marketsX-popup-pricing"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.premiumPricing.title")),r.a.createElement("span",null,__("marketsX.popup.features.lists.premiumPricing.description")))),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(c.a,{icon:"icon-marketsX-popup-support"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.bespokeSupport.title")),r.a.createElement("span",null,__("marketsX.popup.features.lists.bespokeSupport.description")))),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(c.a,{icon:"icon-marketsX-popup-news"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.exclusiveTools.title")),r.a.createElement("span",null,__("marketsX.popup.features.lists.exclusiveTools.description")))),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(c.a,{icon:"icon-marketsX-popup-tools"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.marketsKnowledgeCentre.title")),r.a.createElement("span",null,__("marketsX.popup.features.lists.marketsKnowledgeCentre.description"))))))}},function(e,t,n){},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var i=n(19),r=n(251),o=n(343),s=n(476),a=n(3);function l(){return function(t,n){var l=Object(i.getInstrumentSymbolMap)(n());return Object(s.i)(n())!==a.SUCCESS?t({types:[r.a,r.c,r.b],callApi:function(){return o.a.loadAnalyticsRecommendations().then((function(t){var n=t.data||{};return n.recommendations=e.filter(n.recommendations,(function(e){return!!l[e.symbol]})),{data:n}}))}}):Promise.resolve()}}}).call(this,n(1))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var i=n(19),r=n(477),o=n(252),s=n(478),a=n(3),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function c(){return function(t,n){var c=Object(i.getInstrumentSymbolMap)(n());return Object(s.d)(n())!==a.SUCCESS?t({types:[o.a,o.c,o.b],callApi:function(){return r.a.loadBloggers().then((function(t){var n=t.data||{},i=e.filter(n.stocks,(function(e,t){return!!c[t.symbol]}));return{data:l({},n,{stocks:i})}}))}}):Promise.resolve()}}}).call(this,n(1))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o}));var i="instruments/LOAD_ANALYST_RESEARCH_REPORT",r="instruments/LOAD_ANALYST_RESEARCH_REPORT_SUCCESS",o="instruments/LOAD_ANALYST_RESEARCH_REPORT_ERROR"},function(e,t,n){(function(i){var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};void 0===(r=function(e,t,i){var r=n(1);i.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={capture:!0},n={},i=!1;function s(){i=!0;var e=document.body.style;this.oldPointerEventsStyle=e["pointer-events"],e["pointer-events"]="none"}function a(){i=!1,document.body.style["pointer-events"]=this.oldPointerEventsStyle,r.isFunction(e.onEnd)&&e.onEnd(n)}function l(t){t.stopPropagation(),n.endY=t.screenY,n.endX=t.screenX,n.distanceY=n.startY-n.endY,n.distanceX=n.startX-n.endX,n.dirX=n.distanceX-n.prevDistanceX,n.dirY=n.distanceY-n.prevDistanceY,n.prevDistanceX=n.distanceX,n.prevDistanceY=n.distanceY,r.isFunction(e.onDrag)&&e.onDrag(n)}function c(e){a(),document.removeEventListener("mouseup",c,t),document.removeEventListener("mousemove",l,t),e.stopPropagation()}function u(e){s(),document.addEventListener("mouseup",c,t),document.addEventListener("mousemove",l,t),e.preventDefault(),e.stopPropagation()}return{start:function(t){u(t);var i=r.isFunction(e.onStart)?e.onStart(n):n,s={startY:t.screenY,startX:t.screenX,prevDistanceX:0,prevDistanceY:0};n=o({},s,i)},isStarted:function(){return i}}}}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(211),s={checked:!1,template:r.template(n(1399)),disable:!1,onText:"",offText:"",title:"",name:r.uniqueId("unknown-checkbox-")};i.exports=o.extend({initialize:function(e){e=r.extend({},r.extend({},s),e),o.prototype.initialize.apply(this,arguments)},getHtmlTemplate:function(){var e=r.extend({},this.options);return e.template?e.template(r.pick(e,["name","disable","checked","onText","offText","title"])):""}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(162),o=n(1),s=r.extend({events:function(){return o.extend({},o.result(r.prototype,"events"),{"mousedown .actions .action-plus":"onPlus","mouseup .actions .action-plus":"onStop","mouseout .actions .action-plus":"onStop","mousedown .actions .action-minus":"onMinus","mouseup .actions .action-minus":"onStop","mouseout .actions .action-minus":"onStop","input .input input":"onInputChange"})},initialize:function(e){r.prototype.initialize.apply(this,arguments),this.setOptions({maxSymbolInField:9}),this.setName(this.$el.find("input").attr("name")),this.$input=this.$el.find(".input > input"),this.$input[0].onfocus=this.onFocus.bind(this),this.options.spead=125},disable:function(){return this.setState({disabled:!0,pristine:!0,prevValue:null,minusDisabled:!1,plusDisabled:!1}),this},onDependentFieldChanged:function(e){e.value()?this.enable():this.disable()},update:function(){this.state.disabled?this.disableElement():this.enableElement(),this.state.plusDisabled?(this.$el.find(".actions .action-plus").attr("disabled",!0),this.options.repeat&&this.onStop()):this.$el.find(".actions .action-plus").removeAttr("disabled"),this.state.minusDisabled?(this.$el.find(".actions .action-minus").attr("disabled",!0),this.options.repeat&&this.onStop()):this.$el.find(".actions .action-minus").removeAttr("disabled")},onPlus:function(e){var t=this,n=function(){var e=parseFloat(t.value()),n=t.options.max;o.isNaN(e)&&(e=0),e+=t.options.step,o.isNumber(n)&&e>n&&(e=n),e=Number(e).toFixed(t.options.precision),t.value(e),t.validateButtons(),t.validate(),t.trigger("change",t)};this.options.repeat&&this.onStop(),this.setState({pristine:!1}),this.state.plusDisabled||this.isDisabled()||(n(),t.options.repeat=setInterval(n,t.options.spead))},onMinus:function(e){var t=this,n=function(){var e=parseFloat(t.value()),n=t.options.min;o.isNaN(e)||(e-=t.options.step,o.isNumber(n)&&e<n&&(e=n),e=Number(e).toFixed(t.options.precision),t.value(e),t.validateButtons(),t.validate(),t.trigger("change",t))};this.options.repeat&&this.onStop(),this.setState({pristine:!1}),this.state.minusDisabled||this.isDisabled()||(n(),t.options.repeat=setInterval(n,t.options.spead))},onStop:function(){clearTimeout(this.options.repeat)},onFocus:function(e){return this.setState({pristine:!1}),this.trigger("focus",this),this},validateButtons:function(){var e=parseFloat(this.value());o.isNumber(this.options.max)&&e>=this.options.max?this.setState({plusDisabled:!0}):this.setState({plusDisabled:!1}),o.isNumber(this.options.min)&&e<=this.options.min?this.setState({minusDisabled:!0}):this.setState({minusDisabled:!1})},disableElement:function(){this.$el.addClass("field-disabled"),this.$el.find("input").attr("disabled",!0),this.$el.find(".actions .action-plus").attr("disabled",!0),this.$el.find(".actions .action-minus").attr("disabled",!0),this.hideTooltip()},enableElement:function(){this.$el.removeClass("field-disabled"),this.$el.find("input").removeAttr("disabled")},onInputChange:function(){var e=this.value(),t=this.$el.find("input")[0].selectionStart;e=this.filter(this.options.filter,e),o.isNumber(this.options.max)&&e>this.options.max?this.value(this.options.max):this.value(e),this.changeQuantitySymbols(t),this.validate(),this.validateButtons(),this.trigger("change",this)},getDefaultOptions:function(){return{min:null,max:null,step:1,precision:0,filter:"number"}},changeQuantitySymbols:function(e){var t=this.value(),n=this.$el.find("input")[0];if(t){if("."!==t.charAt(t.length-1)){var i=t.toString().split("."),r=this.getOption("maxSymbolInField");i[0].length>r&&(i[0]=i[0].substring(0,r-1)+i[0].charAt(r)),i[1]&&i[1].length>this.options.precision&&(i[1]=i[1].substring(0,this.options.precision)),t=(i[1]?Number(i.join(".")):Number(i[0])).toFixed(this.options.precision),this.value(t),Number(i[0]).toString().length<i[0].length&&i[0].length===e&&(e=Number(i[0]).toString().length),this.setCaretPosition(n,e)}}else this.value(Number(0).toFixed(this.options.precision))},setCaretPosition:function(e,t){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,t);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}},value:function(e){var t=this.$el.find("input");if(void 0===e)return t.val();o.isNaN(Number(e))?t.val(this.options.prevValue):(this.options.prevValue=e,t.val(e))}});i.exports=s}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,o){var s=n(422),a=n(176),l=n(83).insertAt,c=s.extend({events:function(){return i.extend({},i.result(s.prototype,"events"),{"click .dk-option":"onChangeList"})},initialize:function(){this.$input=this.$el.find("input"),this.$select=this.$el.find("select"),s.prototype.initialize.apply(this,arguments),this.$input[0].onfocus=this.onFocus.bind(this),this.$input[0].onblur=this.onBlur.bind(this),i.isEmpty(this.phoneInput())&&(this.phoneInput(this.getDefaultValue().input),this.phoneSelect(this.getDefaultValue().select))},getDefaultOptions:function(){return i.extend({},i.result(s.prototype,"getDefaultOptions"),{filterFunction:function(e,t){return e.find(".select-country")[0].textContent.toLowerCase().trim().startsWith(t)||e.find(".select-code")[0].textContent.toLowerCase().trim().startsWith(t)},getValueFunction:function(e){return'<span class="'+e.find("span:first-child").attr("class")+'"></span>'+e.find(".select-code").html()}})},phoneInput:function(e){return i.isUndefined(e)?this.$el.find("input").val():this.$el.find("input").val(e.replace("-",""))},phoneSelect:function(e){return i.isUndefined(e)?this.$el.find("select").val():this.$el.find("select").val(e)},validate:function(){var e=this.getFilters(),t=this.getRules(),n=new a(e,t),i={phone:this.phoneSelect()+this.phoneInput(),phoneSelect:this.phoneSelect(),phoneInput:this.phoneInput()};this.hideTooltip(),this.setDefaultState();var r=n.validate(i);return!1!==r&&this.fieldError(r),r},value:function(){return this.phoneSelect()+"-"+l(this.phoneInput(),2,"-")},onFocus:function(e){this.$el.removeClass("field-error"),this.hideTooltip()},onBlur:function(e){this.validate()?(this.$el.addClass("field-error"),this.showTooltip()):this.fieldVerified()},getDefaultValue:function(){return{input:this.$input.attr("default-value"),select:this.$select.attr("default-value")}},onChangeList:function(e){var t="SPAN"===e.target.nodeName?r(e.target.parentNode):r(e.target),n=this.$el.find(".dk-select");n.removeClass("dk-select-open-down").find(".dk-select-options").attr("aria-expanded",!1),n.find(".dk-selected").html(this.options.getValueFunction(t))[0].focus(),this.options.setValueFunction(n,t.attr("data-value")),this.fireChangeEvent(),this.executeCustomOnChange(e)}});o.exports=c}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,r){var o=n(162),s=n(12),a=o.extend({events:function(){return i.extend({},i.result(o.prototype,"events"),{"change input":"onChange"})},initialize:function(){o.prototype.initialize.apply(this,arguments),this.setName(this.$el.attr("name"));var e=this.getDefaultValue();e&&this.setChecked(e)},value:function(e){return e?(this.$("input[type=radio]").removeAttr("checked"),this.$("input.base").attr("checked","checked"),this.clear(),void this.setChecked(e)):this.getChecked()},clear:function(){i.find(this.$el.find("input[type=radio]"),(function(e){return e.checked=!1}))},getDefaultValue:function(){return this.$el.find(".radio-group-row").attr("default-value")},getChecked:function(){var e=i.find(this.$el.find("input[type=radio]"),(function(e){return e.checked}));return e?e.value:null},setChecked:function(e){var t=i.find(this.$el.find("input[type=radio]"),(function(t){return t.value===(i.isArray(e)?e[0]:e)}));t&&(t.checked=!0)},findByValue:function(e){return i.filter(this.$el.find("input[type=radio]"),(function(t){return t.value===e}))},findAll:function(){return this.$el.find("input[type=radio]")},enableByValue:function(e){i.each(this.findByValue(e),this.enableRadioElement,this)},disableByValue:function(e){i.each(this.findByValue(e),this.disableRadioElement,this)},enableAll:function(){i.each(this.findAll(),this.enableRadioElement,this)},disableAll:function(){i.each(this.findAll(),this.disableRadioElement,this)},disableRadioElement:function(e){s(e).attr("disabled",!0),s(e).parent().addClass("disabled")},enableRadioElement:function(e){s(e).removeAttr("disabled"),s(e).parent().removeClass("disabled")},getHtmlTemplate:function(){var e=this.options.template;return e?e(i.pick(this.options,["disable","name","tooltip","label","items"])):""}});r.exports=a}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){var i;void 0===(i=function(e,t,n){n.exports={EMPTY:"EMPTY",SUBSCRIBE_FEED:"SUBSCRIBE_FEED",SUBSCRIBE_FEED_SUCCESS:"SUBSCRIBE_FEED_SUCCESS",SUBSCRIBE_FEED_ERROR:"SUBSCRIBE_FEED_ERROR",SUBSCRIBE_FEED_PENDING:"SUBSCRIBE_FEED_PENDING",WS_FEED_RECEIVED:"WS_FEED_RECEIVED",SUBSCRIBE_FEED_TIMEOUT:"SUBSCRIBE_FEED_TIMEOUT"}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var i=n(1),r=n.n(i),o=n(361),s=n(3),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={};function u(e,t){return e+"_"+t}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1],n=t.type,i=t.payload;switch(n){case o.a:var d=u(i.symbol,i.term);return a({},e,l({},d,a({},e[d],{status:s.LOADING})));case o.c:var p=u(i.symbol,i.term);return r.a.omit(e,p);case o.d:var f=u(i.symbol,i.term);return a({},e,l({},f,a({},e[f],{data:i,status:s.SUCCESS})));case o.e:return a({},e);case o.b:var h=u(i.symbol,i.term);return a({},e,l({},h,a({},e[h],{status:s.ERROR})));default:return e}}},function(e,t,n){"use strict";n.r(t),n.d(t,"setDeepLinks",(function(){return r})),n.d(t,"updateDeepLinks",(function(){return o})),n.d(t,"clearDeepLinks",(function(){return s})),n.d(t,"clearDeepLinkParam",(function(){return a}));var i=n(206);function r(e){return{type:i.c,payload:e}}function o(e){return{type:i.d,payload:e}}function s(){return{type:i.a,payload:null}}function a(e){return{type:i.b,payload:e}}},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(5),s=n(8),a=n(43),l=n(71).default,c=n(9),u=n(178),d=n(1423),p=n(1425),f=n(1428),h=n(54),m=n(6),g=n(1429).LoginMessageType,v=n(571).LoginMessageActionType,b=n(3).FIRST_TIME_LOADING_STORAGE_KEY,_=a.extend({initialize:function(){this.setDisplayed(!1),this.listenTo(o,"user:login",this.onUserLogin)},onUserLogin:function(){c.isInternalCampaignMessageEnabled()&&!u.isDetected()&&this.isFirstTimeLoading()&&(this.applicationLoaded(),this.load())},isFirstTimeLoading:function(){var e=localStorage.getItem(b);return r.isUndefined(e)||r.isNull(e)},applicationLoaded:function(){localStorage.setItem(b,r.now())},load:function(){return s.loadLoginMessages(h.getCurrentLanguage(),l.mobile()?"indigo_mobile":"indigo_web",m.getUserCommonData().isFirstLogin()).then(this.loadLoginMessagesSuccess.bind(this))},loadLoginMessagesSuccess:function(e){var t=this,n=e.data;r.isEmpty(n)||(n.forEach((function(e){t.isActionUseless(e)||t.setMessage(e)})),this.display())},display:function(){this.hasMessage(g.TEXT)&&(this.viewBanner=new f({model:this,message:this.getMessage(g.TEXT)})),this.hasMessage(g.IMAGE)?this.view=new d({model:this,message:this.getMessage(g.IMAGE)}):this.hasMessage(g.HTML_PAGE)&&(this.view=new p({model:this,message:this.getMessage(g.HTML_PAGE)}))},isActionUseless:function(e){return c.isLive()&&e.type===v.SWITCH_ACCOUNT_TYPE_LIVE||c.isDemo()&&e.type===v.SWITCH_ACCOUNT_TYPE_DEMO},getMessage:function(e){return this.get("message_"+e)},setMessage:function(e){this.set("message_"+e.campaignContentType,e)},hasMessage:function(e){var t=this.getMessage(e);return!r.isEmpty(t)&&t.campaignContentType===e},hasPopupMessage:function(){return this.hasMessage(g.IMAGE)||this.hasMessage(g.HTML_PAGE)},isNotDisplayed:function(){return!this.get("displayed")},setDisplayed:function(e){this.set("displayed",e)},needShowLoginMessage:function(){return this.isNotDisplayed()&&this.hasPopupMessage()},interactEvent:function(e,t){return s.loginMessageInteract(e,t)}});i.exports=new _}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){var i;void 0===(i=function(e,t,i){n(1);var r=n(5),o=n(70);i.exports=o.extend({popup_z_index:7005,_tabsInitialized:!1,initialize:function(e){o.prototype.initialize.apply(this,arguments),this.message=e.message,this.listenTo(r,"popup:stack:added",this.onPopupAdded),this.listenToOnce(r,"app:ready",function(){10===this.message.priority&&this.displayOnce(),this.listenTo(r,"router:change:tab",this.onTabChanged)}.bind(this)),this.listenToOnce(r,"login:message:show",this.startDelayedDisplayTimer)},displayOnce:function(){this.preRender(),this.canceled=!0,this.stopDelayedDisplayTimer()},startDelayedDisplayTimer:function(){this.canceled||(this.delayedDisplayTimer=setTimeout(this.preRender.bind(this),Math.max(0,this.message.delayedDisplay)))},onPopupAdded:function(e){e.ignorableByLoginMessage||this.cancelLoginMessage()},onTabChanged:function(){this._tabsInitialized?this.cancelLoginMessage():this._tabsInitialized=!0},cancelLoginMessage:function(){this.canceled=!0,this.stopDelayedDisplayTimer(),this.destroy()},stopDelayedDisplayTimer:function(){void 0!==this.delayedDisplayTimer&&(clearTimeout(this.delayedDisplayTimer),this.delayedDisplayTimer=void 0)},setDisplayed:function(){this.model.setDisplayed(!0)}})}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var r=n(20),o=n(12),s=n(1),a=n(169),l=n(523),c=s.template(n(1441)),u=n(315),d=["OPEN","CLOSE","LOW","HIGH","VOLUME"];i.exports=r.extend({events:function(){return s.extend({},s.result(r.prototype,"events"),{"click .fn-add-indicator":"addSettings","click .fn-remove-indicator":"removeSettings","click .fn-restore-indicator":"restoreDefaults","click .fn-collapse-indicator":"toggleCollapseSettings"})},className:"indicator-info-view",colorPickers:[],initialize:function(e){var t=e.parent,n=e.indicator,i=e.defaultIndicator;r.prototype.initialize.apply(this,arguments),this.parent=t,this.indicator=n,this.defaultIndicator=u(i),this.states=s.map(n,(function(){return!1}))},restoreDefaults:function(e){s.extend(this.indicator[e.currentTarget.dataset.index],u(this.defaultIndicator)),this.render()},isFull:function(){return this.indicator.length>=5},addSettings:function(){this.isFull()||(this.indicator.push(u(this.defaultIndicator)),this.states.push(!0),this.options.onAdd(this.indicator.length),this.render(!0))},removeSettings:function(e){this.indicator.splice(+e.currentTarget.dataset.index,1),this.states.splice(+e.currentTarget.dataset.index,1),this.options.onRemove(this.indicator.length),this.render()},toggleCollapseSettings:function(e){var t=o(e.currentTarget);t.toggleClass("collapsed");var n=o(t.closest(".indicator-settings-item"));n.toggleClass("active"),this.states[+e.currentTarget.dataset.index]=n.hasClass("active")},_initForm:function(){this.form=new a({el:this.$el.find(".form")}),s.each(this.form._fields,(function(e){switch(e.$el.data().type){case"PERIOD_TYPE":e.setOptions({step:1,min:0,max:1e3});break;case"INTEGER_TYPE":e.setOptions({step:1,min:-1e3,max:1e3});break;case"DOUBLE_TYPE":e.setOptions({step:.1,min:-1e3,max:1e3,precision:1});break;case"PRICE_FIELD_TYPE":break;case"LINEAR_TYPE":e.setOptions({step:1,min:1,max:5});break;default:e.setOptions({step:1,min:1,max:5})}this.listenTo(this.form,"field:change:"+e.getName(),this.onFieldChange)}),this),this._initColorPickers()},_initColorPickers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".field-color";this.colorPickers=[];var t=this.$el.find(e);s.each(t,(function(e){var t=new l({el:e,container:o("#indicator-info-container")});this.listenTo(t,"change",this.onFieldColorChange),this.colorPickers.push(t)}),this)},render:function(e){var t=this.$el.find(".indicator-settings-list")[0]?this.$el.find(".indicator-settings-list")[0].scrollTop:0;this.$el.html(c({indicators:this.indicator,hasSettings:this.indicator.length>1,priceOptions:d,localize:this._localize,isFull:this.isFull(),states:this.states})),o(this.parent).html(this.el),this.$el.find(".indicator-settings-list")[0].scrollTop=e?this.$el.find(".indicator-settings-list")[0].scrollHeight:t,this._initForm(),this._initScrollHandler()},_localize:function(e,t){e=e.toLowerCase();var n=__(e);return n===e?t:n},_initScrollHandler:function(){this._scrollHandlerWrapper=this._scrollHandler.bind(this),this.$el.find(".indicator-settings-list").on("scroll",this._scrollHandlerWrapper)},_destroyScrollHandler:function(){this.$el.find(".indicator-settings-list").off("scroll",this._scrollHandlerWrapper),this._scrollHandlerWrapper=null},_scrollHandler:function(){s.each(this.colorPickers,(function(e){return e.updatePosition()}))},onFieldChange:function(e){var t=e.$el.data();this.indicator[t.indicator][t.category][t.index][t.field]=e.value(),this.options.onChange()},onFieldColorChange:function(e){var t=e.$el.data();this.indicator[t.indicator].lines[t.line].colors[t.index]=e.value(),this.options.onChange()},destroy:function(){this._destroyScrollHandler(),r.prototype.destroy.call(this)}})}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=r.negate(r.isEmpty);function s(){this._queues={}}s.prototype._getSortedQueues=function(){return r.chain(this._queues).keys().sort((function(e,t){return parseInt(t)-parseInt(e)})).map((function(e){return this._queues[e]}),this).value()},s.prototype.push=function(e){this._queues[e.level]=this._queues[e.level]||[],this._queues[e.level].push(e)},s.prototype.pop=function(){var e=r.find(this._getSortedQueues(),o);if(!r.isEmpty(e))return e.shift()},s.prototype.removeById=function(e){e&&r.some(this._queues,(function(t){var n=r.findIndex(t,(function(t){return t._id===e}));return!(n<0)&&(t.splice(n,1),!0)}))},i.exports=s}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(1449),s=n(775),a=n(616),l=n(102),c=n(661),u=n(1451),d=n(5),p=n(6),f=n(9),h=n(73),m=n(33).default,g=n(27).getUserInstrumentType,v=null;function b(e){return o({emitter:d,events:e,conditions:l,handlers:r.extend({},c,u),onBanner:function(e){p.getUserAwardsModel().ready((function(t){var n=[],i=p.getUserCurrencySymbol();switch(e){case"R":n=[i,t.getFullRegistrationBonus(p.getUserCurrency())];break;case"DEPOSIT_BONUS":n=[i,t.getPopularDeposit(i),i,t.getPopularDepositBonus(i)];break;case"Q":n=[i,t.getQuizAsicBonus()];break;case"U":n=[i,t.getVerifiedIdBonus(i)+t.getVerifiedResidenceBonus(i)];break;case"dummy":return d.trigger("ui:banner-dummy")}var o="state.machine.action.banner.name."+e,s=g(window.store.getState())+"."+o,a=__default.apply(null,[s,o].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n)));d.trigger("ui:banner",a),function(e,t){if("U_NO_BONUS"!==t&&"U_IN_REVIEW"!==t&&"CC"!==t)return;m.mobile()&&!p.getUserCommonData().isAdvancedTradingView()&&p.updateUserPendingDeposit().then((function(){var t=p.getUserPendingDeposit();if(r.isNumber(t)&&t>0&&f.isLive()){var n=h(t).formatForeignCurrency(p.getUserCurrencySymbol());e=e+"</br>"+__("accountInfo.pendingDeposit")+": "+n,d.trigger("ui:banner",e)}}))}(a,e)}))}})}a.on("change:events",(function(e,t){try{v=b(s(t))}catch(e){}})),i.exports={event:function(e,t,n){v&&v.event(e,t,n)}}}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){var i;void 0===(i=function(e,t,n){var i="ID",r="SKIP",o="LBRA",s="RBRA",a="COLON",l="L_SQUARE_BRA",c="R_SQUARE_BRA",u="QUOTE",d="COMMA",p="COMMENT",f="EOL",h="PROGRAM",m="OBJECT",g="PROPERTY",v="PROPERTIES",b="KEY",_="V_LINE",y="ARRAY",E="STRING",S=null,C=[["\n",f],[/\w/,i],["{",o],["}",s],["[",l],["]",c],["'",u],[",",d],[".","DOT"],["/","SLASH"],["*","ASTERISK"],[":",a],["(","LPAR"],[")","RPAR"],["|",_],["#",p],[/\s/,r]],w=function(e,t,n){return{kind:e,value:t,payload:n}};function O(e){var t=0,n=function(){return t>=e.length},h=function(){return++t},m=function(){return e[t]},g=function(e){for(var t in C){var n=C[t][0];if(n instanceof RegExp&&n.test(e)||n==e)return C[t][1]}throw new Error("[StateManagerLexer] Syntax error. Unexpected symbol: "+e)},v=function(e){for(var t=m(),i="";!n()&&e==g(t);i+=t,h(),t=m());return i},b=function(e){for(var t=m(),i="";!n()&&e!=g(t);i+=t,h(),t=m());return i};return{token:function(){for(var e=S,t=S;!n();){var y=m(),E=g(y);switch(h(),E){case o:case s:e=E;break;case i:e=E,t=y+v(E);break;case d:case a:e=E;break;case p:e=E,t=y+b(f),h();break;case l:case c:e=E;break;case u:e=u,t=b(u),h();break;case _:e=_;break;case f:case r:continue}break}return!!e&&{type:e,value:t}},lastCodeSymbols:function(n){var i=t-n;return e.substr(i<0?0:i,n)}}}function T(e){var t="||",n=e.token(),r=function(){return n=e.token()};function f(e){return n.type==e&&(r(),!0)}function C(e){if(n.type!=i)return k("expected ID but found "+n.type+" in "+e);var t=w(b,n.value);return r(),t}function O(){return n.type!=u?k('expected "'):w(E,n.value)}function T(){var e=function(){var e=S;if([u,i].indexOf(n.type)<0)return k("expected <quote> or <alpha>");for(n.type==u&&(e=O().value,f(u));n.type===i;){var o=C(e).value;if(e=e===S?o:e+o,n.type===_){if(r(),!f(_)||n.type!=i)return k("bad OR("+t+") expression in "+(e+="|"+C(e).value));e+=t}}return w(b,e)}();try{var s=S;f(a),n.type==o&&(s=P()),n.type==l&&(s=function(){var e=[];if(n.type!=l)return k('expected "["');for(r();n&&n.type!=c;){if(n.type==u)e.push(O());else if(n.type!=d)return k("expected QUOTE or COMMA in array");r()}return n.type!=c?k('expected "]"'):w(y,e)}()),f(d),e.payload=s,r()}catch(t){throw new Error(t.message+"\n Block: "+e.value)}return w(g,e)}function P(){if(n.type!=o)return k('expected "{"');var e=function(){var e=[];for(r();n&&n.type!=s;)f(d)||f(p)||e.push(T());return w(v,e)}();return n.type!=s?k("expected }"):w(m,e)}var k=function(t){throw new Error("[StateManagerParser] Parser error: "+t+". "+e.lastCodeSymbols(50))};return w(h,P())}function P(e,t,n){var i=t||new O(e);return function e(t){var n=t.kind,i=t.value,r=t.payload;switch(n){case h:case m:return e(i);case E:return i;case b:return[i,e(r)];case g:return e(i);case v:var o=[];for(var s in i)o.push(e(i[s]));return o;case y:for(var a=[],l=0;l<i.length;l++)a.push(i[l].value);return new k(a)}}(n||new T(i))}function k(e){this.data=e}k.prototype.getData=function(){return this.data},P.Parse=T,P.Lexer=O,P.Actions=k,n.exports=P}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(70),s=r.template(n(1460)),a=n(190),l=n(0),c=n(22),u=n(777),d=n(73),p=n(87).default,f=o.extend({initialize:function(e){o.prototype.initialize.apply(this,arguments),this.ticker=this.options.ticker,this.item=this.options.item,this.itemMainData=this.options.itemMainData,this.render()},getOptions:function(e){return r.extend({},r.result(o.prototype,"getOptions"),{isHeaderShowed:!0,caption:__("tab.insiders"),previousCaption:__("actions.back"),headerStyle:"wizard",bodyStyle:"trading-tools",headerCaptionStyle:"insiders-mobile-header"},e)},render:function(){return o.prototype.render.call(this),this.setContent(s({item:this.item,ticker:this.ticker,itemMainData:this.itemMainData,numbro:d})),c.render(l.createElement(p,{name:"informative",width:"23",height:"16"}),this.$el.find(".total-informative span:first-child")[0]),c.render(l.createElement(p,{name:"uninformative",width:"23",height:"16"}),this.$el.find(".total-uninformative span:first-child")[0]),this.getBuySell(this.itemMainData),u("yearly-graph",this.item),this},getBuySell:function(e){var t=this.$el.find(".instrument-sell-change tr"),n=this.$el.find(".instrument-buy-change tr"),i=l.createElement(a,{type:"Sell",column:{name:"Sell",key:"bid",direction:"bidDirection"},model:e.get("instrument"),isSelected:!0,onClick:r.noop}),o=l.createElement(a,{type:"Buy",column:{name:"Buy",key:"ask",direction:"askDirection"},model:e.get("instrument"),isSelected:!1,onClick:r.noop});c.render(i,t[0]),c.render(o,n[0])},close:function(){o.prototype.close.call(this)}});i.exports=f}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(367),s=n(54),a=n(74),l=a.TEXT_MUTED_COLOR,c=a.POSITIVE_COLOR,u=a.NEGATIVE_COLOR,d=a.GRAPH_LINE_COLOR;i.exports=function(e,t){var n=r.map(t.getStockLastYearTransactions(),(function(e){var t=e.month.split("-"),n=s.splitByComma(__("calendar_monthNames"));return e.month=n[t[1]-1].substring(0,3)+" "+t[0],e})).reverse(),i=r.map(n,(function(e){return e.month})),a=r.map(n,(function(e){return e.price})),p=r.map(n,(function(e){return e.buyCount})),f=r.map(n,(function(e){return-e.sellCount})),h=c,m=u;return o.chart(e,{credits:{enabled:!1},chart:{zoomType:!1,height:110,spacingTop:12,spacingBottom:5,style:{fontFamily:"Lato, 'Helvetica Neue', Helvetica, Arial, sans-serif;"}},title:{text:""},xAxis:{categories:i,style:{color:l},tickInterval:1,gridLineWidth:1,gridLineDashStyle:"ShortDot",gridLineColor:l},yAxis:[{title:{text:__("insiders.graph.transactions"),style:{color:l}},labels:{format:"{value}",style:{color:l}},gridLineColor:l,gridLineDashStyle:"ShortDot"},{title:{text:__("insiders.graph.stock.price"),style:{color:l}},labels:{format:"{value}",style:{color:l}},gridLineDashStyle:"ShortDot",gridLineColor:l,tickPixelInterval:50,opposite:!0}],plotOptions:{spline:{lineWidth:1,marker:{enabled:!1}},column:{groupPadding:.5,pointWidth:16,borderWidth:0}},legend:{enabled:!1},tooltip:{useHTML:!0,style:{color:"inherit"},formatter:function(){var e=this,t=r.find(n,(function(t){return t.month===e.x})),i=this.color===h?__("insiders.graph.tooltip",t.discretionaryBuyCount,' <span style="font-weight:bold; color:'+h+'">'+__("actions.buy")+"</span>",t.buyCount-t.discretionaryBuyCount,t.transactionDistinctInisdersCount):__("insiders.graph.tooltip",t.discretionarySellCount,' <span style="font-weight:bold; color:'+m+'">'+__("actions.sell")+"</span>",t.sellCount-t.discretionarySellCount,t.transactionDistinctInisdersCount);return"<span><b>"+t.month+"</b><br/>"+i+"</span>"}},series:[{name:"",type:"column",data:p,color:h},{name:"",type:"column",data:f,color:m},{name:"",type:"spline",data:a,color:d,yAxis:1,enableMouseTracking:!1}]})}}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(43),o=n(54),s=n(3).DAY_IN_MILLISECONDS,a=r.extend({getStockTicker:function(){return this.get("stockTicker")},getDescription:function(){return this.get("description")},getSymbol:function(){return this.get("symbol")},getStockPrice:function(){return this.get("stockPrice")},getStockDailyChangeAmount:function(){return this.get("stockDailyChangeAmount")},getStockDailyChangePercent:function(){return this.get("stockDailyChangePercent")},getStockDailyChangePercentDir:function(){return this.changeDirection(this.getStockDailyChangePercent())},getStockLast3MonthTrend:function(){return this.get("stockLast3MonthTrend")},getStockLast3MonthTrendAmount:function(){return this.get("stockLast3MonthTrendAmount")},getConfidenceSignalScore:function(){return this.get("confidenceSignalScore")},getTransactionSellCount:function(){return this.get("transactionSellCount")},getTransactionBuyCount:function(){return this.get("transactionBuyCount")},getTransactionDistinctInisdersCount:function(){return this.get("transactionDistinctInisdersCount")},getStockLast3MonthChangePercent:function(){return this.get("stockLast3MonthChangePercent")||0},getStockLast3MonthChangePercentDir:function(){return this.changeDirection(this.getStockLast3MonthChangePercent())},getLatestInsiderTransactionDateFormatted:function(){var e=new Date(this.get("latestInsiderTransactionDate")),t=o.splitByComma(__("calendar_monthNames"));return e.getDate()+" "+t[e.getMonth()]+", "+e.getFullYear()},getLatestInsiderTransactionDateDiff:function(){var e=new Date(this.get("latestInsiderTransactionDate")),t=new Date;return Math.round((t.getTime()-e.getTime())/s)},getStockLast3MonthChangeChartImg:function(){return this.get("stockLast3MonthChangeChartImg")},getTotalBuyAmount:function(){return this.get("totalBuyAmount")},getTotalSellAmount:function(){return this.get("totalSellAmount")},getDiscretionaryTransactions:function(){return this.get("discretionaryTransactions")},getUninformativeTransactions:function(){return this.get("uninformativeTransactions")},getStockLastYearTransactions:function(){return this.get("stockLastYearTransactions")},getStockLast3MonthTransactions:function(){return this.get("stockLast3MonthTransactions")},changeDirection:function(e){return e>0?"up":e<0?"down":"equally"}});i.exports=a}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i={"./bloggers.popup.mobile.view":1472,"./bloggers.popup.view":1475};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id=779},function(e,t,n){var i;void 0===(i=function(e,t,i){n(1);var r=n(43).extend({defaults:function(){return{bloggerName:"",excessReturn:0,expertPictureUrl:"",firmName:"",goodRecommendations:0,numberOfBloggersRanked:0,rank:0,recommendation:"",recommendationDate:"",stars:0,stock:{numberOfBloggers:0,bullishRatio:0,bearishRatio:0,consensus:"",sectorName:"",sectorBullRatio:0,symbol:"",sites:[]},stockTicker:"",successRate:"",totalRecommendations:""}},getTicker:function(){return this.get("stockTicker")},getBloggerName:function(){return this.get("bloggerName")},getFirmName:function(){return this.get("firmName")},getBloggerStars:function(){return this.get("stars")},getBloggerRating:function(){return this.get("stars").toFixed(0)},getBloggerRatingStarsFill:function(){return 74*this.getBloggerStars()/5},getBloggerPicture:function(){return this.get("expertPictureUrl")&&"null"!=this.get("expertPictureUrl")?"https://az712682.vo.msecnd.net/expert-pictures/"+this.get("expertPictureUrl"):n(388)},getSymbol:function(){return this.get("stock").symbol},getName:function(){return this.get("instrument").get("name")},getSentiment:function(){return this.get("recommendation").toLowerCase()},getRecommendationDateDiff:function(){var e=new Date(this.get("recommendationDate")),t=new Date;return Math.round((t.getTime()-e.getTime())/864e5)},getBloggersNumber:function(){return this.get("stock").numberOfBloggers},getBullishRatio:function(){return 100*this.get("stock").bullishRatio+"%"},getBearishRatio:function(){return 100*this.get("stock").bearishRatio+"%"},getConsensus:function(){return this.get("stock").consensus},getOpinions:function(){return this.get("stock").sites}});i.exports=r}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(1481),o=n(6),s=n(148),a=n(782),l=n(9),c=n(119).WithdrawMethod,u=n(649);function d(e){return function(e,t){return{min:[e,__("withdraw.form.error.amount.min",e)],max:[t,__("withdraw.form.error.amount.max")]}}(1,!e||u.isCosmosTradingAccount(e.tradePlatformType)?u.getAvailableForWithdrawal():e.amount+e.pendingAmount||0)}i.exports.WithdrawFormConfig=function(e){return{title:"",status:"",form:[[{disable:!l.isWithdrawalAccountChooseEnabled(),name:"account",template:s.selectBox,translationKey:"",title:__("withdraw.form.label.account"),options:[o.getUserData().getAccount()],transformOptionsValue:function(e){return e.id},transformOptionText:u.transformWithdrawOptionText},{disable:!1,name:"method",template:s.selectBox,options:a.getMethodIdsAsArray(),translationGroupPrefix:"withdraw.method",title:__("withdraw.form.label.method"),dependent:[],validation:{}},{disable:!0,name:"amount",template:s.inputBox,title:__("withdraw.form.label.amount"),validation:{rules:d()},conversion:!0,dependent:[{name:"method",handler:function(e,t){var n=t.getField("amount");if(""!==e.value())return n.$el.css("display","block"),void n.enable();n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}},{disable:!0,name:"firstName",template:s.inputBox,title:__("withdraw.form.label.firstName"),validation:{rules:{not_empty:__("withdraw.form.error.not_empty",__("withdraw.form.label.firstName")),max_length:[50,__("withdraw.form.error.max_length",50)]}},dependent:[{name:"method",handler:function(e,t){var n=t.getField("firstName");if(n.$(".field-tooltip > .content").empty(),n.setDefaultState(),e.value()===c.UNION_PAY)return n.$el.css("display","block"),void n.enable();n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}},{disable:!0,name:"address",template:s.inputBox,title:__("withdraw.form.label.address"),validation:{rules:{not_empty:__("withdraw.form.error.not_empty",__("withdraw.form.label.address")),max_length:[50,__("withdraw.form.error.max_length",50)]}},dependent:[{name:"method",handler:function(e,t){var n=t.getField("address");if(n.$(".field-tooltip > .content").empty(),n.setDefaultState(),e.value()===c.UNION_PAY)return n.$el.css("display","block"),void n.enable();n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}},{disable:!0,name:"phone",template:s.inputBox,title:__("withdraw.form.label.phone"),validation:{rules:{not_empty:__("withdraw.form.error.not_empty",__("withdraw.form.label.phone")),max_length:[50,__("withdraw.form.error.max_length",50)]}},dependent:[{name:"method",handler:function(e,t){var n=t.getField("phone");if(n.$(".field-tooltip > .content").empty(),n.setDefaultState(),e.value()===c.UNION_PAY)return n.$el.css("display","block"),void n.enable();n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}},{name:"country",title:__("withdraw.form.label.country"),translationGroupPrefix:"country.name",options:r.getCountryList(),template:s.countriesSelectBox,validation:{},disable:!0,dependent:[{name:"method",handler:function(e,t){var n=t.getField("country");if(e.value()===c.WIRE_TRANSFER||e.value()===c.SEA_SOLUTION)return n.$el.css("display","block"),n.enable(),void n.value(o.getCountry());n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}},{disable:!0,name:"bankName",template:s.inputBox,title:__("withdraw.form.label.bankName"),validation:{rules:{not_empty:__("withdraw.form.error.not_empty",__("withdraw.form.label.bankName")),max_length:[50,__("withdraw.form.error.max_length",50)]}},dependent:[{name:"method",handler:function(e,t){var n=t.getField("bankName");if(n.$(".field-tooltip > .content").empty(),n.setDefaultState(),e.value()===c.UNION_PAY||e.value()===c.WIRE_TRANSFER||e.value()===c.SEA_SOLUTION)return n.$el.css("display","block"),void n.enable();n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}},{disable:!0,name:"email",template:s.inputBox,title:__("withdraw.form.label.email"),validation:{rules:{not_empty:__("withdraw.form.error.not_empty",__("withdraw.form.label.email")),email:[__("withdraw.form.error.email")]}},dependent:[{name:"method",handler:function(e,t){var n=t.getField("email");if(n.$(".field-tooltip > .content").empty(),n.setDefaultState(),e.value()===c.MONEYBOOKERS||e.value()===c.PAYPAL||e.value()===c.GLOBE_PAY)return n.$el.css("display","block"),void n.enable();n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}},{disable:!0,name:"creditCard",template:s.selectBox,translationPrefix:"withdraw.creditCards.prefix",title:__("withdraw.form.label.creditCard"),validation:{},dependent:[{name:"method",handler:function(e,t){var n=t.getField("creditCard");if(n.$(".field-tooltip > .content").empty(),n.setDefaultState(),e.value()===c.CREDIT_DEBIT_CARD)return n.$el.css("display","block"),n.enable(),void n.value(t.getField("creditCard").$el.find("option").val());n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}},{disable:!0,name:"neteller",template:s.inputBox,title:__("withdraw.form.label.neteller"),validation:{rules:{not_empty:__("withdraw.form.error.not_empty",__("withdraw.form.label.neteller")),max_length:[50,__("withdraw.form.error.max_length",50)]}},dependent:[{name:"method",handler:function(e,t){var n=t.getField("neteller");if(n.$(".field-tooltip > .content").empty(),n.setDefaultState(),e.value()===c.NETELLER)return n.$el.css("display","block"),void n.enable();n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}},{disable:!0,name:"iban",template:s.inputBox,title:__("withdraw.form.label.iban"),validation:{rules:{not_empty:__("withdraw.form.error.not_empty",__("withdraw.form.label.iban")),max_length:[50,__("withdraw.form.error.max_length",50)]}},dependent:[{name:"method",handler:function(e,t){var n=t.getField("iban");if(n.$(".field-tooltip > .content").empty(),n.setDefaultState(),e.value()===c.WIRE_TRANSFER)return n.$el.css("display","block"),void n.enable();n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}}],[{disable:!0,name:"beneficiary",template:s.inputBox,title:__("withdraw.form.label.beneficiary"),validation:{rules:{not_empty:__("withdraw.form.error.not_empty",__("withdraw.form.label.beneficiary")),max_length:[50,__("withdraw.form.error.max_length",50)]}},dependent:[{name:"method",handler:function(e,t){var n=t.getField("beneficiary");if(n.$(".field-tooltip > .content").empty(),n.setDefaultState(),""!==e.value()&&e.value()!==c.UNION_PAY&&e.value()!==c.GLOBE_PAY)return n.$el.css("display","block"),void n.enable();n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}},{disable:!0,name:"lastName",template:s.inputBox,title:__("withdraw.form.label.lastName"),validation:{rules:{not_empty:__("withdraw.form.error.not_empty",__("withdraw.form.label.lastName")),max_length:[50,__("withdraw.form.error.max_length",50)]}},dependent:[{name:"method",handler:function(e,t){var n=t.getField("lastName");if(n.$(".field-tooltip > .content").empty(),n.setDefaultState(),e.value()===c.UNION_PAY)return n.$el.css("display","block"),void n.enable();n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}},{disable:!0,name:"city",template:s.inputBox,title:__("withdraw.form.label.city"),validation:{rules:{not_empty:__("withdraw.form.error.not_empty",__("withdraw.form.label.city")),max_length:[50,__("withdraw.form.error.max_length",50)]}},dependent:[{name:"method",handler:function(e,t){var n=t.getField("city");if(n.$(".field-tooltip > .content").empty(),n.setDefaultState(),e.value()===c.UNION_PAY)return n.$el.css("display","block"),void n.enable();n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}},{disable:!0,name:"zipCode",template:s.inputBox,title:__("withdraw.form.label.zipCode"),validation:{rules:{not_empty:__("withdraw.form.error.not_empty",__("withdraw.form.label.zipCode")),max_length:[50,__("withdraw.form.error.max_length",50)]}},dependent:[{name:"method",handler:function(e,t){var n=t.getField("zipCode");if(n.$(".field-tooltip > .content").empty(),n.setDefaultState(),e.value()===c.UNION_PAY)return n.$el.css("display","block"),void n.enable();n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}},{disable:!0,name:"accountNumber",template:s.inputBox,title:__("withdraw.form.label.accountNumber"),validation:{rules:{not_empty:__("withdraw.form.error.not_empty",__("withdraw.form.label.accountNumber")),max_length:[50,__("withdraw.form.error.max_length",50)]}},dependent:[{name:"method",handler:function(e,t){var n=t.getField("accountNumber");if(n.$(".field-tooltip > .content").empty(),n.setDefaultState(),e.value()===c.WIRE_TRANSFER||e.value()===c.UNION_PAY||e.value()===c.SEA_SOLUTION)return n.$el.css("display","block"),void n.enable();n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}},{disable:!0,name:"bankAddress",template:s.inputBox,title:__("withdraw.form.label.bankAddress"),validation:{rules:{not_empty:__("withdraw.form.error.not_empty",__("withdraw.form.label.bankAddress")),max_length:[50,__("withdraw.form.error.max_length",50)]}},dependent:[{name:"method",handler:function(e,t){var n=t.getField("bankAddress");if(n.$(".field-tooltip > .content").empty(),n.setDefaultState(),e.value()===c.WIRE_TRANSFER||e.value()===c.SEA_SOLUTION)return n.$el.css("display","block"),void n.enable();n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}},{disable:!0,name:"swift",template:s.inputBox,title:__("withdraw.form.label.swift"),validation:{rules:{not_empty:__("withdraw.form.error.not_empty",__("withdraw.form.label.swift")),max_length:[50,__("withdraw.form.error.max_length",50)]}},dependent:[{name:"method",handler:function(e,t){var n=t.getField("swift");if(n.$(".field-tooltip > .content").empty(),n.setDefaultState(),e.value()===c.WIRE_TRANSFER)return n.$el.css("display","block"),void n.enable();n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}},{disable:!0,name:"bankDetails",template:s.inputBox,title:__("withdraw.form.label.bankDetails"),validation:{rules:{not_empty:__("withdraw.form.error.not_empty",__("withdraw.form.label.bankDetails")),max_length:[50,__("withdraw.form.error.max_length",50)]}},dependent:[{name:"method",handler:function(e,t){var n=t.getField("bankDetails");if(n.$(".field-tooltip > .content").empty(),n.setDefaultState(),e.value()===c.UNION_PAY)return n.$el.css("display","block"),void n.enable();n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}},{disable:!0,name:"comment",template:s.textArea,title:__("withdraw.form.label.comment"),settings:{rows:0,cols:0},validation:{rules:{max_length:[1e3,__("withdraw.form.error.max_length",1e3)]}},dependent:[{name:"method",handler:function(e,t){var n=t.getField("comment");if(n.$(".field-tooltip > .content").empty(),n.setDefaultState(),""!==e.value())return n.$el.css("display","block"),void n.enable();n.$el.css("display","none"),n.disable()}}],events:{onblur:function(){}}}]],bottom:[],creditCards:null,tradingAccounts:[o.getUserData().getAccount()]}},i.exports.amountValidation=d}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i=n(128).default,r=n(1),o=n(9),s=n(119).WithdrawMethod,a=[];e.exports={getMethods:function(){return a.splice(0,a.length),r.each(Object.keys(s.properties),(function(e){o.isWithdrawMethodEnabled(e)&&a.push(s.properties[e].instantiate())})),a},getMethodIdsAsArray:function(){return r.map(this.getMethods(),(function(e){return e.getId()}))},getMethodById:function(e){return r.find(this.getMethods(),(function(t){return t.getId()===e}))||new i}}},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(18)({displayName:"Sentiment",render:function(){var e=this.props.value,t=e&&e.longs||!1,n=e&&e.shorts||!1,i={width:t+"%"},o={width:n+"%"};return t&&n?r.createElement("div",{className:"sentiment"},r.createElement("div",{className:"sellers"},n,"%"),r.createElement("div",{className:"bar"},r.createElement("i",{style:o}),r.createElement("b",{style:i})),r.createElement("div",{className:"buyers"},t,"%")):r.createElement("div",{className:"sentiment"},"")}});i.exports=o}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(18);i.exports=o({displayName:"exports",getDefaultProps:function(){return{text:""}},render:function(){return r.createElement("th",{className:"column column-rate-with-button"},r.createElement("div",null,r.createElement("div",null,__(this.props.text))))}})}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(118),s=n(6),a=n(8),l=n(5),c=n(9),u=n(3).PENDING,d=r.template(n(1589)),p=o.extend({ui:{content:".content",checkbox:"#checkbox"},events:function(){return r.extend({},r.result(o.prototype,"events"),{"click #checkbox":"onCheck"})},initialize:function(e){o.prototype.initialize.apply(this,arguments),this.$el.addClass("hidden"),this.listenTo(this.model,"change:statusMessagePrepared",this.showMessage),this.model.makeVerifyCreditCards(),this.isCardPending=!1},render:function(){this.$el.removeClass("hidden"),o.prototype.render.call(this),this.$(this.ui.content).html(d({options:this.options})),this.options.isShowCheckbox&&this.$(this.ui.checkbox).attr("checked",!0)},onOK:function(e){var t=this,n=Promise.resolve();this.isCheckboxChecked()&&(n=this.approveCC()),n.then((function(){return t.options.onOK.call(t)})).catch((function(){return t.options.onOK.call(t)})),this.close(),this.isCardPending&&l.trigger("ui:deposit-threshold-promotion")},onCancel:function(e){this.options.onCancel.call(this),this.close()},approveCC:function(){var e=this.options.creditCards[0].id;return a.approveCreditCard(e).then(this.approveCreditCardSuccess.bind(this)).catch((function(e){return Promise.reject()}))},approveCreditCardSuccess:function(){return s.getUserCreditCards().load()},isCheckboxChecked:function(){return"true"===this.$(this.ui.checkbox).attr("checked")},onCheck:function(){this.$(this.ui.checkbox).attr("checked",!this.isCheckboxChecked())},showMessage:function(){var e=this,t=n(342).Deposit_eventos,i=r.values(s.getUserCreditCards().get("creditCards")).filter((function(e){return e.status===u})),o=function(n,i){return function(){r.isEmpty(n)||(r.isArray(n)?l.trigger.apply(l,n):l.trigger(n)),t.eventos(i,e.model.get("depositInfo"))}};t.eventos("display",this.model.get("depositInfo")),l.trigger("sm","deposit_successful"),l.trigger("funds:deposit:success");var a={confirmCaption:__("state.machine.confirmation.deposit.success"),zIndex:9999,confirmCancelBtnText:__("actions.cancel"),onCancel:function(){return t.eventos("clkClose",e.model.get("depositInfo"))}},d=this.model.get("depositInfo").isSaxoAccount?"flow:saxo_verify":"flow:verify",p=c.isCreditCardFastVerificationEnabled();switch(i.length){case 0:s.isCompliance()?(this.isCardPending=!0,a.confirmMessage=__("deposit.begin_trading"),a.confirmOKBtnText=__("ok"),a.onOK=o(null,"clkOk")):(a.confirmMessage=__("deposit.verify_account"),a.confirmOKBtnText=__("verification_center.popup.documents.header"),a.onOK=o(d,"clkVerify"));break;case 1:a.creditCards=i,s.isCompliance()?(a.confirmMessage=__("deposit.verify_cc.one.message"),a.confirmOKBtnText=__("actions.confirm"),a.isShowCheckbox=p,a.checkboxMessage=__("deposit.confirm_cc"),a.onOK=o(["sm","c_verify"],"clkVerify")):(a.confirmMessage=__("deposit.verify_account"),a.confirmOKBtnText=__("actions.proceed"),a.isShowCheckbox=p,a.checkboxMessage=__("deposit.confirm_cc"),a.onOK=o(d,"clkVerify"));break;default:a.confirmMessage=__("deposit.verify_cc.multiple.message"),a.confirmOKBtnText=__("verification_center.popup.cc.label"),a.onOK=o(d,"clkVerify")}r.extend(this.options,a),this.render(),this.model.depositPopupMessage=!0}});i.exports=p}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,r){var o=n(1),s=n(636),a=n(6),l=n(8),c=n(86),u=void 0,d=n(3),p=d.EMPTY,f=d.SUCCESS,h=d.ERROR,m=s.extend({defaults:function(){return{statusMessagePrepared:p}},initialize:function(){u=this.control("statusMessagePrepared")},makeVerifyCreditCards:function(){var e=this.get("depositInfo").doFirstDeposit,t=a.isCompliance();if(e&&!t){var n=this;n.fixedLoadingView=new c({parent:i("body"),position:"fixed",translucent:"2"}),{during:5e3,delay:500,beginTime:o.now(),isTimeExpired:function(){return o.now()-this.beginTime>this.during},start:function(){var e=this;n.queryComplianceStage().then((function(t){return e.next(t)})).catch((function(t){return e.next(t)}))},next:function(e){var t=this;if(!e&&!this.isTimeExpired())return o.delay((function(){return t.start()}),this.delay);a.getUserCreditCards().load().then((function(){return t.finish()})).catch((function(){return t.finish()}))},finish:function(){n.fixedLoadingView&&n.fixedLoadingView.destroy(),n.depositPopupMessage||n.prepareShowMessage()}}.start()}else this.prepareShowMessage()},queryComplianceStage:function(){return l.queryComplianceStage().then(this.queryComplianceStageSuccess.bind(this)).catch(this.queryComplianceStageError.bind(this))},queryComplianceStageSuccess:function(e){return Promise.resolve(e.data.body)},queryComplianceStageError:function(e){return Promise.reject(e)},getCreditCards:function(){return a.getUserCreditCards().reLoad()},prepareShowMessage:function(){Promise.all([this.getCreditCards(),a.loadUserData()]).then((function(){return u(f)})).catch((function(){return u(h)}))}});r.exports=m}.call(t,n,t,e))||(e.exports=o)}).call(this,n(12),n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(43),s=n(16),a=n(32),l=o.extend({defaults:function(){return{stockTicker:"",symbol:"",description:"",stockPrice:0,lastQSharesTraded:0,rating:"",sentiment:"",basedOnNumHedgeFunds:"",institutionalHoldingSummary:[]}},getTicker:function(){return this.get("stockTicker")},getSymbol:function(){return this.get("symbol")},getDescription:function(){return this.get("description")},getSignal:function(){return this.get("rating")},getSignalDir:function(){return this.getSignal().indexOf("Positive")>-1?"positive":this.getSignal().indexOf("Negative")>-1?"negative":"neutral"},getInstitutionalHoldingSummary:function(){return this.get("institutionalHoldingSummary")},getInstitutionalHoldingSummaryBar:function(){var e=this.getInstitutionalHoldingSummary(),t=r.max(e,(function(e){return e.h}));return r.map(e,(function(e){return[s(e.l).format("MMM, D Y"),e.h/t.h*100]}))},getInstitutionalHoldingSummaryBarAxis:function(){var e=this.getInstitutionalHoldingSummary(),t=r.max(e,(function(e){return e.h})).h;return r.map([.25,.5,.75,1],(function(e){return a(e*t).format("2a").toUpperCase()}))},getTrend:function(){var e=this.getInstitutionalHoldingSummary().length;return a(this.getInstitutionalHoldingSummary()[e-1].h).format("0a").toUpperCase()},getTrendDir:function(){var e=this.getInstitutionalHoldingSummary().length,t=this.getInstitutionalHoldingSummary()[e-1].h-this.getInstitutionalHoldingSummary()[e-2].h;return t>0?"Increased":t<0?"Decreased":""},getBasedOnNumHedgeFunds:function(){return this.get("basedOnNumHedgeFunds")}});i.exports=l}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(43),o=n(98),s=o.EMPTY,a=o.TYPE_MARKET,l=n(3).POSITION_DIRECTION_BUY;i.exports=r.extend({defaults:function(){return{symbol:s,type:a,direction:l,amount:s,stopLoss:s,takeProfit:s,entry:s,isSearchEnabled:!0,isTypeEnabled:!0,isDirectionEnabled:!0,refOrderChainId:s,excludeTypes:[]}},getType:function(){return this.get("type")},getDirection:function(){return this.get("direction")},getSymbol:function(){return this.get("symbol")},getAmount:function(){return this.get("amount")},getStopLoss:function(){return this.get("stopLoss")},getTakeProfit:function(){return this.get("takeProfit")},getEntry:function(){return this.get("entry")},excludeOrderType:function(e){this.set("excludeTypes",[e])}})}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i){var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};void 0===(r=function(e,t,i){var r=n(1),s=n(5),a=n(6),l=n(9),c=n(1601),u=n(1603),d=n(1605),p=n(1606),f=n(1608),h=n(1610),m=n(790),g=n(791),v=n(792),b=n(793),_=n(794),y=n(795),E=n(796),S=n(797),C=n(1613),w=n(1614),O=n(1615),T=n(798),P=n(237),k=n(380),I=n(341),A=n(1628),x=A.SimpleChartView,N=A.SimpleChartModel,D=n(33).default,R=n(212),L=n(120),M=r.template(n(1633)),j=D.mobile()?".new-order__mobile-chart-area":".new-order__chart-area",F=n(83),B=n(32),U=n(3),V=U.POSITION_DIRECTION_BUY,z=U.POSITION_DIRECTION_SELL,q=U.DEFAULT_POSITION_PIPS_STEP,H=U.MONEY_FIELD_MIN_VALUE,$=U.PERCENT_FIELD_MIN_VALUE,G=U.PIPS_FIELD_MIN_VALUE,W=n(245).SWITCH_MODE_DROPDOWN,Y=n(98),K=Y.EMPTY,X=Y.UPDATE,Q=Y.READY,J=Y.FOUND,Z=Y.NOT_FOUND,ee=Y.ENABLED,te=Y.DISABLED,ne=Y.CHANGED,ie=(Y.SUCCESS,Y.TYPE_MARKET),re=Y.TYPE_LIMIT,oe=Y.TYPE_STOP,se=r.isEmpty,ae=function(e){return e.addClass("hidden")},le=function(e){return e.removeClass("hidden")},ce=function(e){return e<0?"down":e>0?"up":"equally"};i.exports=c.extend({className:"new-order",name:"new-order",events:function(){return this.addEvents(c)({"click .fn-deposit":"openDeposit","click .action__submit":"submit","click .new-order__chart-expander":"toggleChart"})},initialize:function(){c.prototype.initialize.apply(this,arguments),this.order=this.makeOrderObject(),this.updateForTradeOutsideOfTradingHours()},makeOrderObject:function(){var e=this.model;return new T.create({symbol:e.get("symbol"),amount:e.getAmount(),initialType:e.getType(),initialDirection:e.getDirection(),initialEntryPrice:e.getEntry(),initialStopLossPrice:e.getStopLoss(),initialTakeProfitPrice:e.getTakeProfit()})},updateForTradeOutsideOfTradingHours:function(){this.order.instrument().status.canTradeOutsideOfTradingHours()&&(this.model.excludeOrderType(ie),this.openFromSwitchModeDropdown()?this.order.getType()===ie&&this.order.setType(re):this.order.setType(re))},openFromSwitchModeDropdown:function(){return this.options.source===W},render:function(){var e=this;c.prototype.render.call(this);var t=this.model,n=this.order,i=n.instrument(),o=n.takeProfit(),s=n.stopLoss(),T=i.getPrecision(),k=n.getType(),I=n.getDirection(),A=n.direction(),D=a.getUserCurrency(),R=r.throttle((function(t){return e.isAmountChanged=!0,n.amount().setValue(t)}),500),L=s.isEnabled(),F=o.isEnabled();return this.keyboardEvents=P({escape:function(t){return e.close(t)},enter:function(t){e.isSearching()||e.submit(t)}},this),this.setContent(M({fullAmountLabel:n.amount().getFullAmountLabel(),instrument:i,submitButtonText:t.get("submitButtonText"),settings:l,isSpreadBetting:i.isTypeSpreadBetting()})),this.basketModel=new h,this.chartModel=new N({symbol:i.getSymbol()}),this.search=this.addChildView(".new-order__search-block",p,{name:"search",disabled:!t.get("isSearchEnabled"),value:i.getDisplayName(),onChanged:function(e){return n.changeInstrument(e)}}),this.type=this.addChildView(".new-order__type-control",m,{name:"type",value:k,disable:!t.get("isTypeEnabled"),exclude:t.get("excludeTypes")}),this.direction=this.addChildView(".new-order__direction-control",g,{name:"direction",value:I,disable:!t.get("isDirectionEnabled")}),this.directionDropdown=this.addChildView(".new-order__direction-dropdown-control",v,{name:"directionDropdown",value:I,disable:!t.get("isDirectionEnabled"),except:A.isSellTradable()?A.isBuyTradable()?null:V:z}),this.amount=this.addChildView(".new-order__amount-control",b,{name:"amount",precision:T,minValue:i.getMinOrderSize(),placeholder:__("order.form.enter.amount")}),this.entry=this.addChildView(".new-order__entry-form",_,{name:"entry",minValue:i.getPrecisionAsFloat(),precision:T}),this.slCheckbox=this.addChildView(".new-order__sl-checkbox-control",y,{name:"sl-checkbox",checked:L,precision:T}),this.tpCheckbox=this.addChildView(".new-order__tp-checkbox-control",E,{name:"tp-checkbox",checked:F,precision:T}),this.stopLoss=this.addChildView(".new-order__sl-price-control",S,{name:"stopLoss",disable:!L,minValue:i.getPrecisionAsFloat(),precision:T}),this.takeProfit=this.addChildView(".new-order__tp-price-control",S,{name:"takeProfit",disable:!F,minValue:i.getPrecisionAsFloat(),precision:T}),this.slMoney=this.addChildView(".new-order__sl-money-control",C,{name:"sl-money",currency:D,disable:!L,minValue:H,precision:T}),this.tpMoney=this.addChildView(".new-order__tp-money-control",C,{name:"tp-money",currency:D,disable:!F,minValue:H,precision:T}),this.slPercent=this.addChildView(".new-order__sl-percent-control",w,{name:"sl-percent",disable:!L,minValue:$,precision:T}),this.tpPercent=this.addChildView(".new-order__tp-percent-control",w,{name:"tp-percent",disable:!F,minValue:$,precision:T}),this.slPips=this.addChildView(".new-order__sl-pips-control",O,{name:"sl-pips",disable:!L,minValue:G,precision:T}),this.tpPips=this.addChildView(".new-order__tp-pips-control",O,{name:"tp-pips",disable:!F,minValue:G,precision:T}),this.basket=this.addChildView(".new-order__basket-block",f,{model:this.basketModel}),this.chart=this.addChildView(j,x,{model:this.chartModel}),this.addChildView(".new-order__instrument-info",u,{model:new d({symbol:i.getSymbol(),instrumentDriver:n.instrumentDriver()})}),this.amount.disable(),this.$sellRateValue=this.$(".new-order__sell-rate-value"),this.$buyRateValue=this.$(".new-order__buy-rate-value"),this.$changeBlock=this.$(".new-order__change-block"),this.$requiredMarginValue=this.$(".new-order__require-margin-value"),this.$amountLabel=this.$(".new-order__amount-label"),this.$slErrorMessage=this.$(".new-order__sl-error-message"),this.$tpErrorMessage=this.$(".new-order__tp-error-message"),this.$moneyTitle=this.$(".new-order__field-money-title"),this.$gsl=this.$(".new-order__gsl"),this.$gslValue=this.$(".new-order__gsl-value"),this.listenTo(this.type,"change",(function(e,t){return n.setType(t)})),this.listenTo(this.direction,"change",(function(e,t){return n.setDirection(t)})),this.listenTo(this.direction,"change",(function(t,n){return e.directionDropdown.value(n)})),this.listenTo(this.directionDropdown,"change",(function(e,t){return n.setDirection(t)})),this.listenTo(this.directionDropdown,"change",(function(t,n){return e.direction.setChecked(n)})),this.listenTo(this.amount,"change",(function(e,t){return R(t)})),this.listenTo(this.entry,"change",(function(e,t){return n.setEntryValue(t)})),this.listenTo(this.slCheckbox,"change",(function(e,t){return!0===t?s.enable():s.disable()})),this.listenTo(this.stopLoss,"change",(function(e,t){return s.setPrice(t)})),this.listenTo(this.slMoney,"change",(function(e,t){return s.setMoney(t)})),this.listenTo(this.slPercent,"change",(function(e,t){return s.setPercent(t)})),this.listenTo(this.slPips,"change",(function(e,t){return s.setPips(t)})),this.listenTo(this.tpCheckbox,"change",(function(e,t){return!0===t?o.enable():o.disable()})),this.listenTo(this.takeProfit,"change",(function(e,t){return o.setPrice(t)})),this.listenTo(this.tpMoney,"change",(function(e,t){return o.setMoney(t)})),this.listenTo(this.tpPercent,"change",(function(e,t){return o.setPercent(t)})),this.listenTo(this.tpPips,"change",(function(e,t){return o.setPips(t)})),this.listenTo(this.entry,"focus ",(function(){return n.disableAutoEntry()})),this.listenTo(this.stopLoss,"focus ",(function(){return s.touch("Price")})),this.listenTo(this.slMoney,"focus ",(function(){return s.touch("Money")})),this.listenTo(this.slPercent,"focus ",(function(){return s.touch("Percent")})),this.listenTo(this.slPips,"focus ",(function(){return s.touch("Pips")})),this.listenTo(this.takeProfit,"focus ",(function(){return o.touch("Price")})),this.listenTo(this.tpMoney,"focus ",(function(){return o.touch("Money")})),this.listenTo(this.tpPercent,"focus ",(function(){return o.touch("Percent")})),this.listenTo(this.tpPips,"focus ",(function(){return o.touch("Pips")})),this.listenTo(n,"amount:change:statusOfAmount",this.onStatusOfAmount),this.listenTo(n,"instrumentDriver:change:statusOfInstrumentInfo",this.onStatusOfInstrumentInfo),this.listenTo(n,"instrumentDriver:change:statusOfInstrument",this.onStatusOfInstrument),this.listenTo(n,"stopLoss:change:status",this.onStatusOfStopLoss),this.listenTo(n,"takeProfit:change:status",this.onStatusOfTakeProfit),this.listenTo(n,"entryLimit:change:statusOfEntry",this.onStatusOfEntry),this.listenTo(n,"entryStop:change:statusOfEntry",this.onStatusOfEntry),this.listenTo(n,"type:change:value",this.onTypeChanged),this.listenTo(n,"direction:change:value",this.onDirectionChanged),this.listenTo(n,"requiredMargin:change:requiredMarginFormat",this.onRequiredMarginFormat),this.listenTo(n,"requiredMargin:change:statusOfRequiredMargin",this.onStatusOfRequiredMargin),this.listenTo(n,"amount:change:errorMessage",this.onChangeAmountErrorMessage.bind(this)),this.listenTo(n,"stopLoss:change:errorMessage",(function(t,n){return e.$slErrorMessage.html(n)})),this.listenTo(n,"takeProfit:change:errorMessage",(function(t,n){return e.$tpErrorMessage.html(n)})),this.listenTo(n,"entryLimit:change:errorMessage",(function(t,n){return e.entry.errorMessage(n)})),this.listenTo(n,"entryStop:change:errorMessage",(function(t,n){return e.entry.errorMessage(n)})),this.listenTo(n,"gsl:change:format",(function(t,n){return e.$gslValue.html(n)})),this.listenTo(n,"all",this.updateSubmitState),this.onStatusOfAmount(),this.onTypeChanged(),this.onStatusOfInstrument(),this.onStatusOfInstrumentInfo(),this.onStatusOfStopLoss(),this.onStatusOfTakeProfit(),this.showExpiration(),n.gsl().isEnabled()&&this.$gsl.removeClass("hidden"),this.updateCaption(),this},onTypeChanged:function(){var e=this.order.getType(),t=this.order.instrument();switch(e){case ie:this.entry.hide();break;case re:case oe:var n=this.order.entry();this.entry.show({precision:t.getPrecision(),step:t.getPipsPrecisionSize()}),this.entry.setLabel(n.getLabel()),this.entry.setLabelDescription(n.getLabelDescription()),this.onStatusOfEntry()}},onDirectionChanged:function(){if(this.order.getType()!==ie){var e=this.order.entry();this.entry.setLabel(e.getLabel()),this.entry.setLabelDescription(e.getLabelDescription())}this.showExpiration()},showExpiration:function(){var e=this.order,t=e.getType(),n=e.instrument(),i=this.$(".new-order__expiration"),r=this.$(".new-order__expiration-text"),o=n.getExpirationDays(),s=n.getExpirationDate();o?(i.removeClass("hidden"),r.html(t!==ie?__("order.form.expiration",o):__("position.form.expiration",s))):i.hasClass("hidden")||i.addClass("hidden")},onChangeAmountErrorMessage:function(e,t){var n=this.$(".new-order__field-error-amount");"hide-initial"===t?n.addClass("hidden"):n.removeClass("hidden"),n.html(t===K?"":t),l.isLive()||this.$(".new-order__field-error-amount a.fn-deposit").addClass("hidden"),this.showTieredMargin()},showTieredMargin:function(){var e=this.$(".new-order__field-info-amount-tiered-margin"),t=this.order;t.amount().isValidated()&&t.instrument().isTieredMarginApplied()?e.removeClass("hidden"):e.addClass("hidden")},onStatusOfAmount:function(){var e=this.order,t=e.instrument(),n=e.amount(),i=this.amount;switch(n.get("statusOfAmount")){case Q:var r={precision:t.isFractionalAmountEnabled()?t.getPrecision():0,step:t.isTypeSpreadBetting()?t.getMinOrderIncrement():n.getAmountIncrement()};i.setOptions(o({},r)),i.silentValue(n.value()),i.enable(),i.input.focus(),""!==n.value()&&(this.isAmountChanged=!0,this.onRequiredMarginFormat(null,e.requiredMargin().getFormat()));break;case X:i.silentValue(n.value()),this.showTieredMargin()}},onStatusOfInstrument:function(){var e=this.order,t=e.amount(),n=e.instrumentDriver(),i=n.get("statusOfInstrument"),r=n.instrument();switch(i){case K:case Z:break;case ne:e.stopLoss().auto(),e.takeProfit().auto(),this.chartModel.changeInstrument(r.getSymbol()),this.basketModel.setSymbol(r.getSymbol());break;case J:this.$moneyTitle.html(a.getUserCurrency()),this.$amountLabel.html(t.getFullAmountLabel()),this.$amountLabel.attr("title",t.getFullAmountLabel()),this.basketModel.setSymbol(r.getSymbol()),this.reflectSentiments(),this.reflectRates(),this.showExpiration()}},onStatusOfInstrumentInfo:function(){var e=this.order.instrumentDriver();switch(e.get("statusOfInstrumentInfo")){case K:break;case X:this.chartModel.set("precision",e.instrument().getPrecision()),this.reflectRates(),this.reflectDirection(),this.showTieredMargin(),this.updateInstrumentTradable()}},onStatusOfStopLoss:function(){var e=this.order,t=e.instrument(),n=e.stopLoss(),i=n.get("status"),o=this.stopLoss,s=this.slMoney,a=this.slPercent,l=this.slPips,c=this.$slErrorMessage,u=n.value(),d=n.get("money"),p=n.get("percent"),f=n.get("pips"),h=t.getPrecision(),m=t.getPipsPrecisionSize(),g=t.getPipsPrecisionDiff(),v=r.isEmpty(g)?q:t.getPipsPrecisionStep();switch(i){case ee:this.enableFields(o,s,a,l);break;case te:this.disableFields(o,s,a,l),o.silentValue(""),s.silentValue(""),a.silentValue(""),l.silentValue(""),c.html("");break;case X:o.setOptions({precision:h,step:m}),l.setOptions({precision:g,step:v}),o.silentValue(u===K?"":u),s.silentValue(d===K?"":d),a.silentValue(p===K?"":p),l.silentValue(f===K?"":f)}},onStatusOfTakeProfit:function(){var e=this.order,t=e.instrument(),n=e.takeProfit(),i=n.get("status"),o=this.takeProfit,s=this.tpMoney,a=this.tpPercent,l=this.tpPips,c=this.$tpErrorMessage,u=n.value(),d=n.get("money"),p=n.get("percent"),f=n.get("pips"),h=t.getPrecision(),m=t.getPipsPrecisionSize(),g=t.getPipsPrecisionDiff(),v=r.isEmpty(g)?q:t.getPipsPrecisionStep();switch(i){case ee:this.enableFields(o,s,a,l);break;case te:this.disableFields(o,s,a,l),o.silentValue(""),s.silentValue(""),a.silentValue(""),l.silentValue(""),c.html("");break;case X:o.setOptions({precision:h,step:m}),l.setOptions({precision:g,step:v}),o.silentValue(u===K?"":u),s.silentValue(d===K?"":d),a.silentValue(p===K?"":p),l.silentValue(f===K?"":f)}},onRequiredMarginFormat:function(e,t){this.isAmountChanged&&this.$requiredMarginValue.html(parseFloat(this.amount.value())?t:"")},onStatusOfRequiredMargin:function(e,t){t===X&&this.renderDangerInfo()},enableFields:function(){r.each(arguments,(function(e){return e.enable()}))},disableFields:function(){r.each(arguments,(function(e){return e.disable()}))},onStatusOfEntry:function(){var e=this.order,t=e.entry(),n=t.get("statusOfEntry"),i=this.entry,r=t.value(),o=e.instrument().getPrecision(),s=e.instrument().getPipsPrecisionSize();switch(n){case X:i.setOptions({precision:o,step:s}),i.silentValue(r===K?"":r)}},reflectRates:function(){var e=this.order.instrument(),t=this.$changeBlock,n=this.$sellRateValue,i=this.$buyRateValue,r=t.find("span"),o=e.getBid(!0),s=e.getAsk(!0),a=e.getBidDirection(),l=e.getAskDirection(),c=e.getPercentChange();s=F.formatValueToStringOrComponent(F.divideValueByPipSize(s,e.getPipsPrecision()),!0),o=F.formatValueToStringOrComponent(F.divideValueByPipSize(o,e.getPipsPrecision()),!0),n.removeClass("up down equally"),i.removeClass("up down equally"),t.removeClass("up down equally"),n.html(o),i.html(s),r.html((c>0?"+"+c:c)+"%"),n.addClass(ce(a)),i.addClass(ce(l)),t.addClass(ce(c))},reflectDirection:function(){var e=this.order.direction(),t=this.direction;e.isBuyTradable()&&t.enableByValue(V),e.isSellTradable()&&t.enableByValue(z),e.isBuyTradable()?e.isSellTradable()||(t.setChecked(V),t.disableByValue(z)):(t.setChecked(z),t.disableByValue(V))},destroy:function(){this.keyboardEvents.off(),c.prototype.destroy.call(this),this.order.destroy(),this.chartModel.destroy(),this.basketModel.destroy()},reflectSentiments:function(){var e=this.$(".new-order__sentiment-block"),t=this.$(".new-order__horz-splitter_info-block"),n=this.$(".new-order__sentiment-buyers-value"),i=this.$(".new-order__sentiment-sellers-value"),r=this.$(".new-order__sentiment-block .bar i"),o=this.$(".new-order__sentiment-block .bar b"),s=this.order.instrument().get("sentiment");ae(e),ae(t),se(s)||(le(e),le(t),n.html(s.longs),i.html(s.shorts),o.css("width",s.longs+"%"),r.css("width",s.shorts+"%"))},openDeposit:function(){s.trigger("flow:deposit:RealDepositItemMainMenu"),this.close()},isSearching:function(){return"block"===this.$(".search-block .results").css("display")},updateSubmitState:function(){var e=this.$(".action__submit");this.order.hasErrors()?e.attr("disabled","true"):e.removeAttr("disabled")},disableSubmitButton:function(){this.$(".action__submit").attr("disabled","true")},submit:function(e){var t=this;e.preventDefault(),e.stopPropagation();var n=this.order;n.hasErrors()||R.showTradeConfirmation().then((function(){t.disableSubmitButton(),t.setInteractiveTradingSettings(),t.reportNewOrder(),n.placeOrder(),t.close()}))},setInteractiveTradingSettings:function(){L.setDefaultAmount(this.order.getSymbol(),this.order.amount().value())},tradeConfirmation:function(){return k.isTradingPositionRiskWarningRequired()?new Promise((function(e){s.trigger("ui:risk-warning",{regulation:"spanish",action:"trade",onOK:e})})):Promise.resolve()},reportNewOrder:function(){var e=this.order,t=e.getData(),n=t.isTakeProfit,i=t.isStopLoss,o=e.instrument().get("sentiment"),s=this.options.source,l={instrumentName:t.symbol,orderDirection:t.direction,orderType:t.type,originalQuantity:t.defaultAmount,price:t.currentPrice,quantity:Math.abs(t.amount),isSentiment:!!o,OPmodeView:a.getUserCommonData().getOpenPositionMode()};if(t.isEntryLimit&&(l.entryLimitPrice=t.entry),t.isEntryStop&&(l.entryStopPrice=t.entry),o&&(l.sentimentBuyPercentage=o.longs),i&&(l.stopLossPrice=t.stopLoss),n&&(l.takeProfitPrice=t.takeProfit),!se(s))if(s.indexOf("Popular")>-1)l.viewSource="popular";else if(s.indexOf("Trending_now")>-1)l.viewSource="trendingNow",l.trendingCategoryId=r.compact(s.split("/")).pop();else if(s.indexOf("trading")>-1){var c=r.compact(s.split("/"));c.shift(),3===c.length&&c.pop(),l.viewSource="category",l.categoryName=c.join(".")}else s.indexOf("instrument")>-1?l.viewSource="instrument":l.viewSource=s.replace("-","_")||"";__eventos("tradingPlatform:orderForm:clkSendOrder",l),I.put(t.requestId,l)},updateCaption:function(){this.$(".popup-mobile-header .center").html(this.order.instrument().getDisplayName())},toggleChart:function(){var e=this.$(".new-order__mobile-chart-area"),t=this.$(".new-order__chart-expander .expand"),n=this.$(".new-order__chart-expander span");t.removeClass("icon-double-arrow-down icon-double-arrow-up"),e.hasClass("hidden")?(le(e),t.addClass("icon-double-arrow-down"),n.html(__("chart.minimize_chart"))):(ae(e),t.addClass("icon-double-arrow-up"),n.html(__("chart.expand_chart")))},renderDangerInfo:function(){if(R.isSpanishRegulation()&&l.isSpanishRegulationForOpenPositionEnabled()){var e=a.getUserCurrencySymbol(),t=B(this.order.requiredMargin().getTotal()).format("0,0[.]00"),n=this.$(".new-order__danger-info");this.$(".new-order__danger-info-mobile").addClass("visible-xs"),r.isNaNValue(t)?n.addClass("hidden"):(n.removeClass("hidden"),n.html(__("spanish.regulation.new_order.text",e+t)))}},updateInstrumentTradable:function(){var e=this.order.instrument().status,t=this.$el.find(".new-order__trading-outside-of-trading-hours");e.canTradeOutsideOfTradingHours()?t.removeClass("hidden"):t.addClass("hidden")}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(148),s=n(234),a=["market","limit","stop"];i.exports=s.extend({initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=r.extend({},{template:o.selectBox,disable:!1,translationKey:"",options:r.filter(a,(function(t){return!r.contains(e.exclude||[],t)})),exclude:[],transformOptionsValue:function(e){return e},transformOptionText:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},e),s.prototype.initialize.call(this,e),this.value(this.options.value)}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(148),s=n(766);i.exports=s.extend({className:"form",initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.prototype.initialize.call(this,r.extend({},{template:o.radio,disable:!1,translationKey:"",items:[{value:"sell",text:'<span class="change down">'+__("actions.sell")+"</span>",checked:"sell"==e.value},{value:"buy",text:'<span class="change up">'+__("actions.buy")+"</span>",checked:"buy"==e.value}],transformOptionsValue:function(e){return e},transformOptionText:function(e){return e},title:__("wizard.form.label.DEFAULT_EMPTY"),name:"direction"},e)),this.$(".radio-inline").addClass("radio__style-1")}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(148),s=n(234),a=["sell","buy"],l={sell:function(){return'<span class="change down">'+__("actions.sell")+"</span>"},buy:function(){return'<span class="change up">'+__("actions.buy")+"</span>"}};i.exports=s.extend({className:"form",initialize:function(e){s.prototype.initialize.call(this,r.extend({},{template:o.selectBox,disable:!1,translationKey:"",options:r.filter(a,(function(t){return e.except!=t})),transformOptionsValue:function(e){return e},transformOptionText:function(e){return l[e](e)},name:"directionDropdown"},e)),this.value(this.options.value)}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){var i;void 0===(i=function(e,t,i){n(1);var r=n(281);i.exports=r.extend({})}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(1611),s=r.template(n(1612)),a=n(281);i.exports=o.extend({className:"hidden",render:function(){return o.prototype.render.call(this),this.$el.html(s({})),this.$errorMessage=this.$(".new-order__field-container_error"),this},isDisabled:function(){return this.field&&this.field.isDisabled()},isPristine:function(){return this.field&&this.field.isPristine()},value:function(e){return this.field&&this.field.value(e)},hide:function(){this.$el.addClass("hidden"),this.removeChildView(".new-order__control"),this.errorMessage(""),this.field&&this.stopListening(this.field)},show:function(e){var t=this;this.errorMessage(""),this.$el.removeClass("hidden"),this.field=this.addChildView(".new-order__control",a,r.extend({},this.options,e)),this.listenTo(this.field,"all",(function(e,n,i){return t.trigger(e,n,i)}))},errorMessage:function(e){this.$errorMessage.html(e)},setLabel:function(e){this.$(".new-order__field-name").html(e)},silentValue:function(e){this.field.silentValue(e)},setOptions:function(e){return this.field.setOptions(e)},setLabelDescription:function(e){this.$(".icon-help").parent().html('<i class="icon icon-help col-middle" aria-label="'+e+'"></i>')}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(148),s=n(211);i.exports=s.extend({className:"form",initialize:function(e){s.prototype.initialize.call(this,r.extend({},{template:o.checkBox,disable:!1,options:{value:"stop_loss"},translationKey:"",title:__("order.form.stop_loss")},e))}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(148),s=n(211);i.exports=s.extend({className:"form",initialize:function(e){s.prototype.initialize.call(this,r.extend({},{template:o.checkBox,disable:!1,options:{value:"take_profit"},translationKey:"",title:__("order.form.take_profit")},e))}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){var i;void 0===(i=function(e,t,i){n(1);var r=n(281);i.exports=r.extend({initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.intMax=6,r.prototype.initialize.call(this,e)}})}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(1616);i.exports={create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new r(e)}}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(213),o=(n(1),{silent:!0}),s=n(98),a=s.EMPTY,l=s.UPDATE;s.SUCCESS,s.ERROR,s.PENDING,s.FOUND,s.NOT_FOUND;i.exports=r.extend({defaults:function(){return{auto:!0,value:a,statusOfEntry:a,errorMessage:""}},initialize:function(){this.set("auto",this.get("value")===a,{silent:!0}),r.prototype.initialize.apply(this,arguments),this.listenTo(this.instrumentDriver(),"change:statusOfInstrumentInfo",this.onStatusOfInstrumentInfo),this.listenTo(this.direction(),"change:value",this.update),this.listenTo(this.type(),"change:value",this.update)},value:function(){return this.get("value")},setValue:function(e){var t=this.control("statusOfEntry");t(0,0,o),t(l,{value:e}),this.validate()},onStatusOfInstrumentInfo:function(){switch(this.statusOfInstrumentInfo()){case l:this.update()}},update:function(){var e=this.control("statusOfEntry");e(0,0,o),e(l,{value:this.get("auto")?this.getDefaultValue():this.value()}),this.validate()},disableAutomatic:function(){this.set("auto",!1,o)}})}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(213),s={silent:!0},a=n(98),l=a.EMPTY,c=a.UPDATE,u=a.ENABLED,d=a.DISABLED;i.exports=o.extend({initialize:function(){o.prototype.initialize.apply(this,arguments),this.listenTo(this.type(),"change:value",this.update),this.listenTo(this.requiredMargin(),"change:statusOfRequiredMargin",this.update)},setEntry:function(){o.prototype.setEntry.apply(this,arguments),this.listenTo(this.entry(),"change:statusOfEntry",this.onStatusOfEntry),this.onStatusOfEntry()},removeEntry:function(){this.stopListening(this.entry()),o.prototype.removeEntry.apply(this,arguments),this.isEnabled()&&this.update()},onStatusOfEntry:function(){switch(this.entry().get("statusOfEntry")){case c:this.isEnabled()&&this.update()}},auto:function(){this.set({autoPrice:!0,autoMoney:!0,autoPercent:!0,autoPips:!0})},touch:function(e){this.disableAutoFieldsExcept([e])},update:function(){if(this.isEnabled()){var e=this.toJSON(),t=e.autoPrice,n=e.autoPips,i=e.autoPercent,r=e.autoMoney,o=r&&i&&n,a=this.control("status");t&&o?this.setDefaultPrice(this.getDefaultPrice(),!0):(!t&&this.setPrice(this.getPrice(),!0),!r&&this.setMoney(this.get("money"),!0),!i&&this.setPercent(this.get("percent"),!0),!n&&this.setPips(this.get("pips"),!0)),this.validate(),a(0,0,s),a(c)}},isEnabled:function(){return!0===this.get("isEnabled")},enable:function(){this.set(this.defaults(),s),this.set("isEnabled",!0,s);var e=this.control("status");e(0,0,s),e(u),this.update()},disable:function(){this.set(this.defaults(),s),this.set("isEnabled",!1,s);var e=this.control("status");e(0,0,s),e(d)},getPrice:function(){return this.value()},getPips:function(e){var t=Number(e)||this.value();if(t!==l){var n=this.getCommonData(),i=n.price,r=n.diffPipsPrecision,o=n.pipsPrecisionSize,s=Math.abs((t-i)/o);return Number(s).toFixed(r)}},getPercent:function(e){var t=this.getCommonData().calculatedRequiredMarginInAccountCurrency;if(t){var n=Number(e)||this.get("money");if(n!==l)return Number(n)/t*100}},disableAutoFieldsExcept:function(e){var t=this;r.each(["Price","Money","Percent","Pips"],(function(n){return t.set("auto"+n,!r.contains(e,n),s)}))},getClosePrice:function(e){var t=this.getCommonData(),n=t.currentPrice,i=t.marginRate,r=t.isBuy,o=t.precision,s=(Number(e)||n)*(1+(r?-1:1)*(i/100));return this.roundPrice(s,o)}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){var i;void 0===(i=function(e,t,i){n(1);var r=n(800),o=n(98).EMPTY,s={silent:!0};i.exports=r.extend({defaults:function(){return{stopLossPrice:o,money:o,percent:o,pips:o,status:o,autoPrice:!0,autoMoney:!0,autoPercent:!0,autoPips:!0,errorMessage:""}},initialize:function(){r.prototype.initialize.apply(this,arguments);var e=this.get("stopLossPrice");e!==o&&(this.set({isEnabled:!0},s),this.setPrice(e))},value:function(){return this.get("stopLossPrice")},getMoney:function(e){var t=this.entry(),n=t?Number(t.value()):o,i=this.value(),r=this.getCommonData(),s=r.isBuy,a=r.amount,l=r.price,c=r.conversionRate,u=r.isTypeSpreadBetting,d=r.pipsPrecisionSize;if(a===o||i===o)return o;l=n!==o?n:l,i=Number(e)||Number(i);var p=Math.abs(i-l)*a*c;return p=(s?l-i:i-l)<0?0:p,u&&(p/=d),Number(p).toFixed(2)},getDefaultPrice:function(){var e=this.entry(),t=e?Number(e.value()):0,n=void 0,i=this.minOrderDistance(),r=this.get("pips"),s=this.get("autoPips"),a=this.getCommonData(),l=a.isBuy,c=a.price,u=a.oppositePrice,d=a.precision,p=a.pipsPrecisionSize;return l?(n=c-i)>u&&(n=Number(u-p).toFixed(d)):(n=c+i)<u&&(n=Number(u+p).toFixed(d)),e&&(n=l?t-i:t+i),s||r===o||(n=l?n-Number(r):n+Number(r)),Number(n).toFixed(d)},setDefaultPrice:function(e,t){this.set({stopLossPrice:e},s),this.set({money:this.getMoney(e)},s),this.set({percent:this.getPercent()},s),this.set({pips:this.getPips(e)},s),!t&&this.update()},setPrice:function(e,t){this.set({autoPrice:!1},s),this.setDefaultPrice(e,t),!t&&this.update()},setMoney:function(e,t){var n=this.getCommonData(),i=n.isBuy,r=n.price,o=n.conversionRate,a=n.amount,l=n.isTypeSpreadBetting,c=n.pipsPrecisionSize,u=Number(e);l&&(u*=c);var d=i?r-u/(a*o):r+u/(a*o);this.set({autoMoney:!1},s),this.set({money:e},s),this.set({percent:this.getPercent()},s),this.set({stopLossPrice:d},s),this.set({pips:this.getPips(d)},s),!t&&this.update()},setPercent:function(e,t){var n=this.getCommonData(),i=n.isBuy,r=n.conversionRate,o=n.price,a=n.amount,l=n.calculatedRequiredMarginInAccountCurrency,c=n.pipsPrecisionSize,u=n.isTypeSpreadBetting,d=Number(e)/100*l/(a*r);u&&(d*=c);var p=i?o-d:o+d;this.set({autoPercent:!1},s),this.set({percent:e},s),this.set({stopLossPrice:p},s),this.set({money:this.getMoney(p)},s),this.set({pips:this.getPips(p)},s),!t&&this.update()},setPips:function(e,t){var n=this.getCommonData(),i=n.isBuy,r=n.price,o=n.pipsPrecisionSize,a=Number(e)*o,l=i?r-a:r+a;this.set({stopLossPrice:l},s),this.set({autoPips:!1},s),this.set({money:this.getMoney(l)},s),this.set({percent:this.getPercent()},s),this.set({pips:e},s),!t&&this.update()},validate:function(){var e=this.getCommonData(),t=e.isSell,n=e.isBuy,i=e.isEntry,r=e.entryPrice,o=e.precision,s=this.getValidationValueForLoss(),a=this.getPrice(),l=this.minOrderDistance(!0),c=this.control("errorMessage");c(""),i&&(s=t?r+l:r-l),a?(t&&a<s&&c(__("order.form.validation.stop_loss_pips_higher",Number(s).toFixed(o))),n&&a>s&&c(__("order.form.validation.stop_loss_pips_lesser",Number(s).toFixed(o)))):c(__("order.form.validation.stop_loss_pips_higher",0))},getValidationValueForLoss:function(){var e=this.getCommonData(),t=e.precision,n=e.isBuy,i=e.currentPrice,r=e.currentOppositePrice,o=e.pipsPrecisionSize,s=this.minAllowedOrderDistance(),a=void 0,l=void 0;return n?(a=Number((i-s).toFixed(t)))<=(l=Number((r-o).toFixed(t)))?a:l:(a=Number((i+s).toFixed(t)))>=(l=Number((r+o).toFixed(t)))?a:l}})}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i){var r;function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}void 0===(r=function(e,t,i){var r=n(1),s=n(43),a=n(8),l=n(66),c=n(5),u=n(803),d={silent:!0},p=n(581),f=p.PENDING,h=p.PENDING_BEGIN,m=p.PENDING_END,g=p.CONVERTER_CHANGED,v=p.NEW_FEED,b=p.UPDATE_FEED,_=p.UPDATE_ALL_FEED,y={"5m":function(e,t){return{aggregationPeriod:{name:"5m",seconds:300,intraday:!0},expansionBarsCount:0,extendedHours:!1,forexPriceField:"bid",id:e,maxBarsCount:100,range:{name:"170 Years",duration:5375808e3,defaultAggregationPeriod:{intraday:!0,name:"5m",seconds:300}},studySubscription:[],subtopic:e,symbol:t,updateInterval:300}},"1m":function(e,t){return{aggregationPeriod:{name:"1m",seconds:60,intraday:!0},expansionBarsCount:0,extendedHours:!1,forexPriceField:"bid",id:e,maxBarsCount:100,range:{name:"170 Years",duration:5375808e3,defaultAggregationPeriod:{name:"1m",seconds:60,intraday:!0}},studySubscription:[],subtopic:e,symbol:t,updateInterval:60}}};i.exports=s.extend({defaults:function(){return{symbol:"",defaultConverter:"line"}},initialize:function(){this.listenTo(c,"stream:type:chartFeedSubtopic",this.handleFeed),this.subs=null},add:function(e){var t=this.control("status");this.subs=this._create(e),a.updateChartsSubscription(l.getAtmosphereId(),this.subs.aggregation,[this.subs.id]),t(0,0,d),t(h),t(f)},remove:function(){this._destroy()},_create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"5m",n=r.uniqueId(e+"-"+t+"-chart-simple-");return{id:n,symbol:e,allFeed:[],newFeed:[],rawFeed:[],aggregation:[y[t](n,e)]}},_destroy:function(){this.subs&&(a.unsubscribeCharts(l.getAtmosphereId(),[this.subs.id]),this.subs=null)},handleFeed:function(e){var t=this.control("status"),n=this.get("status"),i=e.historyRequestID,s=e.historyData,a=e.data,l=this.getSubscription(i),c=l.subscription,u=l.converter;if(c){var p=r.sortBy(a,(function(e){return e.timestamp})),h=[].concat(o(c.rawFeed),o(p)),g=r.last(h),y=(r.last(c.rawFeed)||{}).timestamp!==g.timestamp,E=[].concat(o(this.convertFeed(u,p)));c.rawFeed=h,c.allFeed=[].concat(o(c.allFeed),o(this.convertFeed(u,p))),c.newFeed=[],c.updatedFeed=[],t(0,0,d),n===f?(c.allFeed=[].concat(o(this.convertFeed(u,p))),t(m)):s?(c.allFeed=this.convertFeed(u,r.sortBy(h,"timestamp")),t(_)):y?(c.newFeed=E,t(v)):(c.updatedFeed=E,t(b))}},getAllFeed:function(){return this.subs?this.subs.allFeed:[]},getNewFeed:function(){return this.subs?this.subs.newFeed:[]},getUpdatedFeed:function(){return this.subs?this.subs.updatedFeed:[]},changeConverter:function(e){var t=this.subs,n=t.subscription,i=t.allFeed,r=t.converter;if(n&&r!==e){n.allFeed=this.convertFeed(e,i);var o=this.control("status");o(0,0,d),o(g)}},convertFeed:function(e,t){return u.convert(e,t)},getSubscription:function(e){var t=this.subs;return{subscription:t&&t.id===e?t:null,converter:this.get("defaultConverter"),allFeed:t&&t.allFeed,newFeed:t&&t.newFeed}},destroy:function(){this._destroy(),s.prototype.destroy.call(this)}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1);i.exports={convert:function(e,t){switch(e){case"candlestick":return this.candlestick(t);case"ohlc":return this.ohlc(t);case"line":default:return this.line(t)}},line:function(e){return r.map(e,(function(e){return[e.timestamp,e.close]}))},candlestick:function(e){return r.map(e,(function(e){return[e.timestamp,e.open,e.high,e.low,e.close]}))},ohlc:function(e){return r.map(e,(function(e){return[e.timestamp,e.open,e.high,e.low,e.close]}))}}}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var o=n(20),s=n(1),a=s.template(n(1637)),l=o.extend({className:"slide-box",timingMs:200,isOpened:!1,events:function(){return s.extend({},s.result(o.prototype,"events"),{"click .fn-close":"closePanel","click .fn-previous":"onPrevious","touchstart .slide-box-panel":"onHandleClickAndTouch","touchstart .slide-box-container":"onHandleClickAndTouch","click .slide-box-panel":"onHandleClickAndTouch","click .slide-box-container":"onHandleClickAndTouch"})},attributes:{tabindex:"-1"},getOptions:function(e){return s.extend({},{parent:document.body,showBoxShadow:!1,boxWidth:"100%",maxBoxWidth:"100%",showHeader:!0,overlayTranslucent:"1",previousCaption:"",caption:"",onPrevious:function(){},onNext:function(){}},e)},initialize:function(e){o.prototype.initialize.apply(this,arguments),this.render()},render:function(){o.prototype.render.call(this),this.$el.attr("id",this.cid),this.$el.html(r(a(this.getRenderTemplateData()))),this.openPanel()},getRenderTemplateData:function(){return{cid:this.cid,options:this.options}},close:function(){this.closePanel(),this.destroy()},setContent:function(e){this.$el.find(".slide-box-content").html(e)},getPopupViewId:function(){return this.cid},getOverlayEl:function(){return r(this.$(".slide-box-overlay"))},getPanelEl:function(){return r(this.$(".slide-box-container"))},show:function(){this.$el.css("display","block"),this.lockScrollOnBody()},hide:function(){this.$el.css("display","none"),this.unlockScrollOnBody()},showOverlay:function(){var e=this.getOverlayEl(),t=e.css("opacity");e.css("opacity",0),setTimeout((function(){e.css("opacity",t)}),0)},hideOverlay:function(){this.getOverlayEl().css("opacity",0)},addOpenStateClass:function(){this.$el.addClass("slide-box-opened")},removeOpenStateClass:function(){this.$el.removeClass("slide-box-opened")},lockScrollOnBody:function(){r("body").addClass("scroll-lock")},unlockScrollOnBody:function(){r("body").removeClass("scroll-lock")},openPanel:function(){this.showOverlay(),this.addOpenStateClass(),this.isOpened=!0,this.show()},closePanel:function(){var e=this;this.hideOverlay(),this.removeOpenStateClass(),setTimeout((function(){e.hide(),e.destroy(),e.unlockScrollOnBody()}),this.timingMs),this.isOpened=!1},toggleMenu:function(){this.isOpened?this.closePanel():this.openPanel()},onPrevious:function(){this.closePanel(),this.options.onPrevious()},getEventInfo:function(e){var t=r(e.currentTarget).attr("class");return{isContainer:t.indexOf("slide-box-container")>=0,isPanel:t.indexOf("slide-box-panel")>=0||r(e.currentTarget).parent("slide-box-panel")}},onHandleClickAndTouch:function(e){var t=this.getEventInfo(e);if(t.isContainer)return this.onPreventDefaultAndClosePanel(e);t.isPanel&&this.onStopImmediatePropagation(e)},onPreventDefaultAndClosePanel:function(e){this.onPreventDefault(e),this.closePanel()},onPreventDefault:function(e){e.preventDefault()},onStopImmediatePropagation:function(e){e.stopImmediatePropagation()}});i.exports=l}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(136),s=r.template(n(1645)),a=r.template(n(242)),l=n(176),c=n(8),u=n(5),d=n(6),p=o.extend({events:function(){return r.extend({},r.result(o.prototype,"events"),{"click #auth-forgot-password-button-submit":"submit","click #forgot-password-back-to-login-page-link":"close","submit .forgot-password-form":"submit"})},isFooterShowed:!0,isForgotPassSentToMail:!1,ui:{email:"#auth-forgot-password-input-email",submit:"#auth-forgot-password-button-submit",inform:".inform-block",error:".error-block"},getOptions:function(e){return r.extend({},o.prototype.getOptions.call(this,e),e)},initialize:function(e){o.prototype.initialize.apply(this,arguments),e.backKey&&(this.backKey=e.backKey),void 0!==e.isFooterShowed&&(this.isFooterShowed=e.isFooterShowed),this.render()},render:function(){o.prototype.render.call(this),this.setContent(s({isFooterShowed:this.isFooterShowed,backKey:this.backKey?this.backKey:"actions.back"})),this.initForm()},initForm:function(){["fn-auth-forgot-password-input-email"].forEach((function(e){this.$("."+e+" > input")[0].onfocus=this.onFocus.bind(this)}),this)},onFocus:function(e){e.target.parentNode.classList.remove("field-error"),this.cleanErrors()},getValidatorFilters:function(){return{"fn-auth-forgot-password-input-email":["string"]}},getValidatorRules:function(){return{"fn-auth-forgot-password-input-email":{not_empty:__("registration.warning.field_is_required",__("account_settings.customer_info.form.email")),email:__("withdraw.form.error.email")}}},getFormData:function(){return{"fn-auth-forgot-password-input-email":this.$(this.ui.email).val()}},validate:function(){var e=new l(this.getValidatorFilters(),this.getValidatorRules()),t=this.getFormData();return e.validate(t)},submit:function(e){var t=this;e.preventDefault(),this.cleanErrors(),this.hideBlock(this.ui.inform),this.hideBlock(this.ui.error);var n=this.validate(),i=this.getFormData()["fn-auth-forgot-password-input-email"];n?this.showErrors(n):(this.disableForm(),this.hideBlock(this.ui.inform),c.forgotPassword(i).then((function(){t.isForgotPassSentToMail=!0,t.enableForm(),t.inform(__("forgot_password.confirmation",i))})).catch((function(){t.enableForm(),t.error(__("generic.error.message"))})))},close:function(){this.isForgotPassSentToMail&&d.isLoggedIn()&&u.trigger("user:session:close"),o.prototype.close.call(this)},inform:function(e){this.$el.find(this.ui.inform).html(e),this.showBlock(this.ui.inform)},error:function(e){this.$el.find(this.ui.error).html(e),this.showBlock(this.ui.error)},hideBlock:function(e){this.$el.find(e).css("display","none")},showBlock:function(e){this.$el.find(e).css("display","block")},disableForm:function(){this.$el.find(this.ui.email).attr("disabled",!0),this.$el.find(this.ui.submit).attr("disabled",!0)},enableForm:function(){this.$el.find(this.ui.email).removeAttr("disabled"),this.$el.find(this.ui.submit).removeAttr("disabled")},showErrors:function(e){var t=this;r.each(e,(function(e,n,i){t.$("."+n).addClass("field-error")})),this.$(".error-block").html(a({errors:e})),this.$(".error-block").css("display","block")},cleanErrors:function(){var e=this,t=this.getFormData();r.each(t,(function(t,n){e.$("."+n).removeClass("field-error")})),this.$(".error-block").css("display","none")}});i.exports=p}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var o=n(1),s=n(5),a=n(6),l=n(70),c=n(73),u=n(9),d=n(102),p=n(457),f=n(456),h=o.template(n(1648)),m=l.extend({name:"funds-management",initialize:function(e){l.prototype.initialize.apply(this,arguments),this.listenTo(a.getUserAccountMetricsModel(),"change:activeBonusesAmount",this.render),this.listenTo(s,"user:account-metrics",this.updateMetrics),this.load(e)},events:function(){return o.extend({},o.result(l.prototype,"events"),{"click .fn-withdraw":"onWithdraw","click .fn-deposit":"onDeposit"})},getOptions:function(e){return o.extend({},o.result(l.prototype,"getOptions"),{isHeaderShowed:!0,caption:__("funds.management"),previousCaption:__("actions.back"),headerStyle:"wizard"},e)},load:function(e){var t=this;(new f).load().then((function(n){e.spreadRebate=n.data,a.updateUserPendingDeposit().then((function(){e.pendingDepositsFormatted=c(a.getUserPendingDeposit()).formatForeignCurrency(a.getUserCurrencySymbol()),t.render(e)}))})).catch((function(n){t.render(e)}))},render:function(e){l.prototype.render.call(this);var t=a.getUserAccountMetricsModel(),n=a.getUserCurrencySymbol(),i=e.pendingDepositsFormatted,r=c(t.getBalance()).formatForeignCurrency(n),o=c(t.getBuyingPower()).formatForeignCurrency(n),s=c(t.getEquity()).formatForeignCurrency(n),p=c(t.getProfitLoss()).formatForeignCurrency(n),f=t.getProfitLoss()>=0,m=c(t.getMarginUsed()).formatForeignCurrency(n),g=c(t.getMaintenanceMargin()).formatForeignCurrency(n),v=(100*a.getUserAccountSettingsModel().getLiquidationLevel()).toFixed(),b=(100*a.getUserAccountSettingsModel().getMarginAlertLevel2()).toFixed(),_=t.getRiskLevel(),y=!d.LOW_SCORE()||!d.FULL_REGISTRATION_COMPLETED(),E=c(t.getAvailableForWithdrawal()).formatForeignCurrency(n),S=c(t.getActiveBonusesAmount()).formatForeignCurrency(n),C=!1,w=this.isBonusesEnabled(),O=0;return e.spreadRebate&&(C=!0===e.spreadRebate.active&&!1===e.spreadRebate.expired&&u.isSpreadRebateEnabled(),O=c(e.spreadRebate.spreadRebateTotal).formatForeignCurrency(n)),this.setContent(h({settings:u,pendingDeposits:a.getUserPendingDeposit(),pendingDepositsFormatted:i,userMetrics:a.getUserAccountMetricsModel(),userSettings:a.getUserAccountSettingsModel(),currency:n,balance:r,buyingPower:o,equity:s,profitLoss:p,profitLossPositive:f,marginUsed:m,maintenanceMargin:g,riskLevel:_,showSpreadRebate:C,isPlatformSwitchAllowed:y,availableForWithdrawal:E,isBonusesEnabled:w,activeBonusesAmount:S,spreadRebateTotal:O,liquidationLevel:v,marginAlertLevel2:b})),this},updateMetrics:function(){var e=a.getUserAccountMetricsModel().toJSON();o.some(e,(function(e,t){return"availableBalanceForWithdrawal"===t}))&&this.updateAvailableForWithdrawal()},updateAvailableForWithdrawal:function(){var e=r("span[data-id=availableForWithdrawal]"),t=c(a.getUserAccountMetricsModel().getAvailableForWithdrawal()).formatForeignCurrency(a.getUserCurrencySymbol());e.length&&e.html()!==t&&e.html(t)},onDeposit:function(e){e.preventDefault(),this.close(),s.trigger("flow:deposit:RealFundsManDeposit")},onWithdraw:function(e){e.preventDefault(),this.close(),s.trigger("ui:withdraw")},isBonusesEnabled:function(){return u.isBonusesEnabled()&&p.hasBonuses()&&p.hasCashBonuses()}});i.exports=m}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){"use strict";n.r(t),n.d(t,"MessageCategory",(function(){return i}));var i={TRADE_LOG:"TRADE_LOG"}},function(e,t,n){var i;void 0===(i=function(e,t,i){n(1);var r=n(788);i.exports=r.extend({})}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var i=n(0),r=n.n(i),o=n(7),s=n.n(o),a=(n(1660),n(645)),l=n(369),c=n(31),u=n(146),d=n.n(u),p=n(1),f=n.n(p),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=function(e){function t(){var e,n,i;g(this,t);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return n=i=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),i.state={zIndex:7e3},v(i,n)}return b(t,e),h(t,[{key:"componentDidMount",value:function(){var e=d.a.getZindexForPopup(this.state.zIndex);d.a.addPopup({name:this.props.name,zIndex:e})}},{key:"componentWillUnmount",value:function(){d.a.deletePopup(this.props.name)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.title,i=e.children,o=e.onClose,a=e.rounded,l=e.dark,u=e.showHeader,d=s()(m({"x-popup responsive-popup x-popup-stretch-xs":!0,"x-popup-no-padding-xs responsive-popup-fixed x-popup-fixed":!0,"responsive-popup-translucent-1 x-popup-translucent-1":!0,"popup show-popup":!0,"responsive-popup-opened fs-13":!0},t,t)),p=s()({"hidden-sm hidden-md hidden-lg":!0,"slide-box-overlay slide-box-overlay-translucent-1":!0}),f=s()({"x-popup-content":!0,"x-popup-content--rounded":a,"x-popup-content--dark":l});return r.a.createElement("div",{className:d,style:{zIndex:this.state.zIndex}},r.a.createElement("div",{className:p}),r.a.createElement("div",{className:"x-popup-box responsive-container"},r.a.createElement("div",{className:"x-popup-panel responsive-panel"},r.a.createElement("div",{className:"x-popup-holder"},r.a.createElement("div",{className:f},r.a.createElement("div",{className:"responsive-popup-content"},r.a.createElement(c.default,{mobile:!0},r.a.createElement("div",{className:"responsive-header "},r.a.createElement("div",{className:"caption fs-18 popup-with-tabs__popup-title"},n),r.a.createElement("div",{className:"previous btn fn-previous",onClick:o},r.a.createElement("div",{className:"arrow"})))),r.a.createElement(c.default,{desktop:!0,tablet:!0},u&&n&&r.a.createElement("div",{className:"x-popup-header responsive-header responsive-header-bg-style-transparent responsive-header-style-wizard"},r.a.createElement("div",{className:"header-caption popup-with-tabs__popup-title"},n))||null),r.a.createElement("div",{className:"responsive-popup-body"},i)),r.a.createElement("div",{className:"hidden-xs header-actions btn",onClick:o},r.a.createElement("i",{className:"icon-close-blue"})))))))}}]),t}(r.a.Component);_.defaultProps={name:f.a.uniqueId("portal-")};var y=function(e){function t(){return g(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),h(t,[{key:"extendTabs",value:function(e){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e),[{id:"popup-with-tabs__splitter",title:r.a.createElement("div",null),view:null,disabled:!0,className:"react-tabs__splitter"},{id:"popup-with-tabs__footer",title:r.a.createElement(a.a,{className:"popup-with-tabs__help"}),view:null,disabled:!0,className:"popup-with-tabs__footer"}])}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.tabs,i=e.onClose,o=e.title,a=e.selectedTabId,u=s()(m({"popup-with-tabs":!0},t,t));return r.a.createElement(_,{onClose:i,rounded:!0,dark:!0,title:o,className:u},r.a.createElement("div",{className:"popup-with-tabs__content"},r.a.createElement(c.default,{desktop:!0,tablet:!0},r.a.createElement(l.a,{tabList:this.extendTabs(n),className:"popup-with-tabs__tabs",withFade:!1,selectedTabId:a})),r.a.createElement(c.default,{mobile:!0},r.a.createElement(l.a,{tabList:n,className:"popup-with-tabs__tabs react-tabs-style--default",selectedTabId:a}))))}}]),t}(r.a.Component);t.b=y},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(458),o=n(6),s=n(3),a=s.ERROR,l=s.SUCCESS;i.exports=r.extend({initialize:function(){this.loadDepositAmountConfig()},update:function(){var e=this.toJSON().statusOfDepositAmountConfig;e===a&&this.set("status",a),e===l&&this.set("status",l)},getCurrencySymbol:function(){return o.getUserCurrencySymbol()}})}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(20),o=n(1),s=n(748),a=n(747),l=n(749),c=r.extend({className:"external-auth",events:function(){return o.extend({},o.result(r.prototype,"events"),{})},template:o.template(n(1680)),initialize:function(){r.prototype.initialize.apply(this,arguments),this.render()},render:function(){this.$el.append(this.template()),s.connect(this.$el.find(".fb-btn")),a.connect(this.$el.find(".google-btn")),l.connect()}});i.exports=c}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){var i;void 0===(i=function(e,t,n){n.exports={EMPTY:"EMPTY",SUCCESS:"SUCCESS",ERROR:"ERROR",LOADING:"LOADING"}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(940),s=n.n(o),a=n(9),l=n.n(a),c=n(54),u=n.n(c),d=n(72),p=n.n(d),f=n(490),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var m="light",g="dark",v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),h(t,[{key:"render",value:function(){var e=this.props,t=e.verifyCallback,n=e.expiredCallback,i=l.a.getCaptchaKey(),o=u.a.getCurrentLanguage(),a=function(){switch(p.a.name){case f.Themes.DARK:return g;case f.Themes.LIGHT:default:return m}}();return r.a.createElement(s.a,{sitekey:i,theme:a,hl:o,verifyCallback:t,expiredCallback:n})}}]),t}(r.a.Component);t.default=v},function(e,t,n){var i;void 0===(i=function(e,t,n){n.exports={STEP_DONE:"done",STEP_PENDING:"pending",STEP_IN_PROGRESS:"in-progress"}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(5),s=n(70),a=n(584),l=n(8);i.exports=s.extend({className:"bonus-requests",name:"bonus-requests",events:function(){return r.extend({},r.result(s.prototype,"events"),{"click .fn-approve":"onApprove","click .fn-reject":"onReject","click .content":"trackClickTerms"})},getOptions:function(e){return r.extend({},r.result(s.prototype,"getOptions"),{isHeaderShowed:!1,showHeader:!1,closeOnESC:!1,caption:__("bonus_request.popup.title"),previousCaption:__("actions.back"),ignorableByLoginMessage:!0,showBoxShadow:!0},e)},getBonusCurrency:function(e){return __currency(e.currency.toUpperCase())},getBonusTypeLocalizationKey:function(e,t){return t+e.type.toLowerCase()},onApprove:function(){o.trigger("user:bonus_requests:approve"),this.close()},onReject:function(){o.trigger("user:bonus_requests:reject"),this.close()},sendApprove:function(e){l.approveBonusRequest(e.id).then((function(t){return a.approve(e)}))},sendReject:function(e){l.rejectBonusRequest(e.id).then((function(t){return a.reject(e)}))}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){var i=n(43),r=n(8),o=n(66),s=n(89),a=n(26),l=n(1),c=n(3),u=c.EMPTY,d=c.PROCESSING,p=(c.ERROR,c.SUCCESS);e.exports=i.extend({defaults:function(){return{status:u}},closeAll:function(){var e=this,t=this.getPositionsModels(this.get("positionCodes")),n=this.control("status");this.get("status")!==d&&(n(d),l.each(t,(function(t){return e.close(t)})),n(p))},getPositionsModels:function(e){return l.map(e,(function(e){return s.getPositionByCode(e)}))},close:function(e){var t=e.get("instrumentId"),n=a.getInstrumentById(t);if(n){var i=e.getQuantity(),s=i<0,l={effect:"CLOSING",timeInForce:"FOK",instrumentId:t,positionCode:e.getPositionCode(),limitPrice:s?n.getAsk():n.getBid(),quantity:-1*i,orderType:"LIMIT"};return __eventos("tradingPlatform:closePosition:clkClosePositionSendOrder",{InstrumentName:n.getInstrumentSymbol(),PositionAmount:i,PositionId:e.getPositionCode(),PositionDirection:s?"Sell":"Buy",OrderPL:e.getPLOpen(),OrderAmount:i}),r.closePosition(o.getAtmosphereId(),l)}}})},function(e,t,n){(function(i){var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};void 0===(r=function(e,t,i){var r=n(1),s=n(118),a=n(0),l=n(22),c=n(1904).default,u=n(86),d=n(5),p=n(3),f=p.EMPTY,h=p.PROCESSING,m=p.ERROR,g=p.SUCCESS,v=n(4).Provider,b=r.template(n(1717));i.exports=s.extend({initialize:function(e){e=o({template:b,zIndex:9999},e),s.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:status",this.onStatusChanged)},render:function(){return s.prototype.render.call(this),l.render(a.createElement(v,{store:store},a.createElement("ul",{className:"list"},r.map(this.model.get("positionCodes"),(function(e,t){return a.createElement("li",{key:t,className:"list__item"},a.createElement(c,{positionCode:e}))})))),this.$(".fn-list")[0]),this.$(".confirm-dialog").addClass("close-all-positions"),this},onStatusChanged:function(){switch(this.model.get("status")){case f:break;case h:this.addChildView(".content",u);break;case g:this.removeChildView(".content");break;case m:this.removeChildView(".content"),d.trigger("ui:message-box",{caption:__("errors.title"),text:__("generic.error.message")})}},onOK:function(){this.model.closeAll(),s.prototype.onOK.call(this)},destroy:function(){l.unmountComponentAtNode(this.$(".fn-list")[0]),s.prototype.destroy.call(this)}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){var i=n(43),r=n(8),o=n(66),s=(n(103),n(26),n(1)),a=n(3),l=a.EMPTY,c=a.PROCESSING,u=(a.ERROR,a.SUCCESS);e.exports=i.extend({defaults:function(){return{status:l}},cancelAll:function(){var e=this,t=this.get("ids")||[],n=this.control("status");this.get("status")!==c&&(n(c),s.each(t,(function(t){return e.cancel(t)})),n(u))},cancel:function(e){return r.orderCancel(o.getAtmosphereId(),e)}})},function(e,t,n){(function(i){var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};void 0===(r=function(e,t,i){var r=n(1),s=n(118),a=n(0),l=n(22),c=n(1910).default,u=n(86),d=n(5),p=n(4).Provider,f=r.template(n(1718)),h=n(3),m=h.EMPTY,g=h.PROCESSING,v=h.ERROR,b=h.SUCCESS,_=s.extend({initialize:function(e){e=o({template:f,zIndex:9999},e),s.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:status",this.onStatusChanged)},render:function(){var e=this.model.get("ids");return s.prototype.render.call(this),l.render(a.createElement(p,{store:store},a.createElement("ul",{className:"list"},r.map(e,(function(e,t){return a.createElement("li",{key:t,className:"list__item"},a.createElement(c,{orderId:e}))})))),this.$(".fn-list")[0]),this.$(".confirm-dialog").addClass("close-all-positions"),this},onStatusChanged:function(){switch(this.model.get("status")){case m:break;case g:this.addChildView(".content",u);break;case b:this.removeChildView(".content");break;case v:this.removeChildView(".content"),d.trigger("ui:message-box",{caption:__("errors.title"),text:__("generic.error.message")})}},onOK:function(){this.model.cancelAll(),s.prototype.onOK.call(this)},destroy:function(){l.unmountComponentAtNode(this.$(".fn-list")[0]),s.prototype.destroy.call(this)}});i.exports=_}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var o=n(1),s=n(100),a=n(8),l=n(821),c=n(6),u=n(86),d=n(526),p=n(585),f=n(9),h=n(3).TRADING_TOOLS,m={refreshTime:3e5,loadWebinars:function(){c.getUserWebinarsModel().load(),this.createLoadingView(),this.onLoadWebinarsSuccess()},onLoadWebinarsSuccess:function(){var e=this;c.getUserWebinarsModel().ready((function(t){f.checkTradingToolEnabled(h.WEBINARS_PREMIUM).then((function(n){e.createCollection(t,n),e.render(),e.destroyLoadingView()}))}))},createCollection:function(e,t){var n=this;this.upcoming_webinars=new s,this.past_webinars=new s;var i=o.filter(e.get("webinars"),(function(e){return!e.isPremium||e.isPremium&&t}));o.each(i,(function(e){var t=new l(e);t.isUpcoming()?n.upcoming_webinars.add(t):o.isNull(t.getWebinarURL())||n.past_webinars.add(t)})),this.upcoming_webinars.comparator=function(e,t){return e.get("startTime")-t.get("startTime")},this.upcoming_webinars.sort(),this.past_webinars.comparator=function(e,t){return t.get("startTime")-e.get("startTime")},this.past_webinars.sort()},joinWebinar:function(e){var t=c.getCustomerId(),n=o.find(this.upcoming_webinars.models,(function(t){return t.getWebinarId()===e}));new p({parent:r("body"),webinar:n,startTime:Date.now(),onClose:function(){return null}});return this.close(),a.joinWebinar(t,e).then((function(e){if(e.data.error)return Promise.reject()}))},registerWebinar:function(e){var t=c.getCustomerId(),n=o.find(this.upcoming_webinars.models,(function(t){return t.getWebinarId()===e})),i=!n.isRegistered();n.updateRegistration(i),this.$el.find('[data-id="'+e+'"]').find("span").html(i?__("webinars.unregister"):__("webinars.register"));var r=i?__("webinars.register.title"):__("webinars.unregister.title"),s=i?__("webinars.register.text"):__("webinars.unregister.text");return d.show({title:r,body:s}),a.registerWebinar(t,e,i).then((function(e){if(e.data.error)return Promise.reject()}))},join:function(e){var t=r(e.currentTarget).attr("data-id");this.joinWebinar(t)},register:function(e){var t=r(e.currentTarget).attr("data-id");this.registerWebinar(t)},createLoadingView:function(){this.loadingView=new u({parent:r(".main-box"),position:"absolute"})},destroyLoadingView:function(){this.loadingView&&(this.loadingView.destroy(),this.loadingView=null)}};i.exports=m}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){var i;void 0===(i=function(e,t,i){n(1);var r=n(43),o=n(16),s=n(9),a=n(114),l=n(3).MINUTE_IN_MILLISECONDS,c=r.extend({defaults:function(){return{id:null,title:"",description:"",presentor:{title:"",name:"",img:"",_cid:""},language:"EN",category:"",startTime:"",duration:60,url:"",img:"",historyVODUrl:"",isRegistered:!1,isJoined:!1,isPremium:!1}},getWebinarId:function(){return this.get("id")},getWebinarImg:function(){if(this.get("img"))return this.get("img");if(this.get("category"))try{return n(1729)("./"+this.get("category").toLowerCase().replace(/\W+/g,"_")+".png")}catch(e){}return n(998)},webinarIsPremium:function(){return this.get("isPremium")},getWebinarTime:function(){return this.isActive()?__("webinars.now"):o(this.get("startTime")).local().format("dddd, D MMM YYYY, h:mm a")},getWebinarStartTime:function(){return __("webinars.start.time")+": "+a.webinarStartTime(this.get("startTime"))},getWebinarGoogleCalendarLink:function(){return encodeURI(["https://www.google.com/calendar/render","?action=TEMPLATE","&text="+(this.getWebinarTitle()||""),"&dates="+(o(this.get("startTime")).format("YYYYMMDD[T]HHmmss")||""),"/"+(o(parseInt(this.get("startTime"))+this.getWebinarDuration()*l).format("YYYYMMDD[T]HHmmss")||""),"&details="+(this.getWebinarDescription()||""),"&location="+(window.location.href||""),"&sprop=&sprop=name:"].join(""))},getWebinarOutlookCalendarLink:function(){return encodeURI("data:text/calendar;charset=utf8,"+["BEGIN:VCALENDAR","VERSION:2.0","BEGIN:VEVENT","URL:"+window.location.href,"DTSTART:"+o(this.get("startTime")).format("YYYYMMDD[T]HHmmss"),"DTEND:"+o(parseInt(this.get("startTime"))+this.getWebinarDuration()*l).format("YYYYMMDD[T]HHmmss"),"SUMMARY:"+(this.getWebinarTitle()||""),"DESCRIPTION:"+(this.getWebinarDescription()||""),"END:VEVENT","END:VCALENDAR"].join("\n"))},getWebinarTitle:function(){return this.get("title")},getWebinarPresenterImg:function(){return this.get("presenter").img||n(999)},getWebinarPresenterName:function(){return this.get("presenter").name},getWebinarPresenterTitle:function(){return this.get("presenter").title},getWebinarDescription:function(){return this.get("description")},getWebinarLanguage:function(){return this.get("language").toLowerCase()},getWebinarDuration:function(){return this.get("duration")},isRegistered:function(){return this.get("isRegistered")},isJoined:function(){return this.get("isJoined")},isUpcoming:function(){var e=(new Date).getTime();return parseInt(this.get("startTime"))+this.getWebinarDuration()*l+s.getWebinarsActiveAdditionTime()>e},isActive:function(){var e=(new Date).getTime(),t=parseInt(this.get("startTime")),n=this.getWebinarDuration()*l,i=s.getWebinarsActiveAdditionTime(),r=s.getWebinarsPreActiveAdditionTime();return(t<e||t-r<e)&&t+n+i>e},updateRegistration:function(e){this.set("isRegistered",e)},getWebinarURL:function(){return this.isActive()?this.get("url"):this.get("historyVODUrl")||null}});i.exports=c}.call(t,n,t,e))||(e.exports=i)},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(1),s=n.n(o),a=n(8),l=n.n(a),c=n(3),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var d=1e3,p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={status:c.EMPTY},n.throttledHandleTryAgain=s.a.throttle((function(){return n.mounted&&n.handleTryAgain()}),d),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),u(t,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"handleTryAgain",value:function(){var e=this,t=this.props.testUrl;this.setStatus(c.LOADING),l.a.get(t).then((function(t){return e.onLine()})).catch((function(t){return s.a.delay((function(){return e.setStatus(c.ERROR)}),500)}))}},{key:"setStatus",value:function(e){this.mounted&&this.setState({status:e})}},{key:"onLine",value:function(){this.mounted&&s.a.isFunction(this.props.onLine)&&this.props.onLine()}},{key:"render",value:function(){var e=this.state.status;return r.a.createElement("div",{className:"offline-page pane pane__fluid pane__column"},r.a.createElement("div",{className:"pane"},r.a.createElement("div",{className:"offline-page__header"})),r.a.createElement("div",{className:"pane pane__fluid pane__column offline-page__body"},e===c.LOADING&&r.a.createElement("div",{className:"offline-page__content"},r.a.createElement("h1",null,"Checking...")),e!==c.LOADING&&r.a.createElement("div",{className:"offline-page__content"},r.a.createElement("h1",null,"Sorry!"),r.a.createElement("p",null,"We were unable to load the page you requested."),r.a.createElement("p",null,"Please check your network connection and ",r.a.createElement("a",{href:"#",className:"try-again__link",onClick:this.throttledHandleTryAgain},"try again.")))))}}]),t}(i.Component);t.default=p},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var o=n(1),s=n(20),a=n(842),l=o.template(n(1816)),c=o.template(n(1817)),u=s.extend({events:function(){return o.extend({},o.result(s.prototype,"events"),{"click .node":"onNodeClick"})},collection:new a,initialize:function(e){s.prototype.initialize.apply(this,arguments),this.listenTo(this.collection,"update",this.render),this.render()},onNodeClick:function(e){var t=r(e.currentTarget),n=t.hasClass("folder"),i=t.hasClass("closed"),o=t.attr("data-id");if(e.preventDefault(),!n){this._selected&&(this._selected.removeClass("tree_node_selected"),this.$el.find(".child_selected").removeClass("child_selected")),this._selected=t.addClass("tree_node_selected");var s=t.closest(".folder"),a=r(s).parent().closest(".folder");s&&r(s).addClass("child_selected"),a&&r(a).addClass("child_selected")}var l=this.collection.getItemById(o);l&&this.trigger("node:click",l.toJSON()),n&&(i?this.openNode(t):this.closeNode(t))},openNode:function(e){e.removeClass("closed")},closeNode:function(e){e.addClass("closed")},render:function(){this.$el.html(l({nodeTemplate:c,items:this.collection.asHierarchic()}))},setItems:function(e){this.collection.clear(),this.collection.set(e)},openByPath:function(e){var t=this.collection.getPathToNode(e);o.each(t,(function(e){var t=r("div[data-id='"+e.id+"']");this.openNode(t),e.set("closed",!1),"folder"!==e.get("type")&&(this._selected&&(this._selected.removeClass("tree_node_selected"),this.$el.find(".child_selected").removeClass("child_selected")),this._selected=t.addClass("tree_node_selected"),o.each(t,(function(e){var t=r(e).closest(".folder"),n=r(t).parent().closest(".folder");t&&r(t).addClass("child_selected"),n&&r(n).addClass("child_selected")})))}),this)},getSelectedEl:function(){return this._selected},removeSelectionEl:function(e){return e&&e.removeClass("tree_node_selected"),e},addSelectionEl:function(e){return e&&e.addClass("tree_node_selected"),e}});i.exports=u}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var r=n(1),o=n(24),s=n(1815),a=o.Collection.extend({model:s,set:function(e){return e=this.initTree(e),e=this.flatten(e),o.Collection.prototype.set.call(this,e)},initTree:function(e){function t(e,t,n){return r.map(e,(function(e,i,r){return t(e,i,r,n)}))}return t(e,(function e(n,i,o,s){return n.id=r.uniqueId("node-"),n.parentId=s,n.children&&(n.children=t(n.children,e,n.id)),n}))},flatten:function(e){var t=[];function n(e,t){return r.each(e,t)}return n(e,(function e(i,r,o){if(i){var s=i.children;delete i.children,t.push(i),n(s,e)}})),t},asHierarchic:function(){var e=[],t=this.filter({parentId:""});return r.each(t,(function(t){var n=t.toJSON(),i=t.getChildren();i.length&&(n.children=function e(t){return r.map(t,(function(t,n,i){var r=t.toJSON(),o=t.getChildren();return o.length&&(r.children=e(o)),r}))}(i)),e.push(n)})),e},getItemById:function(e){return this.findWhere({id:e})},getPathToNode:function(e){for(var t=[],n=0;n<e.length;n++)if(e[n]){var i=this.findWhere({name:e[n]});if(!i)return[];t.push(i)}return t},getItemByPath:function(e){return this.findWhere({path:e})}});i.exports=a}.call(t,n,t,e))||(e.exports=o)}).call(this,n(24),n(1))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),s=n(228),a=n(311),l=n(303),c=n(306),u=n(307),d=n(308),p=n(264),f=n(844),h=n(845),m=n(309),g=n(302),v=n(304),b=n(312),_=n(229),y=n(472),E=n(1),S=n.n(E),C=n(231),w=n(880),O=n(510),T=n(15),P=n.n(T),k=n(46),I=n(88),A=n(109),x=n(59),N=n(652),D=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var R=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return P()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),D(t,[{key:"componentWillReceiveProps",value:function(e){this.needToRecomputeHeight=this._isPropsWillChange(["symbol","positions","orders","isExpanded","index","totalPositionsCount","totalOrdersCount"],e)}},{key:"_isPropsWillChange",value:function(e,t){var n=this;return!S.a.isEmpty(e)&&!S.a.isEmpty(t)&&S.a.some(e,(function(e){return n.props[e]!==t[e]}))}},{key:"onResize",value:function(e,t){var n=this.props,i=n.measurer,r=n.index;i&&(this.needToRecomputeHeight||i.getChachedHeight(r)!==t)&&i.recomputeRowHeights(r,t)}},{key:"toggleExpanded",value:function(){var e=this.props;(0,e.handleClickOnExpand)(e.symbol,!e.isExpanded)}},{key:"render",value:function(){var e=this,t=this.props,n=t.symbol,i=t.isExpanded,o=t.totalPositionsCount,_=t.totalOrdersCount,E=t.onRowClick,T=S.a.isFunction(E)?E:this.selectInstrument;return r.a.createElement("div",null,r.a.createElement(y.a,{handleHeight:!0,onResize:this.onResize}),r.a.createElement(b.a,{as:"tr",className:"row",symbol:n,onClick:function(e){return T(e,n)}},r.a.createElement("td",{className:"cell-instrument-name-with-change instrument-name-with-change"},(o>0||_>0)&&r.a.createElement(N.a,{vertical:!0,asSpoiler:!0,open:i,onClick:this.toggleExpanded,className:"instrument-name-with-change__spoiler instrument-name-cell__spoiler"}),r.a.createElement(s.a,{symbol:n,className:"name"}),r.a.createElement(a.a,{as:"div",symbol:n,className:"change flex flex-start"},r.a.createElement(l.a,{symbol:n}))),r.a.createElement("td",{className:"cell-anim-button-rate"},r.a.createElement(c.a,{as:"div",symbol:n,className:"price-button price-button_ani_xfluid"},r.a.createElement(u.a,{onClick:function(t){return e.sell(t,n)},as:"div",symbol:n,className:"price-button__wrapper btn"},r.a.createElement(d.a,{as:"span",symbol:n,className:"price-button__title price-button__title_self-end"})))),r.a.createElement("td",{className:"cell-spread-with-direction"},r.a.createElement("div",{className:"spread flex flex-column flex-align-center"},r.a.createElement("div",null,r.a.createElement(p.a,{symbol:n,as:"i",className:"icon icon-arrow",disableEqualState:!0})),r.a.createElement(f.a,{symbol:n,as:"div"},r.a.createElement(h.a,{symbol:n})))),r.a.createElement("td",{className:"cell-anim-button-rate"},r.a.createElement(p.a,{as:"div",symbol:n,className:"price-button price-button_ani_xfluid"},r.a.createElement(m.a,{onClick:function(t){return e.buy(t,n)},as:"div",symbol:n,className:"price-button__wrapper btn"},r.a.createElement(g.a,{as:"span",symbol:n,className:"price-button__title price-button__title_self-start"})))),r.a.createElement("td",{className:"cell-actions actions"},r.a.createElement("div",{className:"actions"},r.a.createElement("div",{className:"btn btn-icon",onClick:function(t){return e.toggleFavorite(t,n)}},r.a.createElement(v.a,{symbol:n,as:"div",className:"",yes:"icon-star-filled",no:"icon-star"})),r.a.createElement("div",{className:"btn btn-icon"},r.a.createElement("div",{className:"icon-instrument-info",onClick:function(t){return e.openInstrumentDetails(t,n)}}))))),i&&r.a.createElement(C.a,{symbol:n,as:"tr",className:"row-expand"},r.a.createElement(w.a,{as:"td",colSpan:5,symbol:n,editPosition:this.editPosition,closePosition:this.closePosition,selectInstrument:this.selectInstrument}),r.a.createElement(O.a,{as:"td",colSpan:5,symbol:n,editOrder:this.editOrder,cancelOrder:this.cancelOrder,selectInstrument:this.selectInstrument})))}}]),t}(_.a);t.a=Object(o.connect)((function(e,t){var n=t.symbol;return{positions:e.positions.OPEN_POSITION,orders:e.orders.ORDER,totalPositionsCount:Object(I.getTotalPositionsIdsBySymbol)(e,n),totalOrdersCount:Object(A.getTotalOrdersBySymbol)(e,n),isExpanded:Object(x.getInstrumentCurrentSectionExpandedState)(e,n)}}),(function(e){return{handleClickOnExpand:function(t,n){e(Object(k.setInstrumentExpanded)(t,n))}}}))(R)},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),s=n(7),a=n.n(s),l=n(19),c=n(141),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),d(t,[{key:"render",value:function(){var e,t=this.props,n=(t.symbol,t.up),i=t.down,o=(t.dispatch,t.children),s=t.className,l=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(t,["symbol","up","down","dispatch","children","className"]),c=a()((p(e={},s,!!s),p(e,"up",n),p(e,"down",i),p(e,"equally",!n&&!i),e));return r.a.createElement(l.as,u({},l,{className:c}),o)}}]),t}(c.a);t.a=Object(o.connect)((function(e,t){var n=t.symbol,i=t.as,r=void 0===i?"span":i,o=Object(l.getInstrumentSpreadDirection)(e,n);return{up:1===o,down:-1===o,as:r}}))(f)},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),s=n(32),a=n.n(s),l=n(19),c=n(141),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=(e.symbol,e.dispatch,function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["value","symbol","dispatch"]));return r.a.createElement(n.as,n,t&&(t%100==0?a()(t).format("0[.][0000]a"):t))}}]),t}(c.a);t.a=Object(o.connect)((function(e,t){var n=t.symbol,i=t.as,r=void 0===i?"span":i;return{value:Object(l.getInstrumentSpread)(e,n)||"",as:r}}))(d)},function(e,t,n){"use strict";(function(e){var i=n(0),r=n.n(i),o=n(4),s=n(88),a=n(142),l=n(6),c=n.n(l),u=(n(32),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}());var d=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),u(n,[{key:"componentDidMount",value:function(){this.props.subscribePositionMarginRates(this.props.positionCode)}},{key:"componentWillUnmount",value:function(){this.props.unsubscribePositionMarginRates(this.props.positionCode)}},{key:"render",value:function(){var t=this.props,n=(t.positionCode,t.symbol,t.before,t.requiredMarginInAccountCurrency),i=(t.subscribePositionMarginRates,t.unsubscribePositionMarginRates,t.dispatch,t.children);(function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])})(t,["positionCode","symbol","before","requiredMarginInAccountCurrency","subscribePositionMarginRates","unsubscribePositionMarginRates","dispatch","children"]),c.a.getUserCurrencySymbol();return e.isFunction(i)?i(n):n}}]),n}(r.a.Component);d.defaultProps={as:"span"},t.a=Object(o.connect)((function(e,t){var n=t.positionCode,i=Object(s.getOpenPositionSymbolById)(e,n);return{requiredMarginInAccountCurrency:Math.abs(Object(s.getPositionRequiredMarginInAccountCurrencyById)(e,n)),symbol:i}}),(function(e){return{subscribePositionMarginRates:function(t){e(Object(a.subscribeMarginRates)(t))},unsubscribePositionMarginRates:function(t){e(Object(a.unsubscribeMarginRates)(t))}}}))(d)}).call(this,n(1))},function(e,t,n){"use strict";var i=n(0),r=n.n(i);t.a=function(){return r.a.createElement("tr",{className:"row mobile-instruments-table__header"},r.a.createElement("td",{className:"cell-instrument-name-with-change instrument-name-with-change flex flex-valign-center"},__("table.header.symbol")),r.a.createElement("td",{className:"cell-anim-button-rate flex flex-align-end flex-valign-center"},__("actions.sell")),r.a.createElement("td",{className:"w-36"}),r.a.createElement("td",{className:"cell-anim-button-rate flex flex-valign-center"},__("actions.buy")))}},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(86),s=n(118),a=n(124),l=r.template(n(1826)),c=r.template(n(242)),u=n(176),d=n(8),p=n(6),f=n(54),h=n(3),m=h.HTTP_STATUS_CODE,g=h.SECOND_IN_MILLISECONDS,v=n(126).default,b=void 0,_=void 0;function y(){b=window.open()}var E=s.extend({initialize:function(e){s.prototype.initialize.apply(this,arguments),this.render()},events:function(){return r.extend({},r.result(s.prototype,"events"),{"click .forgot-password-link":"forgotPassword"})},render:function(){s.prototype.render.call(this),this.initForm(),this.$el.find(".content .message").html(l())},initForm:function(){},getValidatorFilters:function(){return{"auth-panel-password-field":["string"]}},getValidatorRules:function(){return{"auth-panel-password-field":{not_empty:__("registration.warning.field_is_required",__("new_account.input.password.placeholder"))}}},createValidator:function(){return new u(this.getValidatorFilters(),this.getValidatorRules())},showErrors:function(e){r.each(e,(function(e,t,n){this.$("."+t).addClass("field-error")}),this),this.$(".error-block").html(c({errors:e})),this.$(".error-block").css("display","block")},cleanErrors:function(){var e=this.getFormData();r.each(e,(function(e,t){this.$("."+t).removeClass("field-error")}),this),this.$(".error-block").css("display","none")},getFormData:function(){return{"auth-panel-password-field":this.$(".auth-panel-password-field input").val()}},showUserLoginError:function(e){this.$(".error-block").html(c({errors:[[e]]})),this.$(".error-block").css("display","block")},onOK:function(){this.cleanErrors();var e=this.createValidator(),t=e.validate(this.getFormData());if(!t)return _=setTimeout(y,g),this.showLoadingPopup(),d.applyCredentials(e.data("auth-panel-password-field"),f.getCurrentLanguage()).then(this.onUserMT4LinkSuccess.bind(this)).catch(this.onUserMT4LinkError.bind(this));this.showErrors(t)},openMT4Link:function(e){if(e){var t=v(e);t.focus&&t.focus()}},onUserMT4LinkSuccess:function(e){r.has(e,"data")&&(setTimeout((function(){b.location.href=e.data,b.focus&&b.focus()}),g),this.hideLoadingPopup(),this.onCancel())},onUserMT4LinkError:function(e){b?b.close():clearTimeout(_),this.hideLoadingPopup();var t="";return parseInt(e.response.status)!==m.BAD_REQUEST&&parseInt(e.response.status)!==m.FORBIDDEN||(t=e.response.data),this.showUserLoginError(t?__(t):__("generic.error.message")),Promise.reject(e)},forgotPassword:function(){var e=this,t=p.getCustomerId(),n=p.getEmail();return d.forgotPasswordById(t).then((function(){new a({text:__("mt4.password.need.reset",n),onOK:function(){e.close()},isHeaderShowed:!1,okBtnText:__("ok"),isShowCloseForMobile:!1})}))},showLoadingPopup:function(){this.fixedLoadingView||(this.fixedLoadingView=new o({parent:this.$el,position:"fixed",translucent:"2"}))},hideLoadingPopup:function(){this.fixedLoadingView&&(this.fixedLoadingView.destroy(),this.fixedLoadingView=null)}});i.exports=E}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"BasicOrdersMobile",(function(){return k}));var i=n(0),r=n.n(i),o=n(247),s=n(302),a=n(264),l=n(309),c=n(308),u=n(306),d=n(307),p=n(411),f=n(304),h=n(229),m=n(231),g=n(168),v=n(228),b=n(303),_=n(311),y=n(312),E=n(421),S=n(465),C=n(430),w=n.n(C),O=n(1),T=n.n(O),P=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(1844);var k=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),P(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.symbols,h=t.hasData,g=t.onClose;return h?r.a.createElement("div",{className:"pane pane__fluid pane__column pane--height"},r.a.createElement("div",{className:"pane"}),r.a.createElement("div",{className:"pane pane__xfluid pane__yfluid pane__scroll"},r.a.createElement("div",{className:"instruments-table SM tab-orders pane pane__scroll-content"},r.a.createElement("table",null,r.a.createElement("tbody",{className:"rows"},T.a.map(n,(function(t){return r.a.createElement(i.Fragment,{key:t},r.a.createElement(y.a,{as:"tr",className:"row has-expand",symbol:t,onClick:function(n){return e.selectInstrument(n,t)}},r.a.createElement("td",{className:"cell-instrument-name-with-change instrument-name-with-change"},r.a.createElement(v.a,{as:"div",symbol:t,className:"name"}),r.a.createElement(_.a,{symbol:t,as:"div",className:"change flex flex-start"},r.a.createElement(b.a,{symbol:t}))),r.a.createElement("td",{className:"rate-with-button block cell-rate-with-button block"},r.a.createElement("div",null,r.a.createElement("div",{className:"rate"},r.a.createElement(u.a,{as:"div",symbol:t,className:"change"},r.a.createElement(c.a,{as:"span",symbol:t}))),r.a.createElement("div",{className:"button"},r.a.createElement(d.a,{onClick:function(n){return e.sell(n,t)},as:"button",symbol:t,className:"btn  btn-sell  btn-primary btn-xs"},__("actions.sell"))))),r.a.createElement("td",{className:"rate-with-button block cell-rate-with-button block"},r.a.createElement("div",null,r.a.createElement("div",{className:"rate"},r.a.createElement(a.a,{as:"div",symbol:t,className:"change"},r.a.createElement(s.a,{as:"span",symbol:t}))),r.a.createElement("div",{className:"button"},r.a.createElement(l.a,{onClick:function(n){return e.buy(n,t)},as:"button",symbol:t,className:"btn  btn-buy  btn-primary btn-xs"},__("actions.buy"))))),r.a.createElement("td",{className:"actions"},r.a.createElement("div",{className:"actions"},r.a.createElement("div",{className:"btn btn-icon",onClick:function(n){return e.toggleFavorite(n,t)}},r.a.createElement(f.a,{symbol:t,as:"div",className:"",yes:"icon-star-filled",no:"icon-star"})),r.a.createElement("div",{className:"btn btn-icon"},r.a.createElement("div",{className:"icon-instrument-info",onClick:function(n){return e.openInstrumentDetails(n,t)}})),r.a.createElement("div",{className:"btn btn-icon"},r.a.createElement(o.a,{onClick:function(n){return e.cancelAllInstrumentOrders(n,t)},as:"div",symbol:t,className:"icon icon-close-all"}))))),r.a.createElement(m.a,{symbol:t,as:"tr",className:"row-expand"},r.a.createElement(p.default,{as:"td",colSpan:5,symbol:t,editOrder:e.editOrder,cancelOrder:e.cancelOrder,selectInstrument:e.selectInstrument})))})))))),r.a.createElement("div",{className:"pane close-all"},r.a.createElement(w.a,{className:"btn-primary pane__fluid"}))):r.a.createElement(E.default,{as:"div",className:"pane pane__fluid flex flex-valign-center flex-align-center",onClose:g})}}]),t}(h.a);t.default=Object(S.a)(Object(g.a)(k))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),s=n(109),a=n(3),l=n(19),c=n(170),u=n(657),d=n(6),p=n.n(d),f=n(32),h=n.n(f),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),m(t,[{key:"componentDidMount",value:function(){this.props.loadMargining(this.props.symbol)}},{key:"render",value:function(){var e=this.props,t=(e.orderId,e.amount),n=e.type,i=e.action,o=(e.dispatch,e.marginRate),s=e.spread,l=(e.symbol,e.priceRate),c=e.instrumentCurrency,d=(e.loadMargining,e.isTypeSpreadBetting),f=e.pipsPrecisionSize,m=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["orderId","amount","type","action","dispatch","marginRate","spread","symbol","priceRate","instrumentCurrency","loadMargining","isTypeSpreadBetting","pipsPrecisionSize"]),g=function(e,t,n,i,r,o,s){var l=void 0;t*=s,e/=100,l=i===a.BUY?(r+(r-t))/2:(r+(r+t))/2;var c=n*l*e;c+=t*n,o&&(c/=s);return c}(o,s,Math.abs(t),i,Number(l),d,f),v=p.a.getUserCurrency(),b=p.a.getUserCurrencySymbol();return r.a.createElement(u.a,{from:c,to:v},(function(e){return r.a.createElement(m.as,m,r.a.createElement("b",null,"STOP"===n?__("type.STOP"):__("type.LIMIT")," ",__("actions."+i)," ",__("order.margin"),":")," ",h()(g*e).formatForeignCurrency(b))}))}}]),t}(r.a.Component);g.defaultProps={as:"span"},t.a=Object(o.connect)((function(e,t){var n=t.orderId,i=Object(s.getOrderActionById)(e,n),r=Object(s.getOrderTypeById)(e,n),o=Object(s.getOrderSymbolById)(e,n),a=Object(s.getOrderQuantityById)(e,n),c=Object(s.getOrderStopLimitPriceById)(e,n),u=Object(l.getInstrumentMarginRatePercent)(e,o);return{action:i,spread:Object(l.getInstrumentSpread)(e,o),priceRate:c,amount:a,type:r,symbol:o,marginRate:u,instrumentCurrency:Object(l.getInstrumentCurrency)(e,o),isTypeSpreadBetting:Object(l.isInstrumentTypeSpreadBetting)(e,o),pipsPrecisionSize:Object(l.getInstrumentPipsPrecisionSize)(e,o)}}),(function(e){return{loadMargining:function(t){e(Object(c.loadMarginingSettings)(t))}}}))(g)},function(e,t,n){"use strict";n.r(t);var i=n(168),r=n(0),o=n.n(r),s=n(232),a=n.n(s),l=n(955),c=n.n(l),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.default=Object(i.a)((function(e){return o.a.createElement(a.a,u({name:c.a},e))}))},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var r=n(12),o=n(1),s=n(20),a=n(86),l=n(5),c=n(100),u=n(187),d=n(16),p=n(6),f=n(379),h=n(108),m=o.template(n(1846)),g=o.template(n(1847)),v=s.extend({filter:{instruments:"null",period:"today",beginPeriod:new Date,endPeriod:new Date},filterOptions:{instruments:{},period:{custom:"period.custom",all:"period.all",today:"period.day","7|Date":"period.week","14|Date":"period.fortnight","1|Month":"period.month","3|Month":"period.season","6|Month":"period.halfyear","12|Month":"period.year"}},collection:new c,itemsStore:{},calendarInstances:{},localStorageKey:null,tagName:"div",className:"content",prepareFilters:function(){var e=this;if("null"!==this.filter.instruments){var t=u.getInstrumentBySymbol(this.filter.instruments);t?this.filterOptions.instruments[t.get("symbol")]=t.get("name"):this.filterOptions.instruments[this.filter.instruments]=this.filter.instruments}this.$el.find(".filter-basic .form-inline").empty(),o.each(this.filterOptions,(function(t,n,i){e.$el.find(".filter-basic .form-inline").append(m({filterKey:n,filter:e.filter[n],filterOptions:t})),e.$el.find("#label-"+n).html(__("history."+n))})),this.hideLoading()},events:function(){return o.extend({},o.result(s.prototype,"events"),{"change select[data-key=instruments]":"onFilterUpdated","change select[data-key=status]":"onFilterUpdated","change select[data-key=period]":"onFilterPeriodUpdated"})},updateFilter:function(e,t){this.filter[e]=t,this.showLoading(),this.applyFilter()},onFilterUpdated:function(e){this.updateFilter(e.currentTarget.dataset.key,e.currentTarget.value)},onFilterDatesUpdated:function(e,t,n,i){var r=e[0],o=r.getDate()+"-"+(r.getMonth()+1)+"-"+r.getFullYear(),s=this.userTimezone.convertDateToTimestamp(o,"DD-MM-YYYY"),a=new Date(s);this.filter.period="custom",this.$el.find("select[data-key=period]").val(this.filter.period),this.updateFilter(n.element.dataset.key,a),this.calendarInstances.begin.set("maxDate",this.filter.endPeriod),this.calendarInstances.end.set("minDate",this.userTimezone.convertTimestampAsNewDate(s))},onFilterPeriodUpdated:function(e){var t=e.currentTarget.dataset.key,n=r(this.$el.find(".custom-period")),i=h.user,o=e.currentTarget.value;if(this.showLoading(),this.filter[t]=o,"custom"===o){var s=this.calendarInstances.begin.selectedDates[0],a=this.calendarInstances.end.selectedDates[0],l=void 0,c=void 0;if(s){var u=s.getDate()+"-"+(s.getMonth()+1)+"-"+s.getFullYear();l=i.convertDateAsNewDate(u,"DD-MM-YYYY")}else l=new Date;if(a){var d=a.getDate()+"-"+(a.getMonth()+1)+"-"+a.getFullYear();c=i.convertDateAsNewDate(d,"DD-MM-YYYY")}else c=new Date;return n.removeClass("hidden"),this.filter.beginPeriod=l,this.filter.endPeriod=c,void this.applyFilter()}n.addClass("hidden");var f=new Date,m=new Date;"all"===o&&(m=this.userTimezone.setTimestampAsNewDate(p.getUserInfoModel().get("account").accountCreationTime)),2===(o=o.split("|")).length&&m["set"+o[1]](m["get"+o[1]]()-o[0]),this.filter.beginPeriod=m,this.filter.endPeriod=f,this.applyFilter()},showLoading:function(){this.$el.addClass("content-loading"),this.loadingView&&this.loadingView.destroy(),this.loadingTimeout&&clearTimeout(this.loadingTimeout),this.loadingTimeout=setTimeout(this.onDataUnavailable.bind(this),1e4),this.loadingView=new a({parent:this.$el,position:"absolute",translucent:"2"})},checkFilterRange:function(){!this.filter||this.filter.beginPeriod&&this.filter.endPeriod||(this.filter.beginPeriod=this.userTimezone.getMoment().subtract(1,"days").toDate(),this.filter.endPeriod=new Date),this.filter&&d(this.filter.endPeriod).isBefore(this.filter.beginPeriod)&&(this.filter.beginPeriod=this.filter.endPeriod)},hideLoading:function(){this.loadingTimeout&&clearTimeout(this.loadingTimeout),this.$el.removeClass("content-loading"),this.loadingView&&this.loadingView.destroy()},initialize:function(e){if(this.userTimezone=h.user,s.prototype.initialize.apply(this,arguments),this.localStorageKey){var t=localStorage.getItem(this.localStorageKey);t&&(this.filter=JSON.parse(t))}this.subscribeAndRender()},subscribeAndRender:function(){this.delegateEvents(),p.getUserCommonData().isAdvancedTradingView()||l.trigger("chart:display:hide"),this.listenTo(this.itemsStore,"change",this.prepareFilters),this.render(),this.applyFilter()},formatDate:function(e){var t=e;return o.isUndefined(t)&&(t=new Date),this.userTimezone.formatTimestamp(t,"YYYY-MM-DD")},render:function(){var e=this,t=new Date;return s.prototype.render.call(this),this.$el.find(".panel-heading").html(g({filter:this.filter})),this.prepareFilters(),this.checkFilterRange(),this.calendarInstances.begin=new f(this.$el.find("input[data-key=beginPeriod]")[0],{maxDate:d(this.filter.endPeriod).isBefore(t)?this.filter.endPeriod:t,minDate:this.userTimezone.convertTimestampAsNewDate(p.getUserInfoModel().get("account").accountCreationTime),dateFormat:"d/m/Y",disableMobile:!0,defaultDate:this.filter.beginPeriod,onChange:function(t,n,i){e.onFilterDatesUpdated(t,n,i,"start")}}),this.calendarInstances.end=new f(this.$el.find("input[data-key=endPeriod]")[0],{maxDate:new Date,minDate:this.filter.beginPeriod,dateFormat:"d/m/Y",disableMobile:!0,defaultDate:this.filter.endPeriod,onChange:function(t,n,i){e.onFilterDatesUpdated(t,n,i,"end")}}),this},destroy:function(){s.prototype.destroy.call(this),o.each(this.calendarInstances,(function(e){e.destroy()}))}});i.exports=v}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(0),o=n(1851).default,s=n(575),a=n(1852),l=n(1),c=n(18)({displayName:"GridRows",getDefaultProps:function(){return{columns:[],hiddenColumns:[],collection:[],screenSize:null,customRowComponent:null,customRowComponentXS:null,customRowComponentSM:null,customRowComponentMD:null,customRowComponentLG:null,onRowClick:function(){},selectedRowId:null,toggleOnRowClick:!1,autoHideColumns:!1}},getInitialState:function(){return{collection:this.props.collection,rows:this.props.collection.slice(0,20),selectedRowId:this.props.selectedRowId,expandedRows:[],hasMore:!0}},getComponent:function(){var e=this.props.screenSize,t=this.props.customRowComponent||s;if(l.isEmpty(e))return t;var n="customRowComponent"+e,i=this.props[n];return l.isEmpty(i)?t:i},onRowClick:function(e,t){this.setState({selectedRowId:t.cid}),l.isFunction(this.props.onRowClick)&&this.props.onRowClick(e,t)},onRowToggle:function(e){var t=this.state.expandedRows,n=-1!==t.indexOf(e)?t.filter((function(t){return t!==e})):t.concat(e);this.setState({expandedRows:n,selectedRowId:e})},renderItem:function(e,t,n){var i=this,o=function(){return i.onRowToggle(e.cid)},s=this.state.selectedRowId===e.cid,l=-1!==this.state.expandedRows.indexOf(e.cid),c=[r.createElement(t,{key:e.cid+s,columns:this.props.columns,model:e,isSelected:s,isExpanded:l,couldBeExpanded:!!this.props.hiddenColumns.length,screenSize:this.props.screenSize,onRowClick:this.onRowClick,toggle:o,toggleOnRowClick:this.props.toggleOnRowClick,index:n,autoHideColumns:this.props.autoHideColumns})];return l&&this.props.hiddenColumns.length&&c.push(r.createElement(a,{key:e.cid+"-expanded",columns:this.props.columns,hiddenColumns:this.props.hiddenColumns,model:e,isSelected:s,screenSize:this.props.screenSize,toggle:o})),c},handleInfiniteLoad:function(){var e=this.state.rows.length,t=this.state.collection.slice(e,e+20),n=this.state.collection.length>this.state.rows.length+20;this.setState({isInfiniteLoading:!1,rows:this.state.rows.concat(t),hasMore:n})},loader:function(){return r.createElement("tr",{className:"loader"},r.createElement("td",null,__("loader.loading")))},render:function(){var e=this.getComponent(),t=this.state.rows.map(function(t,n){return this.renderItem(t,e,n)}.bind(this));return r.createElement(o,{element:"tbody",className:"rows",useWindow:!1,selfScrolled:!0,loadMore:this.handleInfiniteLoad,hasMore:this.state.hasMore,loader:this.loader(),threshold:100},t)}});i.exports=c}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,r){var o=n(0),s=n(455),a=n(18)({displayName:"GridRow",getDefaultProps:function(){return{key:"",model:null,columns:[],screenSize:null,selectedRowClass:"selected",isSelected:!1,isExpanded:!1,couldBeExpanded:!1,onRowClick:function(){},toggle:function(){},toggleOnRowClick:!1,autoHideColumns:!1,index:0}},getInitialState:function(){return{isExpanded:!1,columns:this.props.columns}},toggle:function(){var e=!this.state.isExpanded;this.props.toggle(),this.setState({isExpanded:e})},getRenderCells:function(){return this.props.columns.map((function(e,t){var n=e.type||s,r=i.extend({},e.cellProps,{key:t,column:e,model:this.props.model,expandableElement:this});return o.createElement(n,r)}),this)},onRowClick:function(e){this.props.toggleOnRowClick&&this.props.couldBeExpanded&&this.toggle(),this.props.onRowClick(e,this.props.model)},render:function(){var e=["row","expandable",this.props.isSelected?this.props.selectedRowClass:"",this.props.isExpanded?"expanded":""].join(" ");return o.createElement("tr",{className:e,onClick:this.onRowClick},this.getRenderCells())}});r.exports=a}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){"use strict";n.r(t);var i=n(168),r=n(0),o=n.n(r),s=n(232),a=n.n(s),l=n(956),c=n.n(l),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.default=Object(i.a)((function(e){return o.a.createElement(a.a,u({name:c.a},e))}))},,,,,,,,,,,,,function(e,t,n){"use strict";var i=n(3),r=n(0),o=n(15),s=n.n(o),a=n(4),l=n(1),c=n.n(l),u=n(123),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var p=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={status:i.IN_PROCESS},s()(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),d(t,[{key:"componentDidMount",value:function(){this._mounted=!0,this.props.load().then(c.a.callIf(this.onSuccess,this.mounted)).catch(c.a.callIf(this.onError,this.mounted))}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"onSuccess",value:function(e){this.setState({status:e?i.SUCCESS:i.ERROR})}},{key:"onError",value:function(e){this.setState({status:i.ERROR})}},{key:"mounted",value:function(){return this._mounted}},{key:"render",value:function(){var e=this.state.status,t=this.props,n=t.errorComponent,r=t.loaderComponent,o=t.successComponent;return e===i.IN_PROCESS?r||null:e===i.ERROR?n||null:o||null}}]),t}(r.PureComponent);p.defaultProps={errorComponent:null,successComponent:null,loaderComponent:null},t.a=Object(a.connect)(null,(function(e){return{load:function(){return e(Object(u.i)())}}}))(p)},function(e,t,n){"use strict";var i=n(3),r=n(230),o=n(123),s=n(0),a=n.n(s),l=n(15),c=n.n(l),u=n(4),d=n(1),p=n.n(d),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var h=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={status:i.IN_PROCESS,performanceStatus:i.IN_PROCESS,overviewStatus:i.IN_PROCESS},c()(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),f(t,[{key:"tryAgain",value:function(e){e.preventDefault(),this.setState({status:i.IN_PROCESS}),p.a.delay(p.a.callIf(this.load,this.mounted),300)}},{key:"componentDidMount",value:function(){this._mounted=!0,this.load()}},{key:"componentWillUpdate",value:function(e,t){this.checkIsAllSuccess(t)}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"load",value:function(){var e=this.state.loadedPerformance;this.setState({status:i.IN_PROCESS}),p.a.isEmpty(e)?this.props.loadPerformance().then(p.a.callIf(this.onPerformanceSuccess,this.mounted)).catch(p.a.callIf(this.onError,this.mounted)):this.onPerformanceSuccess(e)}},{key:"onPerformanceSuccess",value:function(e){e?(this.setState({performanceStatus:i.SUCCESS,loadedPerformance:e}),this.props.loadOverview(e.backtestID).then(p.a.callIf(this.onOverviewSuccess,this.mounted)).catch(p.a.callIf(this.onError,this.mounted))):this.setState({status:i.ERROR})}},{key:"onOverviewSuccess",value:function(e){e?this.setState({overviewStatus:i.SUCCESS,loadedOverview:e}):this.setState({status:i.ERROR})}},{key:"checkIsAllSuccess",value:function(e){var t=e.performanceStatus,n=e.overviewStatus,r=e.loadedPerformance,o=e.loadedOverview;this.state.status!==i.SUCCESS&&t===i.SUCCESS&&n===i.SUCCESS&&(e.status=i.SUCCESS,this.props.onSuccess({loadedPerformance:r,loadedOverview:o}))}},{key:"onError",value:function(){this.setState({status:i.ERROR})}},{key:"mounted",value:function(){return this._mounted}},{key:"render",value:function(){var e=this.props,t=e.onErrorCancel,n=e.onErrorOK,o=e.onErrorClose;return this.state.status===i.ERROR?a.a.createElement(r.a,{title:__("errors.title"),message:__("server.request.generic.error.body",__("funded.client.contact_us.link")),textOK:__("actions.try_again"),onOK:n===p.a.noop?this.tryAgain:n,onCancel:t,onClose:o}):null}}]),t}(s.PureComponent);h.defaultProps={onSuccess:p.a.noop,onErrorCancel:p.a.noop,onErrorOK:p.a.noop,onErrorClose:p.a.noop},t.a=Object(u.connect)(null,(function(e,t){var n=t.portfolioProviderId;return{loadPerformance:function(){return e(Object(o.k)(n))},loadOverview:function(t){return e(Object(o.g)(t))}}}))(h)},function(e,t,n){"use strict";var i=n(32),r=n.n(i),o=n(13),s=n(41),a=n(0),l=n.n(a),c=n(7),u=n.n(c),d=n(4);var p=function(e){var t=e.meta,n=e.empty,i=e.format,s=t&&t.returnSinceInception||null;return l.a.createElement("div",{className:u()({change:!0,up:s>0,down:s<0,"text-muted":0===s})},null!==s?r()(s*o.t).format(i)+"%":n)};p.defaultProps={meta:null,empty:"",format:"0,0.[00]"},t.a=Object(d.connect)((function(e,t){var n=t.portfolio;return{meta:n&&Object(s.z)(e,n.portfolioProviderId)}}))(p)},function(e,t,n){"use strict";(function(e){var i=n(32),r=n.n(i),o=n(13),s=n(41),a=n(0),l=n.n(a),c=n(7),u=n.n(c),d=n(4);var p=function(t){var n=t.meta,i=t.empty,s=t.format,a=n&&n.returnSinceLastRebalance,c=e.isNil(a)?null:a;return l.a.createElement("div",{className:u()({change:!0,up:c>0,down:c<0,"text-muted":0===c})},null!==c?r()(c*o.t).format(s)+"%":i)};p.defaultProps={meta:null,empty:"",format:"0,0.[00]"},t.a=Object(d.connect)((function(e,t){var n=t.portfolio;return{meta:n&&Object(s.z)(e,n.portfolioProviderId)}}))(p)}).call(this,n(1))},function(e,t,n){"use strict";var i=n(88),r=(n(0),n(4)),o=n(41),s=n(19);function a(e,t){var n=t.portfolioItem,r=t.portfolio,a=n.instrumentKey&&n.instrumentKey.symbol,l=n.instrumentKey&&n.instrumentKey.id,c=Object(i.getOpenPositionsMap)(e),u=Object(o.o)(e,r.portfolioID,l),d=u&&Object(i.getPositionPLById)(e,u);return{name:Object(s.getInstrumentName)(e,a),pl:d&&Number(d.toFixed(8)),orderSide:n.orderSide,quantity:c[u]&&c[u].quantity}}t.a=function(e){return Object(r.connect)(a)(e)}},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(4),s=n(41),a=n(27),l=n(123),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function u(e,t){return{marginLevelRange:Object(a.getUserMarginLevelRange)(e),portfolio:Object(s.G)(e,t.portfolioProviderId)}}function d(e){return{updatePortfolio:function(t,n,i,r){return e(Object(l.q)(t,n,i,r))}}}var p=function(e){return Object(o.connect)(u,d)((function(t){var n=t.portfolio,i=n.portfolioName,o=n.takeProfit,s=n.stopLoss,a=n.executedAmount,l=n.requestedAmount,u={portfolioName:i,amount:a||l||0,takeProfit:o||0,stopLoss:s||0};return r.a.createElement(e,c({},t,{initialValues:u}))}))};p.defaultProps={initialValues:{portfolioName:"",amount:0,takeProfit:0,stopLoss:0}},t.a=p},,,,,function(e,t,n){"use strict";n.r(t);n(101);var i=n(510),r=n(229),o=n(231),s=n(168),a=n(465),l=n(0),c=n.n(l),u=n(4),d=n(1),p=n.n(d),f=n(430),h=n.n(f),m=n(421),g=n(3),v=n(629),b=n(59),_=n(46),y=(n(1845),n(228)),E=n(221),S=n(220),C=n(337),w=n(87),O=n(247),T=n(851),P=n(338),k=n(339),I=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var A=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),I(t,[{key:"render",value:function(){var e=this.props,t=e.selectInstrument,n=e.editOrder,i=e.cancelOrder,r=e.symbol,o=e.orderId;return c.a.createElement("div",{onClick:function(e){return t(e,r)},className:"subrow-expanded grid-12 grid-noGutter order new-advanced__order-details"},c.a.createElement("div",{className:"col-9 grid-middle order__info"},c.a.createElement("div",{className:"col-6"},c.a.createElement("span",null,c.a.createElement(y.a,{symbol:r,as:"b"}))),c.a.createElement("div",{className:"col-3"},c.a.createElement("span",null,c.a.createElement(E.a,{orderId:o,as:"b"}))),c.a.createElement("div",{className:"col-3"},c.a.createElement("span",null,c.a.createElement(S.a,{orderId:o,as:"b"})))),c.a.createElement("div",{className:"col-3 grid-middle grid-right"},c.a.createElement(C.a,{as:"div",className:"btn instrument-list-btn",symbol:r,onClick:function(e){return n(e,o)}},c.a.createElement(w.default,{name:"edit",size:14})),c.a.createElement(O.a,{as:"div",className:"btn btn-sm instrument-list-btn",symbol:r,onClick:function(e){return i(e,o)}},c.a.createElement(w.default,{name:"close",size:14}))),c.a.createElement("div",{className:"col-12 grid-middle info"},c.a.createElement("div",null,c.a.createElement(T.a,{orderId:o,as:"span"})),c.a.createElement("div",null,c.a.createElement("span",null,c.a.createElement(P.a,{orderId:o,before:c.a.createElement("b",null,__("notification.protection.stopLoss")+" "),after:", "}),c.a.createElement(k.a,{orderId:o,before:c.a.createElement("b",null,__("notification.protection.takeProfit")+" ")})))))}}]),t}(l.Component);A.defaultProps={selectInstrument:p.a.noop,editOrder:p.a.noop,cancelOrder:p.a.noop};var x=A,N=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var D=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),N(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.symbols,r=t.hasData,s=t.symbolsSortName,a=t.sortByName,l=t.onClose;return r?c.a.createElement("div",{className:"instruments-table simple-instrument-list pane pane__sm-xfluid pane--height"},c.a.createElement("div",{className:"pane pane__xfluid pane__yfluid pane__scroll"},c.a.createElement("div",{className:"pane pane__scroll-content"},c.a.createElement("div",{className:"instruments-table simple-instrument-list pane pane__sm-xfluid"},c.a.createElement("table",null,c.a.createElement("tbody",{className:"rows"},c.a.createElement("tr",{className:"row-header grid-12"},c.a.createElement("th",{className:"col-9 grid-middle order__info"},c.a.createElement(v.a,{as:"div",active:s===g.INSTRUMENT_SORT.NAME,onSort:a,className:"col-6 cursor--pointer"},__("table.header.symbol")),c.a.createElement("div",{className:"col-3 grid-middle"},__("table.header.amount")),c.a.createElement("div",{className:"col-3 grid-middle"},__("table.header.rate")))),p.a.map(n,(function(t){return c.a.createElement(o.a,{key:t,symbol:t,onClick:function(n){return e.openInstrumentDetails(n,t)},as:"tr",className:"row-expand"},c.a.createElement(i.a,{as:"td",colSpan:5,symbol:t,editOrder:e.editOrder,cancelOrder:e.cancelOrder,selectInstrument:e.selectInstrument,RenderComponent:x}))}))))))),c.a.createElement("div",{className:"pane"},c.a.createElement(h.a,{className:"btn-primary pane__fluid"}))):c.a.createElement(m.default,{as:"div",className:"pane pane__fluid flex flex-valign-center flex-align-center",onClose:l})}}]),t}(r.a);t.default=Object(a.a)(Object(s.a)(Object(u.connect)((function(e){return{symbolsSortName:Object(b.getSymbolsSortName)(e)}}),(function(e){return{sortByName:function(t){e(Object(_.setSymbolsSort)(g.INSTRUMENT_SORT.NAME,t)),e(Object(_.setShouldInstrumentBeCentered)(!0))}}}))(D)))},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(46),s=n(4),a=n(479),l=(n(1820),n(424)),c=n(425),u=n(426),d=n(87),p=n(415),f=n(427),h=n(286),m=n(329),g=n(651),v=n(428),b=n(429),_=n(7),y=n.n(_),E=n(3),S=n(88),C=n(1),w=n.n(C),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var T=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),O(t,[{key:"render",value:function(){var e=this.props,t=e.positionCode,n=e.symbol,i=e.editPosition,o=e.closePosition,s=e.selectInstrument,a=e.positionStatus,_=y()({"subrow-expanded grid-12 grid-noGutter position":!0,"advanced-position-list":!0,"request-processing":a===E.PROCESSING});return r.a.createElement("div",{className:_,onClick:function(e){return s(e,n)}},r.a.createElement("div",{className:"col-9 grid-middle position__info"},r.a.createElement("div",{className:"col-4 position__type"},r.a.createElement("i",{className:"icon icon-verify-account-grey"}),r.a.createElement("span",{className:"subrow-expanded__title"},__("p_l"),": "),r.a.createElement(l.a,{as:"span",positionCode:t},r.a.createElement(c.a,{positionCode:t}))),r.a.createElement("div",{className:"col-8 info"},r.a.createElement("div",{className:"col-12"},r.a.createElement("span",null,r.a.createElement(f.a,{positionCode:t,as:"b"}),": "," ",r.a.createElement(h.a,{positionCode:t,abs:!0})," @ ",r.a.createElement(m.a,{positionCode:t}))),r.a.createElement("div",{className:"col-12"},r.a.createElement(g.a,{className:"position-required-margin",before:r.a.createElement("b",null,__("position.form.used_margin")+" "),positionCode:t})),r.a.createElement("div",{className:"col-12"},r.a.createElement(v.a,{positionCode:t,before:r.a.createElement("b",null,__("notification.protection.takeProfit")+" "),after:" "}),r.a.createElement(b.a,{positionCode:t,before:r.a.createElement("b",null,__("notification.protection.stopLoss")+" ")})))),r.a.createElement("div",{className:"col-3 grid-middle grid-right"},r.a.createElement(u.a,{as:"div",className:"btn flex flex-valign-center",symbol:n,onClick:function(e){return i(e,t)}},r.a.createElement(d.default,{name:"edit",size:14})),r.a.createElement(p.a,{className:"btn flex flex-valign-center",as:"div",symbol:n,onClick:function(e){return o(e,t)}},r.a.createElement(d.default,{name:"close",size:14}))))}}]),t}(i.Component);T.defaultProps={selectInstrument:w.a.noop,editPosition:w.a.noop,closePosition:w.a.noop};var P=Object(s.connect)((function(e,t){var n=t.positionCode;return{positionStatus:Object(S.getClosingPositionStatusById)(e,n)}}))(T),k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};var I=function(e){var t=e.selectInstrument,n=e.editPosition,i=e.closePosition,o=e.RenderComponent,s=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["selectInstrument","editPosition","closePosition","RenderComponent"]);return r.a.createElement(a.a,k({},s,{renderItem:function(e){return r.a.createElement(o,{selectInstrument:t,positionCode:e,symbol:s.symbol,editPosition:n,closePosition:i,positionStatus:t,key:e})}}))};I.defaultProps={RenderComponent:P};t.a=Object(s.connect)(null,(function(e){return{selectInstrument:function(t,n){e(Object(o.selectInstrumentSymbolAndUpdateUrl)(n))}}}))(I)},function(e,t,n){"use strict";n.r(t);var i=n(20),r=n.n(i),o=n(22),s=n.n(o),a=n(4),l=n(0),c=n.n(l),u=n(33),d=n(5),p=n.n(d),f=n(44),h=n(31),m=Object(f.default)((function(){return Promise.all([n.e(17),n.e(40),n.e(7),n.e(41),n.e(140)]).then(n.bind(null,2811))})),g=Object(f.default)((function(){return Promise.all([n.e(17),n.e(40),n.e(7),n.e(41),n.e(141)]).then(n.bind(null,2812))})),v=function(e){return c.a.createElement("div",null,c.a.createElement(h.default,{desktop:!0,tablet:!0},c.a.createElement(m,e)),c.a.createElement(h.default,{mobile:!0},c.a.createElement(g,e)))},b=n(364),_=n(1728),y=n(1734),E=n(585),S=n(821);var C=r.a.extend({initialize:function(e){r.a.prototype.initialize.apply(this,arguments),this.options=e;var t=this.options.webinarId;this.listenTo(p.a,"ui:header-itemclick",this.close),store.dispatch(Object(b.i)()),t&&store.dispatch(Object(b.b)(t))},render:function(){r.a.prototype.render.call(this);var e=this.options;return s.a.render(c.a.createElement(a.Provider,{store:store},c.a.createElement(v,e)),this.el),this},close:function(){this.destroy()},destroy:function(){s.a.unmountComponentAtNode(this.el),r.a.prototype.destroy.call(this)}});t.default={initWebinarsView:C,initWebinarsPopupView:function(e){return u.default.mobile()?new y(e):new _(e)},initWebinarView:function(e){return new E(e)},initWebinarModel:function(e){return new S(e)}}},,,,,function(e,t,n){e.exports=n.p+"./images/b095644e8090.svg"},function(e,t,n){e.exports=n.p+"./images/d41fe85e122d.svg"},function(e,t,n){e.exports=n.p+"./images/60b50f309d17.svg"},function(e,t,n){e.exports=n.p+"./images/233d89c3f315.svg"},function(e,t,n){e.exports=n.p+"./images/236cd3c6be93.svg"},function(e,t,n){e.exports=n.p+"./images/470c28af08f2.svg"},function(e,t,n){e.exports=n.p+"./images/8ca001fd00e6.svg"},function(e,t,n){e.exports=n.p+"./images/e8fab123778d.svg"},function(e,t,n){e.exports=n.p+"./images/90ca349e11db.svg"},function(e,t,n){e.exports=n.p+"./images/599b0c82c56a.svg"},function(e,t,n){e.exports=n.p+"./images/9790b72011e3.svg"},function(e,t,n){e.exports=n.p+"./images/792ce7b8b438.svg"},function(e,t,n){e.exports=n.p+"./images/b67e9df5c0ce.svg"},function(e,t,n){e.exports=n.p+"./images/36e071480819.svg"},function(e,t,n){e.exports=n.p+"./images/eb7da89aa91e.svg"},function(e,t,n){e.exports=n.p+"./images/0d9a9947ff46.svg"},function(e,t,n){e.exports=n.p+"./images/5b108f2b0db2.svg"},function(e,t,n){e.exports=n.p+"./images/cf2294bacdc8.svg"},function(e,t,n){e.exports=n.p+"./images/4e11fafaea44.svg"},function(e,t,n){e.exports=n.p+"./images/521adf0a8ecc.svg"},function(e,t,n){e.exports=n.p+"./images/28fee50a842a.svg"},function(e,t,n){e.exports=n.p+"./images/895f900a4ef0.svg"},function(e,t,n){e.exports=n.p+"./images/dbb9e92116c9.svg"},function(e,t,n){e.exports=n.p+"./images/95c2cfcefaaa.svg"},function(e,t,n){e.exports=n.p+"./images/f6ad9a2f107e.svg"},function(e,t,n){e.exports=n.p+"./images/81e21c2c2245.svg"},function(e,t,n){e.exports=n.p+"./images/7455dbd8048d.svg"},function(e,t,n){e.exports=n.p+"./images/061538c63f00.svg"},function(e,t,n){e.exports=n.p+"./images/cbb98de5dfe1.svg"},function(e,t,n){e.exports=n.p+"./images/478542cf1ffc.svg"},function(e,t,n){e.exports=n.p+"./images/80e8e5648bcd.svg"},function(e,t,n){e.exports=n.p+"./images/10aa2f6df69a.svg"},function(e,t,n){e.exports=n.p+"./images/533c8db6da50.svg"},function(e,t,n){e.exports=n.p+"./images/7aa9131a390c.svg"},function(e,t,n){e.exports=n.p+"./images/db144918d3af.svg"},function(e,t,n){e.exports=n.p+"./images/a3a580b02aa1.svg"},function(e,t,n){e.exports=n.p+"./images/cdb5d0e1159d.svg"},function(e,t,n){e.exports=n.p+"./images/8fa14bdc6b77.svg"},function(e,t,n){e.exports=n.p+"./images/55433f9f6591.svg"},function(e,t,n){e.exports=n.p+"./images/eeddf02e5637.svg"},function(e,t,n){e.exports=n.p+"./images/2dd486eb3c24.svg"},function(e,t,n){e.exports=n.p+"./images/0e6a261f4fcc.svg"},function(e,t,n){e.exports=n.p+"./images/61c2465b2b15.svg"},function(e,t,n){e.exports=n.p+"./images/342d3e394528.svg"},function(e,t,n){e.exports=n.p+"./images/25dc4e1b59b9.svg"},function(e,t,n){e.exports=n.p+"./images/9073ce70e068.svg"},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(8),r=n.n(i),o=n(360);function s(e){return function(t){return t({types:[o.a,o.c,o.b],callApi:function(){return r.a.getAccountsConfig(e)}})}}},function(e,t,n){"use strict";function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.head;return new Promise((function(n){var i=document.createElement("script");i.async=!0,i.textContent=e,t.appendChild(i),n()}))}n.d(t,"a",(function(){return i}))},function(e,t,n){var i;void 0===(i=function(e,t,n){function i(e,t){var n=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector;if(n)return n.call(e,t)}n.exports=function(e){e.fn._easing={linear:function(e){return e},quadratic:function(e){return Math.pow(e,2)},swing:function(e){return.5-Math.cos(e*Math.PI)/2},circ:function(e){return 1-Math.sin(Math.acos(e))},back:function(e,t){return Math.pow(e,2)*((t+1)*e-t)},bounce:function(e){for(var t=0,n=1;;t+=n,n/=2)if(e>=(7-4*t)/11)return-Math.pow((11-6*t-11*e)/4,2)+Math.pow(n,2)},elastic:function(e,t){return Math.pow(2,10*(e-1))*Math.cos(20*Math.PI*t/3*e)}},e.fn._animate=function(e){var t=new Date,n=1,i=setInterval((function(){var r=(new Date-t)/e.duration;r>1&&(r=1);var o=e.delta(r);e.step(o),1==r&&(clearInterval(i),e.complete(n)),n++}),e.delay||10)},e.fn.fadeOut=function(e){return this._animate({duration:e.duration,delta:function(e){return this._easing.swing(e)}.bind(this),complete:e.complete,step:function(t){"function"==typeof e.step?e.step(1-t):this.css("opacity",1-t)}.bind(this)}),this},e.fn.fadeIn=function(e){return this._animate({duration:e.duration,delta:function(e){return this._easing.swing(e)}.bind(this),complete:e.complete,step:function(t){"function"==typeof e.step?e.step(0+t):this.css("opacity",0+t)}.bind(this)}),this},e.fn.scrollTo=function(e){var t,n=this[0];t=e.element&&e.element[0]?e.element[0].offsetTop:e.top;var i=n.scrollTop,r=Math.abs(i-t),o=t>i?1:-1;return this._animate({duration:e.duration,delta:function(e){return 1===e?o*Math.abs(n.scrollTop-t):o*this._easing.linear(e)*r}.bind(this),complete:"function"==typeof e.complete?e.complete:function(){},step:function(e){if(n.scrollTop!==t)return n.scrollTop+e<t&&-1===o?n.scrollTop=t:n.scrollTop+e>t&&1===o?n.scrollTop=t:void(n.scrollTop+=e)}.bind(this)}),this},e.fn.closest=function(e){for(var t=this[0];t;){if(i(t,e))return t;t=t.parentElement}return null}}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){return Array.isArray(e)?e:Array.from(e)}void 0===(i=function(e,t,n){n.exports=function(e){e.mixin({getDeepProp:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",r=n.split(i),s=o(r),a=s.slice(0),l=t;if(!t)return t;for(var c in a){var u=a[c];if(!e.isObject(l)||void 0===l[u])return;l=l[u]}return l},capitalize:function(e){if("string"!=typeof e)return e;e=e.toLowerCase();for(var t=0;t<e.length;t++){var n=e[t];if(n.toLowerCase()!==n.toUpperCase())return e.slice(0,t)+e[t].toUpperCase()+e.slice(t+1)}return e},parseUndefined:function(e){return"undefined"===e?void 0:e},parseNull:function(e){return"null"===e?null:e},parseNil:function(t){return e.parseUndefined(e.parseNull(t))},isNil:function(e){return null==e},toKebabCase:function(e){return e?e.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).map((function(e){return e.toLowerCase()})).join("-"):e},toSnakeCase:function(e){return e?e.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).map((function(e){return e.toLowerCase()})).join("_"):e},sum:function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.isArray(n[0])?n[0].reduce((function(e,t){return e+Number(t)}),0):n.reduce((function(e,t){return e+Number(t)}),0)},mergeDeep:function t(n){for(var i=arguments.length,o=Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];if(!o.length)return n;var a=o.shift();if(e.isObject(n)&&e.isObject(a))for(var l in a)if(e.isObject(a[l])){if(n[l]||(n[l]={}),e.isFunction(a[l])){n[l]=a[l];continue}if(e.isArray(a[l])){n[l]=[].concat(r(a[l]));continue}t(n[l],a[l])}else n[l]=a[l];return t.apply(void 0,[n].concat(o))},isNaNValue:function(t){return"NaN"===t||e.isNaN(t)},asStringArray:function(t){return e.isArray(t)?t.map(String):[String(t)]},callIf:function(t,n){return function(){return e.isFunction(n)?!!n()&&t.apply(this,[].concat(Array.prototype.slice.call(arguments))):n&&t.apply(this,[].concat(Array.prototype.slice.call(arguments)))}},repeat:function(t,n){return e.times(n,(function(){return t})).join("")}})}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i=n(12),r=n(1),o=n(1390).default,s=n(611).default,a=null,l=i("html"),c={right:"left",left:"right",top:"top",bottom:"bottom",auto:"auto"},u=r.template('<div class="tooltip <%=className ? className : ""%>" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>');o.prototype._show=function(e,t){if(this._isOpen)return this;if(this._isOpen=!0,this._tooltipNode)return this._tooltipNode.style.display="",this._tooltipNode.setAttribute("aria-hidden","false"),this.popperInstance.update(),this;var n=e.getAttribute("title")||t.title;if(!n)return this;var i=this._create(e,t.template,n,t.html);i.setAttribute("aria-describedby",i.id);var o=this._findContainer(t.container,e);this._append(i,o);var a=r.extend({},{placement:t.placement,modifiers:{arrow:{element:this.arrowSelector}}},t.popperOptions);return t.boundariesElement&&(a.modifiers.preventOverflow={boundariesElement:t.boundariesElement}),this.popperInstance=new s(e,i,a),this._tooltipNode=i,this},o.prototype.changeReference=function(e,t){var n=this;this._events.forEach((function(e){var t=e.func,i=e.event;n.reference.removeEventListener(i,t)})),this._events=[],this._isOpen=!1,this.reference=e,r.extend(this.options,t);var i="string"==typeof this.options.trigger?this.options.trigger.split(" ").filter((function(e){return-1!==["click","hover","focus"].indexOf(e)})):[];this._setEventListeners(this.reference,i,this.options)},a=new o(document.body,{title:"",container:document.body,placement:"right",html:!0}),e.exports=function(){i(document).on("click",(function(e){a&&a.reference===e.target&&!e.target.hasAttribute("data-tooltip-disable-stop-propagation")&&e.stopImmediatePropagation()})),i(document).on("mouseover",(function(e){for(var t=e.target,n="rtl"===l.attr("dir"),r=void 0,o=void 0,s=void 0;t!==document&&(r=t&&i(t).attr("aria-label"),o=t&&i(t).attr("data-tooltip-align"),s=t&&i(t).attr("data-tooltip-classname"),!r);)t=t.parentNode;if(a&&a.reference===t)return r!==a.options.title&&(a.options.title=r),void(a._isOpen||a.show());a&&a.dispose(),r&&(o||(o="right"),o=n?c[o]:o,a.changeReference(t,{title:r,placement:o,html:!0,popperOptions:{onUpdate:function(){return a.dispose()}},template:u({className:s})}))}))}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(2),r=n(9),o=n.n(r),s=n(6),a=n.n(s),l=n(27),c=n(157),u=Object(i.a)([l.isUserFirstDeposit,c.getAccountCurrencyById],(function(e,t){return o.a.isBonusesEnabled()&&o.a.isMtFirstDepositBonusEnabled()&&!e&&a.a.getUserAwardsModel().isFirstDepositExists(t)}))},,function(e,t,n){var i=n(0),r=n(18),o=(n(1),n(26)),s=function(e,t){var n=o.getInstrumentBySymbol(e);return n||(n=o.getInstrumentById(t)),n&&n.getName()};e.exports=r({displayName:"exports",getDefaultProps:function(){return{symbol:"",instrumentId:"",className:"",as:"span"}},getInitialState:function(){return{value:s(this.props.symbol,this.props.instrumentId)}},shouldComponentUpdate:function(e){return e.symbol!==this.props.symbol||e.instrumentId!==this.props.instrumentId},componentWillUpdate:function(e,t){e.symbol===this.props.symbol&&e.instrumentId===this.props.instrumentId||(t.value=s(e.symbol,e.instrumentId))},render:function(){var e=this.props,t=e.className,n=this.state.value;return i.createElement(e.as,{className:t},n)}})},function(e,t,n){"use strict";(function(e){n(1);var i=n(317),r=n.n(i);t.a=function(t){var n=t.find(".take-tour");n.addClass("hidden");var i=function(e,n){return function(e){return t.find(e)}(e)[n]},o=[{element:i(".ReactVirtualized__List",0),intro:__("acuity-trading.text.slide_1_text"),position:"top"},{element:i(".acuity__table-column-sentiment",0),intro:__("acuity-trading.text.slide_2_text"),position:"bottom"},{element:i(".acuity__bar",0),intro:__("acuity-trading.text.slide_3_text"),position:"top"},{element:i(".acuity__bar",1),intro:__("acuity-trading.text.slide_4_text"),position:"bottom"},{element:i(".acuity__info-news-sentiment-circle",0),intro:__("acuity-trading.text.slide_5_text"),position:"top"},{element:i(".acuity__info-chart",0),intro:__("acuity-trading.text.slide_6_text"),position:"top"},{element:i(".acuity-header__controls",0),intro:__("acuity-trading.text.slide_7_text"),position:"bottom"}];r.a.introJs().setOptions({nextLabel:__("tipranks.text.slide_next"),prevLabel:__("tipranks.text.slide_prev"),doneLabel:__("actions.done"),skipLabel:" ",steps:o}).oncomplete((function(){e(n.removeClass("hidden"))})).onexit((function(){e(n.removeClass("hidden"))})).start()}}).call(this,n(12))},function(e,t,n){e.exports=n.p+"./images/11c7a766583c.svg"},,,,function(e,t,n){e.exports=n.p+"./images/2d4282eac0a8.svg"},function(e,t,n){e.exports=n.p+"./images/f5991be047e0.svg"},function(e,t,n){e.exports=n.p+"./images/92e30e555165.svg"},function(e,t,n){e.exports=n.p+"./images/7c884708d09d.svg"},function(e,t,n){(function(i){var r;function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}void 0===(r=function(e,t,i){var r=n(20),s=n(100),a=(n(419),n(327)),l=n(1823),c=n(1898).default,u=n(22),d=n(0),p=n(1),f=n(5),h=p.template(n(1825)),m=n(6),g=n(377),v=n(115),b=n(4).Provider,_=r.extend({collection:new s,tagName:"div",className:"price-alerts-grid",gridColumns:{actions:{type:l}},events:function(){return this.addEvents(r)({"click .goto-trading":"gotoTrading"})},createCollection:function(){var e={};g.each((function(t){e[t.getInstrument().getSymbol()]=t.getInstrument()}),this),e=p.values(e),v.add(e),this.collection.reset(e,{silent:!1,merge:!1,sort:!0})},updateChartVisibility:function(){if(!m.getUserCommonData().isAdvancedTradingView()){var e=this.collection.isEmpty()?"chart:display:hide":"chart:display:show";f.trigger(e)}},initialize:function(e){m.getAlertsStorage().loadAllAlertsData(),r.prototype.initialize.apply(this,arguments),g.on("add reset",this.priceAlertsUpdated,this),this.collection.on("change:priceAlertsAvailability",this.priceAlertsUpdated,this),this.createCollection(),this.updateChartVisibility(),this.render()},getColumnConfig:function(e){return this.gridColumns[e]||a.getColumnConfig(e)},priceAlertsUpdated:function(){this.createCollection(),this.selectInstrument(),this.updateChartVisibility()},getSelectedInstrument:function(){var e=m.getApplicationSettings(),t=this.collection.findWhere({symbol:e.get("tabs:alerts:selectedInstrumentSymbol")});return t||(t=this.collection.first()),t&&e.set("tabs:alerts:selectedInstrumentSymbol",t.get("symbol")),t},selectInstrument:function(){var e=this.getSelectedInstrument();this.selectedRowId=null,e&&!m.getUserCommonData().isAdvancedTradingView()&&(f.trigger("ui:instruments:select-instrument",e.get("symbol"),e),this.selectedRowId=e.cid,setTimeout((function(){f.trigger("instrument:selected",e)}),1))},updateInstrumentList:function(){u.unmountComponentAtNode(this.el),this.render()},render:function(){var e=this;r.prototype.render.call(this),this.$el.html(h()),this.selectInstrument();var t=p.map(this.collection.models,(function(e){return e}));u.render(d.createElement(b,{store:window.store},d.createElement(c,{instruments:[].concat(o(t)),updateInstrumentList:function(){return e.updateInstrumentList()}})),this.el),f.trigger("chart:display:hide")},destroy:function(){r.prototype.destroy.call(this),g.off("add reset",this.priceAlertsUpdated,this),this.collection.off("change:priceAlertsAvailability",this.priceAlertsUpdated,this),u.unmountComponentAtNode(this.el)},gotoTrading:function(){f.trigger("chart:display:show"),f.navigate("#trading")}});i.exports=_}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},,,,function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){n(12);var r=n(1),o=n(5),s=n(8),a=n(66),l=n(853),c=n(402),u=r.template(n(1848)),d=n(1849),p=n(327),f=n(419),h=n(0),m=n(22),g=n(233),v=n(6),b=n(108).TIMEZONE_LOCAL_ID,_=n(46).navigatePreviousSection;o.on("ui:login:submit",(function(){return localStorage.removeItem("closed_positions_filter")}));var y=l.extend({filter:{instruments:"null",period:"today",beginPeriod:new Date,endPeriod:new Date},unavailableDataTemplate:r.template(n(1850)),itemsStore:c,gridColumnsConfig:{},localStorageKey:"closed_positions_filter",events:function(){return r.extend({},r.result(l.prototype,"events"),{"click .fn-close-popup":"onClose"})},initialize:function(e){l.prototype.initialize.apply(this,arguments),this.listenTo(this.itemsStore,"change",this.updateTotalPL),o.trigger("chart:display:hide")},prepareFilters:function(){var e;this.filterOptions.instruments={null:__("history.order.status.any")},r.each(this.itemsStore.get("filterAll"),(function(e){this.filterOptions.instruments[e.symbol]=e.name}),this),e=this.itemsStore.get("filtered"),this.collection.reset(e),l.prototype.prepareFilters.call(this)},applyFilter:function(){var e=v.getUserCommonData().getUserTimezoneObject(),t=e.id,n=e.offset,i=null;t===b&&(i={id:t,gmt:b,offset:n});var o={beginPeriod:this.formatDate(this.filter.beginPeriod),endPeriod:this.formatDate(this.filter.endPeriod),filterId:r.uniqueId("gwt-uid-")+".",showPositions:!0,symbol:this.filter.instruments,timeZoneTO:i};localStorage.setItem(this.localStorageKey,JSON.stringify(this.filter)),s.subscribePositionsFilters(a.getAtmosphereId(),o)},getColumnConfig:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.gridColumnsConfig[e];return r.extend(n||p.getColumnConfig(e),t)},render:function(){this.$el.html(u()),l.prototype.render.call(this),this.gridView=f({className:"tab-closed-positions",collection:this.collection,empty:d,initialSort:__("history.position.exit.time"),customRowsComponent:n(854),customRowComponent:n(855),toggleOnRowClick:!0,autoHideColumns:!0,columns:[this.getColumnConfig("toggleExpandableRow"),this.getColumnConfig("instrumentName"),this.getColumnConfig("positionDirection"),this.getColumnConfig("orderQuantity"),this.getColumnConfig("pl"),this.getColumnConfig("positionEntryPrice",{alwaysInExpandable:!0}),this.getColumnConfig("positionExitPrice",{alwaysInExpandable:!0}),this.getColumnConfig("positionEntryTime"),this.getColumnConfig("positionExitTime"),this.getColumnConfig("positionNumber"),this.getColumnConfig("orderNumber",{alwaysInExpandable:!0}),this.getColumnConfig("positionCloseReason")],columnsMD:[this.getColumnConfig("toggleExpandableRow"),this.getColumnConfig("instrumentName"),this.getColumnConfig("positionDirection"),this.getColumnConfig("orderQuantity"),this.getColumnConfig("pl"),this.getColumnConfig("positionEntryPrice"),this.getColumnConfig("positionExitPrice")],columnsSM:[this.getColumnConfig("toggleExpandableRow"),this.getColumnConfig("instrumentName"),this.getColumnConfig("positionDirection"),this.getColumnConfig("orderQuantity"),this.getColumnConfig("pl")],columnsXS:[this.getColumnConfig("toggleExpandableRow"),this.getColumnConfig("instrumentName"),this.getColumnConfig("positionDirection"),this.getColumnConfig("orderQuantity"),this.getColumnConfig("pl")]},this.$el.find(".closed-positions-grid")[0])},onDataUnavailable:function(){this.hideLoading(),this.$el.find(".closed-positions-grid").html(this.unavailableDataTemplate())},destroy:function(){m.unmountComponentAtNode(this.$el.find(".panel-total-pl")[0]),l.prototype.destroy.call(this),r.isUndefined(this.gridView)||this.gridView.destroy(),this.collection.reset()},updateTotalPL:function(e){var t=e.get("filtered"),n=r.reduce(t,(function(e,t){return e+t.plOpen}),0);m.render(h.createElement(g,{value:n,inline:!0,text:__("history.position.total.pl"),prefix:v.getUserCurrencySymbol(),precision:2,alwaysPrecision:!0,shouldZeroHide:!0}),this.$el.find(".panel-total-pl")[0])},onClose:function(){store.dispatch(_())}});i.exports=y}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){n(12);var r=n(1),o=n(5),s=n(8),a=n(66),l=n(853),c=r.template(n(1854)),u=n(359),d=n(1855),p=n(327),f=n(419),h=n(6),m=n(108).TIMEZONE_LOCAL_ID,g=n(46).navigatePreviousSection;o.on("ui:login:submit",(function(){return localStorage.removeItem("order_history_filter")}));var v=l.extend({filter:{instruments:"null",status:"null",period:"today",beginPeriod:new Date,endPeriod:new Date},filterOptions:{instruments:{},status:{null:"history.order.status.any",cancelled:"history.order.status.canceled",rejected:"history.order.status.rejected"},period:{custom:"period.custom",all:"period.all",today:"period.day","7|Date":"period.week","14|Date":"period.fortnight","1|Month":"period.month","3|Month":"period.season","6|Month":"period.halfyear","12|Month":"period.year"}},unavailableDataTemplate:r.template(n(1856)),itemsStore:u,gridColumnsConfig:{},localStorageKey:"order_history_filter",events:function(){return r.extend({},r.result(l.prototype,"events"),{"click .fn-close-popup":"onClose"})},prepareFilters:function(){var e=[];switch(this.filterOptions.instruments={null:__("history.order.status.any")},r.each(this.itemsStore.get("filterAll"),(function(e){this.filterOptions.instruments[e.symbol]=e.name}),this),this.filter.status){case"null":e=this.itemsStore.get("cancelled").concat(this.itemsStore.get("rejected"));break;case"cancelled":e=this.itemsStore.get("cancelled");break;case"rejected":e=this.itemsStore.get("rejected")}this.collection.reset(e),l.prototype.prepareFilters.call(this)},applyFilter:function(){var e=h.getUserCommonData().getUserTimezoneObject(),t=e.id,n=e.offset,i=null;t===m&&(i={id:t,gmt:m,offset:n});var o={beginPeriod:this.formatDate(this.filter.beginPeriod),endPeriod:this.formatDate(this.filter.endPeriod),filterId:r.uniqueId("gwt-uid-")+".",showCancelledOrders:"rejected"!==this.filter.status,showRejectedOrders:"cancelled"!==this.filter.status,symbol:this.filter.instruments,timeZoneTO:i};localStorage.setItem(this.localStorageKey,JSON.stringify(this.filter)),s.subscribeOrdersFilters(a.getAtmosphereId(),o)},getColumnConfig:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.gridColumnsConfig[e];return r.extend(n||p.getColumnConfig(e),t)},render:function(){return h.getUserCommonData().isAdvancedTradingView(),this.$el.html(c()),l.prototype.render.call(this),this.gridView=f({className:"tab-order-history",collection:this.collection,empty:d,initialSort:__("history.order.time"),customRowsComponent:n(854),customRowComponent:n(855),toggleOnRowClick:!0,autoHideColumns:!0,columns:[this.getColumnConfig("toggleExpandableRow"),this.getColumnConfig("instrumentName"),this.getColumnConfig("orderAction"),this.getColumnConfig("orderType"),this.getColumnConfig("orderPrice"),this.getColumnConfig("orderPlaceTime",{alwaysInExpandable:!0}),this.getColumnConfig("orderQuantity"),this.getColumnConfig("orderModifiedTime"),this.getColumnConfig("orderStatus"),this.getColumnConfig("orderNumber"),this.getColumnConfig("orderComment",{alwaysInExpandable:!0})],columnsMD:[this.getColumnConfig("toggleExpandableRow"),this.getColumnConfig("instrumentName"),this.getColumnConfig("orderAction"),this.getColumnConfig("orderType"),this.getColumnConfig("orderPrice"),this.getColumnConfig("orderQuantity")],columnsSM:[this.getColumnConfig("toggleExpandableRow"),this.getColumnConfig("instrumentName"),this.getColumnConfig("orderAction"),this.getColumnConfig("orderPrice"),this.getColumnConfig("orderQuantity")],columnsXS:[this.getColumnConfig("toggleExpandableRow"),this.getColumnConfig("instrumentName"),this.getColumnConfig("orderAction"),this.getColumnConfig("orderPrice"),this.getColumnConfig("orderQuantity")]},this.$el.find(".order-history-grid")[0]),o.trigger("chart:display:hide"),this},onDataUnavailable:function(){this.hideLoading(),this.$el.find(".order-history-grid").html(this.unavailableDataTemplate())},destroy:function(){l.prototype.destroy.call(this),r.isUndefined(this.gridView)||this.gridView.destroy(),this.collection.reset()},onClose:function(){store.dispatch(g())}});i.exports=v}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},,,function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(22),s=n.n(o),a=n(1),l=n.n(a),c=n(7),u=n.n(c),d=n(85),p=n(9),f=n.n(p),h=n(77),m=n(27),g=n(4),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),v(t,[{key:"render",value:function(){var e=this.props,t=e.pendingDeposit,n=e.isAccountInfo;if(f.a.isDemo()||t<=0)return null;var i=Object(h.a)(t);return n?r.a.createElement("div",{className:"item pending-deposit-message"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"header"},r.a.createElement("i",{className:"icon-warning-red"}),__("accountInfo.pendingDeposit")),r.a.createElement("div",{className:"body amount"},i))):r.a.createElement("div",null,r.a.createElement("div",{className:"name"},r.a.createElement("i",{className:"icon-warning-red"}),__("accountInfo.pendingDeposit")),r.a.createElement("div",{className:"value"},r.a.createElement("div",null,i),r.a.createElement("div",{"aria-label":__("help.account.pending_deposits")},r.a.createElement("span",{className:"question-tooltip"}))))}}]),t}(r.a.Component),_=Object(g.connect)((function(e){return{pendingDeposit:Object(m.getUserPendingDeposit)(e)}}))(b),y=n(15),E=n.n(y),S=n(5),C=n.n(S),w=n(102),O=n.n(w),T=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var P=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return E()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),T(t,[{key:"onDeposit",value:function(){C.a.trigger("flow:deposit:RealFundsManDeposit"),this.props.onClick()}},{key:"render",value:function(){var e=!O.a.LOW_SCORE()||!O.a.FULL_REGISTRATION_COMPLETED(),t=u()({btn:!0,"btn-primary":!0,disabled:!e,"autotests-action-add-funds":!0});return r.a.createElement("div",{className:t,onClick:this.onDeposit},r.a.createElement("div",{className:"button-container"},r.a.createElement("span",null,__("funds.add_funds.title"))))}}]),t}(r.a.Component);P.defaultProps={onClick:l.a.noop};var k=P,I=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var A=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return E()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),I(t,[{key:"onWithdraw",value:function(){C.a.trigger("ui:withdraw"),this.props.onClick()}},{key:"render",value:function(){if(f.a.isDemo())return null;var e=!O.a.LOW_SCORE()||!O.a.FULL_REGISTRATION_COMPLETED(),t=u()({btn:!0,"btn-primary":!0,disabled:!e,"autotests-action-withdraw-funds":!0});return r.a.createElement("div",{className:t,onClick:this.onWithdraw},r.a.createElement("div",{className:"button-container"},r.a.createElement("span",null,__("actions.withdraw"))))}}]),t}(r.a.Component);A.defaultProps={onClick:l.a.noop};var x=A,N=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var D=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),N(t,[{key:"render",value:function(){var e=this.props,t=e.onActionButtonCLick,n=e.itemsList,i=e.onToggleItem,o=e.error;return r.a.createElement("div",{className:"funds-management"},r.a.createElement("div",{className:"funds-management--header"},r.a.createElement("span",null,__("funds.management"))),r.a.createElement("div",{className:"funds-management--body"},r.a.createElement("div",{className:"data"},r.a.createElement(_,{isAccountInfo:!1}),l.a.map(n,(function(e,t){var n=e;return r.a.createElement(n,{key:t,toggleItem:i})}))),r.a.createElement("div",{className:"actions"},r.a.createElement(k,{onClick:t}),r.a.createElement(x,{onClick:t})),o&&r.a.createElement("div",{className:"error"},__("accountInfo.validation.message",d.c,d.b))))}}]),t}(r.a.Component);D.defaultProps={onActiveFieldsChange:l.a.noop};var R=D,L=n(2),M=n(106),j=function(e){return e.accountInfo},F=Object(L.a)(j,(function(e){return e.myAccountActiveFields})),B=Object(L.a)(j,(function(e){return e.myAccountIsOpened})),U=Object(L.a)(j,(function(e){return l.a.filter(e.myAccountAvailableFields,(function(e){return!(e===M.ACCOUNT_ITEMS.AVAILABLE_FOR_WITHDRAWAL&&!f.a.isLive())}))})),V=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),V(t,[{key:"render",value:function(){var e=this.props,t=e.item,n=e.name,i=e.tooltip,o=e.value,s=e.activeFields,a=e.itemClass,c=e.toggleItem,d=l.a.includes(s,t),p=u()(z({body:!0},a,!!a));if(!l.a.isFunction(c))return r.a.createElement("div",{className:"item autotests-account-info-"+t},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"header"},n),r.a.createElement("div",{className:p},o)));var f=u()(z({value:!0},a,!!a));return r.a.createElement("div",{className:"autotests-account-info-"+t},r.a.createElement("div",{className:"name",onClick:function(){return c(t)}},r.a.createElement("span",{className:"field-selected"},d&&r.a.createElement("i",{className:"icon-checked-white"})),r.a.createElement("span",null,n)),r.a.createElement("div",{className:f},r.a.createElement("div",null,o),r.a.createElement("div",{"aria-label":i},r.a.createElement("span",{className:"question-tooltip"}))))}}]),t}(r.a.PureComponent),H=Object(g.connect)((function(e){return{activeFields:F(e)}}))(q),$=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var G=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),$(t,[{key:"render",value:function(){var e=this.props,t=e.toggleItem,n=e.balance;return r.a.createElement(H,{item:"balance",name:__("accountInfo.cash"),value:Object(h.a)(n),tooltip:__("help.account.balance"),toggleItem:t})}}]),t}(r.a.Component),W=Object(g.connect)((function(e){return{balance:Object(m.getUserBalance)(e)}}))(G),Y=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var K=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Y(t,[{key:"render",value:function(){var e=this.props,t=e.toggleItem,n=e.equity;return r.a.createElement(H,{item:"equity",name:__("accountInfo.equity"),value:Object(h.a)(n),tooltip:__("help.account.equity"),toggleItem:t})}}]),t}(r.a.Component),X=Object(g.connect)((function(e){return{equity:Object(m.getUserEquity)(e)}}))(K),Q=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var J=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Q(t,[{key:"render",value:function(){var e=this.props,t=e.toggleItem,n=e.profitLoss,i=e.profitLossClass;return r.a.createElement(H,{item:"profitLoss",name:__("accountInfo.pl"),value:Object(h.a)(n),tooltip:__("help.account.open_p_l"),itemClass:i,toggleItem:t})}}]),t}(r.a.Component),Z=Object(g.connect)((function(e){return{profitLoss:Object(m.getUserProfitLoss)(e),profitLossClass:Object(m.getUserProfitLoss)(e)>=0?d.n:d.m}}))(J),ee=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var te=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ee(t,[{key:"render",value:function(){var e=this.props,t=e.toggleItem,n=e.buyingPower;return r.a.createElement(H,{item:"buyingPower",name:__("accountInfo.freeMargin"),tooltip:__("help.account.free_margin"),value:Object(h.a)(n),toggleItem:t})}}]),t}(r.a.Component),ne=Object(g.connect)((function(e){return{buyingPower:Object(m.getUserBuyingPower)(e)}}))(te),ie=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var re=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ie(t,[{key:"render",value:function(){var e=this.props,t=e.toggleItem,n=e.maintenanceMargin;return r.a.createElement(H,{item:"maintenanceMargin",name:__("accountInfo.availableMargin"),tooltip:__("help.account.maintenance_margin"),value:Object(h.a)(n),toggleItem:t})}}]),t}(r.a.Component),oe=Object(g.connect)((function(e){return{maintenanceMargin:Object(m.getUserMaintenanceMargin)(e)}}))(re),se=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var ae=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),se(t,[{key:"render",value:function(){var e=this.props,t=e.toggleItem,n=e.marginUsed;return r.a.createElement(H,{item:"marginUsed",name:__("accountInfo.usedMargin"),tooltip:__("help.account.used_margin"),value:Object(h.a)(n),toggleItem:t})}}]),t}(r.a.Component),le=Object(g.connect)((function(e){return{marginUsed:Object(m.getUserMarginUsed)(e)}}))(ae),ce=n(63),ue=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var de=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return E()(n),n.state={isLiquidationWarning:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ue(t,[{key:"componentDidMount",value:function(){this.checkMarginLevel()}},{key:"componentDidUpdate",value:function(e){e.marginLevelRange!==this.props.marginLevelRange&&this.checkMarginLevel()}},{key:"checkMarginLevel",value:function(){var e=this.props.marginLevelRange;l.a.contains(ce.MARGIN_VALUES_WARNING_LEVELS,e)&&this.setState({isLiquidationWarning:!0})}},{key:"notifyMarginLevel",value:function(){var e=this.props.marginLevelRange;e===ce.MARGIN_VALUES.MARGIN_LEVEL_1&&Object(h.e)({caption:__("margin.level_1.popup.caption"),description:__("margin.level_1.popup.description")}),e<=ce.MARGIN_VALUES.MARGIN_LEVEL_2&&Object(h.e)({caption:__("margin.level_1.popup.caption"),description:__("margin.level_2.popup.description")})}},{key:"render",value:function(){var e=this.props,t=e.activeFields,n=e.toggleItem,i=e.riskLevel,o=e.marginLevelRange,s=e.liquidationLevel,a=e.marginAlertLevel2,c=this.state.isLiquidationWarning,d=l.a.includes(t,"riskLevel"),p=u()({item:!0,down:c,blink:o===ce.MARGIN_VALUES.LIQUIDATION_LEVEL_BUFFER,"autotests-account-info-marginLevel":!0});if(!l.a.isFunction(n))return r.a.createElement("div",{className:p},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"header"},__("accountInfo.maginLevel")),r.a.createElement("div",{className:"body"},Object(h.b)(i))));var f=u()({value:!0,down:c});return r.a.createElement("div",{className:"autotests-account-info-marginLevel"},r.a.createElement("div",{className:"name",onClick:function(){return n("riskLevel")}},r.a.createElement("span",{className:"field-selected"},d&&r.a.createElement("i",{className:"icon-checked-white"})),c&&r.a.createElement("span",{className:"liquidation-level"},r.a.createElement("i",{className:"icon-warning-red"}),r.a.createElement("span",{onClick:this.notifyMarginLevel},__("accountInfo.maginLevel"))),!c&&r.a.createElement("span",null,__("accountInfo.maginLevel"))),r.a.createElement("div",{className:f},r.a.createElement("div",null,Object(h.b)(i)),r.a.createElement("div",{"aria-label":__("help.account.margin_level",a,s)},r.a.createElement("span",{className:"question-tooltip"}))))}}]),t}(r.a.Component),pe=Object(g.connect)((function(e){return{activeFields:F(e),riskLevel:Object(m.getUserRiskLevel)(e),liquidationLevel:(Object(m.getUserLiquidationLevel)(e)*d.l).toFixed(),marginAlertLevel2:(Object(m.getUserMarginAlertLevel2)(e)*d.l).toFixed(),marginLevelRange:Object(m.getUserMarginLevelRange)(e)}}))(de),fe=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var he=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),fe(t,[{key:"render",value:function(){if(f.a.isDemo())return null;var e=this.props,t=e.toggleItem,n=e.availableForWithdrawal;return r.a.createElement(H,{item:"availableForWithdrawal",name:__("funds.management.available.title"),tooltip:__("funds.management.available.help"),value:Object(h.a)(n),toggleItem:t})}}]),t}(r.a.PureComponent),me=Object(g.connect)((function(e){return{availableForWithdrawal:Object(m.getUserAvailableBalanceForWithdrawal)(e)}}))(he),ge=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var ve=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ge(t,[{key:"render",value:function(){var e=this.props,t=e.toggleItem,n=e.activeBonusesAmount;return f.a.isDemo()||0===n?null:r.a.createElement(H,{item:"activeBonusesAmount",name:__("funds.management.bonuses.title"),tooltip:__("funds.management.bonuses.help"),value:Object(h.a)(n),toggleItem:t})}}]),t}(r.a.Component),be=Object(g.connect)((function(e){return{activeBonusesAmount:Object(m.getUserActiveBonusesAmount)(e)}}))(ve),_e=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var ye=n(456),Ee=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={spreadRebateData:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),_e(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillMount",value:function(){var e=this;(new ye).load().then((function(t){l.a.has(t,"data")&&e._isMounted&&e.setState({spreadRebateData:t.data})}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=!1,t=0,n=this.state.spreadRebateData;if(f.a.isDemo())return!1;if(n&&(e=!0===n.active&&!1===n.expired&&f.a.isSpreadRebateEnabled(),t=Object(h.a)(n.spreadRebateTotal)),!e)return null;var i=this.props.toggleItem;return r.a.createElement(H,{item:"spreadRebateTotal",name:__("funds.management.spread.rebate.title"),tooltip:__("funds.management.spread.rebate.title"),value:t,toggleItem:i})}}]),t}(r.a.Component),Se=(n(849),n(90));var Ce,we=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Te=(Oe(Ce={},M.ACCOUNT_ITEMS.BALANCE,W),Oe(Ce,M.ACCOUNT_ITEMS.EQUITY,X),Oe(Ce,M.ACCOUNT_ITEMS.PROFIT_LOSS,Z),Oe(Ce,M.ACCOUNT_ITEMS.BUYING_POWER,ne),Oe(Ce,M.ACCOUNT_ITEMS.MAINTENANCE_MARGIN,oe),Oe(Ce,M.ACCOUNT_ITEMS.MARGIN_USED,le),Oe(Ce,M.ACCOUNT_ITEMS.RISK_LEVEL,pe),Oe(Ce,M.ACCOUNT_ITEMS.AVAILABLE_FOR_WITHDRAWAL,me),Oe(Ce,M.ACCOUNT_ITEMS.ACTIVE_BONUSES_AMOUNT,be),Oe(Ce,M.ACCOUNT_ITEMS.SPREAD_REBATE_TOTAL,Ee),Ce),Pe=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isFundsManagementOpened:!1,isLiquidationWarning:!1,hasError:!1},E()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),we(t,[{key:"componentDidMount",value:function(){this.checkMarginLevel(),this.props.getFields(),this.props.setPosition(Object(h.d)()),document.addEventListener("click",this.handleClickOutsideFundsManagement)}},{key:"componentDidUpdate",value:function(e){e.marginLevelRange!==this.props.marginLevelRange&&this.checkMarginLevel()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutsideFundsManagement)}},{key:"checkMarginLevel",value:function(){if(!this.props.isQuantRanksAccount){var e=this.props.marginLevelRange;l.a.contains(ce.MARGIN_VALUES_WARNING_LEVELS,e)&&this.setState({isLiquidationWarning:!0})}}},{key:"toggleAccountInfo",value:function(e){e.preventDefault(),this.setState({isFundsManagementOpened:!1}),this.props.setPosition(!this.props.myAccountIsOpened),this.props.savePosition(!this.props.myAccountIsOpened)}},{key:"toggleFundsManagement",value:function(){this.setState({isFundsManagementOpened:!this.state.isFundsManagementOpened})}},{key:"closeFundsManagement",value:function(){this.setState({isFundsManagementOpened:!1})}},{key:"handleClickOutsideFundsManagement",value:function(e){var t=s.a.findDOMNode(this.refs.fundsManagementComponent),n=s.a.findDOMNode(this.refs.toggleFundsManagementComponent);!this.state.isFundsManagementOpened||t.contains(e.target)||n.contains(e.target)||this.closeFundsManagement()}},{key:"toggleItem",value:function(e){var t=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this.props.myAccountActiveFields)),n=!1;l.a.contains(t,e)?t.length>d.c?t=l.a.filter(t,(function(t){return t!==e})):n=!0:t.length<d.b?t.push(e):n=!0,this.setState({hasError:n}),this.props.saveActiveFields(t)}},{key:"render",value:function(){var e,t=this.state,n=t.isFundsManagementOpened,i=t.isLiquidationWarning,o=t.hasError,s=this.props,a=s.myAccountActiveFields,c=s.myAccountIsOpened,d=s.pendingDeposit,p=s.availableFields,f=l.a.pick(Te,(function(e,t){return l.a.contains(p,t)})),h=u()({opened:c,"account-info-list":!0,"bg-lighter":!0}),m=u()((Oe(e={},c?"icon-account-info-opened-ico":"icon-account-info-closed-ico",!0),Oe(e,"list-toggle__icon",!0),Oe(e,"fs-18",!0),e)),g=u()({"item item--poor item--pointer":!0,"item--rotated":n,"autotests-funds-management-toggle-button":!0}),v=u()({"list-toggle":!0,warn:d>0||i,"autotests-account-info-toggle-button":!0});return r.a.createElement("div",null,r.a.createElement("div",{className:"account-info-wrapper"},r.a.createElement("div",{className:h},r.a.createElement("div",{className:v},r.a.createElement("span",{className:m,onClick:this.toggleAccountInfo})),r.a.createElement("div",{className:"list flex flex-valign-center"},r.a.createElement("div",{className:"flex flex-column flex-valign-center"},r.a.createElement("div",{className:"flex flex-row flex-valign-center"},r.a.createElement(_,{isAccountInfo:!0}),i&&r.a.createElement(pe,null),l.a.map(a,(function(e,t){if(l.a.has(f,e)&&("riskLevel"!==e||!i)){var n=f[e];return r.a.createElement(n,{key:t})}})),r.a.createElement("div",{ref:"toggleFundsManagementComponent",className:g,onClick:this.toggleFundsManagement},r.a.createElement("div",{className:"icon icon-arrow-down-white"}))))))),n&&r.a.createElement(R,{onActionButtonCLick:this.closeFundsManagement,itemsList:f,error:o,ref:"fundsManagementComponent",onToggleItem:this.toggleItem}))}}]),t}(r.a.PureComponent);t.a=Object(g.connect)((function(e){return{myAccountActiveFields:F(e),myAccountIsOpened:B(e),marginLevelRange:Object(m.getUserMarginLevelRange)(e),riskLevel:Object(m.getUserRiskLevel)(e),pendingDeposit:Object(m.getUserPendingDeposit)(e),availableFields:U(e),isQuantRanksAccount:Object(m.isUserLoggedInQuantRankAccount)(e)}}),(function(e){return{getFields:Object(Se.b)((function(){return{type:d.g,payload:Object(h.c)()}}),e),setPosition:Object(Se.b)((function(e){return{type:d.k,payload:e}}),e),savePosition:Object(Se.b)((function(e){return{types:[d.i,d.j,d.h],callApi:function(){return Object(h.g)(e)},additionalData:e}}),e),saveActiveFields:Object(Se.b)((function(e){return{types:[d.e,d.f,d.d],callApi:function(){return Object(h.f)(e)},additionalData:e}}),e)}}))(Pe)},,,,function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1);i.exports.checkDependentFieldOnBlur=function(e){if(this.value(this.value().trim()),this.isEmpty()){var t=this.getDependentFieldByName(e);r.isEmpty(t)?this.fieldError():(this.disable(),t.setDefaultValue(),t.enable(),t.validate(),"none"===t.$el.css("display")&&t.$el.css("display","block"))}else this.validate()},i.exports.checkInputOnBlur=function(){this.value(this.value().trim()),this.isEmpty()||this.validate()},i.exports.validateFieldOnChange=function(){this.validate()},i.exports.isFieldEquals=function(e,t){var n=e.value(),i=t||[];return r.any(i,(function(e){return n===e}))}}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}void 0===(r=function(e,t,i){var r=n(1),c=(n(315),n(750)),u=n(33).default,d=n(16),p=n(9),f=n(72),h=n(58),m=n(114),g=function(e,t){switch(t){case 0:return e;case 1:return parseFloat(e.toFixed(2));case 2:var n=1;e<0&&(n=-1,e=-e);var i=r.find([[.1,2],[.01,3],[.001,4],[1e-4,5],[1e-5,5]],(function(t){var n=s(t,1)[0];return e>=n})),o=r.isUndefined(i)?0:i[1];return parseFloat(e.toFixed(o))*n}},v=l({candlestick:function(e){return[e.timestamp,e.open,e.high,e.low,e.close]},"up-down-line":function(e){return[e.timestamp,e.close]},ohlc:function(e){return[e.timestamp,e.open,e.high,e.low,e.close]},area:function(e){return[e.timestamp,e.close]},"heikin-ashi":function(e,t){var n=t?(t[1]+t[4])/2:(e.open+e.close)/2,i=(e.open+e.high+e.low+e.close)/4,r=Math.max(n,i,e.high),o=Math.min(n,i,e.low);return[e.timestamp,n,r,o,i]}},"comparison",(function(e,t,n){return[e.timestamp,n?g(100*(e.close-n.close)/n.close,2):0]})),b={},_={},y={switchers:{showTrades:!0,showHighLow:!1,showVolume:!0,showGrid:!0},colors:{candles:{up:"#1ecd93",down:"#ff433d"},bars:{up:"#1ecd93",down:"#ff433d"},heikinashi:{up:"#1ecd93",down:"#ff433d"},line:{up:"#1ecd93",line:"#2e86ab",down:"#ff433d"},area:{line:"#3d6bb1",fill:"#8aadff"},common:{background:"#ffffff",foreground:"#404957",grid:"#d8d8ef",volume:"#d9e7f2"},lines:{sell:"#de67a7",buy:"#de67a7",middle:"#de67a7",open:"#2e86ab",order:"#8E8331",profit:"#1ecd93",loss:"#ff433d",crosshair:"#2a7a9c"}}},E={general:{candles:{visible:80,overscroll:{offset:5,visible:8,total:100}},cursors:[{type:"cursor",selectable:!0},{type:"simple_crosshair",selectable:!0},{type:"crosshair",selectable:!0},{type:"fixed_tooltip_crosshair",selectable:!0},{type:"drawing",selectable:!1},{type:"comparision_crosshair",selectable:!1}],cursor:"simple_crosshair",rateLines:[].concat(a(r.intersection(p.getChartRateLineTypes(),["sell","buy","middle"])),["none"]),rateLine:"sell",periods:["1m","5m","15m","30m","1h","2h","4h","1d","1w","1mn"],period:"5m",ranges:["1h","1d","1w","1mn","1y","3y"],range:"1d",types:["candlestick","up-down-line","ohlc","area","heikin-ashi"],type:"candlestick",volumeAxisHeight:50,maxIndicatorsNumber:5,periodFormats:{"1m":"%d/%m/%Y %H:%M","5m":"%d/%m/%Y %H:%M","15m":"%d/%m/%Y %H:%M","30m":"%d/%m/%Y %H:%M","1h":"%d/%m/%Y %H:%M","2h":"%d/%m/%Y %H:%M","4h":"%d/%m/%Y %H:%M","1d":"%d/%m/%Y","1w":"%d/%m/%Y","1mn":"%m/%Y"}},chart:{gridLineWidth:.5,lineWidth:1,axesSpace:1,label:{offsetX:0,offsetY:0,padding:5,radius:0}},names:{series:{main:"main-series",volume:"volume-series",navigator:"highcharts-navigator-series"},axis:{mainX:"main-x-axis",mainY:"main-y-axis",volume:"volume-axis",navigatorX:"navigator-x-axis",navigatorY:"navigator-y-axis"},line:{sell:"sell",buy:"buy",middle:"middle",open:"open",order:"order",profit:"profit",loss:"loss"}}},S=function(){function e(t){var n=t.instrumentInfo,i=t.type,r=t.settings,o=t.indicators,s=t.comparisonMode,a=t.onSetExtremes,l=t.onRedraw;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._indicators=o,this._instrumentInfo=n,this._onRedraw=l,this._onSetExtremes=a,this._settings=e.prepareSettings(r),this._tooltipEnabled=!1,this._comparisonMode=s,this.comparisonMode?this._type=e.comparisonType:this._type=e.defaultTypes.indexOf(i)<0?e.defaultTypes[0]:i}return o(e,[{key:"type",get:function(){return this._type},set:function(e){this._type=e}},{key:"settings",get:function(){return this._settings},set:function(e){this._settings=e}},{key:"indicators",get:function(){return this._indicators}},{key:"instrumentInfo",get:function(){return this._instrumentInfo}},{key:"highchartsConfig",get:function(){return this._highchartsConfig}},{key:"onSetExtremes",get:function(){return this._onSetExtremes}},{key:"onRedraw",get:function(){return this._onRedraw}},{key:"tooltipEnabled",get:function(){return this._tooltipEnabled},set:function(e){this._tooltipEnabled=e}},{key:"previousCursor",get:function(){return this._previousCursor},set:function(e){this._previousCursor=e}},{key:"currentCursor",get:function(){return this._currentCursor},set:function(e){this._currentCursor=e}},{key:"comparisonMode",get:function(){return this._comparisonMode}}]),o(e,[{key:"createHighchartsConfig",value:function(){var t,n=this;this._highchartsConfig={chart:{showAxes:!1,animation:!1,backgroundColor:this.settings.colors.common.background,spacing:[0,e.options.chart.label.padding,5,0],marginBottom:this.comparisonMode?0:e.options.chart.label.padding+e.options.chart.label.offsetY+5,style:{fontFamily:"Lato, 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;"},events:{redraw:this.onRedraw}},plotOptions:(t={candlestick:{shadow:!1,animation:!1,color:this.settings.colors.candles.down,lineColor:this.settings.colors.candles.down,upColor:this.settings.colors.candles.up,upLineColor:this.settings.colors.candles.up,tooltip:{pointFormat:b.series.candles}},ohlc:{shadow:!1,animation:!1,color:this.settings.colors.bars.down,lineColor:this.settings.colors.bars.down,upColor:this.settings.colors.bars.up,upLineColor:this.settings.colors.bars.up,tooltip:{pointFormat:b.series.candles}}},l(t,"comparison",{shadow:!1,color:this.settings.colors.line.line,tooltip:{pointFormat:b.series.line}}),l(t,"up-down-line",{shadow:!1,animation:!1,upColor:this.settings.colors.line.up,color:this.settings.colors.line.line,downColor:this.settings.colors.line.down,tooltip:{pointFormat:b.series.line}}),l(t,"column",{shadow:!1,animation:!1,color:this.settings.colors.common.volume}),l(t,"area",{shadow:!1,animation:!1,color:this.settings.colors.area.line,fillColor:e.hexToRgba(this.settings.colors.area.fill,33),tooltip:{pointFormat:b.series.line},threshold:null}),l(t,"heikin-ashi",{shadow:!1,animation:!1,color:this.settings.colors.heikinashi.down,lineColor:this.settings.colors.heikinashi.down,upColor:this.settings.colors.heikinashi.up,upLineColor:this.settings.colors.heikinashi.up,tooltip:{pointFormat:b.series.candles}}),l(t,"series",{dataGrouping:{enabled:!1,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},cropThreshold:50,animation:!1,marker:{enabled:!1,radius:3,symbol:"circle",states:{hover:{animation:!1,radiusPlus:1},normal:{animation:!1}}},states:{normal:{animation:!1},hover:{animation:!1}}}),t),rangeSelector:{enabled:!1},xAxis:{id:E.names.axis.mainX,crosshair:!1,lineColor:this.settings.colors.common.grid,lineWidth:this.settings.switchers.showGrid?E.chart.lineWidth:0,gridLineColor:this.settings.colors.common.grid,gridLineWidth:this.settings.switchers.showGrid?E.chart.gridLineWidth:0,tickColor:this.settings.colors.common.grid,tickWidth:this.settings.switchers.showGrid?E.chart.gridLineWidth:0,labels:{style:{color:this.settings.colors.common.foreground},y:11+e.options.chart.label.offsetY+e.options.chart.label.padding},events:{setExtremes:this.onSetExtremes}},navigator:{height:7,enabled:!this.comparisonMode,outlineColor:this.settings.colors.common.grid,outlineWidth:this.settings.switchers.showGrid?E.chart.lineWidth:0,xAxis:{lineColor:this.settings.colors.common.grid,lineWidth:this.settings.switchers.showGrid?E.chart.lineWidth:0,gridLineColor:this.settings.colors.common.grid,gridLineWidth:this.settings.switchers.showGrid?E.chart.gridLineWidth:0,labels:{enabled:!1,style:{color:this.settings.colors.common.foreground}}},yAxis:{lineColor:this.settings.colors.common.grid,lineWidth:this.settings.switchers.showGrid?E.chart.lineWidth:0,gridLineColor:this.settings.colors.common.grid,gridLineWidth:this.settings.switchers.showGrid?E.chart.gridLineWidth:0,labels:{enabled:!1,style:{color:this.settings.colors.common.foreground}}}},scrollbar:{enabled:!0,height:0},exporting:{buttons:{contextButton:{enabled:!1}},sourceWidth:1920,sourceHeight:1080,scale:1},credits:{enabled:!1},dataLabels:{zIndex:1},tooltip:{animation:!1,shadow:!1,split:!1,shared:!0,useHTML:!0,headerFormat:b.header,footerFormat:b.footer,valueDecimals:this.getPrecision(),formatter:function(e){return!!n.tooltipEnabled&&e.defaultFormatter.call(this,e)},backgroundColor:"white",borderColor:"rgba(202, 211, 221, 0.9)",borderRadius:0},series:[],time:{timezoneOffset:m.chartOffset()}};var i=this.createSeriesConfig();return this.highchartsConfig.yAxis=i.yAxis,this.highchartsConfig.series=i.series,u.mobile()&&(this.highchartsConfig.navigator.enabled=!1,this.highchartsConfig.chart.marginBottom=0,this.highchartsConfig.plotOptions.series.enableMouseTracking=!1,this.highchartsConfig.tooltip.enabled=!1,this.highchartsConfig.tooltip.followTouchMove=!1),this.highchartsConfig}},{key:"createSeriesConfig",value:function(){var e=this,t=this.createMainConfig(),n=void 0;return r.each(this.indicators,(function(i){n=e.createIndicatorConfig(i),Array.prototype.push.apply(t.yAxis,n.yAxis),Array.prototype.push.apply(t.series,n.series)})),this.hasVolume&&(n=this.createVolumeConfig(),Array.prototype.push.apply(t.yAxis,n.yAxis),Array.prototype.push.apply(t.series,n.series)),this.updateConfigWithSpaces(t,this.hasVolume),t}},{key:"createMainConfig",value:function(){var t=this,n=function(){return t.getPrecision()};return{yAxis:[{id:E.names.axis.mainY,lineColor:this.settings.colors.common.grid,lineWidth:this.settings.switchers.showGrid?E.chart.lineWidth:0,gridLineColor:this.settings.colors.common.grid,gridLineWidth:this.settings.switchers.showGrid?E.chart.gridLineWidth:0,offset:0,opposite:!0,crosshair:!1,tickPixelInterval:30,labels:{align:"left",x:e.options.chart.label.offsetX+e.options.chart.label.padding,y:5,zIndex:3,formatter:this.comparisonMode?function(){return this.value.toFixed(n())+"%"}:function(){return this.value.toFixed(n())},style:{color:this.settings.colors.common.foreground}}}],series:[this.createMainSeriesConfig()]}}},{key:"createMainSeriesConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this._createSeriesConfig(e)}},{key:"_createSeriesConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.names.series.main,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.instrumentInfo.getDisplayName();return c.recursive({id:t,type:this.type,name:n,index:0,zIndex:2,yAxis:E.names.axis.mainY,data:e},this.highchartsConfig.plotOptions[this.type])}},{key:"createIndicatorConfig",value:function(t){var n=this,i={yAxis:[],series:[]};return t.overlaying||i.yAxis.push({id:t.id+"-"+t.uiid,lineColor:this.settings.colors.common.grid,lineWidth:this.settings.switchers.showGrid?E.chart.lineWidth:0,gridLineColor:this.settings.colors.common.grid,gridLineWidth:this.settings.switchers.showGrid?E.chart.gridLineWidth:0,offset:0,opposite:!0,tickPixelInterval:30,labels:{align:"left",x:e.options.chart.label.offsetX+e.options.chart.label.padding,y:5,zIndex:3,formatter:function(){return this.value.toFixed(n.getPrecision())},style:{color:this.settings.colors.common.foreground}}}),r.each(t.lines,(function(e){var o={type:"line",id:t.id+"_"+e.title,name:n.overrideLineNameFromCfg(t,t.title+" : "+e.title),color:e.colors[0],yAxis:t.overlaying?E.names.axis.mainY:t.id+"-"+t.uiid,zIndex:3,data:[],showInNavigator:!1,lineWidth:parseInt(e.thickness),tooltip:{pointFormat:b.series.line}};switch(e.type){case"POINTS_TYPE":r.extend(o,{lineWidth:0,marker:{enabled:!0,radius:2,symbol:"circle"},states:{hover:{lineWidthPlus:0}},tooltip:{pointFormat:b.series.points}});break;case"HYSTOGRAM_TYPE":case"TREND_HYSTOGRAM_TYPE":r.extend(o,{type:"column",tooltip:{pointFormat:b.series.columns}})}e.colors.length>1&&r.extend(o,{negativeColor:e.colors[1]}),i.series.push(o)})),i}},{key:"createVolumeConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{yAxis:[{id:E.names.axis.volume,lineWidth:0,gridLineWidth:0,labels:{enabled:!1},offset:0,title:null}],series:[{id:E.names.series.volume,type:"column",name:"Volume",pointPadding:0,groupPadding:0,borderWidth:0,shadow:!1,showInNavigator:!1,data:e,yAxis:E.names.axis.volume,tooltip:{valueDecimals:0,pointFormat:b.series.volume},zIndex:1}]}}},{key:"updateConfigWithSpaces",value:function(e,t){if(1!==e.yAxis.length){for(var n=[2],i=2,o=e.yAxis.length-(t?1:0),s=1,a=o;s<a;s++)n.push(1),i+=1;var l=0,c=100-E.chart.axesSpace*(o-1);r.each(n,(function(t,r){e.yAxis[r].top=l+E.chart.axesSpace*r+"%",e.yAxis[r].height=c/i*t+"%",l+=c/i*t,n[r]=c/i*t})),t&&(r.last(e.yAxis).top=0+n[0]*(100-E.general.volumeAxisHeight)/100+"%",r.last(e.yAxis).height=n[0]*E.general.volumeAxisHeight/100+"%")}}},{key:"createPlotLinesConfig",value:function(e){var t=this,n=[],i=0;return r.each(e,(function(e,r){e.value&&n.push({value:e.value,color:e.config&&e.config.color||t.settings.colors.lines[r],dashStyle:"solid",width:1,zIndex:5,label:{x:e.config&&e.config.x||50*++i,text:e.config&&e.config.text||__("chart.line."+r),align:e.config&&e.config.align||"left",style:{color:e.config&&e.config.color||t.settings.colors.lines[r],"font-weight":"bold","font-size":"12px"}}})})),{plotLines:n}}},{key:"createPlotLabelsConfig",value:function(t,n){return{attr:{fill:n&&n.color||this.settings.colors.lines[t],"stroke-width":0,padding:e.options.chart.label.padding,r:e.options.chart.label.radius,zIndex:t===E.names.line.sell||t===E.names.line.buy||t===E.names.line.middle?1:2},css:{color:"#FFFFFF",fontSize:"11px",fontWeight:"500",fontFamily:'Lato, "Helvetica Neue", Helvetica, Arial, sans-serif;'}}}},{key:"createExportingConfig",value:function(e){var t=e.onLoad,n=e.onRedraw;return{chart:{events:{load:function(e){var n=e.target;t(n)},redraw:function(){n(this)}}},navigator:{enabled:!1}}}},{key:"createCursorConfig",value:function(t,n){var i=this;switch(t){case"cursor":return{xAxis:{crosshair:!1},yAxis:{crosshair:!1},tooltip:{enabled:!1}};case"simple_crosshair":return{xAxis:{crosshair:{snap:!0,zIndex:6,label:{enabled:!0,padding:e.options.chart.label.padding,shape:"rect",backgroundColor:this.settings.colors.lines.crosshair,borderRadius:e.options.chart.label.radius,format:"{value:"+e.options.general.periodFormats[n]+"}"}}},yAxis:{crosshair:{snap:!1,zIndex:6,label:{enabled:!0,padding:e.options.chart.label.padding,backgroundColor:this.settings.colors.lines.crosshair,shape:"rect",borderRadius:e.options.chart.label.radius,formatter:function(e){return e.toFixed(i.getPrecision())}}}},tooltip:{enabled:!1}};case"crosshair":return{xAxis:{crosshair:{snap:!0,zIndex:6,label:{enabled:!0,padding:e.options.chart.label.padding,shape:"rect",backgroundColor:this.settings.colors.lines.crosshair,borderRadius:e.options.chart.label.radius,format:"{value:"+e.options.general.periodFormats[n]+"}"}}},yAxis:{crosshair:{snap:!1,zIndex:6,label:{enabled:!0,padding:e.options.chart.label.padding,backgroundColor:this.settings.colors.lines.crosshair,shape:"rect",borderRadius:e.options.chart.label.radius,formatter:function(e){return e.toFixed(i.getPrecision())}}}},tooltip:{enabled:!0,shape:"callout",positioner:null}};case"fixed_tooltip_crosshair":return{xAxis:{crosshair:{snap:!0,zIndex:6,label:{enabled:!0,padding:e.options.chart.label.padding,shape:"rect",backgroundColor:this.settings.colors.lines.crosshair,borderRadius:e.options.chart.label.radius,format:"{value:"+e.options.general.periodFormats[n]+"}"}}},yAxis:{crosshair:{snap:!1,zIndex:6,label:{enabled:!0,padding:e.options.chart.label.padding,backgroundColor:this.settings.colors.lines.crosshair,shape:"rect",borderRadius:e.options.chart.label.radius,formatter:function(e){return e.toFixed(i.getPrecision())}}}},tooltip:{enabled:!0,shape:"rect",positioner:function(){return{x:5,y:5}}}};case"drawing":return{xAxis:{crosshair:!1},yAxis:{crosshair:!1},tooltip:{enabled:!1}};case"comparison_crosshair":return{xAxis:{crosshair:{snap:u.desktop(),zIndex:6,label:{enabled:!0,padding:e.options.chart.label.padding,shape:"rect",backgroundColor:this.settings.colors.lines.crosshair,borderRadius:e.options.chart.label.radius,format:"{value:"+e.options.general.periodFormats[n]+"}"}}},yAxis:{crosshair:{snap:!1,zIndex:6,label:{enabled:!0,padding:e.options.chart.label.padding,backgroundColor:this.settings.colors.lines.crosshair,shape:"rect",borderRadius:e.options.chart.label.radius,formatter:function(e){return e.toFixed(i.getPrecision())+"%"}}}},tooltip:{enabled:!1,followTouchMove:!0}}}}},{key:"getPrecision",value:function(){return this.comparisonMode?2:this.instrumentInfo.getPrecision()}},{key:"addChartInfoExporting",value:function(t){var i=this,o={startX:18,titleHeight:16,lineHeight:13,borderWidth:2,padding:7,background:e.hexToRgba(this.settings.colors.common.background,90),labelAttr:{zIndex:10,fill:e.hexToRgba(this.settings.colors.common.background,90),padding:2}};t.renderer.label(this.instrumentInfo.getDisplayName(),o.startX,15).attr(o.labelAttr).css({"font-size":"16px",color:e.hexToRgba(this.settings.colors.common.foreground),"font-weight":"bold"}).add(),t.renderer.label(this.instrumentInfo.getDescription(),o.startX,34).attr(o.labelAttr).css({"font-size":"13px",color:e.hexToRgba(this.settings.colors.common.foreground)}).add(),t.renderer.label(__("chart.screenshot",d().format("DD/MM/YYYY HH:mm")),o.startX,51).attr(o.labelAttr).css({"font-size":"13px",color:e.hexToRgba(this.settings.colors.common.foreground)}).add(),r.each(this.createIndicatorConfigExporting(t,this.indicators,o),(function(n){r.each(n.colors,(function(e,i){t.renderer.rect(o.startX+(o.lineHeight+o.borderWidth)*i,n.y+o.borderWidth,o.lineHeight+o.borderWidth,o.lineHeight+o.borderWidth).attr({zIndex:10,stroke:o.background,"stroke-width":2*o.borderWidth,fill:e}).add()})),t.renderer.label(n.title,o.startX+(n.colors?(o.lineHeight+o.borderWidth)*n.colors.length:0),n.y).attr(o.labelAttr).css({"font-size":n.line?o.lineHeight+"px":o.titleHeight+"px","font-weight":n.line?"normal":"bold",color:e.hexToRgba(i.settings.colors.common.foreground)}).add()})),this.comparisonMode&&r.each(t.series,(function(n,r){var s=60+(o.lineHeight+o.padding)*(r+1);t.renderer.rect(o.startX,s+o.borderWidth,o.lineHeight+o.borderWidth,o.lineHeight+o.borderWidth).attr({zIndex:10,stroke:o.background,"stroke-width":2*o.borderWidth,fill:n.color}).add(),t.renderer.label(n.name,o.startX+(o.lineHeight+o.borderWidth),s).attr(o.labelAttr).css({"font-size":o.lineHeight+"px","font-weight":"normal",color:e.hexToRgba(i.settings.colors.common.foreground)}).add()}));var s=void 0;try{s=n(1430)("./"+p.getBrandName()+"/screenshot_watermark.png")}catch(e){s=n(1436)}s&&t.renderer.image(s,20,900,720,120).attr({zIndex:10}).add()}},{key:"createIndicatorConfigExporting",value:function(e,t,n){var i=[],o=60;return r.each(t,(function(t){t.overlaying&&(o+=n.titleHeight+n.padding),i.push({line:!1,title:t.title,y:e.get(E.names.axis.mainY).top+o}),t.overlaying||(i[i.length-1].y=e.get(t.id+"-"+t.uiid).top),r.each(t.lines,(function(e){t.overlaying&&(o+=n.lineHeight+n.padding),i.push({line:!0,title:e.title,y:i[i.length-1].y+n.lineHeight+n.padding,colors:e.colors})}))})),i}},{key:"enableTooltip",value:function(){this.tooltipEnabled=!0}},{key:"disableTooltip",value:function(){this.tooltipEnabled=!1}},{key:"getAxisSettings",value:function(e,t){return r.extend({lineColor:this.settings.colors.common.grid,lineWidth:this.settings.switchers.showGrid&&!t?E.chart.lineWidth:0,gridLineColor:this.settings.colors.common.grid,gridLineWidth:this.settings.switchers.showGrid&&!t?E.chart.gridLineWidth:0,labels:{style:{color:this.settings.colors.common.foreground}}},e?{tickColor:this.settings.colors.common.grid,tickWidth:this.settings.switchers.showGrid&&!t?E.chart.gridLineWidth:0}:{})}},{key:"overrideLineNameFromCfg",value:function(e,t){var n=h.tooltip.crosshair.indicators,i=n.list[e.id],o=function(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=r.getDeepProp(e,t,n.splitBy);if(!r.isUndefined(o)&&!r.isObject(o))return i?r.capitalize(String(o)):o},s=t;if(!i||!i.propPath)return s;var a=i.propPath,l=r.size(a),c=i.multiPropsBitwise&&"||"===i.multiPropsBitwise;if(r.isArray(a)&&l){var u=r.reduce(a,(function(e,t,s){var a=o(t);return a&&e.push(String(a).concat(function(e,t){var i=r.size(e.propPath),o=e.separator||n.defaultSeparator,s=r.isArray(o);return s&&o.length===i||i!==t+1?s?o[t]||""===o[t]?o[t]:n.defaultSeparator:o:""}(i,s))),e}),[]);c=c||u.length===l,s=u.length&&c?u.join(""):t}if(r.isString(a)){var d=o(a);d&&(s=d)}return s}},{key:"getTypeConverter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.type;return v[e]}},{key:"hasVolume",get:function(){return this.settings.switchers.showVolume&&!this.comparisonMode}}],[{key:"initLocalizedSettings",value:function(){_={resistance3:{text:__("trading.central.study.r3.title"),x:-5,align:"right"},resistance2:{text:__("trading.central.study.r2.title"),x:-5,align:"right"},resistance1:{text:__("trading.central.study.r1.title"),x:-5,align:"right"},support1:{text:__("trading.central.study.s1.title"),x:-5,align:"right"},support2:{text:__("trading.central.study.s2.title"),x:-5,align:"right"},support3:{text:__("trading.central.study.s3.title"),x:-5,align:"right"},pivot:{text:__("trading.central.study.pivot.title"),x:-5,align:"right"}},b={header:'<div class="chart-tooltip-header">{point.key}</div><div class="chart-tooltip-body">',series:{candles:r.template('<div><div><%-__("chart.open")%> </div><div>{point.open}</></div></div><div><div><%-__("chart.high")%> </div><div>{point.high}</></div></div><div><div><%-__("chart.low")%> </div><div>{point.low}</div></div><div><div><%-__("chart.close")%> </div><div>{point.close}</div></div>')(),line:'<div><div><span style="color:{point.color}"></span>{series.name} </div><div>{point.y}</div></div>',points:'<div><div><span style="color:{point.color}"></span>{series.name} </div><div>{point.y}</div></div>',columns:'<div><div><span style="color:{point.color}"></span>{series.name} </div><div>{point.y}</div></div>',volume:"<div><div>{series.name} </div><div>{point.y}</div></div>"},footer:"</div>"}}},{key:"prepareSettings",value:function(e){return c.recursive(!0,this.defaultChartSettings,e)}},{key:"hexToRgba",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;e=e.replace("#","");var n=parseInt(e.substring(0,2),16),i=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16);return"rgba("+n+","+i+","+r+","+t/100+")"}},{key:"options",get:function(){return E}},{key:"defaultPeriods",get:function(){return E.general.periods}},{key:"defaultPeriod",get:function(){return E.general.period}},{key:"defaultRanges",get:function(){return E.general.ranges}},{key:"defaultRange",get:function(){return E.general.range}},{key:"defaultTypes",get:function(){return E.general.types}},{key:"defaultType",get:function(){return E.general.type}},{key:"defaultCursors",get:function(){return E.general.cursors}},{key:"defaultCursor",get:function(){return E.general.cursor}},{key:"defaultRateLines",get:function(){return E.general.rateLines}},{key:"defaultRateLine",get:function(){return E.general.rateLine}},{key:"defaultChartSettings",get:function(){return c.recursive(!0,y,f.currentThemeSettings.chart)}},{key:"tradingCentralSettings",get:function(){return _}},{key:"comparisonType",get:function(){return"comparison"}}]),e}();i.exports=S}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(6),s=n.n(o),a=n(61),l=n(44),c=n(9),u=n.n(c),d=n(4),p=Object(l.default)((function(){return Promise.all([n.e(37),n.e(13),n.e(14),n.e(12),n.e(66)]).then(n.bind(null,1948))})),f=Object(l.default)((function(){return Promise.all([n.e(14),n.e(35),n.e(67)]).then(n.bind(null,1959))}));t.default=Object(d.connect)((function(){return{isTradingViewChart:s.a.getUserCommonData().isAdvancedTradingView()&&u.a.isChartModeSwitcherEnabled()&&s.a.getUserCommonData().getChartMode()===a.CHART_MODE_ADVANCED}}))((function(e){var t=e.isTradingViewChart,n=e.className,i=e.symbol,o=t?f:p;return r.a.createElement(o,{className:n,symbol:i})}))},,function(e,t,n){},function(e,t,n){var i;void 0===(i=function(e,t,n){n.exports={CERTIFIED_PROOF_OF_ID:8,CERTIFIED_PROOF_OF_RESIDENCE:9,CREDIT_CARD_BACK:5,CREDIT_CARD_CANCELLATION_LETTER:31,CREDIT_CARD_FRONT:4,CREDIT_CARD_OWNERSHIP_LETTER:32,CREDIT_CARD_SCREENSHOT_WITHIN_ONLINE_BANKING:33,CREDIT_CARD_STATEMENT:34,DECLARATION_OF_ADDRESS:14,DECLARATION_OF_FAMILY_MEMBER:15,EMAIL:20,JOINT_ACCOUNT_FORM:35,MARRIAGE_CERTIFICATE:23,POWER_OF_ATTORNEY:13,PROOF_OF_ID:1,PROOF_OF_ID_BACK:37,PROOF_OF_ID_FAMILY_MEMBER:22,PROOF_OF_ID_FRONT:36,PROOF_OF_RESIDENCE:2,STATEMENTS_OF_DEPOSITS:7,SWIFT:18,THIRD_PARTY_CREDIT_CARD_AGREEMENT:17,THIRD_PARTY_E_WALLET_AGREEMENT:26,THIRD_PARTY_PROOF_OF_ID:24,THIRD_PARTY_PROOF_OF_RESIDENCE:25,THIRD_PARTY_WIRE_TRANSFER_AGREEMENT:16,WAIVER_LETTER:21,WIRE_TRANSFER_DOCUMENT:6,WITHDRAWAL_REQUEST:3,WORLD_CHECK_PASSWORD_RESULT:11,WORLD_CHECK_SEARCH_RESULT:10,PAYMENT_METHOD_OWNERSHIP:38,PAYMENT_METHOD_CANCELLATION:39,LANDLINE_MOBILE_PHONE_BILL:40,PHONE_VERIFICATION:41,ENHANCED_VERIFICATION_PROOF:42,BANK_CONFIRMATION_LETTER:43,PROFESSIONAL_CLIENT_APPLICATION:44,OTHER:12}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,i){n(1);var r=n(20),o=n(412),s=n(413),a=r.extend({initialize:function(){r.prototype.initialize.apply(this,arguments),this.forms={},this.formConfigs=null},destroyForm:function(e){var t=this.forms[e];t&&(this.beforeDestroyForm(e,t.model,t.view),this.stopFormListening(e),t.view.destroy(),t.model.destroy(),t.$container.empty(),this.afterDestroyForm(e),delete this.forms[e])},createForm:function(e,t){var n=this.formConfigs;if(this.forms[e]&&this.destroyForm(e),!n)throw new Error("You should include form's config file in initialize of your view.");var i=n[e];if(!i)throw new Error("Form's config is not found");this.beforeCreateForm(e);var r=new(s.extend({}))(i(this.model)),a=new o({model:r,$parent:t}),l={name:e,model:r,view:a,$container:t};return this.forms[e]=l,a.show(),this.addFormListeners(e),this.afterCreateForm(e,r,a),l},isForm:function(e){return this.forms[e]},getFormField:function(e,t){return this.getForm(e).getField(t)},getForm:function(e){return this.forms[e].view.form},addFormListeners:function(e){var t=this,n=this.getForm(e);for(var i in n._fields){var r=n._fields[i];this.listenTo(r,"all",(function(n,i,r){t.trigger("form:"+e+":"+n+":"+i._name,i,r),t.trigger("form:field-update",i._name,r)}))}},stopFormListening:function(e){for(var t in e._fields){var n=e._fields[t];this.stopListening(n,"all")}},destroy:function(){for(var e in this.forms)this.destroyForm(e);r.prototype.destroy.call(this)},beforeCreateForm:function(){},afterCreateForm:function(){},beforeDestroyForm:function(){},afterDestroyForm:function(){}});i.exports=a}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,r){var o=n(20),s=i.template(n(1692)),a=(n(86),n(984)),l=n(985),c=n(986),u=n(987),d=n(988),p=n(989),f=n(525),h=(f.EMPTY,f.PENDING,f.SUCCESS);f.ERROR;r.exports=o.extend({className:"insights",initialize:function(e){o.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:statusOfTipRanks",this.onStatusOfTipRanksChanged),this.listenTo(this.model,"change:statusOfEvents",this.onStatusOfEventsChanged),this.listenTo(this.model,"change:statusOfInsiders",this.onStatusOfInsidersChanged),this.listenTo(this.model,"change:statusOfBloggers",this.onStatusOfBloggersChanged),this.listenTo(this.model,"change:statusOfHedgefunds",this.onStatusOfHedgefundsChanged),this.listenTo(this.model,"change:statusOfNewsSentiment",this.onStatusOfNewsSentimentChanged)},render:function(){return o.prototype.render.call(this),this.$el.html(s({instrument:this.model.getInstrumentName()})),this},onStatusOfTipRanksChanged:function(){var e=this;this.model.checkAnalystsEmpty().then((function(t){e.model.get("statusOfTipRanks")!=h||t||(e.addChildView(".block-1",a,{model:e.model}),e.$el.find(".block-no-data").addClass("hidden"))}))},onStatusOfEventsChanged:function(){var e=this;this.model.checkEventsEmpty().then((function(t){e.model.get("statusOfEvents")!=h||t||(e.addChildView(".block-2",l,{model:e.model}),e.$el.find(".block-no-data").addClass("hidden"))}))},onStatusOfInsidersChanged:function(){var e=this;this.model.checkInsidersEmpty().then((function(t){e.model.get("statusOfInsiders")!=h||t||(e.addChildView(".block-3",c,{model:e.model}),e.$el.find(".block-no-data").addClass("hidden"))}))},onStatusOfBloggersChanged:function(){var e=this;this.model.checkBloggersEmpty().then((function(t){e.model.get("statusOfBloggers")!=h||t||(e.addChildView(".block-4",u,{model:e.model}),e.$el.find(".block-no-data").addClass("hidden"))}))},onStatusOfHedgefundsChanged:function(){var e=this;this.model.checkHedgefundsEmpty().then((function(t){e.model.get("statusOfHedgefunds")!=h||t||(e.addChildView(".block-5",d,{model:e.model}),e.$el.find(".block-no-data").addClass("hidden"))}))},onStatusOfNewsSentimentChanged:function(){var e=this;this.model.checkNewsSentimentEmpty().then((function(t){e.model.get("statusOfNewsSentiment")!=h||t||(e.addChildView(".block-6",p,{model:e.model}),e.$el.find(".block-no-data").addClass("hidden"))}))}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};void 0===(r=function(e,t,i){var r=n(1),s=n(43),a=n(100),l=n(8),c=n(16),u=n(1699),d=n(26),p=n(9),f=n(177),h=f.loadTipRanks,m=f.loadEventsAndTrade,g=n(525),v=g.EMPTY,b=g.PENDING,_=g.SUCCESS,y=g.ERROR,E={silent:!0},S=n(3).TRADING_TOOLS,C=a.extend({model:u});i.exports=s.extend({defaults:function(){return{instrumentSymbol:v,instrumentId:0,statusOfTipRanks:v,statusOfEvents:v,statusOfInsiders:v,statusOfInsiderDetails:v,statusOfBloggers:v,statusOfHedgefunds:v,statusOfNewsSentiment:v,status:v,dataOfEvents:[],section:S.ANALYST_RECOMMENDATIONS,hasData:!1}},initialize:function(){this.listenTo(this,"change:statusOfTipRanks",this.onReady),this.listenTo(this,"change:statusOfEvents",this.onReady),this.listenTo(this,"change:statusOfInsiders",this.onReady),this.listenTo(this,"change:statusOfBloggers",this.onReady),this.listenTo(this,"change:statusOfHedgefunds",this.onReady),this.listenTo(this,"change:statusOfNewsSentiment",this.onReady)},checkEnabled:function(){return Promise.all([p.checkTradingToolEnabled(S.EVENTS_AND_TRADE),p.checkTradingToolEnabled(S.ANALYST_RECOMMENDATIONS),p.checkTradingToolEnabled(S.INSIDERS),p.checkTradingToolEnabled(S.BLOGGERS),p.checkTradingToolEnabled(S.HEDGEFUNDS),p.checkTradingToolEnabled(S.NEWS_SENTIMENT)]).then((function(e){return Promise.resolve(r.some(e))}))},onReady:function(){var e=this,t=this.control("status"),n=this.get("statusOfTipRanks"),i=this.get("statusOfEvents"),o=this.get("statusOfInsiders"),s=this.get("statusOfBloggers"),a=this.get("statusOfHedgefunds"),l=this.get("statusOfNewsSentiment");r.some([n,i,o,s,a,l],(function(e){return e===_}))&&t(_),this.checkSomeAvailable().then((function(t){return t&&e.set("hasData",!0)}))},checkSomeAvailable:function(){return Promise.all([this.checkEventsEmpty(),this.checkAnalystsEmpty(),this.checkInsidersEmpty(),this.checkBloggersEmpty(),this.checkHedgefundsEmpty(),this.checkNewsSentimentEmpty()]).then((function(e){return Promise.resolve(r.some(e,(function(e){return!e})))}))},load:function(){var e=this;Promise.all([p.checkTradingToolEnabled(S.EVENTS_AND_TRADE),p.checkTradingToolEnabled(S.ANALYST_RECOMMENDATIONS),p.checkTradingToolEnabled(S.INSIDERS),p.checkTradingToolEnabled(S.BLOGGERS),p.checkTradingToolEnabled(S.HEDGEFUNDS),p.checkTradingToolEnabled(S.NEWS_SENTIMENT)]).then((function(t){r.every(t,(function(e){return!e}))?e.set("status",_):(t[0]&&e.loadEvents(),t[1]&&e.loadTipRanks(),t[2]&&e.loadInsiders(),t[3]&&e.loadBloggers(),t[4]&&e.loadHedgefunds(),t[5]&&e.loadNewsSentiment())}))},loadTipRanks:function(){var e=this,t=this.control("statusOfTipRanks");t(0,0,E),t(b),h().then((function(n){return t(_,{dataOfTipRanks:e.filterTipRanks(n.data)})})).catch((function(e){return t(y,{err:e})}))},loadEvents:function(){var e=this,t=this.control("statusOfEvents");t(0,0,E),t(b),m().then((function(n){return t(_,{dataOfEvents:e.filterEvents(n.data)})})).catch((function(e){return t(y,{err:e})}))},loadInsiders:function(){var e=this,t=this.control("statusOfInsiders");t(0,0,E),t(b),l.getInsiders().then((function(n){t(_,{dataOfInsider:e.filterInsiders(n.data)}),e.loadInsiderDetails()})).catch((function(e){return t(y,{err:e})}))},loadInsiderDetails:function(){var e=this.getInsider(),t=this.control("statusOfInsiderDetails");t(0,0,E),e?(t(b),l.getInsider(e.stockTicker).then((function(e){return t(_,{dataOfInsiderDetails:e.data})})).catch((function(e){return t(y,{err:e})}))):t(_)},loadBloggers:function(){var e=this,t=this.control("statusOfBloggers");t(0,0,E),t(b),l.loadBloggers().then((function(n){return t(_,{dataOfBloggers:e.filterBloggers(n.data)})})).catch((function(e){return t(y,{err:e})}))},loadHedgefunds:function(){var e=this,t=this.control("statusOfHedgefunds");t(0,0,E),t(b),l.loadHedgefunds().then((function(t){var n=r.find(t.data,(function(t){return t.symbol===e.get("instrumentSymbol")}));return r.has(n,"stockTicker")?l.loadHedgefund(n.stockTicker):Promise.resolve({data:[]})})).then((function(n){return t(_,{dataOfHedgefunds:e.filterHedgefunds(n.data)})})).catch((function(e){return t(y,{err:e})}))},loadNewsSentiment:function(){var e=this,t=this.control("statusOfNewsSentiment");t(0,0,E),t(b),l.loadNewsSentiment().then((function(n){var i=r.find(n.data,(function(t){return t.symbol===e.get("instrumentSymbol")}));return r.has(i,"stockTicker")?t(_,{dataOfNewsSentiment:i}):Promise.resolve({data:[]})})).catch((function(e){return t(y,{err:e})}))},getInsiderStockTicker:function(){return""},setSection:function(e){this.set({section:e})},getSection:function(){return this.get("section")},getCorrectSection:function(){var e=this;return Promise.all([this.checkAnalystsEmpty(),this.checkEventsEmpty(),this.checkInsidersEmpty(),this.checkBloggersEmpty(),this.checkHedgefundsEmpty(),this.checkNewsSentimentEmpty()]).then((function(t){var n=e.getSection(),i=[{name:S.ANALYST_RECOMMENDATIONS,empty:t[0]},{name:S.EVENTS_AND_TRADE,empty:t[1]},{name:S.INSIDERS,empty:t[2]},{name:S.BLOGGERS,empty:t[3]},{name:S.HEDGEFUNDS,empty:t[4]},{name:S.NEWS_SENTIMENT,empty:t[5]}],o=r.find(i,{name:n}),s=r.findWhere(i,{empty:!1});return o.empty?Promise.resolve(s&&s.name||""):Promise.resolve(o.name)}))},filterTipRanks:function(e){return e},filterBloggers:function(e){return e},filterHedgefunds:function(e){return e},filterInsiders:function(e){var t=this.get("instrumentSymbol");return r.chain(e).filter((function(e){return e.symbol===t})).map((function(e){return e.signalDirection="Positive Sentiment"!==e.confidenceSignalScore?"Neutral Sentiment"!==e.confidenceSignalScore?"down":"neutral":"up",e.transactionCount="up"===e.signalDirection?e.transactionBuyCount:e.transactionSellCount,e.formatDaysAgo=c(e.latestInsiderTransactionDate).fromNow(),e.formatDate=c(e.latestInsiderTransactionDate).format("MMM, D YYYY"),e})).first().value()},filterEvents:function(e){var t=this.get("instrumentSymbol").replace("/",""),n=r.filter(e,(function(e){return r.find(e.data.items,(function(e){return e.symbol.name===t}))}));return n=r.map(n,(function(e){var t=e.data,n=r.findWhere(e.links,{rel:"flag-icon"});return o({},t,{flag_url:n&&n.href})})),n=r.sortBy(n,(function(e){return c(e.released_at).valueOf()})),new C(n)},getEventsList:function(){return this.get("dataOfEvents").models||[]},getEvents:function(){return this.get("dataOfEvents")},checkEventsEmpty:function(){var e=this;return p.checkTradingToolEnabled(S.EVENTS_AND_TRADE).then((function(t){return Promise.resolve(!t||r.isEmpty(e.getEventsList()))}))},checkAnalystsEmpty:function(){var e=this;return p.checkTradingToolEnabled(S.ANALYST_RECOMMENDATIONS).then((function(t){return Promise.resolve(!t||r.isEmpty(e.getAnalystList())||void 0===e.getAnalystList().stock)}))},checkBloggersEmpty:function(){var e=this;return p.checkTradingToolEnabled(S.BLOGGERS).then((function(t){return Promise.resolve(!t||r.isEmpty(e.getBloggersList())||void 0===e.getBloggersList().stock)}))},checkInsidersEmpty:function(){var e=this;return p.checkTradingToolEnabled(S.INSIDERS).then((function(t){return Promise.resolve(!t||!e.getInsider())}))},checkHedgefundsEmpty:function(){var e=this;return p.checkTradingToolEnabled(S.HEDGEFUNDS).then((function(t){return Promise.resolve(!t||r.isEmpty(e.getHedgefunds()))}))},checkNewsSentimentEmpty:function(){var e=this;return p.checkTradingToolEnabled(S.NEWS_SENTIMENT).then((function(t){return Promise.resolve(!t||r.isEmpty(e.getNewsSentiment()))}))},getInstrumentName:function(){var e=this.get("instrumentSymbol"),t=d.getInstrumentBySymbol(e);return t?t.getName():e},getAnalystList:function(){var e=this.get("instrumentSymbol"),t=this.get("dataOfTipRanks"),n=d.getInstrumentBySymbol(e);if(!n||r.isEmpty(t))return[];var i=n.getName(),o=r.find(t.recommendations,(function(e){return e.symbol===i}));if(!o)return[];var s=t.stocks[o.stock_ticker];if(!s)return[];var a=r.filter(t.recommendations,(function(t){return t.symbol===e})),l=r.reduce(a,(function(e,n){var i=t.analysts[n.analyst_id];return i&&(e[n.analyst_id]=i),e}),{}),c=s.total_analysts_hold,u=s.total_analysts_sell,p=s.total_analysts_buy,f=s.total_analysts_recommendations;return s.total_analysts_hold_percent=parseInt(c/f*100,10),s.total_analysts_sell_percent=parseInt(u/f*100,10),s.total_analysts_buy_percent=parseInt(p/f*100,10),s.consensus_lowercase=String(s.consensus).toLowerCase(),s.isBuy=String(s.consensus).indexOf("Buy")>=0,s.isSell=String(s.consensus).indexOf("Sell")>=0,{stock:s,recommendations:a,analysts:l}},getBloggersList:function(){var e=this.get("instrumentSymbol"),t=this.get("dataOfBloggers");return!d.getInstrumentBySymbol(e)||r.isEmpty(t)?[]:{stock:r.map(r.pick(t.stocks,(function(t){return t.symbol===e})),(function(e,t){return r.extend({ticker:t},e)}))[0],bloggers:r.reduce(t.bloggerRecommendations,(function(n,i){var r=t.stocks[i.stockTicker];return r&&r.symbol===e&&n.push(i),n}),[])}},getHedgefunds:function(){var e=this.get("instrumentSymbol"),t=this.get("dataOfHedgefunds");return!d.getInstrumentBySymbol(e)||r.isEmpty(t)||0===t.length?[]:{dataOfHedgefunds:t}},getNewsSentiment:function(){var e=this.get("instrumentSymbol"),t=this.get("dataOfNewsSentiment");return!d.getInstrumentBySymbol(e)||r.isEmpty(t)||0===t.length?[]:{dataOfNewsSentiment:t}},bloggersDateDiff:function(e){var t=new Date(e),n=new Date;return Math.round((n.getTime()-t.getTime())/864e5)},getBloggerPicture:function(e){return e&&"null"!==e?"https://az712682.vo.msecnd.net/expert-pictures/"+e:n(388)},formatRecommendationDate:function(e){return c(e).format("DD/MM/YYYY")},getInsider:function(){return this.get("dataOfInsider")},getInsiderDetails:function(){return this.get("dataOfInsiderDetails")},getPriceTargetGraph:function(){var e=this.get("instrumentSymbol"),t=this.get("dataOfTipRanks"),n=d.getInstrumentBySymbol(e);if(!n||r.isEmpty(t))return[];var i=n.getName(),o=r.find(t.stocks,(function(e){return e.name===i}));if(!o)return"";var s=o.avg_target_price,a=o.high_target_price,l=o.low_target_price,c=o.past_prices,u=70-55*s/a,p=70-55*l/a,f=r.isUndefined(c)?u:70-55*c[0]/a,h="";if(!r.isUndefined(c)){var m=103/c.length;h="M123,";for(var g=1,v=c.length;g<v;g++)h+=70-55*c[g]/a+"L"+(123-(g+1)*m)+",";h+=70-c[c.length-1]/a*55}return'<svg class="graph"><svg width="226" height="43"><g class="grid y-grid"><g class="tick" transform="translate(0,63.75)" style="opacity: 1;"><line x2="221" y2="0" style="stroke:#6f6f6f"></line><text dy=".32em" x="-3" y="0" style="text-anchor: end;"></text></g><g class="tick" transform="translate(0,45.48277661795407)" style="opacity: 1;"><line x2="221" y2="0" style="stroke:#6f6f6f"></line><text dy=".32em" x="-3" y="0" style="text-anchor: end;"></text></g><g class="tick" transform="translate(0,27.21555323590814)" style="opacity: 1;"><line x2="221" y2="0" style="stroke:#6f6f6f"></line><text dy=".32em" x="-3" y="0" style="text-anchor: end;"></text></g></g>'+(h?'<path d="'+h+'" class="past"></path>':"")+'<path class="high" d="M123,'+f+'L211,20"></path><path class="avg" d="M123,'+f+"L211,"+u+'"></path><path class="low" d="M123,'+f+"L211,"+p+'"></path><text transform="translate(67.75 ,75)" style="text-anchor: middle; fill: rgb(111, 111, 111); font-size: 10px; font-weight: bold; font-family: arial;">'+__("tipranks.text.past_months")+'</text><text transform="translate(173.25 ,75)" style="text-anchor: middle; fill: rgb(111, 111, 111); font-size: 10px; font-weight: bold; font-family: arial;">'+__("tipranks.text.next_months")+'</text><line x1="123" y1="5" x2="123" y2="75" stroke-width="1" style="stroke:#6f6f6f"></line><circle class="current" r="3" cx="123" cy="'+f+'"></circle><circle class="high" r="3" cx="211" cy="20"></circle><circle class="avg" r="3" cx="211" cy="'+u+'"></circle><circle class="low" r="3" cx="211" cy="'+p+'"></circle></g></svg></svg>'}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){"use strict";n.r(t),n.d(t,"SECONDS_IN_DAY",(function(){return i})),n.d(t,"TC_INTRADAY_PARAMETER",(function(){return r})),n.d(t,"TC_SHORT_TERM_PARAMETER",(function(){return o})),n.d(t,"TC_DATA_LOADING_TIMEOUT",(function(){return s})),n.d(t,"TC_STREAM_EVENT",(function(){return a})),n.d(t,"TC_SETTINGS_UPDATE_EVENT",(function(){return l}));var i=86400,r="INTRADAY",o="ST",s=3e3,a="stream:type:TRADING_CENTRAL",l="ui:chart:trading-central"},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(279),s=n(326),a=(n(6),n(5),n(9)),l=n(18),c=n(3).TRADING_TOOLS,u=l({displayName:"PriceAlertInfoButton",getDefaultProps:function(){return{model:"",onClick:function(){}}},getInstrumentId:function(){return parseInt(this.props.model.get("instrumentId")||this.props.model.get("id"))},getSavedPriceAlerts:function(){return this.props.model.get("priceAlerts").filter((function(e){return e.isAvailableOnServer()}))},getInitialState:function(){return{isSet:!!this.getSavedPriceAlerts().length}},update:function(){var e=this.getSavedPriceAlerts();this.setState({isSet:!!e.length})},componentDidMount:function(){this.props.model.get("priceAlerts").on("add change:id delete reset",this.update,this)},componentWillUnmount:function(){this.props.model.get("priceAlerts").off("add change:id delete reset",this.update,this)},onClick:function(e){if(e.stopPropagation(),this.state.isSet)this.props.onClick();else new s({parent:document.body,model:new o({instrumentId:this.getInstrumentId()})})},render:function(){if(!a.isLive()||!a.isTradingToolEnabled(c.PRICEALERTS))return null;var e=[this.state.isSet?"icon-bell-filled":"icon-bell"];return r.createElement("div",{onClick:this.onClick,className:"btn btn-icon"},r.createElement("div",{className:e.join(" ")}))}});i.exports=u}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(43),s=n(5),a=n(8);i.exports=o.extend({defaults:{levels:[],currentLeverage:0,newLeverage:0},initialize:function(){this.listenTo(s,"user:leverage:reload",this.load)},load:function(){var e=this,t=n(193).loadLeverages;return window.store.dispatch(t()).then((function(t){return e.loadSuccess(t)}))},loadSuccess:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.set({levels:e.leverageLevels,currentLeverage:e.currentLeverage,newLeverage:e.currentLeverage}),s.trigger("user:leverage:updated"),Promise.resolve({data:e})},canChangeLeverage:function(){var e=this.getEnabledLevels();if(r.isEmpty(e))return!1;if(e.length>1)return!0;var t=e[0];return this.getCurrentLeverageValue()!==t.leverage},setNewLeverageValue:function(e){this.set("newLeverage",e)},getNewLeverageValue:function(){return this.get("newLeverage")},isPristine:function(){return this.getNewLeverageValue()!==this.getCurrentLeverageValue()},getCurrentLeverageValue:function(){return this.get("currentLeverage")},getCurrentFormattedLeverageValue:function(){return"1:"+this.getCurrentLeverageValue()},getLevels:function(){return this.get("levels")},getEnabledLevels:function(){return r.filter(this.getLevels(),{enabled:!0})},getEnabledLeverages:function(){return r.sortBy(this.getEnabledLevels(),(function(e){return-e.leverage}))},asArray:function(){return r.chain(this.getEnabledLevels()).map((function(e){return e.leverage})).sortBy().value()},getMinLeverageValue:function(){return r.min(this.asArray())},getMaxLeverageValue:function(){return r.max(this.asArray())},setSelectedLeverage:function(e){var t=r.findWhere(this.getEnabledLevels(),{leverage:e});t&&(t.selected=!0)},getDefaultValue:function(){return r.find(this.getEnabledLevels(),(function(e){return e.defaultValue})).leverage},save:function(){return a.saveLeverage(this.getNewLeverageValue()).then(this.saveSuccess.bind(this)).catch((function(e){return Promise.reject(e)}))},saveSuccess:function(e){var t=this.getNewLeverageValue();return this.setSelectedLeverage(t),this.set("currentLeverage",t),s.trigger("user:leverage:updated"),Promise.resolve(e)}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){"use strict";n.r(t),function(e){var i=n(6),r=n.n(i),o="multicharts.pending_charts",s=1,a=2;t.default={isStatusNew:function(){return!r.a.getUserCommonData().getMultiChartsPendingStatus()},isStatusAdded:function(){return r.a.getUserCommonData().getMultiChartsPendingStatus()===s},setStatus:function(e){return r.a.getUserCommonData().saveMultiChartsPendingStatus(e)},getAll:function(){return JSON.parse(localStorage.getItem(o))||[]},add:function(e){var t=JSON.parse(localStorage.getItem(o))||[];t.push(e),localStorage.setItem(o,JSON.stringify(t)),this.isStatusNew()&&this.setStatus(s),this.updateUI()},view:function(){this.isStatusAdded()&&this.setStatus(a),this.updateUI()},clear:function(){localStorage.removeItem(o)},updateUI:function(){var t=JSON.parse(localStorage.getItem(o))||[];this.isStatusAdded()&&t.length>0?e("html").addClass("multicharts-pending"):e("html").removeClass("multicharts-pending")}}}.call(this,n(12))},function(e,t,n){"use strict";function i(e){var t,n=function(e,t){return e<<t|e>>>32-t},i=function(e){var t="",n=void 0;for(n=7;n>=0;n--)t+=(e>>>4*n&15).toString(16);return t},r=void 0,o=void 0,s=void 0,a=[],l=1732584193,c=4023233417,u=2562383102,d=271733878,p=3285377520,f=void 0,h=void 0,m=void 0,g=void 0,v=void 0,b=void 0,_=[];for(t=(e=unescape(window.encodeURIComponent(e))).length,o=0;o<t-3;o+=4)s=e.charCodeAt(o)<<24|e.charCodeAt(o+1)<<16|e.charCodeAt(o+2)<<8|e.charCodeAt(o+3),_.push(s);switch(3&t){case 0:o=2147483648;break;case 1:o=e.charCodeAt(t-1)<<24|8388608;break;case 2:o=e.charCodeAt(t-2)<<24|e.charCodeAt(t-1)<<16|32768;break;case 3:o=e.charCodeAt(t-3)<<24|e.charCodeAt(t-2)<<16|e.charCodeAt(t-1)<<8|128}for(_.push(o);14!=(15&_.length);)_.push(0);for(_.push(t>>>29),_.push(t<<3&4294967295),r=0;r<_.length;r+=16){for(o=0;o<16;o++)a[o]=_[r+o];for(o=16;o<=79;o++)a[o]=n(a[o-3]^a[o-8]^a[o-14]^a[o-16],1);for(f=l,h=c,m=u,g=d,v=p,o=0;o<=19;o++)b=n(f,5)+(h&m|~h&g)+v+a[o]+1518500249&4294967295,v=g,g=m,m=n(h,30),h=f,f=b;for(o=20;o<=39;o++)b=n(f,5)+(h^m^g)+v+a[o]+1859775393&4294967295,v=g,g=m,m=n(h,30),h=f,f=b;for(o=40;o<=59;o++)b=n(f,5)+(h&m|h&g|m&g)+v+a[o]+2400959708&4294967295,v=g,g=m,m=n(h,30),h=f,f=b;for(o=60;o<=79;o++)b=n(f,5)+(h^m^g)+v+a[o]+3395469782&4294967295,v=g,g=m,m=n(h,30),h=f,f=b;l=l+f&4294967295,c=c+h&4294967295,u=u+m&4294967295,d=d+g&4294967295,p=p+v&4294967295}return(b=i(l)+i(c)+i(u)+i(d)+i(p)).toLowerCase()}n.r(t),n.d(t,"default",(function(){return i}))},function(e,t,n){var i;void 0===(i=function(e,t,n){var i=Object.freeze({SAFECAP_LTD:"safecap_ltd",STA_GLOBAL:"sta_global",PRELIUM_LTD:"prelium_ltd",TRADE_CAPITAL_MARKETS:"leadcapital",LIVE_MARKETS:"livemarkets",TRADETECH_ALPHA:"tradetech_alpha",KEY_WAY:"key_way_markets",JME_FINANCIAL:"jme_financial"});n.exports={MARKETS_COMPANY:i}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){"use strict";n.r(t),n.d(t,"getDeepLinks",(function(){return s})),n.d(t,"getDeepLink",(function(){return a})),n.d(t,"getDeepLinkPath",(function(){return l})),n.d(t,"getDeepLinkChart",(function(){return c}));var i=n(2),r=n(453),o=n(23),s=function(e){return e.deepLinks},a=Object(i.a)([s,o.a],(function(e,t){return e.list[t]})),l=function(e,t){var n=e.deepLinks.list[r.PARAM.PATH];return n&&t?n.toLowerCase():n},c=function(e){return e.deepLinks.list[r.PARAM.CHART]}},function(e,t,n){var i;void 0===(i=function(e,t,i){n(1);var r=n(16),o=n(572),s=o.MILLISECOND,a=o.SECOND,l=o.MINUTE,c=o.HOUR,u=o.DAY,d=o.WEEK,p=o.MONTH,f=n(520),h=(n(573),[s,a,l,c,u,d,p]),m=[s,a,l,c];i.exports={getRangeSettings:function(e,t){var n=void 0,i=void 0;e.get("range")?(n=e.get("range"),i=f[n.request.period]):i=f[e.get("period").name];var o=+r.utc();if(!t){for(var s=r.utc(o),a=0,l=h.length;a<l;a++){if(i.unit===h[a]){switch(i.unit){case d:s.startOf("isoWeek");break;case p:s.startOf("month");break;default:s[h[a]](Math.ceil(s[i.unit]()/i.amount)*i.amount)}break}m.indexOf(h[a])>=0&&s[h[a]](0)}n?s.subtract(n.amount,n.unit):s.subtract(400*i.amount,i.unit),i.unit===d&&s.startOf("isoWeek"),t=+s}var c=1e3*i.seconds;return{start:t,end:o,step:c,count:Math.ceil((o-t)/c)}},extendPoints:function(e,t){for(var n=this.getRangeSettings(t,t.getRangeStart()),i=[],r=n.start,o=0,s=0;r<=n.end;r+=n.step)e[o]&&e[o][0]===r?(i.push(e[o]),s=e[o][1],o++):i.push([r,s]);return i}}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(18)({displayName:"Empty",render:function(){return r.createElement("div",null,__("search.no.results"))}});i.exports=o}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,r){var o=n(0),s=n(575),a=n(18),l=n(1),c=a({displayName:"GridRows",getDefaultProps:function(){return{columns:[],collection:[],screenSize:null,customRowComponent:null,customRowComponentXS:null,customRowComponentSM:null,customRowComponentMD:null,customRowComponentLG:null,onRowClick:function(){},onRowMouseOver:function(){},selectedRowId:null,hoveredRowId:null}},getInitialState:function(){return{columns:this.props.columns,collection:this.props.collection,selectedRowId:this.props.selectedRowId,hoveredRowId:this.props.hoveredRowId}},onKeyDown:function(e){var t=this.refs[this.state.hoveredRowId+"-hovered"];if(40===e.keyCode||38===e.keyCode){e.preventDefault();var n=void 0===this.getHoveredRowElementIndex()||null===this.getHoveredRowElementIndex()?-1:this.getHoveredRowElementIndex();40===e.keyCode&&this.setState({hoveredRowId:n<this.props.collection.length-1?n+1:n}),38===e.keyCode&&this.setState({hoveredRowId:n>1?n-1:0});var r=i(this.container).parent().parent().parent()[0];t&&(r.scrollTop=t.getHTMLElement().offsetTop-r.offsetHeight+70)}13===e.keyCode&&(t&&t.getHTMLElement().click(),e.stopPropagation())},getComponent:function(){var e=this.props.screenSize,t=this.props.customRowComponent||s;if(l.isEmpty(e))return t;var n="customRowComponent"+e,i=this.props[n];return l.isEmpty(i)?t:i},getHoveredRowElementIndex:function(){return this.state.hoveredRowId},onRowClick:function(e,t){this.setState({selectedRowId:t.cid}),l.isFunction(this.props.onRowClick)&&this.props.onRowClick(e,t)},onRowMouseOver:function(e,t){this.setState({hoveredRowId:t}),l.isFunction(this.props.onRowMouseOver)&&this.props.onRowMouseOver(e,t)},setSelectedRow:function(e){this.setState({selectedRowId:e})},setHoveredRow:function(e){this.setState({hoveredRowId:e})},render:function(){var e=this,t=this.state.columns,n=this.getComponent(),i=this.props.screenSize,r=this.onRowClick,s=this.onRowMouseOver,a=this.state.selectedRowId,l=this.state.hoveredRowId,c=this.state.collection.map((function(e,c){var u=a===e.cid,d=l===c;return o.createElement(n,{key:e.cid+u,ref:c+"-hovered",columns:t,model:e,isExpanded:u,isSelected:u,isHovered:d,screenSize:i,onRowClick:r,onRowMouseOver:s,index:c})}),this);return o.createElement("tbody",{className:"rows",ref:function(t){e.container=t}},c)}});r.exports=c}.call(t,n,t,e))||(e.exports=o)}).call(this,n(12),n(1))},function(e,t,n){(function(i){var r;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}void 0===(r=function(e,t,i){var r=n(0),s=n(455),a=n(18),l=n(1),c=n(7),u=a({displayName:"GridRow",getDefaultProps:function(){return{model:null,index:null,columns:[],screenSize:null,onRowClick:function(){},onRowMouseOver:function(){},selectedRowClass:"selected",hoveredRowClass:"hovered",isSelected:!1,isHovered:!1}},getHTMLElement:function(){return this.refs.container},getRenderCells:function(){var e=this.props.model;return this.props.columns.map((function(t,n){var i=t.type||s,o=l.extend({},t.cellProps,{key:n,column:t,model:e});return r.createElement(i,o)}))},componentDidMount:function(){var e=this;this.props.model.on("change:sellTradable change:buyTradable",(function(){return e.forceUpdate()}))},componentWillUnmount:function(){this.props.model.off("change:sellTradable change:buyTradable")},onRowClick:function(e){this.props.onRowClick(e,this.props.model)},onRowMouseOver:function(e){this.props.onRowMouseOver(e,this.props.index)},render:function(){var e,t=this.props,n=t.model,i=t.isSelected,s=t.selectedRowClass,a=t.isHovered,l=t.hoveredRowClass;if(n.hasOwnProperty("isSeparator")){var u=n.collection.models[0].get("displayName")||"";return r.createElement("tr",{ref:"container",className:"row search-blends-title"},__("blend.blends.with",u))}var d=n.get("sellTradable")||n.get("buyTradable"),p=n.hasOwnProperty("isBlend"),f=c((o(e={row:!0},s,i),o(e,l,a),o(e,"tradable",d),o(e,"not-tradable",!d),o(e,"blend-row",p),e));return r.createElement("tr",{ref:"container",className:f,onClick:this.onRowClick,onMouseOver:this.onRowMouseOver},this.getRenderCells())}});i.exports=u}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(20),s=r.template(n(1559)),a=r.template(n(1560)),l=n(33).default;i.exports=o.extend({tag:"div",className:"tabs",events:function(){return r.extend({},r.result(o.prototype,"events"),{"click .nav li a":"switchTab"})},tabs:[],activeTabIndex:-1,initialize:function(e){this.options=e,o.prototype.initialize.apply(this,arguments),this.render(),this.setTabs(e.tabs);var t=this.getTabById(e.defaultTabId)||this.getFirstTab();this.setActiveTab(t)},setTabs:function(e){this.removeTabs(),this.tabs=r.map(e,(function(e){return e.rendered=!1,e.active=!1,e}),this),this.tabsMap={},this.createTabsMap()},removeTabs:function(){r.each(this.tabs,(function(e){if(e.rendered&&e.viewInstance.destroy(),e.hasOwnProperty("submenu"))for(var t in e.submenu)e.submenu[t].rendered&&e.submenu[t].viewInstance.destroy(),e.submenu[t].active=!1,e.submenu[t].rendered=!1}))},renderTabs:function(){this.$el.find(".nav").html(s({tabs:this.tabs}))},createTabsMap:function(){var e=this.tabs,t={};for(var n in e){t[e[n].id]=n}this.tabsMap=t,this.renderTabs()},changeTabStatus:function(e){var t=this.tabsMap[e],n=this.tabs[t].isExpand;this.tabs[t].isExpand=!n,this.renderTabs()},switchTab:function(e){e.preventDefault();var t=e.target.getAttribute("data-tab-id"),n=this.getTabById(t);n.submenu&&this.changeTabStatus(t),n.hasOwnProperty("view")&&n.view.prototype.beforeCreate()&&this.setActiveTab(n)},hideTabContentView:function(e){e.rendered&&(e.viewInstance.destroy(),e.rendered=!1)},showTabContentView:function(e){e.rendered||(e.viewInstance=new e.view(e.viewOptions),e.viewInstance.render(),e.rendered=!0,this.el.appendChild(e.viewInstance.el))},getFirstTab:function(){return r.first(this.tabs)},findTabDeep:function(e,t){for(var n in this.tabs){var i=this.tabs[n];if(i[e]&&i[e]===t)return i;if(i.submenu)for(var r in i.submenu){var o=i.submenu[r];if(o[e]&&o[e]===t)return o}}},getTabById:function(e){return this.findTabDeep("id",e)},getTabByUrl:function(e){return this.findTabDeep("url",e)},setActiveTabById:function(e){return this.setActiveTab(this.getTabById(e)),this},setActiveTab:function(e){if(l.mobile()||!e||!e.active){var t=this.getActiveTab();t&&(this.hideTabContentView(t),t.active=!1),e.active=!0,this.showTabContentView(e),this.renderTabs(),r.isFunction(this.options.onTabChange)&&this.options.onTabChange(e)}},getActiveTab:function(){return this.findTabDeep("active",!0)},updateCounter:function(e,t){var n=this.$el.find('[data-counter-id="'+e+'"]');if(t>0)return n.css("display","inline-block"),void n.html(t);n.css("display","none")},render:function(){o.prototype.render.call(this),this.$el.html(a())},destroy:function(){this.removeTabs(),o.prototype.destroy.call(this)}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(20),o=n(6),s=n(5),a=n(3),l=a.BUY,c=a.SELL,u=n(1);i.exports=r.extend({className:"insights insights-analysts",template:u.template(n(1693)),events:function(){return this.addEvents(r)({"click .fn-buy":"buy","click .fn-sell":"sell","click .expander":"toggleList"})},initialize:function(e){r.prototype.initialize.apply(this,arguments)},render:function(){r.prototype.render.call(this);var e=this.options.template||this.template,t=this.model.getAnalystList();return t.stock&&this.$el.html(e({formatRecommendationDate:this.model.formatRecommendationDate,currency:o.getUserCurrencySymbol(),stock:t.stock,recommendations:t.recommendations,analysts:t.analysts,priceTargetGraph:this.model.getPriceTargetGraph()})),this},buy:function(){s.trigger("ui:new-position",{direction:l,symbolOrId:this.model.get("instrumentSymbol")})},sell:function(){s.trigger("ui:new-position",{direction:c,symbolOrId:this.model.get("instrumentSymbol")})},toggleList:function(){var e=this.$(".insights__list"),t=this.$(".insights__list-column-name"),n=this.$(".expander");e.hasClass("hidden")?(e.removeClass("hidden"),t.removeClass("hidden"),n.removeClass("expander__close")):(e.addClass("hidden"),t.addClass("hidden"),n.addClass("expander__close"))}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var r=n(20),o=n(12),s=n(16),a=n(5),l=n(1),c=n(8),u=n(126).default;i.exports=r.extend({className:"insights insights-events insights__events--compact",template:l.template(n(1694)),events:function(){return this.addEvents(r)({"click .icon-google":"addToGoogleCalendar","click .icon-outlook":"addToOutlook","click .fn-details":"onDetails","click .insights__more":"clickOnMore"})},render:function(){r.prototype.render.call(this);var e=this.options.template||this.template,t=this.model.getEventsList();return l.isEmpty(t)||this.$el.html(e({items:t})),this},_parseIdFromEvent:function(e){return o(e.currentTarget).attr("data-event-id")},_getEvent:function(e){return this.model.getEvents().findWhere({event_uid:Number(e)})},addToGoogleCalendar:function(e){var t=this._parseIdFromEvent(e),n=this._getEvent(t),i=s(n.getTime()).utc().format("YYYYMMDDTHHmmss"),r="https://www.google.com/calendar/r/eventedit?text="+n.getName()+"&dates="+i+"/"+i+"&ctz=UTC";u(r)},onDetails:function(e){var t=this._parseIdFromEvent(e),n=this._getEvent(t),i=String(this.model.get("instrumentSymbol")).replace("/","");n&&a.navigate("events-and-trade/"+n.get("event_type_code")+"/"+i)},clickOnMore:function(){var e=this.$(".more"),t=this.$(".insights__more b");e.hasClass("more--compact")?(e.removeClass("more--compact"),t.html(__("close"))):(e.addClass("more--compact"),t.html(__("indigo.notification.box.more")))},addToOutlook:function(e){var t=this._parseIdFromEvent(e),n=this._getEvent(t);c.downloadICSReminder(n.getCountryCode(),n.get("event_type_code")).then((function(e){return u("data:text/calendar;charset=utf8,"+escape(e))}))}})}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,r){var o=n(20),s=n(16),a=n(32);r.exports=o.extend({className:"insights insights-insiders",template:i.template(n(1695)),initialize:function(e){o.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:statusOfInsiderDetails",this.renderChart)},render:function(){o.prototype.render.call(this);var e=this.model,t=this.options.template||this.template,n=e.getInsider();return n&&this.$el.html(t({insider:n,moment:s,numbro:a})),this}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(20),o=(n(6),n(5)),s=n(574),a=n(3),l=a.BUY,c=a.SELL,u=n(1);i.exports=r.extend({className:"insights insights-bloggers",template:u.template(n(1696)),events:function(){return this.addEvents(r)({"click .fn-buy":"buy","click .fn-sell":"sell","click .expander":"toggleList"})},initialize:function(e){r.prototype.initialize.apply(this,arguments)},render:function(){r.prototype.render.call(this);var e=this.options.template||this.template,t=this.model.getBloggersList();return t.stock&&this.$el.html(e({bloggersDateDiff:this.model.bloggersDateDiff,getBloggerPicture:this.model.getBloggerPicture,stock:t.stock,bloggers:t.bloggers})),s(this.$el.find(".opinion-distribution .content")[0],t.stock.sites),this},buy:function(){o.trigger("ui:new-position",{direction:l,symbolOrId:this.model.get("instrumentSymbol")})},sell:function(){o.trigger("ui:new-position",{direction:c,symbolOrId:this.model.get("instrumentSymbol")})},toggleList:function(){var e=this.$(".insights__list"),t=this.$(".insights__list-column-name"),n=this.$(".expander");e.hasClass("hidden")?(e.removeClass("hidden"),t.removeClass("hidden"),n.removeClass("expander__close")):(e.addClass("hidden"),t.addClass("hidden"),n.addClass("expander__close"))}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,r){var o=n(20),s=(n(6),n(5),n(580)),a=n(32),l=n(33).default,c=n(16);r.exports=o.extend({className:"insights insights-hedgefunds",template:i.template(n(1697)),events:function(){return this.addEvents(o)({"click .fn-buy":"buy","click .fn-sell":"sell","click .expander":"toggleList"})},initialize:function(e){o.prototype.initialize.apply(this,arguments)},render:function(){var e=this;o.prototype.render.call(this);var t=this.options.template||this.template;return this.data=this.model.getHedgefunds().dataOfHedgefunds[0],this.$el.html(t({data:this.data,trendDir:this.getTrendDir(),trend:this.getTrend(),signalDir:this.getSignalDir(),summaryBar:this.getInstitutionalHoldingSummaryBar(),summaryBarAxis:this.getInstitutionalHoldingSummaryBarAxis()})),l.mobile()||setTimeout((function(){return s(e.$el.find(".hedgefunds-holdings-graph .content")[0],e.data.institutionalHoldingSummary,e.data.stockPrices,null,160,20,5)}),500),this},getTrendDir:function(){var e=this.data.institutionalHoldingSummary,t=e.length,n=e[t-1].h-e[t-2].h;return n>0?"Increased":n<0?"Decreased":""},getTrend:function(){var e=this.data.institutionalHoldingSummary.length;return a(this.data.institutionalHoldingSummary[e-1].h).format("0a").toUpperCase()},getSignalDir:function(){return this.data.rating.indexOf("Positive")>-1?"positive":this.data.rating.indexOf("Negative")>-1?"negative":"neutral"},getInstitutionalHoldingSummaryBar:function(){var e=this.data.institutionalHoldingSummary,t=i.max(e,(function(e){return e.h}));return i.map(e,(function(e){return[c(e.l).format("MMM, D Y"),e.h/t.h*100]}))},getInstitutionalHoldingSummaryBarAxis:function(){var e=this.data.institutionalHoldingSummary,t=i.max(e,(function(e){return e.h})).h;return i.map([.25,.5,.75,1],(function(e){return a(e*t).format("2a").toUpperCase()}))},toggleList:function(){var e=this.$(".insights__list"),t=this.$(".insights__list-column-name"),n=this.$(".expander");e.hasClass("hidden")?(e.removeClass("hidden"),t.removeClass("hidden"),n.removeClass("expander__close")):(e.addClass("hidden"),t.addClass("hidden"),n.addClass("expander__close"))}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(20),o=n(1);i.exports=r.extend({className:"insights insights-news-sentiment",template:o.template(n(1698)),initialize:function(e){r.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:statusOfNewsSentimentDetails",this.renderChart)},render:function(){r.prototype.render.call(this);var e=this.model,t=this.options.template||this.template;return this.item=e.getNewsSentiment().dataOfNewsSentiment,this.$el.html(t({item:this.item,score:this.scoreDir()})),this},scoreDir:function(){var e=this.item.newsScore.toLowerCase();return e.indexOf("positive")>-1?"positive":e.indexOf("negative")>-1?"negative":"neutral"}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){e.exports=n.p+"./images/62d927bd2781.png"},function(e,t,n){e.exports=n.p+"./images/0436c246e84c.png"},function(e,t,n){e.exports=n.p+"./images/a05e2e3ac11b.png"},function(e,t,n){e.exports=n.p+"./images/b0f1d4edab3a.png"},function(e,t,n){e.exports=n.p+"./images/e70509141693.png"},function(e,t,n){e.exports=n.p+"./images/99027bdb87e9.png"},function(e,t,n){e.exports=n.p+"./images/07103ab584bc.png"},function(e,t,n){e.exports=n.p+"./images/2015fcf00aa6.png"},function(e,t,n){e.exports=n.p+"./images/476e57053b36.png"},function(e,t,n){e.exports=n.p+"./images/e405f868ba7b.png"},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(636),o=n(8),s=n(3),a=s.EMPTY,l=s.ERROR,c=s.SUCCESS,u=s.PROCESSING;i.exports=r.extend({defaults:function(){return{statusOfMetaTraderAccounts:a,statusOfLeverageChange:a}},initialize:function(){r.prototype.initialize.apply(this,arguments),this.loadMetaTraderAccounts()},changeLeverage:function(e,t){var n=this.status("statusOfLeverageChange");if(n(u),!e||!t)return n(l);var i={accountId:e,leverage:t};o.changeMetaTraderLeverage(i).then((function(e){return n(c)})).catch((function(e){n(l)}))},reloadMetaTraderAccounts:function(){this.loadMetaTraderAccounts()}})}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){"use strict";n.r(t);var i=n(88),r=n(0),o=n.n(r),s=n(4),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.default=Object(s.connect)((function(e){return{value:Object(i.getTotalPositionsCount)(e)}}))((function(e){var t=e.value,n=e.as,i=(e.dispatch,function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["value","as","dispatch"]));return o.a.createElement(n||"span",a({},i),t)}))},function(e,t,n){"use strict";n.r(t);var i=n(8),r=n.n(i),o=n(6),s=n.n(o),a="saxo-accounts/CREATE_SHARE_DEALING_ACCOUNT",l="saxo-accounts/CREATE_SHARE_DEALING_ACCOUNT_SUCCESS",c="saxo-accounts/CREATE_SHARE_DEALING_ACCOUNT_ERROR";function u(){return{types:[a,l,c],callApi:function(){return r.a.createShareDealingAccount(s.a.getUserCurrency())}}}n.d(t,"createShareDealingAccount",(function(){return u}))},function(e,t,n){var i;void 0===(i=function(e,t,n){n.exports={PENDING:0,APPROVED:1,REJECTED:2,EXPIRED:4,IN_PROCESS:5,PENDING_EXPIRATION:6}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,r){var o=n(162),s=o.extend({events:function(){return i.extend({},i.result(o.prototype,"events"),{"input textarea":"onChange","change textarea":"onChange"})},initialize:function(e){this.$textarea=this.$el.find("textarea"),o.prototype.initialize.apply(this,arguments),this.setName(this.$el.find("textarea").attr("name")),this.$textarea[0].onfocus=this.onFocus.bind(this),this.$textarea[0].onblur=this.onBlur.bind(this),i.isEmpty(this.value())&&this.setDefaultValue()},setEvent:function(e,t){this.$textarea[0][e]=t.bind(this)},getDefaultValue:function(){return this.$textarea.attr("default-value")},isDefaultValue:function(){return this.value()===this.getDefaultValue()},isEmpty:function(){return i.isEmpty(this.value())||this.isDefaultValue()},onFocus:function(e){this.isDefaultValue()&&this.value(""),this.$el.removeClass("field-error"),this.hideTooltip()},validate:function(e){return o.prototype.validate.call(this)},onBlur:function(e){if(this.isEmpty()){var t=this.getDependentFields();if(i.isEmpty(t))return this.validate(),this.$el.addClass("field-error"),void this.showTooltip();this.disable(),i.each(t,(function(e){e.setDefaultValue(),e.enable(),"none"===e.$el.css("display")&&e.$el.css("display","block")}))}},disableElement:function(){this.setDefaultValue(),this.$el.addClass("field-disabled"),this.$el.find("textarea").attr("disabled",!0)},enableElement:function(){this.$el.removeClass("field-disabled"),this.$el.find("textarea").removeAttr("disabled")},focus:function(){setTimeout(function(){this.$textarea[0].focus()}.bind(this),1)},value:function(e){var t=this.$el.find("textarea");if(void 0===e)return t.val();t.val(e)}});r.exports=s}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n.n(i),o=n(3),s=n(15),a=n.n(s),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=window.addEventListener?"addEventListener":"attachEvent",p=window.removeEventListener?"removeEventListener":"detachEvent",f="attachEvent"===d?"onmessage":"message",h="detachEvent"===p?"onmessage":"message",m={},g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a()(this),this.attachListener()}return c(e,[{key:"deleteEvent",value:function(e,t){var n=m[e];return!(!n||!n[t])&&(delete n[t],r.a.isEmpty(n)&&delete m[e],!0)}},{key:"runEvent",value:function(e,t,n){r.a.isObject(e)&&r.a.each(e,(function(e,i){-1!==t.origin.indexOf(e.origin)&&r.a.isFunction(e.callback)&&e.callback(n)}))}},{key:"eventRunner",value:function(e){var t=e.data,n=m[o.ON_ALL_EVENT_LISTENER];if(r.a.isString(t))n&&this.runEvent(n,e,t);else if(r.a.isObject(t)){var i=t.type;if(r.a.has(m,i)){var s=m[i];s&&this.runEvent(s,e,t),n&&this.runEvent(n,e,t)}else n&&this.runEvent(n,e,t)}else n&&this.runEvent(n,e,null)}},{key:"attachListener",value:function(){!function(){var e;(e=window)[d].apply(e,arguments)}(f,this.eventRunner,!1)}},{key:"detachListener",value:function(){!function(){var e;(e=window)[p].apply(e,arguments)}(h,this.eventRunner)}},{key:"add",value:function(e,t,n){var i=r.a.uniqueId("pml_");if(e)return m[e]||(m[e]={}),m[e]=l({},m[e],u({},i,{type:e,callback:t,origin:n||""})),i;m[o.ON_ALL_EVENT_LISTENER]=l({},m[o.ON_ALL_EVENT_LISTENER],u({},i,{type:o.ON_ALL_EVENT_LISTENER,callback:t,origin:""}))}},{key:"remove",value:function(e,t){var n=this;if(r.a.isString(e))return this.deleteEvent(e,t);if(r.a.isObject(e)){var i=!1;return r.a.each(e,(function(e,t){var r=n.deleteEvent(t,e);i=!(!1!==i||!r)||i})),i}return!1}},{key:"list",value:function(){return r.a.reduce(m,(function(e,t,n){return e[n]={ids:r.a.keys(t),count:r.a.size(t)},e}),{})}}]),e}();t.default=new g},function(e,t,n){(function(i){var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};void 0===(r=function(e,t,i){var r=n(1),s=n(43),a=n(8),l=n(66),c=n(5),u=n(26),d=n(979),p=n(16),f=n(6),h=n(573),m=(n(520),"bid"),g=s.extend({defaults:function(){return{counter:0,candles:[],loaded:!1,timeout:5e3}},createId:function(e,t,n){return r.uniqueId((e||r.now())+"_"+t+"_"+n+"_")},getInstrument:function(){return this.get("instrument")},getRangeStart:function(){return this.get("rangeStart")},setRangeStart:function(e){return this.set("rangeStart",e)},initialize:function(){var e=u.getInstrumentBySymbol(this.get("settings").symbol);if(e){this.set("instrument",e);var t=e.getBasket();r.isObject(t)&&t.instrumentStartTime&&this.set("instrumentStartTime",+p.parseZone(t.instrumentStartTime))}},updateSettings:function(){},clearTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){this.loadingTimeout&&(clearTimeout(this.loadingTimeout),this.loadingTimeout=null)})),createTimeout:function(){var e=this;this.loadingTimeout=setTimeout((function(){return e.timeout()}),this.get("timeout"))},start:function(e){var t=this;this.set("candles",[]),this.set("loaded",!1);var n=this.get("settings"),i=this.set("counter",this.get("counter")+1).get("counter"),r=this.createId(this.get("chartId"),n.symbol,i);if(n.id=r,n.subtopic=r,this.get("range")){var o=d.getRangeSettings(this,e);o&&(n.maxBarsCount=o.count,this.setRangeStart(o.start))}return this.listenTo(c,"stream:type:chartFeedSubtopic",this.handleFeed),this.active=!0,this.trigger("start"),this.clearTimeout(),this.createTimeout(),a.updateChartsSubscription(l.getAtmosphereId(),[n],this.get("unsubscribeId")?[this.get("unsubscribeId")]:[]).then((function(){t.active||a.unsubscribeCharts(l.getAtmosphereId(),[r])})),this},stop:function(){this.active=!1,this.clearTimeout(),this.stopListening(c,"stream:type:chartFeedSubtopic",this.handleFeed),a.unsubscribeCharts(l.getAtmosphereId(),[this.getId()]),this.trigger("stop")},timeout:function(){this.active=!1,this.stopListening(c,"stream:type:chartFeedSubtopic",this.handleFeed),a.unsubscribeCharts(l.getAtmosphereId(),[this.getId()]),this.trigger("timeout"),__eventos("tradingPlatform:chart:timeout",{chartId:this.getId(),symbol:this.getSettings().symbol,period:this.getSettings().aggregationPeriod.name},!0)},getId:function(){return this.get("settings").id},handleFeed:function(e){var t=e.historyRequestID,n=e.historyData,i=e.data;if(this.active&&t===this.getId()){var o=this.get("candles"),s=this.get("instrumentStartTime"),a=this.getRangeStart()||0;r.each(i,(function(e){var t=e.timestamp;if(!(t<s||t<a)){var n=(r.last(o)||{}).timestamp;if(t===n)o[o.length-1]=e;else if(t<n){var i=r.sortedIndex(o,e,"timestamp");o[i].timestamp===e.timestamp?o[i]=e:o.splice(i,0,e)}else o.push(e)}})),n?(this.clearTimeout(),this.set("loaded",!0),this.trigger("load",o)):this.get("loaded")&&this.trigger("update",i)}},getSettings:function(){return this.get("settings")},getCandles:function(){return this.get("candles")},getFirstCandle:function(){return r.first(this.getCandles())},getLastCandle:function(){var e=r.findLastIndex(this.getCandles(),{expansion:!1});return this.getCandles()[e]},changeRangeStart:function(e){var t=this.get("candles"),n=r.findIndex(t,(function(t){return t.timestamp>=e}));n>0&&t.splice(0,n),this.setRangeStart(e),this.trigger("load",t)}},{create:function(e){var t=e.chartId,n=e.indicators,i=e.maxBarsCount,r=e.period,s=e.price,a=e.range,l=e.symbol,c=e.timeout,u=e.unsubscribeId,d=!!a,p=!!r;if(d||p){a=a?h[a]||h["1d"]:this.getRangeByPeriod(r);var f={aggregationPeriod:r=r?this.getPeriod(r):this.getPeriod(a.request.period),expansionBarsCount:0,extendedHours:!1,forexPriceField:s||m,id:void 0,maxBarsCount:i||400,range:{duration:a.request&&a.request.duration||a.duration},studySubscription:n,subtopic:void 0,symbol:l,updateInterval:300};return new g(o({chartId:t,settings:f,timeout:c,unsubscribeId:u},d?{range:a}:{},p?{period:r}:{}))}},getRangeByPeriod:function(e){return r.find(f.getUserCommonData().getPeriodRangePairs(),(function(t){return t.aggregationPeriod.name===e})).range},getPeriod:function(e){return r.findWhere(f.getUserCommonData().getPeriods(),{name:e})}});i.exports=g}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();void 0===(r=function(e,t,r){var s=n(5),a=n(83).startWith,l="stop",c=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i.isArray(r)?this.events=r:this.events=[String(r)],this.time=t,this.source=n,this.status=l,this.timerId=null,this.resetTimer=this.resetTimer.bind(this),this.handleEvent=this.handleEvent.bind(this)}return o(e,[{key:"init",value:function(){var e=this;this.status="active","platform"===this.source?this.events.forEach((function(t){document.addEventListener(t,e.resetTimer)})):s.on("all",this.handleEvent),this.timerId=setInterval(this.action.bind(this),this.time)}},{key:"handleEvent",value:function(e){var t=this;this.events.forEach((function(n){a(n,e)&&t.resetTimer()}))}},{key:"stop",value:function(){var e=this;this.status=l,"platform"===this.source?this.events.forEach((function(t){document.removeEventListener(t,e.resetTimer)})):s.off(null,this.handleEvent),clearInterval(this.timerId)}},{key:"action",value:function(){s.trigger("user:inactivity:idle",{source:this.source})}},{key:"resetTimer",value:function(){clearInterval(this.timerId),this.status!==l&&(this.timerId=setInterval(this.action.bind(this),this.time))}}]),e}();r.exports=c}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(43),o=n(5),s="onBoardFlow",a="registrationWizard";function l(e,t){o.trigger("eventos",s+":"+a+":"+e,t)}var c=r.extend({trackSuccessClientRegistration:function(){l("clientRegisterSuccess")},trackCloseRegistrationForm:function(){l("clkClose")},trackDisplayRegistrationStep:function(e){l("step"+e+"Display")},trackNextRegistrationStep:function(e){l("step"+e+"Next")},trackPreviousRegistrationStep:function(e){l("step"+e+"Previous")}});i.exports=new c}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i){var r;function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}void 0===(r=function(e,t,i){var r=n(1),s=n(5),a=n(43),l=n(26),c=n(8),u={},d=[],p=function(e,t){return e&&"function"==typeof e.indexOf&&(e.indexOf(t)>=0||e.replace("/","").indexOf(t)>=0)};i.exports=a.extend({initialize:function(){s.on("flow:login",(function(){c.getInstrumentsSearchOrder().then((function(e){var t=(e=e&&r.isArray(e.data)?e.data:[])&&e.length?e.length:0;u=r.reduce(e,(function(e,n,i){return e[n]=t-i,e}),{})})).catch((function(){}))}))},search:function(e){e=e.trim();var t,n,i=r.sortBy((t=e,n={},d=[],l.filterInstruments((function(e){if(!e.isVisible())return!1;var i=e.getName();if(r.has(n,i))return!1;var o=function(e){var t=[e.getName()||"",e.getSymbol()||"",("index"===e.getCategoryName()||"bonds"===e.getCategoryName())&&e.getDescription()||"",e.getTicker()||""],n=e.attributes.basket.instruments;if(n){var i=n.map((function(e){return e.displayName}));t.push({blendsInstruments:i})}return t}(e),s=r.last(o);return r.isObject(s)&&d.push(e),n[i]=!0,r.some(o,(function(e){return p(r.isString(e)?e.toLowerCase():"",t.toLowerCase())}))}))),(function(t){return function(e,t){return e.getTicker()&&e.getTicker().toLowerCase()===t.toLowerCase()?-1e4:-1*(u[e.getSymbol()]||0)}(t,e)})),s=1===i.length?this.findMatchedBlends(e):[];if(s.length>0){var c=new a;c.isSeparator=!0,s=[c].concat(o(s))}return[].concat(o(i),o(s))},findMatchedBlends:function(e){var t=[];return d.forEach((function(n){n.attributes.basket.instruments.forEach((function(i){p(i.displayName.toLowerCase(),e.toLowerCase())&&(n.isBlend=!0,n.searchedInstrumentWeight=i.instrumentWeight,t.push(n))}))})),r.sortBy(t,"searchedInstrumentWeight").reverse()}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(43),o=n(5),s="tradingPlatform",a="accountSettings",l="clientLeverageChanged",c="registrationWizard",u="accountSettings";function d(e){o.trigger("eventos",s+":"+a+":"+l,e)}function p(e){return null!=e?"1:"+e:"undefined"}var f=r.extend({trackRegistrationLeverageChange:function(e,t){var n;d((n=t,{oldLeverage:p(e),newLeverage:p(n),viewSource:c}))},trackAccountSettingsLeverageChange:function(e,t){var n;d((n=t,{oldLeverage:p(e),newLeverage:p(n),viewSource:u}))}});i.exports=new f}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(381),o=n(6),s=n(5),a=r.extend({defaults:function(){return{instrumentModel:null,amount:null,amountIncrement:null,currentPrice:null,conversionRate:null,takeProfit:null,takeProfitErrorMessage_Buy:"order.form.validation.take_profit_pips_higher",takeProfitErrorMessage_Sell:"order.form.validation.take_profit_pips_lesser",stopLoss:null,stopLossErrorMessage_Buy:"order.form.validation.stop_loss_pips_lesser",stopLossErrorMessage_Sell:"order.form.validation.stop_loss_pips_higher",minTakeProfit:null,minTakeProfitErrorMessage_Buy:"order.form.validation.take_profit_pips_higher",minTakeProfitErrorMessage_Sell:"order.form.validation.take_profit_pips_lesser",minStopLoss:null,minStopLossErrorMessage_Buy:"order.form.validation.stop_loss_pips_lesser",minStopLossErrorMessage_Sell:"order.form.validation.stop_loss_pips_higher",profitForTakeProfit:null,lossForStopLoss:null,direction:null,rate:0,requiredMarginInAccountCurrency:null,requiredMarginInInstrumentCurrency:null,guaranteedStopLossAmount:null,expirationDate:null}},initialize:function(e){r.prototype.initialize.apply(this,arguments);var t=this.getInstrumentModel(),n=this.getPositionModel();this.listenTo(s,"stream:type:CONVERSION_RATE",this._onConversionRateChange),this.listenTo(t,"change:"+this.getPriceKey(),this.onRateChanged),this.listenTo(n,"change:requiredMarginInAccountCurrency change:requiredMarginInInstrumentCurrency",this.updateMargins),this.listenTo(this,"change:takeProfit change:conversionRate",this.calcProfitForTakeProfit),this.listenTo(this,"change:stopLoss change:conversionRate",this.calcLossForStopLoss),this.listenTo(this,"change:stopLoss",this.validateStopLoss),this.setAmount(this.getQuantity()),this.setCurrentPrice(this.getCostBasic()),this.setRate(this.getDefiniteRate()),this.setGuaranteedStopLossAmount(n.get("guaranteedStopLossAmount")),this.setRequiredMarginInAccountCurrency(n.get("requiredMarginInAccountCurrency")),this.setRequiredMarginInInstrumentCurrency(n.get("requiredMarginInInstrumentCurrency")),this.isPositionHaveTakeProfit()&&this.set("takeProfit",n.get("takeProfit").fixedPrice),this.isPositionHaveStopLoss()&&this.set("stopLoss",n.get("stopLoss").fixedPrice)},getDefiniteRate:function(){return this.isBuy()?this.getBid():this.getAsk()},getPriceKey:function(){return this.isBuy()?"bid":"ask"},getPositionCode:function(){return this.getPositionModel().get("positionCode")},getType:function(){return this.get("type")},getQuantity:function(){var e=this.getPositionModel().get("quantity");return e<0?-e:e},getLotName:function(){return this.getPositionModel().get("lotName")},getOpenPl:function(){return this.getPositionModel().get("plOpen")},getCostBasic:function(){return this.getPositionModel().get("costBasis")},getUserCurrencySymbol:function(){return o.getUserCurrencySymbol()},isBuy:function(){return"Buy"===this.getDirection()},getRateDirection:function(){return this.getInstrumentModel().get(this.getPriceDirectionKey())},isPositionHaveTakeProfit:function(){return!!this.getPositionModel().get("takeProfit")},isPositionHaveStopLoss:function(){return!!this.getPositionModel().get("stopLoss")},getPositionModel:function(){return this.get("position")},calcTakeProfit:function(){var e=this.isBuy()?this.getRate()+this.minOrderDistance():this.getRate()-this.minOrderDistance();this.setTakeProfit(e)},calcStopLoss:function(){var e=this.isBuy()?this.getRate()-this.minOrderDistance():this.getRate()+this.minOrderDistance();this.setStopLoss(e)},getErrorTakeProfitMessageBuy:function(e){return __(this.get("takeProfitErrorMessage_Buy"),e)},getErrorTakeProfitMessageSell:function(e){return __(this.get("takeProfitErrorMessage_Sell"),e)},getErrorStopLossMessageBuy:function(e){return __(this.get("stopLossErrorMessage_Buy"),e)},getErrorStopLossMessageSell:function(e){return __(this.get("stopLossErrorMessage_Sell"),e)},getCurrentPrice:function(){return this.get("currentPrice")},isPlChangeIncreasing:function(){return this.getOpenPl()>=0},getReflectPriceKey:function(){return this.isBuy()?"bid":"ask"},calcClosePrice:function(){var e=this.getPositionModel().get("guaranteedStopLossLevel"),t=this.getPositionModel().get("quantity"),n=-1*e*Math.abs(t),i=this.getPositionModel().get("adjustment"),r=this.get("currentPrice"),o=this.getConversionRate()||1;return(n-i+r*t*o)/(t*o)},calcLossForStopLoss:function(){var e=this.getInstrumentModel(),t=this.getStopLoss(),n=this.getCostBasic(),i=o.getUserCurrency(),r=e.getCurrency(),s=(this.isBuy()?-(t-n):t-n)*this.getAmount(),a=this.calcProfit(i,r,s)-this.getPositionModel().getCommision();this.setLossForStopLoss(a)},calcProfitForTakeProfit:function(){var e=this.getInstrumentModel(),t=this.getTakeProfit(),n=this.getCostBasic(),i=o.getUserCurrency(),r=(this.isBuy()?t-n:-(t-n))*this.getAmount(),s=e.getCurrency(),a=this.calcProfit(i,s,r)+this.getPositionModel().getCommision();this.setProfitForTakeProfit(a)},getValidationValueForProfit:function(){var e=void 0,t=void 0,n=this.getInstrumentModel().getPrecision();return this.isBuy()?(e=Number((this.getRate()+this.minAllowedOrderDistance()).toFixed(n)))>=(t=Number((this.getReflectRate()+this.getInstrumentModel().getPipsPrecisionSize()).toFixed(n)))?e:t:(e=Number((this.getRate()-this.minAllowedOrderDistance()).toFixed(n)))<=(t=Number((this.getReflectRate()-this.getInstrumentModel().getPipsPrecisionSize()).toFixed(n)))?e:t},getValidationValueForLoss:function(){var e=void 0,t=void 0,n=this.getInstrumentModel().getPrecision();return this.isBuy()?(e=Number((this.getRate()-this.minAllowedOrderDistance()).toFixed(n)))<=(t=Number((this.getReflectRate()-this.getInstrumentModel().getPipsPrecisionSize()).toFixed(n)))?e:t:(e=Number((this.getRate()+this.minAllowedOrderDistance()).toFixed(n)))>=(t=Number((this.getReflectRate()+this.getInstrumentModel().getPipsPrecisionSize()).toFixed(n)))?e:t}});i.exports=a}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(381),o=n(9),s=n(6),a=n(5),l=n(519),c=r.extend({defaults:function(){return{instrumentModel:null,amountIncrement:null,amount:null,currentPrice:null,conversionRate:null,price:null,takeProfit:null,takeProfitErrorMessage_Buy:"order.form.validation.take_profit_pips_higher",takeProfitErrorMessage_Sell:"order.form.validation.take_profit_pips_lesser",stopLoss:null,stopLossErrorMessage_Buy:"order.form.validation.stop_loss_pips_lesser",stopLossErrorMessage_Sell:"order.form.validation.stop_loss_pips_higher",entryLimit:null,entryStop:null,minTakeProfit:null,minTakeProfitErrorMessage_Buy:"order.form.validation.take_profit_pips_higher",minTakeProfitErrorMessage_Sell:"order.form.validation.take_profit_pips_lesser",minStopLoss:null,minStopLossErrorMessage_Buy:"order.form.validation.stop_loss_pips_lesser",minStopLossErrorMessage_Sell:"order.form.validation.stop_loss_pips_higher",moreFundsRequired:"state.machine.confirmation.deposit.suggest",profitForTakeProfit:null,lossForStopLoss:null,direction:null,rate:0,rateDirection:0,marginInAccountCurrency:null,marginInInstrumentCurrency:null,entryLimit_Buy_Label:__("order.form.limit.label.buy"),entryLimit_Sell_Label:__("order.form.limit.label.sell"),entryStop_Buy_Label:__("order.form.stop.label.buy"),entryStop_Sell_Label:__("order.form.stop.label.sell"),entryStop_Buy_Explanation:__("help.order.entry_stop_buy"),entryStop_Sell_Explanation:__("help.order.entry_stop_sell"),entryLimit_Buy_Explanation:__("help.order.entry_limit_buy"),entryLimit_Sell_Explanation:__("help.order.entry_limit_sell"),expirationDays:null}},initialize:function(e){r.prototype.initialize.apply(this,arguments),this.instrument=this.getInstrumentModel(),this.loadInstrumentMarginingSettings(),this.order=e.order,this.setAmount(this.order.get("quantity")),this.setCurrentPrice(this.order.getPrice()),this.instrument.set({requiredMarginInAccountCurrency:null,requiredMarginInInstrumentCurrency:null}),this.listenTo(a,"stream:type:CONVERSION_RATE",this._onConversionRateChange),this.listenTo(this.instrument,"change:"+this.getPriceKey(),this.onRateChanged),this.listenTo(this.instrument,"change:"+this.getPriceDirectionKey(),this.onPriceDirection),this.listenTo(this.instrument,"change:requiredMarginInAccountCurrency change:requiredMarginInInstrumentCurrency change:guaranteedStopLossAmount",this.updateMargins),this.listenTo(this,"change:takeProfit change:amount change:currentPrice change:conversionRate",this.calcProfitForTakeProfit),this.listenTo(this,"change:stopLoss change:amount change:currentPrice change:conversionRate",this.calcLossForStopLoss),this.listenTo(this,"change:amount",this.updateMargins),this.setRate(this.getDefiniteRate()),this.setRateDirection("askDirection"===this.getPriceDirectionKey()?this.instrument.getAskDirection():this.instrument.getBidDirection()),this.calcProfitForTakeProfit(),this.calcLossForStopLoss()},getErrorAmountMin:function(e){return this.getInstrumentModel().isAmountWordUsed()?__("order.form.validation.amount_too_small",e):__("order.form.validation.quantity_too_small",e)},getErrorDivisible:function(e){return this.getInstrumentModel().isAmountWordUsed()?__("order.form.validation.amount_step",e):__("order.form.validation.quantity_step",e)},getErrorAmountMax:function(e){return this.getInstrumentModel().isAmountWordUsed()?__("order.form.validation.amount_too_big",e):__("order.form.validation.quantity_too_big",e)},getErrorEntryStopPriceHigher:function(e){return __("order.form.validation.trigger_price_higher",__("order.form.field.entry_stop"),e)},getErrorEntryStopPriceLesser:function(e){return __("order.form.validation.trigger_price_lesser",__("order.form.field.entry_stop"),e)},getErrorEntryLimitPriceHigher:function(e){return __("order.form.validation.trigger_price_higher",__("order.form.field.entry_limit"),e)},getErrorEntryLimitPriceLesser:function(e){return __("order.form.validation.trigger_price_lesser",__("order.form.field.entry_limit"),e)},getErrorTakeProfitMessageBuy:function(e){return __(this.get("takeProfitErrorMessage_Buy"),e)},getErrorTakeProfitMessageSell:function(e){return __(this.get("takeProfitErrorMessage_Sell"),e)},getErrorStopLossMessageBuy:function(e){return __(this.get("stopLossErrorMessage_Buy"),e)},getErrorStopLossMessageSell:function(e){return __(this.get("stopLossErrorMessage_Sell"),e)},setAmount:function(e,t){this.set("amount",Number(e),t)},setCurrentPrice:function(e){this.set("currentPrice",this.toFixed(e))},getAmountIncrement:function(){return this.order.get("amountIncrement")},isBuy:function(){return"BUY"===this.getDirection()},setCurrentPriceFromEntryLimit:function(e,t){this.set("currentPriceFromEntryLimit",this.toFixed(e),t)},getCurrentPriceFromEntryLimit:function(){return this.get("currentPriceFromEntryLimit")},getErrorAmounMax:function(){return this.getInstrumentModel().isAmountWordUsed()?__("order.form.validation.amount_too_big",this.getInstrument().getMaxOrderSize()):__("order.form.validation.quantity_too_big",this.getInstrument().getMaxOrderSize())},getErrorMoreFundsRequired:function(){return __(this.get("moreFundsRequired"))},getPriceExplanation:function(){switch(this.order.get("type")){case"STOP":return this.getEntryStopExplanation();case"LIMIT":return this.getEntryLimitExplanation()}},getValidationValueForProfit:function(){var e=void 0,t=void 0,n=this.getInstrumentModel().getPrecision();return this.isBuy()?(e=Number((this.getRate()+this.minAllowedOrderDistance()).toFixed(n)))>=(t=Number((this.getReflectRate()+this.getInstrumentModel().getPipsPrecisionSize()).toFixed(n)))?e:t:(e=Number((this.getRate()-this.minAllowedOrderDistance()).toFixed(n)))<=(t=Number((this.getReflectRate()-this.getInstrumentModel().getPipsPrecisionSize()).toFixed(n)))?e:t},getValidationValueForLoss:function(){var e=void 0,t=void 0,n=this.getInstrumentModel().getPrecision();return this.isBuy()?(e=Number((this.getRate()-this.minAllowedOrderDistance()).toFixed(n)))<=(t=Number((this.getReflectRate()-this.getInstrumentModel().getPipsPrecisionSize()).toFixed(n)))?e:t:(e=Number((this.getRate()+this.minAllowedOrderDistance()).toFixed(n)))>=(t=Number((this.getReflectRate()+this.getInstrumentModel().getPipsPrecisionSize()).toFixed(n)))?e:t},setTakeProfit:function(e,t){this.set("takeProfit",this.toFixed(e),t)},setStopLoss:function(e,t){this.set("stopLoss",this.toFixed(e),t)},calcTakeProfit:function(){var e=void 0;this.getInstrumentModel().getPrecision();return e=this.isBuy()?this.getPrice()+this.minOrderDistance(!1):this.getPrice()-this.minOrderDistance(!1),this.setTakeProfit(e),this},calcStopLoss:function(){var e=void 0;this.getInstrumentModel().getPrecision();return e=this.isBuy()?this.getPrice()-this.minOrderDistance(!1):this.getPrice()+this.minOrderDistance(!1),this.setStopLoss(e),this},minOrderDistance:function(e){var t=void 0,n=this.getInstrumentModel(),i=n.getLimitStopDistance(),r=n.getPipsPrecisionSize(),s=n.getPrecision(),a=o.getDefaultDistancePipsMultiplier();return a=a.toFixed(s),i=i.toFixed(s),t=e?i*r:i*r*a,Number(t.toFixed(s))},calcLossForStopLoss:function(){var e=this.getInstrumentModel(),t=this.getStopLoss(),n=this.getCurrentPrice(),i=s.getUserCurrency(),r=(this.isBuy()?-(t-n):t-n)*this.getAmount(),o=e.getCurrency(),a=this.calcProfit(i,o,r);this.setLossForStopLoss(a)},calcProfitForTakeProfit:function(){var e=this.getInstrumentModel(),t=this.getTakeProfit(),n=this.getCurrentPrice(),i=s.getUserCurrency(),r=(this.isBuy()?t-n:-(t-n))*this.getAmount(),o=e.getCurrency(),a=this.calcProfit(i,o,r);this.setProfitForTakeProfit(a)},loadInstrumentMarginingSettings:function(){l.getMarginingSettings(this.getInstrumentModel().getSymbol()).then(this.calculateMarginRate.bind(this))},calculateMarginRate:function(e){this.set({tieredMarginEnabled:e.tieredMarginEnabled,minTieredMarginQuantity:e.minTieredMarginQuantity})},isTieredMarginEnabled:function(){return this.get("tieredMarginEnabled")},isTieredMarginApplied:function(e){return!!this.isTieredMarginEnabled()&&e>this.get("minTieredMarginQuantity")}});i.exports=c}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(810);i.exports=r.extend({initialize:function(e){this.account=e,this.loadDepositAmountsConfigForTradingAccount(this.account.accountId)},getCurrencySymbol:function(){return __currency(this.account.currency)}})}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r={AC:["247"],AD:["376"],AE:["971"],AF:["93"],AG:["1268"],AI:[],AL:["355"],AM:["374"],AN:[],AO:["244"],AQ:["672"],AR:["54"],AS:["1684"],AT:["43"],AU:["61"],AW:["297"],AX:["358"],AZ:["994"],BA:["387"],BB:["1246"],BD:["880"],BE:["32"],BF:["226"],BG:["359"],BH:["973"],BI:["257"],BJ:["229"],BL:["590"],BM:["1441"],BN:["673"],BO:["591"],BQ:[],BR:["55"],BS:["1242"],BT:["975"],BU:[],BV:[],BW:["267"],BY:[],BZ:["501"],CA:["1"],CC:["61"],CD:["243"],CF:["236"],CG:["242"],CH:["41"],CI:["225"],CK:["682"],CL:["56"],CM:["237"],CN:["86"],CO:["57"],CP:[],CR:["506"],CS:[],CT:[],CU:["53"],CV:["238"],CW:["599"],CX:["61"],CY:["357"],CZ:["420"],DD:[],DE:["49"],DG:[],DJ:["253"],DK:["45"],DM:["1767"],DO:["1809","1829","1849"],DY:[],DZ:["213"],EA:[],EC:["593"],EE:["372"],EG:["20"],EH:["212"],ER:["291"],ES:["34"],ET:["251"],EU:["388"],FI:["358"],FJ:["679"],FK:["500"],FM:["691"],FO:["298"],FQ:[],FR:["33"],FX:["241"],GA:["241"],GB:["44"],GD:["473"],GE:[],GF:["594"],GG:["44"],GH:["233"],GI:["350"],GL:["299"],GM:["220"],GN:["224"],GP:["590"],GQ:["240"],GR:["30"],GS:[],GT:["502"],GU:["1671"],GW:["245"],GY:["592"],HK:["852"],HM:[],HN:["504"],HR:["385"],HT:["509"],HU:["36"],HV:[],IC:[],ID:["62"],IE:["353"],IL:["972"],IM:["44"],IN:["91"],IO:["246"],IQ:["964"],IR:["98"],IS:["354"],IT:["39"],JE:["44"],JM:["1876"],JO:["962"],JP:["81"],JT:[],KE:["254"],KG:["996"],KH:["855"],KI:["686"],KM:["269"],KN:["1869"],KP:["850"],KR:["82"],KW:["965"],KY:["1345"],KZ:["7","76","77"],LA:["856"],LB:["961"],LC:["1758"],LI:["423"],LK:["94"],LR:["231"],LS:["266"],LT:["370"],LU:["352"],LV:["371"],LY:["218"],MA:["212"],MC:["377"],MD:["373"],ME:["382"],MF:["590"],MG:["261"],MH:["692"],MI:[],MK:["389"],ML:["223"],MM:["95"],MN:["976"],MO:["853"],MP:["1670"],MQ:["596"],MR:["222"],MS:["1664"],MT:["356"],MU:["230"],MV:["960"],MW:["265"],MX:["52"],MY:["60"],MZ:["258"],NA:["264"],NC:["687"],NE:["227"],NF:["672"],NG:["234"],NH:[],NI:["505"],NL:["31"],NO:["47"],NP:["977"],NQ:[],NR:["674"],NT:[],NU:["683"],NZ:["64"],OM:["968"],PA:["507"],PC:[],PE:["51"],PF:["689"],PG:["675"],PH:["63"],PK:["92"],PL:["48"],PM:["508"],PN:["872"],PR:["1787","1939"],PS:["970"],PT:["351"],PU:[],PW:["680"],PY:["595"],PZ:[],QA:["974"],RE:["262"],RH:[],RO:["40"],RS:["381"],RU:["7","73","74","78"],RW:["250"],SA:["966"],SB:["677"],SC:["248"],SD:["249"],SE:["46"],SG:["65"],SH:["290"],SI:["386"],SJ:["47"],SK:[],SL:["232"],SM:["378"],SN:["221"],SO:["252"],SR:["597"],SS:["211"],ST:["239"],SU:[],SV:["503"],SX:["1721"],SY:["963"],SZ:["268"],TA:["290"],TC:["1649"],TD:["235"],TF:[],TG:["228"],TH:["66"],TJ:["992"],TK:["690"],TL:["670"],TM:["993"],TN:["216"],TO:["676"],TP:[],TR:["90"],TT:["1868"],TV:["688"],TW:["886"],TZ:["255"],UA:["380"],UG:["256"],UK:[],UM:["1"],US:["1"],UY:["598"],UZ:["998"],VA:["379","39"],VC:["1784"],VD:[],VE:["58"],VG:["1284"],VI:["1340"],VN:["84"],VU:["678"],WF:["681"],WK:[],WS:["685"],XK:["383"],YD:[],YE:["967"],YT:["262"],YU:[],ZA:["27"],ZM:["260"],ZR:[],ZW:["263"]},o=n(71).default,s=n(3).EMPTY,a=n(1);i.exports.getPhoneCodesByCountryCode=function(e){return r[e]},i.exports.getCountriesPhoneCodes=function(e){var t,n,i=(t=a.map(e,(function(e){return{name:__("country.name."+e.code),code:e.code.toLowerCase(),value:e.phoneCode}})),n=function(e,t){return e.key===s?-1:t.key===s?1:o.mobile()||o.tablet()?e.value.localeCompare(t.value):e.name.localeCompare(t.name)},t.sort(n));return i=a.filter(i,(function(e){return"0"!==e.value})),(o.mobile()||o.tablet())&&(i=a.uniq(i,"value")),i}}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(4),s=n(41);var a=function(e){var t=e.value,n=(e.dispatch,function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["value","dispatch"]));return r.a.createElement(n.as,n,t)};a.defaultProps={as:"div"},t.default=Object(o.connect)((function(e){return{value:Object(s.r)(e)}}))(a)},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(1044),e.exports=n(1233)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),function(e){n(1234);var t=n(521),i=n(3),r=n(932),o=(n(1386),n(1387),n(1388),n(0)),s=n.n(o),a=n(22),l=n.n(a),c=n(44),u=n(46),d=n(223),p=n(12),f=n.n(p),h=n(1),m=n.n(h),g=n(24),v=n.n(g),b=n(475),_=n.n(b),y=n(395),E=n.n(y),S=(n(58),n(934)),C=n.n(S),w=n(935),O=n.n(w),T=n(936),P=n.n(T),k=n(185),I=n.n(k),A=n(5),x=n.n(A),N=n(6),D=n.n(N),R=n(54),L=n.n(R),M=n(609),j=n.n(M),F=n(26),B=n.n(F),U=n(8),V=n.n(U),z=n(178),q=n.n(z),H=n(72),$=n.n(H),G=n(517),W=n.n(G),Y=n(616),K=n.n(Y),X=n(125),Q=n.n(X),J=n(71),Z=n(33);t.tracePlatformLoad.start({login:!localStorage.getItem(i.FIRST_TIME_LOADING_STORAGE_KEY)});var ee=Object(c.default)((function(){return Promise.resolve().then(n.bind(null,840))}));n(1389);var te=n(1896).default;window.store=te(),C()(f.a),O()(m.a),v.a.$=f.a,n(83),n(773),n(125),n(1448),n(774),n(66),n(26),n(103),n(9),n(115),n(1492),n(1495),n(1496),n(770),n(1807),n(1808),n(518);function ne(){store.dispatch(Object(u.initAppUi)()),this.initialize.apply(this,arguments),this.settings=n(9)}function ie(e){}function re(e){return!!e}m.a.extend(ne.prototype,E.a,{readyToRenderEvents:{"app:start:render":!1},initialize:function(){var e=this,t="https://"+this.getPlatformHost(),n=t+"/maintenance/status.html?_r="+m.a.now();_.a.get(n).then((function(n){1===n.data||I.a.getQueryParam("qaoriginip")?e.startDetectSession():(location.href=t+"/system-maintenance",window.location.href="/system-maintenance")})).catch((function(t){if(m.a.isUndefined(t.response))return e.createOfflinePage(n);e.startDetectSession()})),this._initDone=!1,x.a.on("start:detect:session",(function(){return e.startDetectSession()})),x.a.on("all",this.initDoneEvent,this);var i=cordova&&cordova.plugins&&cordova.plugins.backgroundMode;i&&i.setEnabled(!0)},startDetectSession:function(){x.a.trigger("app:initialize:start"),D.a.getSessionModel().detect(this.detectSessionResult.bind(this))},detectSessionResult:function(e){var t=this;Promise.all([L.a.loadLanguages(),this.settings.load()]).then((function(){return Q.a.loadAffiliateTracking()})).then((function(){var e=t.settings.getInstalledRelatedAppsKey();t.includeElement("meta","getInstalledRelatedApps",{"http-equiv":"origin-trial","data-feature":"getInstalledRelatedApps","data-expires":"2017-12-24",content:e}),t.initUnauthorizedScripts(),$.a.loadThemeForBrand()})).then((function(){return Q.a.isMarketsX()&&$.a.applyMarketsX(!0)})).then((function(){return"active"===e?t.onActiveSession():t.onInactiveSession()})).then((function(){return x.a.trigger("app:start:render")})).catch(ie)},onActiveSession:function(){var e=this;return this.initAuthorizedScripts(),new Promise((function(t,n){if(q.a.isDetected()){var i=e.settings.getPlatformType(),o=q.a.getQueryString();if(q.a.isPlatformSwitchingNeeded(i))return x.a.trigger("platform:switch",q.a.getPlatform(),o)}Promise.all([j.a.load(),B.a.load(),D.a.getUserCommonData().load(),K.a.load(),D.a.getUserLevelsModel().load(),window.store.dispatch(Object(r.a)())]).then((function(){return L.a.getDetectedLanguage(D.a.getUserCommonData().getSelectedLanguage())})).then((function(i){var r=D.a.getUserCommonData(),o=D.a.getBrandLogoFileName();m.a.isEmpty(o)||$.a.applyCustomLogo(o),r.isFirstLogin()&&Q.a.sendLeadCreationEventTo3rdPartyTracking(D.a.getPersonalData()),e.settings.isDefaultAdvancedViewsEnabled()&&r.isFirstLogin()&&(r.saveTradingViewMode("advanced"),r.saveOpenPositionMode("interactive")),D.a.isPromotionMarketsX()?(Q.a.storeMarketsxFlag(),$.a.applyMarketsX(!0),e.settings.isCustomerLevelsEnabled()&&(r.isTradingViewModeSet()||r.saveTradingViewMode("advanced",!1),r.isOpenPositionModeSet()||r.saveOpenPositionMode("interactive",!1))):(Q.a.removeMarketsXFlag(),$.a.applyMarketsX(!1)),$.a.loadOnLogin(),D.a.getUserAccountServices().load().then((function(){var e=r.wasTradingCentralEnabled(),t=D.a.getUserAccountServices().isTradingCentralAvailable();e!==t&&r.saveTradingCentralEnabled(t)})),e.settings.isGuaranteedStopLossEnabled()&&V.a.loadRegulationGslStatus().then((function(e){var t=e.data;D.a.setGuaranteedStopLoss(t)})),L.a.loadDictionary(i).then((function(){$.a.initBrandTitle();var e=r.getSelectedLanguage(),n=L.a.getCurrentLanguage();e!==n&&r.saveSelectedLanguage(n),D.a.getUserAwardsModel().load(),D.a.getUserAccountMetricsModel().load(),D.a.getUserLeverageLevels().load(),D.a.getUserLogin().setLoginState(!0),D.a.getUserTokenModel().load(D.a.getCustomerId()),D.a.getUserDocumentsModel().load().then((function(){V.a.storeSettings({firstLogin:!1}),q.a.prepare(),t()})),W.a.init()})).catch(n),window.UXCam&&window.UXCam.startWithKey&&e.settings.isUXCamEnabled()&&window.UXCam.startWithKey(e.settings.getUXCamAppKey())})).catch(n)}))},onInactiveSession:function(){var e=this;return new Promise((function(t,n){var i=e.onActiveSession.bind(e),r="";function o(){L.a.loadDictionary(r).then((function(){$.a.initBrandTitle(),x.a.trigger("app:session:inactive"),t()})).catch(n)}L.a.getDetectedLanguage().then((function(e){r=e,D.a.getUserLogin().getRememberData()?D.a.getUserLogin().autoLoginRequest().then(i).then(t).catch(o):o()}))}))},initDoneEvent:function(e){!1===this.readyToRenderEvents[e]&&(this.readyToRenderEvents[e]=!0),!this._initDone&&m.a.every(this.readyToRenderEvents,re)&&(x.a.off("all",this.initDoneEvent,this),this._initDone=!0,this.createAppView())},createOfflinePage:function(t){n(840);var i=e("#wrapper")[0];l.a.render(s.a.createElement(ee,{onLine:function(){l.a.findDOMNode(i)&&l.a.unmountComponentAtNode(i),window.location.reload(!0)},testUrl:t}),i)},getContainer:function(){return Z.default.mobile()?this.getWrapperElement():this.getMainBoxElement()},getMainBoxElement:function(){return this.router.appView.mainBoxElement},getWrapperElement:function(){return this.router.appView.wrapperElement},getPopupsPlaceholder:function(){return this.router.appView.popupsPlaceholderElement},createAppView:function(){var e=n(125),t=n(1810);e.trackDcmEvent("sitev"),e.trackFBEvent("PageView"),this.router=new t,new P.a,v.a.history.start()},initAuthorizedScripts:function(){var e=this;if(this.settings.checkTradingToolEnabled(i.TRADING_TOOLS.ANALYST_RECOMMENDATIONS).then((function(t){return t&&e.includeScript("tipranks",e.settings.getTipranksScriptLocation())})),this.settings.checkTradingToolEnabled(i.TRADING_TOOLS.EVENTS_AND_TRADE).then((function(t){return t&&e.includeScript("events-and-trade",e.settings.getEventsAndTradeScriptLocation())})),this.settings.isPlatformMessagingEnabled()&&this.includeScript("in-platform-messaging",this.settings.getPlatformMessagingScriptLocation()),J.default.tablet()&&window.screen.orientation&&window.screen.orientation.lock("landscape-primary"),window.PushNotification&&window.device){var t=window.PushNotification.init({android:{},browser:{pushServiceURL:"http://push.api.phonegap.com/v1/push"},ios:{alert:!0,badge:!0,sound:!0,senderID:"21155591901",clearBadge:!0,gcmSandbox:!1},windows:{}});t.on("registration",(function(e){var t=e.registrationId;J.default.ios()?V.a.storeMobilePushId(t,device.uuid):V.a.storeMobilePushId(t,device.uuid+".com.markets.android")})),t.on("notification",(function(e){var n=e.additionalData.url,i=n.split("://")[1],r=null;if(i){var o=i.split("?")[0];r="?"+n.split("://")[1].split("?")[1]+"&path="+o}r&&(window.location=r),t.setApplicationIconBadgeNumber((function(){}),(function(){}),e.count),J.default.ios()&&t.finish((function(){}),(function(){}),e.additionalData.notId)})),this.settings.isHotjarEnabled()&&window.store.dispatch(Object(d.hotjarInject)())}},includeGTMScript:function(e,t){t&&(window.dataLayers=window.dataLayers||[],window[e]=window[e]||[],window[e].push({"gtm.start":(new Date).getTime(),event:"gtm.js"}),this.includeScript("gtm-tracking-"+e,"https://www.googletagmanager.com/gtm.js?id="+t+"&l="+e),m.a.contains(window.dataLayers,window[e])||window.dataLayers.push(window[e]))},includeDCMScript:function(e,t){t&&(window.dataLayers=window.dataLayers||[],window[e]=window[e]||[],window[e].push(["js",new Date]),window[e].push(["config",t]),this.includeScript("gtm-tracking-"+e,"https://www.googletagmanager.com/gtag/js?id="+t+"&l="+e),m.a.contains(window.dataLayers,window[e])||window.dataLayers.push(window[e]))},initUnauthorizedScripts:function(){var e,t,n,i,r,o,s=arguments;if(this.settings.isGtmTrackingEnabled()&&(this.includeGTMScript("brandDataLayer",this.settings.getGtmTrackingId()),this.includeGTMScript("groupDataLayer",this.settings.getGtmGroupTrackingId())),this.settings.isDcmTrackingEnabled()&&(this.includeDCMScript("brandDataLayer",this.settings.getDcmTrackingId()),this.includeDCMScript("groupDataLayer",this.settings.getDcmGroupTrackingId()),window.gtag=function(){return m.a.forEach(window.dataLayers,(function(e){return e&&e.push&&e.push(s)}))}),this.settings.isSocialLoginGoogleEnabled()&&(window.onGoogleYoloLoad=function(e){window.googleyolo=e,x.a.trigger("app:social:onetap:init:finish")},this.includeScript("google-smartlock","https://smartlock.google.com/client"),window.onGoolgeLoadCallback=function(){gapi.load("auth2",(function(){window.auth2=gapi.auth2.init({client_id:window._app.settings.getSocialLoginGoogleClientId()}),x.a.trigger("app:social:google:init:finish")}))},this.includeScript("social-google","https://apis.google.com/js/api:client.js?onload=onGoolgeLoadCallback")),this.settings.isSocialLoginFacebookEnabled(),this.settings.isFBTrackingEnabled()){var a=this.settings.getFBTrackingID();a&&(e=window,t=document,n="script",e.fbq||(i=e.fbq=function(){i.callMethod?i.callMethod.apply(i,arguments):i.queue.push(arguments)},e._fbq||(e._fbq=i),i.push=i,i.loaded=!0,i.version="2.0",i.queue=[],(r=t.createElement(n)).async=!0,r.src="https://connect.facebook.net/en_US/fbevents.js",(o=t.getElementsByTagName(n)[0]).parentNode.insertBefore(r,o)),window.fbq("init",a))}this.settings.isCaptchaEnabled()&&this.includeScript("recaptcha","https://www.google.com/recaptcha/api.js")},includeScript:function(e,t,n){t&&this.includeElement("script",e,{type:"text/javascript",defer:"",async:"",src:t,onload:n})},includeElement:function(e,t,n){if(!document.getElementById(e+"-"+t)){var i=document.createElement("script");for(var r in n)n.hasOwnProperty(r)&&n[r]&&i.setAttribute(r,n[r]);i.setAttribute("id",e+"-"+t),document.head.appendChild(i)}},getPlatformHost:function(){var e=localStorage.getItem("_platform_host_");return e||"live-trader.markets.com"},setPlatformHost:function(e){localStorage.setItem("_platform_host_",e)},getPhoneGapPlatformServerBaseUrl:function(){return"https://"+this.getPlatformHost()+"/trading-platform/"}}),window._app=new ne,window.__VERSION__={version:"1.77.7",hash:"392e1837f6b38fd815363b9a90c346959b93c142\n",time:"2019-11-22T11:17:19.974Z"}}.call(this,n(12))},function(e,t,n){"use strict";var i=n(406);window.fetch=i.d,window.Headers=i.a,window.Request=i.b,window.Response=i.c},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"convertStrToTimestamp",(function(){return f})),n.d(t,"isOutdated",(function(){return h})),n.d(t,"getCache",(function(){return m})),n.d(t,"putCache",(function(){return g})),n.d(t,"deleteCache",(function(){return v}));var i=n(1),r={},o=1e3,s=60*o,a=60*s,l=24*a,c=7*l,u=4*c,d=12*u,p=f("5m");function f(e){var t=String(e).match(/(\d*)(\w*)/),n=t&&Number(t[1]),r=t&&t[2];if(i.isNumber(n))switch(r){case"s":return n*o;case"m":return n*s;case"h":return n*a;case"d":return n*l;case"W":return n*c;case"M":return n*u;case"Y":return n*d;default:return Number(n)}throw new Error('Unknown duration format "'+e+'"')}function h(e){var t=r[e];if(t){var n=t.lastUpdated,o=t.duration;return i.now()-n>=o}return!1}function m(e){if(i.has(r,e)&&!h(e)){var t=r[e].data;return(i.isObject(t)||i.isArray(t))&&(t=JSON.parse(JSON.stringify(t))),t}return null}function g(e,t,n){var o=r[e],s=(n=i.isString(n)?f(n):n)||(o?o.duration:p),a=o?o.debouncedDelete:i.debounce((function(){return v(e)}),s);(i.isObject(t)||i.isArray(t))&&(t=JSON.parse(JSON.stringify(t))),r[e]={data:t,duration:s,lastUpdated:i.now(),debouncedDelete:a},a()}function v(e){delete r[e]}},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var r=n(5),o=n(24),s=n(1),a=5e3,l=100,c=/^(\d\d\|)[a-zA-Z0-9-]+(\|0\|X\|)$/g,u="Websocket... CLOSE MAX_RECONNECT_ATTEMPTS reached",d="Websocket... CLOSE missing atmosphereId",p=function(e,t,n){return"Websocket... CLOSE triggered by native event. code: "+e+" reason: "+t+". Last message at "+(Date.now()-n)/1e3+"sec ago"},f=function(e){return"Websocket... Try to reconnect attempt #"+e};i.exports=function(e){this.addr=e,s.extend(this,o.Events);var t=this;t._reconnectionAttempts=0,t.atmosphereId=null,t.isManualClosed=!1,this.close=function(){t.socket&&(t.isManualClosed=!0,t.socket.close())},function e(n){var i=new WebSocket(n);t.socket=i,i.onopen=function(e){t._reconnectionAttempts=0,t.__lastMessage=Date.now(),t.trigger("open",e)},i.onerror=function(e){t.trigger("error",e)},i.onmessage=function(e){t.__lastMessage=Date.now();var n=e.data;c.test(n)&&(t.atmosphereId=n.split("|")[1]),setTimeout((function(){return t.trigger("message",n)}),0)},i.onclose=function(n){if(!t.isManualClosed){var i=n.code,o=n.reason,s=p(i,o,t.__lastMessage);return r.trigger("log:info",s),t._reconnectionAttempts===l?(r.trigger("log:error",u),void t.trigger("close",n)):t.atmosphereId?void setTimeout((function(){if(!t.isManualClosed){var n=t._reconnectionAttempts++;r.trigger("log:info",f(n)),e(t.addr.replace("X-Atmosphere-tracking-id=0","X-Atmosphere-tracking-id="+t.atmosphereId).replace("sessionState=dx-new","sessionState=dx-recover"))}}),a):(r.trigger("log:error",d),void t.trigger("close",n))}}}(t.addr)}}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(24))},function(e,t,n){"use strict";n.r(t);var i=n(142),r=n(389),o=n(170),s=n(193),a=n(395),l=n.n(a),c=n(5),u=n.n(c),d=n(1),p=n.n(d),f=n(26),h=n.n(f),m=n(89),g=n.n(m),v=n(103),b=n.n(v),_=n(359),y=n.n(_),E=n(402),S=n.n(E),C=n(341),w=n.n(C),O=n(3),T=n(46),P=(n(408),n(123));function k(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}var I=function(e){return!p.a.isEmpty(e.positionCode)&&p.a.isNumber(e.margin)&&p.a.isNumber(e.plOpen)&&p.a.isNumber(e.totalPL)},A=function(e){return JSON.parse(JSON.stringify(e))},x=p.a.extend({},l.a,{_cachedPositionsMetrics:{},initialize:function(){var e=this;this.listenTo(u.a,"stream:type:REQUIRED_MARGIN",this.onRequiredMargin),this.listenTo(u.a,"stream:type:SUMMARY",this.onSummary),this.listenTo(u.a,"stream:type:QUOTE",this.onQuote),this.listenTo(u.a,"stream:type:INSTRUMENT_SETTINGS_UPDATE",(function(t){store.dispatch(Object(o.instrumentSettingsUpdate)(A(t))),e.onInstrumentSetting(t)})),this.listenTo(u.a,"stream:type:INSTRUMENT_TRADE_STATUSES",(function(t){store.dispatch(Object(o.instrumentTradeStatuses)(A(t))),e.onInstrumentSetting(t)})),this.listenTo(u.a,"stream:type:FX_INSTRUMENT",this.onFxInstrument),this.listenTo(u.a,"stream:type:OPEN_POSITION",this.onOpenPosition),this.listenTo(u.a,"stream:type:POSITION_METRICS",this.onPositionMetrics),this.listenTo(u.a,"stream:type:HISTORY_ORDER",this.onHistoryOrder),this.listenTo(u.a,"stream:type:HISTORY_ORDER_FILTERS",this.onHistoryOrderFilters),this.listenTo(u.a,"stream:type:CLOSED_POSITION",this.onClosedPositions),this.listenTo(u.a,"stream:type:CLOSED_POSITION_FILTERS",this.onClosedPositionsFilters),this.listenTo(u.a,"stream:type:FX_SYSTEM_SETTINGS",this.onFxSystemSettings),this.listenTo(u.a,"stream:type:ORDER",this.onOrder),this.listenTo(u.a,"stream:type:OPEN_POSITION_FILTERS",this.onOpenPositionFilters),this.listenTo(u.a,"stream:type:SWAP_RATE",this.onSwapRate),this.listenTo(u.a,"stream:type:TOTALS",this.onTotal),this.listenTo(u.a,"stream:type:PORTFOLIO_METRICS",this.onPortfolioMetrics)},updateInstruments:function(e,t){p.a.each(e,(function(e){var n=void 0;if(e.positionCode){var i=g.a.getPositionByCode(e.positionCode),r=i&&i.get("instrumentId");n=h.a.getInstrumentById(r),delete e.instrumentSymbol,delete e.positionCode}else{var o=e[t];(n=h.a.getInstrumentBySymbol(o))||(n=h.a.createInstrument(e))}n.set(e),p.a.has(e,"precision")&&n.setPrecisionReceived(!0)}))},updatePositions:function(e,t){var n=this;p.a.each(e,(function(e){var i=e[t],r=g.a.getPositionByCode(i);if(!r&&p.a.has(e,"instrumentId")){var o=p.a.isEmpty(n._cachedPositionsMetrics[i])?{}:n._cachedPositionsMetrics[i];r=g.a.createPosition(p.a.extend(o,e,{positionCode:i}))}r&&r.set(e)})),g.a.ready(),g.a.trigger("update")},updateOrders:function(e){p.a.chain(e).filter((function(e){return!p.a.contains([O.ORDER_EXECUTION_STATUS_WAITING_GSL],e.lastExecutionStatus)})).each((function(e){var t=e.orderChainId,n=e.status===O.WORKING&&e.timeInForce===O.TIME_IN_FORCE_GTC,i=b.a.getOrderById(t);if(p.a.has(e,"requestId")){var r=w.a.get(e.requestId);r&&(__eventos("tradingPlatform:orderForm:serverResponse",p.a.extend(r,{orderStatus:O.APPROVED,positionId:e.orderChainId})),w.a.delete(e.requestId))}n?(i||(i=b.a.createOrder(p.a.extend({},e,{orderChainId:t}))),i&&i.set(e)):b.a.remove(i)})),b.a.ready(),b.a.trigger("update")},onClosedPositionsFilters:function(e){var t=p.a.first(e);switch(!p.a.isEmpty(t)&&p.a.isString(t.id)&&t.id.split(".").pop()){case"":S.a.filteredData(t.filteredIds);break;case"-filter-all":S.a.allFilterData(t.filteredIds)}},onClosedPositions:function(e){S.a.fillBuffer(e)},updateOrderHistoryFilter:function(e){var t=p.a.first(e);switch(!p.a.isEmpty(t)&&p.a.isString(t.id)&&t.id.split(".").pop()){case"C":y.a.cancelledFilterData(t.filteredIds);break;case"R":y.a.rejectedFilterData(t.filteredIds);break;case"CR-filter-all":y.a.allFilterData(t.filteredIds)}},updateOrderHistory:function(e){y.a.fillBuffer(e)},onRequiredMargin:function(e){store.dispatch(Object(i.requiredMargin)(A(e))),p.a.each(e,(function(e){var t=e.instrumentSymbol,n=e.positionCode,i=k(e,["instrumentSymbol","positionCode"]);if(n){var r=i.requiredMarginInAccountCurrency,o=i.requiredMarginInInstrumentCurrency,s=i.guaranteedStopLossAmount,a=k(i,["requiredMarginInAccountCurrency","requiredMarginInInstrumentCurrency","guaranteedStopLossAmount"]),l=g.a.getPositionByCode(n),c=h.a.getInstrumentBySymbol(t);l&&l.set({requiredMarginInAccountCurrency:r,requiredMarginInInstrumentCurrency:o,guaranteedStopLossAmount:s}),c&&c.set(a)}else{var u=h.a.getInstrumentBySymbol(t);u&&u.set(i)}}))},onSummary:function(e){store.dispatch(Object(o.summary)(A(e))),this.updateInstruments(e,"symbol")},onQuote:function(e){store.dispatch(Object(o.updateInstrumentsQuote)(A(e))),this.updateInstruments(e,"symbol")},onFxInstrument:function(e){store.dispatch(Object(o.fxInstrument)(A(e))),this.updateInstruments(e,"symbol")},onInstrumentSetting:function(e){this.updateInstruments(e,"instrumentSymbol")},onOpenPosition:function(e){store.dispatch(Object(i.openPosition)(A(e))),store.dispatch(Object(T.setShouldInstrumentBeCentered)(!0)),store.dispatch(Object(P.o)()),e&&e.edited&&e.edited.length&&(this.updatePositions(e.edited,"positionCode"),store.dispatch(Object(i.clearClosedPosition)({positionsArr:e.edited,removed:!1}))),e&&e.removed&&e.removed.length&&(g.a.removePositionsByCode(e.removed),store.dispatch(Object(i.clearClosedPosition)({positionsArr:e.removed,removed:!0})))},onPositionMetrics:function(e){var t=this;store.dispatch(Object(i.positionMetrics)(A(e))),store.dispatch(Object(P.o)());var n=p.a.filter(e,I);p.a.each(n,(function(e){t._cachedPositionsMetrics[e.positionCode]=e})),this.updatePositions(n,"positionCode")},onHistoryOrderFilters:function(e){this.updateOrderHistoryFilter(e)},onHistoryOrder:function(e){this.updateOrderHistory(e)},onFxSystemSettings:function(e){store.dispatch(Object(o.fxSystemSettings)(A(e))),p.a.has(e,"overnightInterestTime")&&(h.a.overnightInterestTime=e.overnightInterestTime)},onOrder:function(e){store.dispatch(Object(r.d)(A(e))),store.dispatch(Object(T.setShouldInstrumentBeCentered)(!0)),e&&e.edited&&e.edited.length&&this.updateOrders(e.edited),e&&e.removed&&e.removed.length&&b.a.removeOrdersByIds(e.removed)},onTotal:function(e){store.dispatch(Object(s.totals)(e))},onOpenPositionFilters:function(e){store.dispatch(Object(i.openPositionFilters)(e))},onSwapRate:function(e){store.dispatch(Object(o.swapRatesReceived)(A(e)))},onPortfolioMetrics:function(e){store.dispatch(Object(P.n)(e)),store.dispatch(Object(P.o)())}});x.initialize(),t.default=x},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(43),o=n(26),s=r.extend({idAttribute:"positionCode",defaults:function(){return{accountId:0,amountIncrement:0,cost:0,costBasis:0,instrumentId:0,modifiedTime:0,positionCode:"",quantity:0,stopLoss:null,takeProfit:null,time:0,uid:"",userLogin:""}},_isInstrumentLinked:!1,getAccountId:function(){return this.get("accountId")},getCost:function(){return this.get("cost")},getCostBasis:function(){return this.get("costBasis")},getInstrumentId:function(){return this.get("instrumentId")},getModifiedTime:function(){return this.get("modifiedTime")},getPositionCode:function(){return this.get("positionCode")},getQuantity:function(){return this.get("quantity")},getStopLoss:function(){return this.get("stopLoss")},getTakeProfit:function(){return this.get("takeProfit")},getTime:function(){return this.get("time")},getUid:function(){return this.get("uid")},getUserLogin:function(){return this.get("userLogin")},getAdjustment:function(){return this.get("adjustment")},getDividends:function(){return this.get("dividends")},getFinancing:function(){return this.get("financing")},getCommision:function(){return this.getDividends()+this.getAdjustment()+this.getFinancing()},getPLOpen:function(){return this.get("plOpen")},set:function(){r.prototype.set.apply(this,arguments);var e=this.getInstrumentId(),t=!this._isInstrumentLinked&&e;if(t){var n=o.getInstrumentById(e);n&&(n.addPosition(this),this._isInstrumentLinked=!0)}return this}});i.exports=s}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(43),o=n(1),s=n(100),a=n(73),l=n(16),c=n(1261),u=n(9),d=n(3),p=d.INSTRUMENT_CATEGORIES,f=d.INSTRUMENT_TYPE_FOREX,h=d.INSTRUMENT_TYPE_SPREAD_BETTING,m=d.POSITION_DIRECTION_BUY,g=d.POSITION_DIRECTION_SELL,v=d.TRADING_TOOLS,b=d.PERCENTS_100,_=n(49).getAmountSpreadBettingLabel;i.exports=r.extend({defaults:function(){return{ticker:null,sentiment:null,category:"",categoryList:[],symbol:"",description:"",name:"",id:null,enable:!0,active:!0,ask:0,askDirection:0,baseCurrency:null,bid:0,bidDirection:!1,currency:"",dayClose:!1,dayHigh:0,dayLow:0,dayOpen:0,displayName:"",domain:"",instrumentId:0,instrumentSymbol:"",isCategory:!1,isInstrument:!0,limitStopDistance:0,lotName:"",lotSize:1,markDirection:0,markPrice:"NaN",maxOrderSize:1e3,minOrderIncrement:1,minOrderSize:1,orders:new s,percentChange:!1,pipsPrecision:0,precision:0,precisionReceived:!1,trading:"",visible:!0,allowOrdersOutsideOfTradingHours:!1,type:"",argsForFormulaInAccountCurrency:"",argsForFormulaInInstrumentCurrency:"",formulaInAccountCurrency:"",formulaInInstrumentCurrency:"",tieredMarginApplied:!1,positionCode:null,outOfMarketHours:!1,tradeStatus:"",isMarginLevelLow:!1,tradable:!0,buyTradable:!0,sellTradable:!0,editable:!0,closable:!0,basket:null,positions:new s,priceAlerts:new s,expirationDays:null}},initialize:function(){this.status=new c({instrument:this}),this.on("change:bid change:dayClose",this.updatePercentChange),this.on("change:outOfMarketHours change:isMarginLevelLow change:trading change:visible change:allowOrdersOutsideOfTradingHours",this.updateTradable),this.on("change:outOfMarketHours change:trading change:allowOrdersOutsideOfTradingHours",this.updateClosable),this.listenToOnce(this,"change:bid change:ask",this.updateTradable)},getId:function(){return this.get("id")},getCategoryName:function(){return this.get("category")},isActive:function(){return!0===this.get("active")},isEnabled:function(){return!0===this.get("enable")},isDisabled:function(){return!1===this.get("enable")},isTradableBySide:function(e){var t=String(e).toLowerCase();return t===m?this.isBuyTradable():t===g?this.isSellTradable():this.status.isTradable()},isBuyTradable:function(){return this.get("buyTradable")},isSellTradable:function(){return this.get("sellTradable")},isEditable:function(){return this.get("editable")},isClosable:function(){return this.get("closable")},isOutOfMarketHours:function(){return this.get("outOfMarketHours")},enable:function(){this.set("enable",!0)},disable:function(){this.set("enable",!1)},getName:function(){return this.get("name")},getSymbol:function(){return this.get("symbol")||this.getName()},updatePercentChange:function(){var e=this.get("bid"),t=this.get("dayClose");if(!1!==e&&!1!==t){t=Number(t);var n=(t=o.isNaN(t)?0:t)?(e-t)/t*b:0;this.set("percentChange",Number(n.toFixed(2)))}},updateTradable:function(){this.set("buyTradable",this.status.isBuyTradable()),this.set("sellTradable",this.status.isSellTradable()),this.set("editable",this.status.isEditable())},updateClosable:function(){this.set("closable",this.status.isClosable()),this.set("cancelable",this.status.isCancelable())},getPercentChange:function(){var e=this.get("bid"),t=this.get("dayClose");return t?((e-t)/t*b).toFixed(2):0},isPercentChangeIncreasing:function(){return this.getPercentChange()>=0},getPercentStr:function(){var e=this.getPercentChange();return(e>=0?"+"+e:e)+"%"},getAmount:function(){return{amount:this.get("amount"),amountIncrement:this.get("amountIncrement")}},getAsk:function(e){return e?this.get("ask").toFixed(this.get("precision")):this.get("ask")},getBid:function(e){var t=this.get("bid");return!1===t?"":e?t.toFixed(this.get("precision")):t},getRateByType:function(e){return"ask"===e?this.getAsk():this.getBid()},fixRate:function(e){return Number(e).toFixed(this.getPrecision())},getAskDirection:function(){return this.get("askDirection")},getBidDirection:function(){return this.get("bidDirection")},getBaseCurrency:function(){return this.get("baseCurrency")},getCurrency:function(){var e=this.get("currency");return e?String(e).replace("$",""):""},getCurrencySymbol:function(){var e=this.getCurrency();return e?__currency(e):""},getBaseCurrencySymbol:function(){var e=this.get("baseCurrency");return e?__currency(e):""},isAmountWordUsed:function(){var e=this.getCategoryName().toLowerCase();return!e.startsWith(p.CRYPTO)&&e.startsWith(p.CURRENCY)},getAmountLabel:function(){return this.isAmountWordUsed()?__("order.form.amount.frx"):__("order.form.amount.cfd")},getAmountSpreadBettingLabel:function(){var e=this.getCurrency(),t=this.getPipsPrecisionSize();return _(e,t)},getDayClose:function(){return this.get("dayClose")},getDayHigh:function(){return this.get("dayHigh")},getDayLow:function(){return this.get("dayLow")},getDayOpen:function(){return this.get("dayOpen")},getDisplayName:function(){return this.get("displayName")||this.getName()},getDomain:function(){return this.get("domain")},getInstrumentId:function(){return this.get("instrumentId")||this.getId()},getInstrumentSymbol:function(){return this.get("instrumentSymbol")},isCategory:function(){return this.get("isCategory")},isInstrument:function(){return this.get("isInstrument")},getLimitStopDistance:function(){return Number(this.get("limitStopDistance"))},getLotName:function(){return this.get("lotName")},getLotSize:function(){return this.get("lotSize")},getMarginRate:function(){return this.get("marginRate")},getMarkDirection:function(){return this.get("markDirection")},getMarkPrice:function(){return this.get("markPrice")},getMaxOrderSize:function(){return this.get("maxOrderSize")*this.getLotSize()},getMinOrderIncrement:function(){return this.get("minOrderIncrement")*this.getLotSize()},getMinOrderSize:function(){return this.get("minOrderSize")*this.getLotSize()},getMinOrderSizeFormatted:function(){return this.getBaseCurrencySymbol()?a(this.getMinOrderSize()).formatForeignCurrency(this.getBaseCurrencySymbol(),"$0,0.[00]"):a(this.getMinOrderSize()).format("0,0.[00]")+" "+__("instrument_info.min_trade_size.units")},getOrders:function(){return this.get("orders")},hasOrders:function(){return this.getOrders().length>0},getPipsPrecision:function(){return Number(this.get("pipsPrecision"))},getPrecision:function(){return Number(this.get("precision"))},getPrecisionAsFloat:function(){return 1/Math.pow(10,this.getPrecision())},getTradingMode:function(){return this.get("trading")},isAllowOrdersOutsideOfTradingHours:function(){return this.get("allowOrdersOutsideOfTradingHours")},isMarginLevelLow:function(){return this.get("isMarginLevelLow")},getType:function(){return this.get("type")},isVisible:function(){return!0===this.get("visible")},getPrecisionSize:function(){return this.convertPrecision(this.getPrecision())},getPipsPrecisionSize:function(e){return this.convertPrecision(e||this.getPipsPrecision())},convertPrecision:function(e){return 1/Math.pow(10,e)},getPipsPrecisionDiff:function(){var e=this.getPipsPrecision(),t=this.getPrecision();return Math.abs(t-e)},getPipsPrecisionStep:function(){return this.getPipsPrecisionSize(this.getPipsPrecisionDiff())},getArgsForFormulaInAccountCurrency:function(){return this.get("argsForFormulaInAccountCurrency")},getArgsForFormulaInInstrumentCurrency:function(){return this.get("argsForFormulaInInstrumentCurrency")},getFormulaInAccountCurrency:function(){return this.get("formulaInAccountCurrency")},getFormulaInInstrumentCurrency:function(){return this.get("formulaInInstrumentCurrency")},isFormulaInAccountCurrencyNotEmpty:function(){return!o.isEmpty(this.getFormulaInAccountCurrency())},isFormulaInInstrumentCurrencyNotEmpty:function(){return!o.isEmpty(this.getFormulaInInstrumentCurrency())},getMidRate:function(){return(this.getAsk()+this.getBid())/2},getDescription:function(){return this.get("description")},isTypeForex:function(){return this.getType()===f},isTypeSpreadBetting:function(){return this.getType()===h},getPositions:function(){return this.get("positions")},hasPositions:function(){return this.getPositions().length>0},getSortedPositions:function(){return this.get("positions").sortBy((function(e){return Math.abs(e.get("modifiedTime"))}))},addPosition:function(e){this.getPositions().add(e),e.once("remove",(function(e){this.getPositions().remove(e),e.trigger("ui:position-closed",e)}),this)},addOrder:function(e){this.getOrders().add(e),e.once("remove",(function(e){this.getOrders().remove(e),e.trigger("ui:order-closed",e)}),this)},getPriceAlerts:function(){return this.get("priceAlerts")},getSavedPriceAlerts:function(){return this.getPriceAlerts().filter((function(e){return e.isAvailableOnServer()}))},addPriceAlert:function(e){this.getPriceAlerts().add(e),e.on("delete",(function(){this.getPriceAlerts().remove(e,{silent:!0}),0===this.getPriceAlerts().length&&o.delay(function(){this.trigger("change:priceAlertsAvailability",this,{})}.bind(this),1)}),this)},getTicker:function(){return this.get("ticker")},getSellPrice:function(){return this.getBid()},getBuyPrice:function(){return this.getAsk()},getSellDirection:function(){return this.get("bidDirection")},getBuyDirection:function(){return this.get("askDirection")},getBasket:function(){return this.get("basket")},checkInsightsEnabled:function(){return Promise.all([u.checkTradingToolEnabled(v.EVENTS_AND_TRADE),u.checkTradingToolEnabled(v.ANALYST_RECOMMENDATIONS),u.checkTradingToolEnabled(v.INSIDERS),u.checkTradingToolEnabled(v.BLOGGERS)]).then((function(e){return Promise.resolve(o.some(e))}))},isFractionalAmountEnabled:function(){return this.getMinOrderIncrement()%1!=0},getExpirationDays:function(){return this.get("expirationDays")},getExpirationDate:function(){var e=this.getExpirationDays();return e?l().add(e,"days").utc().format("DD/MM/YYYY"):null},getGroupName:function(){return n(1263)(this.getCategoryName(),this.getSymbol(),this)},getCategoryList:function(){return this.get("categoryList")||[]},isTieredMarginApplied:function(){return this.get("tieredMarginApplied")},isPrecisionReceived:function(){return this.get("precisionReceived")},setPrecisionReceived:function(e){return this.set("precisionReceived",e)}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(43),s=n(9),a=n(110),l=a.NO_MODE,c=a.CLOSE_ONLY_MODE,u=a.LONG_ONLY_MODE,d=a.SHORT_ONLY_MODE,p=a.FULL_MODE,f=n(3),h=f.YES,m=f.NO;i.exports=o.extend({getInstrument:function(){return this.get("instrument")},isVisible:function(){return this.getInstrument().isVisible()},isOutOfMarketHours:function(){return this.getInstrument().isOutOfMarketHours()},isTradableOutsideOfTradingHours:function(){return this.getInstrument().isAllowOrdersOutsideOfTradingHours()},canTradeOutsideOfTradingHours:function(){return this.isOutOfMarketHours()&&this.isTradableOutsideOfTradingHours()},isMarginLevelLow:function(){return this.getInstrument().isMarginLevelLow()},hasTradingMode:function(e){return this.getInstrument().getTradingMode()===e},isEditable:function(){return(!this.isOutOfMarketHours()||this.canTradeOutsideOfTradingHours())&&!(this.hasTradingMode(l)||this.hasTradingMode(c))},isClosable:function(){return!this.isOutOfMarketHours()&&!this.hasTradingMode(l)},isCancelable:function(){return(!this.isOutOfMarketHours()||this.canTradeOutsideOfTradingHours())&&!this.hasTradingMode(l)},isBuyTradable:function(){return this.isVisible()&&this.hasAsk()&&!this.isMarginLevelLow()&&(!this.isOutOfMarketHours()||this.canTradeOutsideOfTradingHours())&&(this.hasTradingMode(p)||this.hasTradingMode(u))},isSellTradable:function(){return this.isVisible()&&this.hasBid()&&!this.isMarginLevelLow()&&(!this.isOutOfMarketHours()||this.canTradeOutsideOfTradingHours())&&(this.hasTradingMode(p)||this.hasTradingMode(d))},hasBid:function(){return this.getInstrument().getBid()>0},hasAsk:function(){return this.getInstrument().getAsk()>0},isTradable:function(){return this.isBuyTradable()&&this.isSellTradable()},getStatusMessage:function(){return this.isVisible()&&this.hasBid()&&this.hasAsk()?this.hasTradingMode(l)?__("accountInfo.outOfMarket.other"):this.canTradeOutsideOfTradingHours()?__("instrument.info.trading.outside_of_trading_hours"):this.isOutOfMarketHours()?__("accountInfo.outOfMarket.notrade"):this.hasTradingMode(c)?__("accountInfo.outOfMarket.close"):this.hasTradingMode(u)?__("instrument.info.trading.restricted.sell"):this.hasTradingMode(d)?__("instrument.info.trading.restricted.buy"):__("accountInfo.outOfMarket.trade"):__("accountInfo.outOfMarket.other")},getNotClosableMessage:function(){return this.hasTradingMode(l)?__("accountInfo.outOfMarket.other"):this.canTradeOutsideOfTradingHours()?__("button.tooltip.trading.outside_of_trading_hours"):this.isOutOfMarketHours()?__("accountInfo.outOfMarket.notrade"):""},getNotCancelableMessage:function(){return this.hasTradingMode(l)?__("accountInfo.outOfMarket.other"):this.isOutOfMarketHours()?__("accountInfo.outOfMarket.notrade"):""},getNotTradableMessage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.isVisible()?this.hasTradingMode(l)?__("accountInfo.outOfMarket.other"):!this.canTradeOutsideOfTradingHours()||e&&!this.hasTradingMode(e)?this.isOutOfMarketHours()&&!this.isTradableOutsideOfTradingHours()?__("accountInfo.outOfMarket.notrade"):this.hasTradingMode(c)?__("accountInfo.outOfMarket.close"):this.hasTradingMode(d)&&e!==d?__("accountInfo.outOfMarket.buy"):this.hasTradingMode(u)&&e!==u?__("accountInfo.outOfMarket.sell"):this.isMarginLevelLow()?__("margin.level_2.buy_sell_button_tooltip.description"):"":__("button.tooltip.trading.outside_of_trading_hours"):__("accountInfo.outOfMarket.other")},getEditableMessage:function(){return this.isEditable()?"":this.getNotTradableMessage()},getClosableMessage:function(){return this.isClosable()?"":this.getNotClosableMessage()},getCancelableMessage:function(){return this.isCancelable()?"":this.getNotCancelableMessage()},getBuyTradableMessage:function(){return this.getNotTradableMessage(u)},getSellTradableMessage:function(){return this.getNotTradableMessage(d)},getTradableInstruments_24_7_Text:function(){return r.contains(s.getTradableInstruments_24_7(),this.getInstrument().getSymbol())?__("instrument_info.tradable_24_7"):""},canTradeOutsideOfTradingHoursMessage:function(){return this.isTradableOutsideOfTradingHours()?__(h):__(m)}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},,function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=[{name:function(){return __("lotname.points")},containType:n(3).INSTRUMENT_TYPE_SPREAD_BETTING},{name:function(e){return String(e).split("/")[0]},patternSymbol:/\//i,excludeCategory:"crypto",containCategory:"currency"},{name:function(){return __("lotname.contracts")},excludeSymbol:"GOLD;PLATINUM;SILVER;",containCategory:"crypto;index;bonds;commodity;metal",containSymbol:"NaturalGas"},{name:function(){return __("lotname.shares")},containCategory:"ETFs;Shares"},{name:function(){return __("lotname.barrels")},patternSymbol:/oil/i},{name:function(){return __("lotname.ounces")},containSymbol:"GOLD;PLATINUM;SILVER"}];i.exports=function(e,t,n){var i=function(e){return String(e).toLocaleLowerCase()},s=function(e){return i(e).split(";")},a=i(e),l=i(t),c=r.filter(o,(function(e){var t=e.excludeSymbol,o=e.excludeCategory,c=e.containCategory,u=e.containSymbol,d=e.patternSymbol,p=e.containType;if(p){var f=s(p),h=i(n.getType());if(r.some(f,(function(e){return e===h})))return!0}if(o){var m=s(o);if(r.some(m,(function(e){return-1!==a.indexOf(i(e))})))return!1}if(t){var g=s(t);if(r.contains(g,l))return!1}if(d&&d instanceof RegExp&&d.test(l))return!0;if(c){var v=s(c);if(r.some(v,(function(e){return-1!==a.indexOf(i(e))})))return!0}if(u){var b=s(u);if(r.contains(b,l))return!0}})),u=r.first(c),d=r.isObject(u)&&u.name;return r.isFunction(d)&&d(t)||d||""}}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){n(1);var r=n(24),o=n(83).resizeString,s=n(5),a=r.Model.extend({defaults:function(){return{user:{fullName:"",email:""}}},initialize:function(){this.listenTo(s,"stream:type:USER_LOGIN_INFO",this._onStreamUpdate)},getFullName:function(e,t){return o(this.get("user").fullName,e,t)},getEmail:function(e,t){return o(this.get("user").email,e,t)},getSessionId:function(){return this.get("sessionId")},getAccountCode:function(){return this.get("account")?this.get("account").accountCode:null},_onStreamUpdate:function(e){e.user.fullName=e.user.fullName.replace(/'/g,"").trim(),this.set(e),s.trigger("user:info",this.toJSON())}});i.exports=a}.call(t,n,t,e))||(e.exports=r)}).call(this,n(24))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(24),o=n(5),s=n(8),a=n(193).setFavoriteInstruments,l=r.Model.extend({defaults:function(){return{favorites:[]}},getFavorites:function(){return this.get("favorites")},initialize:function(){this.listenTo(o,"stream:type:FAVOURITES",this._onStreamUpdate)},updateFavorites:function(e,t){var i=n(66),r=this.getFavorites();return"add"===t?-1===r.indexOf(e)&&(r.push(e),this.set("favorites",r)):"remove"===t&&-1!==r.indexOf(e)&&(r.splice(r.indexOf(e),1),this.set("favorites",r)),s.updateFavorites(i.getAtmosphereId(),e,t).then((function(){o.trigger("favorites:update")}))},_onStreamUpdate:function(e){e=e.filter((function(e){return""!==e})),store.dispatch(a(e)),this.set("favorites",e)}});i.exports=l}.call(t,n,t,e))||(e.exports=r)}).call(this,n(24))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(24),o=n(5),s=n(8),a=n(193).updateAccountMetrics,l=n(63).MARGIN_VALUES,c=n(393).calcAvailableForWithdrawal,u=l.BONUS_AMOUNT_CHECK_PERIOD,d=l.RISK_LEVEL_MAX,p=r.Model.extend({defaults:function(){return{accountId:0,balance:0,buyingPower:0,equity:0,margin:0,profitLoss:0,riskLevel:0,activeBonusesAmount:0}},initialize:function(){var e=this;this.listenTo(o,"stream:type:ACCOUNT_METRICS",this._onStreamUpdate),this.listenTo(o,"user:active_bonus:reload",this.load),this.activeBonusAmountCheck=setInterval((function(){return e.loadActiveBonusesAmount()}),u)},load:function(){return this.loadActiveBonusesAmount()},destroy:function(){clearInterval(this.activeBonusAmountCheck),r.Model.prototype.destroy.call(this)},getAccountId:function(){return this.get("accountId")},getBalance:function(){return this.get("balance")},getBuyingPower:function(){return this.get("buyingPower")},getEquity:function(){return this.get("equity")},getProfitLoss:function(){return this.get("profitLoss")},getRiskLevel:function(){return isNaN(this.get("riskLevel"))||Math.abs(this.get("riskLevel").toFixed(0))===d?null:+this.get("riskLevel").toFixed(0)},getMarginUsed:function(){return this.get("margin")},getMaintenanceMargin:function(){return this.get("maintenanceMargin")},getAvailableForWithdrawal:function(){var e=n(6);return c(this.get("availableBalanceForWithdrawal"),this.getActiveBonusesAmount(),e.getUserPendingDeposit())},getActiveBonusesAmount:function(){return this.get("activeBonusesAmount")||0},loadActiveBonusesAmount:function(){return s.loadActiveBonusesAmount().then(this.loadActiveBonusesAmountSuccess.bind(this))},loadActiveBonusesAmountSuccess:function(e){this.set("activeBonusesAmount",e.data)},_onStreamUpdate:function(e){e.balance>this.getBalance()&&o.trigger("user:balance:updated"),this.set(e);var t=this.toJSON();o.trigger("user:account-metrics",t),store.dispatch(a(t))}});i.exports=p}.call(t,n,t,e))||(e.exports=r)}).call(this,n(24))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(24),o=n(5),s=n(193).updateAccountSettings,a=r.Model.extend({defaults:function(){return{liquidationLevel:0,marginAlertLevel2:1,disableMarginChecks:!1}},initialize:function(){this.listenTo(o,"stream:type:ACCOUNT_SETTINGS",this._onStreamUpdate)},getLiquidationLevel:function(){return this.get("liquidationLevel")},getMarginAlertLevel2:function(){return this.get("marginAlertLevel2")},getDisableMarginChecks:function(){return this.get("disableMarginChecks")},_onStreamUpdate:function(e){this.set(e),o.trigger("user:account-settings",this.toJSON()),store.dispatch(s(this.toJSON()))}});i.exports=a}.call(t,n,t,e))||(e.exports=r)}).call(this,n(24))},function(e,t,n){(function(i,r,o){var s;void 0===(s=function(e,t,i){var o=n(24),s=n(5),a=n(1),l=n(8),c=n(9),u=n(266),d=o.Model.extend({detected:!1,defaults:function(){return{status:"inactive"}},initialize:function(){r("body").on("click",(function(){s.trigger("user:session:prolong")})),this.listenTo(s,"app:ready",this.startSessionTimer),this.listenTo(s,"user:session:prolong",this.prolongSession),this.listenTo(s,"user:session:confirm-activity",this.confirmActivity),this.listenTo(s,"user:session:close",this.closeSession),this.listenTo(s,"platform:switch",this.clearSessionTimer)},markSessionAsActive:function(){this.set("status","active"),s.trigger("session:active")},markSessionAsInactive:function(){this.set("status","inactive"),s.trigger("session:inactive")},isSessionActive:function(){return"active"===this.get("status")},isSessionInactive:function(){return!this.isSessionActive()},detect:function(e){var t=this,i=n(6);if(!a.isFunction(e))throw new Error("Callback must be a function");this.detected=!1,i.loadUserData().then((function(){t.detected=!0,t.markSessionAsActive(),e("active"),s.trigger("session:detected")})).catch((function(){t.detected=!0,t.markSessionAsInactive(),e("inactive"),s.trigger("session:detected")}))},isDetected:function(){return this.detected},startSessionTimer:function(){this.prolongSession();var e=this,t=setInterval((function(){var t=Date.now()-e.get("lastActivity");t>c.getLogoutTimeout()?s.trigger("user:session:close"):t>c.getInactivityConfirmationTimeout()&&(e.get("confirmationShown")||(s.trigger("ui:inactivity-confirmation"),e.set("confirmationShown",!0))),l.checkSession().catch((function(){e.clearSessionTimer(),s.trigger("ui:connection-lost")}))}),5e3);this.set("timer",t)},clearSessionTimer:function(){var e=this.get("timer");e&&clearInterval(e)},prolongSession:function(){this.get("confirmationShown")||this.set("lastActivity",Date.now())},confirmActivity:function(){this.set("confirmationShown",!1),s.trigger("user:session:prolong")},closeSession:function(){var e=n(6);this.markSessionAsInactive(),this.clearSessionTimer(),this.set("confirmationShown",!1),Promise.all([e.logout(),u.externalLogout()]).then((function(){window.location.reload()}))}});i.exports=d}.call(t,n,t,e))||(e.exports=s)}).call(this,n(24),n(12),n(1))},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var r=n(24),o=n(1),s=n(8),a=n(125),l=n(54),c=n(285),u=n(451).DEVICES;return r.Model.extend({initialize:function(e){this.options=e},createNewAccount:function(e){var t={appSource:u[c.device()],params:o.extend({uid:a.getMachineId()},a.getMarketsXTrackingParameter(),a.getAffiliateTracking(),a.getReferrer())};return o.extend(t,e),s.register(t).then((function(){return s.changeLanguage(l.getCurrentLanguage())})).then((function(){return a.removeAffiliateTracking()}))}})}.call(t,n,t,e))||(e.exports=o)}).call(this,n(24),n(1))},function(e,t){e.exports=""},function(e,t,n){var i;void 0===(i=function(e,t,n){var i=Object.freeze({ARABIC:"ar",CZECH:"cz",DANISH:"da",DUTCH:"nl",FINNISH:"fi",FRENCH:"fr",GERMAN:"de",GREEK:"el",ITALIAN:"it",NORWEGIAN:"no",POLISH:"pl",RUSSIAN:"ru",SPANISH:"es",SWEDISH:"sv",ENGLISH:"en"});n.exports={LANGUAGE:i}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}void 0===(i=function(e,t,i){var o=n(43),s=n(5),a="application_settings",l="asideBoxOpened",c="floatingOpenPositionsEnabled",u="chartHeight";i.exports=new(o.extend({defaults:function(){var e;return r(e={instrumentDetailsStatus:"closed",selectedInstruments:{},"signals:isFloated":!1},l,!0),r(e,c,!1),r(e,"chartVisibility","visible"),e},constructor:function(){var e=localStorage.getItem(a);o.prototype.constructor.apply(this,arguments),e&&this.set(JSON.parse(e))},initialize:function(){this.listenTo(s,"ui:aside-box-opened",this.asideBoxOpened),this.listenTo(s,"ui:click:floating:open-positions",this.floatingOpenPositionsEnabled)},set:function(){var e=o.prototype.set.apply(this,arguments);return this.save(),e},save:function(){localStorage.setItem(a,JSON.stringify(this.toJSON()))},asideBoxOpened:function(){return arguments.length?this.set(l,arguments[0]):this.get(l)},floatingOpenPositionsEnabled:function(){return arguments.length?this.set(c,arguments[0]):this.get(c)},chartHeight:function(){if(!arguments.length)return this.get(u);parseFloat(arguments[0])>0?this.set(u,arguments[0]):this.unset(u,{silent:!0})},getChartVisibility:function(){return this.get("chartVisibility")}}))}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,i){n(1);var r=n(43),o=n(5),s=n(8);i.exports=r.extend({defaults:function(){return{eligibleForBonuses:!1,fullRegistrationBonusTermsAndConditionsAccepted:"false",proofOfId:!1,proofOfResidence:!1,requiresAdditionalData:!0,requiresDocumentsUpload:!0,tradeConfirmationRequired:!1,secondTradeConfirmationRequired:!1}},initialize:function(){this.listenTo(o,"request:fxstart:success",this.loadDataCompliance)},load:function(){this.loadDataCompliance()},loadDataCompliance:function(){s.queryDataCompliance().then(this.loadSuccess.bind(this)).catch(this.loadError.bind(this))},loadSuccess:function(e){this.set(e.data),o.trigger("user:load:data-compliance:success")},loadError:function(e){},isTradeConfirmationRequired:function(){return this.get("tradeConfirmationRequired")},isSecondTradeConfirmationRequired:function(){return this.get("secondTradeConfirmationRequired")}})}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(43),s=n(5),a=n(8),l=n(3),c=l.APPROVED,u=l.PENDING,d=l.IN_PROCESS;i.exports=o.extend({initialize:function(){this.listenTo(s,"user:login",this.onLogin)},onLogin:function(){return n(6).isFullRegistrationCompleted()?this.load():this.loadSuccess({})},load:function(){return a.queryCreditCardsDetailed().then(this.loadSuccess.bind(this)).catch(this.loadError.bind(this))},loadSuccess:function(e){return this.set("creditCards",e.data),s.trigger("user:load:credit-card:success"),Promise.resolve(e)},loadError:function(e){return Promise.reject(e)},isVerified:function(){return r.every(this.get("creditCards"),(function(e){return e.frontStatus===c&&e.backStatus===c}))},isUploaded:function(){return r.every(this.get("creditCards"),(function(e){return e.frontStatus===u||e.frontStatus===d||e.backStatus===u||e.backStatus===d}))},reLoad:function(){return this.load()},getCardByNumber:function(e){return r.findWhere(this.get("creditCards"),{number:e})}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(24),o=n(5),s=n(8),a=n(3),l=a.CONFIRM,c=a.REJECT,u=a.ACCOUNT_TRADING_TYPE,d=n(193),p=n(27);i.exports=r.Model.extend({load:function(){return s.loadCustomerInfo().then(this.loadSuccess.bind(this)).catch(this.loadError.bind(this))},loadSuccess:function(e){return this.set(e.data),store.dispatch(d.updateUserData(e.data)),o.trigger("user:data:update"),Promise.resolve(e)},loadError:function(e){return Promise.reject(e)},getAccount:function(){return p.getActiveCrmboAccount(store.getState())},getAccountId:function(){return this.getAccount().id},getUserName:function(){return p.getUserName(store.getState())},getPlatformAccountId:function(){return p.getUserPlatformAccountId(store.getState())},getExternalLogin:function(){return p.getUserExternalLogin(store.getState())},getTinData:function(){return p.getUserTinData(store.getState())},getCrmboAccounts:function(){return p.getUserTradingAccounts(store.getState())},isFullRegistrationCompleted:function(){return p.isUserFullRegistrationCompleted(store.getState())},isCompliance:function(){return p.isUserCompliance(store.getState())},isComplianceSuspended:function(){return p.isUserComplianceSuspended(store.getState())},isLimitedCompliance:function(){return p.isUserLimitedCompliance(store.getState())},isPendingCompliance:function(){return p.isUserPendingCompliance(store.getState())},isComplianceSuspendedGroundInactivity:function(){return p.isUserComplianceSuspendedGroundInactivity(store.getState())},isComplianceSuspendedGroundExpiration:function(){return p.isUserComplianceSuspendedGroundExpiration(store.getState())},isComplianceSuspendedGroundOther:function(){return p.isUserComplianceSuspendedGroundOther(store.getState())},isPendingComplianceGroundPendingECDD:function(){return p.isUserPendingComplianceGroundPendingECDD(store.getState())},isPendingComplianceGroundPhoneVerification:function(){return p.isUserPendingComplianceGroundPhoneVerification(store.getState())},isNotEEACompliance:function(){return p.isUserNotEEACompliance(store.getState())},setFirstDeposit:function(e){o.trigger("user:change:firstDeposit"),store.dispatch(d.updateFirstDeposit(e))},isFirstDeposit:function(){return p.isUserFirstDeposit(store.getState())},getFirstDeposit:function(){return p.getUserFirstDeposit(store.getState())},getDepositEnabled:function(){return p.getUserDepositEnabled(store.getState())},isTradeEnabled:function(){return p.isUserTradeEnabled(store.getState())},isElectiveProfessionalEnabled:function(){return p.isUserElectiveProfessionalEnabled(store.getState())},isForcePasswordChange:function(){return p.isUserForcePasswordChange(store.getState())},isPromotionMarketsX:function(){return p.isUserPromotionMarketsX(store.getState())},hasCustomerSelectedCompany:function(){return p.isUserCustomerSelectedCompany(store.getState())},confirmCompanyMismatch:function(){return p.getUserConfirmCompanyMismatch(store.getState())},quantRanksConsent:function(){return p.getUserQuantranksConsent(store.getState())},updateConfirmCompanyMismatch:function(e){store.dispatch(d.updateUserConfirmCompanyMismatch(e))},hasPendingConfirmSelectedCompany:function(){return p.isUserPendingConfirmSelectedCompany(store.getState())},confirmRegulationCompanyMismatch:function(){this.updateConfirmCompanyMismatch(l)},rejectRegulationCompanyMismatch:function(){this.updateConfirmCompanyMismatch(c)},setBrandCompanyData:function(e){store.dispatch(d.updateUserBrandCompanyData(e))},isCustomerLevelGoalAlert:function(){return p.isUserCustomerLevelGoalAlert(store.getState())},getUserTotalDeposits:function(){return p.getUserTotalDoneDeposits(store.getState())},getAdditionalDepositForMarketX:function(){return p.getUserAdditionalDepositForMarketX(store.getState())},getMarketxThreshold:function(){return p.getUserMarketxThreshold(store.getState())},getPartnerCompanyNameKey:function(){return p.getUserPartnerCompanyNameKey(store.getState())},setPartnerCompanyNameKey:function(e){store.dispatch(d.updatePartnerCompanyNameKey(e))},getScoreLevel:function(){return p.getUserScoreLevel(store.getState())},setScoreLevel:function(e){store.dispatch(d.updateScoreLevel(e))},getCountry:function(){return p.getUserCountry(store.getState())},setCountry:function(e){store.dispatch(d.updateCountry(e))},getCitizenship:function(){return p.getUserCitizenship(store.getState())},setCitizenship:function(e){store.dispatch(d.updateCitizenship(e))},setFirstName:function(e){store.dispatch(d.updateFirstName(e))},setLastName:function(e){store.dispatch(d.updateLastName(e))},getPhone:function(){return p.getUserPhone(store.getState())},setPhone:function(e){store.dispatch(d.updatePhone(e))},setDateOfBirth:function(e){store.dispatch(d.updateDateOfBirth(e))},setAddress:function(e){store.dispatch(d.updateAddress(e))},setZipCode:function(e){store.dispatch(d.updateZipCode(e))},setCity:function(e){store.dispatch(d.updateCity(e))},getPassword:function(){return p.getUserPassword(store.getState())},setPassword:function(e){store.dispatch(d.updatePassword(e))},getEmail:function(){return p.getUserEmail(store.getState())},setEmail:function(e){store.dispatch(d.updateEmail(e))},getLanguage:function(){return p.getUserLanguage(store.getState())},setLanguage:function(e){store.dispatch(d.updateUserLanguage(e))},getNationalCountryIdentifier:function(){return p.getUserNationalCountryIdentifier(store.getState())},inBonusRestrictedCountries:function(){return p.isUserBonusRestrictedCountries(store.getState())},setNationalCountryIdentifier:function(e){store.dispatch(d.updateNationalCountryIdentifier(e))},getPersonalData:function(){return p.getUserFormatedPersonalData(store.getState())},getCustomerId:function(){return p.getUserCustomerId(store.getState())},getBrandLogoFileName:function(){return p.getUserBrandLogoFileName(store.getState())},getTradingType:function(){return p.getUserTradingType(store.getState())},isSpreadBetting:function(){return this.getTradingType()===u.SPREAD_BETTING}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(24))},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var r=n(24),o=n(1),s=n(5),a=n(8),l=n(285),c=n(451).DEVICES,u=n(9);return r.Model.extend({defaults:function(){return{remembered:!1,logoutReasons:[]}},_isLoggedIn:!1,setUserModel:function(e){this._userModel=e},initialize:function(){this.listenTo(s,"session:active",o.partial(this.setLoginState,!0)),this.listenTo(s,"session:inactive",o.partial(this.setLoginState,!1)),this.fetch()},save:function(){localStorage.setItem("user.login",JSON.stringify(this.toJSON()))},setLoginState:function(e){this._isLoggedIn=!!e},login:function(e,t){return this.simpleLoginRequest(e,t)},externalAuthLogin:function(e,t){return this.externalAuthLoginRequest(e,t)},simpleLoginRequest:function(e,t){var n=this;e.appSource=c[l.device()];var i=a.simpleLogin(e).then(this.simpleLoginRequestSuccess.bind(this,e));return t&&i.then(this.generateEvent.bind(this)),i.catch((function(e){return n.simpleLoginRequestError(e)}))},autoLogin:function(e,t){var n=this,i=a.autoLogin(e,c[l.device()]).then(this.autoLoginSuccess.bind(this));return t&&i.then(this.generateEvent.bind(this)),i.catch((function(e){return n.simpleLoginRequestError(e)}))},autoLoginSuccess:function(e){return __eventos("onBoardFlow:login:afterLoginAction"),this.setLoginState(!0),this._userModel.loadUserData()},externalAuthLoginRequest:function(e,t){return a.externalAuthLogin(e,t).then(this.externalAuthLoginRequestSuccess.bind(this))},simpleLoginRequestSuccess:function(e,t){return __eventos("onBoardFlow:login:afterLoginAction"),this.setLoginState(!0),!0===e.remember&&t.data.rememberMeToken&&this.set({remembered:t.data.rememberMeToken}),this.save(),Promise.resolve(t)},simpleLoginRequestError:function(e){var t=this.formatError(e);return s.trigger("user:login:error",t),Promise.reject(t)},externalAuthLoginRequestSuccess:function(e){return __eventos("onBoardFlow:login:afterLoginAction"),this.setLoginState(!0),this.save(),Promise.resolve(e)},externalAuthLoginRequestError:function(e){var t=this.formatError(e);return s.trigger("user:login:error",t),Promise.reject(t)},logout:function(){return this.logoutRequest()},logoutRequest:function(){return this.clearRememberedData(),this.setLoginState(!1),a.makeLogout()},generateEvent:function(e){return s.trigger("user:login",e),e},formatError:function(e){return{message:{401:__("login.incorrect_username_or_password"),429:__("login.too_many_login_attempts"),400:__("login.inactive_user_error"),406:__("login.inappropriateness_score")}[e.response&&e.response.status||0]||e.message}},isLoggedIn:function(){return this._isLoggedIn},wasLoggedIn:function(){return!!localStorage.getItem("user.login")},fetch:function(){var e=localStorage.getItem("user.login");if(e)try{e=JSON.parse(e),this.set(e,{silent:this.isLoggedIn()})}catch(e){}},autoLoginRequest:function(){var e=this.getRememberData();return e?this.autoLogin(e).then((function(){return s.trigger("start:detect:session")})):Promise.reject()},remember:function(e,t){var n=t.data.rememberMeToken;return this.set({remembered:n}),this.save(),t},getRememberData:function(){var e=this.get("remembered");return e||!1},isLogoutReasonEqual:function(e){return-1!==this.get("logoutReasons").indexOf(e)},addLogoutReason:function(e){this.get("logoutReasons").push(e)},clearLogoutReason:function(){this.set("logoutReasons",[])},isRemembered:function(){return!o.isEmpty(this.getRememberData())},clearRememberedData:function(){this.clear({silent:!0}),this.set(this.defaults()),this.save()},isForcePasswordChange:function(){return this._userModel.isForcePasswordChange()},needForcePasswordChange:function(){return u.isForcePasswordChangeEnabled()&&this.isForcePasswordChange()}})}.call(t,n,t,e))||(e.exports=o)}).call(this,n(24),n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(24),o=n(5),s=n(8);n(9);i.exports=r.Model.extend({token:null,load:function(e){return s.loadQueryToken(e).then(this.loadSuccess.bind(this)).catch(this.loadError.bind(this))},loadSuccess:function(e){return this.token=e.data,o.trigger("user:token"),Promise.resolve(e)},loadError:function(e){return this.token=null,Promise.reject(e)},getToken:function(){return this.token}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(24))},function(e,t,n){(function(i,r){var o,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};void 0===(o=function(e,t,i){var r=n(24),o=n(5),a=n(8),l=n(16),c=n(9),u=n(750),d=n(1),p=n(63),f=p.DEFAULT_OPEN_POSITION_MODE,h=p.DEFAULT_TRADING_VIEW_MODE,m=p.DEFAULT_CHART_MODE,g=p.DEFAULT_CHART_MODE_MARKETSX,v=p.TRADING_CENTRAL_ENABLED_KEY,b=n(61),_=b.GMT,y=b.LOCAL,E=b.CHART_MODE_OPTIONS,S=n(193).updateFavorites,C=n(127),w=C.SETTINGS_IS_ADVANCED_DASHBOARD_SERVICES_PRIMARY_EXPANDED,O=C.SETTINGS_IS_ADVANCED_DASHBOARD_SERVICES_SECONDARY_EXPANDED,T=n(33).default;i.exports=r.Model.extend({defaults:{settings:{openPositionMode:null,tradingViewMode:null,userTimezoneObject:{id:_,displayName:"",offset:0,gmt:_}}},load:function(){return a.loadCommonData().then(this.loadSuccess.bind(this)).catch(this.loadError.bind(this))},loadSuccess:function(e){var t=u.recursive(this.defaults,e.data),i=t&&t.settings&&t.settings.favorites,r=e.data&&e.data.settings&&e.data.settings.portfolios||{};t.settings.portfolios=r,this.set(t);var s=n(208).setSettings,a=e.data.settings;return T.getSize().height<650&&(a[w]=!1,a[O]=!1),window.store.dispatch(s(a)),o.trigger("user:common:data:update"),this.loadCurrentTimezone(),d.isArray(i)&&window.store.dispatch(S(i,!1)),Promise.resolve(e)},loadError:function(e){return Promise.reject(e)},loadCurrentTimezone:function(){a.getTimezoneCurrent().then(this.loadCurrentTimezoneSuccess.bind(this)).catch(this.loadCurrentTimezoneError.bind(this))},loadCurrentTimezoneSuccess:function(e){var t=n(108),i=e.data,r=i.id,o=i.offset,a=this.get("settings").userTimezoneObject,l=c.isTimezoneEnabled(),u=l?t.defined(o):t.default,p=s({id:y,displayName:__("user.timezone.local")},t.local.getUserTimezoneObjectItem()),f=s({},e.data,{gmt:u.GMTPostfix(),displayName:__("user.timezone."+e.data.id.replace(/[^\w]/,"_").toLowerCase())}),h=void 0;return a.displayName=__("user.timezone.gmt"),h=!l||d.isNil(r)||d.isNil(o)?a:r===p.id?p:f,this.setUserTimezoneObject(h),Promise.resolve(e)},loadCurrentTimezoneError:function(e){return Promise.reject(e)},getSelectedLanguage:function(){return this.get("settings").selectedLanguage},isFirstLogin:function(){return!1!==this.get("settings").firstLogin},saveSelectedLanguage:function(e){return this.get("settings").selectedLanguage=e,a.changeLanguage(e),a.storeSettings({selectedLanguage:e})},getAppTheme:function(){return this.get("settings").appTheme},getAppThemeId:function(){return"dark"===this.get("settings").appTheme?1:0},saveAppTheme:function(e){return this.get("settings").appTheme=e,a.storeSettings({appTheme:e})},saveOpenPositionMode:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.get("settings").openPositionMode=e,t)return a.storeSettings({openPositionMode:e})},getOpenPositionMode:function(){return this.get("settings")&&this.get("settings").openPositionMode||f},isOpenPositionModeSet:function(){return!(!this.get("settings")||!this.get("settings").openPositionMode)},saveTradingSettings:function(e){return this.get("settings").tradingSettings=e,a.storeSettings({tradingSettings:e})},getTradingSettings:function(){return this.get("settings").tradingSettings},saveInteractiveTradingSettings:function(e){return this.get("settings").interactiveTradingSettings=e,a.storeSettings({interactiveTradingSettings:e})},getInteractiveTradingSettings:function(){return this.get("settings").interactiveTradingSettings},saveUserTimezoneId:function(e){return this.get("settings").userTimezone=e,a.storeSettings({userTimezone:e})},getUserTimezoneId:function(){return this.get("settings").userTimezone},saveMyAccountActiveFields:function(e){return this.get("settings").myAccountActiveFields=e,a.storeSettings({myAccountActiveFields:e})},getMyAccountActiveFields:function(){return this.get("settings").myAccountActiveFields},saveMyAccountPosition:function(e){return this.get("settings").myAccountPosition=e,a.storeSettings({myAccountPosition:e})},getMyAccountPosition:function(){return this.get("settings").myAccountPosition},setUserTimezoneObject:function(e){this.get("settings").userTimezoneObject=e},getUserTimezoneObject:function(){return this.get("settings").userTimezoneObject||this.defaults.settings.userTimezoneObject},getTradingCentralSettings:function(){return this.get("settings")["chart.setting/tradingCentral"]},setTradingCentralSettings:function(e){this.get("settings")["chart.setting/tradingCentral"]=e},wasTradingCentralEnabled:function(){return!0===this.get("settings")[v]},isTradingCentralEnabled:function(){return d.isObject(this.getTradingCentralSettings())},saveTradingCentralEnabled:function(e){this.get("settings")[v]=e;var t={};return t[v]=e,a.storeSettings(t)},getAllIndicators:function(){return this.get("chartSettings").studies},getPeriods:function(){return this.get("chartSettings").periods},getRanges:function(){return this.get("chartSettings").ranges},getPeriodRangePairs:function(){return this.get("chartSettings").pairs},getActiveIndicators:function(){return this._parseSettings(this.get("settings")["chart.setting/studies"])},saveActiveIndicators:function(e){e=JSON.stringify(e),this.get("settings")["chart.setting/studies"]=e,a.storeSettings({"chart.setting/studies":e})},getInactiveIndicators:function(){return this._parseSettings(this.get("settings")["chart.setting/studies_inactive"],{})},saveInactiveIndicators:function(e){e=JSON.stringify(e),this.get("settings")["chart.setting/studies_inactive"]=e,a.storeSettings({"chart.setting/studies_inactive":e})},getChartSettings:function(){return this.get("settings")["chart.setting/indigo"]},saveChartSettings:function(e){e=JSON.stringify(e),this.get("settings")["chart.setting/indigo"]=e,a.storeSettings({"chart.setting/indigo":e})},getDrawingSettings:function(e){return e?this._parseSettings(this.get("settings")["chart.setting/drawings"],{})[e]:this._parseSettings(this.get("settings")["chart.setting/drawings"],{})},saveDrawingSettings:function(e,t){var n=this.getDrawingSettings();n[e]=t,n=JSON.stringify(n),this.get("settings")["chart.setting/drawings"]=n,a.storeSettings({"chart.setting/drawings":n})},getMultiChartsSettings:function(){return this._parseSettings(this.get("settings")["chart.setting/multiCharts"])},saveMultiChartsSettings:function(e){var t=this,n=this.getMultiChartsSettings();return n=JSON.stringify(d.extend({},n,e)),this.get("settings")["chart.setting/multiCharts"]=n,a.storeSettings({"chart.setting/multiCharts":n}).then((function(e){return t.trigger("multicharts:updated"),Promise.resolve(e)}))},getMultiChartsInactiveIndicators:function(){return this._parseSettings(this.get("settings")["chart.setting/multiCharts_studies_inactive"],[])},saveMultiChartsInactiveIndicators:function(e){e=JSON.stringify(e),this.get("settings")["chart.setting/multiCharts_studies_inactive"]=e,a.storeSettings({"chart.setting/multiCharts_studies_inactive":e})},_parseSettings:function(e,t){if(d.isUndefined(e)||d.isNull(e))return t;if(!d.isString(e))return e;try{return JSON.parse(e)}catch(e){return t}},getTradingViewMode:function(){return this.get("settings")&&this.get("settings").tradingViewMode||h},saveTradingViewMode:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.get("settings").tradingViewMode=e,t)return a.storeSettings({tradingViewMode:e})},isAdvancedTradingView:function(){return"advanced"===this.getTradingViewMode()},isTradingViewModeSet:function(){return!(!this.get("settings")||!this.get("settings").tradingViewMode)},saveChartMode:function(e){return this.get("settings").chartMode=e,a.storeSettings({chartMode:e})},getChartMode:function(){var e=this.get("settings");if(e&&d.contains(E,e.chartMode))return e.chartMode;var t=n(6);return t.isPromotionMarketsX()||t.isEligibleForMarketsX()||t.getUserLevelsModel().isMarketsX()?g:m},getEyeCountVisibleTimes:function(){return this._parseSettings(this.get("settings")["eye.setting/count_visible_times"],0)},saveEyeCountVisibleTimes:function(e){return this.get("settings")["eye.setting/count_visible_times"]=e,a.storeSettings({"eye.setting/count_visible_times":e})},getStartWeekForEye:function(){return this._parseSettings(this.get("settings")["eye.setting/start_week"],l().week()-1)},saveStartWeekForEye:function(e){return this.get("settings")["eye.setting/start_week"]=e,a.storeSettings({"eye.setting/start_week":e})},getInvestIndicator:function(){return this._parseSettings(this.get("settings").hideInvestIndicator,!1)},saveInvestIndicator:function(e){return this.get("settings").hideInvestIndicator=e,a.storeSettings({hideInvestIndicator:e})},getIntervalForEye:function(){return this._parseSettings(this.get("settings")["eye.setting/interval"],null)},saveIntervalForEye:function(e){return this.get("settings")["eye.setting/interval"]=e,a.storeSettings({"eye.setting/interval":e})},getMultiChartsPendingStatus:function(){var e=this.get("settings").multiCharts_pending_status;return e?+e:void 0},saveMultiChartsPendingStatus:function(e){return this.get("settings").multiCharts_pending_status=e,a.storeSettings({multiCharts_pending_status:e})},saveShowTooltipStatus:function(e){this.get("settings").showTooltip=e;var t=n(6),i=void 0;try{i=JSON.parse(localStorage.getItem("showTooltip"))||{}}catch(e){i={}}i[t.getCustomerId()]=e,localStorage.setItem("showTooltip",JSON.stringify(i))},getShowTooltipStatus:function(){var e=n(6);try{return JSON.parse(localStorage.getItem("showTooltip"))[e.getCustomerId()]}catch(e){return!1}},getSettings:function(){return this.get("settings")}})}.call(t,n,t,e))||(e.exports=o)}).call(this,n(24),n(1))},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var r=n(24),o=n(5),s=n(8),a=n(1);i.exports=r.Model.extend({promise:null,initialize:function(){this.listenTo(o,"user:awards:reload",this.load)},load:function(){return this.promise=s.loadAwards().then(this.loadSuccess.bind(this)).catch(this.loadError.bind(this)),this.promise},loadSuccess:function(e){return this.set(e.data),o.trigger("user:awards:update"),Promise.resolve(this)},loadError:function(e){return Promise.reject(e)},ready:function(e){this.promise.then(e)},getBonuses:function(e){var t=this.get("bonusesMap")[e];if(a.isEmpty(t))return{};var n=t.bonuses;return n||{}},getManualBonus:function(){return this.getBonuses().manual},getPendingBonus:function(){return this.getBonuses().pending},getAutomaticBonus:function(){return this.getBonuses().automatic},getComplianceBonus:function(){return this.getBonuses().compliance},getInstantComplianceBonus:function(){return this.getBonuses().instant_compliance},getEligibleCompliance:function(){return this.getBonuses().eligible_compliance},getSasPendingBonus:function(){return this.getBonuses().sas_pending},getVerifiedIdBonus:function(e){return this.getBonuses(e).verified_id},getVerifiedResidenceBonus:function(e){return this.getBonuses(e).verified_residence},hasFullRegistrationBonus:function(e){return a.isNumber(this.getFullRegistrationBonus(e))},getFullRegistrationBonus:function(e){return this.getBonuses(e).full_registration},getCompleteVerificationBonus:function(){return this.getBonuses().complete_verification},getDepositBonus:function(e){var t=this.get("bonusesMap")[e];return a.isEmpty(t)?null:t.depositBonuses},isFirstDepositExists:function(e){var t=this.get("bonusesMap")[e];return!a.isEmpty(t)&&!a.isEmpty(t.depositBonuses)&&!a.isEmpty(t.depositBonuses.all)},getFirstDepositBonus:function(){return this.getBonuses().first_deposit},getExtraFirstDepositBonus:function(){return this.getBonuses().extra_first_deposit},getQuizAsicBonus:function(e){return this.getBonuses(e).quiz_asic},getSmsVerificationBonus:function(){return this.getBonuses().sms_verification},getPopularDeposit:function(e){var t=this.get("bonusesMap")[e];if(a.isEmpty(t))return null;var n=t.depositBonuses,i=n&&n.popular;return i?i.deposit:null},getPopularDepositBonus:function(e){var t=this.get("bonusesMap")[e];if(a.isEmpty(t))return null;var n=t.depositBonuses,i=n&&n.popular;return i?i.bonus:null}})}.call(t,n,t,e))||(e.exports=o)}).call(this,n(24),n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(43),s=n(5),a=n(8),l=n(9);i.exports=o.extend({defaults:function(){return{requests:[],hasRequests:!1,count:0}},initialize:function(){o.prototype.initialize.apply(this,arguments),this.listenTo(s,"app:session:active",this.load)},hasBonusRequests:function(){return this.get("hasRequests")},getBonusRequests:function(){return this.get("requests")},getBonusesCount:function(){return this.get("count")},loadBonusRequests:function(){return a.queryBonusRequests().then(this.loadBonusRequestsSuccess.bind(this))},loadBonusRequestsSuccess:function(e){var t=r.groupBy(e.data,"tradingAccountId"),n=e.data.length;return r.isEmpty(t)||(this.set({hasRequests:!0,requests:t,count:n}),s.trigger("user:bonus_requests:update")),Promise.resolve(this)},load:function(){var e=this;l.isBonusesEnabled()&&(this.listenTo(s,"user:info",this.loadBonusRequests),this.refreshBonusRequests=setInterval((function(){return e.loadBonusRequests()}),1e3*l.getBonusRequestsRefreshPeriodSec()))},destroy:function(){clearInterval(this.refreshBonusRequests),o.prototype.destroy.call(this)},canShowMultipleBonusRequests:function(e){return l.canMergeMultipleBonusRequests()&&e.length>1}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(24),o=n(5),s=n(8),a=n(377),l=n(567),c=n(9),u=n(752).onLoadPriceAlertsSuccess,d=n(3).TRADING_TOOLS,p=r.Model.extend({_alerts:null,initialize:function(){r.Model.prototype.initialize.apply(this,arguments),this.listenTo(o,"app:session:active",this.loadAllAlertsData),this.listenTo(o,"user:logout",this.onUserLogout)},loadAllAlertsData:function(){var e=this;c.isLive()&&c.checkTradingToolEnabled(d.PRICEALERTS).then((function(t){t&&Promise.all([e.loadAlerts(),e.loadAlertTypes()]).then((function(){a.loadData(e._alerts),o.trigger("price-alerts:get-existed")})).catch((function(e){}))}))},loadAlerts:function(){var e=this,t=n(6).getUserAccountData();return!t||s.priceAlertsList(t.platformAccountId).then((function(t){e._alerts=t.data,store.dispatch(u(t.data))})).catch((function(e){}))},loadAlertTypes:function(){return s.priceAlertsGetTypes().then((function(e){l.loadData(e.data)})).catch((function(e){}))},onUserLogout:function(){var e=this;c.isLive()&&c.checkTradingToolEnabled(d.PRICEALERTS).then((function(t){t&&(e.eventsOff(),a.reset())}))},getAlertTypes:function(){return l},getAlerts:function(){return a}});i.exports=p}.call(t,n,t,e))||(e.exports=r)}).call(this,n(24))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,r){var o=n(43),s=n(1329),a=n(751),l=o.extend({idAttribute:"id",defaults:{id:null,description:null,functionName:null,localizationKey:null,params:{},createTime:null,sendTo:{},status:1,modificationTime:null,weight:0,alertTypeGroup:null},initialize:function(e){var t=this;this.set(e,{silent:!0}),i.isUndefined(s[this.getId()])||(i.each(s[this.getId()],(function(e,n){t[n]=e}),this),i.isUndefined(a[this.alertTypeGroup])||this.set("alertTypeGroup",a[this.alertTypeGroup],{silent:!0}),i.isUndefined(this.gridValueFormatter)&&(this.gridValueFormatter=function(e){return e}),i.isUndefined(this.gridLabel)&&(this.gridLabel="tab.price-alerts.grid.columns.amount"),i.isUndefined(this.weight)&&this.set("weight",this.getId(),{silent:!0}))},getId:function(){return this.get("id")},getLocalizationKey:function(){return this.get("localizationKey")}});r.exports=l}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){var i;void 0===(i=function(e,t,n){var i={Buy:"tab.price-alerts.description-labels.tipranks_consensus.paramValue1.buy",Sell:"tab.price-alerts.description-labels.tipranks_consensus.paramValue1.sell",Neutral:"tab.price-alerts.description-labels.tipranks_consensus.paramValue1.neutral","Strong Buy":"tab.price-alerts.description-labels.tipranks_consensus.paramValue1.strong_buy","Strong Sell":"tab.price-alerts.description-labels.tipranks_consensus.paramValue1.strong_sell"},r={step:1,precision:1,min:0,max:100},o={min:[0,"it's min"],max:[100,"it's max"]},s={3:{fieldsNames:["paramValue1"],defaultValue:{paramValue1:5},getFieldOptions:function(){return{paramValue1:{step:.1,precision:2,min:-1e4,max:1e4}}},getFieldRules:function(){return{paramValue1:{min:[-1e4,"it's min"],max:[1e4,"it's max"]}}},renderClass:{paramValue1:"daily.change"},isFluctuate:{paramValue1:!1},templates:{paramValue1:"spin.html"},templatesData:{paramValue1:{}},getGridLabel:"tab.price-alerts.grid.columns.percent"},7:{fieldsNames:["paramValue1"],defaultValue:{paramValue1:80},getFieldOptions:{paramValue1:r},getFieldRules:{paramValue1:o},renderClass:{paramValue1:"sentiment"},isFluctuate:{paramValue1:!1},templates:{paramValue1:"spin.html"},templatesData:{paramValue1:{}},getGridLabel:"tab.price-alerts.grid.columns.percent"},8:{fieldsNames:["paramValue1"],defaultValue:{paramValue1:80},getFieldOptions:{paramValue1:r},getFieldRules:{paramValue1:o},renderClass:{paramValue1:"sentiment"},isFluctuate:{paramValue1:!1},templates:{paramValue1:"spin.html"},templatesData:{paramValue1:{}},getGridLabel:"tab.price-alerts.grid.columns.percent"},9:{fieldsNames:["paramValue1"],defaultValue:function(e){return{paramValue1:e.getBid()+20*e.getPrecisionSize()}},getFieldOptions:function(e){return{paramValue1:{step:e.getPrecisionSize(),precision:e.getPrecision(),min:e.getPrecisionSize()}}},getFieldRules:function(e){return{paramValue1:{min:[e.getPrecisionSize(),"it's min"]}}},renderClass:{paramValue1:"price.alert"},isFluctuate:{paramValue1:!0},templates:{paramValue1:"spin.html"},templatesData:{paramValue1:{}},getGridLabel:"tab.price-alerts.grid.columns.sell.rate"},10:{fieldsNames:["paramValue1","paramValue2","paramValue3"],defaultValue:{paramValue1:"",paramValue2:"",paramValue3:"0:0:5"},getFieldOptions:{paramValue1:{},paramValue2:{},paramValue3:{}},getFieldRules:{paramValue1:{max_length:[255,"Title max 255"]},paramValue2:{not_empty:"Can not be empty",max_length:[255,"Title max 255"]},paramValue3:{}},renderClass:{paramValue1:"price.alert",paramValue2:"price.alert",paramValue3:"price.alert"},isFluctuate:{paramValue1:!1,paramValue2:!1,paramValue3:!1},templates:{paramValue1:"title.html",paramValue2:"description.html",paramValue3:"remind.html"},templatesData:{paramValue1:{},paramValue2:{},paramValue3:{}},gridLabel:"tab.price-alerts.grid.amount-cell.label.reminder"},11:{fieldsNames:["paramValue1"],defaultValue:{paramValue1:"Buy"},getFieldOptions:{},getFieldRules:{paramValue1:{}},renderClass:{paramValue1:"tipranks.consensus"},isFluctuate:{paramValue1:!1},templates:{paramValue1:"select.html"},templatesData:{paramValue1:{selectOptions:i}},alertTypeGroup:100,gridValueFormatter:function(e){return __(i[e])},gridLabel:"tab.price-alerts.grid.amount-cell.label.tipranks_consensus"},12:{fieldsNames:["paramValue1"],defaultValue:function(e){return{paramValue1:e.getBid()+20*e.getPrecisionSize()}},getFieldOptions:function(e){return{paramValue1:{step:e.getPrecisionSize(),precision:e.getPrecision(),min:e.getPrecisionSize()}}},getFieldRules:function(e){return{paramValue1:{min:[e.getPrecisionSize(),"it's min"]}}},renderClass:{paramValue1:"price.alert"},isFluctuate:{paramValue1:!0},templates:{paramValue1:"spin.html"},templatesData:{paramValue1:{}},alertTypeGroup:100,gridLabel:"tab.price-alerts.grid.columns.amount"},13:{fieldsNames:["paramValue1"],defaultValue:{paramValue1:5},getFieldOptions:function(){return{paramValue1:{step:.1,precision:2,min:-1e4,max:1e4}}},getFieldRules:function(){return{paramValue1:{min:[-1e4,"it's min"],max:[1e4,"it's max"]}}},renderClass:{paramValue1:"daily.change"},isFluctuate:{paramValue1:!1},templates:{paramValue1:"spin.html"},templatesData:{paramValue1:{}},alertTypeGroup:100,gridLabel:"tab.price-alerts.grid.columns.percent"}};n.exports=s}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var r=n(24),o=(n(5),n(16)),s=n(8),a=n(1),l=n(1003),c=n(968);i.exports=r.Model.extend({defaults:function(){return{documents:[],approvedByElectronicVerification:!1}},load:function(){return s.getDocuments().then(this.loadSuccess.bind(this)).catch(this.loadError.bind(this))},loadSuccess:function(e){return this.set("documents",e.data.documents),this.set("approvedByElectronicVerification",e.data.approvedByElectronicVerification),this.set("callScheduled",e.data.callScheduled),Promise.resolve(this)},loadError:function(e){return Promise.reject(e)},hasDocumentInReview:function(){return!this.documentsApprovedByEV()&&a.chain(this.get("documents")).map((function(e){return a.contains([l.IN_PROCESS,l.PENDING],e.status)})).some().value()},hasBothDocumentsInReview:function(){return!this.documentsApprovedByEV()&&(!!this.isDocumentsUploaded()&&a.every(this.get("documents"),(function(e){return a.contains([c.PROOF_OF_RESIDENCE,c.PROOF_OF_ID],e.type)&&a.contains([l.IN_PROCESS,l.PENDING],e.status)})))},hasDocumentExpired:function(){return!this.documentsApprovedByEV()&&a.chain(this.get("documents")).map((function(e){return e.status==l.EXPIRED})).some().value()},hasDocumentRejected:function(){return!this.documentsApprovedByEV()&&a.chain(this.get("documents")).map((function(e){return e.status==l.REJECTED})).some().value()},hasDocumentPendingExpiration:function(){return!this.documentsApprovedByEV()&&a.chain(this.get("documents")).map((function(e){return e.status==l.PENDING_EXPIRATION})).some().value()},hasDocumentPendingExpirationSoon:function(){if(this.documentsApprovedByEV())return!1;var e=!1;return a.chain(this.get("documents")).map((function(t){if(t.status==l.PENDING_EXPIRATION){var n=1e3*o().add(14,"days").unix();(!t.expirationDate||t.expirationDate<=n)&&(e=!0)}})),e},getDocuments:function(){return this.get("documents")},documentsApprovedByEV:function(){return this.get("approvedByElectronicVerification")},isDocumentsApproved:function(){var e=this.get("documents");return!!this.documentsApprovedByEV()||!a.isEmpty(e)&&a.chain(e).map((function(e){return e.status==l.APPROVED})).every().value()},isSomeDocumentsApproved:function(){var e=this.get("documents");return!!this.documentsApprovedByEV()||!a.isEmpty(e)&&a.chain(e).map((function(e){return e.status==l.APPROVED})).some().value()},isDocumentsApprovedByEV:function(){return this.documentsApprovedByEV()},isDocumentsUploaded:function(){var e=this.get("documents"),t=!1,n=!1;return a.each(e,(function(e){e.type==c.PROOF_OF_RESIDENCE&&(n=!0),e.type==c.PROOF_OF_ID&&(t=!0)})),t&&n},isSomeDocumentsUploaded:function(){var e=this.get("documents");return a.some(e,(function(e){return e.type==c.PROOF_OF_RESIDENCE||e.type==c.PROOF_OF_ID}))}})}.call(t,n,t,e))||(e.exports=o)}).call(this,n(24),n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(24),o=n(9);i.exports=r.Model.extend({load:function(){return o.checkTradingCentralEnabled().then(this.loadSuccess.bind(this))},loadSuccess:function(e){return this.set({tradingCentral:e}),Promise.resolve(e)},isTradingCentralAvailable:function(){return this.get("tradingCentral")}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(24))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(24);i.exports=r.Model.extend({defaults:function(){return{impressionCount:0,nextCheck:-1}},initialize:function(){this.fetch()},fetch:function(){var e=localStorage.getItem("add_to_home_screen");e&&this.set(JSON.parse(e))},save:function(){var e=JSON.stringify(this.toJSON());localStorage.setItem("add_to_home_screen",e)},getNextCheck:function(){return this.get("nextCheck")},getImpressionCount:function(){return this.get("impressionCount")},setNextCheck:function(e){this.set("nextCheck",e),this.save()},setImpressionCount:function(e){this.set("impressionCount",e),this.save()},incImpressionCount:function(){this.setImpressionCount(this.getImpressionCount()+1)}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(24))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(24),o=n(8);n(1);i.exports=r.Model.extend({defaults:function(){return{webinars:[]}},getWebinars:function(e){return this.promise=o.getWebinars(e).then(this.loadSuccess.bind(this)).catch(this.loadError.bind(this)),this.promise},load:function(){var e=n(6).getCustomerId();return this.getWebinars(e)},loadSuccess:function(e){return this.set("webinars",e.data.webinars),Promise.resolve(this)},loadError:function(e){return Promise.reject(e)},ready:function(e){this.promise.then(e)}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(24))},function(e,t,n){(function(i,r,o){var s;void 0===(s=function(e,t,i){var r=n(24),s=n(1),a=n(8),l=n(9),c=n(5);i.exports=r.Model.extend({_checkAccountLevel:null,_upgradePopup:null,defaults:function(){return{levels:[],isTcAccepted:!1,isEnable:!1,isShowUpgradePopup:!1}},initialize:function(){this.listenTo(c,"user:balance:updated",this.onUpdateBalance)},load:function(){return l.checkCustomerLevelsEnabled().then(function(e){if(e)return this.set({isEnable:e}),this.loadLevels().then(function(e){var t=e.data;if(t.length>0)return this.set({levels:t}),Promise.all([this.checkTcAccept(),this.checkPromotion()]).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))}.bind(this))}.bind(this)).catch(this.loadError.bind(this))},onUpdateBalance:function(){this.isMarketsX()||this.load().then(function(e){if(this.isEnable()&&!this.isMarketsX())if(this.loadLevels(),e[1].data)this.showUpgradePopup();else{this._checkAccountLevel&&clearInterval(this._checkAccountLevel),this._checkAccountLevel=setInterval(function(){this.checkPromotion().then(function(e){e.data&&(this.showUpgradePopup(),clearInterval(this._checkAccountLevel),this._checkAccountLevel=null)}.bind(this))}.bind(this),5e3),setTimeout(function(){this._checkAccountLevel&&(clearInterval(this._checkAccountLevel),this._checkAccountLevel=null)}.bind(this),2e4)}}.bind(this))},loadLevels:function(){return a.getCustomerLevels().then(function(e){return this.set({levels:e.data}),Promise.resolve(e)}.bind(this)).catch(this.loadError.bind(this))},checkPromotion:function(){return a.isShowLevelPromotion().then(function(e){return this.set({isShowUpgradePopup:e.data}),Promise.resolve(e)}.bind(this)).catch(this.loadError.bind(this))},checkTcAccept:function(){return a.isTcAccepted().then(function(e){return this.set({isTcAccepted:e.data}),Promise.resolve(e)}.bind(this)).catch(this.loadError.bind(this))},loadError:function(e){return Promise.reject(e)},getLevels:function(){return this.get("levels")},getAmount:function(){var e=this.getMarketsXLevel();return e?""+__currency(e.currency)+e.amount:"0$"},getMarketsXLevel:function(){return s.find(this.getLevels(),(function(e){return"MarketsX"===e.name}))},getSelectedLevel:function(){return s.find(this.getLevels(),(function(e){return e.selected}))},getIdForLevel:function(e){return s.find(this.getLevels(),(function(t){return t.name===e})).id},isTcAccepted:function(){return this.get("isTcAccepted")},isEligibleForMarketsX:function(){return!!this.getMarketsXLevel()&&this.getMarketsXLevel().eligible},isPromotionMarketsX:function(){return!!this.getMarketsXLevel()&&this.getMarketsXLevel().requested},isEnable:function(){return this.get("isEnable")&&this.getLevels().length>0},isShowUpgradePopup:function(){return this.get("isShowUpgradePopup")},isMarketsX:function(){return this.getSelectedLevel()&&s.isMatch(this.getSelectedLevel(),{name:"MarketsX"})},acceptTcForMarketsX:function(){return a.acceptTcForMarketsX().then(function(e){return this.set({isTcAccepted:!0}),Promise.resolve(e)}.bind(this)).catch((function(e){return Promise.reject(e)}))},declineTcForMarketsX:function(){return a.declineTcForMarketsX().then(function(e){return this.set({isTcAccepted:!1}),Promise.resolve(e)}.bind(this)).catch((function(e){return Promise.reject(e)}))},acceptForMarketsX:function(e){return a.acceptForMarketsX(this.getIdForLevel(e)).then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},declineForMarketsX:function(){return a.declineForMarketsX().then((function(e){return Promise.resolve(e)})).catch((function(e){return Promise.reject(e)}))},showUpgradePopup:function(e,t){this._upgradePopup||(this._upgradePopup=new(n(1335))({parent:o(".wrapper"),isHeaderShowed:!1,caption:__("withdraw.title"),previousCaption:__("actions.back"),headerStyle:"wizard",maxBoxWidth:"100%",showBoxShadow:!1,showHeader:!1,overlayTranslucent:"1",onCancel:t||function(){},onSuccess:e||function(){},addClass:"marketsX-popup-update",style:"marketsX"}))},showPromotionPopup:function(e,t){new(n(1362))({parent:o(".wrapper"),isHeaderShowed:!1,headerStyle:"wizard",boxWidth:"100%",showBoxShadow:!1,showHeader:!1,overlayTranslucent:"1",onSuccess:e||s.noop,onCancel:t,addClass:"marketsX-popup-promotion",style:""})}})}.call(t,n,t,e))||(e.exports=s)}).call(this,n(24),n(1),n(12))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(70),s=r.template(n(1337)),a=n(753),l=n(0),c=n(22),u=n(6),d=n(1345),p=n(211),f=n(755),h=n(72),m=o.extend({name:"customer-level-upgrade",events:function(){return r.extend({},r.result(o.prototype,"events"),{"click .fn-submit-upgrade":"onSubmit","click .fn-no_thanks":"onCancel"})},initialize:function(e){o.prototype.initialize.apply(this,arguments),this.onSuccess=function(){e.onSuccess(),location.reload()},this.onDecline=e.onCancel,this.render(e)},render:function(e){o.prototype.render.call(this),this.$el.find(".responsive-panel").addClass(e.addClass),this.setContent(s({})),this.checkbox=new p({el:this.$el.find(".checkbox__input")[0]}),this.listenTo(this.checkbox,"change",this.changeCheckbox),this.disableSubmitButton(),c.render(l.createElement(d,{}),this.$el.find(".features_list")[0])},disableSubmitButton:function(){return this.$el.find(".fn-submit-upgrade").addClass("disabled"),this},enableSubmitButton:function(){return this.$el.find(".fn-submit-upgrade").removeClass("disabled"),this},changeCheckbox:function(e){this.checkbox.isChecked()?this.enableSubmitButton():this.disableSubmitButton()},close:function(){u.getUserLevelsModel()._upgradePopup=null,o.prototype.close.call(this)},onCancel:function(){this.unmount(),this.checkbox.destroy(),this.close(),u.getUserLevelsModel().declineForMarketsX(),this.onDecline()},unmount:function(){c.unmountComponentAtNode(this.$el.find(".features_list")[0])},onSubmit:function(){var e=this;this.checkbox.isChecked()&&(this.unmount(),this.close(),u.getUserLevelsModel().acceptForMarketsX("MarketsX").then((function(){h.applyMarketsX(!0),u.getUserCommonData().isAdvancedTradingView()?new a({parent:document.body,isHeaderShowed:!1,btnText:__("marketsX.popup.upgrade.congratulations.btn"),texts:[__("marketsX.popup.upgrade.congratulations.text1"),__("marketsX.popup.upgrade.congratulations.text2")],onOK:e.onSuccess}):new f({onSuccess:e.onSuccess})})))}});i.exports=m}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t){e.exports='<div class="hidden-sm hidden-md hidden-lg slide-box-overlay fn-close slide-box-overlay-translucent-<%-options.overlayTranslucent%>"></div> <div class="x-popup-box responsive-container" style="<%=options.style%>"> <div class="x-popup-panel responsive-panel <%- options.showBoxShadow ? \'responsive-panel-shadow\' : \'\' %>"> <div class=x-popup-holder> <div class=x-popup-content style="width: <%- options.boxWidth %>;max-width: <%- options.maxBoxWidth %>"> <div class=responsive-popup-content> <% if (options.isHeaderShowed) { %> <div class="x-popup-header hidden-xs responsive-header responsive-header-bg-style-<%-options.headerBgStyle%> responsive-header-style-<%-options.headerStyle%>"> <div class="header-caption <% if (options.headerStyle == \'instrument_details\'){ %>header-instrument-caption<%}%>"> <% if (options.headerStyle == \'default\' || options.headerStyle == \'autochartist\') { %> <%=options.caption%> <% } %> <% if (options.headerStyle == \'wizard\'){ %> <%=parseWizardHeader(options.caption)%> <% if (options.headerContent) { %> <span class=responsive-header-content><%=options.headerContent%></span> <% } %> <% } %> <%\n                                if (options.headerStyle == \'order\')\n                                {\n                                    var elements = (_.isArray(options.caption) ? options.caption : [options.caption]);\n                                    elements = options.caption.map(function(v) {\n                                        return \'<span>\'+v+\'</span>\';\n                                    });\n                                %> <div class=text><%=elements.join(\'<b>|</b>\')%></div> <div class=information><%=options.captionInfo%></div> <% } %> <% if (options.headerStyle == \'instrument_details\'){ %> <div class=header-instrument-title> <div class=instrument-details-title><%=options.instrument_title%></div> <div class=instrument-details-description><%=options.instrument_description%></div> </div> <div class=header-instrument-rates> <div class=instrument-sell-change><table><tr></tr></table></div> <div class=instrument-buy-change><table><tr></tr></table></div> </div> <% } %> </div> <% if(options.isMinimizable && options.isDraggable){%> <div class="header-actions fn-size size"> <i class="icon icon-minimize"></i> </div> <%}%> <div class="header-actions fn-close-popup btn"> <i class="icon-close-<%-options.closeIconStyle%>"></i> </div> </div> <div class="hidden-sm hidden-md hidden-lg responsive-header <%-options.headerCaptionStyle%>"> <div class="previous btn fn-previous"> <div class=arrow></div> <div class=caption><%=options.previousCaption%></div> </div> <div class=caption><%=(_.isArray(options.caption) ? options.caption[0] : options.caption)%></div> <div class=navigation-box></div> </div> <% } %> <div class="responsive-popup-body <% if (options.bodyStyle){ %><%-options.bodyStyle%><%}%>"></div> </div> </div> </div> </div> </div> '},function(e,t){e.exports="<div class=marketsX-popup-body> <div> <div class=content> <div class=content__logo> <span class=logo></span> </div> <div class=\"actions hidden-xs\"> <div class=\"fn-close-popup btn\"><i class=icon-close-grey></i></div> </div> <div class=content__main> <div class=content__main--description> <div class=sentence> <span><%= __('marketsX.popup.upgrade.congratulations') %></span> <%= __('marketsX.popup.upgrade.text.part1') %> </div> <div class=sentence> <%= __('marketsX.popup.upgrade.text.part2') %> </div> </div> <div class=content__main--features> <div class=header> <%= __('marketsX.popup.features.lists.header') %> </div> <div class=features_list> </div> </div> </div> <div class=content__footer> <div class=content__footer--terms> <div class=text><%= __('marketsX.popup.update.classic.text') %></div> <div class=terms> <div class=checkbox__input> <input type=checkbox value=terms id=checkboxInput name=\"\"/> <label for=checkboxInput></label> </div> <div> <%= __('marketsX.popup.upgrade.terms.text') %> </div> </div> </div> <button class=\"btn btn-primary btn-marketsX fn-submit-upgrade\"> <%= __('marketsX.popup.update.btn.upgrade') %> </button> <span class=fn-no_thanks><%= __('marketsX.popup.upgrade.btn.noThanks') %></span> </div> </div> </div> </div>"},function(e,t){e.exports="<div class=marketsX-popup-confirm></div>"},function(e,t){e.exports="<div class=\"popup-box popup-size-<%-options.size%> popup-valign-<%-options.valign%> popup-halign-<%-options.halign%> <%=options.nameClass%> \"> <div class=popup-panel> <div class=popup-holder> <div class=popup-content style=\"<%- options.boxWidth ? 'width:' + options.boxWidth + ';' : '' %><%- options.maxBoxWidth ? 'max-width:' + options.maxBoxWidth + ';' : '' %>\"> <% if (options.isHeaderShowed) { %> <div class=\"popup-header popup-header-bg-style-<%-options.headerBgStyle%> popup-header-style-<%-options.headerStyle%> hidden-xs\"> <div class=popup-header-icon></div> <div class=\"popup-caption flex flex-valign-center\"> <% if (options.headerStyle == 'default') { %> <span><%=_.first(options.caption)%></span>&nbsp;<span><%=_.rest(options.caption).join(' ')%></span> <% } %> <%\n                        if (options.headerStyle == 'order')\n                        {\n                            var elements = options.caption.map(function(v) {\n                                return '<span>'+v+'</span>';\n                            });\n                            %> <div class=text><%=elements.join('<b>|</b>')%></div> <div class=information><%=options.captionInfo%></div> <% } %> </div> <div class=\"popup-actions fn-close-popup btn\"> <i class=\"icon-close-<%-options.closeIconStyle%>\"></i> </div> </div> <% if (options.size == 'default') { %> <div class=\"popup-mobile-header visible-xs\"> <div class=\"prev btn fn-close-popup\"> <i class=\"icon arrow\"></i> </div> <div class=center> <%= _.isArray(options.caption) ? options.caption.join(' ') : options.caption %> </div> <div class=\"next btn\"></div> </div> <% } %> <% if (options.size == 'small') { %> <div class=\"popup-header popup-header-bg-style-<%-options.headerBgStyle%> popup-header-style-<%-options.headerStyle%> visible-xs\"> <div class=popup-header-icon></div> <div class=\"popup-caption flex flex-align-center\"> <span><%=_.first(options.caption)%></span>&nbsp;<span><%=_.rest(options.caption).join(' ')%></span> </div> </div> <% } %> <% } %> <div class=popup-body></div> </div> </div> </div> </div>"},function(e,t){e.exports="<div class=confirm-dialog> <div class=\"content <%=(options.hideCancelButton) ? 'single' : '' %> \"> <% if(options.showLogo){%> <div class=logotype-box> <span class=\"logotype <%=options.isLightTheme ? 'logotype--dark' : '' %>\"></span> </div> <%}%> <% if(options.showConfirmCaption){%> <div class=caption><%=options.confirmCaption%></div> <%}%> <div class=\"message <%= options.confirmMessageAlignment ? options.confirmMessageAlignment : '' %>\"> <%= options.confirmMessage %> </div> </div> <div class=actions> <% if (!options.hideCancelButton) { %> <div class=block-button> <button class=\"btn fn-cancel\"> <span class=\"flex flex-align-center flex-valign-center\"><%=options.confirmCancelBtnText%></span> </button> </div> <% } %> <div class=block-button> <button class=\"btn btn-primary fn-ok <%=(options.hideCancelButton)?'single':'' %>\"> <span class=\"flex flex-align-center flex-valign-center\"><%=options.confirmOKBtnText%></span> </button> </div> </div> </div> "},,,,function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0);n(1),n(5);i.exports=function(e){return r.createElement("div",null,r.createElement("div",{className:"popup__logo"},r.createElement("span",{className:"logo"})),r.createElement("div",{className:"popup__body"},r.createElement("div",{className:"content"},e.texts.map((function(e,t){return r.createElement("span",{key:t+1},e)}))),r.createElement("div",{className:"action"},r.createElement("div",{className:"block-button"},r.createElement("button",{className:"btn btn-primary single",onClick:e.onSubmit},r.createElement("span",{className:"flex flex-align-center flex-valign-center"},e.btnText))))))}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(1346).default,s=n(1347).default,a=n(31).default;i.exports=function(e){e.icon;return r.createElement("div",null,r.createElement(a,{desktop:!0,tablet:!0},r.createElement(o,null)),r.createElement(a,{mobile:!0},r.createElement(s,null)))}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(95);t.default=function(){return r.a.createElement("ul",{className:"list"},r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement(o.a,{icon:"icon-marketsX-popup-pricing"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.better.pricing")))),r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement(o.a,{icon:"icon-marketsX-popup-support"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.personal.support")))),r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement(o.a,{icon:"icon-marketsX-popup-news"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.advanced.trading.tools")))),r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement(o.a,{icon:"icon-marketsX-popup-tools"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.insights.and.news")))),r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement(o.a,{icon:"icon-marketsX-popup-sentiment"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.sentiment.tools")))),r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement(o.a,{icon:"icon-marketsX-popup-customization"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.customization")))))}},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(325),s=n.n(o),a=n(248),l=n(249),c=n(95),u=n(6),d=n.n(u);t.default=function(){var e=d.a.getUserCommonData(),t={dots:!0,autoplaySpeed:5e3,nextArrow:r.a.createElement(l.a,{icon:"icon-marketsX-popup-arrow-right-"+e.getAppTheme()}),prevArrow:r.a.createElement(a.a,{icon:"icon-marketsX-popup-arrow-left-"+e.getAppTheme()})};return r.a.createElement("div",{className:"marketsX-slider"},r.a.createElement(s.a,t,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(c.a,{icon:"icon-marketsX-popup-pricing"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.better.pricing")))),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(c.a,{icon:"icon-marketsX-popup-support"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.personal.support")))),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(c.a,{icon:"icon-marketsX-popup-news"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.advanced.trading.tools")))),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(c.a,{icon:"icon-marketsX-popup-tools"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.insights.and.news")))),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(c.a,{icon:"icon-marketsX-popup-sentiment"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.sentiment.tools")))),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(c.a,{icon:"icon-marketsX-popup-customization"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.customization"))))))}},,,,,,,,,,,,,,,function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(125),s=n(70),a=n(0),l=n(22),c=n(6),u=n(1363),d=n(211),p=n(73),f=r.template(n(1365)),h=s.extend({name:"customer-level-promotion",events:function(){return r.extend({},r.result(s.prototype,"events"),{"click .fn-submit":"onSubmit","click .fn-close-popup":"onCancel"})},initialize:function(e){s.prototype.initialize.apply(this,arguments),this.onSuccess=e.onSuccess,this.render(e)},render:function(e){s.prototype.render.call(this),this.$el.find(".responsive-panel").addClass(e.addClass);var t=c.getUserCommonData(),n=c.getUserCurrencySymbol();this.setContent(f({amount:p(c.getUserLevelsModel().getAmount()).formatForeignCurrency(n,"0,0"),theme:t.getAppTheme()})),this.checkbox=new d({el:this.$el.find(".checkbox__input")[0]}),l.render(a.createElement(u,{}),this.$el.find(".features_list")[0])},unmount:function(){l.unmountComponentAtNode(this.$el.find(".features_list")[0])},onCancel:function(){r.isFunction(this.options.onCancel)&&this.options.onCancel(),this.unmount(),this.checkbox.destroy(),this.close()},onSubmit:function(){var e=this,t=c.getUserLevelsModel();this.checkbox.isChecked()?(o.storeMarketsxFlag(),t.acceptTcForMarketsX().then((function(){return window.location.reload()}))):t.declineTcForMarketsX().then((function(){return Promise.all([t.loadLevels(),c.loadUserData(),c.getUserAwardsModel().load()]).then((function(){return e.onSuccess()}))})),this.close()}});i.exports=h}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(1364).default,s=n(756).default,a=n(31).default;i.exports=function(e){e.icon;return r.createElement("div",null,r.createElement(a,{desktop:!0,tablet:!0},r.createElement(o,null)),r.createElement(a,{mobile:!0},r.createElement(s,null)))}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(95);t.default=function(){return r.a.createElement("ul",{className:"list"},r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement(o.a,{icon:"icon-marketsX-popup-pricing"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.premiumPricing.title")),r.a.createElement("span",null,__("marketsX.popup.features.lists.premiumPricing.description")))),r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement(o.a,{icon:"icon-marketsX-popup-support"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.bespokeSupport.title")),r.a.createElement("span",null,__("marketsX.popup.features.lists.bespokeSupport.description")))),r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement(o.a,{icon:"icon-marketsX-popup-news"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.exclusiveTools.title")),r.a.createElement("span",null,__("marketsX.popup.features.lists.exclusiveTools.description")))),r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement(o.a,{icon:"icon-marketsX-popup-tools"})),r.a.createElement("div",null,r.a.createElement("span",null,__("marketsX.popup.features.lists.marketsKnowledgeCentre.title")),r.a.createElement("span",null,__("marketsX.popup.features.lists.marketsKnowledgeCentre.description")))))}},function(e,t){e.exports="<div class=marketsX-popup-body> <div> <div class=content> <div class=\"content__logo hidden-xs\"> <span class=logo></span> <span class=close-popup><i class=\"icon icon-marketsX-close-<%=theme%> fn-close-popup\"></i></span> </div> <div class=content__main> <div class=content__main--description> <div class=sentence> <%= __('account_settings.account-level.information.classic.title') %> </div> <div class=separator></div> <div class=sentence> <%= __('account_settings.account-level.information.classic.description.part1', amount) %> </div> <div class=sentence> <%= __('account_settings.account-level.information.classic.description.part2') %> </div> </div> <div class=content__main--features> <div class=header> <%= __('marketsX.popup.features.lists.header') %> </div> <div class=features_list> </div> </div> </div> <div class=content__footer> <div class=content__footer--terms> <div class=terms> <div class=checkbox__input> <input type=checkbox value=terms id=checkboxInput name=\"\"/> <label for=checkboxInput></label> </div> <div><%= __('marketsX.popup.promotion.terms') %></div> </div> </div> <button class=\"btn btn-primary btn-marketsX fn-submit\"> <%= __('marketsX.popup.promotion.btn.text') %> </button> <div class=\"close-popup-link fn-close-popup visible-xs\"><%=__('marketsX.popup.upgrade.btn.noThanks')%></div> </div> </div> </div> </div>"},function(e,t,n){var i;void 0===(i=function(e,t,i){n(1);var r=n(43),o=n(5),s=n(8),a=n(9);i.exports=r.extend({defaults:function(){return{eligible:!1,postponed:!1,quizName:"",retakeAfterHours:0}},initialize:function(){this.listenTo(o,"user:login",this.load)},load:function(){if(a.isMultipleQuizEnabled())return s.queryCustomerMultipleQuizStatus().then(this.loadSuccess.bind(this)).catch(this.loadError.bind(this))},loadSuccess:function(e){return this.set(e.data),Promise.resolve(e)},loadError:function(e){return Promise.reject(e)},isQuizEligible:function(){return this.get("eligible")&&!this.get("postponed")},isQuizPostponed:function(){return this.get("eligible")&&this.get("postponed")},whenCustomerCouldRetakeQuiz:function(){return this.get("retakeAfterHours")}})}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){},function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(43),o=n(26);i.exports=r.extend({idAttribute:"orderChainId",defaults:function(){return{accountId:0,amountIncrement:0,attached:!1,averagePrice:0,createdTime:0,filledQuantity:0,instrumentId:0,lastExecutionStatus:"",limitPrice:0,liquidation:!1,modifiedTime:0,ocoGroupCode:null,orderChainId:"",quantity:0,remainingQuantity:0,requestId:null,status:"",statusDescription:"",stopLimitPrice:0,stopLoss:null,stopPrice:"",stopPriceOffset:"",takeProfit:null,timeInForce:"",trailPrice:"",triggerPrice:1.08,type:""}},_isInstrumentLinked:!1,getInstrumentId:function(){return this.get("instrumentId")},getAction:function(){return this.get("quantity")>0?"Buy":this.get("quantity")<0?"Sell":void 0},getPrice:function(){return this.get("stopLimitPrice")},getLabel:function(){return"NaN"===this.get("stopPrice")?"above":"below"},isLimitPrice:function(){return"NaN"!==this.get("limitPrice")},getOrderChainId:function(){return this.get("orderChainId")},getInstrument:function(){return this.get("instrument")},isTakeProfit:function(){return!!this.get("takeProfit")},getTakeProfit:function(){return this.get("takeProfit").fixedPrice},isStopLoss:function(){return!!this.get("stopLoss")},getStopLoss:function(){return this.get("stopLoss").fixedPrice},getType:function(){return this.get("type")},set:function(){r.prototype.set.apply(this,arguments);var e=this.getInstrumentId(),t=!this._isInstrumentLinked&&e;if(t){var n=o.getInstrumentById(e);n&&(n.addOrder(this),this._isInstrumentLinked=!0)}return this}})}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(5),s=n(8),a="ERR",l=[],c=r.debounce((function(){s.log(l),l=[]}),3e3);function u(e,t){-1==String(t).indexOf("highstock")&&d(a,e,t)}function d(e,t,n,i){l.push({level:e,message:t,stack:n,data:i}),c()}window.onerror=function(e,t,n,i,r){u.apply(this,arguments)},o.on("log:error",(function(e,t,n){d(a,e,t,n)})),o.on("log:warn",(function(e,t,n){d("WARN",e,t,n)})),o.on("log:info",(function(e,t,n){d("INFO",e,t,n)}))}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},,,,,function(e,t){e.exports="<div class=\"field field-type-text-label\" name=\"<%=name%>\"> <label class=title> <% if (typeof title == 'undefined') { %> <%=__('wizard.field.label.' + translationKey)%> <% } else { %> <%=title%> <% } %> </label> <% if (typeof description !== 'undefined' && description) { %> <label class=description> <%=description%> </label> <% } %> </div> <div class=\"field field-type-select <%=(disable ? 'field-disabled' : '') + ' ' + (typeof disable === 'string' ? disable : '')%>\" name=\"<%=name%>\" data-field-depends=\"<%=typeof dependent !== 'undefined' ? _.pluck(dependent, 'name').join(' ') : ''%>\"> <label class=field-type-select__title> <span> <% if (typeof title == 'undefined') { %> <%=__('registration.field.label.' + translationKey)%> <% } else { %> <%=title%> <% } %> </span> <% if (typeof helpHintText !== 'undefined') { %> <span class=question-tooltip> <div class=tooltiptext> <%=helpHintText%> </div> </span> <% } %> </label> <% var value = 'EMPTY'; %> <div class=styled-select> <select class=form-control default-value=\"<%=value%>\"> <% _.each(options, function(option) { %> <% if (option === 'EMPTY') { %> <option value=EMPTY disabled=disabled selected=selected hidden> <%=typeof emptyText != 'undefined' ? emptyText : __('wizard.form.label.DEFAULT_EMPTY')%> </option> <% return %> <% } %> <% if (typeof isOptionDisabled === 'function' ? !isOptionDisabled(option) : true) { %> <option value=\"<%=typeof transformOptionsValue === 'function' ? transformOptionsValue(option) : option%>\"> <% } %> <% if (typeof transformOptionText === 'function') { %> <%= transformOptionText(option) %> <% } else if (typeof translationGroupPrefix !== 'undefined' && typeof translationPrefix == 'undefined') { %> <%=__(translationGroupPrefix + '.' + option)%> <% } else if (typeof translationGroupPrefix == 'undefined' && typeof translationPrefix !== 'undefined') { %> <%=__(translationPrefix) + option%> <% } else { %> <%=__(('reg.questionary.cysec.' + translationKey) + '.' + option)%> <% } %> </option> <% }); %> </select> </div> <div class=dk-select> <div class=dk-selected tabindex=0><%=typeof emptyText != 'undefined' ? emptyText : __('wizard.form.label.DEFAULT_EMPTY')%></div> <ul class=\"dk-select-options <%=typeof overflowOptions !== 'undefined' ? 'dk-select-overflow-options' : '' %>\" aria-expanded=false> <% _.each(options, function(option) { %> <% if (option !== 'EMPTY') { %> <li class=\"dk-option <%=typeof isOptionDisabled === 'function' && isOptionDisabled(option) ? 'disabled' : '' %>\" data-value=\"<%=typeof transformOptionsValue === 'function' ? transformOptionsValue(option) : option%>\" aria-label=\"<%=typeof transformOptionToAriaLabel === 'function' ? transformOptionToAriaLabel(option) : ''%>\"> <% if (typeof transformOptionText === 'function') { %> <%= transformOptionText(option) %> <% } else if (typeof translationGroupPrefix !== 'undefined' && typeof translationPrefix == 'undefined') { %> <%=__(translationGroupPrefix + '.' + option)%> <% } else if (typeof translationGroupPrefix == 'undefined' && typeof translationPrefix !== 'undefined') { %> <%=__(translationPrefix) + option%> <% } else { %> <%=__(('reg.questionary.cysec.' + translationKey) + '.' + option)%> <% } %> </li> <% } %> <% }); %> </ul> </div> <div class=field-tooltip> <div class=content></div> </div> </div> <div class=\"field field-type-multi-select-default <%=(disable ? 'field-disabled' : '') + ' ' + (typeof disable === 'string' ? disable : '')%>\" name=\"<%=name%>\" data-field-depends=\"<%=typeof dependent !== 'undefined' ? _.pluck(dependent, 'name').join(' ') : ''%>\"> <label> <span> <% if (typeof title == 'undefined') { %> <%=__('registration.field.label.' + translationKey)%> <% } else { %> <%=title%> <% } %> </span> <% if (typeof helpHintText !== 'undefined') { %> <span class=question-tooltip> <div class=tooltiptext> <%=helpHintText%> </div> </span> <% } %> </label> <% var value = 'EMPTY'; %> <div class=styled-select> <select class=form-control default-value=\"<%=value%>\" multiple=multiple> <% _.each(options, function(option) { %> <% if (option === 'EMPTY') { %> <option value=EMPTY disabled=disabled selected=selected hidden> <%=typeof emptyText != 'undefined' ? emptyText : __('wizard.form.label.DEFAULT_EMPTY')%> </option> <% return %> <% } %> <option value=\"<%=typeof transformOptionsValue === 'function' ? transformOptionsValue(option) : option%>\"> <% if (typeof transformOptionText === 'function') { %> <%= transformOptionText(option) %> <% } else if (typeof translationGroupPrefix !== 'undefined' && typeof translationPrefix == 'undefined') { %> <%=__(translationGroupPrefix + '.' + option)%> <% } else if (typeof translationGroupPrefix == 'undefined' && typeof translationPrefix !== 'undefined') { %> <%=__(translationPrefix) + option%> <% } else { %> <%=__(('reg.questionary.cysec.' + translationKey) + '.' + option)%> <% } %> </option> <% }); %> </select> <div class=multi-select-mobile-label></div> </div> <div class=\"dk-select chosen-elm\"> <div class=\"dk-selected chosen-header-wrapper\" tabindex=0> <%=typeof emptyText != 'undefined' ? emptyText : __('wizard.form.label.DEFAULT_EMPTY')%> </div> <div class=chosen-content-wrapper> <div class=chosen-header> <div class=chosen-total> <%= typeof totalSelectedText !== 'undefined' ? totalSelectedText : __('wizard.form.total_selected')%> <span></span> </div> <a class=chosen-reset><%= typeof resetText !== 'undefined' ? resetText : __('wizard.form.reset')%></a> </div> <ul class=\"dk-select-options <%=typeof overflowOptions !== 'undefined' ? 'dk-select-overflow-options' : '' %>\" aria-expanded=false> <% _.each(options, function(option) { %> <% if (option !== 'EMPTY') { %> <li class=dk-option data-value=\"<%=typeof transformOptionsValue === 'function' ? transformOptionsValue(option) : option%>\"> <input type=checkbox> <span class=dk-select-options__text> <% if (typeof transformOptionText === 'function') { %> <%= transformOptionText(option) %> <% } else if (typeof translationGroupPrefix !== 'undefined' && typeof translationPrefix == 'undefined') { %> <%=__(translationGroupPrefix + '.' + option)%> <% } else if (typeof translationGroupPrefix == 'undefined' && typeof translationPrefix !== 'undefined') { %> <%=__(translationPrefix) + option%> <% } else { %> <%=__(('reg.questionary.cysec.' + translationKey) + '.' + option)%> <% } %> </span> </li> <% } %> <% }); %> </ul> </div> </div> <div class=field-tooltip> <div class=content></div> </div> </div> <div class=\"field field-type-select-country <%=(disable ? 'field-disabled' : '') + ' ' + (typeof disable === 'string' ? disable : '')%>\" name=\"<%=name%>\" data-field-depends=\"<%=typeof dependent !== 'undefined' ? _.pluck(dependent, 'name').join(' ') : ''%>\"> <label><%=typeof title !== 'undefined' ? title : __('registration.field.label.' + translationKey)%></label> <% var value = 'EMPTY'; %> <% if (typeof defaultValue !== 'undefined') { %> <% value = defaultValue; %> <% } %> <div class=styled-select> <select class=form-control default-value=\"<%=value%>\"> <% _.each(options, function(option) { %> <% if (option === 'EMPTY') { %> <option value=EMPTY disabled=disabled selected=selected hidden> <%=__('wizard.form.label.DEFAULT_EMPTY')%> </option> <% return %> <% } %> <option value=\"<%= option%>\"> <%=__(translationGroupPrefix + '.' + option)%> </option> <% }); %> </select> </div> <div class=dk-select> <div class=dk-selected tabindex=0><%=__('wizard.form.label.DEFAULT_EMPTY')%></div> <ul class=dk-select-options aria-expanded=false> <% _.each(options, function(option) { %> <% if (option !== 'EMPTY') { %> <li class=dk-option data-value=\"<%=option%>\"> <span class=\"flag flag-<%=option.toLowerCase()%>\"></span> <%=__(translationGroupPrefix + '.' + option)%> </li> <% } %> <% }); %> </ul> </div> <div class=field-tooltip> <div class=content></div> </div> </div> <div class=\"field field-type-multi-checkbox <%=disable ? 'field-disabled' : ''%>\" name=\"<%=name%>\"> <div class=title><%=typeof title !== 'undefined' ? title : __('registration.field.label.' + translationKey)%></div> <% var value = ''; %> <% if (typeof savedData !== 'undefined' && savedData) { %> <% value = savedData.join(' '); %> <% } %> <div class=checkbox-group-column default-value=\"<%=value%>\"> <% _.each(options, function(option) { %> <% var addValue =options.length> 1? '.' + option: '' %> <input type=checkbox value=\"<%=option%>\" id=\"<%=translationKey + '_' + option%>\"> <label for=\"<%=translationKey + '_' + option%>\"> <%=__((typeof translationGroupPrefix !== 'undefined' ? translationGroupPrefix + addValue : ('registration.field.' + translationKey)))%> </label> <% }); %> <div class=field-tooltip> <div class=content></div> </div> </div> </div> <div class=\"field field-type-input <%=typeof dataBefore !== 'undefined' ? 'has-title' : ''%> <%=disable ? 'field-disabled' : ''%> \" name=\"<%=name%>\" data-before=\"<%=typeof dataBefore !== 'undefined' ? dataBefore: ''%>\" data-field-depends=\"<%=typeof dependent !== 'undefined' ? _.pluck(dependent, 'name').join(' ') : ''%>\"> <label><%=typeof title !== 'undefined' ? title : __('registration.field.label.' + translationKey)%></label> <% var value = ''; %> <% if (typeof defaultValue !== 'undefined') { %> <% value = defaultValue; %> <% } %> <% var hasPlaceholder = !!(typeof placeholder !== 'undefined' && placeholder); %> <input type=\"<%- (typeof type !== 'undefined') ? type : 'text'%>\" class=\"form-control input-field\" name=\"<%=name%>\" placeholder=\"<%=hasPlaceholder ? placeholder : ''%>\" default-value=\"<%=value%>\"> <% if (typeof conversion !== 'undefined') { %> <div class=field-conversion> <div class=content></div> </div> <% } %> <span class=field-status></span> <div class=field-tooltip> <div class=content></div> </div> </div> <div class=\"field field-type-input-addon <%=disable ? 'field-disabled' : ''%>\" data-field-depends=\"<%=typeof dependent !== 'undefined' ? _.pluck(dependent, 'name').join(' ') : ''%>\"> <label><%=typeof title !== 'undefined' ? title : __('registration.field.label.' + translationKey)%></label> <% var value = ''; %> <% if (typeof defaultValue !== 'undefined') { %> <% value = defaultValue; %> <% } %> <div class=\"form-control input-field flex flex-row\"> <input type=\"<%- (type !== 'undefined') ? type : 'text'%>\" class=flex-stretch name=\"<%=name%>\" default-value=\"<%=value%>\"> <% if (typeof addonText !== 'undefined') { %><div class=\"flex flex-valign-center field-addonText\"><%=addonText%></div><% } %> </div> <% if (typeof conversion !== 'undefined') { %> <div class=field-conversion> <div class=content></div> </div> <% } %> <span class=field-status></span> <div class=field-tooltip> <div class=content></div> </div> </div> <div class=\"field field-type-textarea <%=disable ? 'field-disabled' : ''%>\" data-field-depends=\"<%=typeof dependent !== 'undefined' ? _.pluck(dependent, 'name').join(' ') : ''%>\"> <label><%=typeof title !== 'undefined' ? title : __('registration.field.label.' + translationKey)%></label> <% var value = ''; %> <% if (typeof defaultValue !== 'undefined') { %> <% value = defaultValue; %> <% } %> <textarea rows=\"<%=settings.rows%>\" cols=\"<%=settings.cols%>\" class=\"form-control textarea-field\" name=\"<%=name%>\" default-value=\"<%=value%>\"></textarea> <div class=field-tooltip> <div class=content></div> </div> </div> <div class=\"field field-type-phone <%=disable ? 'field-disabled' : ''%>\"> <label><%=__('registration.field.label.' + translationKey)%></label> <% var value = ['','']; %> <% if (typeof savedData !== 'undefined' && savedData && !_.contains(savedData, '*')) { %> <% value[0] = savedData.slice(0, savedData.indexOf('-')) %> <% value[1] = savedData.slice(savedData.indexOf('-') + 1) %> <% } %> <div class=form-complex-inline-input> <div class=styled-select> <select class=form-control default-value=\"<%=value[0]%>\"> <% _.each(options.countries, function(option) { %> <option value=\"<%=option.value ? option.value : ''%>\"> <%=\"+\" + option.value%></option> <% }); %> </select> </div> <div class=dk-select> <% var countryCode = options.phoneToCountry[value[0]]%> <div class=dk-selected tabindex=0> <span class=\"flag flag-<%=countryCode ? countryCode.toLowerCase() : 'unknown' %>\"></span> <%= value[0] ? '+' + value[0] : ''%> </div> <ul class=dk-select-options aria-expanded=false> <% _.each(options.countries, function(option) { %> <li class=dk-option data-value=\"<%=option.value ? option.value : ''%>\"> <span class=\"flag flag-<%=option.code%>\"></span> <span class=select-code><%=\"+\" + option.value%></span> <span class=select-country><%= option.name%></span> </li> <%}); %> </ul> </div> <input type=text class=form-control name=\"<%=name%>\" default-value=\"<%=value[1]%>\"> </div> <span class=field-status></span> <div class=field-tooltip> <div class=content></div> </div> </div> <div class=\"field field-type-date <%=disable ? 'field-disabled' : ''%>\" name=\"<%=name%>\"> <label><%=__('registration.field.label.' + translationKey)%></label> <% var defaultValue = ['01', '01', '1930']; %> <% var value = ['01', '01', '1930']; %> <% var hasSavedData = !!(typeof savedData !== 'undefined' && savedData); %> <% if (hasSavedData) { %> <% value = savedData.split('/'); %> <% } %> <div class=form-complex-inline-input> <div class=styled-select> <select class=form-control name=day default-value=\"<%=hasSavedData ? value[0]: 'EMPTY'%>\"> <% if(!hasSavedData){%> <option value=EMPTY disabled=disabled selected=selected hidden> <%=__('registration.field.date_of_birth.day')%></option> <% } %> <% _.each(_.range(1, new Date(parseInt(value[2]), parseInt(value[1]), 0).getDate() + 1), function (num){ %> <% num = num < 10 ? ('0' + num) : num; %> <option value=\"<%=num%>\"> <%=num%></option> <%}); %> </select> </div> <div class=\"dk-select dk-day\"> <div class=dk-selected tabindex=0><%=hasSavedData ? value[0]:\n                __('registration.field.date_of_birth.day')%> </div> <ul class=dk-select-options aria-expanded=false> <% _.each(_.range(1, new Date(parseInt(value[2]), parseInt(value[1]), 0).getDate() + 1), function (num){ %> <% num = num < 10 ? ('0' + num) : num; %> <li class=dk-option data-value=\"<%=num%>\"><%=num%></li> <%}); %> </ul> </div> <%\n        var monthNames = options.splitByComma(__('calendar_monthNames'));\n        %> <div class=styled-select> <select class=form-control name=month default-value=\"<%=hasSavedData ? value[1]: 'EMPTY'%>\"> <% if(!hasSavedData){%> <option value=EMPTY disabled=disabled selected=selected hidden> <%=__('registration.field.date_of_birth.month')%> </option> <% } %> <% _.each(monthNames, function (name, i){ %> <% i = (i + 1) < 10 ? ('0' + (i + 1)) : (i + 1); %> <option value=\"<%=i%>\"> <%=name%></option> <% }); %> </select> </div> <div class=\"dk-select dk-month\"> <div class=dk-selected tabindex=0><%=hasSavedData ? monthNames[value[1].replace(/^0+/, '')-1]:\n                __('registration.field.date_of_birth.month')%> </div> <ul class=dk-select-options aria-expanded=false> <% _.each(monthNames, function (name, i){ %> <% i = (i + 1) < 10 ? ('0' + (i + 1)) : (i + 1); %> <li class=dk-option data-value=\"<%=i%>\"><%=name%></li> <%}); %> </ul> </div> <div class=styled-select> <select class=form-control name=year default-value=\"<%=hasSavedData ? value[2]: 'EMPTY'%>\"> <% _.each(_.range(parseInt(options.moment().subtract(options.minAge, 'y').utc().format(\"YYYY\")), parseInt(options.moment().subtract(options.maxAge, 'y').utc().format(\"YYYY\")), -1), function (num){ %> <option value=\"<%=num%>\"> <%=num%> </option> <%});%> <% if(!hasSavedData){%> <option value=EMPTY disabled=disabled selected=selected hidden> <%=__('registration.field.date_of_birth.year')%> </option> <% } %> </select> </div> <div class=\"dk-select dk-year\"> <div class=dk-selected tabindex=0><%=hasSavedData ? value[2]:\n                __('registration.field.date_of_birth.year')%> </div> <ul class=dk-select-options aria-expanded=false> <% _.each(_.range(parseInt(options.moment().subtract(options.minAge, 'y').utc().format(\"YYYY\")), parseInt(options.moment().subtract(options.maxAge, 'y').utc().format(\"YYYY\")), -1), function (num){ %> <li class=dk-option data-value=\"<%=num%>\"><%=num%></li> <%}); %> </ul> </div> </div> <div class=field-tooltip> <div class=content></div> </div> </div> <div class=\"field field-type-fatca <%=disable ? 'field-disabled' : ''%>\" name=\"<%=name%>\"> <label><%=__('registration.field.label.' + translationKey)%></label> <span><a href=\"<%=options[2].value%>\" target=_blank> <%=options[2].text%> </a></span> <% var value = ''; %> <% var hasSavedData = !!(typeof savedData !== 'undefined' && savedData); %> <% if (hasSavedData) { %> <% value = savedData %> <% } %> <div class=radio-group-row default-value=\"<%=hasSavedData ? value: ''%>\"> <label class=radio-inline><input type=radio name=\"<%=name%>_optradio\" value=\"<%=options[0].value%>\"><%=options[0].text%></label> <label class=radio-inline><input type=radio name=\"<%=name%>_optradio\" value=\"<%=options[1].value%>\"><%=options[1].text%></label> </div> <div class=field-tooltip> <div class=content></div> </div> </div> <div class=\"field field-type-financial-exp <%=disable ? 'field-disabled' : ''%>\" name=\"<%=name%>\"> <label><%=__('registration.field.label.' + translationKey)%></label> <% var value = ''; %> <% if (typeof savedData !== 'undefined' && savedData) { %> <% value = savedData %> <% } %> <div class=radio-group-row default-value=\"<%=value%>\"> <label class=radio-inline><input type=radio name=optradio value=\"<%=options[0].value%>\"><%=options[0].text%></label> <label class=radio-inline><input type=radio name=optradio value=\"<%=options[1].value%>\"><%=options[1].text%></label> <div class=field-tooltip> <div class=content></div> </div> </div> </div> <div class=\"field field-type-radio-description <%=disable ? 'field-disabled' : ''%>\" name=\"<%=name%>\"> <% var value = ''; %> <% var hasSavedData = !!(typeof savedData !== 'undefined' && savedData); %> <% if (hasSavedData) { %> <% value = savedData %> <% } %> <% if (typeof title !== 'undefined' && title) { %> <label><%=title%></label> <% } %> <% if (typeof description !== 'undefined' && description) { %> <div class=description><%=description%></div> <% } %> <% _.each(options, function(v) { %> <div> <label class=radio-inline> <% if (value.indexOf(v.valueOf()) !== -1 ) { %> <input type=radio name=radioDescr value=\"<%=v%>\" autocomplete=off checked=checked><%=__(translationGroupPrefix + '.' + v)%> <% } else { %> <input type=radio name=radioDescr value=\"<%=v%>\"><%=__(translationGroupPrefix + '.' + v)%> <% } %> </label> </div> <% }) %> <div class=field-tooltip> <div class=content></div> </div> </div> <div class=\"field field-type-radio <%=disable ? 'field-disabled' : ''%>\" name=\"<%=name%>\"> <div class=\"flex flex-row flex-valign-center\"> <% if (typeof tooltip != 'undefined') { %> <i class=\"icon icon-info\" data-tooltip-align=right aria-label=\"<%=tooltip%>\"></i><span>&nbsp;<%=label%>:</span> &nbsp; <% } %> <% _.each(items, function(v) { %> <label class=radio-inline> <% if (v.checked) { %> <input type=radio name=\"<%-name%>\" checked=checked value=\"<%=v.value%>\"><%=v.text%> <% } else { %> <input type=radio name=\"<%-name%>\" value=\"<%=v.value%>\"><%=v.text%> <% } %> <span class=checkmark></span> </label> <% }) %> </div> <div class=field-tooltip> <div class=content></div> </div> </div> <div class=\"field field-type-checkbox <%=disable ? 'field-disabled' : ''%> <%=typeof className !== 'undefined' ? className : '' %> \"> <% var value = ''; %> <% if (typeof savedData !== 'undefined' && savedData) { %> <% value = savedData %> <% } %> <div class=checkbox-row> <% if (typeof checked !== 'undefined' && checked === true) { %> <input type=checkbox value=\"<%=options.value%>\" id=\"<%=translationKey + '_' + options.value%>\" name=\"<%=name%>\" default-value=\"<%=value%>\" parse-string=\"<%=options.parseString ? 'true' : ''%>\" checked=true> <% } else { %> <input type=checkbox value=\"<%=options.value%>\" id=\"<%=translationKey + '_' + options.value%>\" name=\"<%=name%>\" default-value=\"<%=value%>\" parse-string=\"<%=options.parseString ? 'true' : ''%>\"> <% } %> <label for=\"<%=translationKey + '_' + options.value%>\"> <span class=checkbox_label_inline><%=typeof title !== 'undefined' ? title : __('registration.field.label.' + translationKey)%></span> </label> <% if (typeof hint != 'undefined') { %> <span class=question-tooltip data-tooltip-align=right aria-label=\"<%=hint%>\"></span> <% } %> <div class=field-tooltip> <div class=content></div> </div> </div> </div> <div class=\"field field-type-file <%=disable ? 'field-disabled' : ''%>\"> <div class=description><%-description%></div> <label class=fileContainer> <div class=title><%-title%></div> <div class=selected-files></div> <input type=file name=\"<%=name%>\"> </label> <div class=field-tooltip> <div class=content></div> </div> </div> <div class=\"field field-type-datepicker <%=disable ? 'field-disabled' : ''%>\"> <div class=field-element-container> <div class=form-inline> <div class=\"form-group inner-addon right-addon\"> <label for=\"<%-name%>-element\" class=\"flex flex-row flex-valign-center\"> <% if (typeof label != 'undefined') { %> <div class=label><%=label%></div> <% } %> <input type=text class=\"flex flex-stretch\" name=\"<%=name%>\" id=\"<%-name%>-element\"> <i class=\"glyphicon icon-calendar\"></i> </label> </div> </div> </div> <div class=field-tooltip> <div class=content></div> </div> </div> <div class=\"field field-type-timepicker <%=disable ? 'field-disabled' : ''%>\"> <div class=field-element-container> <div class=form-inline> <div class=\"form-group inner-addon right-addon\"> <label for=\"<%-name%>-element\" class=\"flex flex-row flex-valign-center\"> <% if (typeof label != 'undefined') { %> <div class=label><%=label%></div> <% } %> <input type=text class=\"flex flex-stretch\" name=\"<%=name%>\" id=\"<%-name%>-element\"> <i class=\"glyphicon icon-watch\"></i> </label> </div> </div> </div> <div class=field-tooltip> <div class=content></div> </div> </div> <div class=\"field field-type-multi-select <%=(disable ? 'field-disabled' : '') + ' ' + (typeof disable === 'string' ? disable : '')%>\" name=\"<%=name%>\" data-field-depends=\"<%=  _.isArray(dependent) ? _.pluck(dependent, 'name').join(' ') : ''%>\"> <label><%=typeof title !== 'undefined' ? title : __('registration.field.label.' + translationKey)%></label> <% var value = 'EMPTY'; %> <div class=styled-select> <select class=form-control default-value=\"<%=value%>\" multiple=multiple> <% _.each(options, function(option) { %> <% if (option !== 'EMPTY') { %> <option value=\"<%= option%>\"> <%=__(translationGroupPrefix + '.' + option)%> </option> <% } %> <% }); %> </select> <div class=multi-select-mobile-label></div> </div> <div class=multi-select></div> <div class=field-tooltip> <div class=content></div> </div> </div> <div class=\"field field-type-yes-no-details <%=disable ? 'field-disabled' : ''%>\" name=\"<%=name%>\" data-field-depends=\"<%=typeof dependent !== 'undefined' ? _.pluck(dependent, 'name').join(' ') : ''%>\"> <label><%=typeof title !== 'undefined' ? title : __('registration.field.label.' + translationKey)%> <% if (!!(typeof link !== 'undefined' && link)) { %> <span><a href=\"<%=link.href%>\" target=_blank><%=link.text%></a></span> <% } %> </label> <% var hasSavedData = !!(typeof savedData !== 'undefined' && savedData); %> <% var value = hasSavedData ? savedData : ''; %> <% var hasDetails = !!(typeof details !== 'undefined' && details); %> <div class=\"form-complex-inline-input <%=hasDetails ? details.type + '-details' : ''%>\"> <div class=radio-group-row default-value=\"<%=value%>\" details-option=\"<%=hasDetails ? details.option : ''%>\"> <label class=radio-inline><input type=radio name=\"<%=name%>_optradio\" value=\"<%=options[0].value%>\"><%=options[0].text%></label> <label class=radio-inline><input type=radio name=\"<%=name%>_optradio\" value=\"<%=options[1].value%>\"><%=options[1].text%></label> </div> <% if (hasDetails) { %> <% if (details.type == \"input\"){ %> <input type=text class=\"form-control input-field details-input-field <%= details.option === value ? '' : 'hidden' %>\" default-value=\"<%=details.value%>\" placeholder=\"<%=details.placeholder%>\" max_length=\"<%=details.max_length%>\" name=\"<%=name%>_details\"> <% } %> <% if (details.type == \"textarea\"){ %> <textarea type=text class=\"form-control input-field details-input-field <%= details.option === value ? '' : 'hidden' %> \" default-value=\"<%=details.value%>\" placeholder=\"<%=details.placeholder%>\" max_length=\"<%=details.max_length%>\" name=\"<%=name%>_details\">\n                </textarea> <% } %> <% } %> </div> <span class=field-status></span> <div class=field-tooltip> <div class=content></div> </div> </div> "},function(e,t,n){},function(e,t){e.exports='<div class="spin-number__input-container flex-stretch"></div> <div class="spin-number__controls flex flex-valign-center"> <div class="flex flex-column"> <div class="spin-number__control-up flex-stretch"></div> <div class=spin-number__control-slide></div> <div class="spin-number__control-down flex-stretch"></div> </div> </div> '},function(e,t,n){},function(e,t,n){},function(e,t){e.exports="<div class=\"field field-rollout field-type-rollout\"> <%=(title ? '<div class=\"field-title\">'+title+'</div>' : '')%> <div class=label> <div class=switcher> <label> <span class=\"flex flex-row flex-valign-center platform-features__controls\"> <%=(onText ? '<div>'+onText+'</div>' : '')%> <div class=platform-features__switcher> <div class=platform-features__switcher-body> <%=('<input type=\"checkbox\" name=\"'+name+'\" ' + (checked ? \"checked\" : \"\") + ' ' + (disable ? \"disabled\" : \"\") + ' class=\"ios-switch green small\"/>')%><div><div></div></div> </div> </div> <%=(offText ? '<div>'+offText+'</div>' : '')%> </span> </label> </div> </div> </div>"},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t){e.exports="<label class=\"slider-step-title hidden-sm hidden-md hidden-lg\"><%=__default('registration.step.title.' + model.get('title'),\"\")%></label> <div class=\"form <%=model.get('title')%>\"> <div class=top> <%_.each(model.get('top'), function (elem){ %> <%if (_.isFunction(elem.template)){%> <%=elem.template(elem)%> <%}%> <%})%> </div> <div class=form-body> <%_.each(model.get('form'), function (column, i, form){%> <div class=form-col> <%_.each(column, function (elem, i){%> <%if (_.isFunction(elem.template)){%> <%=elem.template(elem)%> <%}%> <%})%> </div> <div class=form-col-separator><div></div></div> <%});%> </div> <% if (!_.isEmpty(model.get('bottom'))) { %> <div class=bottom> <%_.each(model.get('bottom'), function (elem){ %> <%if (_.isFunction(elem.template)){%> <%=elem.template(elem)%> <%}%> <%})%> </div> <% } %> </div>"},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var o=n(1),s=n(16),a=n(54),l=n(243),c=n(176),u=o.template("                <% var range = typeof maxDays !== 'undefined' ? maxDays : (new Date(selectedYear, selectedMonth, 0).getDate() + 1); %>                <option value='EMPTY' disabled selected > <%=__('registration.field.date_of_birth.day')%> </option>                <% _.each(_.range(1, range), function (num){ %>                    <% num = num < 10 ? ('0' + num) : num; %>                    <option value='<%=num%>'> <%=num%> </option>                <%}); %>"),d=o.template("                <% var range = typeof maxDays !== 'undefined' ? maxDays : (new Date(selectedYear, selectedMonth, 0).getDate() + 1); %>                <% _.each(_.range(1, range), function (num){ %>                    <% num = num < 10 ? ('0' + num) : num; %>                    <li class='dk-option' data-value='<%=num%>'><%=num%></li>                <%}); %>"),p=o.template("                <%var monthNames = splitByComma(__('calendar_monthNames')); %>                <option value='EMPTY' disabled selected hidden> <%=__('registration.field.date_of_birth.month')%> </option>                <% _.each(_.range(1, maxMonths), function (num, i){ %>                    <% var name = monthNames[i];%>                    <% i = (i + 1) < 10 ? ('0' + (i + 1)) : (i + 1); %>                        <option value='<%=i%>'><%=name%></option>                <% }); %>"),f=o.template("                <%var monthNames = splitByComma(__('calendar_monthNames')); %>                <% _.each(_.range(1, maxMonths), function (num, i){ %>                    <% var name = monthNames[i];%>                    <% i = (i + 1) < 10 ? ('0' + (i + 1)) : (i + 1); %>                        <li class='dk-option' data-value='<%=i%>'><%=name%></li>                <% }); %>"),h=l.extend({events:function(){return o.extend({},o.result(l.prototype,"events"),{"click .fieldset-legend":"toggleContent","change [name=month]":"onMonthChange","change [name=year]":"onYearChange","click .dk-day .dk-option":"onChangeListDay","click .dk-month .dk-option":"onChangeListMonth","click .dk-year .dk-option":"onChangeListYear"})},listener:function(e){this.$el.find("[name=year]")[e]("onfocus",this.onFocus),this.$el.find("[name=month]")[e]("onfocus",this.onFocus),this.$el.find("[name=day]")[e]("onfocus",this.onFocus),this.$el.find("[name=year]")[e]("onblur",this.onBlur),this.$el.find("[name=month]")[e]("onblur",this.onBlur),this.$el.find("[name=day]")[e]("onblur",this.onBlur),this.$el.find(".dk-year .dk-selected")[e]("onfocus",this.onFocus),this.$el.find(".dk-month .dk-selected")[e]("onfocus",this.onFocus),this.$el.find(".dk-day .dk-selected")[e]("onfocus",this.onFocus),this.$el.find(".dk-year .dk-selected")[e]("onblur",this.onBlur),this.$el.find(".dk-month .dk-selected")[e]("onblur",this.onBlur),this.$el.find(".dk-day .dk-selected")[e]("onblur",this.onBlur)},initialize:function(){l.prototype.initialize.apply(this,arguments),this.setName(this.$el.attr("name"));var e=this.getDefaultValue();this.day(e.day),this.month(e.month),this.year(e.year),this.calculateMaxValues(),this.listener("on"),this.day()&&this.month()&&this.year()&&this.onYearChange()},calculateMaxValues:function(){this.maxYear=parseInt(this.$el.find("[name=year] :first-child")[0].value);var e=parseInt(s().format("YYYY"))-this.maxYear,t=s().subtract(e,"y").subtract(1,"d");this.maxMonths=parseInt(t.format("MM")),this.maxDays=parseInt(t.format("DD"))},getMonthMaxDays:function(e,t){return e=parseInt(e),(t=parseInt(t))===this.maxYear&&e===this.maxMonths?parseInt(this.maxDays):parseInt(new Date(t,e,0).getDate())},onMonthChange:function(e){var t=this.getMonthMaxDays(this.month(),this.year());if(!o.isNaN(t)){var n="EMPTY";"EMPTY"!=this.day()&&parseInt(this.day())<=t&&(n=this.day()),this.$el.find("[name=day]").html(u({selectedMonth:this.month(),selectedYear:this.year(),maxDays:t+1})),this.$el.find(".dk-day").find("ul").html(d({selectedMonth:this.month(),selectedYear:this.year(),maxDays:t+1})),"EMPTY"!=n?this.$el.find(".dk-day .dk-selected").html(n):this.$el.find(".dk-day .dk-selected").html(__("registration.field.date_of_birth.day")),this.day(n)}},onYearChange:function(e){var t=this.month(),n=this.maxMonths+1;parseInt(this.year())===this.maxYear?t=this.month()>this.maxMonths?"EMPTY":this.month():n=13,this.$el.find("[name=month]").html(p({maxMonths:n,splitByComma:a.splitByComma})),this.$el.find(".dk-month").find("ul").html(f({maxMonths:n,splitByComma:a.splitByComma}));var i=a.splitByComma(__("calendar_monthNames"));"EMPTY"!=t?this.$el.find(".dk-month .dk-selected").html(i[parseInt(t)-1]):this.$el.find(".dk-month .dk-selected").html(__("registration.field.date_of_birth.month")),this.month(t),this.onMonthChange()},field:function(e,t){return o.isUndefined(t)?this.$el.find("[name="+e+"]").val():this.$el.find("[name="+e+"]").val(t)},year:function(e){return this.field("year",e)},month:function(e){return this.field("month",e)},day:function(e){return this.field("day",e)},value:function(){return this.day()+"/"+this.month()+"/"+this.year()},getDefaultValue:function(){return{year:this.$el.find("[name=year]").attr("default-value"),month:this.$el.find("[name=month]").attr("default-value"),day:this.$el.find("[name=day]").attr("default-value")}},isEmpty:function(e){return o.isEmpty(e)||"EMPTY"===e},validate:function(){var e=this.getFilters(),t=this.getRules(),n=new c(e,t),i={birthDate:this.isEmpty(this.day())||this.isEmpty(this.month())||this.isEmpty(this.year())?"":this.value()};this.hideTooltip(),this.setDefaultState();var r=n.validate(i);return!1!==r&&this.fieldError(r),r},inFocus:function(){return this.$el.find("[name=year]:focus, [name=month]:focus, [name=day]:focus, .dk-selected:focus").length>0},onFocus:function(e){this.$el.removeClass("field-error"),this.hideTooltip()},onBlur:function(e){this.inputBuffer="",setTimeout(function(){this.inFocus()||this.validate()&&(this.$el.addClass("field-error"),this.showTooltip())}.bind(this),100)},onChangeList:function(e,t){var n=this.$el.find(".dk-"+t+".dk-select");n.removeClass("dk-select-open-down").find(".dk-select-options").attr("aria-expanded",!1),n.find(".dk-selected").html(this.options.getValueFunction(r(e.target)))[0].focus(),this.options.setValueFunction(n,r(e.target).attr("data-value")),this.$el.removeClass("field-error"),this.hideTooltip(),3==this.$el.find(".field-ok").length&&this.$el.addClass("field-ok"),this.fireChangeEvent(),this.executeCustomOnChange(e)},onChangeListDay:function(e){this.$el.find(".dk-day").addClass("field-ok"),this.onChangeList(e,"day")},onChangeListMonth:function(e){this.$el.find(".dk-month").addClass("field-ok"),this.onChangeList(e,"month")},onChangeListYear:function(e){this.$el.find(".dk-year").addClass("field-ok"),this.onChangeList(e,"year")},destroy:function(){l.prototype.destroy.call(this),this.listener("off")}});i.exports=h}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(764),o=n(1),s=(n(218),r.extend({onPlus:function(e){var t=this,n=function(){var e=parseFloat(t.value()),n=t.options.max;o.isNaN(e)&&(e=0),(!t.options.increment||t.options.increment<t.options.step)&&(t.options.increment=t.options.step),e+=t.options.increment,o.isNumber(n)&&e>n&&(e=n),e=Number(e).toFixed(t.options.precision),t.value(e),t.validateButtons(),t.validate(),t.trigger("change",t)};this.options.repeat&&this.onStop(),this.setState({pristine:!1}),this.state.plusDisabled||this.isDisabled()||(n(),t.options.repeat=setInterval(n,t.options.spead))},onMinus:function(e){var t=this,n=function(){var e=parseFloat(t.value()),n=t.options.min;o.isNaN(e)||((!t.options.increment||t.options.increment<t.options.step)&&(t.options.increment=t.options.step),e-=t.options.increment,o.isNumber(n)&&e<n&&(e=n),e=Number(e).toFixed(t.options.precision),t.value(e),t.validateButtons(),t.validate(),t.trigger("change",t))};this.options.repeat&&this.onStop(),this.setState({pristine:!1}),this.state.minusDisabled||this.isDisabled()||(n(),t.options.repeat=setInterval(n,t.options.spead))}}));i.exports=s}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i,r){var o,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();void 0===(o=function(e,t,r){var o=n(243),a=n(1),l=n(533).components,c=n(414).default,u=n(0),d=n(22),p=n(176),f=n(3).EMPTY,h=n(15),m=function(e){return u.createElement(l.Option,e,u.createElement("span",{className:"flag flag-"+e.data.value.toLowerCase()}),e.children)},g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={disabled:!1,closeOnSelect:!1,value:[],rtl:"rtl"===i("html").attr("dir")},h(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),s(t,[{key:"handleSelectChange",value:function(e){a.isArray(e)||(e=e.split(",")),(e=a.filter(e,(function(e){return e!==f}))).length>this.props.maxValues&&(e=a.first(e,this.props.maxValues));var t=a.filter(this.props.options,(function(t){return e.indexOf(t.value)>=0}));this.setState({value:t}),this.props.onChange&&this.props.onChange(e)}},{key:"onChange",value:function(e){(e=a.filter(e,(function(e){return e.value!==f}))).length>this.props.maxValues&&(e=a.first(e,this.props.maxValues)),this.setState({value:e}),this.props.onChange&&this.props.onChange(a.pluck(e,"value"))}},{key:"onFocus",value:function(e){a.isFunction(this.props.onFocus)&&this.props.onFocus(e)}},{key:"onBlur",value:function(e){a.isFunction(this.props.onBlur)&&this.props.onBlur(e)}},{key:"render",value:function(){var e=this.state,t=e.disabled,n=e.closeOnSelect,i=e.value,r=this.props.options;return u.createElement(c,{closeMenuOnSelect:n,isDisabled:t,isClearable:!1,isMulti:!0,onBlur:this.onBlur,onFocus:this.onFocus,onChange:this.onChange,options:r,placeholder:__("wizard.form.label.DEFAULT_EMPTY"),components:{Option:m},isRtl:this.state.rtl,value:i})}}]),t}(u.Component);r.exports=o.extend({events:function(){return a.extend({},a.result(o.prototype,"events"),{"change select":"onNativeSelectChange","focus select":"onFocus","blur select":"onBlur"})},initialize:function(){o.prototype.initialize.apply(this,arguments),this.setName(this.$el.attr("name")),this.$select=this.$el.find("select")[0],this.selectData=this.optionsToData(this.$select),this.$reactSelect=d.render(u.createElement(g,{options:this.selectData.list,maxValues:10,onChange:this.onReactSelectChange.bind(this),onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this)}),this.$el.find(".multi-select")[0]),this.setDefaultValue()},optionsToData:function(e){var t={list:[],map:{}};return a.each(e.options,(function(e){e.value!==f&&(t.list.push(a.pick(e,"label","value")),t.map[e.value]=e.label)})),t},onReactSelectChange:function(e){this.value(e)},onNativeSelectChange:function(){var e=this.value();e.length>10&&this.value(a.first(e,10)),this.onChange()},onChange:function(){var e=this.value();this.$reactSelect.handleSelectChange(e),this.fireChangeEvent(),this.executeCustomOnChange(),this.updateMobileLabel(e),this.isEnabled()&&this.validate()},updateMobileLabel:function(e){var t=this;if(a.isEmpty(e)||e[0]===f)this.$el.find(".multi-select-mobile-label").html(__("wizard.form.label.DEFAULT_EMPTY"));else{var n=a.map(e,(function(e){return t.selectData.map[e]})).join(", ");a.isEmpty(e)||(n=e.length+": "+n),this.$el.find(".multi-select-mobile-label").html(n)}},onFocus:function(e){this.$el.removeClass("field-error"),this.hideTooltip()},onBlur:function(){this.validate()},value:function(e){if(a.isUndefined(e))return this.getNativeSelectValue(this.$select);var t=this.getNativeSelectValue(this.$select);e=this.setNativeSelectValue(this.$select,e),p.prototype.rules.not_equals_array(t,e)&&this.onChange()},render:function(){o.prototype.render.apply(this,arguments),this.updateMobileLabel(this.value())},disableElement:function(){this.$el.addClass("field-disabled"),this.$el.find("select").attr("disabled",!0)},enableElement:function(){this.$el.removeClass("field-disabled"),this.$el.find("select").removeAttr("disabled")},getDefaultValue:function(){return[this.$el.find("select").attr("default-value")]},getNativeSelectValue:function(e){for(var t=e.options,n=e.selectedIndex,i="select-one"===e.type,r=i?null:[],o=i?n+1:t.length,s=n<0?o:i?n:0;s<o;s++){var l=t[s];if(l.selected||s===n){var c=l.value;if(i)return c;r.push(c)}}return a.isEmpty(r)?[f]:r},setNativeSelectValue:function(e,t){var n=a.isArray(t)?t:t.split(","),i=e.options,r=!1;return a.forEach(i,(function(e){e.selected=n.indexOf(e.value)>-1,e.selected&&(r=!0)})),r?n:(e.selectedIndex=-1,[f])},unmount:function(){d.unmountComponentAtNode(this.$el.find(".multi-select")[0])}})}.call(t,n,t,e))||(e.exports=o)}).call(this,n(12),n(1))},,function(e,t,n){(function(i){var r;void 0===(r=function(e,t,r){var o=n(162),s=o.extend({events:function(){return i.extend({},i.result(o.prototype,"events"),{"click .switcher input[type=checkbox]":"toggleContent"})},initialize:function(){o.prototype.initialize.apply(this,arguments),this.setName(this.$el.find("input").attr("name"))},getDefaultState:function(){return{opened:this.value()}},value:function(){return this.$el.find(".switcher label input[type=checkbox]")[0].checked},toggleContent:function(){this.setState({opened:!this.state.opened}),this.fireChangeEvent()},showContent:function(){this.$el.addClass("field-rollout-opened")},hideContent:function(){this.$el.removeClass("field-rollout-opened")},update:function(){var e=this.$el.find("input");this.state.disabled?e.attr("disabled","disabled"):e.removeAttr("disabled","disabled"),this.state.opened?this.showContent():this.hideContent()},check:function(){var e=this.$("input[type=checkbox]"),t=e[0];return e&&!this.value()&&(t.click(),t.checked||e.attr("checked",!0)),this},uncheck:function(){var e=this.$("input[type=checkbox]"),t=e[0];return e&&this.value()&&(t.click(),t.checked&&e.attr("checked",!1)),this},isChecked:function(){return this.value()}});r.exports=s}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,r){var o=n(162),s=o.extend({events:function(){return i.extend({},i.result(o.prototype,"events"),{"click .fieldset-legend":"toggleContent"})},initialize:function(){o.prototype.initialize.apply(this,arguments),this.setName(this.$el.attr("data-field-name"))},value:function(){return this.state.opened},getDefaultState:function(){return{opened:this.$el.hasClass("field-fieldset-opened")}},toggleContent:function(e){this.setState({opened:!this.state.opened}),this.fireChangeEvent()},update:function(){this.state.opened?this.$el.addClass("field-fieldset-opened"):this.$el.removeClass("field-fieldset-opened")}});r.exports=s}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(162),s=n(83).startWith,a=o.extend({events:function(){return r.extend({},r.result(o.prototype,"events"),{"click input[type=checkbox]":"onChange"})},initialize:function(){o.prototype.initialize.apply(this,arguments),this.setName(this.$el.attr("name"));var e=this.getDefaultValue();e&&this.setChecked(e.split(" "))},_isSelected:function(e){return s(this.getName(),e.id)&&e.checked},value:function(){var e=r.map(r.filter(this.$el.find("input"),this._isSelected,this),(function(e){return e.value}));return r.isEmpty(e)?null:e},getDefaultValue:function(){return this.$el.find(".checkbox-group-column").attr("default-value")},setChecked:function(e){r.each(this.$el.find("input"),(function(t){e.indexOf(t.value)>=0&&(t.checked=!0)}))}});i.exports=a}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(162),s=n(176);i.exports=o.extend({events:function(){return r.extend({},r.result(o.prototype,"events"),{"change input[type=radio]":"onChange","input .details-input-field":"onChangeDetails"})},initialize:function(){this.setUpDetails(),o.prototype.initialize.apply(this,arguments),this.setName(this.$el.attr("name")),this.setUpDefaultValue(),this.$el[0].addEventListener("keypress",this.onKeyPress.bind(this))},onKeyPress:function(e){if(13===(e.which||e.keyCode)){e.preventDefault();var t=this.detailsField.val();this.detailsField.val(t+"\n")}},value:function(e){return e?(this.$("input[type=radio]").removeAttr("checked"),this.$("input.base").attr("checked","checked"),void this.setChecked(e)):this.getChecked()},getChecked:function(){var e=r.find(this.$el.find("input[type=radio]"),(function(e){return e.checked}));return e?e.value:null},detailsValue:function(e){if(void 0===e)return this.detailsField[0].value;this.detailsField[0].value=e},setUpDefaultValue:function(){var e=this.detailsField.attr("default-value");e&&this.detailsValue(e);var t=this.$el.find(".radio-group-row").attr("default-value");t&&this.value(t)},setUpDetails:function(){var e=this.$el.find(".radio-group-row").attr("details-option"),t=r.find(this.$el.find("input[type=radio]"),(function(t){return t.value!==e}));this.detailsOption=e,this.notDetailsOption=t.value,this.detailsField=this.$el.find(".details-input-field"),this.detailsField[0].onblur=this.onBlurDetails.bind(this),this.detailsMaxLength=this.detailsField.attr("max_length")},setChecked:function(e){var t=r.find(this.$el.find("input[type=radio]"),(function(t){return t.value===e}));t&&(t.checked=!0)},hasDetails:function(){return!0},isDetailsOptionSelected:function(){return this.value()===this.detailsOption},clearDetails:function(){this.detailsValue("")},toggleDetails:function(){if(this.isDetailsOptionSelected())return this.detailsField.removeClass("hidden"),void this.detailsField[0].focus();this.detailsField.addClass("hidden")},selectNotDetailsOption:function(){this.clearDetails(),this.value(this.notDetailsOption)},afterChangeDetails:function(){this.detailsValue(this.detailsValue().trim())},onChange:function(e){this.isDetailsOptionSelected()||this.clearDetails(),this.toggleDetails(),this.validate(),this.fireChangeEvent(),this.executeCustomOnChange(e)},onChangeDetails:function(e){this.afterChangeDetails(),this.validate()},onBlurDetails:function(e){this.onChangeDetails()},disableElement:function(){this.selectNotDetailsOption(),this.$el.addClass("field-disabled")},enableElement:function(){this.$el.removeClass("field-disabled")},getFilters:function(){var e={};return e[this.getName()]=["string"],e},getRules:function(){var e={};return e[this.getName()]={not_empty:__("registration.warning.this_field_is_required"),not_equals:["null",__("registration.warning.this_field_is_required")]},this.isDetailsOptionSelected()&&(e.details={not_empty:__("registration.warning.this_field_is_required"),max_length:[this.detailsMaxLength,__("registration.warning.this_field.max_size_limit",this.detailsMaxLength)]}),e},_getFieldData:function(){var e={};return e[this.getName()]=this.value(),e.details=this.detailsValue(),e},_gatherFieldErrors:function(e){var t=[];r.each(e,(function(e){r.each(e,(function(e){t.push(e)}))})),e[this.getName()]=t},validate:function(e){this.setDefaultState();var t=this.getFilters(),n=this.getRules(),i=new s(t,n),r=this._getFieldData(),o=i.validate(r);return this._gatherFieldErrors(o),e?!1!==o:(this.hasRules()&&(this.hideTooltip(),this.setDefaultState()),!1!==o?this.fieldError(o):this.fieldVerified(),o)}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,o){var s=n(162),a=n(176),l=n(243),c=l.extend({events:function(){return i.extend({},i.result(l.prototype,"events"),{"click .dk-option":"onChangeList","change select":"onChange"})},initialize:function(){this.$selectDays=this.$el.find("select.select-days"),this.$selectHours=this.$el.find("select.select-hours"),this.$selectMinutes=this.$el.find("select.select-minutes"),s.prototype.initialize.apply(this,arguments),this.setName(this.$el.attr("id")),this.$selectDays[0].onfocus=this.onFocus.bind(this),this.$selectDays[0].onblur=this.onBlur.bind(this),this.$selectHours[0].onfocus=this.onFocus.bind(this),this.$selectHours[0].onblur=this.onBlur.bind(this),this.$selectMinutes[0].onfocus=this.onFocus.bind(this),this.$selectMinutes[0].onblur=this.onBlur.bind(this),this.daysSelect(this.getDefaultValue().days),this.hoursSelect(this.getDefaultValue().hours),this.minutesSelect(this.getDefaultValue().minutes)},getDefaultOptions:function(){return{filterFunction:function(e,t){return e.find(".select-code")[0].textContent.toLowerCase().trim().startsWith(t)}}},genericSelect:function(e,t){if(i.isUndefined(t))return this.$el.find(e).val();var n=this.$el.find(e),r=n.parent().parent();n.val(t),"EMPTY"!==t&&r.find(".dk-selected").html(r.find('li.dk-option[data-value="'+t+'"]').html())},daysSelect:function(e){return this.genericSelect("select.select-days",e)},hoursSelect:function(e){return this.genericSelect("select.select-hours",e)},minutesSelect:function(e){return this.genericSelect("select.select-minutes",e)},validate:function(){var e=this.getFilters(),t=this.getRules(),n=new a(e,t),i={minutes:parseInt(this.minutesSelect())+60*this.hoursSelect()+60*this.daysSelect()*24};this.hideTooltip(),this.setDefaultState();var r=n.validate(i);return!1!==r&&this.fieldError(r),r},value:function(e){var t=this.daysSelect()+":"+this.hoursSelect()+":"+this.minutesSelect();if(i.isUndefined(e))return t;var n=e.split(":");3===n.length?(this.daysSelect(n[0]),this.hoursSelect(n[1]),this.minutesSelect(n[2])):2===n.length?(this.daysSelect("0"),this.hoursSelect(n[0]),this.minutesSelect(n[1])):1===n.length&&(this.daysSelect("0"),this.hoursSelect("0"),this.minutesSelect(n[0])),t!==e&&this.onChange()},onFocus:function(e){this.$el.removeClass("field-error"),this.hideTooltip()},onBlur:function(e){this.validate()&&(this.$el.addClass("field-error"),this.showTooltip())},getDefaultValue:function(){return{days:"0",hours:"0",minutes:"1"}},onChangeList:function(e){var t=r(e.target),n=t.parent().parent().parent();n.find(".dk-select").removeClass("dk-select-open-down").find(".dk-select-options").attr("aria-expanded",!1),n.find(".dk-selected").html("").append('<span class="'+t.find("span:first-child").attr("class")+'"></span>').append(t.html()),n.find("select").val(t.attr("data-value")).trigger("change")}});o.exports=c}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,r){n(12);var o=n(162),s=o.extend({events:function(){return i.extend({},i.result(o.prototype,"events"),{"change input":"onChange"})},initialize:function(e){this.$input=this.$el.find("input"),o.prototype.initialize.apply(this,arguments),this.setName(this.$el.find("input").attr("name")),this.$input[0].onfocus=this.onFocus.bind(this)},isNoPaste:function(){return!!this.$input.attr("no-paste")},setEvent:function(e,t){this.$input[0][e]=t.bind(this)},getDefaultValue:function(){return!1},getDefaultOptions:function(){return i.extend({},i.result(o.prototype,"getDefaultOptions"))},isDefaultValue:function(){return!1},isEmpty:function(){return i.isEmpty(this.value())||this.isDefaultValue()},onChange:function(e){e.preventDefault();var t=void 0,n=e.target.files[0],i=this.$(".title"),r=this.$(".selected-files");n?(t=n.name,i.css("display","none"),r.css("display","block").html(t),this.file=n):(i.css("display","block"),r.css("display","none"),this.file=null),this.fireChangeValueEvent(t)},getFile:function(){return this.file},onFocus:function(e){this.isDefaultValue()&&this.value(""),this.$el.removeClass("field-error"),this.hideTooltip()},disableElement:function(){this.setDefaultValue(),this.$el.addClass("field-disabled"),this.$el.find("input").attr("disabled",!0)},enableElement:function(){this.$el.removeClass("field-disabled"),this.$el.find("input").removeAttr("disabled")},value:function(){return this.file},flush:function(){this.file=null,this.$el.removeClass("field-error"),this.$(".title").css("display","block"),this.$(".selected-files").css("display","none").html("")}});r.exports=s}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){n(12);var r=n(1),o=n(243),s=n(379),a=o.extend({events:function(){return this.addEvents(o)({"change input":"onChange"})},initialize:function(e){o.prototype.initialize.apply(this,arguments),this.$input=this.$el.find("input"),this.setName(this.$input.attr("name")),this.instance=new s(this.$("input")[0],{dateFormat:e.dateFormat||"d/m/Y",defaultDate:e.defaultDate||+new Date,maxDate:e.maxDate||+new Date,minDate:e.minDate})},getDefaultValue:function(){return this.$input.attr("default-value")},getDefaultOptions:function(){return r.extend({},r.result(o.prototype,"getDefaultOptions"))},isDefaultValue:function(){return this.value()===this.getDefaultValue()},isEmpty:function(){return r.isEmpty(this.value())||this.isDefaultValue()},onChange:function(e){this.fireChangeValueEvent(this.instance.selectedDates)},setMinDate:function(e){return this.instance.set("minDate",e),this},setMaxDate:function(e){return this.instance.set("maxDate",e),this},getFirstSelectedDate:function(){var e=this.instance.selectedDates;return r.isArray(e)?e[0]:+new Date},disableElement:function(){this.setDefaultValue(),this.$el.addClass("field-disabled"),this.$el.find("input").attr("disabled",!0)},enableElement:function(){this.$el.removeClass("field-disabled"),this.$el.find("input").removeAttr("disabled")},destroy:function(){this.instance.destroy(),o.prototype.destroy.call(this)}});i.exports=a}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(243),s=n(379),a=o.extend({events:function(){return this.addEvents(o)({"change input":"onChange"})},initialize:function(e){o.prototype.initialize.apply(this,arguments),this.$input=this.$el.find("input"),this.setName(this.$input.attr("name")),this.instance=new s(this.$("input")[0],{enableTime:!0,noCalendar:!0,dateFormat:e.dateFormat||"H:i",defaultDate:e.defaultDate||"10:00",time_24hr:!0})},getDefaultValue:function(){return this.$input.attr("default-value")},getDefaultOptions:function(){return r.extend({},r.result(o.prototype,"getDefaultOptions"))},isDefaultValue:function(){return this.value()===this.getDefaultValue()},isEmpty:function(){return r.isEmpty(this.value())||this.isDefaultValue()},onChange:function(){this.fireChangeValueEvent(this.instance.selectedDates)},setMinDate:function(e){return this.instance.set("minDate",e),this},setMaxDate:function(e){return this.instance.set("maxDate",e),this},getFirstSelectedDate:function(){var e=this.instance.selectedDates;return r.isArray(e)?e[0]:+new Date},disableElement:function(){this.value(this.getDefaultValue()),this.$el.addClass("field-disabled"),this.$el.find("input").attr("disabled",!0)},enableElement:function(){this.$el.removeClass("field-disabled"),this.$el.find("input").removeAttr("disabled")},destroy:function(){this.instance.destroy(),o.prototype.destroy.call(this)}});i.exports=a}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t){e.exports="<div class=loading-box> <div class=loading-content> <div class=cssload-jumping> <span></span><span></span><span></span> </div> </div> </div> "},function(e,t){e.exports='<% if (!showOnlyChart) {%> <div class="block block--bordered"> <div class="block__title block__text"> <%= instrumentDisplayName %> </div> <div class="block__content block__text"> <%=blendDetailsText%> </div> </div> <%}%> <div class="block block--bordered block--relative blend__performance"> <div class=block__title> <div class="block__title-text block__text"><%=__(\'blend.performance\')%></div> <% if (showOnlyChart) {%> <div class=chart__total></div> <%}%> <div class=blend__field-periods></div> </div> <div class=block__content> <br/> <div class=chart-bar> <div class=chart-bar__body> </div> </div> </div> </div> <div class="blend__info-line hidden-xs hidden-sm"> <%= __(\'blend.info-line\') %> <%= __(\'blend.back-tested\') %> </div> '},function(e,t){e.exports='<div class=chart__container> <div class=chart__total></div> <div class=chart__scroll> <div class="chart__bar chart__bar--total"> <div class="chart__label chart__label--first"> <div class=chart__label--primary><%=__(\'account_settings.spread_rebate.total_amount\')%></div> <div class="chart__label--secondary chart--down"><%= total.formatPercent %></div> </div> <div class=chart__positive><div class=chart__value style=width:30%></div></div> <div class=chart__splitter></div> <div class=chart__negative><div class=chart__value></div></div> <div class="chart__label chart__label--second"> <div class=chart__label--primary></div> <div class="chart__label--secondary chart--down"><%= total.formatPercent %></div> </div> </div> <% _.each(data, function(v, i) { %> <div class=chart__bar> <div class="chart__label chart__label--first"> <div class=chart__label--primary><%=v.month%></div> <div class="chart__label--secondary chart--<%= v.direction %>"><%=v.formatPercent%></div> </div> <div class=chart__positive><div class=chart__value style="height: <%= v.originValue > 0 ? v.reflectedAbsPercent : 100 %>%"></div></div> <div class=chart__splitter></div> <div class=chart__negative><div class=chart__value style="height: <%= v.originValue < 0 ? v.reflectedAbsPercent : 100 %>%"></div></div> <div class="chart__label chart__label--second"> <div class=chart__label--primary><%=v.month%></div> <div class="chart__label--secondary chart--<%= v.direction %>"><%=v.formatPercent%></div> </div> </div> <% }); %> </div> </div> '},function(e,t){e.exports='<div class="chart__container chart--vert"> <div class=chart__total></div> <div class=chart__scroll> <div class="chart__bar chart__bar--total"> <div class="chart__label chart__label--first"> <div class=chart__label--primary><%=__(\'account_settings.spread_rebate.total_amount\')%></div> <div class="chart__label--secondary chart--<%=total.direction%>"><%= total.formatPercent %></div> </div> <div class=chart__positive><div class=chart__value style="width: <%= total.originValue > 0 ? total.reflectedAbsPercent : 100%>%"></div></div> <div class=chart__splitter></div> <div class=chart__negative><div class=chart__value style="width: <%= total.originValue < 0 ? total.reflectedAbsPercent : 100%>%"></div></div> <div class="chart__label chart__label--second"> <div class=chart__label--primary></div> <div class="chart__label--secondary chart--<%=total.direction%>"><%= total.formatPercent %></div> </div> </div> <% _.each(data, function(v, i, arr) { %> <% if (arr.length > showmoreItemsCount && i == showmoreItemsCount) { %> <div class=showmore> <div class="showmore__content showmore__content--hidden"> <% } %> <div class=chart__bar> <div class="chart__label chart__label--first"> <div class=chart__label--primary><%=v.month%></div> <div class="chart__label--secondary chart--<%= v.direction %>"><%=v.formatPercent%></div> </div> <div class=chart__positive><div class=chart__value style="width: <%= v.originValue > 0 ? v.reflectedAbsPercent : 100 %>%"></div></div> <div class=chart__splitter></div> <div class=chart__negative><div class=chart__value style="width: <%= v.originValue < 0 ? v.reflectedAbsPercent : 100 %>%"></div></div> <div class="chart__label chart__label--second"> <div class=chart__label--primary><%=v.month%></div> <div class="chart__label--secondary chart--<%= v.direction %>"><%=v.formatPercent%></div> </div> </div> <% if (arr.length > showmoreItemsCount && i == arr.length - 1) { %> </div> <div class=showmore__addon> <div><%= __(\'blend.info-line\') %></div> <div><%= __(\'blend.back-tested\') %></div> </div> <div class=showmore__title><%=__(\'actions.showmore\')%></div> </div> <% } %> <% }); %> <% if (data.length <= showmoreItemsCount) { %> <div class=showmore__addon> <div><%= __(\'blend.info-line\') %></div> <div><%= __(\'blend.back-tested\') %></div> </div> <% } %> </div> </div> '},function(e,t){e.exports="<div class=chart__total_content> <%=__('account_settings.spread_rebate.total_amount')%> <span class=chart__total_value><%= total.formatPercent %></span> </div> "},function(e,t,n){},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(24),o=(n(5),n(8),n(9),n(6)),s=r.Model.extend({isFrenchRegulation:function(){return o.isGuaranteedStopLossEnabled()},hideMetaTraderLink:function(){return this.isFrenchRegulation()}});i.exports=new s}.call(t,n,t,e))||(e.exports=r)}).call(this,n(24))},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var r=n(12),o=n(1),s=n(5),a=n(771),l=n(178),c=o.template(n(1424)),u=n(571).LoginMessageActionType,d=n(126).default;i.exports=a.extend({events:function(){return o.extend({},o.result(a.prototype,"events"),{"click .icon-login-message-close-button":"onCloseClick","click .login-message-image-panel":"onImageClick"})},getOptions:function(e){return o.extend({},o.result(a.prototype,"getOptions"),{closeOnESC:!1,isHeaderShowed:!1,ignorableByLoginMessage:!0,parent:r("body"),zIndex:this.popup_z_index},e)},initialize:function(e){a.prototype.initialize.apply(this,arguments),this.$el.addClass("login-message-popup")},onCloseClick:function(e){this.trackEvent("closeMessage"),this.close(),e.stopImmediatePropagation()},onImageClick:function(e){switch(this.trackEvent("clkMessage"),this.message.action){case u.EXTERNAL:d(this.message.actionUrl,"_blank","");break;case u.INTERNAL:l.campaignsInternalAction(this.message.actionUrl);break;case u.SWITCH_ACCOUNT_TYPE_DEMO:s.trigger("platform:switch","demo");break;case u.SWITCH_ACCOUNT_TYPE_LIVE:s.trigger("platform:switch","live")}this.close(),e.stopImmediatePropagation()},loadImage:function(){var e=new Image;e.addEventListener("load",function(){this.imageWidth=e.width,this.imageHeight=e.height,e=null,this.render()}.bind(this),!1),e.addEventListener("error",function(){this.destroy()}.bind(this),!1),e.src=this.message.contentUrl},preRender:function(){this.canceled?this.destroy():(this.setDisplayed(),this.loadImage())},initPopupClassName:function(){this.$panel.addClass(0===this.message.width?"responsive-image":"unresponsive-image")},render:function(){a.prototype.render.call(this),this.setContent(c()),this.$panel=this.$el.find(".x-popup-panel"),this.$imagePanel=this.$el.find(".login-message-image-panel"),this.$closeButton=this.$el.find(".icon-login-message-close-button"),this.$imagePanel.css("background-image","url('"+this.message.contentUrl+"?"+o.now()+"')"),this.initPopupClassName(),this.initPopupStyle(),this.onResize(),this.startAutoCloseTimer(),this.startCloseButtonTimer(),window.addEventListener("resize",o.throttle(this.onResize.bind(this),100),!1),this.model.interactEvent(this.message.id,"campaign_displayed")},onResize:function(){this.initPopupStyle();var e=this.$panel[0].offsetWidth,t=this.$panel[0].offsetHeight;e/t>this.imageWidth/this.imageHeight?(this.$imagePanel.css("height","100%"),this.$imagePanel.css("width",this.imageWidth*t/this.imageHeight+"px")):(this.$imagePanel.css("height",this.imageHeight*e/this.imageWidth+"px"),this.$imagePanel.css("width","100%"))},initPopupStyle:function(){if(this.$el.css("background-color","rgba(178, 186, 192, "+this.message.opacity/100+")"),0!==this.message.width)this.$panel.css("height",this.message.height+"%"),this.$panel.css("width",this.message.width+"%"),this.$panel.css("top",this.message.marginHeight+"%"),this.$panel.css("left",(100-this.message.width)/2+"%");else{var e=Math.min(this.imageWidth,window.innerWidth)/1,t=Math.min(this.imageHeight,window.innerHeight)/1;this.$panel.css("height",t+"px"),this.$panel.css("width",e+"px"),this.$panel.css("top",(window.innerHeight-t)/2+"px"),this.$panel.css("left",(window.innerWidth-e)/2+"px")}},startCloseButtonTimer:function(){this.closeButtonTimer=setTimeout(function(){this.$closeButton.css("display","block")}.bind(this),Math.max(0,this.message.closeButtonDelay))},startAutoCloseTimer:function(){this.autoCloseTimer=setTimeout(this.autoClose.bind(this),Math.max(0,this.message.duration))},autoClose:function(){this.trackEvent("autoclose"),this.close()},trackEvent:function(e){__eventos("retention:targetLoginMessage:"+e,{campaignID:this.message.id})}})}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t){e.exports="<div class=login-message-image-panel> <span class=icon-login-message-close-button style=display:none></span> </div>"},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var r=n(12),o=n(1),s=n(5),a=n(771),l=n(1005).default,c=n(126).default,u=o.template(n(1426));i.exports=a.extend({initialize:function(e){this.initPostMessageListeners(),a.prototype.initialize.apply(this,arguments),this.contentLoaded=!1},events:function(){return o.extend({},o.result(a.prototype,"events"),{"click .icon-login-message-close-button":"onCloseClick"})},getOptions:function(e){return o.extend({},o.result(a.prototype,"getOptions"),{closeOnESC:!1,isHeaderShowed:!1,ignorableByLoginMessage:!0,parent:r("body"),zIndex:this.popup_z_index},e)},preRender:function(){s.trigger("ui:loading"),this.setDisplayed(),this.render(),this.iframe=this.$el.find("#login-message-html-page-iframe")[0],this.iframe.onload=this.onContentLoad.bind(this),this.model.interactEvent(this.message.id,"campaign_displayed")},render:function(){return a.prototype.render.call(this),this.setContent(u({url:this.message.contentUrl})),this},onContentLoad:function(){this.contentLoaded?this.close():(this.contentLoaded=!0,this.resizeCampaignIframe(),this.$el.find(".icon-login-message-close-button").removeClass("hidden"),s.trigger("ui:loading:hide"))},onCloseClick:function(e){e.stopImmediatePropagation(),this.close()},resizeCampaignIframe:function(){n(1427)({log:!1,maxWidth:800,maxHeight:800,checkOrigin:!0,sizeWidth:!0,sizeHeight:!0,scrolling:!0,autoResize:!0},"#login-message-html-page-iframe")},initPostMessageListeners:function(){var e=this,t=l.add("internalCampaignAction",(function(e){var t=e&&e.data;t&&s.trigger(t)})),n=l.add("externalCampaignAction",(function(e){var t=e&&e.data;t&&s.trigger(t),c(t)})),i=l.add("closeIframeCampaignAction",(function(){e.close(),l.remove({internalCampaignAction:t,externalCampaignAction:n,closeIframeCampaignAction:i})}))}})}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t){e.exports='<div class=login-message-html-page-wrapper> <span class="icon-login-message-close-button hidden"></span> <iframe id=login-message-html-page-iframe class=login-message-html-page-container src="<%= url %>" scrolling=no frameborder=0></iframe> </div> '},,function(e,t,n){var i;void 0===(i=function(e,t,i){n(1);var r=n(5),o=n(20),s=n(178),a=n(571).LoginMessageActionType,l=n(126).default;i.exports=o.extend({initialize:function(e){o.prototype.initialize.apply(this,arguments),this.message=e.message,this.listenToOnce(r,"app:ready",function(){this.needShowBannerImmediately()&&this.showBannerMessage()}.bind(this)),this.listenToOnce(r,"login:message:show",this.showBannerMessage)},needShowBannerImmediately:function(){return 10===this.message.priority},showBannerMessage:function(){r.trigger("ui:banner:campaign",{force:this.needShowBannerImmediately(),text:this.message.campaignDataText,handler:this.onBannerClick.bind(this)})},onBannerClick:function(){switch(this.model.interactEvent(this.message.id,"campaign_displayed"),this.message.action){case a.EXTERNAL:l(this.message.actionUrl,"_black","");break;case a.INTERNAL:s.campaignsInternalAction(this.message.actionUrl);break;case a.SWITCH_ACCOUNT_TYPE_DEMO:r.trigger("platform:switch","demo");break;case a.SWITCH_ACCOUNT_TYPE_LIVE:r.trigger("platform:switch","live")}}})}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){"use strict";n.r(t),n.d(t,"LoginMessageType",(function(){return i}));var i={IMAGE:"IMAGE",HTML_PAGE:"HTML_PAGE",TEXT:"TEXT"}},function(e,t,n){var i={"./TradeTech/screenshot_watermark.png":1431,"./cfdglobal/screenshot_watermark.png":1432,"./finq/screenshot_watermark.png":1433,"./globtrex/screenshot_watermark.png":1434,"./markets/screenshot_watermark.png":1435};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id=1430},function(e,t,n){e.exports=n.p+"./images/2d39c27c4d17.png"},function(e,t,n){e.exports=n.p+"./images/0318f5aa5483.png"},function(e,t,n){e.exports=n.p+"./images/e3ccd6e0e1fb.png"},function(e,t,n){e.exports=n.p+"./images/3ad8e156ea0f.png"},function(e,t,n){e.exports=n.p+"./images/ad1c5696eef9.png"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAAApJREFUCNdjYAAAAAIAAeIhvDMAAAAASUVORK5CYII="},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var o=n(1),s=(n(5),n(169)),a=n(70),l=n(523),c=o.template(n(1439)),u=n(315),d=n(9),p=a.extend({name:"chart-settings",events:function(){return o.extend({},o.result(a.prototype,"events"),{"click #restore-defaults":"restoreDefaults","click .fn-save":"onSave","click .fn-cancel":"onCancel"})},restoreDefaults:function(){o.extend(this.settings,u(this.defaults)),this.render()},getOptions:function(e){return o.extend({},o.result(a.prototype,"getOptions"),{isHeaderShowed:!0,closeIconStyle:"blue",headerStyle:"wizard",caption:__("chart_settings_popup.title"),indicators:this.indicators},e)},onSave:function(){this.close(),this.saveChartSettingsHandler(this.settings,this.getDiff({},this.defaults,this.settings),this.chartIndex)},onCancel:function(){this.close()},initialize:function(e,t,n,i,r){this.saveChartSettingsHandler=r,this.settings=u(n),this.defaults=u(i),this.chartIndex=t,a.prototype.initialize.apply(this,arguments),this.render()},render:function(){a.prototype.render.call(this),this.setContent(c({chartSettings:this.settings,settings:d})),this.form=new s({el:this.$el.find("#chart-settings-container")}),this.listenTo(this.form,"field:change:show_volume",this.onFieldChanged.bind(this,"switchers.showVolume")),this.listenTo(this.form,"field:change:show_grid",this.onFieldChanged.bind(this,"switchers.showGrid")),this.listenTo(this.form,"field:change:show_trades",this.onFieldChanged.bind(this,"switchers.showTrades")),this.colorPickers=[];var e=this.$el.find(".field-type-colorpicker");o.each(e,(function(e){var t=new l({el:e,container:r("#chart-settings-container"),field:e.dataset.field});delete e.dataset.field,this.listenTo(t,"change",this.onFieldChanged.bind(this,t.field)),this.colorPickers.push(t)}),this)},onFieldChanged:function(e,t){if(void 0!==e){e=e.split(".");for(var n=0,i=this.settings;n<e.length-1;)i=i[e[n]],n++;i[e[n]]=t.value()}},destroy:function(){a.prototype.destroy.call(this)},getDiff:function(e,t,n){return o.omit(o.mapObject(n,(function(e,i){return o.isObject(e)?this.getDiff({},t[i],n[i]):n[i]!==t[i]?e:void 0}),this),(function(e){return o.isUndefined(e)||o.isObject(e)&&o.isEmpty(e)}))}});i.exports=p}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var r=n(1),o=n(12),s=n(20),a=r.template('<% _.each(colors, function (color, index) {%>\n        <span data-index="<%-index%>" <%-getClassNames(color)%>><div style="background-color:<%-color%>"></div></span>\n        <%})%>'),l=["#272727","#FF0000","#0033C5","#0096CD","#00A81E","#FFB40E","#FF5A00","#FF3423","#521815","#3C464C","#FF5F95","#DA00FF","#33CBFF","#8FEC00","#FFE151","#FF9C63","#FF4E49","#61341A","#A4A4A4","#FFA0C0","#8AADFF","#89E0FF","#9FE79E","#FFED98","#FFC4A2","#FF9694","#5A4E15","#FFFFFF","#FFC7D9","#BACEFF","#B9ECFF","#E6FFCB","#FFF5C2","#FFDCC8","#FFB2B1","#435C26"];i.exports=s.extend({visible:!1,className:"color-picker-dropdown",events:function(){return r.extend({},r.result(s.prototype,"events"),{"click .color-picker-dropdown > span":"handleColorClick"})},show:function(){this.visible=!0,this._initOutsideClickHandler(),this.updatePosition(!0)},hide:function(e){e&&e.target.parentElement===this.button||(this.visible=!1,this._destroyOutsideClickHandler(),this.updatePosition())},toggle:function(){this.visible?this.hide():this.show()},_initOutsideClickHandler:function(){this._outsideClickHandler=this.hide.bind(this),o("body").on("click",this._outsideClickHandler)},_destroyOutsideClickHandler:function(){o("body").off("click",this._outsideClickHandler),this._outsideClickHandler=null},updatePosition:function(e){var t=this.parent.get?this.parent[0]:this.parent,n=this.button.getBoundingClientRect(),i=t.getBoundingClientRect();this.$el.css("top",n.top+n.height-i.top+"px"),this.$el.css("left",n.left-i.left+"px"),this.$el.css("display",this.visible?"flex":"none");var r=t.offsetHeight+t.getBoundingClientRect().top;!e&&this.visible&&r<=this.el.getBoundingClientRect().top&&this.hide()},handleColorClick:function(e){this.$el.find(".color-selected").removeClass("color-selected"),o(e.currentTarget).addClass("color-selected"),this.hide(),this.callback(l[e.currentTarget.dataset.index])},initialize:function(e,t,n,i){s.prototype.initialize.apply(this,arguments),this.button=t,this.color=n,this.callback=i,this.render()},getClassNames:function(e){var t="";return"#FFFFFF"!==e&&"white"!==e||(t+=" color-white"),e===this.color&&(t+=" color-selected"),t.length>0?"class="+t:""},render:function(){this.$el.css("display",this.visible?"flex":"none"),this.$el.html(a({colors:l,getClassNames:this.getClassNames.bind(this)})),this.parent&&o(this.parent).append(this.el)}})}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t){e.exports="<div id=chart-settings-container class=form> <div class=chart-settings-restore> <a id=restore-defaults><%-__('chart_settings_popup.restore_defaults')%></a> </div> <div class=chart-settings-switchers> <div class=chart-settings-column> <div class=chart-settings-switcher> <div class=\"field field-type-checkbox\"> <input name=show_volume id=show_volume type=checkbox <%-chartSettings.switchers.showVolume ? 'checked' : ''%>/> <label for=show_volume><%-__('chart_settings_popup.show_volume_label')%></label> </div> </div> </div> <div class=chart-settings-column> <div class=chart-settings-switcher> <div class=\"field field-type-checkbox\"> <input name=show_grid id=show_grid type=checkbox <%-chartSettings.switchers.showGrid ? 'checked' : ''%>/> <label for=show_grid><%-__('chart_settings_popup.show_grid_label')%></label> </div> </div> </div> <% if (chartSettings.switchers.showTrades !== undefined) { %> <div class=chart-settings-column> <div class=chart-settings-switcher> <div class=\"field field-type-checkbox\"> <input name=show_trades id=show_trades type=checkbox <%-chartSettings.switchers.showTrades ? 'checked' : ''%>/> <label for=show_trades><%-__('chart_settings_popup.show_trades')%></label> </div> </div> </div> <% } %> </div> <div class=chart-settings-colors> <div class=chart-settings-column> <div class=chart-settings-header><%-__('chart_settings_popup.candles_caption')%></div> <div class=chart-settings-color-picker> <%-__('chart_settings_popup.bull_label')%> <div class=field-type-colorpicker data-color=\"<%-chartSettings.colors.candles.up%>\" data-field=colors.candles.up></div> </div> <div class=chart-settings-color-picker> <%-__('chart_settings_popup.bear_label')%> <div class=field-type-colorpicker data-color=\"<%-chartSettings.colors.candles.down%>\" data-field=colors.candles.down></div> </div> </div> <div class=chart-settings-column> <div class=chart-settings-header><%-__('chart_settings_popup.bars_caption')%></div> <div class=chart-settings-color-picker><%-__('chart_settings_popup.up_label')%> <div class=field-type-colorpicker data-color=\"<%-chartSettings.colors.bars.up%>\" data-field=colors.bars.up></div> </div> <div class=chart-settings-color-picker><%-__('chart_settings_popup.down_label')%> <div class=field-type-colorpicker data-color=\"<%-chartSettings.colors.bars.down%>\" data-field=colors.bars.down></div> </div> </div> <div class=chart-settings-column> <div class=chart-settings-header><%-__('chart_settings_popup.lines_caption')%></div> <div class=chart-settings-color-picker><%-__('chart_settings_popup.up_label')%> <div class=field-type-colorpicker data-color=\"<%-chartSettings.colors.line.up%>\" data-field=colors.line.up></div> </div> <div class=chart-settings-color-picker><%-__('chart_settings_popup.neutral_label')%> <div class=field-type-colorpicker data-color=\"<%-chartSettings.colors.line.line%>\" data-field=colors.line.line></div> </div> <div class=chart-settings-color-picker><%-__('chart_settings_popup.down_label')%> <div class=field-type-colorpicker data-color=\"<%-chartSettings.colors.line.down%>\" data-field=colors.line.down></div> </div> </div> <div class=chart-settings-column> <div class=chart-settings-header><%-__('chart_settings_popup.area_caption')%></div> <div class=chart-settings-color-picker><%-__('chart_settings_popup.line_label')%> <div class=field-type-colorpicker data-color=\"<%-chartSettings.colors.area.line%>\" data-field=colors.area.line></div> </div> <div class=chart-settings-color-picker><%-__('chart_settings_popup.area_label')%> <div class=field-type-colorpicker data-color=\"<%-chartSettings.colors.area.fill%>\" data-field=colors.area.fill></div> </div> </div> <div class=chart-settings-column> <div class=chart-settings-header><%-__('chart_settings_popup.heikin_ashi_caption')%></div> <div class=chart-settings-color-picker><%-__('chart_settings_popup.up_label')%> <div class=field-type-colorpicker data-color=\"<%-chartSettings.colors.heikinashi.up%>\" data-field=colors.heikinashi.up></div> </div> <div class=chart-settings-color-picker><%-__('chart_settings_popup.down_label')%> <div class=field-type-colorpicker data-color=\"<%-chartSettings.colors.heikinashi.down%>\" data-field=colors.heikinashi.down></div> </div> </div> <div class=chart-settings-column> <div class=chart-settings-header><%-__('chart_settings_popup.common_caption')%></div> <div class=chart-settings-color-picker><%-__('chart_settings_popup.background_label')%> <div class=field-type-colorpicker data-color=\"<%-chartSettings.colors.common.background%>\" data-field=colors.common.background></div> </div> <div class=chart-settings-color-picker><%-__('chart_settings_popup.foreground_label')%> <div class=field-type-colorpicker data-color=\"<%-chartSettings.colors.common.foreground%>\" data-field=colors.common.foreground></div> </div> <div class=chart-settings-color-picker><%-__('chart_settings_popup.grid_label')%> <div class=field-type-colorpicker data-color=\"<%-chartSettings.colors.common.grid%>\" data-field=colors.common.grid></div> </div> <div class=chart-settings-color-picker><%-__('chart_settings_popup.volumes_label')%> <div class=field-type-colorpicker data-color=\"<%-chartSettings.colors.common.volume%>\" data-field=colors.common.volume></div> </div> </div> </div> <div class=chart-settings-footer> <div class=action-buttons> <button class=\"btn btn-primary fn-save\"><%=__('actions.save')%></button> <button class=\"btn fn-cancel\"><%=__('actions.cancel')%></button> </div> <% if (settings.isLiveChatEnabled()) { %> <div class=help-link> <div><%=__('help.need_help')%> <a href=#><%=__('help.right_here')%></a></div> </div> <% } %> </div> </div>"},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(70),s=n(772),a=n(1442),l=n(454),c=r.template(n(1444)),u=r.template(n(1445)),d=n(1446),p=n(315);i.exports=o.extend({currentNumber:0,defaultIndicators:{},activeIndicators:{},events:function(){return r.extend({},r.result(o.prototype,"events"),{"keyup #search-indicators-input":"onSearchInput","click .indicator-item":"onIndicatorSelected","click #indicator-trading-central":"onTradingCentralClicked","click .indicators-list-active input":"onIndicatorClicked","click .indicators-list-available input":"onIndicatorClicked","click #uncheck-indicators":"uncheckIndicators","click .fn-save":"onSave","click .fn-cancel":"onCancel"})},getOptions:function(e){return r.extend({},r.result(o.prototype,"getOptions"),{isHeaderShowed:!0,closeIconStyle:"blue",headerStyle:"wizard",caption:__("chart.indicators_settings.header"),indicators:this.indicators},e)},onSave:function(){var e=this;this.close(),l.save(this.tradingCentral.enabled,this.tradingCentral.settings);var t=r.reduce(r.sortBy(r.filter(this.indicators,(function(e){return e.active})),"title"),(function(e,t){return e.concat(r.each(t,(function(t,n){return t.uiid=+(""+(e.length+1)+n)})))}),[]),n=r.reduce(r.sortBy(r.filter(this.indicators,(function(e){return!e.active})),"title"),(function(t,n){var i=r.map(n,(function(t){return d.get(e.defaultIndicators[t.id],t,["uiid"])}));return 1===i.length&&r.isObject(i[0])&&r.isEmpty(i[0])||(t[n.id]=i),t}),{});this.sendIndicatorsSettings(t,n,this.chartIndex)},onCancel:function(){this.close()},uncheckIndicators:function(){this.activeIndicators=r.each(this.indicators,(function(e){return e.active=!1})),this.currentNumber=0,this.render()},onSearchInput:function(e){var t=e.currentTarget.value.toLowerCase();r.each(this.$(".indicator-item"),(function(e){e.dataset.indicator.toLowerCase().indexOf(t)<0?e.style.display="none":e.style.display="block"}))},onIndicatorSelected:function(e){var t=e.currentTarget.dataset.indicator;if(t===l.defaults.id&&!l.isAvailable())return l.showUnavailableMessage(),e.stopImmediatePropagation(),void e.preventDefault();this.selectedId!==t&&(this.selectedId=t,this.renderIndicatorInfo())},onTradingCentralClicked:function(e){e.currentTarget.checked?this.checkTradingCentral():this.uncheckTradingCentral()},onIndicatorClicked:function(e){var t=e.currentTarget.parentElement.dataset.indicator;e.currentTarget.checked?this.checkIndicator(t,e):this.uncheckIndicator(t,e)},checkIndicator:function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectedId;var e=arguments[1];this.currentNumber<5?(this.currentNumber++,this.indicators[this.selectedId].active=!0,this.renderIndicatorsList()):e&&e.preventDefault()},uncheckIndicator:function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectedId;var e=arguments[1];this.currentNumber>=0?(this.currentNumber--,this.indicators[this.selectedId].active=!1,this.renderIndicatorsList()):e&&e.preventDefault()},checkTradingCentral:function(){this.tradingCentral.enabled=!0,this.renderIndicatorsList(),this.renderIndicatorInfo()},uncheckTradingCentral:function(){this.tradingCentral.enabled=!1,this.renderIndicatorsList(),this.renderIndicatorInfo()},initialize:function(e,t,n,i,s,a){var c=this;o.prototype.initialize.apply(this,arguments),this.chartIndex=t,this.sendIndicatorsSettings=a,this.defaultIndicators=r.reduce(s,(function(e,t){return e[t.id]=t,e}),{}),n=r.groupBy(n,"id"),this.currentNumber=r.keys(n).length,this.selectedId=void 0,this.indicators=r.reduce(s,(function(e,t){var o=void 0;return n[t.id]?((o=n[t.id]).active=!0,c.selectedId||(c.selectedId=t.id)):i[t.id]?(o=r.map(i[t.id],(function(e){return d.apply(t,e)}))).active=!1:(o=[p(t)]).active=!1,o.id=t.id,o.title=t.title,e[t.id]=o,e}),{}),this.selectedId||(this.selectedId=r.sortBy(r.keys(this.indicators))[0]),this.tradingCentral={available:l.isAvailable(),enabled:l.isAvailable()&&l.isEnabled(),settings:l.settings},this.render()},render:function(){o.prototype.render.call(this),this.setContent(c()),this.renderIndicatorsList(),this.selectedId&&this.renderIndicatorInfo()},renderIndicatorsList:function(){this.$el.find(".indicators-settings-left-sidebar").html(u({selectedId:this.selectedId,activeIndicators:r.sortBy(r.filter(this.indicators,(function(e){return e.active})),"title"),inactiveIndicators:r.sortBy(r.filter(this.indicators,(function(e){return!e.active})),"title"),tcId:l.defaults.id,tcEnabled:this.tradingCentral.enabled,isTradingCentralAvailable:this.tradingCentral.available})),this.$el.find(".indicators-info").css("visibility",this.currentNumber>0?"visible":"hidden"),this.$el.find(".indicators-info > span").html(__("chart.indicators_settings.indicators_count",[this.currentNumber,5])),this.$(".selected").removeClass("selected"),this.$('[data-indicator="'+this.selectedId+'"]').addClass("selected")},renderIndicatorInfo:function(){var e=this;this.$(".selected").removeClass("selected"),this.$('[data-indicator="'+this.selectedId+'"]').addClass("selected"),this.indicatorSettingsView&&this.indicatorSettingsView.destroy&&this.indicatorSettingsView.destroy(),this.selectedId===l.defaults.id?this.indicatorSettingsView=new a({parent:this.$("#indicator-info-container"),indicator:this.tradingCentral.settings,checked:this.tradingCentral.enabled,checkIndicator:this.checkTradingCentral.bind(this)}):this.indicatorSettingsView=new s({parent:this.$("#indicator-info-container"),indicator:this.indicators[this.selectedId],defaultIndicator:this.defaultIndicators[this.selectedId],onChange:function(){return e.checkIndicator()},onAdd:function(t){return e.$el.find(".indicator-item.selected .badge").html(t>1?t-1:"")},onRemove:function(t){return e.$el.find(".indicator-item.selected .badge").html(t>1?t-1:"")}}),this.indicatorSettingsView.render()},destroy:function(){this.indicatorSettingsView.destroy(),o.prototype.destroy.call(this)}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t){e.exports='<div class=form> <div class=indicator-header> <div class=indicator-info> <div class=indicator-title> <%=indicators[0].title%> </div> <div class=indicator-description> <%=localize(\'chart_studies.description.\' + indicators[0].id, "")%> </div> </div> <div class=indicator-controls> <div class="btn btn-primary fn-add-indicator add-indicator-settings" <%=isFull && "disabled"%>><i class=icon-plus-circe></i><span><%=__(\'chart_studies.add_settings\')%></span></div> <% if (!hasSettings) { %> <a class="restore-defaults fn-restore-indicator" data-index=0><%=__(\'chart_studies.restore_defaults\')%></a> <% }; %> </div> </div> <div class="indicator-settings-list <%= hasSettings ? \'with-settings\' : \'without-settings\' %>"> <% _.each(indicators, function(indicator,indicatorIndex){ %> <div class="indicator-settings-item <%=states[indicatorIndex] && \'active\'%>"> <% if (hasSettings) { %> <div class=indicator-settings-item-header> <div> <i class="icon-collapse-settings fn-collapse-indicator <%=states[indicatorIndex] && \'collapsed\'%>" data-index="<%=indicatorIndex%>"></i> <span class=indicator-settings-title><%= indicator.title + (indicatorIndex === 0 ? \'\' : (" " + (indicatorIndex + 1)))%></span> </div> <div> <a class="restore-defaults fn-restore-indicator" data-index="<%=indicatorIndex%>"><%=__(\'chart_studies.restore_defaults\')%></a> <span class=separator></span> <i class="icon-recycle-blue remove-indicator-settings fn-remove-indicator" data-index="<%=indicatorIndex%>"></i> </div> </div> <% } %> <div class=indicator-settings-item-content> <% if (indicator.parameters.length > 0) { %> <div class=indicator-inputs> <div class=indicator-inputs-header> <%=__(\'chart_studies.settings.category_inputs\')%> </div> <% _.each(indicator.parameters, function (parameter, index) {%> <div class=indicator-input> <div class=indicator-input-name> <%-localize(\'chart_studies.settings.param_name_\' + parameter.name, parameter.name) %>: </div> <%\n                        switch (parameter.type) {\n                        case "PRICE_FIELD_TYPE":\n                        %> <div class="field field-input field-type-select" name="<%-parameter.name%>-parameter-<%-indicatorIndex%>" data-indicator="<%-indicatorIndex%>" data-type="<%-parameter.type%>" data-category=parameters data-index="<%-index%>" data-field=value> <div class=styled-select> <select class=form-control default-value="<%=parameter.value%>"> <% _.each(priceOptions, function(option) { %> <option value="<%=option%>"> <%=__(\'chart_studies.settings.param_value_\' + option.toLowerCase())%> </option> <% }); %> </select> </div> <div class=dk-select> <div class=dk-selected><%=parameter.value%></div> <ul class=dk-select-options aria-expanded=false> <% _.each(priceOptions, function(option) { %> <li class=dk-option data-value="<%=option%>"> <%=__(\'chart_studies.settings.param_value_\' + option.toLowerCase())%> </li> <%}); %> </ul> </div> </div> <%\n                        break;\n                        default:\n                        %> <div class="field field-input field-type-spin" data-indicator="<%-indicatorIndex%>" data-type="<%-parameter.type%>" data-category=parameters data-index="<%-index%>" data-field=value> <div class=input> <input type=input name="<%-parameter.name%>-<%-indicatorIndex%>" value="<%-parameter.value%>"/> <div class=field-tooltip> <div class=arrow></div> <div class=content></div> </div> </div> <div class=actions> <button href=# class="btn action-plus"> <i class=icon-plus></i> </button> <button href=# class="btn action-minus"> <i class=icon-minus></i> </button> </div> </div> <%\n                        }\n                        %> </div> <% }, this); %> </div> <% }; %> <div class=indicator-plots> <div class=indicator-plots-header> <%=__(\'chart_studies.settings.category_plots\')%> </div> <% _.each(indicator.lines, function (line, index) {%> <div class=indicator-plot> <div class=indicator-plot-name> <%-localize(\'chart_studies.settings.line_name_\' + line.title, line.title)%>: </div> <div class="field field-thickness field-type-spin" data-indicator="<%-indicatorIndex%>" data-type="<%-line.type%>" data-category=lines data-index="<%-index%>" data-field=thickness> <div class=input> <input type=text name="<%-line.title%>-<%-indicatorIndex%>" value="<%-line.thickness%>"/> <div class=field-tooltip> <div class=arrow></div> <div class=content></div> </div> </div> <div class=actions> <button href=# class="btn action-plus"> <i class=icon-plus></i> </button> <button href=# class="btn action-minus"> <i class=icon-minus></i> </button> </div> <div class=colors> <% _.each(line.colors, function (color,_index) {%> <div class=field-color data-indicator="<%-indicatorIndex%>" data-line="<%-index%>" data-index="<%-_index%>" data-color="<%-color%>"> </div> <% }); %> </div> </div> </div> <% }); %> </div> </div> </div> <% }) %> </div> </div>'},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var r=n(1),o=n(12),s=n(454),a=n(772),l=r.template(n(1443));i.exports=a.extend({initialize:function(){s.isAvailable()?(a.prototype.initialize.apply(this,arguments),this.defaultIndicator=s.defaults,this.render()):s.showUnavailableMessage()},render:function(){this.$el.html(l({resistanceColor:this.indicator.lines[0].colors[0],supportColor:this.indicator.lines[1].colors[0],pivotColor:this.indicator.lines[2].colors[0]})),o(this.parent).html(this.el),this._initColorPickers(".field-type-colorpicker"),this._initScrollHandler()}})}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t){e.exports="<div class=form> <div class=indicator-header> <div class=indicator-info> <div class=indicator-title> <%=__('trading.central.study.title')%> </div> <div class=indicator-description> <%=__('trading.central.study.description')%> </div> </div> <div class=indicator-controls> <a class=restore-defaults><%=__('chart_studies.restore_defaults')%></a> </div> </div> <div class=\"indicator-settings-list without-settings\"> <div class=indicator-settings-item> <div class=indicator-settings-item-content> <div class=indicator-plots> <div class=indicator-plots-header> <%=__('chart_studies.settings.category_plots')%> </div> <div class=indicator-plot> <div class=indicator-plot-name> <%-__('trading.central.study.resistance.title')%>: </div> <div class=field-type-colorpicker data-color=\"<%-resistanceColor%>\" data-index=0 data-line=0></div> </div> <div class=indicator-plot> <div class=indicator-plot-name> <%-__('trading.central.study.support.title')%>: </div> <div class=field-type-colorpicker data-color=\"<%-supportColor%>\" data-index=0 data-line=1></div> </div> <div class=indicator-plot> <div class=indicator-plot-name> <%-__('trading.central.study.pivot.title')%>: </div> <div class=field-type-colorpicker data-color=\"<%-pivotColor%>\" data-index=0 data-line=2></div> </div> </div> </div> </div> </div> </div>"},function(e,t){e.exports='<div class=indicators-settings> <div class=indicators-settings-left-sidebar> </div> <div class=indicators-settings-right-sidebar> <div> <div id=indicator-info-container> </div> <div class=indicators-footer> <div class=indicators-button> <button class="btn btn-primary fn-save"><%=__(\'save\')%></button> <button class="btn fn-cancel"><%=__(\'cancel\')%></button> </div> <div class=indicators-info> <div class="icon icon-info"></div> <span></span> </div> </div> </div> </div> </div>'},function(e,t){e.exports="<div class=\"search-block search-indicators-block\"> <div class=search-block-input> <input type=text id=search-indicators-input placeholder=\"<%=__('chart.indicators_settings.search')%>\"/> </div> </div> <% if (isTradingCentralAvailable) { %> <div class=trading-central-item-wrapper> <div class=indicator-item data-indicator=\"<%=tcId%>\"> <input id=indicator-trading-central type=checkbox class=fn-tech-instr <%-tcEnabled ? 'checked' : ''%>/> <label><span class=checkbox_label_inline><%-__('trading.central.study.title')%></span></label> </div> </div> <% } %> <% if (activeIndicators && _.keys(activeIndicators).length > 0) { %> <div class=indicators-list-active-title> <div class=title><span><%=__('chart.indicators_settings.active_indicators')%></span><a id=uncheck-indicators><%=__('chart_studies.uncheck_all')%></a> </div> </div> <div class=indicators-list-active> <ul> <% _.each(activeIndicators, function (indicator) {%> <li class=\"indicator-item <%-indicator.id == selectedId ? 'selected' : ''%>\" data-indicator=\"<%-indicator.id%>\"> <input id=\"indicator-item-<%-indicator.id%>\" type=checkbox class=fn-tech-instr checked=checked /> <label><span class=checkbox_label_inline><%-indicator.title%><span class=badge><%-indicator.length > 1 ? indicator.length - 1 : ''%></span></span></label> </li> <% }); %> </ul> </div> <% } %> <div class=indicators-list-available-title> <div class=title><span><%=__('chart.indicators_settings.available_indicators')%></span></div> </div> <div class=indicators-list-available> <ul> <% _.each(inactiveIndicators, function (indicator) {%> <li class=\"indicator-item <%-indicator.id == selectedId ? 'selected' : ''%>\" data-indicator=\"<%-indicator.id%>\"> <input id=\"indicator-item-<%-indicator.id%>\" type=checkbox class=fn-tech-instr /> <label><span class=checkbox_label_inline><%-indicator.title%><span class=badge><%-indicator.length > 1 ? indicator.length - 1 : ''%></span></span></label> </li> <% }); %> </ul> </div> "},function(e,t,n){var i=n(1),r=n(315);function o(e,t,n){return i.reduce(t,(function(t,r,s){return!i.isEqual(r,e[s])&&n.indexOf(s)<0&&(t[s]=i.isObject(r)&&i.isObject(e[s])?o(e[s],r,n):r),t}),{})}e.exports={get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return o(e,t,n)},apply:function(e,t){var n=r(e);return function e(t,n){i.each(n,(function(n,r){i.isObject(n)?e(t[r],n):t[r]=n}))}(n,t),n}}},function(e,t,n){var i;void 0===(i=function(e,t,n){n.exports={EMPTY:"EMPTY",SUCCESS:"SUCCESS",ERROR:"ERROR"}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i){var r,o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};void 0===(r=function(e,t,i){var r=n(9),a=n(5),l=n(3).LIVE_ACCOUNT_ID,c=n(1),u=n(125),d=n(285),p=n(266),f="eventos.pending.events";function h(e){this.message="paramsBuilder not found for event: "+e,this.toString=function(){return""+this.message}}var m={appSource:d.device(),uId:u.getMachineId(),brandName:r.getBrandName(),clientPlatform:"indigo",isHomeScreen:window.matchMedia("(display-mode: standalone)").matches},g=void 0;var v=function(e){return c.extend(e,{lang:g.lang,cId:g.cId,tpId:g.tpId,tradingAccountType:g.tradingAccountType,platformType:g.platformType},g.commonParams)},b=function(e){return c.extend({cId:g.cId,tpId:g.tpId},m,e)},_={onBoardFlow:{platformModeSelector:{clkButtonReal:function(){return c.extend({cId:g.cId,tpId:g.tpId},m)},clkButtonDemo:function(){return c.extend({cId:g.cId,tpId:g.tpId},m)}},notificationCenter:{openMessage:function(e){return c.extend(s({cId:g.cId,tpId:g.tpId},e),m)},deleteMessage:function(e){return c.extend(s({cId:g.cId,tpId:g.tpId},e),m)},markAsRead:function(e){return c.extend(s({cId:g.cId,tpId:g.tpId},e),m)},clickThrough:function(e){return c.extend(s({cId:g.cId,tpId:g.tpId},e),m)}},ATM:{clkButton:function(e){return c.extend(s({cId:g.cId,tpId:g.tpId},e),m)},clkClose:function(e){return c.extend({cId:g.cId,tpId:g.tpId},m)}},login:{afterLoginAction:function(){return c.extend({lang:g.lang,cId:g.cId,tpId:g.tpId,tradingAccountType:g.tradingAccountType,platformType:g.platformType,authMethod:p.getSelectedAuthMethod()||"regular"},g.commonParams)},display:function(e){return c.extend({},{lang:e.lang},m)},clkLogin:function(e){return c.extend({},{rememberMeStatus:e.rememberMeStatus},m)},clkrememberMeCheckBox:function(e){return c.extend({},{rememberMeStatus:e.rememberMeStatus},m)},clkCreateNewAccount:function(){return c.extend({},m)},clkForgetPassword:function(){return c.extend({},m)}},changePassword:{display:b,clkChangePassword:b,clkForgetPassword:b},leadForm:{display:function(e){return c.extend({},{lang:e.lang},m)},clientSubmit:function(){return c.extend({},m)}},cashierDialog:{display:function(){return c.extend({cId:g.cId,tpId:g.tpId},g.commonParams)}},FirstDepositWindow:{clkClose:function(e){return c.extend({cId:g.cId,tpId:g.tpId},m)},clkDeposit:function(e){return c.extend({cId:g.cId,tpId:g.tpId},m)}},addToHomeScreen:{browserTrigger:v,confirmImpression:v,confirmAccept:v,confirmReject:v,nativeImpression:v,nativeReject:v,installed:v},depositSuccess1stCcNonComp:{display:b,clkClose:b,clkVerify:b},depositSuccess1stPmNonComp:{display:b,clkClose:b,clkVerify:b},depositSuccess2ndCcNonComp:{display:b,clkClose:b,clkVerify:b},depositSuccess2ndComp:{display:b,clkClose:b,clkOk:b},bonusApprovalPopupUnified:{clkTerms:b,display:b,clkAccept:b,clkDecline:b},confirmIDBonus:{clkTerms:b,display:b,clkConfirm:b,clkDecline:b},confirmResidenceBonus:{clkTerms:b,display:b,clkConfirm:b,clkDecline:b},registrationWizard:{clientRegisterSuccess:b,clkClose:b,step1Display:b,step2Display:b,step3Display:b,step4Display:b,step5Display:b,step6Display:b,step1Next:b,step2Next:b,step3Next:b,step4Next:b,step5Next:b,step6Next:b,step1Previous:b,step2Previous:b,step3Previous:b,step4Previous:b,step5Previous:b,step6Previous:b},eyeCatcher:{clkEyeChReg:b,clkCloseReg:b,clkEyeChPlt:b,clkClosePlt:b},Quantranks:{impression:b,clkButton:b}},tradingPlatform:{signalWidget:{selectSignals:b,selectCommentary:b,selectNews:b,clkSignalsItem:b,clkCommentaryItem:b,clkNewsItem:b},orderForm:{clkSendOrder:v,serverResponse:v,OPmodeChanged:v},closePosition:{clkClosePositionSendOrder:v},inPlatformMessages:{impression:v,expand:v,x_close:v,btn_clk:v,auto_dismiss:v,hover:v},multiCharts:{display:v},changePlatformSettings:{openPositionMode:v,tradingView:v},accountSettings:{clientLeverageChanged:v},chart:{timeout:v},instrumentList:{instrumentSelected:v}},tradingTools:{analystRec:{impression:v},analystRecMainMenu:{impression:v},analystRecInstrumentDetails:{impression:v},delkos:{impression:v},delkosMainMenu:{impression:v},delkosInstrumentDetails:{impression:v},insiders:{impression:v},insidersMainMenu:{impression:v},insidersInstrumentDetails:{impression:v},bloggers:{impression:v},bloggersMainMenu:{impression:v},bloggersInstrumentDetails:{impression:v},hedgefunds:{impression:v},hedgefundsMainMenu:{impression:v},hedgefundsInstrumentDetails:{impression:v},newsSentiment:{impression:v},newsSentimentMainMenu:{impression:v},newsSentimentInstrumentDetails:{impression:v},commentary:{impression:v},commentaryServicesBox:{impression:v},commentaryMainMenu:{impression:v},news:{impression:v},newsServicesBox:{impression:v},newsMainMenu:{impression:v},newsInstrumentDetails:{impression:v},newsAlerts:{impression:v},newsAlertsMainMenu:{impression:v},newsAlertsInstrumentDetails:{impression:v},xRay:{impression:v},xRayServicesBox:{impression:v},xRayMainMenu:{impression:v},educationOnDemand:{impression:v},tradingCentral:{impression:v},multiCharts:{impression:v},analystResearchDownload:{impression:v},videoTutorials:{impression:v}},learn:{webinars:{impression:v,tuneIn:v,muted:v,userActive:v,userInactive:v,play:v,idle:v},blog:{impression:v}},pendingBonus:{activePendingBonus:{clkBanner:b}},test:{dcm:{sitev:v,leadwBefore:v,leadw:v,fullr:v,first:v,missingUser:v},fb:{PageView:v,Lead:v,CompleteRegistration:v,Purchase:v}},retention:{targetLoginMessage:{autoclose:b,closeMessage:b,clkMessage:b}},performance:{basicChart:{load:b},advancedChart:{load:b},platform:{load:b}}};function y(e,t){if(!c.isString(e.name)||0===e.name.length)return null;var n,i,r=e.name.split(":"),s={},a=(n=r,i=_,c.reduce(n,(function(e,t){return e&&e[t]?e[t]:null}),i));if(!a)throw new Error("paramsBuilder not found for event: "+e.name);try{s=a(e.params)||{}}catch(n){if(!t)throw new h(e.name);s=m}var l={},u=o(r,3),d=u[0],p=u[1],f=u[2];return d&&(l.category=d),p&&(l.subCategory=p),f&&(l.action=f),c.extend(s,e.params||{},l)}var E=[],S=!1;window.__eventos=function(e,t,n){var i=void 0;try{i=y({name:e,params:t},n)}catch(n){if(!(n instanceof h))return a.trigger("log:error","Can`t send tracking event to eventos with error message "+n.message),Promise.reject("e.message");if(!S)return E.push({eventName:e,params:t}),function(){var e=localStorage;if(!e)return;e.setItem(f,JSON.stringify(E))}(),Promise.resolve()}return i?new Promise((function(t,n){var o=document.createElement("img");o.src=r.getEventosTrackingUrl()+"/trackEvent.gif?"+function(e){return c.map(e,(function(e,t){return t+"="+e})).join("&")}(i)+"&cb="+Date.now();var s=!1;o.onload=function(){s||(s=!0,t())},o.onerror=function(e){s||(s=!0,n(e))},setTimeout((function(){s||(s=!0,n(new Error("Eventos: "+e+" Max time exceeded before operation completed")))}),5e3)})):Promise.reject("Invalid ping request")};var C=!1,w=!1;function O(){var e,t,i,r,o;C&&w&&(S=!0,e=n(6),t=n(54),i=e.getCustomerId(),r=e.getUserAccountData(),o=u.isMarketsX()?{campaign:"MarketsX"}:{},g={commonParams:c.extend({sessionId:e.getSessionId()},m,o),lang:t.getLanguage()||"en",cId:i,tpId:e.getPlatformAccountId(),tradingAccountType:r.tradingAccountType===l?"LIVE":"DEMO",platformType:"COSMOS"},c.each(window.__eventosCache.flush(),(function(e){__eventos(e.eventName,e.params)})),c.each(function(){var e=localStorage;if(!e)return;var t=e.getItem(f);if(!t)return null;try{return JSON.parse(t)}catch(e){return[]}}(),(function(e){__eventos(e.eventName,e.params)})),function(){E=[];var e=localStorage;if(!e)return;e.removeItem(f)}())}a.on("user:info",(function(){w=!0,O()})),a.on("user:data:update",(function(){C=!0,O()})),a.on("settings:load:success",(function(){m.brandName=r.getBrandName()}))}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};void 0===(r=function(e,t,i){var r=n(1),s=n(775),a={options:{},initialize:function(e){if(!e&&!e.events&&e.conditions)throw new Error("StateManager:initialize. Options should have events and conditions properties.");return this.options=e,this},extend:function(e,t){return this.options=!0===t?r.extend({},e):r.extend({},this.options,e),this},singleConditionProcess:function(e,t){var n=0===e.indexOf("NOT_"),i=n?e.slice(4):e,o=this.options.conditions,s=o[i];if(!s||!r.isFunction(s))throw new Error("there is no "+i+" condition in conditions.js");var a=s.call(o,t);return!!(a=n?!a:a)},calculateBooleanExpression:function(e,t){var n=this,i=e.split(/\s*\|{2}\s*/);if(i.length>1){var o=r.chain(i).map((function(e){return n.singleConditionProcess(e,t)})).join("||").value();return new Function("return ("+o+")")()}return this.singleConditionProcess(i[0],t)},getExecutableActions:function(e,t){if(e instanceof s.Actions)return e.getData();for(var n in e){var i=e[n],r=i[0],o=i[1];if(this.calculateBooleanExpression(r,t)){if(o instanceof s.Actions)return o.getData();if(o=this.getExecutableActions(o,t))return o}}},findEvent:function(e){var t=r.find(this.options.events,(function(t){return t[0]===e||r.includes(t[0].split("||"),e)}));return t&&t[1]},event:function(e,t,n){var i=this.findEvent(e);if(!i)return!0;var s=o({onSuccess:t||r.noop},n);s.source=n&&n.source||e;var a=s.onSuccess,l=this.getExecutableActions(i,s);r.isEmpty(l)?r.isFunction(a)&&a(s):this.runActions(l,a,s)},trim:function(e){return r.map(e,(function(e){return String(e).trim()}))},checkConditions:function(e){return void 0===e||(e=this.trim(e),r.every(e,(function(e){return void 0!==this.options.conditions[e]&&r.result(this.options.conditions,e)}),this))},runActions:function(e,t,n){return e=this.trim(e),e=r.map(e,(function(e){return String(e).replace(/\s/g,"")})),r.each(e,(function(e,i,r){var o=this.detectAction(e);o.isBanner?this.runBannerAction(o,t,n):o.isPopup?this.runPopupAction(o,t,n):o.isEvent?this.runEventAction(o,t,n):this.runDefaultAction(o,t,n)}),this),!0},runBannerAction:function(e,t,n){var i=e.args[0],o=e.args[1],s=this.options.onBanner;r.isFunction(s)&&s.call(null,i,o,n)},runEventAction:function(e,t,n){var i=e.args[0];this.event(i,t,n)},runPopupAction:function(e,t,n){var i=e.args[0],o=e.args[1],s=e.args[2],a=e.args[3],l=this.options.handlers[i],c=function(e,i){e&&i.event(e,t,n)};if(r.isFunction(l)){var u=r.partial(c,o,this),d=r.partial(c,s,this),p=r.partial(c,a,this);l.call(this.options.handlers,u,d,p,n)}},runDefaultAction:function(e,t,n){var i=this.options.handlers[e.origin];r.isFunction(i)&&i.call(null,n)},detectAction:function(e){var t=0===e.indexOf("banner"),n=0===e.indexOf("popup"),i=0===e.indexOf("event"),r=this.parsedAction(e);return{origin:e,isBanner:t,isEvent:i,isPopup:n,type:r.type,args:r.args,isDefault:!t&&!n&&!i}},parsedAction:function(e){var t=e.match(/(.*?)\((.*?)\)/i);return{type:t&&t[1]?t[1]:"",args:t&&t[2]?t[2].split(","):[]}},conditions:function(){var e=this.options.conditions;return r.chain(e).map((function(t,n){return[n,r.result(e,n,!1)]})).reduce((function(e,t,n){return e[t[0]]=t[1],e}),{}).value()}};i.exports=function(e){return a.initialize(e)}}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t){e.exports='<div class="message-box <%=options.isHeaderShowed ? \'message-box-with-header\' : \'\'%>"> <% if (options.showLogo) { %> <div class=logotype-box> <span class="logotype header-logo <%=options.isLightTheme ? \'logotype--dark\' : \'\' %>"></span> </div> <% } %> <% if (options.isMarketsXPromotion) { %> <div class=logo></div> <% } %> <div class="text subHeader"><%=options.subHeader%></div> <% if (options.caption && !options.isHeaderShowed) { %> <div class=title><%=(_.isArray(options.caption) ? options.caption.join(\' \') : options.caption)%></div> <% } %> <div class="text <%= options.textAlignment ? options.textAlignment : \'\' %>"> <%= options.text %> </div> <div class=text><%=options.messageContent%></div> <% if (options.isShowOkButton) { %> <div class="actions <% if (options.isShowCloseForMobile) {%>hidden-xs<% } %>"> <button class="btn btn-primary"><%=options.okBtnText%></button> </div> <% } %> </div> <% if (options.isShowCloseForMobile) { %> <div class="message-box-double-actions visible-xs"> <div class="actions flex"> <div class="block-button flex"> <button class="btn fn-close-popup"> <span class="flex flex-align-center flex-valign-center"><%=__(\'actions.close\')%></span> </button> </div> <% if (options.isShowOkButton) { %> <div class="block-button flex"> <button class="btn btn-primary fn-ok"> <span class="flex flex-align-center flex-valign-center"><%=options.okBtnText%></span> </button> </div> <% } %> </div> </div> <% } %> '},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,r){var o=n(1),s=n(5),a=n(33).default,l=n(322).SECTION,c=n(3),u=c.IS_LOGIN_FROM_LOGIN_PAGE,d=c.ACCOUNT_TRADING_TYPE,p=c.ACCOUNT_TYPE;r.exports={openCashier:function(){s.trigger("ui:deposit")},openCashierForWithdraw:function(){s.trigger("ui:cashier-for-withdraw")},openVerificationCenter:function(e){s.trigger("ui:verification-center",e)},openEventsAndTrade:function(){s.trigger("ui:events-and-trade")},openTipRanks:function(){var e=a.mobile()?"popup.mobile":"popup",t=a.mobile()?i(".wrapper"):_app.getPopupsPlaceholder();new(n(1452)("./tip.ranks."+e+".view"))({parent:t})},openInsiders:function(){var e=a.mobile()?"popup.mobile":"popup",t=a.mobile()?i(".wrapper"):_app.getPopupsPlaceholder();new(n(1459)("./insiders."+e+".view"))({parent:t})},openBloggers:function(){var e=a.mobile()?"popup.mobile":"popup",t=a.mobile()?i(".wrapper"):_app.getPopupsPlaceholder();new(n(779)("./bloggers."+e+".view"))({parent:t})},openWebinars:function(){s.trigger("flow:webinars")},runDeepLink:function(){n(178).run()},openLoginMessage:function(){s.trigger("login:message:show")},DEFAULT:function(e){o.isFunction(e)&&e()},EMPTY:o.noop,openWithdraw:function(){new(n(1479))({parent:i(".wrapper"),isHeaderShowed:!0,caption:__("withdraw.title"),previousCaption:__("actions.back"),headerStyle:"wizard",maxBoxWidth:"100%",showBoxShadow:!1,showHeader:!0,overlayTranslucent:"1",onPrevious:function(){},onNext:function(){}})},openAutoWithdrawal:function(e){s.trigger("ui:auto-withdrawal",e)},openFirstDepositPopup:function(e){e.accountInstrumentType!==d.SHARE_DEALING&&s.trigger("ui:first-deposit",e)},switchToRealMode:function(){s.trigger("platform:switch","live","?path=deposit")},switchToDemoMode:function(){s.trigger("platform:switch","demo")},switchToDemoModeSync:function(){s.trigger("platform:switch:sync","demo")},switchToDemoModeCFD:function(){var e=n(408).loadAllAccounts,t=n(157).getAccountByInstrumentType,i=window.store;i.dispatch(e()).then((function(){var e=t(i.getState(),d.CFD),n=o.findWhere(e,{tradingAccountType:p.DEMO});if(n){var r=n.tradingAccountType,a=n.platformAccountId;s.trigger("platform:switch:account",r,a)}}))},openLeveragePopup:function(){s.trigger("ui:account-settings",l.LEVERAGE)},openChangePasswordPopup:function(){s.trigger("ui:account-settings",l.PASSWORD)},openNotificationsPopup:function(){s.trigger("ui:account-settings",l.NOTIFICATIONS)},switchToRealAndOpenFullReg:function(){s.trigger("platform:switch","live","?path=fullreg")},switchToRealAndOpenDeposit:function(){s.trigger("platform:switch","live","?path=deposit")},switchToRealAndOpenVerification:function(){s.trigger("platform:switch","live","?path=verification-center")},switchToDemoAndRetakeQuiz:function(){s.trigger("platform:switch","demo","?path=retake-quiz")},retakeQuiz:function(){s.trigger("ui:retake-quiz")},completeFullRegistration:function(){s.trigger("registration:complete")},openCheckKnowledge:function(){s.trigger("open-check-knowledge")},cleanLoginInfo:function(){localStorage.removeItem(u)},rejectUser:function(){s.trigger("reject-user")},openPortfolioBuilder:function(){s.navigate("/portfolios/create")},registrationFilled:function(){s.trigger("registration:filled")},openSaxoDeposit:function(e){!function(e){var t=e.accountInstrumentType,i=n(314).getFirstSaxoId,r=window.store;if(t===d.SHARE_DEALING){var o=i(r.getState());o&&s.trigger("ui:deposit:account",{accountId:o})}}(e)}}}.call(t,n,t,e))||(e.exports=o)}).call(this,n(12),n(1))},function(e,t,n){var i={"./tip.ranks.popup.mobile.view":1453,"./tip.ranks.popup.view":1457};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id=1452},function(e,t,n){(function(i,r){var o;function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}void 0===(o=function(e,t,i){var o=n(5),a=n(1),l=n(100),c=n(26),u=n(115),d=n(0),p=n(22),f=n(190),h=n(86),m=n(70),g=n(1454),v=n(3).PERIODS,b=n(122).sendEventosAnalystRecommendationsAction,_=n(64).transformSBSymbolToSymbol,y=n(177).loadTipRanks,E=a.template(n(1455)),S=a.template(n(1456)),C=m.extend({subscribedInstruments:[],initialize:function(e){m.prototype.initialize.apply(this,arguments),this.periods=[].concat(s(v)),this.current_period=this.periods[2],this.getAnalystRecommendations(this.current_period,this.periods[3]),this.listenTo(o,"ui:instrument:change",this.close)},getAnalystRecommendations:function(e,t){var n=this;return e=e||this.current_period,this.addChildView(".tip-ranks-mobile-wrapper",h,{parent:r(".main-box"),position:"absolute"}),this.loadAnalystRecommendations(e,t).then((function(e){return e.data.error?(n.stocks=[],n.render(),n.removeChildView(".tip-ranks-mobile-wrapper"),Promise.reject()):(n.stocks=n.createCollection(e.data),n.render(),n.removeChildView(".tip-ranks-mobile-wrapper"),Promise.resolve())}))},loadAnalystRecommendations:function(e,t){return y(e).then((function(e){return!e.data.error&&e.data.recommendations&&0!==e.data.recommendations.length||!t?Promise.resolve(e):y(t)}))},createCollection:function(e){var t=new l,n=[],i=a.reduce(e.recommendations,(function(t,n){var i=n.stock_ticker;return a.has(e.stocks,i)&&a.isEmpty(t[i])&&(t[i]=a.extend(e.stocks[i],{ticker:i,symbol:n.symbol})),t}),{});return a.each(i,(function(e){var i=e.symbol,r=c.getInstrumentBySymbol(i);if(r){var o=new g(e);o.set("instrument",r),n.push(i),t.add(o)}})),this.subscribedInstruments=u.update(n,this.subscribedInstruments).addedSymbols,t},events:function(){return a.extend({},a.result(m.prototype,"events"),{"click td.column-instrument":"viewDetails","change [name=period]":"changePeriod","change [name=instruments]":"filterStocks"})},getOptions:function(e){return a.extend({},a.result(m.prototype,"getOptions"),{isHeaderShowed:!0,caption:__("tab.analyst_recommendations"),previousCaption:__("actions.back"),headerStyle:"wizard",bodyStyle:"trading-tools",headerCaptionStyle:"tipranks-mobile-header"},e)},close:function(e){u.remove(this.subscribedInstruments),m.prototype.close.call(this),this.destroy()},changePeriod:function(){var e=this.$el.find("select[name=period] option:checked").val();this.current_period=e,this.getAnalystRecommendations()},filterStocks:function(e){var t,n=this.$el.find("select[name=instruments] option:checked"),i=[];n.length>0&&(i=a.map(n,(function(e){return r(e).val()}))),t=a.filter(this.stocks.models,(function(e){return a.find(i,(function(t){return t===e.getSymbol()}))})),this.renderFilteredData(t)},viewDetails:function(e){var t=r(e.currentTarget),n=t.closest("tr"),i=t.find(".stock-expand span"),o=n.parentNode.rows[n.rowIndex];"+"===i.html()?(r(o).removeClass("hidden"),i.html("-"),b(r(n).attr("data-symbol"))):(r(o).addClass("hidden"),i.html("+"))},getBuySell:function(e){var t=this;a.each(e,(function(e){var n=e.getConsensus();if("sell"===n){var i=d.createElement(f,{type:"Sell",column:{name:"Sell",key:"bid",direction:"bidDirection"},model:e.get("instrument"),isSelected:!0,onClick:a.noop});p.render(i,t.$el.find('[data-symbol="'+e.getSymbol()+'"] .instrument-sell-change table tr')[0])}if("buy"===n){var r=d.createElement(f,{type:"Buy",column:{name:"Buy",key:"ask",direction:"askDirection"},model:e.get("instrument"),isSelected:!1,onClick:a.noop});p.render(r,t.$el.find("[data-symbol='"+e.getSymbol()+"'] .instrument-buy-change table tr")[0])}}))},render:function(){m.prototype.render.call(this);var e=a.isArray(this.stocks.models)&&this.stocks.models.length>0?this.stocks.models:[];return this.setContent(E({stocks:e,periods:this.periods,current_period:this.current_period})),this.$el.find(".content-block").html(S({stocks:e,transformSBSymbolToSymbol:_})),this.getBuySell(e),b(),this},renderFilteredData:function(e){var t=a.isArray(e)&&e.length>0?e:this.stocks.models;this.$el.find(".content-block").html(S({stocks:t,transformSBSymbolToSymbol:_})),this.getBuySell(t)}});i.exports=C}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(43).extend({defaults:function(){return{avg_target_price:"NA",avg_upside:0,consensus:"",current_price:"NA",high_target_price:0,high_upside:0,low_target_price:0,low_upside:0,name:"",past_prices:[],total_analysts_buy:0,total_analysts_hold:0,total_analysts_recommendations:0,total_analysts_sell:0,symbol:"",ticker:"",instrument:""}},getSymbol:function(){return this.get("symbol")},getTicker:function(){return this.get("ticker")},getName:function(){return this.get("name")},getCurrentPrice:function(){return this.get("current_price")},getAvgTargetPrice:function(){return this.get("avg_target_price")},getHighTargetPrice:function(){return this.get("high_target_price")},getLowTargetPrice:function(){return this.get("low_target_price")},getConsensus:function(){return this.get("consensus").indexOf("Buy")>-1?"buy":this.get("consensus").indexOf("Sell")>-1?"sell":"hold"},getConsensusText:function(){return this.get("consensus")},getBuyRecommendations:function(){return this.get("total_analysts_buy")/this.get("total_analysts_recommendations")*100},getSellRecommendations:function(){return this.get("total_analysts_sell")/this.get("total_analysts_recommendations")*100},getHoldRecommendations:function(){return this.get("total_analysts_hold")/this.get("total_analysts_recommendations")*100},getTotalAnalystsBuy:function(){return this.get("total_analysts_buy")},getTotalAnalystsSell:function(){return this.get("total_analysts_sell")},getTotalAnalystsHold:function(){return this.get("total_analysts_hold")},getTotalAnalystsRecommendations:function(){return this.get("total_analysts_recommendations")},getPastPrices:function(){return this.get("past_prices")},getPriceTargetGraph:function(){var e=75-55*this.getAvgTargetPrice()/this.getHighTargetPrice(),t=75-55*this.getLowTargetPrice()/this.getHighTargetPrice(),n=r.isUndefined(this.getPastPrices())?e:75-55*this.getPastPrices()[0]/this.getHighTargetPrice();if(null!=this.getPastPrices()){for(var i=103/this.getPastPrices().length,o=[],s="M123,",a=1,l=this.getPastPrices().length;a<l;a++)o.push(75-55*this.getPastPrices()[a]/this.getHighTargetPrice()),s+=75-55*this.getPastPrices()[a]/this.getHighTargetPrice()+"L"+(123-(a+1)*i)+",";s+=75-this.getPastPrices()[this.getPastPrices().length-1]/this.getHighTargetPrice()*55}return'<svg class="graph"><svg width="226" height="80"><g class="grid y-grid"><g class="tick" transform="translate(0,63.75)" style="opacity: 1;"><line x2="221" y2="0" style="stroke:#6f6f6f"></line><text dy=".32em" x="-3" y="0" style="text-anchor: end;"></text></g><g class="tick" transform="translate(0,45.48277661795407)" style="opacity: 1;"><line x2="221" y2="0" style="stroke:#6f6f6f"></line><text dy=".32em" x="-3" y="0" style="text-anchor: end;"></text></g><g class="tick" transform="translate(0,27.21555323590814)" style="opacity: 1;"><line x2="221" y2="0" style="stroke:#6f6f6f"></line><text dy=".32em" x="-3" y="0" style="text-anchor: end;"></text></g></g>'+(s?'<path d="'+s+'" class="past"></path>':"")+'<path class="high" d="M123,'+n+'L211,20"></path><path class="avg" d="M123,'+n+"L211,"+e+'"></path><path class="low" d="M123,'+n+"L211,"+t+'"></path><text transform="translate(67.75 ,75)" style="text-anchor: middle; fill: rgb(111, 111, 111); font-size: 10px; font-weight: bold; font-family: arial;">'+__("tipranks.text.past_months")+'</text><text transform="translate(173.25 ,75)" style="text-anchor: middle; fill: rgb(111, 111, 111); font-size: 10px; font-weight: bold; font-family: arial;">'+__("tipranks.text.next_months")+'</text><line x1="123" y1="5" x2="123" y2="75" stroke-width="1" style="stroke:#6f6f6f"></line><circle class="current" r="3" cx="123" cy="'+n+'"></circle><circle class="high" r="3" cx="211" cy="20"></circle><circle class="avg" r="3" cx="211" cy="'+e+'"></circle><circle class="low" r="3" cx="211" cy="'+t+'"></circle></g></svg></svg>'}});i.exports=o}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t){e.exports='<div class=tip-ranks-mobile-wrapper> <div class=tip-ranks-mobile> <div class=filters> <div class="styled-select period-select"> <select name=period> <%_.each(periods, function(period){ %> <option value="<%=period%>" <%if(period == current_period){%> selected=selected <%}%>><%=period%></option> <%});%> </select> </div> <div class=styled-select> <select name=instruments multiple=multiple size=4> <option disabled=disabled selected=selected class=hidden><%=__(\'wizard.form.label.DEFAULT_EMPTY\')%></option> <%_.each(stocks, function(stock){ %> <option value="<%=stock.getSymbol()%>"><%=stock.getName()%></option> <% }); %> </select> </div> </div> <div class=content-block></div> </div> </div> '},function(e,t){e.exports="<% if(stocks.length > 0) {%> <table class=tipranks-table> <thead> <tr class=column-head> <th class=column-instrument><%=__('tipranks.text.share')%></th> <th class=column-recommendation><%=__('tipranks.text.recommendation')%></th> <th class=column-price><%=__('tipranks.text.avg_target_price')%></th> <th class=column-current-price><%=__('tipranks.text.current_price')%></th> </tr> </thead> <tbody> <% _.each(stocks, function(stock){%> <tr class=row data-symbol=\"<%= stock.getSymbol()%>\"> <td class=column-instrument> <div class=stock-expand> <span>+</span> </div> <div class=stock-name> <div class=\"stock-image instrument-img-<%= String(transformSBSymbolToSymbol(stock.getSymbol())).toLowerCase()%>\"></div> <div class=stock-data-mobile> <div><%=stock.getName()%></div> <div><%=stock.getTicker()%></div> </div> </div> </td> <td class=column-recommendation> <div class=stock-buy-sell> <% if (stock.getConsensus() != 'hold') {%> <div class=\"instrument-<%=stock.getConsensus()%>-change\"><table><tr></tr></table></div> <%} else { %> <div class=instrument-hold><%=__('tipranks.text.hold')%></div> <% } %> </div> </td> <td class=column-price>$<%=stock.getAvgTargetPrice()%></td> <td class=column-current-price>$<%=stock.getCurrentPrice()%></td> </tr> <tr class=\"row-expand hidden\"> <td colspan=4> <div class=consensus-block> <div class=title><%=__('tipranks.text.analyst_consensus')%></div> <div class=diagram> <div class=buy style=\"width:<%=parseFloat(stock.getBuyRecommendations())%>%\"></div> <div class=sell style=\"width:<%=parseFloat(stock.getSellRecommendations())%>%\"></div> <div class=hold style=\"width:<%=parseFloat(stock.getHoldRecommendations())%>%\"></div> </div> <div class=content> <div> <span class=buy></span> <span><%=__('tipranks.text.buy')%> <%=stock.getBuyRecommendations().toFixed(2)%>% (<%=stock.getTotalAnalystsBuy()%>)</span> </div> <div> <span class=sell></span> <span><%=__('tipranks.text.sell')%> <%=stock.getSellRecommendations().toFixed(2)%>% (<%=stock.getTotalAnalystsSell()%>)</span> </div> <div> <span class=hold></span> <span><%=__('tipranks.text.hold')%> <%=stock.getHoldRecommendations().toFixed(2)%>% (<%=stock.getTotalAnalystsHold()%>)</span> </div> </div> <div class=\"description <%=stock.getConsensus()%>-color\"><%=__('tipranks.text.consensus_description', stock.getTotalAnalystsRecommendations(), stock.getName(), __('tipranks.text.' + stock.getConsensusText().toLowerCase()).toUpperCase())%></div> </div> <div class=graph-block> <div class=title><%=__('tipranks.text.price_target')%></div> <div class=content> <%= stock.getPriceTargetGraph()%> </div> <div class=description><%=__('tipranks.text.price_target_description', stock.getTotalAnalystsRecommendations(), stock.getName(), '$' + stock.getAvgTargetPrice(), '$' + stock.getHighTargetPrice(), '$' + stock.getLowTargetPrice())%></div> </div> </td> </tr> <%})%> </tbody> </table> <%} else {%> <div class=tipranks-empty> <div class=icon-analyst></div> <div><%= __('tipranks.text.no_tips')%></div> </div> <%}%> "},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(5),s=n(20),a=n(26),l=n(115),c=n(9),u=n(0),d=n(22),p=n(267).default,f=n(8),h=n(46).updateUrlBySelectedInstrumentSymbol,m=n(177).loadTipRanks,g=r.template(n(1458)),v=s.extend({usedSymbols:[],initialize:function(){s.prototype.initialize.apply(this,arguments),this.listenTo(o,"ui:header-itemclick",this.closePopup),this.listenTo(o,"ui:instrument:change",this.closePopup),this.render()},events:function(){return r.extend({},r.result(s.prototype,"events"),{"click .header-tipranks .fn-close-popup":"closePopup"})},closePopup:function(e){l.remove(this.usedSymbols),this.$el.find(".tip-ranks-wrapper").remove(),o.trigger("ui:chart:update-size"),e&&store.dispatch(h())},getDataApi:function(e,t){m(e).then((function(e){t(e.data)}))},loadTipRanks:function(){var e=this;tipranks&&r.isFunction(tipranks.init)&&tipranks.init({className:"tip-ranks",locale:"en",customDropdown:this.addCustomDropdown,apiURL:f.getTipRanksRequestUrl(),getData:this.getDataApi,buySellCallback:function(e,t,n){var i=a.getInstrumentBySymbol(e);if(!0===n)return!(!i||i.isTradableBySide(t))&&i.get(t+"NotTradableMessage");if(i){var r={direction:t,symbolOrId:i.id,quantity:null,type:!1,tp:!1,sl:!1,source:"tipranks"};o.trigger("ui:new-position",r)}},project:"indigo",showPriceAlerts:c.isLive(),subscriptionCallback:function(t){return e.usedSymbols=l.update(t,e.usedSymbols).addedSymbols}})},addCustomDropdown:function(e,t,n){d.render(u.createElement(p,{placeholder:__("tipranks.text.all_stoks"),options:t,onChange:n,transformOptionValue:function(e){return e.recommendation.stock_ticker},transformOptionText:function(e){return e.recommendation.symbol}}),e)},render:function(){return s.prototype.render.call(this),this.$el.append(g({})),this.loadTipRanks(),this}});i.exports=v}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t){e.exports='<div class="tip-ranks-wrapper popup-item"> <div class=popup-item-wrapper> <div class="hidden-xs header-tipranks"> <div class="header-actions fn-close-popup"> <i class=icon-close-blue></i> </div> </div> <div class=tip-ranks> </div> </div> </div> '},function(e,t,n){var i={"./insiders.popup.mobile.details.view":776,"./insiders.popup.mobile.view":1461,"./insiders.popup.view":1464};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id=1459},function(e,t){e.exports="<div class=\"insiders-mobile insiders\"> <div class=insiders-mobile--details> <div class=content-block> <div class=\"stock-data flex\"> <div class=\"stock-name flex\"> <div class=instrument-img-wrapper><div class=\"instrument-img instrument-img-<%= itemMainData.getSymbol().toLowerCase()%>\"></div></div> <div class=\"stock-data-mobile flex flex-column\"> <div class=stock-description><%= itemMainData.getDescription()%></div> <div class=\"stock-ticker text-muted\"> <span><%=itemMainData.getStockTicker()%></span> </div> </div> </div> <div class=stock-buy-sell> <div class=instrument-sell-change><table><tr></tr></table></div> <div class=instrument-buy-change><table><tr></tr></table></div> </div> </div> <div class=insider-data> <div class=main-data> <div class=item> <b><%=__('insiders.trend')%>:</b> <span><%= __('insiders.trend.3month',itemMainData.getDescription(), itemMainData.getStockLast3MonthTrend()>0 ? __('insiders.bought') : __('insiders.sold'), numbro(Math.abs(itemMainData.getStockLast3MonthTrendAmount())).format('0,0'))%></span> </div> <div class=item> <b><%=__('insiders.signal.reasoning')%>:</b> <span><%=__('insiders.signal.reasoning.count', Math.max(itemMainData.getTransactionSellCount(), itemMainData.getTransactionBuyCount()), itemMainData.getTransactionDistinctInisdersCount())%></span> <div> <span class=\"icon-arrow icon-arrow-<%if(itemMainData.getTransactionSellCount() >= itemMainData.getTransactionBuyCount()){%>down<% } else {%>up<%}%>\"></span> <span class=\"<%if(itemMainData.getTransactionSellCount() >= itemMainData.getTransactionBuyCount()){%>down<% } else {%>up<%}%>\"> <%=Math.max(itemMainData.getTransactionSellCount(), itemMainData.getTransactionBuyCount())%> <%if(itemMainData.getTransactionSellCount() >= itemMainData.getTransactionBuyCount()){%> <%=__('insiders.sold')%> <% } else {%> <%=__('insiders.bought')%> <%}%> </span> </div> </div> <div class=item> <b><%=__('insiders.stock.behavior')%></b> <div> <span class=\"<%=itemMainData.getStockLast3MonthChangePercentDir()%>\"><%=itemMainData.getStockLast3MonthChangePercent().toFixed(2)%>%</span> <%if(itemMainData.getStockLast3MonthChangeChartImg()) {%> <span class=chart><img src=\"<%=itemMainData.getStockLast3MonthChangeChartImg()%>\"/></span> <%}%> </div> </div> <% if(item.getConfidenceSignalScore() != 'NA') {%> <div class=item> <b><%=__('insiders.stock.insider.signal')%></b> <div class=\"<%=itemMainData.getConfidenceSignalScore().toLowerCase().replace(' ','-')%>\"><%=__('insiders.' + itemMainData.getConfidenceSignalScore().toLowerCase().replace(' ','.'))%></div> </div> <% } %> </div> <div class=additional-data> <div class=\"block yearly-transactions\"> <div class=block-title><%=__('insiders.yearly.insider.transactions', itemMainData.getSymbol())%></div> <div class=block-content> <div id=yearly-graph></div> </div> </div> <div class=\"block shares-amount\"> <div class=block-title><%=__('insiders.yearly.shares.amount')%></div> <div class=\"block-content flex\"> <div class=total-sold> <span class=icon-arrow-negative></span> <span class=\"fs-18 bold down text-uppercase\"><%=__('insiders.sold')%></span> <span class=num><%=numbro(item.getTotalSellAmount()).format('0,0')%></span> </div> <div class=total-bought> <span class=icon-arrow-positive></span> <span class=\"fs-18 bold up text-uppercase\"><%=__('insiders.bought')%></span> <span class=num><%=numbro(item.getTotalBuyAmount()).format('0,0')%></span> </div> </div> </div> <div class=\"block transactions-type\"> <div class=block-title><%=__('insiders.yearly.transactions.type')%></div> <div class=\"block-content flex\"> <div class=total-informative> <span></span> <span><%=__('insiders.total.informative', itemMainData.getDiscretionaryTransactions())%></span> </div> <div class=total-uninformative> <span></span> <span><%=__('insiders.total.uninformative', itemMainData.getUninformativeTransactions())%></span> </div> </div> </div> </div> </div> </div> </div> </div> "},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var o=n(5),s=n(1),a=n(100),l=n(8),c=n(73),u=n(26),d=n(115),p=n(778),f=n(0),h=n(22),m=n(190),g=n(86),v=n(70),b=n(122).sendEventosInsidersAction,_=s.template(n(1462)),y=s.template(n(1463)),E=n(776),S=n(524).default,C=n(64).transformSymbolToSBSymbol,w=v.extend({subscribedInstruments:[],initialize:function(e){v.prototype.initialize.apply(this,arguments),this.addChildView(".insider-mobile-wrapper",g,{parent:r(".main-box"),position:"absolute"}),this.getInsiders(),this.listenTo(o,"ui:instrument:change",this.close)},events:function(){return s.extend({},s.result(v.prototype,"events"),{"click .stock-details":"viewDetails","change [name=stocks]":"filterStocks","click .header-links__info":"toggleInfo","click .header-links__filters":"toggleFilters"})},getOptions:function(e){return s.extend({},s.result(v.prototype,"getOptions"),{isHeaderShowed:!0,caption:__("tab.insiders"),previousCaption:__("actions.back"),headerStyle:"wizard",bodyStyle:"trading-tools",headerCaptionStyle:"insiders-mobile-header"},e)},getInsiders:function(){var e=this;return l.getInsiders().then((function(t){return t.data.error?(e.insiders=[],e.render(),e.removeChildView(".insider-mobile-wrapper"),Promise.reject()):(e.insiders=e.createCollection(t.data),e.render(),e.removeChildView(".insider-mobile-wrapper"),Promise.resolve())}))},createCollection:function(e){var t=new a,n=[];return s.each(e,(function(e){var i=e.symbol;if(u.getInstrumentBySymbol(i)||(i=C(i),u.getInstrumentBySymbol(i))){var r=new p(e);r.getTransactionDistinctInisdersCount()>0&&(r.set("instrument",u.getInstrumentBySymbol(i)),n.push(i),t.add(r))}})),this.subscribedInstruments=d.update(n,this.subscribedInstruments).addedSymbols,t},viewDetails:function(e){var t=this,n=r(e.currentTarget).attr("data-ticker");if(n){this.createLoadingView();var i=s.find(this.insiders.models,(function(e){return e.getStockTicker()===n}));return l.getInsider(n).then((function(e){if(e.data.error)return Promise.reject();t.destroyLoadingView();var o=s.isArray(e.data)?s.first(e.data):e.data;new E({parent:r("body"),itemMainData:i,item:new p(o),ticker:n,onClose:function(){null}});b(i.getSymbol())}))}},close:function(){d.remove(this.subscribedInstruments),v.prototype.close.call(this),this.destroy()},filterStocks:function(e){var t,n=this.$el.find("select[name=stocks] option:checked"),i=[];n.length>0&&(i=s.map(n,(function(e){return r(e).val()}))),t=s.filter(this.insiders.models,(function(e){return s.find(i,(function(t){return t===e.getSymbol()}))})),this.renderFilteredData(t)},toggleInfo:function(e){r(e.currentTarget).hasClass("active")?(r(e.currentTarget).removeClass("active"),this.$el.find(".insiders__info").addClass("hidden")):(r(e.currentTarget).addClass("active"),this.$el.find(".insiders__info").removeClass("hidden"),this.$el.find(".insiders__filters").addClass("hidden"),this.$el.find(".header-links__filters").removeClass("active"))},toggleFilters:function(e){r(e.currentTarget).hasClass("active")?(r(e.currentTarget).removeClass("active"),this.$el.find(".insiders__filters").addClass("hidden")):(r(e.currentTarget).addClass("active"),this.$el.find(".insiders__filters").removeClass("hidden"),this.$el.find(".insiders__info").addClass("hidden"),this.$el.find(".header-links__info").removeClass("active"))},render:function(){v.prototype.render.call(this);var e=s.isArray(this.insiders.models)&&this.insiders.models.length>0?this.insiders.models:[];return this.setContent(_({stocks:e})),this.$el.find(".content-block").html(y({stocks:e,numbro:c})),this.getBuySell(e),h.render(f.createElement(S,null),this.$el.find(".risk-warning-mobile")[0]),b(),this},renderFilteredData:function(e){var t=s.isArray(e)&&e.length>0?e:this.insiders.models;this.$el.find(".content-block").html(y({stocks:t,numbro:c})),this.getBuySell(t)},getBuySell:function(e){var t=this;s.each(e,(function(e,n){var i=f.createElement(m,{type:"Sell",column:{name:"Sell",key:"bid",direction:"bidDirection"},model:e.get("instrument"),isSelected:!0,onClick:s.noop()}),r=f.createElement(m,{type:"Buy",column:{name:"Buy",key:"ask",direction:"askDirection"},model:e.get("instrument"),isSelected:!1,onClick:s.noop()});h.render(i,t.$el.find(".instrument-sell-change tr")[n]),h.render(r,t.$el.find(".instrument-buy-change tr")[n])}))},createLoadingView:function(){this.loadingView=new g({parent:r(".main-box"),position:"absolute"})},destroyLoadingView:function(){this.loadingView&&(this.loadingView.destroy(),this.loadingView=null)}});i.exports=w}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t){e.exports='<div class=insider-mobile-wrapper> <div class="insiders-mobile insiders"> <div class="header flex flex-column flex-align-center"> <div class="flex flex-align-end"> <div class="header-links flex"> <div class=header-links__info data-link=info><%=__(\'hint.info\')%></div> <div class=header-links__separator>|</div> <div class=header-links__filters data-link=filters><%=__(\'acuity-trading.filters\')%></div> </div> </div> </div> <div class="insiders__info text-muted hidden"><%=__(\'insiders.description\')%></div> <%if(stocks.length > 0) {%> <div class="insiders__filters hidden"> <div class=styled-select> <select name=stocks multiple=multiple size=4> <option disabled=disabled selected=selected class=hidden><%=__(\'wizard.form.label.DEFAULT_EMPTY\')%></option> <%_.each(stocks, function(stock){ %> <option value="<%=stock.getSymbol()%>"><%=stock.getDescription()%></option> <% }); %> </select> </div> </div> <%} else {%> <div class=insiders-empty> <div class=icon-insiders></div> <div><%= __(\'insiders.text.no.data\')%></div> </div> <%}%> <div class="pane pane__fluid pane__scroll"> <div class="pane pane__fluid pane__scroll-content content-block"></div> </div> <div class=risk-warning-mobile></div> </div> </div> '},function(e,t){e.exports='<%\n_.each(stocks, function(stock){\n%> <div class=stock-data> <div class=first-row> <div class=stock-name> <div class=instrument-img-wrapper> <div class="instrument-img instrument-img-<%= stock.getSymbol().toLowerCase()%>"></div> </div> <div class=stock-data-mobile> <div class=stock-description><%= stock.getDescription()%></div> <div class="stock-ticker text-muted"><%=stock.getStockTicker()%></div> </div> </div> <div class=stock-details data-ticker="<%=stock.getStockTicker()%>"> <span><i class=icon-view-details></i></span> </div> <div class=stock-buy-sell> <div class=instrument-sell-change><table><tr></tr></table></div> <div class=instrument-buy-change><table><tr></tr></table></div> </div> </div> <div class="insiders-data hidden"></div> </div> <% });%> '},function(e,t,n){(function(i,r){var o;function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}void 0===(o=function(e,t,i){var o=n(1),a=(n(0),n(5)),l=n(20),c=n(100),u=n(8),d=n(6),p=n(26),f=n(115),h=n(778),m=n(0),g=n(22),v=n(190),b=n(73),_=n(1465),y=n(777),E=n(1468),S=n(86),C=n(267).default,w=n(87).default,O=n(46).updateUrlBySelectedInstrumentSymbol,T=n(368).default,P=n(122).sendEventosInsidersAction,k=n(64).transformSymbolToSBSymbol,I=l.extend({subscribedInstruments:[],transactionsHistory:{},yearlyGraph:{},mainTemplate:o.template(n(1469)),insidersTemplate:o.template(n(1470)),detailsTemplate:o.template(n(1471)),events:{"click .insiders-top .icon-close-blue":"close","click .stock-expand":"viewDetails","click .take-tour":"openTour"},tagName:"div",className:"insiders-wrapper popup-item",initialize:function(e){var t=this;l.prototype.initialize.apply(this,arguments),this.listenTo(a,"ui:header-itemclick",this.close),this.listenTo(a,"ui:instrument:change",this.close),this.listenTo(a,"ribbon:update",this.updateContentHeight),r(window).on("resize.insider",(function(){return t.updateContentHeight()})),this.parent=e.parent,this.parent.find(".main-box-content").addClass("hidden"),this.createLoadingView(),this.getInsiders()},getInsiders:function(){var e=this;return u.getInsiders().then((function(t){if(t.data.error)return Promise.reject();e.insiders=e.createCollection(t.data),e.render()}))},createCollection:function(e){var t=new c,n=[];return o.each(e,(function(e){var i=e.symbol;if(p.getInstrumentBySymbol(i)||(i=k(i),p.getInstrumentBySymbol(i))){var r=new h(e);r.getTransactionDistinctInisdersCount()>0&&(r.set("instrument",p.getInstrumentBySymbol(i)),n.push(i),t.add(r))}})),this.subscribedInstruments=f.update(n,this.subscribedInstruments).addedSymbols,t},openInsider:function(e,t){var n=new h(e),i=n.getStockTicker(),r=o.find(this.insiders.models,(function(e){return e.getStockTicker()===i}));t.html(this.detailsTemplate({item:n,itemMainData:r,numbro:b})).removeClass("hidden"),g.render(m.createElement(w,{name:"informative",width:"23",height:"16"}),t.find(".total-informative span:first-child")[0]),g.render(m.createElement(w,{name:"uninformative",width:"23",height:"16"}),t.find(".total-uninformative span:first-child")[0]),this.yearlyGraph[i]=y(t.find(".yearly-graph")[0],n),this.transactionsHistory[i]=new _({el:t.find(".transactions-history"),transactions:n.getStockLast3MonthTransactions()}),P(r.getSymbol())},viewDetails:function(e){var t=this,n=r(e.currentTarget),i=r(n.closest(".stock-data")),s=i.find(".first-row"),a=i.find(".insider-data"),l=n.find(".stock-expand span"),c=i.attr("data-ticker");if("+"===l.html())return s.addClass("active"),l.html("-"),this.createLoadingView(),u.getInsider(c).then((function(e){if(e.data.error)return Promise.reject();var n=o.isArray(e.data)?o.first(e.data):e.data;t.openInsider(n,a),t.destroyLoadingView(),a.removeClass("hidden")}));s.removeClass("active"),a.addClass("hidden"),l.html("+"),this.clearDetails(c,a)},close:function(e){f.remove(this.subscribedInstruments),a.trigger("ui:chart:update-size"),r(window).off("resize.insider"),this.parent.find(".main-box-content").removeClass("hidden"),this.clearAllDetails(),this.clearBuySell(),this.clearScrollbar(),e&&store.dispatch(O()),this.destroy()},render:function(){var e=this;l.prototype.render.call(this);var t=this.insiders.models;this.$el.append(this.mainTemplate({stocks:t})),this.renderBody(t),this.destroyLoadingView(),g.render(m.createElement(C,{options:[].concat(s(t.map((function(e){return e})))),placeholder:__("tipranks.text.all_stoks"),onChange:function(t){return e.renderFilteredData(t)},transformOptionText:function(e){return e.get("description")},transformOptionValue:function(e){return e.get("symbol")}}),this.$el.find("#searchableDropdown")[0]);var n=d.getApplicationSettings().get("insiders:stockTicker");if(n){var i=this.$el.find("[data-ticker="+n+"]");i.length>0&&(i[0].querySelector(".stock-expand").click(),this.$scrollbar.setPosition(0,i[0].offsetTop))}return P(),this.updateContentHeight(),this},renderBody:function(e){this.$el.find(".content-block").html(this.insidersTemplate({stocks:e,numbro:b})),this.$el.find(".results").html(__("total.results",e.length)),this.$scrollbar=T.init(this.$el.find(".insiders-data")[0]),this.getBuySell(e)},clearBody:function(){this.clearAllDetails(),this.clearScrollbar(),this.clearBuySell()},renderFilteredData:function(e){var t=o.isArray(e)&&e.length>0?e:this.insiders.models;this.clearBody(),this.renderBody(t)},openTour:function(){this.$scrollbar.scrollTo(0,0),E(this.$el)},updateContentHeight:function(){var e=210,t=r(".ribbon-notification");t.length>0&&t[0].clientHeight&&(e+=t[0].clientHeight);var n=document.documentElement.clientHeight-e;this.$el.find(".content-block").css("height",n+"px")},getBuySell:function(e){var t=this.$el.find(".instrument-sell-change tr"),n=this.$el.find(".instrument-buy-change tr");o.each(e,(function(e,i){var r=m.createElement(v,{type:"Sell",column:{name:"Sell",key:"bid",direction:"bidDirection"},model:e.get("instrument"),isSelected:!0,onClick:function(){}}),o=m.createElement(v,{type:"Buy",column:{name:"Buy",key:"ask",direction:"askDirection"},model:e.get("instrument"),isSelected:!1,onClick:function(){}});g.render(r,t[i]),g.render(o,n[i])}))},createLoadingView:function(){this.loadingView=new S({parent:r(".main-box"),position:"absolute"})},destroyLoadingView:function(){this.loadingView&&(this.loadingView.destroy(),this.loadingView=null)},clearDetails:function(e,t){var n=t.find(".total-informative span:first-child");1===n.length&&g.unmountComponentAtNode(n[0]);var i=t.find(".total-uninformative span:first-child");1===i.length&&g.unmountComponentAtNode(i[0]),this.transactionsHistory[e]&&(this.transactionsHistory[e].destroy(),delete this.transactionsHistory[e]),this.yearlyGraph[e]&&(this.yearlyGraph[e].destroy(),delete this.yearlyGraph[e]),t.empty()},clearAllDetails:function(){var e=this;o.each(this.$el.find(".stock-data"),(function(t){var n=r(t);e.clearDetails(n.attr("data-ticker"),n.find(".insider-data"))}))},clearBuySell:function(){var e=this.$el.find(".instrument-sell-change tr");o.each(e,(function(e){return g.unmountComponentAtNode(e)}));var t=this.$el.find(".instrument-buy-change tr");o.each(t,(function(e){return g.unmountComponentAtNode(e)}))},clearScrollbar:function(){this.$scrollbar&&this.$scrollbar.destroy()}});i.exports=I}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var o=n(1),s=n(20),a=n(73),l=s.extend({template:o.template(n(1466)),templateOneTransaction:o.template(n(1467)),events:function(){return o.extend({},o.result(s.prototype,"events"),{"click th.sortable":"sortTransactions"})},initialize:function(e){s.prototype.initialize.apply(this,arguments),o.size(this.options.transactions)>0&&this.render()},sortTransactions:function(e){var t=this,n=e.currentTarget,i=n.classList[1],s=n.classList[2]||"desc";this.$el.find("th").removeClass("asc desc"),"asc"===s?r(n).removeClass("asc").addClass("desc"):r(n).removeClass("desc").addClass("asc"),o.sortBy(this.options.transactions,(function(e,n){return t._sort(e,n,i,s)})),this.renderTransactions()},_sort:function(e,t,n,i){return"insiderName"===n&&"asc"===i?t.insiderName.localeCompare(e.insiderName):"insiderName"===n&&"desc"===i?e.insiderName.localeCompare(t.insiderName):"transactionAmount"===n&&"asc"===i?t.transactionAmount-e.transactionAmount:"transactionAmount"===n&&"desc"===i?e.transactionAmount-t.transactionAmount:"transactionDate"===n&&"asc"===i?new Date(e.transactionDate).getTime()-new Date(t.transactionDate).getTime():"transactionDate"===n&&"desc"===i?new Date(t.transactionDate).getTime()-new Date(e.transactionDate).getTime():void 0},render:function(){this.$el.append(this.template()),this.renderTransactions()},renderTransactions:function(){var e=this;this.$el.find("tbody")[0].innerHTML="",this.$el.find("tbody")[0].innerHTML+=o.map(this.options.transactions,(function(t){return e.templateOneTransaction({transaction:t,numbro:a})})).join("")}});i.exports=l}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t){e.exports="<div class=transactions-history-title><%=__('insiders.transactions.history')%></div> <div class=transactions-history-content> <table> <thead> <tr> <th class=\"sortable insiderName\"><%=__('insiders.header.insider')%></th> <th><%=__('insiders.header.ranking')%></th> <th><%=__('insiders.header.action')%></th> <th class=\"sortable transactionAmount\"><%=__('insiders.header.amount')%></th> <th class=\"sortable transactionDate\"><%=__('insiders.header.date')%></th> </tr> </thead> <tbody></tbody> </table> </div> "},function(e,t){e.exports="<tr> <td class=insider-name> <span><%=transaction.insiderName%></span> <span class=text-muted><%=transaction.insiderPosition%></span> </td> <td class=insider-ranking> <div> <%if(transaction.insiderRating > 0) { %> <% var fill = ((74*20*transaction.insiderRating)/100).toFixed(2);%> <div class=stars></div> <div class=fill style=\"width:<%=fill%>px\"></div> <% } else { %> <%=__('insiders.not.ranked')%> <% } %> </div> </td> <td><%=__('insiders.' + transaction.transactionType.toLowerCase().replace(' ','.'))%></td> <td><%=numbro(transaction.transactionAmount).format('0,0')%></td> <td> <%\n            var d = new Date(transaction.transactionDate);\n            var currentDate = new Date();\n            var diff = Math.round((currentDate.getTime() - d.getTime())/(1000*60*60*24));\n        %> <%=__('insiders.days.ago', diff)%> </td> </tr> "},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,r){n(1);var o=n(317);r.exports=function(e){var t=e.find(".take-tour");t.addClass("hidden");var n=function(t){return e.find(t)},r=function(e,t){return n(e)[t]},s=[{element:r(".insiders-header",0),intro:__("insiders.text.slide_1_text"),position:"top"},{element:r(".filteredDropdownWrapper",0),intro:__("insiders.text.slide_2_text"),position:"top"},{element:r(".stock-signal",0),intro:__("insiders.text.slide_3_text"),position:"top"},{element:r(".stock-signal-reasoning",0),intro:__("insiders.text.slide_4_text"),position:"top"},{element:r(".stock-expand",0),intro:__("insiders.text.slide_6_text"),position:"top"}],a=n(".yearly-transactions");if(a.length>0){var l=a[0];l.offsetTop+l.offsetHeight<n(".insiders-data")[0].offsetHeight&&Array.prototype.push.apply(s,[{element:r(".yearly-transactions",0),intro:__("insiders.text.slide_7_text"),position:"top"},{element:r(".transactions-type",0),intro:__("insiders.text.slide_8_text"),position:"top"}])}var c=function(){i(t.removeClass("hidden")),i(document.body).removeClass("introjs-fix-trading-tools")};o.introJs().setOptions({nextLabel:__("tipranks.text.slide_next"),prevLabel:__("tipranks.text.slide_prev"),doneLabel:__("actions.done"),skipLabel:" ",steps:s}).oncomplete(c).onexit(c).start(),i(document.body).addClass("introjs-fix-trading-tools")}}.call(t,n,t,e))||(e.exports=r)}).call(this,n(12))},function(e,t){e.exports="<div class=popup-item-wrapper> <div class=\"hidden-xs insiders-top\"> <div class=\"header-actions fn-close-popup btn\"> <i class=icon-close-blue></i> </div> </div> <div class=insiders> <div class=\"header-block overflow-unset\"> <a class=btn-back> <i class=icon-view-details></i> <span><%=__('insiders.header')%></span> </a> <div class=insiders-header> <div class=header-title> <div class=title><%=__('insiders.header')%></div> <div class=take-tour><%=__('tipranks.text.take_tour')%></div> </div> <div class=header-description><%=__('insiders.description')%></div> </div> <div class=filters> <div class=results></div> <div id=searchableDropdown></div> </div> </div> <div class=content-block></div> <div class=risk-warning><%=__('tipranks.text.disclaimer')%></div> </div> </div> "},function(e,t){e.exports="<%if(!_.isEmpty(stocks)) {%> <div class=insiders-head> <div class=column-stock-instrument><%=__('tipranks.text.share')%></div> <div class=column-signal><%=__('insiders.stock.insider.signal')%></div> <div class=column-trend><%=__('insiders.trend')%></div> <div class=column-signal-reasoning><%=__('insiders.signal.reasoning')%></div> <div class=column-behavior><%=__('insiders.stock.behavior')%></div> <div class=column-actions><%=__('tipranks.text.trade')%></div> </div> <%}%> <div class=insiders-data> <div> <%\n    _.each(stocks, function(stock){\n        %> <div class=stock-data data-ticker=\"<%= stock.getStockTicker()%>\"> <div class=first-row> <div class=stock-instrument> <div> <div class=stock-expand> <span>+</span> </div> <div class=stock-name> <div class=\"stock-image instrument-img-<%= stock.getSymbol().toLowerCase()%>\"></div> <div class=\"stock-description flex flex-column\"> <div class=name><%= stock.getDescription()%></div> <div class=\"ticker text-muted\"><%= stock.getStockTicker()%></div> </div> </div> </div> </div> <div class=\"stock-signal flex flex-column\"> <% if(stock.getConfidenceSignalScore() != 'NA') {%> <div class=\"<%=stock.getConfidenceSignalScore().toLowerCase().replace(' ','-')%>\"><%=__('insiders.' + stock.getConfidenceSignalScore().toLowerCase().split(' ')[0])%></div> <%} else {%> N/A <%}%> </div> <div class=\"stock-trend flex flex-column\"> <span> <%= __('insiders.trend.info', stock.getStockLast3MonthTrend()>0 ? __('insiders.bought') : __('insiders.sold'), numbro(Math.abs(stock.getStockLast3MonthTrendAmount())).format('0,0'))%> </span> </div> <div class=\"stock-signal-reasoning flex flex-column\"> <div class=flex> <div> <%=__('insiders.signal.reasoning.count', Math.max(stock.getTransactionSellCount(), stock.getTransactionBuyCount()), stock.getTransactionDistinctInisdersCount())%> </div> <div> <span class=\"icon-arrow icon-arrow-<%if(stock.getTransactionSellCount() >= stock.getTransactionBuyCount()){%>down<% } else {%>up<%}%>\"></span> <span class=\"<%if(stock.getTransactionSellCount() >= stock.getTransactionBuyCount()){%>down<% } else {%>up<%}%>\"> <%if(stock.getTransactionSellCount() >= stock.getTransactionBuyCount()){%> <%=__('insiders.sold')%> <% } else {%> <%=__('insiders.bought')%> <%}%> </span> </div> </div> </div> <div class=\"stock-behavior flex flex-column\"> <div class=flex> <div class=\"flex flex-column flex-align-center <%if(stock.getStockLast3MonthChangePercent() > 0){%>up<% } else {%>down<%}%>\"><%=stock.getStockLast3MonthChangePercent().toFixed(2)%>%</div> <div> <%if(stock.getStockLast3MonthChangeChartImg()) {%> <img src=\"<%=stock.getStockLast3MonthChangeChartImg()%>\"/> <%}%> </div> </div> </div> <div class=stock-actions> <div class=stock-buy-sell> <div class=instrument-sell-change><table><tr></tr></table></div> <div class=instrument-buy-change><table><tr></tr></table></div> </div> </div> </div> <div class=\"insider-data hidden\"></div> </div> <% });%> </div> </div> "},function(e,t){e.exports="<div class=\"stock-yearly-transactions flex\"> <div class=\"block yearly-transactions\"> <div class=header><%=__('insiders.yearly.insider.transactions', itemMainData.getSymbol())%></div> <div class=content> <div class=yearly-graph></div> </div> </div> <div class=\"block shares-amount\"> <div class=header><%=__('insiders.yearly.shares.amount')%></div> <div class=\"content flex flex-column\"> <div class=total-sold> <span class=icon-arrow-negative></span> <span class=\"fs-18 bold down text-uppercase\"><%=__('insiders.sold')%></span> <span class=num><%=numbro(item.getTotalSellAmount()).format('0,0')%></span> </div> <div class=total-bought> <span class=icon-arrow-positive></span> <span class=\"fs-18 bold up text-uppercase\"><%=__('insiders.bought')%></span> <span class=num><%=numbro(item.getTotalBuyAmount()).format('0,0')%></span> </div> </div> </div> <div class=\"block transactions-type\"> <div class=header><%=__('insiders.yearly.transactions.type')%></div> <div class=\"content flex flex-column\"> <div class=total-informative> <span></span> <span><%=__('insiders.total.informative', itemMainData.getDiscretionaryTransactions())%></span> </div> <div class=total-uninformative> <span></span> <span><%=__('insiders.total.uninformative', itemMainData.getUninformativeTransactions())%></span> </div> </div> </div> </div>  <div class=transactions-history></div> "},function(e,t,n){(function(i,r){var o;function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}void 0===(o=function(e,t,i){var o=n(1),a=n(100),l=n(8),c=n(26),u=n(115),d=n(780),p=n(0),f=n(22),h=n(190),m=n(70),g=n(574),v=n(86),b=n(3).PERIODS,_=n(122).sendEventosBloggersAction,y=o.template(n(1473)),E=o.template(n(1474)),S=n(524).default,C=n(64).transformSymbolToSBSymbol,w=m.extend({subscribedInstruments:[],initialize:function(e){m.prototype.initialize.apply(this,arguments),this.periods=[].concat(s(b)),this.current_period=this.periods[2],this.getBloggers()},getBloggers:function(){var e=this;return this.addChildView(".bloggers-mobile-wrapper",v,{parent:r(".main-box"),position:"absolute"}),l.loadBloggers(this.current_period).then((function(t){return t.data.error?(e.bloggers=[],e.render(),e.removeChildView(".bloggers-mobile-wrapper"),Promise.reject()):(e.bloggers=e.createCollection(t.data),e.render(),e.removeChildView(".bloggers-mobile-wrapper"),Promise.resolve())}))},createCollection:function(e){var t=new a,n=[],i=o.reduce(e.bloggerRecommendations,(function(t,n){return o.has(e.stocks,n.stockTicker)&&t.push(o.extend({stock:e.stocks[n.stockTicker]},n)),t}),[]);return i=o.uniq(i,"stockTicker"),o.each(i,(function(e){var i=e.stock.symbol;if(c.getInstrumentBySymbol(i)||(i=C(i),c.getInstrumentBySymbol(i))){var r=new d(e);r.set("instrument",c.getInstrumentBySymbol(i)),n.push(i),t.add(r)}})),this.subscribedInstruments=u.update(n,this.subscribedInstruments).addedSymbols,t},events:function(){return o.extend({},o.result(m.prototype,"events"),{"click td.column-instrument":"viewDetails","change [name=period]":"changePeriod","change [name=instruments]":"filterStocks","click .header-links__info":"toggleInfo","click .header-links__filters":"toggleFilters"})},getOptions:function(e){return o.extend({},o.result(m.prototype,"getOptions"),{isHeaderShowed:!0,caption:__("tab.bloggers"),previousCaption:__("actions.back"),headerStyle:"wizard",bodyStyle:"trading-tools",headerCaptionStyle:"bloggers-mobile-header"},e)},close:function(e){u.remove(this.subscribedInstruments),m.prototype.close.call(this),this.destroy()},changePeriod:function(){var e=this.$el.find("select[name=period] option:checked").val();this.current_period=e,this.getBloggers()},filterStocks:function(e){var t,n=this.$el.find("select[name=instruments] option:checked"),i=[];n.length>0&&(i=o.map(n,(function(e){return r(e).val()}))),t=o.filter(this.bloggers.models,(function(e){return o.find(i,(function(t){return t===e.getSymbol()}))})),this.renderFilteredData(t)},toggleInfo:function(e){r(e.currentTarget).hasClass("active")?(r(e.currentTarget).removeClass("active"),this.$el.find(".bloggers__info").addClass("hidden")):(r(e.currentTarget).addClass("active"),this.$el.find(".bloggers__info").removeClass("hidden"),this.$el.find(".bloggers__filters").addClass("hidden"),this.$el.find(".header-links__filters").removeClass("active"))},toggleFilters:function(e){r(e.currentTarget).hasClass("active")?(r(e.currentTarget).removeClass("active"),this.$el.find(".bloggers__filters").addClass("hidden")):(r(e.currentTarget).addClass("active"),this.$el.find(".bloggers__filters").removeClass("hidden"),this.$el.find(".bloggers__info").addClass("hidden"),this.$el.find(".header-links__info").removeClass("active"))},viewDetails:function(e){var t=r(e.currentTarget),n=t.closest("tr");r(n).addClass("active");var i=t.find(".stock-expand span"),s=n.parentNode.rows[n.rowIndex+1];if("+"===i.html()){r(s).removeClass("hidden"),i.html("-"),_(r(n).attr("data-symbol"));var a=o.find(this.bloggers.models,(function(e){return e.getSymbol()===r(n).attr("data-symbol")}));0===r(s).find(".opinion-distribution .highcharts-container").length&&g(r(s).find(".opinion-distribution .block-content")[0],a.getOpinions())}else r(s).addClass("hidden"),r(n).removeClass("active"),i.html("+")},getStocksList:function(){return o.uniq(o.map(this.bloggers.models,(function(e){return[e.getSymbol(),e.getName()]})),(function(e){return JSON.stringify(e)}))},render:function(){m.prototype.render.call(this);var e=o.isArray(this.bloggers.models)&&this.bloggers.models.length>0?this.bloggers.models:[];return this.setContent(y({stocks:this.getStocksList(),periods:this.periods,current_period:this.current_period})),this.$el.find(".content-block").html(E({bloggers:e})),this.getBuySell(e),f.render(p.createElement(S,null),this.$el.find(".risk-warning-mobile")[0]),_(),this},renderFilteredData:function(e){var t=o.isArray(e)>0?e:this.bloggers.models;this.$el.find(".content-block").html(E({bloggers:t,periods:this.periods,current_period:this.current_period})),this.getBuySell(t)},getBuySell:function(e){var t=this;o.each(e,(function(e,n){var i=p.createElement(h,{type:"Sell",column:{name:"Sell",key:"bid",direction:"bidDirection"},model:e.get("instrument"),isSelected:!0,onClick:o.noop}),r=p.createElement(h,{type:"Buy",column:{name:"Buy",key:"ask",direction:"askDirection"},model:e.get("instrument"),isSelected:!1,onClick:o.noop});f.render(i,t.$el.find(".instrument-sell-change tr")[n]),f.render(r,t.$el.find(".instrument-buy-change tr")[n])}))}});i.exports=w}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t){e.exports='<div class=bloggers-mobile-wrapper> <div class=bloggers-mobile> <div class="header flex flex-column flex-align-center"> <div class="flex flex-align-end"> <div class="header-links flex"> <div class=header-links__info data-link=info><%=__(\'hint.info\')%></div> <div class=header-links__separator>|</div> <div class=header-links__filters data-link=filters><%=__(\'acuity-trading.filters\')%></div> </div> </div> </div> <div class="bloggers__info text-muted hidden"><%=__(\'bloggers.description\')%></div> <div class="bloggers__filters hidden"> <div class="styled-select period-select"> <select name=period> <%_.each(periods, function(period){ %> <option value="<%=period%>" <%if(period == current_period){%> selected=selected <%}%>><%=period%></option> <%});%> </select> </div> <%if(stocks.length > 0) {%> <div class=styled-select> <select name=instruments multiple=multiple size=4> <option disabled=disabled selected=selected class=hidden><%=__(\'wizard.form.label.DEFAULT_EMPTY\')%></option> <%_.each(stocks, function(item){ %> <option value="<%=item[0]%>"><%=item[1]%></option> <% }); %> </select> </div> <%}%> </div> <div class=content-block></div> <div class=risk-warning-mobile></div> </div> </div> '},function(e,t){e.exports='<% if(bloggers.length > 0) {%> <table class=bloggers-table> <tbody> <% _.each(bloggers, function(item){%> <tr class=row data-symbol="<%= item.getSymbol()%>"> <td class=column-instrument> <div> <div class=stock-expand> <span>+</span> </div> <div class=stock-name> <div class=instrument-img-wrapper> <div class="instrument-img instrument-img-<%= item.getSymbol().toLowerCase()%>"></div> </div> <div class=stock-data-mobile> <div class=name><%=item.getName()%></div> <div class="ticker text-muted"><%=item.getTicker()%></div> </div> </div> </div> </td> <td class=column-trade> <div class=stock-buy-sell> <div class=instrument-sell-change><table><tr></tr></table></div> <div class=instrument-buy-change><table><tr></tr></table></div> </div> </td> </tr> <tr class="row-expand hidden"> <td colspan=2> <div class=bloggers-summary> <div class=bloggers-consensus> <div class=block-header><%=__(\'bloggers.consensus\')%></div> <div class=block-content> <div class=consensus-graph> <div class=consensus-bearish> <i class="icon icon-bearish"></i> </div> <div class=bar> <b style="width: <%=item.getBearishRatio()%>"></b> <i style="width: <%=item.getBullishRatio()%>"></i> </div> <div class=consensus-bullish> <i class="icon icon-bullish"></i> </div> </div> <div class="consensus-text text-muted <%=item.getConsensus().toLowerCase()%>"> <%=__(\'bloggers.consensus.text\', item.getTicker(), item.getBloggersNumber(), item.getConsensus())%> </div> </div> </div> <div class=opinion-distribution> <div class=block-header><%=__(\'bloggers.opinion.distribution\')%></div> <div class=block-content></div> </div> </div> </td> </tr> <%})%> </tbody> </table> <%} else {%> <div class=bloggers-empty> <div class=icon-blogger-empty-grey></div> <div><%= __(\'bloggers.text.no.recommendations\')%></div> </div> <%}%>'},function(e,t,n){(function(i,r){var o;function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}void 0===(o=function(e,t,i){var o=n(1),a=n(5),l=n(20),c=n(100),u=n(8),d=n(26),p=n(115),f=n(780),h=n(0),m=n(22),g=n(190),v=n(574),b=n(1476),_=n(86),y=n(267).default,E=n(3).PERIODS,S=n(46).updateUrlBySelectedInstrumentSymbol,C=n(122).sendEventosBloggersAction,w=n(368).default,O=n(64).transformSymbolToSBSymbol,T=l.extend({subscribedInstruments:[],mainTemplate:o.template(n(1477)),bloggersTemplate:o.template(n(1478)),events:{"click .bloggers-top .icon-close-blue":"close","click .stock-expand":"viewDetails","click .choosen-header-wrapper":"toggleFilter","click .chosen-stocks li":"filterItems","click .chosen-ratings li":"filterItems","click .chosen-elm .chosen-reset":"filterReset","click .chosen-periods li span":"changePeriod","click th.sortable":"sortBloggers","click .take-tour":"openTour"},tagName:"div",className:"bloggers-wrapper popup-item",initialize:function(e){var t=this;l.prototype.initialize.apply(this,arguments),this.listenTo(a,"ui:header-itemclick",this.close),this.listenTo(a,"ui:instrument:change",this.close),this.listenTo(a,"ribbon:update",this.updateContentHeight),r(window).on("resize.blogger",(function(){return t.updateContentHeight()})),this.parent=e.parent,this.parent.find(".main-box-content").addClass("hidden"),this.periods=[].concat(s(E)),this.current_period=this.periods[2],this.direction="desc",this.activeColumn="",this.getBloggers(this.current_period,this.periods[3])},getBloggers:function(e,t){var n=this;return e=e||this.current_period,this.addChildView(".bloggers",_,{parent:r(".main-box"),position:"absolute"}),this.loadBloggers(e,t).then((function(e){return e.data.error?(n.bloggers=[],n.render(),n.removeChildView(".bloggers"),Promise.reject()):(n.bloggers=n.createCollection(e.data),n.render(),n.removeChildView(".bloggers"),Promise.resolve())}))},loadBloggers:function(e,t){return u.loadBloggers(e).then((function(e){return!e.data.error&&e.data.bloggerRecommendations&&0!==e.data.bloggerRecommendations.length||!t?Promise.resolve(e):u.loadBloggers(t)}))},createCollection:function(e){var t=new c,n=[],i=o.reduce(e.bloggerRecommendations,(function(t,n){return o.has(e.stocks,n.stockTicker)&&t.push(o.extend({stock:e.stocks[n.stockTicker]},n)),t}),[]);return o.each(i,(function(e){var i=e.stock.symbol;if(d.getInstrumentBySymbol(i)||(i=O(i),d.getInstrumentBySymbol(i))){var r=new f(e);r.set("instrument",d.getInstrumentBySymbol(i)),n.push(i),t.add(r)}})),this.subscribedInstruments=p.update(n,this.subscribedInstruments).addedSymbols,t},sortBloggers:function(e){var t=e.currentTarget;this.activeColumn=t.classList[0],this.direction="asc"===t.classList[2]?"desc":"asc",this.filterItems()},_sort:function(e,t){var n="desc"===this.direction?-1:1;return"column-blogger"===this.activeColumn?e.getBloggerName().localeCompare(t.getBloggerName())*n:"column-instrument"===this.activeColumn?e.getSymbol().localeCompare(t.getSymbol())*n:void 0},viewDetails:function(e){var t=r(e.currentTarget),n=t.closest("tr");r(n).addClass("active");var i=t.find(".stock-expand span"),s=n.parentNode.rows[n.rowIndex+1];if("+"===i.html()){r(s).removeClass("hidden"),i.html("-"),C(r(n).attr("data-symbol"));var a=o.find(this.bloggers.models,(function(e){return e.getSymbol()===r(n).attr("data-symbol")}));0===r(s).find(".opinion-distribution .highcharts-container").length&&v(r(s).find(".opinion-distribution .content")[0],a.getOpinions())}else r(s).addClass("hidden"),r(n).removeClass("active"),i.html("+")},close:function(e){p.remove(this.subscribedInstruments),a.trigger("ui:chart:update-size"),r(window).off("resize.blogger"),this.parent.find(".main-box-content").removeClass("hidden"),e&&store.dispatch(S()),this.destroy()},changePeriod:function(e){var t=r(e.currentTarget).attr("data-period");this.current_period=t,this.$el.find(".chosen-periods").removeClass("expanded").addClass("collapsed").find(".chosen-text").html(this.current_period),this.getBloggers()},toggleFilter:function(e){var t=r(e.currentTarget).parent();t.hasClass("collapsed")?(t.removeClass("collapsed").addClass("expanded"),r(document).on("click.content",(function(e){r(e.target).closest(".chosen-elm")||(t.removeClass("expanded").addClass("collapsed"),r(document).off("click.content"))}))):(t.removeClass("expanded").addClass("collapsed"),r(document).off("click.content"))},filterItems:function(e){var t=this;if(!o.isUndefined(e)){var n=e.currentTarget.childNodes[0];n.checked=!n.checked}var i=[],r=this.$el.find("input[name=stocks]:checked");this.$el.find(".chosen-stocks .chosen-total span").html(r.length||""),1===r.length?this.$el.find(".chosen-stocks .chosen-text").html(this.$el.find("input[name=stocks]:checked")[0].value):r.length>1?this.$el.find(".chosen-stocks .chosen-text").html(__("tipranks.filter.shares.selected",r.length)):this.$el.find(".chosen-stocks .chosen-text").html(__("tipranks.filter.all.shares"));var s=[];r.length>0&&(s=o.map(r,(function(e){return e.value})));var a=this.$el.find("input[name=ratings]:checked"),l=[];a.length>0&&(l=o.map(a,(function(e){return e.value}))),this.$el.find(".chosen-ratings .chosen-text").html(0===l.length?__("tipranks.filter.all.ranking"):l.join()+" "+__("tipranks.text.stars")),(i=o.filter(this.bloggers.models,(function(e){return(!s.length||o.find(s,(function(t){return t===e.getSymbol()})))&&(!l.length||o.find(l,(function(t){return t===e.getBloggerRating()})))}))).sort((function(e,n){return t._sort(e,n)})),this.renderFilteredData(i)},filterReset:function(e){var t=e.currentTarget.classList[1];this.$el.find(".chosen-"+t).removeClass("expanded").addClass("collapsed"),o.each(this.$el.find("input[name="+t+"]"),(function(e){return e.checked=!1})),this.filterItems()},getStocksList:function(e){return o.uniq(o.map(e,(function(e){return[e.getSymbol(),e.getName()]})),(function(e){return JSON.stringify(e)}))},render:function(){var e=this;l.prototype.render.call(this);var t=o.isArray(this.bloggers.models)&&!o.isEmpty(this.bloggers.models)?this.bloggers.models:[];this.$el.html(this.mainTemplate({stocks:this.getStocksList(t),periods:this.periods,current_period:this.current_period})),this.$el.find(".content-block").html(this.bloggersTemplate({bloggers:this.bloggers.models,direction:this.direction,activeColumn:this.activeColumn})),this.getBuySell(t),this.$el.find(".results").html(__("total.results",t.length)),m.render(h.createElement(y,{options:[].concat(s(this.bloggers.models)),placeholder:__("tipranks.text.all_stoks"),onChange:function(t){return e.renderFilteredData(t)},transformOptionValue:function(e){return e.get("stock").symbol},transformOptionText:function(e){return e.get("stock").symbol}}),document.getElementById("searchableDropdown"));var n=this.$el.find(".content-table")[0];return n&&w.init(n),C(),this.updateContentHeight(),this},renderFilteredData:function(e){var t=o.isArray(e)&&!o.isEmpty(e)?e:this.bloggers.models;this.$el.find(".content-block").html(this.bloggersTemplate({bloggers:t,periods:this.periods,current_period:this.current_period,direction:this.direction,activeColumn:this.activeColumn})),this.$el.find(".results").html(__("total.results",t.length)),this.getBuySell(t);var n=this.$el.find(".content-table")[0];n&&w.init(n)},openTour:function(){this.$el.find(".content-block")[0].scrollTop=0,b(this.$el)},updateContentHeight:function(){var e=220,t=r(".ribbon-notification");t.length>0&&t[0].clientHeight&&(e+=t[0].clientHeight);var n=document.documentElement.clientHeight-e;this.$el.find(".content-block").css("height",n+"px")},getBuySell:function(e){var t=this;o.each(e,(function(e,n){var i=h.createElement(g,{type:"Sell",column:{name:"Sell",key:"bid",direction:"bidDirection"},model:e.get("instrument"),isSelected:!0,onClick:o.noop}),r=h.createElement(g,{type:"Buy",column:{name:"Buy",key:"ask",direction:"askDirection"},model:e.get("instrument"),isSelected:!1,onClick:o.noop});m.render(i,t.$el.find(".instrument-sell-change tr")[n]),m.render(r,t.$el.find(".instrument-buy-change tr")[n])}))}});i.exports=T}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,r){n(1);var o=n(317);r.exports=function(e){var t=e.find(".take-tour");t.addClass("hidden");var n=function(t,n){return function(t){return e.find(t)}(t)[n]},r=function(t,i){return"+"==e.find(".row:first-child .stock-expand span").html()&&e.find(".row:first-child .stock-expand")[0].click(),n(t,i)},s=function(){"-"==e.find(".row:first-child .stock-expand span").html()&&e.find(".row:first-child .stock-expand")[0].click()},a=[{element:n("td.column-blogger",0),intro:__("bloggers.text.slide_1_text"),position:"top"},{element:n("td.column-sentiment",0),intro:__("bloggers.text.slide_2_text"),position:"top"},{element:n("td.column-date",0),intro:__("bloggers.text.slide_3_text"),position:"top"},{element:r(".bloggers-consensus",0),intro:__("bloggers.text.slide_4_text"),position:"top"},{element:r(".opinion-distribution",0),intro:__("bloggers.text.slide_5_text"),position:"top"}];o.introJs().setOptions({nextLabel:__("tipranks.text.slide_next"),prevLabel:__("tipranks.text.slide_prev"),doneLabel:__("actions.done"),skipLabel:" ",steps:a}).oncomplete((function(){i(t.removeClass("hidden")),s()})).onexit((function(){i(t.removeClass("hidden")),s()})).start()}}.call(t,n,t,e))||(e.exports=r)}).call(this,n(12))},function(e,t){e.exports='<div class=popup-item-wrapper> <div class="hidden-xs bloggers-top"> <div class="header-actions fn-close-popup btn"> <i class=icon-close-blue></i> </div> </div> <div class=bloggers> <div class="header-block overflow-unset"> <div class=bloggers-header> <div class=header-title> <div class=title><%=__(\'tab.bloggers\')%></div> <%if (stocks.length > 0) {%> <div class=take-tour><%=__(\'tipranks.text.take_tour\')%></div> <%}%> </div> <div class=header-description><%=__(\'bloggers.description\')%></div> </div> <div class=filters> <div class=results></div> <div class="chosen-elm chosen-periods collapsed"> <div class=choosen-header-wrapper> <span class=chosen-text><%=current_period%></span> <span class=up></span> </div> <div class=choosen-content-wrapper> <div> <ul> <%_.each(periods, function(period){ %> <li> <span data-period="<%=period%>"><%=period%></span> </li> <% }); %> </ul> </div> </div> </div> <div id=searchableDropdown></div> <%if (stocks.length > 0) {%> <div class="chosen-elm chosen-ratings collapsed"> <div class=choosen-header-wrapper> <span class=chosen-text><%=__(\'tipranks.filter.all.ranking\')%></span> <span class=up></span> </div> <div class=choosen-content-wrapper> <div> <a class="chosen-reset ratings"><%=__(\'tipranks.filter.reset\')%></a> <ul> <%_.each([5, 4, 3, 2, 1], function(val) {%> <li><input type=checkbox name=ratings value="<%=val%>" id="stars<%=val%>"/><span class="stars stars<%=val%>"></span></li> <%});%> </ul> </div> </div> </div> <%}%> </div> </div> <div class=content-block></div> <div class="risk-warning text-muted"><%=__(\'bloggers.text.disclaimer\')%></div> </div> </div> '},function(e,t){e.exports='<% if(bloggers.length > 0) {%> <table class=bloggers-table> <thead> <tr class=column-head> <th class="column-instrument sortable <%=direction%> <%if(activeColumn == \'column-instrument\'){%>active<%}%>"><%=__(\'tipranks.text.share\')%></th> <th class="column-blogger sortable <%=direction%> <%if(activeColumn == \'column-blogger\'){%>active<%}%>"><%=__(\'bloggers.text.blogger\')%></th> <th class=column-sentiment><%=__(\'bloggers.text.sentiment\')%></th> <th class=column-date><%=__(\'insiders.header.date\')%></th> <th class=column-trade><%=__(\'tipranks.text.trade\')%></th> </tr> </thead> </table> <div class=content-table> <table class=bloggers-table> <tbody> <% _.each(bloggers, function(item){%> <tr class=row data-symbol="<%= item.getSymbol()%>"> <td class=column-instrument> <div> <div class=stock-expand> <span>+</span> </div> <div class=stock-name> <div class="stock-image instrument-img-<%= item.getSymbol().toLowerCase()%>"></div> <div class=stock-data> <div class=name><%=item.getName()%></div> <div class="ticker text-muted"><%=item.getTicker()%></div> </div> </div> </div> </td> <td class=column-blogger> <div> <div class=analyst-details> <div class=analyst-name> <div class=name><%=item.getBloggerName()%></div> <div class="company text-muted"><%=item.getFirmName()%></div> </div> <div class=analyst-rating> <div class=stars></div> <div class=fill style="width: <%= item.getBloggerRatingStarsFill()%>px"></div> </div> </div> </div> </td> <td class=column-sentiment> <div class="<%=item.getSentiment()%>"> <%if (item.getSentiment() != \'neutral\'){%><i class="icon icon-<%=item.getSentiment()%>"></i><%}%> <div><%=item.getSentiment()%></div> </div> </td> <td class=column-date> <div><%=__(\'insiders.days.ago\', item.getRecommendationDateDiff())%></div> </td> <td class=column-trade> <div class=stock-buy-sell> <div class=instrument-sell-change><table><tr></tr></table></div> <div class=instrument-buy-change><table><tr></tr></table></div> </div> </td> </tr> <tr class="row-expand hidden"> <td colspan=4> <div> <div class=bloggers-consensus> <div class=header><%=__(\'bloggers.consensus\')%></div> <div class=content> <div class=consensus-graph> <div class=consensus-bearish> <i class="icon icon-bearish"></i> </div> <div class=bar> <b style="width: <%=item.getBearishRatio()%>"></b> <i style="width: <%=item.getBullishRatio()%>"></i> </div> <div class=consensus-bullish> <i class="icon icon-bullish"></i> </div> </div> <div class="consensus-text text-muted"> <%=__(\'bloggers.consensus.text\', item.getTicker(), item.getBloggersNumber(), item.getConsensus())%> </div> </div> </div> <div class=opinion-distribution> <div class=header><%=__(\'bloggers.opinion.distribution\')%></div> <div class=content></div> </div> </div> </td> <td></td> </tr> <%})%> </tbody> </table> </div> <%} else {%> <div class=bloggers-empty> <div class=icon-blogger-empty-blue></div> <div><%= __(\'bloggers.text.no.recommendations\')%></div> </div> <%}%>'},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var o=n(1),s=n(70),a=n(1480),l=n(1490),c=n(124),u=n(782),d=n(9),p=o.template(n(1491)),f=s.extend({name:"withdraw-popup",events:function(){return o.extend({},o.result(s.prototype,"events"),{"click .fn-submit":"onSubmit","click .fn-cancel":"onCancel","click .fn-click-disclaimer":function(e){return e.preventDefault(),e.stopPropagation(),new c({parent:r("body"),text:__("withdraw.disclaimer.popup.content"),isHeaderShowed:!1})}})},wizardForm:null,initialize:function(e){s.prototype.initialize.apply(this,arguments),this.render()},render:function(e){s.prototype.render.call(this),this.$el.find(".responsive-panel").addClass("withdraw-popup"),this.setContent(p({settings:d})),this.wizardForm=new l({model:new a,$parent:this.$el.find(".block-form")}),this.listenTo(this.wizardForm,"method:change",this.onMethodChange)},close:function(){s.prototype.close.call(this)},onMethodChange:function(){""===this.wizardForm.method?this.$el.find(".fn-submit").attr("disabled",!0):this.$el.find(".fn-submit").removeAttr("disabled")},onCancel:function(){this.close()},onSubmit:function(){var e=this;if(!this.wizardForm.form.submit()){var t=o.extend(this.wizardForm.form.getData(),{currency:this.wizardForm.currency}),n=u.getMethodById(this.wizardForm.method);n.setData(t).then((function(){return n.proceed()})).then((function(t){return e.withdrawMessage(t)}))}},withdrawMessage:function(e){return this.close(),new c({parent:r("body"),text:__("withdraw.message.success"),isHeaderShowed:!1})}});i.exports=f}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,r){var o=n(413),s=n(8),a=n(6),l=n(5),c=n(9),u=n(649),d=o.extend({defaults:function(){return n(781).WithdrawFormConfig()},initialize:function(e){o.prototype.initialize.apply(this,arguments),this.listenTo(l,"user:load:credit-card:success",this.setCreditCards),this.listenTo(this,"change:tradingAccounts",this.updateTradingAccounts),c.isWithdrawalAccountChooseEnabled()&&this.getTradingAccounts(),this.getCreditCards()},updateCreditCards:function(){var e=[];this.get("creditCards").forEach((function(t){"APPROVED"===t.status&&e.push(t.number),c.isPendingCreditCardWithdrawEnabled()&&"PENDING"===t.status&&e.push(t.number)})),i.find(this.get("form")[0],(function(e){return"creditCard"===e.name})).options=e},updateTradingAccounts:function(){i.find(this.get("form")[0],(function(e){return"account"===e.name})).options=this.get("tradingAccounts")},getCreditCard:function(e){return i.findWhere(this.get("creditCards"),{number:e})},setCreditCards:function(){this.set("creditCards",i.values(a.getUserCreditCards().get("creditCards")))},getCreditCards:function(){a._userCreditCards.reLoad()},getTradingAccounts:function(){var e=this;s.loadWithdrawalInfo().then((function(t){var n=i.filter(t.data,(function(e){return u.isCosmosTradingAccount(e.tradePlatformType)?u.getAvailableForWithdrawal()>0:e.amount>0||e.pendingAmount>0}));n.length>0&&e.set("tradingAccounts",n)}))}});r.exports=d}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r,o=n(54),s=n(1);i.exports={getCountryList:function(){return r||(r=s.chain(o.getKeysGroup("country.name")).map((function(e){return{name:__("country.name."+e),key:e}})).sortBy("name").pluck("key").value())}}}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){"use strict";n.r(t);var i=n(128),r=n(6),o=n.n(r),s=n(58),a=n.n(s),l=n(119),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return n=i=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),i.id=l.WithdrawMethod.CREDIT_DEBIT_CARD,u(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"setData",value:function(e){var n=this;(function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setData",this).call(this,e);var i=o.a.getUserCreditCards();return i.load().then((function(){var t=i.getCardByNumber(e.creditCard);return n.data.type=a.a.creditCards[t.type],n.data.number=t.number,n.data.expirationDate="",Promise.resolve()}))}}]),t}(i.default);t.default=d},function(e,t,n){"use strict";n.r(t);var i=n(128),r=n(119),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var a=function(e){function t(){var e,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=i=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),i.id=r.WithdrawMethod.GLOBE_PAY,s(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"setData",value:function(e){return function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setData",this).call(this,e),this.data.email=e.email,Promise.resolve()}}]),t}(i.default);t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(128),r=n(119),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var a=function(e){function t(){var e,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=i=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),i.id=r.WithdrawMethod.MONEYBOOKERS,s(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"setData",value:function(e){return function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setData",this).call(this,e),this.data.email=e.email,Promise.resolve()}}]),t}(i.default);t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(128),r=n(119),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var a=function(e){function t(){var e,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=i=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),i.id=r.WithdrawMethod.NETELLER,s(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"setData",value:function(e){return function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setData",this).call(this,e),this.data.netellerId=e.neteller,Promise.resolve()}}]),t}(i.default);t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(128),r=n(119),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var a=function(e){function t(){var e,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=i=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),i.id=r.WithdrawMethod.PAYPAL,s(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"setData",value:function(e){return function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setData",this).call(this,e),this.data.email=e.email,Promise.resolve()}}]),t}(i.default);t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(128),r=n(119),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var a=function(e){function t(){var e,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=i=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),i.id=r.WithdrawMethod.UNION_PAY,s(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"setData",value:function(e){return function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setData",this).call(this,e),this.data.address=e.address,this.data.city=e.city,this.data.zipCode=e.zipCode,this.data.phone=e.phone,this.data.bankName=e.bankName,this.data.bankDetails=e.bankDetails,this.data.accountNumber=e.accountNumber,Promise.resolve()}}]),t}(i.default);t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(128),r=n(119),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var a=function(e){function t(){var e,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=i=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),i.id=r.WithdrawMethod.WIRE_TRANSFER,s(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"setData",value:function(e){return function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setData",this).call(this,e),this.data.bankName=e.bankName,this.data.bankAddress=e.bankAddress,this.data.accountNumber=e.accountNumber,this.data.iban=e.iban,this.data.abaOrSwift=e.swift,this.data.countryCode=e.country,Promise.resolve()}}]),t}(i.default);t.default=a},function(e,t,n){"use strict";n.r(t);var i=n(128),r=n(119),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var a=function(e){function t(){var e,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=i=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),i.id=r.WithdrawMethod.SEA_SOLUTION,s(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"setData",value:function(e){return function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setData",this).call(this,e),this.data.bankName=e.bankName,this.data.bankAddress=e.bankAddress,this.data.accountNumber=e.accountNumber,this.data.countryCode=e.country,Promise.resolve()}}]),t}(i.default);t.default=a},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(412),s=n(86),a=n(6),l=n(8),c=n(66),u=n(33).default,d=n(781).amountValidation,p=/^(0|[1-9]\d*)(\.|\.\d{1,2})?$/i,f=o.extend({tradingAccount:null,currency:null,method:null,initialize:function(e){o.prototype.initialize.apply(this,arguments),this.currency=a.getUserCurrency(),this.listenTo(this.model,"change:creditCards change:tradingAccounts",this.onRender),this.fixedLoadingView=new s({parent:e.$parent,position:"fixed",translucent:"2"})},initForm:function(){this.listenTo(this.form,"field:change:account",this.onTradingAccountChange),this.listenTo(this.form,"field:change:method",this.onMethodChange),this.listenTo(this.form,"field:change:amount",this.onAmountChange),this.listenTo(this.form,"field:change:beneficiary",this.onBeneficiaryChange),this.listenTo(this.form,"field:change:comment",this.onCommentChange)},onRender:function(){this.model.updateCreditCards(),this.fixedLoadingView.destroy(),this.show(),this.initForm(),this.method=this.form.field("method").value();var e=this.model.get("tradingAccounts")[0];this.form.field("account").value(e.id),this.form.field("account").fireChangeEvent()},onTradingAccountChange:function(e){var t=e.value(),n=r.find(this.model.get("tradingAccounts"),(function(e){return e.id===Number(t)})),i=d(n);this.form.field("amount").setRules(i),this.currency=n.currency},methodUpdate:function(){"EMPTY"!==this.method&&(u.desktop()||u.tablet())&&this.form.$el.find(".form-body").css({overflow:"auto"})},onMethodChange:function(e){this.method=this.form.field("method").value(),"union_pay"===this.method?this.conversionUsdToCny().then(this.conversionUsdToCnySuccess.bind(this)).catch(this.conversionUsdToCnyError.bind(this)):(this.form.$(".field-conversion > .content").empty(),this.conversionValue=0),this.methodUpdate(),this.trigger("method:change")},onCheckChange:function(e){this.trigger("check:enable")},onAmountChange:function(e){var t=e.value();t.length<=12&&p.test(t)?this.lastValidValue=t:(this.lastValidValue&&""!==t||(this.lastValidValue=""),""!==t&&e.value(this.lastValidValue)),this.calculateConversion(t)},conversionUsdToCny:function(){return l.conversionFromUsdToCny(c.getAtmosphereId(),{from:this.currency,to:"CNY"})},conversionUsdToCnySuccess:function(e){return this.conversionValue=e.data,this.showConversionForCny(this.conversionValue),Promise.resolve(e)},conversionUsdToCnyError:function(e){return Promise.reject(e)},showConversionForCny:function(e){this.form.$(".field-conversion > .content").html('<span class="calculate"></span> <span>&nbsp;(1'+this.currency+" = "+e.toFixed(4)+"CNY)</span>"),this.calculateConversion(a.getUserAccountMetricsModel().getEquity())},calculateConversion:function(e){var t=e*this.conversionValue,n=t?e+this.currency+" = "+t.toFixed(2)+"CNY":"";this.form.$(".field-conversion > .content > span.calculate").html(n)}});i.exports=f}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t){e.exports="<div class=withdraw-popup-body> <div class=content> <div class=block-text> <div><%=__('withdraw.text.description')%></div> </div> <div class=block-form> </div> </div> <div class=withdraw-popup-disclaimer> <span class=hidden-xs><%=__('withdraw.disclaimer.popup.content')%></span> <a href=# class=\"hidden-md hidden-lg hidden-sm fn-click-disclaimer\"><%=__('withdraw.disclaimer.popup.link')%></a> </div> <div class=form-actions> <div class=block-button> <button class=\"btn btn-primary submit fn-submit\" disabled=disabled><%=__('withdraw.button.save')%></button> </div> <div class=block-button> <button class=\"btn cancel fn-cancel\"><%=__('cancel')%></button> </div> <% if (settings.isLiveChatEnabled()) { %> <div class=\"block-help-line hidden-xs\"> <span><%=__('help.need_help')%></span> <span><a href=# class=fn-help-live-chat-link><%=__('help.right_here')%></a></span> </div> <% } %> </div> </div> "},function(e,t,n){(function(i){var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();void 0===(r=function(e,t,i){var r=n(5),a=(n(58),n(6)),l=n(1),c=n(9),u=n(146),d=n(16),p=n(1493),f=n(71).default,h=n(8),m=n(3),g=m.UI_SECTION_OPEN_POSITION,v=m.UI_SECTION_TRADING,b=n(126).default;window.LC_API=window.LC_API||{};var _=null,y=["registration"],E=[v,g],S=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.on("ui:need-help",this.onLivechatOpen.bind(this)),r.on("ui:need-help-menu",this.onLivechatOpen.bind(this,"support")),r.on("user:login",this.onUserLogin.bind(this)),r.on("eye-catcher:start",this.onStartEyeCatcher.bind(this)),r.on("eye-catcher:destroy",this.onDestroyEyeCatcher.bind(this)),r.on("user:inactivity:idle",this.checkSettingsForEyeCatcher.bind(this)),r.listenTo(c,"change:eyecatcher.enabled",this.startEyeCatcher.bind(this))}return s(e,[{key:"onUserLogin",value:function(){var e=this;c.isLiveChatEnabled()&&this.getGroupForLiveChat().then((function(t){e.livechatInit(t);var n=a.getPersonalData(),i=a.getCustomerId(),r=a.getCrmboAccounts(),o=l.findWhere(r,{tradingAccountType:""+c.getPlatformTypeId()});n&&(window.__lc.visitor={name:n.firstName+" "+n.lastName,email:" "},window.__lc.params.push({name:"level",value:a.getUserLevelsModel().isMarketsX()?"MarketsX":"Classic"}),l.isUndefined(i)||window.__lc.params.push({name:"customerId",value:i}),l.isUndefined(o.platformAccountId)||window.__lc.params.push({name:"platformId",value:o.platformAccountId}))}))}},{key:"livechatInit",value:function(e){window.__lc=window.__lc||{},window.__lc.license=c.getLiveChatLicenseId(),window.__lc.ga_version="gtm",window.__lc.chat_between_groups=!1,window.__lc.group=e.groupId,window.__lc.params=[],window.__lc.params.push({name:"platform",value:"indigo"});var t=!0;LC_API.on_before_load=function(){!1===LC_API.visitor_engaged()&&!1===t&&LC_API.hide_chat_window()},LC_API.on_chat_started=function(){t=!0},LC_API.on_message=this.onLivechatOpen;var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src="//cdn.livechatinc.com/tracking.js";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i),e.eyecatcher?this.startEyeCatcher():c.set("eyecatcher.enabled",!1)}},{key:"getGroupForLiveChat",value:function(){var e=this,t=c.isEyeCatcherEnabled()&&l.contains(c.getLangsForEyeCatcher(),__("lang")),n=parseInt(__default("live.chat.eyecatcher.group.id","-1")),i=a.getUserLevelsModel().isMarketsX(),r=parseInt(__("live.chat.group.id"))||0,o=parseInt(__("live.chat.premium.group.id"))||0,s={groupId:r,eyecatcher:!1},u={groupId:n,eyecatcher:!0},d={groupId:o,eyecatcher:!1};return!a.isFirstDeposit()&&t?this.createGroupWithAgents(u,s).then((function(t,n){return!n&&i?e.createGroupWithAgents(o,s):s})):i?this.createGroupWithAgents(d,s):Promise.resolve(s)}},{key:"createGroupWithAgents",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.checkLiveChatAgents(e.groupId).then((function(n){return Promise.resolve(n?e:o({},t),n)}))}},{key:"checkLiveChatAgents",value:function(e){return h.hasLiveChatAgents(e).then((function(e){return!(!e||!e.data)}))}},{key:"onLivechatOpen",value:function(e){c.isLiveChatEnabled()&&this.getGroupForLiveChat().then((function(e){var t=b("https://lc.chat/now/6092921/"+e.groupId);t.focus&&t.focus()}))}},{key:"startEyeCatcher",value:function(){var e=c.getLangsForEyeCatcher();c.isEyeCatcherEnabled()&&l.contains(e,__("lang"))&&f.desktop()&&r.trigger("eye-catcher:start")}},{key:"onStartEyeCatcher",value:function(){if(!l.isEmpty(LC_API)&&!a.isFirstDeposit()&&!_){var e=n(1007);(_=new e(c.getTimeOutForEyeCatcher(),"platform",["click","mousedown","touchstart","keypress"])).init()}}},{key:"onDestroyEyeCatcher",value:function(){e.eyeCatcher=null}},{key:"isShowEyeCatcher",value:function(e){return E.some((function(t){return 0===e.indexOf(t)}))}},{key:"checkSettingsForEyeCatcher",value:function(e){var t=a.getUserCommonData();"platform"===e.source?(null===t.getIntervalForEye()&&t.saveIntervalForEye(l.now()-(c.getIntervalForEyeCatcher()+1e4)),u.isPopupOpen()||(t.getStartWeekForEye()===d().week()?t.getEyeCountVisibleTimes()<=c.getTimesPerWeekforEyeCatcher()?c.getIntervalForEyeCatcher()<=l.now()-t.getIntervalForEye()&&this.showEyeCatcherIfPosible(e.source):_&&(_.stop(),_=null):(this.showEyeCatcherIfPosible(e.source),t.saveStartWeekForEye(d().week()),t.saveEyeCountVisibleTimes(1)))):this.showEyeCatcherIfPosible(e.source)}},{key:"showEyeCatcherIfPosible",value:function(t){var n=a.getUserCommonData();LC_API.agents_are_available()&&!LC_API.visitor_engaged()&&LC_API.chat_window_hidden()&&(document.hasFocus()&&"platform"===t||"platform"!==t)&&(a.isFirstDeposit()?_&&(_.stop(),_=null):(u.isPopupOpen()&&l.contains(y,u.getNameForOpenPopup())||!u.isPopupOpen()&&this.isShowEyeCatcher(u.getRouter()))&&(e.eyeCatcher||(e.eyeCatcher=new p({source:t}),"platform"===t&&(n.saveEyeCountVisibleTimes(n.getEyeCountVisibleTimes()+1),n.saveIntervalForEye(l.now())))))}}]),e}();S.eyeCatcherIsShow=!0,S.eyeCatcher=null,i.exports=new S}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(5),s=n(20),a=s.extend({tagName:"div",className:"eye-catcher",parent:"body",template:r.template(n(1494)),events:function(){return r.extend({},r.result(s.prototype,"events"),{"click .fn-open-chat":"onClick","click .fn-no_thanks":"onCancel"})},initialize:function(e){this._startTime=r.now(),s.prototype.initialize.apply(this,arguments),this.render()},render:function(){this.$el.html(this.template({})),s.prototype.render.call(this)},destroy:function(){o.trigger("eye-catcher:destroy"),s.prototype.destroy.call(this)},onCancel:function(){o.trigger("eye-catcher:close",{source:this.options.source,duration:this.getDurationMs()}),this.destroy()},hide:function(){this.$el.removeClass("eye-catcher--visible").addClass("eye-catcher--hidden")},show:function(){this.$el.removeClass("eye-catcher--hidden").addClass("eye-catcher--visible")},onClick:function(e){e.preventDefault(),e.stopPropagation(),o.trigger("eye-catcher:click",{source:this.options.source,duration:this.getDurationMs()}),o.trigger("ui:need-help","eyecatcher_"+this.options.source),this.destroy()},getDurationMs:function(){return r.now()-this._startTime}});i.exports=a}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t){e.exports='<div class=eye-catcher--wrapper> <div class=eye-catcher__greeting> <div class=icon__close> <button class=fn-no_thanks> <i class=icon-close-blue></i> </button> </div> <div class=greeting aria-expanded=false dir=ltr> <div class="greeting__text fn-open-chat"> <%= __(\'eye_catcher.message\')%> </div> </div> </div> <div class=eye-catcher__icon> <div aria-expanded=false dir=ltr class=icon__wrapper> <button class="icon__button fn-open-chat"> <div class=img__wrapper> <span class=icon-eye_catcher></span> </div> </button> </div> </div> </div>'},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(5),o=n(6),s=n(126).default;r.on("ui:contact-us",(function(){var e=o.getFirstDeposit()?__("link.contact_us.funded.client"):__("link.contact_us"),t=s(e);t.focus&&t.focus()}))}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i,r,o){var s,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}void 0===(s=function(e,t,i){var r=n(24),o=n(12),s=n(5),u=n(1),d=n(22),p=n(0),f=n(630),h=n(4).Provider,m=n(26),g=n(774),v=n(6),b=n(54),_=n(185),y=n(72),E=n(9),S=n(125),C=n(83),w=n(1008),O=n(322).SECTION,T=n(102),P=n(1497),k=n(72),I=n(73),A=n(124),x=n(19),N=x.getInstrumentCategoryPath,D=x.getInstrumentCategory,R=n(46),L=R.hideChart,M=R.showChart,j=R.updateChartState,F=R.updateUrlBySelectedInstrumentSymbol,B=R.setShouldInstrumentBeCentered,U=n(21).FLOW_ON_BOARDING,V=n(317),z=n(617).default,q=n(126).default,H=n(1500).default,$=n(31).default,G=n(145),W=G.LazyInvestUnfundedPortfolioWrapper,Y=G.LazyInvestUnfundedPortfolioWrapperMobile,K=n(122),X=K.sendEventosNewsAction,Q=K.sendEventosCommentaryAction,J=K.sendEventosNewsAlertsAction,Z=K.sendEventosXrayAction,ee=K.sendEventosEducationOnDemandAction,te=K.sendEventosTradingCentralAction,ne=K.sendEventosVideoTutorialsAction,ie=n(3),re=ie.LEVERAGE_CHANGE_TAB,oe=ie.ACCOUNT_TRADING_TYPE,se=window.matchMedia("(display-mode: standalone)").matches,ae=n(46),le=ae.selectInstrumentCategoryTreePath,ce=ae.selectInstrumentSymbolAndUpdateUrl,ue=ae.updateCategorySections,de=ae.closeInstrumentDetails,pe=ae.openInstrumentDetails,fe=ae.changeInstrumentInfoVisibility,he=ae.setMultiChartsEnabled,me=n(193),ge=me.addFavoriteInstrument,ve=me.removeFavoriteInstrument,be=n(208).saveSettingsByKey,_e=n(157),ye=_e.getQuantAccounts,Ee=_e.isAccountCurrent,Se=n(263),Ce=Se.isPortfolioEnabled,we=Se.isSaxoEnabled,Oe=n(3),Te=Oe.DP_PARAM_POSITION_MODE,Pe=Oe.DP_PARAM_TRADING_VIEW,ke=Oe.DP_PARAM_TIMEZONE_ID,Ie=Oe.DP_PARAM_TIMEZONE_OFFSET,Ae=Oe.DP_PARAM_TIMEZONE_GMT,xe=Oe.DP_PARAM_TIMEZONE_NAME,Ne=Oe.PATH_SYNC_PARAM_NAME,De=Oe.PATH_TRADING_ACCOUNT_ID,Re=Oe.PLATFORM_TYPE_POPUP,Le=Oe.SESSION_EXPIRED_POPUP_TIMEOUT,Me=Oe.NA,je=Oe.CHARS,Fe=Oe.VISIBLE,Be=Oe.COLLAPSED,Ue=Oe.EXPANDED,Ve=Oe.MAXIMIZED,ze=Oe.OPEN_POSITION_MODE,qe=Oe.TRADING_TOOLS,He=Oe.PRAXIS,$e=Oe.DEPOSIT_STATUSES,Ge=Oe.REQUIRE_KEEP_USER_REGISTRATION_FLOW_KEY,We=Oe.MULTI_CHARTS_PATH,Ye=Oe.UI_SECTION_INVEST,Ke=(Oe.UI_SECTION_PORTFOLIOS,n(71).default),Xe=n(33).default,Qe=n(8),Je=n(1502),Ze=null,et=null,tt=null,nt=null,it=null,rt=null,ot=null,st=null,at=null,lt=null,ct=null,ut=null,dt=null,pt=null,ft=null,ht=null,mt=null,gt=null,vt=null,bt=null,_t=null,yt=null,Et=null,St=null,Ct=null,wt=null,Ot=null,Tt=null,Pt=null,kt=null,It=null,At=null,xt=null,Nt=null,Dt=null,Rt=null,Lt=null,Mt=null,jt=null,Ft=null,Bt=null,Ut=null,Vt=u.isFunction,zt=u.isEmpty,qt=u.extend,Ht=new function(){var e=[],t=[],n=[],i=[],r=new function(){var e=this;this.has=function(e){return u.contains(i,e)},this.add=function(t){return e.has(t)||i.push(t),e},this.remove=function(t){var n=u.indexOf(i,t);return~n&&i.splice(n,1),e},this.value=function(){return i}};return new function(){this.modifyPositions=function(){return i=e,r},this.modifyOrders=function(){return i=t,r},this.closePositions=function(){return i=n,r}}},$t=function(){var e=v.getUserCommonData().getOpenPositionMode(),t=!1,n=!0;return Xe.desktop()||e!==ze.INTERACTIVE||(t=!0),Xe.desktop()&&e===ze.ADVANCED&&(t=!0),e===ze.INTERACTIVE&&Xe.desktop()&&(t=!0,n=!1),{isDraggable:t,isTranslucent:n}};function Gt(){var e=n(377),t=u.reduce(e.models,(function(e,t){return e[t.getInstrument().getSymbol().toLowerCase()]=!0,e}),{});window.dispatchEvent(new CustomEvent("price-alerts:update-alerts-list",{detail:t}))}function Wt(e){return function(t,n,i){g.event(e||t,n,i)}}function Yt(e){var t=e.get("instrumentId"),n=void 0;n=t?m.getInstrumentById(t):m.getInstrumentBySymbol(e.get("symbol"));var i=e.get("quantity");u.isFunction(e.amount)&&(i=e.amount().value());var r=i>0?"buy":"sell";u.isFunction(e.direction)&&(r=e.direction().value());var o=e.get("type");u.isFunction(e.type)&&(o=e.type().value());var s=null,a=null,l=e.get("takeProfit"),c=e.get("stopLoss"),d=e.get("orderChainId");switch(d||(d=e.get("refOrderChainId")),o){case"STOP":a="buy"===r?"above":"below",s=e.get("stopPrice");break;case"LIMIT":a="buy"===r?"below":"above",s=e.get("limitPrice")}return{instrument:n,order:e,action:r,quantity:Math.abs(i),type:o.toLowerCase(),orderPosition:a,orderId:d,price:s,takeProfit:l&&l.fixedPrice,stopLoss:c&&c.fixedPrice,pipSize:n.getPipsPrecisionSize(),isSpreadBetting:n.isTypeSpreadBetting()}}function Kt(e,t){var i=n(1665),r=new(n(1668));s.trigger("native-popups:block","first-deposit"),ht=new i({parent:o("body"),source:e.source,model:r,onClose:function(){ht=null,s.trigger("native-popups:release","first-deposit")},onSuccess:function(){ht=null,s.trigger("ui:cashier",{amount:r.get("amount"),atmAmount:r.get("amount"),doFirstDeposit:!0,bonusApplied:t})}})}s.on("eventos",(function(e,t){"undefined"!=typeof __eventos&&Vt(__eventos)&&__eventos(e,t)})),s.on("platform:switch",(function(e,t){var i=n(55).getSettingValueByKey;v.getSessionModel().markSessionAsInactive();var r=i(window.store.getState(),"createdNewAccountTypeStatus");r&&v.getUserCommonData().saveShowTooltipStatus(r);var o=["https://"+window._app.getPlatformHost(),"/fxclient5/controllers/switchTo/",String(e).toLowerCase(),"/"+b.getCurrentLanguage(),(t?t+"&":"?")+"theme="+y.name];S.resetLastPageRoute(),o.push("&redirect=false"),Qe.get(o.join("")).then((function(e){var t=new _.Url(e.headers.location),n=t.getQueryParam("deepParams");_app.setPlatformHost(t.getDomain()),Qe.get(e.headers.location).then((function(){var e=window.location,t=String(e.href).split("#"),i=l(t,2),r=i[0];i[1];e.href=r+"?"+n}))})),se&&setTimeout((function(){return window.location.reload()}),2e3)})),s.on("platform:switch:account",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";s.trigger("platform:switch:sync",e,t,n)})),s.on("platform:switch:sync",(function(e,t){var n,i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=v.getUserCommonData(),l=(c(n={},ke,o.getUserTimezoneObject().id),c(n,Ie,o.getUserTimezoneObject().offset),c(n,Ae,o.getUserTimezoneObject().gmt),c(n,xe,o.getUserTimezoneObject().displayName),n),d=(c(i={},Te,o.getOpenPositionMode()),c(i,Pe,o.getTradingViewMode()),c(i,Re,E.isPlatformTypePopupVisible()),i);t&&(d[De]=t),E.isTimezoneEnabled()&&(d=a({},d,l));var p=u.reduce(u.keys(d),(function(e,t){return e+"&"+t+"="+encodeURIComponent(d[t])}),"").slice(1);s.trigger("ui:loading"),s.trigger("platform:switch",String(e).toLowerCase(),"?"+Ne+"=sync&"+p+"&"+r)})),s.on("ui:async-module:error",(function(e){s.trigger("ui:message-box",{caption:__("indigo.errors.title"),text:__("indigo.generic.error.message")})})),s.on("ui:registration",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};et||(et=!0,Je.getModule("registration").then((function(t){var i=t.RegistrationView,r=(0,n(27).getUserInstrumentType)(window.store.getState()),s=e.accountInstrumentType||r;et=new i({parent:o("body"),isBonus:e&&!0===e.isBonus||!1,onFinish:e&&e.onFinish||u.noop,onClose:function(){return et=null},accountInstrumentType:s})})).catch((function(e){et=null})),setTimeout((function(){Je.getModule("risk_warning"),Je.getModule("leverage_selection")}),0))})),s.on("ui:after-select-leverage-popup",(function(e){tt||(tt=!0,Je.getModule("registration").then((function(t){var n=t.AfterSelectLeveragePopupView,i=new(0,t.AfterSelectLeveragePopupModel)(e),r=e&&e.onOK||u.noop;tt=new n({parent:o("body"),caption:__("leverage.popup.set.title.no_bonus"),isHeaderShowed:!0,model:i,onClose:function(){r(),tt=null}})})).catch((function(e){tt=null})))})),s.on("ui:medium-registration-completed",(function(e){At||(At=!0,Je.getModule("medium_registration_completed").then((function(t){var n=t.MediumRegistrationCompletedView,i=new(0,t.MediumRegistrationCompletedModel)(e),r=e&&e.onOK||u.noop;At=new n({parent:o("body"),caption:__("leverage.popup.set.title.no_bonus"),isHeaderShowed:!0,model:i,onClose:function(){r(),At=null}})})).catch((function(e){At=null})))})),s.on("ui:risk-warning",(function(e){it||(it=!0,Je.getModule("risk_warning").then((function(t){var n=t.types,i=t.DefaultRiskWarningView,r=t.RiskWarningModel,s=t.SpanishRiskWarningView,a=t.SpanishRiskWarningTradeView,l=t.CheckKnowledgeRiskWarningView,c=t.SpanishRiskWarningRejectView,u=n.SPANISH_REGULATION,d=n.ACTION_TRADE,p=n.ACTION_REJECT,f=i,h=__("registration.popup.risk.notification");e.regulation===u&&e.action===p?f=c:e.regulation===u&&e.action===d?(f=a,h=__("risk.warning.popup.signature_title")):"spanish"===e.regulation?(f=s,h=__("spanish.regulation.widget.title")):e.checkKnowledge&&(f=l);var m=new r(e);it=new f({caption:h,parent:o("body"),model:m,onOK:e.onOK,onCancel:e.onCancel,onBack:e.onBack,onClose:function(){return it=null}})})).catch((function(e){it=null})))})),s.on("ui:leverage-selection",(function(e){nt||(nt=!0,Je.getModule("leverage_selection").then((function(t){var n=t.LeverageSelectionView,i=new(0,t.LeverageSelectionModel)(e),r=e&&e.onClose||u.noop,o=e&&e.onOK||u.noop;i.on("change:statusOfLeverages",(function(e,t){if("SUCCESS"===t)return i.canChangeLeverage()?void(nt=new n({caption:__("leverage.popup.title"),parent:document.body,model:i,isHeaderShowed:!0,onOK:function(){o(),nt=null},onButtonCloseClicked:function(){r(),nt=null}})):o()}))})).catch((function(e){nt=null})))})),s.on("registration:complete",(function(e){if(v.isFullRegistrationCompleted())return e();var t=v.getUserScore(),n=["userId="+v.getCustomerId(),"password="+v.getPassword(),"scoreLevel="+t].join("&");return s.trigger("ui:loading"),Qe.completeFullRegistration(n).then((function(t){s.trigger("ui:loading:hide");var n=t.data,i=n.switchTradingAccount,r=n.tradingAccountId;return w.trackSuccessClientRegistration(),i?(localStorage.setItem(Ge,r),void s.trigger("platform:switch:account",E.getPlatformType().toLowerCase(),r)):v.loadUserData().then((function(){return e()}))}))})),s.on("ui:change-language",(function(e){var t=function(){return window.location.reload()};v.isLoggedIn()&&v.getUserCommonData().saveSelectedLanguage(e),b.setLanguage(e).then(t).catch(t)})),s.on("ui:instrument",(function(e,t){if(m.getInstrumentBySymbol(e)){if(t){var n=N(window.store.getState(),e);store.dispatch(le(n)),store.dispatch(ue());var i=_.normalize(n,!0,"/");s.navigate("/trading"+i+e,{trigger:!1})}store.dispatch(fe(Fe)),store.dispatch(ce(e)),store.dispatch(pe(e))}})),s.on("ui:price-alerts",(function(e){var t="price-alerts"===v.getApplicationSettings().get("tabs:selectedTabName");s.navigate("/price-alerts/"+e,{replace:t})})),s.on("price-alerts:get-existed",Gt),o(window).on("price-alerts:new",(function(e){var t=n(326),i=n(279),r=n(26).getInstrumentBySymbol(e.detail.symbol,!0);if(!r)return;var o=r.get("priceAlert");new t({parent:document.body,model:o||new i({instrumentId:r.getInstrumentId(),alertTypeId:e.detail.defaultType})})})),o(window).on("price-alerts:navigate-to",(function(e){s.trigger("ui:header-itemclick"),s.trigger("ui:price-alerts",e.detail.symbol)})),o(window).on("price-alerts:get-existed",Gt),s.on("ui:create-price-alert",(function(e,t){var i=u.property("completelyNew")(t),r=u.property("onSuccess")(t);Ft&&Ft.destroy();var o=n(279),s=n(326),a=m.getInstrumentBySymbol(e,!0);if(a){var l=a.get("priceAlert");Ft=new s({parent:document.body,model:l||new o({instrumentId:a.getId()}),completelyNew:i,onSuccess:r,onClose:function(){Ft=null}})}})),s.on("ui:edit-price-alert",(function(e,t){Ft&&Ft.destroy();var i=u.property("onSuccess")(t),r=(n(279),n(326));Ft=new r({parent:document.body,model:e,onSuccess:i,onClose:function(){Ft=null}})})),s.on("ui:order-history",(function(){s.navigate("/canceled-orders")})),s.on("ui:closed-positions",(function(){s.navigate("/closed-positions")})),s.on("ui:account-settings",(function(e){var t=n(1557);if(Ze)return Ze.setActiveTabById(e);(Ze=new t({parent:document.body,tabId:e})).once("destroy",(function(){Ze=null}))})),s.on("ui:account-settings:close",(function(){Ze&&Ze.close()})),s.on("ui:manage-accounts",(function(e){var t=(0,n(44).default)((function(){return Promise.all([n.e(24),n.e(21),n.e(118)]).then(n.bind(null,1950))}));Ut=f.createPortal(p.createElement(h,{store:window.store},p.createElement(t,{selectedTab:e,onClose:function(){return s.trigger("ui:manage-accounts:close")}})))})),s.on("ui:manage-accounts:close",(function(){f.removePortal(Ut),Ut=null})),s.on("ui:open-metatrader",(function(e,t){if(Ot)return Ot;Ot=!0,Je.getModule("metatrader").then((function(n){var i=n.MetatraderPopupModel,r=n.MetatraderPopupView,s=new i,a=__("metatrader.accounts.title");if(e){var l=s.getTabById(e);a=__(l.title)}Ot=new r({model:s,parent:o("body"),caption:a,isHeaderShowed:!0,tabId:e,bonusesTab:t,onClose:function(){Ot=null}})})).catch((function(e){Ot=null}))})),s.on("ui:deposit-message",(function(e){new(n(785))({model:new(n(786))({depositInfo:e}),parent:document.body})})),s.on("ui:reset-password",(function(){var e=v.getCustomerId(),t=v.getEmail();return Qe.forgotPasswordById(e).then((function(){new A({text:__("mt4.password.need.reset",t),isHeaderShowed:!1,okBtnText:__("ok"),isShowCloseForMobile:!1})}))})),s.on("ui:deposit-threshold-promotion",(function(){var e=function(){if(v.isCustomerLevelGoalAlert()&&!v.isEligibleForMarketsX()){var e=v.getUserCurrencySymbol(),t=I(v.getUserTotalDeposits()).formatForeignCurrency(e,"0,0"),n=I(v.getAdditionalDepositForMarketX()).formatForeignCurrency(e,"0,0");v.getAdditionalDepositForMarketX()>0&&new A({parent:document.body,isHeaderShowed:!1,closeIconStyle:"grey",subHeader:__("promotion.popup.successful.deposit"),text:__("promotion.popup.total.deposit",t),messageContent:__("promotion.popup.meet.threshold",n),showLogo:!1,isMarketsXPromotion:v.isPromotionMarketsX(),nameClass:"marketsx-threshold",isLightTheme:k.isLightTheme(),isShowOkButton:!0})}};E.isCustomerLevelsEnabled()&&(v.isCustomerLevelGoalAlert()?e():v.loadUserData().then((function(){return e()})))})),s.on("flow:deposit",Wt("deposit")),s.on("flow:deposit:RealDepositMyAccount",Wt("deposit:RealDepositMyAccount")),s.on("flow:deposit:RealDepositItemMainMenu",Wt("deposit:RealDepositItemMainMenu")),s.on("flow:deposit:Registration",Wt("deposit:Registration")),s.on("flow:deposit:RealFundsManDeposit",Wt("deposit:RealFundsManDeposit")),s.on("flow:trading-tools",Wt("open_trading_tools")),s.on("flow:events-and-trade",Wt("open_events_trade")),s.on("ui:tip-ranks",(function(){return E.isTradingToolEnabled(qe.ANALYST_RECOMMENDATIONS)?s.trigger("flow:tip-ranks"):s.navigate("trading")})),s.on("flow:tip-ranks",Wt("open_tip_ranks")),s.on("ui:insiders",(function(){return E.isTradingToolEnabled(qe.INSIDERS)?s.trigger("flow:insiders"):s.navigate("trading")})),s.on("flow:insiders",Wt("open_insiders")),s.on("ui:bloggers",(function(){return E.isTradingToolEnabled(qe.BLOGGERS)?s.trigger("flow:bloggers"):s.navigate("trading")})),s.on("flow:bloggers",(function(){var e=Xe.mobile()?"popup.mobile":"popup",t=Xe.mobile()?_app.getContainer():_app.getPopupsPlaceholder();new(n(779)("./bloggers."+e+".view"))({parent:t})})),s.on("ui:multi-charts",(function(e){var t=v.getUserCommonData().isAdvancedTradingView();store.dispatch(he(!0)),t?r.history.loadUrl(e):d.render(p.createElement(H,null),_app.getPopupsPlaceholder()[0])})),s.on("ui:close-multi-charts",(function(){v.getUserCommonData().isAdvancedTradingView()||d.unmountComponentAtNode(_app.getPopupsPlaceholder()[0]),store.dispatch(he(!1)),s.navigate(r.history.fragment.substr(We.length),{trigger:!0})})),s.on("ui:hedgefunds",(function(){return E.isTradingToolEnabled(qe.HEDGEFUNDS)?s.trigger("flow:hedgefunds"):s.navigate("trading")})),s.on("flow:hedgefunds",(function(){var e=Xe.mobile()?"popup.mobile":"popup",t=Xe.mobile()?_app.getContainer():_app.getPopupsPlaceholder();new(n(1591)("./hedgefunds."+e+".view"))({parent:t})})),s.on("ui:newsSentiment",(function(){return E.isTradingToolEnabled(qe.NEWS_SENTIMENT)?s.trigger("flow:newsSentiment"):s.navigate("trading")})),s.on("flow:newsSentiment",(function(){Je.getModule("newsSentiment").then((function(e){new(0,e.initNewsSentimentView)({parent:Xe.mobile()?o(".wrapper"):_app.getPopupsPlaceholder()})})).catch((function(e){}))})),s.on("flow:webinars",(function(e){E.checkTradingToolEnabled(qe.WEBINARS).then((function(t){t?Je.getModule("webinars").then((function(t){var n=t.initWebinarsView;if(n){Z();var i=Xe.mobile()?_app.getContainer():_app.getPopupsPlaceholder();Bt&&Bt.destroy(),(Bt=new n({webinarId:e,parent:i,className:"webinars-wrapper popup-item",onClose:function(e){Bt.destroy(),Bt=null,!1!==e&&store.dispatch(F())}})).render()}})).catch((function(e){})):s.navigate("trading")}))})),s.on("flow:blog",(function(){E.checkTradingToolEnabled(qe.BLOG).then((function(e){e?Je.getModule("blog").then((function(e){new(0,e.initBlogPopupView)({parent:Xe.mobile()?_app.getContainer():_app.getPopupsPlaceholder()})})).catch((function(e){})):s.navigate("trading")}))})),s.on("ui:change-leverage-disabled",Wt("popup_cant_change_leverage")),s.on("ui:new-position",(function(e){if(store.dispatch(B(!0)),v.isTradeEnabled()){var t=v.getUserCommonData().getOpenPositionMode(),i=m.getInstrumentById(e.symbolOrId);if((i=i||m.getInstrumentBySymbol(e.symbolOrId))||s.trigger("ui:message-box",{text:__("instrument_not_found.message")}),!Ct||t===ze.INTERACTIVE&&Xe.desktop()){zt(e.source)&&(e.source=r.history.fragment);var o=n(788),a=n(98),l=a.EMPTY,c=a.TYPE_MARKET,u=new o({symbol:i.getSymbol(),direction:e.direction,type:e.type||c,amount:e.quantity||l,takeProfit:e.tp||l,stopLoss:e.sl||l,submitButtonText:__("order.form.send_order"),entry:e.entry});if(t===ze.ADVANCED||!Xe.desktop()&&t===ze.INTERACTIVE){var d=n(789);g.event("trade",(function(){(Ct=new d({parent:document.body,caption:__("dialogs.open_position.title"),isHeaderShowed:!0,source:e.source,model:u})).render(),Ct.once("destroy",(function(){u.destroy(),Ct=null}))}))}else if(t===ze.INTERACTIVE&&Xe.desktop()){var p=n(497);g.event("trade",(function(){(Ct=new p({parent:document.body,caption:i.getDisplayName(),isHeaderShowed:!0,model:u,isDraggable:!0,isTranslucent:!1,draggableOptions:[-260,220,260,-220],closeIconStyle:"grey",headerStyle:"default",source:e.source})).render(),Ct.once("destroy",(function(){u.destroy(),Ct=null}))}))}else g.event("trade",(function(){(Ct=n(1635).createNewPositionPopup(e)).once("destroy",(function(){return Ct=null}))}))}}else s.trigger("ui:message-box",{text:__("trading.contact_support.message")})})),s.on("flow:login",(function(){if(v.getUserLogin().needForcePasswordChange())new(n(1644))({parent:o("body"),onPasswordChanged:function(){return g.event("login")}});else g.event("login")})),s.on("flow:verify",Wt("verify")),s.on("flow:saxo_verify",(function(){return g.event("saxo_open_verification_center")})),s.on("flow:withdraw",(function(e){g.event("withdraw",null,e)})),s.on("flow:"+O.LEVERAGE,(function(){return E.isManageAccountsEnabled()?s.trigger("ui:manage-accounts",re):g.event("leverage")})),s.on("flow:"+O.NOTIFICATIONS,Wt("notifications")),s.on("flow:"+O.PASSWORD,Wt("change_password")),s.on("sm",Wt()),s.on("user:data:updater:start",(function(){n(1647).start()})),s.on("ui:banner",(function(e){return P.showText(e)})),s.on("ui:banner:campaign",(function(e){return P.showCampaign(e.text,e.handler,e.force)})),s.on("ui:banner-dummy",(function(){return P.hide()})),s.on("ui:funds-management",(function(){if(!wt){var e=n(806);wt=new e({parent:document.body,onClose:function(){return wt=null}})}})),s.on("ui:instruments:select-category",(function(e,t){var n=m.getCategoryByPath(e);if(!n){var i=_.normalize(e,!0,"/");if(n=m.getCategoryByPath(i))e=i;else if(e=m.getFirstCategory().path,e=_.normalize(e,!0,"/"),!(n=m.getCategoryByPath(e)))return}e?(v.getApplicationSettings().set({selectedCategoryPath:e}),s.trigger("ui:instruments:select-instrument",t),s.trigger("ui:instruments:category-selected",e,t)):s.trigger("ui:instruments:select-instrument",t)})),s.on("ui:instruments:select-instrument",(function(e,t,n){e&&(v.getApplicationSettings().set({selectedInstrumentSymbol:e}),s.trigger("ui:instruments:instrument-selected",e,t,n))})),s.on("ui:instruments:instrument-selected",(function(e){if(e){var t=D(window.store.getState(),e).split(je.DOT),n={symbol:e,Category1:u.head(t),Category2:u.tail(t).join(je.DOT)||Me};return __eventos("tradingPlatform:instrumentList:instrumentSelected",n)}})),s.on("ui:instruments:select-instrument-subrow",(function(e,t,n){e&&(v.getApplicationSettings().set({selectedInstrumentSymbol:e}),s.trigger("ui:instruments:instrument-subrow-selected",e,t,n))})),s.on("ui:account-statement",(function(){var e=n(1901).default;rt||(rt=new e({parent:document.body,size:null,onClose:function(){return rt=null}})).render()})),s.on("ui:open-application-store",(function(){var e=function(e){var t=q(e);t.focus&&t.focus()};return Ke.android()?e(E.getAndroidStoreURL()):u.isEmpty(E.getAppStoreLinkProvider())?e(E.getIosAppStoreURL()):void Qe.loadAppStoreLink().then((function(t){var n=t.data,i=n.success,r=n.link;i&&r&&e(r)})).catch((function(){}))})),s.on("ui:close-position",(function(e){if(store.dispatch(B(!0)),!st){var t=e.get("positionCode");if(!Ht.modifyPositions().has(t)){Ht.closePositions().add(t);var i=n(1649),r=n(1651),s=n(26),a=$t(),l=s.getInstrumentById(e.get("instrumentId")),c=e.get("quantity")<0?"Sell":"Buy",u=new r({instrumentModel:l,type:c,direction:c,position:e});st=new i({model:u,parent:o("body"),caption:__("close.position.header"),isHeaderShowed:!0,closeIconStyle:"blue",headerBgStyle:"grey",headerStyle:"default",translucent:"1",zIndex:"auto",boxWidth:"",maxBoxWidth:"100%",isDraggable:a.isDraggable,isTranslucent:a.isTranslucent,showBoxShadow:!1,showHeader:!0,overlayTranslucent:"1",previousCaption:__("actions.back"),onPrevious:function(){},onNext:function(){},onClose:function(){st=null,Ht.closePositions().remove(t)}})}}})),s.on("ui:edit-position",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments[2];if(store.dispatch(B(!0)),v.isTradeEnabled()){if(!ot){var r=e.get("positionCode");if(!Ht.closePositions().has(r)){Ht.modifyPositions().add(r);var a=n(1652),l=n(1011),c=n(26),u=$t(),d=c.getInstrumentById(e.get("instrumentId")),p=e.get("quantity")<0?"Sell":"Buy",f=new l({instrumentModel:d,type:p,direction:p,position:e}),h={parent:o("body"),boxWidth:"",model:f,caption:__("position.form.modifyPosition"),isHeaderShowed:!0,closeIconStyle:"blue",headerBgStyle:"grey",headerStyle:"default",translucent:"1",zIndex:"auto",maxBoxWidth:"100%",showBoxShadow:!1,showHeader:!0,overlayTranslucent:"1",previousCaption:__("actions.back"),isDraggable:u.isDraggable,isTranslucent:u.isTranslucent,simplified:t,onPrevious:function(){},onNext:function(){},onClose:function(){ot=null,Ht.modifyPositions().remove(r)}};ot=new a(h),i&&(!1===i.stopLoss?ot.disableStopLoss():i.stopLoss&&ot.setStopLoss(i.stopLoss),!1===i.takeProfit?ot.disableTakeProfit():i.takeProfit&&ot.setTakeProfit(i.takeProfit))}}}else s.trigger("ui:message-box",{text:__("trading.contact_support.message")})})),s.on("ui:edit-order",(function(e,t){if(store.dispatch(B(!0)),v.isTradeEnabled()){if(!at){var i=void 0,r=$t(),a=Yt(e),l=v.getUserCommonData().getOpenPositionMode()===ze.ADVANCED,c=v.getUserCommonData().getOpenPositionMode()===ze.INTERACTIVE,u=n(98).EMPTY;if(l){var d=n(1655),p=new(i=n(808))({symbol:a.instrument.getSymbol(),type:a.type,excludeTypes:["market"],direction:a.action,amount:a.quantity,entry:a.price,takeProfit:a.takeProfit||u,stopLoss:a.stopLoss||u,isSearchEnabled:!1,submitButtonText:__("actions.save"),refOrderChainId:a.orderId,modifiedTime:e.get("modifiedTime"),time:e.get("time")});t&&(t.quantity&&p.set("amount",t.quantity),t.direction&&p.set("direction",t.direction.toLowerCase())),(at=new d({parent:document.body,caption:__("order.form.header.edit"),headerStyle:"default",isHeaderShowed:!0,isDraggable:r.isDraggable,isTranslucent:r.isTranslucent,model:p})).render(),at.once("destroy",(function(){return at=null})),t&&(t.price&&at.setPrice(t.price),!1===t.stopLoss?at.disableStopLoss():t.stopLoss&&(at.enableStopLoss(),at.setStopLoss(t.stopLoss)),!1===t.takeProfit?at.disableTakeProfit():t.takeProfit&&(at.enableTakeProfit(),at.setTakeProfit(t.takeProfit)))}else if(c){var f=n(1656).default,h=new(i=n(808))({symbol:a.instrument.getSymbol(),type:a.type,excludeTypes:["market"],direction:a.action,amount:a.quantity,entry:a.price,takeProfit:a.takeProfit||u,stopLoss:a.stopLoss||u,isSearchEnabled:!1,submitButtonText:__("actions.save"),refOrderChainId:a.orderId,modifiedTime:e.get("modifiedTime"),time:e.get("time")});t&&(t.quantity&&h.set("amount",t.quantity),t.direction&&h.set("direction",t.direction.toLowerCase())),(at=new f({parent:document.body,caption:__("order.form.header.edit"),headerStyle:"default",isHeaderShowed:!0,isDraggable:r.isDraggable,isTranslucent:r.isTranslucent,model:h})).render(),at.once("destroy",(function(){return at=null})),t&&(t.price&&at.setPrice(t.price),!1===t.stopLoss?at.disableStopLoss():t.stopLoss&&(at.enableStopLoss(),at.setStopLoss(t.stopLoss)),!1===t.takeProfit?at.disableTakeProfit():t.takeProfit&&(at.enableTakeProfit(),at.setTakeProfit(t.takeProfit)))}else{var m=n(1657);i=n(1012);var g=n(103).getOrderById(a.orderId);g.set("type",a.type.toUpperCase());var b=new i({instrumentModel:a.instrument,direction:a.action.toUpperCase(),order:g,takeProfit:a.takeProfit,stopLoss:a.stopLoss});t&&t.quantity&&b.setAmount(t.quantity);var _={parent:o("body"),boxWidth:"",action:a.action,model:b,caption:__("order.form.header.edit"),isHeaderShowed:!0,closeIconStyle:"blue",headerBgStyle:"grey",headerStyle:"default",translucent:"1",zIndex:"auto",maxBoxWidth:"100%",showBoxShadow:!1,showHeader:!0,overlayTranslucent:"1",previousCaption:__("actions.back"),isDraggable:r.isDraggable,isTranslucent:r.isTranslucent,onPrevious:function(){},onNext:function(){},onClose:function(){return at=null}};at=new m(_),t&&(t.price&&at.setPrice(t.price),!1===t.stopLoss?at.disableStopLoss():t.stopLoss&&(at.enableStopLoss(),at.setStopLoss(t.stopLoss)),!1===t.takeProfit?at.disableTakeProfit():t.takeProfit&&(at.enableTakeProfit(),at.setTakeProfit(t.takeProfit)))}}}else s.trigger("ui:message-box",{text:__("trading.contact_support.message")})})),s.on("ui:cancel-order",(function(e){if(store.dispatch(B(!0)),!lt){var t=n(66),i=n(118),r=Yt(e),o=r.type,s=r.action,a=r.instrument,l=r.price,c=r.quantity,u=r.isSpreadBetting,d=a.getDisplayName(),p=u?" "+a.getAmountSpreadBettingLabel():"",f=""+__("cancel.order.confirmation",o,s,d,l,c)+p+"?";lt=new i({maxBoxWidth:"100%",parent:document.body,confirmCaption:__("order.form.confirmation.title.cancel"),confirmMessage:f,confirmOKBtnText:__("actions.confirm"),confirmCancelBtnText:__("actions.close"),zIndex:9999,onOK:function(){lt=null,Qe.orderCancel(t.getAtmosphereId(),r.order.get("orderChainId")).then((function(t){return e.trigger("ui:order-closed",e),Promise.resolve(t)})).catch((function(e){return Promise.reject(e)}))},onCancel:function(){return lt=null}})}})),s.on("ui:verification-center",(function(e){ct||(ct=!0,Je.getModule("verify").then((function(t){ct=t({parent:o("body"),onClose:function(){ct=null,u.result(e,"onClose")}})})).catch((function(e){ct=null})))})),s.on("ui:trading-announcement",(function(){var e=__("link.trading_announcement"),t=q(e);t.focus&&t.focus()})),s.on("ui:deposit:account",(function(e){var t=e.accountId,i=n(1659).default,r=f.createPortal(p.createElement(h,{store:window.store},p.createElement(i,{onClose:function(){f.removePortal(r),s.trigger("check-pending-deposit-and-verify-account")},accountId:t})))})),s.on("ui:deposit",(function(e){if(!bt){var t=n(9);t.getPaymentsServiceVendor()===He&&z();var i=n(102),r=function(e){var t=(e=u.isObject(e)?e:{}).selectedAmount;if(e.status!==$e.CANCELLED)return $e.MANUAL_SELECT_AMOUNT===e.status?function(){if(!bt){var e=n(665),t=new(n(810));bt=new e({parent:o("body"),source:"test",model:t,onClose:function(){bt=null},onSuccess:function(){bt=null,s.trigger("ui:cashier",{amount:t.get("amount"),atmAmount:t.get("amount"),doFirstDeposit:!1})}})}}():void s.trigger("ui:cashier",{amount:t,atmAmount:t})};if(t.isDepositAmountsEnabled())return s.trigger("ui:select-deposit-amount",e,r);r(i.MANUAL_DEPOSIT_AMOUNT_NEEDED()?{status:$e.MANUAL_SELECT_AMOUNT}:{})}})),s.on("ui:cashier",(function(e){if(e=u.isObject(e)?e:{},v.getDepositEnabled()){if(!pt){var t=n(342).DepositPopupView,i=n(1664);s.trigger("native-popups:block","cashier"),pt=new t({parent:o("body"),model:new i({amount:e.amount,doFirstDeposit:e.doFirstDeposit,atmAmount:e.atmAmount,bonusApplied:e.bonusApplied}),message:e.message,onClose:function(){pt=null,s.trigger("native-popups:release","cashier"),s.trigger("check-pending-deposit-and-verify-account")}})}}else s.trigger("ui:message-box",{text:__("flow.popup.deposit_not_allowed.body"),isHeaderShowed:!1})})),s.on("ui:cashier-for-withdraw",(function(){s.trigger("ui:cashier",{message:__("withdraw.message.for.cashier")})})),s.on("ui:first-deposit",(function(e){if(!ht){var t=n(9),i=!T.QR_ACCOUNT()&&t.isBonusesEnabled()&&v.getUserAwardsModel().isFirstDepositExists(v.getUserCurrency());return t.getPaymentsServiceVendor()===He&&z(),i?s.trigger("ui:first-deposit-bonus",e,(function(t){var n=(t=u.isObject(t)?t:{}).selectedAmount,i=t.bonusApplied;if($e.CANCELLED!==t.status)return $e.MANUAL_SELECT_AMOUNT===t.status?Kt(e,i):$e.SELECTED===t.status?s.trigger("ui:cashier",{amount:n,atmAmount:n,doFirstDeposit:!0,bonusApplied:i}):void Kt(e)})):t.isDepositAmountsEnabled()?s.trigger("ui:select-deposit-amount",e,(function(t){var n=(t=u.isObject(t)?t:{}).selectedAmount;if($e.CANCELLED!==t.status)return $e.MANUAL_SELECT_AMOUNT===t.status?Kt(e):$e.SELECTED===t.status?s.trigger("ui:cashier",{amount:n,atmAmount:n,doFirstDeposit:!0}):void Kt(e)})):void Kt(e)}})),s.on("ui:message-box:fail_deposit",(function(){s.trigger("ui:message-box",{parent:o("body"),caption:__("state.machine.confirmation.deposit.failed"),text:__("verification_center.popup.need_help"),isHeaderShowed:!1})})),s.on("ui:document-uploaded",(function(){v.getUserDocumentsModel().load(),v.getUserCreditCards().load()})),s.on("registration:filled",(function(){s.trigger("gtm:full_registration");var e=v.getCustomerId();e&&S.trackDcmEvent("fullr",e),S.trackFBEvent("CompleteRegistration")})),s.on("ui:select-deposit-amount",(function(e,t){if(!vt){var i=n(1669),r=new(n(1671))(e),l=function(e){return Vt(t)&&t(a({},r.toJSON(),{selected:e}))};s.trigger("native-popups:block","select-deposit-amount");var c=e&&e.currencySymbol;vt=new i({parent:o("body"),model:r,onClose:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.selected;vt=null,s.trigger("native-popups:release","select-deposit-amount"),l(t)},currencySymbol:c,onError:l,isHeaderShowed:!0,caption:__("depositDialog.header")})}})),s.on("ui:first-deposit-bonus",(function(e,t){if(!_t){var i=n(666),r=new(n(667)),a=function(){return Vt(t)&&t(r.toJSON())};_t=new i({parent:o("body"),model:r,onClose:function(){_t=null,s.trigger("native-popups:release","first-deposit-bonus"),a()},onError:a,isHeaderShowed:!0,caption:__("deposit_bonus_table.popup.header")})}})),s.on("ui:manage-accounts:first-deposit-bonus",(function(e){var t=n(666),i=new(n(667))(e.account);new t({parent:o("body"),model:i,onClose:function(){null,u.isFunction(e.onClose)&&e.onClose(a({},e,{model:i}))},onSuccess:function(){null,u.isFunction(e.onSuccess)&&e.onSuccess(a({},e,{model:i}))},isHeaderShowed:!0,caption:__("deposit_bonus_table.popup.header")})})),s.on("ui:manage-accounts:manual-deposit-bonus",(function(e){var t=n(665),i=new(n(1013))(e.account);new t({parent:o("body"),model:i,onClose:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.depositSelected;null,u.isFunction(e.onClose)&&e.onClose(a({},e,{model:i,depositSelected:n}))},onSuccess:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.depositSelected;null,u.isFunction(e.onSuccess)&&e.onSuccess(a({},e,{model:i,depositSelected:n}))},isHeaderShowed:!0,caption:__("deposit_bonus_table.popup.header")})})),s.on("ui:tutorials",(function(){if(!ut){var e=n(1673);ne(),ut=new e({parent:o("body"),onClose:function(){return ut=null}})}})),s.on("ui:education",(function(){if(!dt){var e=n(1676);ee(),dt=new e({parent:o("body"),onClose:function(){dt=null}})}})),s.on("ui:message-box",(function(e){if(!mt){var t=e&&e.onClose;mt=new A(qt({},e,{onClose:function(){Vt(t)&&t(),mt=null},isHeaderShowed:!0===e.isHeaderShowed}))}})),s.on("ui:message-box:react",(function(e){if(!mt){var t=n(529).default;mt=f.createPortal(p.createElement(h,{store:window.store},p.createElement(t,a({},e,{onClose:function(){u.result(e,"onClose"),s.trigger("ui:message-box:react:close")},onOK:function(){u.result(e,"onOK"),s.trigger("ui:message-box:react:close")}}))))}})),s.on("ui:message-box:react:close",(function(){mt&&(f.removePortal(mt),mt=null)})),s.on("ui:loading",(function(e){if(!gt){var t=n(86);gt=new t(qt({},{parent:o("body"),translucent:"2"},e))}})),s.on("ui:loading:hide",(function(e){gt&&(gt.remove(),gt=null)})),s.on("ui:confirm",(function(e){if(!Et){var t=n(118),i=u.isFunction(e.no)?e.no:u.noop;Et=new t({parent:o("body"),confirmCaption:e.title,confirmMessage:e.text,confirmMessageAlignment:e.textAlignment||"text-center",confirmOKBtnText:e.textYes||__("yes"),confirmCancelBtnText:e.textNo||__("no"),onOK:function(){e.yes(),Et=null},onCancel:function(){i(),Et=null}})}})),s.on("ui:withdraw",(function(e){s.trigger("ui:loading"),Promise.all([v.loadUserData(),v.updateUserPendingDeposit()]).then((function(t){s.trigger("ui:loading:hide"),s.trigger("flow:withdraw",e)})).catch((function(e){s.trigger("ui:loading:hide")}))})),s.on("ui:auto-withdrawal",(function(e){yt||(yt=!0,Je.getModule("auto_withdrawal").then((function(t){var i=n(6),r=t.AutoWithdrawalModel,s=t.AutoWithdrawalView,a=new r(u.extend({},e,{pendingDeposits:i.getUserPendingDeposit()}));yt=new s({parent:o("body"),caption:__("withdraw.title"),model:a,onClose:function(){return yt=null}})})).catch((function(e){yt=null})))})),s.on("funds:withdrawal:success",(function(){return s.trigger("user:active_bonus:reload")})),s.on("funds:withdrawal:cancel",(function(){return s.trigger("user:active_bonus:reload")})),s.on("funds:deposit:success",(function(){return s.trigger("user:active_bonus:reload")})),s.on("ui:async-module:error",(function(e){s.trigger("ui:message-box",{caption:__("errors.title"),text:__("generic.error.message")})})),s.on("ui:new-account",(function(e){if(!St){var t=n(1678),i=t.NewAccountView,r=new(0,t.NewAccountModel)(u.extend({},e));St=new i({model:r,parent:_app.getMainBoxElement(),translucent:"no",nameClass:"auth-popup",onClose:function(){return St=null}})}})),s.on("ui:account-classification",(function(e){if(E.isAccountClassificationEnabled()&&v.isElectiveProfessionalEnabled()){var t=new(n(1684))({parent:o("body")});t.once("destroy",(function(){t=null}))}})),s.on("login:success login:external:success",(function(){__eventos("onBoardFlow:login:afterLoginAction"),s.trigger("app:reload:after:login")})),s.on("ui:insights",(function(e){var t=n(1691),i=t.InsightsView,r=t.InsightsModel;new i({parent:document.body,model:new r({symbol:e})}).render()})),s.on("user:country:changed",(function(){})),s.on("user:company:changed",(function(){s.trigger("user:awards:reload"),s.trigger("user:leverage:reload")})),s.on("ui:trading-central",(function(){te();new(n(1700))({parent:o("body")})})),s.on("favorites:add",(function(e){v.updateUserFavorites(e,"add"),store.dispatch(ge(e))})),s.on("favorites:remove",(function(e){v.updateUserFavorites(e,"remove"),store.dispatch(ve(e))})),s.on("favorites:toggle",(function(e){-1!==v.getUserFavoritesModel().indexOf(e)?s.trigger("favorites:remove",e):s.trigger("favorites:add",e)})),s.on("ui:economic-calendar",(function(){if(!Tt){var e=n(1702);(Tt=new e({parent:_app.getMainBoxElement()})).on("destroy",(function(){return Tt=null})),Tt.render()}})),s.on("ui:news",(function(e){var t=n(1707).default,i=n(516),r=i.openNewsPage,o=i.closeNewsPage;Lt||(store.dispatch(r()),X(e),(Lt=new t({parent:_app.getPopupsPlaceholder(),className:"popup pane pane__fluid",selectedNewsId:e,onClose:function(e){store.dispatch(o()),Lt.destroy(),Lt=null,!1!==e&&store.dispatch(F())}})).render())})),s.on("user:bonus_requests:approve",(function(){s.trigger("user:active_bonus:reload")})),s.on("user:bonus_requests:update",(function(){if(!It){var e=n(1708);(It=new e({parent:o("body"),model:v.getUserBonusRequests()})).once("destroy",(function(){return at=null})),It.showBonusRequests()}})),s.on("ui:close:floating:open-positions",(function(e){v.getApplicationSettings().floatingOpenPositionsEnabled(!1)})),s.on("ui:open:floating:open-positions",(function(e){v.getApplicationSettings().floatingOpenPositionsEnabled(!0)})),s.on("ui:active-bonus-progress",(function(){s.trigger("ui:bonus-progress")})),s.on("ui:menu:bonuses",(function(e){s.trigger("ui:bonus-progress",e)})),s.on("ui:bonus-progress",(function(e){ft||(ft=!0,Je.getModule("bonus_progress").then((function(t){var n=t.BonusProgressPopupModel,i=t.BonusProgressPopupView,r=new n(u.extend({},e,{}));ft=new i({parent:o("body"),caption:__("bonus.popup.title"),model:r,onClose:function(){return ft=null}})})).catch((function(e){ft=null})))})),s.on("ui:retake-quiz",(function(){if(E.isDemo()&&E.isMultipleQuizEnabled()&&T.LOW_SCORE()){var e=new(n(1713))({parent:o("body")});e.once("destroy",(function(){e=null}))}})),s.on("instrument:positions:close_all",(function(e){if(!Pt){var t=m.getInstrumentBySymbol(e);if(t){var i=t.getPositions(),r=i&&u.map(i.models,(function(e){return e&&String(e.getPositionCode())})),o=n(816),s=n(817);(Pt=new s({parent:document.body,confirmCaption:__("positions.close_all.confirmation.title"),confirmOKBtnText:__("yes"),confirmCancelBtnText:__("no"),onClose:function(){return Pt=null},model:new o({positionCodes:r})})).render()}}})),s.on("positions:close_all",(function(){if(!Pt){var e=n(89),t=u.map(e.getClosablePositions(),(function(e){return e&&String(e.getPositionCode())})),i=n(816),r=n(817);(Pt=new r({parent:document.body,confirmCaption:__("positions.close_all.confirmation.title"),confirmOKBtnText:__("yes"),confirmCancelBtnText:__("no"),onClose:function(){return Pt=null},model:new i({positionCodes:t})})).render()}})),s.on("orders:cancel_all",(function(){if(!kt){var e=n(103),t=u.map(e.getCancelableOrders(),(function(e){return e&&String(e.getOrderChainId())})),i=n(818),r=n(819);(kt=new r({parent:document.body,confirmCaption:__("orders.cancel_all.confirmation.title"),confirmOKBtnText:__("yes"),confirmCancelBtnText:__("no"),onClose:function(){return kt=null},model:new i({ids:t})})).render()}})),s.on("instrument:orders:cancel_all",(function(e){if(!kt){var t=m.getInstrumentBySymbol(e);if(t){var i=t.getOrders(),r=(n(103),u.map(i.models,(function(e){return e&&String(e.getOrderChainId())}))),o=n(818),s=n(819);(kt=new s({parent:document.body,confirmCaption:__("orders.cancel_all.confirmation.title"),confirmOKBtnText:__("yes"),confirmCancelBtnText:__("no"),onClose:function(){return kt=null},model:new o({ids:r})})).render()}}})),s.on("settings:update",(function(e){var t=e||{},n=t.position_mode,i=t.trading_view,r=t.timezone_id,o=t.timezone_offset,s=t.timezone_gmt,a=t.timezone_name,l=t.platform_type_popup,c=v.getUserCommonData(),u=c.getOpenPositionMode(),d=c.getTradingViewMode(),p=c.getUserTimezoneObject().id;l&&E.set(Re,l),n&&n!==u&&c.saveOpenPositionMode(n),i&&i!==d&&c.saveTradingViewMode(i),r&&r!==p&&(c.saveUserTimezoneId(r),c.setUserTimezoneObject({id:r,offset:o,gmt:s,displayName:a}))})),s.on("ui:chart-indicator-settings:show",(function(){n(517).showIndicatorsSettings(void 0)})),s.on("chart:display:hide",(function(){store.dispatch(L()),setTimeout((function(){return s.trigger("ui:chart:reflow")}),0)})),s.on("chart:display:show",(function(){store.dispatch(M()),setTimeout((function(){return s.trigger("ui:chart:reflow")}),0)})),s.on("ui:chart:fullscreen-out",(function(){store.dispatch(j(Ue))})),s.on("ui:chart:fullscreen-in",(function(){store.dispatch(j(Ve))})),s.on("ui:chart:minimize-in",(function(){store.dispatch(j(Be))})),s.on("ui:chart:minimize-out",(function(){store.dispatch(j(Ue))})),s.on("ui:open-instrument-details",(function(e){s.trigger("ui:instrument",e),setTimeout((function(){return s.trigger("ui:chart:reflow")}),0)})),s.on("ui:close-instrument-details",(function(){xt&&(xt.destroy(),xt=null),store.dispatch(de()),setTimeout((function(){return s.trigger("ui:chart:reflow")}),0)})),s.on("open-check-knowledge",(function(){var e=v.getCustomerId(),t=b.getCurrentLanguageFullName(),n=E.getCheckKnowledgeLink();if(!u.isEmpty(n)){var i=q(C.stringInject(n,[e,t]));i.focus&&i.focus()}s.trigger("platform:switch","demo")})),s.on("mobile:header:update",(function(e){var t=n(46).updateHeader;store.dispatch(t(e))})),s.on("ui:events-and-trade",(function(){Nt&&(Nt.destroy(),Nt=null);var e=Xe.mobile()?"popup.mobile":"popup",t=_app.getPopupsPlaceholder();Nt=new(n(1719)("./events.trade."+e+".view"))({parent:t})})),s.on("ui:commentary",(function(e){var t=n(1897).default,i=n(140),r=i.openCommentaryPage,o=i.closeCommentaryPage,s=i.selectCommentary;Dt?store.dispatch(s(e)):(e&&Q(e),store.dispatch(r()),(Dt=new t({parent:_app.getPopupsPlaceholder(),className:"popup pane pane__fluid",uriCommentaryId:e,onClose:function(e){store.dispatch(o()),Dt.destroy(),Dt=null,!1!==e&&store.dispatch(F())}})).render())})),s.on("ui:webinar:watch",(function(e){var t=v.getCustomerId(),i=store.getState().webinars.eventsMap[e],r=n(881).default,s=r.initWebinarModel,l=r.initWebinarView,c=s(a({},i));Z(e),Rt&&Rt.destroy(),Rt=l({parent:o("body"),webinar:c,onClose:function(){return Rt=null}}),Qe.watchWebinar(t,e)})),s.on("eye-catcher:close",(function(e){var t=e.source,n=e.duration;switch(t){case"platform":return s.trigger("eventos","onBoardFlow:eyeCatcher:clkClosePlt",{duration:n});case"registration":return s.trigger("eventos","onBoardFlow:eyeCatcher:clkCloseReg",{duration:n})}})),s.on("eye-catcher:click",(function(e){var t=e.source,n=e.duration;switch(t){case"platform":return s.trigger("eventos","onBoardFlow:eyeCatcher:clkEyeChPlt",{duration:n});case"registration":return s.trigger("eventos","onBoardFlow:eyeCatcher:clkEyeChReg",{duration:n})}})),s.on("ui:balloon",(function(e){var t=e.title,i=e.body;n(526).show({title:t,body:i})})),s.on("ui:platformtype",(function(e){var t=e.success,i=e.cancel;new(n(1736))({parent:document.body,success:t,cancel:i})})),s.on("ui:acuity-trading",(function(){var e=n(1738).default;Mt&&Mt.destroy(),J(),(Mt=new e({parent:_app.getPopupsPlaceholder(),onClose:function(e){Mt.destroy(),Mt=null,e&&store.dispatch(F())}})).render()})),s.on("ui:connection-lost",(function(){var e=n(66);Qe.cancelAll(!0),e.close(),s.trigger("ui:message-box",{parent:document.body,caption:__("socket.connection.lost"),isHeaderShowed:!1,text:"",onOK:function(){window.location.reload()},okBtnText:__("socket.reconnect")})})),s.on("ui:inactivity-confirmation",(function(){return new(n(118))({parent:document.body,confirmCaption:__("inactivity.confirmation.title"),confirmMessage:__("inactivity.confirmation.text"),confirmOKBtnText:__("yes"),confirmCancelBtnText:__("no"),zIndex:9999,onOK:function(){s.trigger("user:session:confirm-activity")},onCancel:function(){s.trigger("user:session:close")}})})),s.on("ui:signout",(function(){return new(n(118))({parent:document.body,confirmCaption:__("logout.confirmation.title"),confirmMessage:__("logout.confirmation.text"),confirmOKBtnText:__("yes"),confirmCancelBtnText:__("no"),zIndex:9999,onOK:function(){s.trigger("user:session:close")}})})),s.on("route:change",(function(e){v.isLoggedIn()&&e&&S.savePageRoute(e)})),s.on("ui:file-compliant",(function(){return new(n(118))({parent:document.body,hideCancelButton:!0,showHeader:!1,confirmCaption:__("help_complaint.menu"),confirmMessage:__("help_complaint.popup.message"),confirmOKBtnText:__("ok")})})),s.on("ui:legal-documents",(function(){var e=n(1739);if(!E.isLegalDocumentsOpenNewTab())return new e;var t=q(__("link.legal_documents"));t.focus&&t.focus()})),s.on("ui:help-center",(function(){if(!E.isFaqOpenNewTabEnabled())return new(n(1741))({isHeaderShowed:!0,caption:__("faq.menu.title"),previousCaption:__("actions.back"),parent:o("body"),closeIconStyle:"blue",headerBgStyle:"grey",zIndex:"auto",maxBoxWidth:"100%",showBoxShadow:!1,showHeader:!0,headerStyle:"wizard"});var e=q(__("link.faq"));e.focus&&e.focus()})),s.on("user:session:expired",(function(){var e=n(1743);setTimeout((function(){return new e({position:"fixed",parent:document.body,onLogin:function(){v.getSessionModel().clear(),window.location.reload()}})}),Le)})),s.on("ui:notification-center:open",(function(){var e=n(1900).default.initNotificationCenterView;jt&&jt.destroy(),(jt=new e({parent:_app.getPopupsPlaceholder(),onClose:function(){jt.destroy(),jt=null}})).render()})),s.on("ui:notification-center:close",(function(){jt&&(jt.destroy(),jt=null)})),s.on(U,(function(){var e=o(document).find("#new-advanced__side-nav")[0],t=o(document).find("#new-advanced__instrument-details")[0],n=o(document).find("header.header-box")[0];(e||t)&&V.introJs().setOptions({nextLabel:__("tipranks.text.slide_next"),prevLabel:__("tipranks.text.slide_prev"),doneLabel:__("actions.done"),skipLabel:" ",steps:[{element:e,intro:__("flow.on-boarding.text.slide_1_text"),position:"right"},{element:t,intro:__("flow.on-boarding.text.slide_2_text"),position:"left"},{element:n,intro:__("flow.on-boarding.text.slide_3_text"),position:"bottom-middle"}]}).start()})),s.on("reject-user",(function(){return Qe.rejectUser()})),s.on("ui:portfolio-statement",(function(){var e=null;function t(){e&&d.unmountComponentAtNode(e)}n.e(129).then(n.bind(null,1961)).then((function(n){var i=n.default;t(),e=f.createPortal(p.createElement(h,{store:store},p.createElement(i,{onClose:t})))}))})),s.on("ui:invest",(function(){var e=window.store.getState();if(!Ce(e)&&!we(e))return s.navigate("/");var t=ye(e);if(u.find(t,(function(t){return Ee(e,t.accountId)})))return s.navigate("/");if(window.store.dispatch(be("hideInvestIndicator",!0)),Ke.mobile()){var i=(0,n(44).default)((function(){return Promise.all([n.e(24),n.e(109)]).then(n.bind(null,1017))})),r=function(e){var t=e.open,i=e.leftLabel,r=e.title,o=e.bodyComponent,s=e.onClose,a=n(101).default;return p.createElement(a,{open:t},p.createElement(a.Nav,null,p.createElement(a.NavLeft,null,p.createElement("button",{onClick:s},p.createElement("span",{className:"popup-mobile__nav-rotate"},p.createElement("i",{className:"icon-view-details"})),"  ",i)),p.createElement(a.NavCenter,null,p.createElement("div",null,r))),p.createElement(a.Body,{className:"popup-mobile__body pane pane__fluid"},o))};return function e(t){var n=t.open;d.render(p.createElement(r,{open:n,leftLabel:__("actions.back"),title:__("portfolio.invest.link"),onClose:function(){return e({open:!1})},bodyComponent:p.createElement(i,{className:"pane pane__xfluid",onClose:function(){return e({open:!1})}})}),window._app.getPopupsPlaceholder()[0])}({open:!0})}return s.navigate(Ye)})),s.on("flow:invest-portfolio",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=null,n=e.portfolioName,i=e.backtest,r=e.onSuccess,o=void 0===r?u.noop:r,s=e.onCancel,a=void 0===s?u.noop:s,l=e.onClose,c=void 0===l?u.noop:l,m=e.onErrorClose,v=void 0===m?u.noop:m,b=e.onErrorCancel,_=void 0===b?u.noop:b;function y(){t&&(d.unmountComponentAtNode(t),t=null)}g.event("trade",(function(){y(),t=f.createPortal(p.createElement(h,{store:store},p.createElement(p.Fragment,null,p.createElement($,{desktop:!0,tablet:!0},p.createElement(W,{portfolioName:n,backtest:i,onClose:u.compose(y,c),onCancel:u.compose(y,a),onSuccess:u.compose(y,o),onErrorClose:u.compose(y,v),onErrorCancel:u.compose(y,_)})),p.createElement($,{mobile:!0},p.createElement(Y,{portfolioName:n,backtest:i,onClose:u.compose(y,c),onCancel:u.compose(y,a),onSuccess:u.compose(y,o),onErrorClose:u.compose(y,v),onErrorCancel:u.compose(y,_)})))))}))})),s.on("check-pending-deposit-and-verify-account",(function(){v.loadUserData().then((function(){return v.updateUserPendingDeposit()})).then((function(e){e.isPendingDepositChanged&&s.trigger("sm","deposit_successful")}))})),s.on("flow:saxo_investment",(function(e){var t=e.callback,n={accountInstrumentType:oe.SHARE_DEALING};g.event("saxo_investment",t,n)}))}.call(t,n,t,e))||(e.exports=s)}).call(this,n(1),n(12),n(24))},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var r=n(1),o=n(12),s=n(1498);i.exports={views:[],_isReady:!1,_hasText:!1,_isCampaign:!1,handler:null,initialize:function(){var e=this;this._isReady||(this.views=r.map(o(".notification-box"),(function(t){return new s({el:t,bannerDriver:e})})),this._isReady=!0)},setText:function(e){this.removeHandler(),r.each(this.views,(function(t){return t.message(e)})),this._hasText=!0},showText:function(e){this.initialize(),this.hasNoCampaign()&&this.setText(e)},hide:function(){this.removeHandler(),r.each(this.views,(function(e){return e.hide()})),this._hasText=!1,this._isCampaign=!1},showCampaign:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(this.hasNoText()||n)&&(this.initialize(),this.setText(e),this.setHandler(t),this._isCampaign=!0)},hasNoText:function(){return!this._hasText},hasNoCampaign:function(){return!this._isCampaign},setHandler:function(e){r.isFunction(e)&&(this.handler=e)},removeHandler:function(){this.haveHandler()&&(this.handler=null)},haveHandler:function(){return!r.isNull(this.handler)&&r.isFunction(this.handler)}}}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var o=n(1),s=n(20),a=n(71).default,l=n(5);i.exports=s.extend({template:o.template(n(1499)),bannerDriver:null,events:function(){return o.extend({},o.result(s.prototype,"event"),{"click .notification-panel":"onClick"})},initialize:function(e){s.prototype.initialize.apply(this,arguments),this.bannerDriver=e.bannerDriver,this.toggleVisibility=this.toggleVisibility.bind(this),window.addEventListener("orientationchange",this.toggleVisibility,!1)},toggleVisibility:function(){a.mobile()&&(window.matchMedia("(orientation: portrait)").matches?this.$el.addClass("hidden"):this.$el.removeClass("hidden"))},destroy:function(){document.removeEventListener("orientationchange",this.toggleVisibility),s.prototype.destroy.call(this)},show:function(){var e=this;this.$el.fadeIn({duration:800,complete:function(){return e.$el.removeClass("hidden")}})},hide:function(){var e=this;this.$el.fadeOut({duration:800,complete:function(){return e.$el.addClass("hidden")}})},message:function(e){this.show(),this.render(e)},render:function(e){this.$el.html(r(this.template({text:e})))},onClick:function(){this.bannerDriver.haveHandler()?this.bannerDriver.handler.call():l.trigger("sm","banner_click")}})}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t){e.exports="<div class=notification-panel> <div class=arrow></div> <div class=icon-block> <div class=icon-content> <div class=icon-bell></div> </div> </div> <div class=text><%= text %></div> </div>"},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(5),s=n.n(o),a=n(145),l=(n(1501),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}());var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"close",value:function(){return s.a.trigger("ui:close-multi-charts")}},{key:"render",value:function(){return r.a.createElement("div",{className:"multi-charts-popup popup-item"},r.a.createElement("div",null,r.a.createElement("div",{className:"popup popup-absolute page pane__fluid"},r.a.createElement("div",{className:"pane header header_gray"},r.a.createElement("div",{className:"header__body"},r.a.createElement("div",{className:"header__title"},__("tab.multi_charts"))),r.a.createElement("div",{className:"header__actions"},r.a.createElement("div",{onClick:this.close},r.a.createElement("i",{className:"icon-close-blue"})))),r.a.createElement("div",{className:"page__body"},r.a.createElement("div",{className:"pane pane__fluid"},r.a.createElement(a.LazyMultiCharts,{hideClose:!0}))))))}}]),t}(r.a.PureComponent);t.default=c},function(e,t,n){},function(e,t,n){var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();void 0===(i=function(e,t,i){var o=n(9),s=n(5),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.registry={registration:function(){return n.e(131).then(n.t.bind(null,1936,7))},risk_warning:function(){return n.e(132).then(n.t.bind(null,1937,7))},leverage_selection:function(){return n.e(117).then(n.t.bind(null,1938,7))},auto_withdrawal:function(){return n.e(49).then(n.t.bind(null,1939,7))},verify:function(){return o.isCreditCardFastVerificationEnabled()?Promise.all([n.e(36),n.e(139)]).then(n.t.bind(null,1940,7)):Promise.all([n.e(36),n.e(68)]).then(n.t.bind(null,1941,7))},webinars:function(){return Promise.resolve().then(n.bind(null,881))},newsSentiment:function(){return n.e(128).then(n.t.bind(null,1942,7))},blog:function(){return n.e(64).then(n.t.bind(null,1943,7))},medium_registration_completed:function(){return n.e(119).then(n.t.bind(null,1944,7))},bonus_progress:function(){return Promise.all([n.e(21),n.e(34),n.e(65)]).then(n.t.bind(null,1945,7))},metatrader:function(){return Promise.all([n.e(21),n.e(34),n.e(120)]).then(n.t.bind(null,1946,7))}}}return r(e,[{key:"getModule",value:function(e){return this.registry[e]?(s.trigger("ui:loading"),this.registry[e]().then((function(e){return s.trigger("ui:loading:hide"),Promise.resolve(e.default)})).catch((function(e){return s.trigger("ui:loading:hide"),s.trigger("ui:async-module:error"),Promise.reject(e)}))):Promise.reject()}}]),e}();i.exports=new a}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(381),o=(n(5),n(9),n(8),n(26),r.extend({defaults:function(){return{instrumentModel:null,currentPrice:null,rate:0,rateDirection:0}},initialize:function(){r.prototype.initialize.apply(this,arguments);var e=this.getInstrumentModel();this.setCurrentPrice(this.getDefiniteRate()),this.listenTo(this,"change:rate",this.updatePrice),this.listenTo(e,"change:"+this.getPriceKey(),this.onRateChanged),this.listenTo(e,"change:"+this.getPriceDirectionKey(),this.onPriceDirection),this.setRate(this.getDefiniteRate()),this.setRateDirection(this.getPriceDirectionKey()?e.getAskDirection():e.getBidDirection())},getPriceKey:function(){return"bid"},getRateData:function(){var e=this.getRateDirection(),t=this.getInstrumentModel().fixRate(this.getRate());return{1:{add:"up",remove:"down equally",value:t},0:{add:"equally",remove:"up down",value:t},"-1":{add:"down",remove:"up equally",value:t}}[e]},getPercentData:function(){var e=this.getInstrumentModel(),t=e.isPercentChangeIncreasing(),n=e.getPercentStr();return t?{add:"up",remove:"down",value:n}:{add:"down",remove:"up",value:n}},getPipsPrecision:function(){return this.getInstrumentModel().getPipsPrecision()}}));i.exports=o}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();void 0===(i=function(e,t,i){var o=n(9),s=n(8),a=n(6);var l=function(){return navigator.serviceWorker.ready.then((function(e){return e.pushManager.getSubscription()}))},c=function(){return window.Notification&&window.PushManager&&window.ServiceWorkerRegistration&&window.ServiceWorkerRegistration.prototype.showNotification&&o.isPriceAlertWebPushEnabled()},u=function(){return c()&&"denied"===window.Notification.permission};function d(e){!function(e){if(0!==e.endpoint.indexOf("https://android.googleapis.com/gcm/send"))return e.endpoint;var t=e.endpoint;e.subscriptionId&&-1===e.endpoint.indexOf(e.subscriptionId)&&(t=e.endpoint+"/"+e.subscriptionId)}(e);var t=a.getCustomerId();return t?s.subscribeToWebPush(t,e):Promise.reject("Missing cusstomerId")}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._isSubscriptionAttemptFail=!1,this._subscriptionRequest=null}return r(e,[{key:"subscribeUser",value:function(){var e=this;return c()?u()?Promise.reject("Web Push denied by user"):!this._isSubscriptionAttemptFail&&this._subscriptionRequest?this._subscriptionRequest:(this._subscriptionRequest=new Promise((function(t,n){l().then((function(i){i?d(i).then((function(){e._isSubscriptionAttemptFail=!1,t()})).catch((function(t){e._isSubscriptionAttemptFail=!0,n(t.message)})):navigator.serviceWorker.ready.then((function(e){return e.pushManager.subscribe({userVisibleOnly:!0})})).then((function(i){return d(i).then((function(){e._isSubscriptionAttemptFail=!1,t()})).catch((function(t){e._isSubscriptionAttemptFail=!0,n(t.message)}))})).catch((function(t){"denied"===window.Notification.permission?(e._isSubscriptionAttemptFail=!1,n("Web Push denied by user")):(e._isSubscriptionAttemptFail=!0,n(t.message))}))})).catch((function(t){e._isSubscriptionAttemptFail=!0,n(t.message)}))})),this._subscriptionRequest):Promise.reject("Web Push not supported")}}]),e}();i.exports=new p,i.exports.isWebPushSupported=c,i.exports.isWebPushDeniedByUser=u,i.exports.getPushManagerSubscription=l}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(20),s=r.template(n(1506));i.exports=o.extend({events:function(){return this.addEvents(o)({"click input":"clickOnInput"})},initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=r.extend({},{value:""},e),o.prototype.initialize.call(this,e)},render:function(){var e=this,t=n(313);o.prototype.render.call(this);var i=this.options,r=i.value,a=i.disabled;return this.$el.html(s({})),a?this.$(".new-price-alert__search-instrument-symbol").html(r):(this.search=this.addChildView(".new-price-alert__search-instrument-symbol",t,{value:r,handleCloseRules:!1,autoClear:!1,onCancel:function(t){return e.input$().val(t)},onRowClick:function(t,n){return e.onResultSelected(t,n)}}),this.input$().attr("placeholder","")),this},clickOnInput:function(){this.oldValue=this.input$().val(),this.input().select()},input$:function(){return this.$("input")},input:function(){return this.input$()[0]},onResultSelected:function(e,t){e.preventDefault();var n=t.getSymbol(),i=t.getDisplayName();this.input$().val(i),this.oldValue!==n&&(this.search.setOldValue(n),this.oldValue=n,this.options.onChanged(n))},disable:function(){this.input$().attr("disable",!0)},enable:function(){this.input$().removeAttr("disable")}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t){e.exports='<div class="new-price-alert__search new-price-alert__search-instrument-symbol"></div>'},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(0),o=n(1508),s=n(1),a=n(18)({displayName:"GridColumns",getDefaultProps:function(){return{className:"",columns:[],onSort:null,sortingData:{}}},getContainerClassName:function(e){var t=[];return t.push(e,this.props.className),t.join(" ")},render:function(){var e=this.props.onSort,t=this.props.collection,n=this.props.sortingData,i=this.props.columns.map((function(i,a){var l=i.customColumnComponent||o;return r.createElement(l,s.extend({},i.columnProps,{key:a,column:i,collection:t,onSort:e,useSorting:i.columnProps&&s.isFunction(i.columnProps.sortCompareFn),sortDirection:n.columnName===i.name?n.sortDirection:0}))}));return r.createElement("thead",{className:this.getContainerClassName("columns")},r.createElement("tr",null,i))}});i.exports=a}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(0),o=n(1),s=n(18)({displayName:"GridColumn",getDefaultProps:function(){return{className:"",sortCompareFn:null,collection:null,useSorting:!1,sortAscending:!1,sortDirection:0,onSort:null,sortAscendingComponent:" ",sortDescendingComponent:" ",tooltipText:null}},sort:function(){o.isFunction(this.props.sortCompareFn)&&o.isFunction(this.props.onSort)&&this.props.onSort(this.props.column.name,this.props.sortDirection)},render:function(){var e=this.props.column.style,t=this.props.tooltipText,n=[],i=this.props.column.name,o=0===this.props.sortDirection?"":1===this.props.sortDirection?this.props.sortAscendingComponent:this.props.sortDescendingComponent;return n.push("column",this.props.className),this.props.useSorting&&n.push("column-sortable"),r.createElement("th",{onClick:this.sort,className:n.join(" "),style:e,"data-tooltip-align":t?"right":null,"aria-label":t},i&&__(i),r.createElement("span",null,o))}});i.exports=s}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,r){var o=n(0),s=n(575),a=n(18)({displayName:"GridRows",getDefaultProps:function(){return{columns:[],collection:[],screenSize:null,customRowComponent:null,customRowComponentXS:null,customRowComponentSM:null,customRowComponentMD:null,customRowComponentLG:null,onRowClick:function(){},onSubRowClick:function(){},selectedRowId:null}},getInitialState:function(){return{columns:this.props.columns,collection:this.props.collection,selectedRowId:this.props.selectedRowId}},getComponent:function(){var e=this.props.screenSize,t=this.props.customRowComponent||s;if(i.isEmpty(e))return t;var n="customRowComponent"+e,r=this.props[n];return i.isEmpty(r)?t:r},onRowClick:function(e,t){this.setState({selectedRowId:t.cid}),i.isFunction(this.props.onRowClick)&&this.props.onRowClick(e,t)},onSubRowClick:function(e,t){this.setState({selectedRowId:t.cid}),i.isFunction(this.props.onSubRowClick)&&this.props.onSubRowClick(e,t)},setSelectedRow:function(e){this.setState({selectedRowId:e})},render:function(){var e=this.state.columns,t=this.getComponent(),n=this.props.screenSize,i=this.onRowClick,r=this.onSubRowClick,s=this.state.selectedRowId,a=this.state.collection.map((function(a){var l=s===a.cid;return o.createElement(t,{key:a.cid+l,columns:e,model:a,isExpanded:l,isSelected:l,screenSize:n,onRowClick:i,onSubRowClick:r})}),this);return o.createElement("tbody",{className:"rows"},a)}});r.exports=a}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(233),s=n(18)({displayName:"Cell",getDefaultProps:function(){return{className:""}},getInitialState:function(){return{percentChange:this.props.model.get("percentChange"),eventName:"change:percentChange"}},componentDidMount:function(){this.props.model.on(this.state.eventName,this.update,this)},componentWillUnmount:function(){this.props.model.off(this.state.eventName,this.update,this)},update:function(){this.setState({percentChange:this.props.model.get("percentChange")})},render:function(){var e=this.props.column.key,t=this.props.model.get(e),n=[this.props.className,"instrument-name-with-change"];return r.createElement("td",{className:n.join(" ")},r.createElement("div",{className:"name"},t),r.createElement(o,{className:"flex flex-start",value:this.state.percentChange,positiveSymbol:"+",postfix:"%",precision:2}))}});i.exports=s}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(783),s=n(18)({displayName:"GridCellSentiment",getDefaultProps:function(){return{className:""}},render:function(){var e=this.props.column.key,t=this.props.model,n=__(this.props.tooltipText),i=t.get(e),s=[];return i&&i.shorts&&i.longs||(n=null),s.push(this.props.className,"sentiment-block"),r.createElement("td",{className:s.join(" "),"data-tooltip-align":n?"right":null,"aria-label":n},r.createElement(o,{value:i}))}});i.exports=s}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(233),s=n(18)({displayName:"GridCellChange",getDefaultProps:function(){return{className:""}},getInitialState:function(){return{value:this.props.model.get(this.props.column.key),eventName:"change:"+this.props.column.key}},componentDidMount:function(){this.props.model.on(this.state.eventName,this.update,this)},componentWillUnmount:function(){this.props.model.off(this.state.eventName,this.update,this)},update:function(){this.setState({value:this.props.model.get(this.props.column.key)})},render:function(){var e=[this.props.className].join(" ");return r.createElement("td",{className:e},r.createElement(o,{value:this.state.value,positiveSymbol:"+",postfix:"%",useInline:!0,precision:2,alwaysPrecision:!0}))}});i.exports=s}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(233),s=n(6),a=n(18)({displayName:"GridCellPL",getInitialState:function(){return{plOpen:0}},componentDidMount:function(){this.props.model.on("change:"+this.props.column.key,this.update,this)},componentWillUnmount:function(){this.props.model.off("change:"+this.props.column.key,this.update,this)},update:function(){this.setState({plOpen:this.props.model.get("plOpen")})},render:function(){var e=this.props.column.key,t=this.props.model.get(e),n=s.getUserCurrencySymbol(),i=[this.props.className].join(" ");return r.createElement("td",{className:i},r.createElement(o,{value:t,precision:2,alwaysPrecision:!0,positiveSymbol:"",prefix:n}))}});i.exports=a}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(18);i.exports=o({displayName:"exports",render:function(){return r.createElement("td",null)}})}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(0),o=n(114),s=n(1),a=n(18),l=a({displayName:"GridCellLongText",render:function(){var e=this.props.model.get(this.props.column.key),t=this.props.model.get(this.props.column.localizationParams);if(this.props.column.valueLocalizable){var n=this.props.column.localizationKeyPrefix||"",i=this.props.column.localizationValueToUpperCase?e.toUpperCase():e.toLowerCase();if(s.isArray(t)&&t.length>0){var a=function(e){return s.map(e,(function(e){return s.isString(e)&&-1!==e.indexOf("UTC 20")?o.gridCellLongText(e):e}))||e}(t);e=__default(n+i,"traderejected.unexpected_error",a)}else e=__default(n+i,"traderejected.unexpected_error")}return r.createElement("td",{className:this.props.className},r.createElement("span",{className:"content"},e),r.createElement("span",{"aria-label":e},r.createElement("i",{className:"icon-tooltip"})))}});i.exports=l}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(18)({displayName:"GridCellOrderPrice",render:function(){var e=this.props.model,t=e.get("precision"),n=e.get("stopPrice"),i=e.get("stopLimitPrice"),o=[this.props.className].join(" "),s="NaN"===n?i:n;return s=Number(s).toFixed(t),r.createElement("td",{className:o},s)}});i.exports=o}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(18)({displayName:"GridCellPositionPrice",render:function(){var e=this.props.model,t=e.get("precision"),n=e.get(this.props.column.key),i=Number(n).toFixed(t),o=[this.props.className].join(" ");return r.createElement("td",{className:o},i)}});i.exports=o}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(18)({displayName:"GridCellAbsolute",render:function(){var e=Math.abs(this.props.model.get(this.props.column.key)),t=[this.props.className].join(" ");return r.createElement("td",{className:t},e)}});i.exports=o}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(114),s=n(33).default,a=n(18)({displayName:"GridCellTimestamp",render:function(){var e=s.mobile(),t=this.props.model.get(this.props.column.key),n=o.gridCellTimestamp(t,"DD/MM/YYYY HH:mm",e),i=[this.props.className].join(" ");return r.createElement("td",{className:i},n)}});i.exports=a}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(246),s=n(18);i.exports=s({displayName:"exports",getDefaultProps:function(){return{expandableElement:null}},toggle:function(){this.props.expandableElement.toggle()},render:function(){return r.createElement("td",{className:"toggle-cell"},r.createElement(o,{className:"btn-toggle",onClick:this.toggle,icon:this.props.expandableElement.props.isExpanded?"triangle-bottom-blue":"triangle-right-blue"}))}})}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(18)({displayName:"GridCellPriceAlertInstrumentName",getDefaultProps:function(){return{className:""}},render:function(){var e=this.props.model.get("instrument").get("name"),t=[];return t.push(this.props.className,"instrument-name"),r.createElement("td",{className:t.join(" ")},r.createElement("div",{className:"instrument-name-cell"},e))}});i.exports=o}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,r){var o=n(0),s=n(18)({displayName:"GridCellPriceAlertType",getDefaultProps:function(){return{className:""}},getInitialState:function(){return{alertType:this.props.model.get("alertType")}},componentDidMount:function(){this.props.model.on("change:alertType",this.update,this)},componentWillUnmount:function(){this.props.model.off("change:alertType",this.update,this)},update:function(){this.setState({alertType:this.props.model.get("alertType")})},render:function(){var e=this.props.model,t=[];if(t.push(this.props.className,"alert-type"),i.isUndefined(e.get("alertType")))return o.createElement("td",{className:t.join(" ")},__("tab.price-alerts.alert-types.undefined"));var n="tab.price-alerts.alert-types."+e.get("alertType").get("localizationKey");return o.createElement("td",{className:t.join(" ")},o.createElement("div",{className:"alert-type-cell"},__(n)))}});r.exports=s}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(18)({displayName:"GridCellPriceAlertAmount",getDefaultProps:function(){return{className:""}},getInitialState:function(){return{amount:this.props.model.getParameterValue()}},componentDidMount:function(){this.props.model.on("change:params",this.update,this)},componentWillUnmount:function(){this.props.model.off("change:params",this.update,this)},update:function(){this.setState({amount:this.props.model.getParameterValue()})},render:function(){var e=this.props.model,t=[];return t.push(this.props.className,"alert-amount"),r.createElement("td",{className:t.join(" ")},r.createElement("div",{className:"alert-amount-cell"},e.getParameterValue("paramValue1")))}});i.exports=o}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,r){var o=n(0),s=n(18)({displayName:"GridCellPriceAlertNotifications",getDefaultProps:function(){return{className:""}},getInitialState:function(){return{sendTo:this.props.model.get("sendTo")}},componentDidMount:function(){this.props.model.on("change:sendTo",this.update,this)},componentWillUnmount:function(){this.props.model.off("change:sendTo",this.update,this)},update:function(){this.setState({sendTo:this.props.model.get("sendTo")})},render:function(){var e=[],t=this.props.model.get("sendTo");i.each(t,(function(t,n){t&&e.push(__("tab.price-alerts.notification-types."+n))}));var n=[];return n.push(this.props.className,"alert-notifications"),o.createElement("td",{className:n.join(" ")},o.createElement("div",{className:"alert-notifications-cell"},e.join(", ")))}});r.exports=s}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(18);n(576),n(577),n(578);var s=o({displayName:"GridCellPriceAlertCurrent",getDefaultProps:function(){return{className:""}},render:function(){var e=this.props.model,t=[],i=r.createElement(n(1526)("./price.alert."+e.getRenderClass()),{model:e.getInstrument()});return t.push(this.props.className,"alert-current"),r.createElement("td",{className:t.join(" ")},r.createElement("div",{className:"alert-type-cell"},i))}});i.exports=s}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i={"./price.alert.daily.change":576,"./price.alert.daily.change.jsx":576,"./price.alert.price.alert":577,"./price.alert.price.alert.jsx":577,"./price.alert.sentiment":578,"./price.alert.sentiment.jsx":578};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id=1526},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(246),s=n(326),a=n(18)({displayName:"GridCellPriceAlertActions",getDefaultProps:function(){return{className:"",tagName:"td"}},modifyAlert:function(){return new s({parent:document.body,model:this.props.model})},removeAlert:function(){this.props.model.remove()},render:function(){var e=[];return e.push(this.props.className,"price-alerts-actions"),r.createElement(this.props.tagName,{className:e.join(" ")},r.createElement("div",{className:"actions"},r.createElement(o,{icon:"edit-ico",onClick:this.modifyAlert}),r.createElement(o,{icon:"close-ico",onClick:this.removeAlert})))}});i.exports=a}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,r){var o=n(0),s=n(9),a=n(18)({displayName:"GridCellMiniChart",timerId:null,getDefaultProps:function(){return{className:"",isLoaded:!0}},getInitialState:function(){return{timestamp:(new Date).getTime()}},invalidate:function(){this.setState({timestamp:(new Date).getTime()})},initiateTimer:function(){this.props.isLoaded&&null===this.timerId&&(this.timerId=setInterval(this.invalidate,s.getMiniChartsUpdateInterval()))},componentDidMount:function(){this.initiateTimer()},componentDidUpdate:function(){this.initiateTimer()},componentWillUnmount:function(){i.isNull(this.timerId)||clearInterval(this.timerId)},render:function(){var e=this.props.model.get(this.props.column.key),t=[this.props.className,"instrument-mini-chart"];if(!e||!this.props.isLoaded)return o.createElement("td",null);var n=s.getMiniChartsServiceUrl()+e.replace("/","").replace(" ","").toLowerCase()+".png?t="+this.state.timestamp;return o.createElement("td",{className:t.join(" ")},o.createElement("div",{className:"instrument-mini-chart-cell"},o.createElement("img",{src:n,width:"75"})))}});r.exports=a}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(18)({displayName:"GridCellPriceRange",getDefaultProps:function(){return{className:""}},getInitialState:function(){return{dayLow:this.props.model.get("dayLow"),dayHigh:this.props.model.get("dayHigh")}},componentDidMount:function(){this.props.model.on("change:dayLow",this.update,this),this.props.model.on("change:dayHigh",this.update,this)},componentWillUnmount:function(){this.props.model.off("change:dayLow",this.update,this),this.props.model.off("change:dayHigh",this.update,this)},update:function(){this.setState({dayLow:this.props.model.get("dayLow"),dayHigh:this.props.model.get("dayHigh")})},render:function(){var e=Number(this.props.model.get("precision")),t=this.state.dayLow&&this.state.dayHigh?Number(this.state.dayLow).toFixed(e)+" - "+Number(this.state.dayHigh).toFixed(e):"";return r.createElement("td",{className:this.props.className},r.createElement("div",null,t))}});i.exports=o}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(246),s=n(326),a=n(279),l=n(18)({displayName:"GridCellPriceAlertNew",getDefaultProps:function(){return{tagName:"td"}},getInstrumentId:function(){return parseInt(this.props.model.get("id"))},onClick:function(){return new s({parent:document.body,model:new a({instrumentId:this.getInstrumentId()})})},render:function(){return r.createElement(this.props.tagName,{className:"col-4 grid-middle grid-right"},r.createElement(o,{onClick:this.onClick},__("tab.price-alerts.grid.columns.new")))}});i.exports=l}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(0),o=n(409),s=n(1537),a=n(1),l=n(18);i.exports=l({displayName:"exports",getDefaultProps:function(){return{markAsHovered:a.noop}},shouldComponentUpdate:function(e){return e.model!==this.props.model},mouseOver:function(){this.props.markAsHovered(!0)},mouseOut:function(){this.props.markAsHovered(!1)},render:function(){return r.createElement("td",{className:"cell-anim-button-rate",onMouseOver:this.mouseOver,onMouseOut:this.mouseOut},r.createElement(o.Bid,{symbol:this.props.model.get("symbol"),render:s}))}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){var i=n(0),r=n(18),o=n(328),s=n(7),a=n(26),l=function(e){return i.createElement("span",null,e.bid)};e.exports=r({displayName:"exports",getInitialState:function(){return{start:(new Date).getSeconds()}},componentDidMount:function(){this.model=a.getInstrumentBySymbol(this.props.symbol),this.model.on("change:bidDirection",this.changeStart),this.bidInterval=setInterval(function(){var e=(new Date).getSeconds();Math.abs(e-this.state.start)>1&&this.model.set("bidDirection","0")}.bind(this),0)},shouldComponentUpdate:function(e,t){return t.start!==this.state.start&&e.symbol!==this.props.symbol},componentWillUnmount:function(){clearInterval(this.bidInterval),this.model.off("change:bidDirection",this.changeStart)},changeStart:function(){this.setState({start:(new Date).getSeconds()})},render:function(){var e,t=this.props,n=t.symbol,r=t.render,a=void 0===r?l:r;t.children;return i.createElement(o,{symbol:n,options:(e=0,function(t){var n=t.model,i=t.attrs,r=i.bid,o=i.bidDirection,a=i.precision,l=i.pipsPrecision,c=i.sellTradable,u={symbol:n&&n.getSymbol(),bid:!r||Number(r).toFixed(a||0),bidDirection:o,precision:a||0,pipsPrecision:l||0,attrs:i,sellTradable:c,notTradableMessage:n&&n.status.getBuyTradableMessage(),className:s({disabled:!c,up:1===e||1===o,down:-1===e||-1===o,equally:0===e})};return e=o,u}),properties:"bid,bidDirection,precision,pipsPrecision,sellTradable"},a)}})},function(e,t,n){var i=n(0),r=n(18),o=n(328),s=n(7),a=n(26),l=function(e){return i.createElement("span",null,e.ask)};e.exports=r({displayName:"exports",getInitialState:function(){return{start:(new Date).getSeconds()}},componentDidMount:function(){this.model=a.getInstrumentBySymbol(this.props.symbol),this.model.on("change:askDirection",this.changeStart),this.askInterval=setInterval(function(){var e=(new Date).getSeconds();Math.abs(e-this.state.start)>1&&this.model.set("askDirection","0")}.bind(this),0)},shouldComponentUpdate:function(e,t){return t.start!==this.state.start&&e.symbol!==this.props.symbol||e.render!==this.props.render},componentWillUnmount:function(){clearInterval(this.askInterval),this.model.off("change:askDirection",this.changeStart)},changeStart:function(){this.setState({start:(new Date).getSeconds()})},render:function(){var e,t=this.props,n=t.symbol,r=t.render,a=void 0===r?l:r;t.children;return i.createElement(o,{symbol:n,options:(e=0,function(t){var n=t.model,i=t.attrs,r=i.ask,o=i.askDirection,a=i.precision,l=i.pipsPrecision,c=i.buyTradable,u={symbol:n&&n.getSymbol(),ask:!r||Number(r).toFixed(a||0),askDirection:o,precision:a||0,pipsPrecision:l||0,attrs:i,buyTradable:c,notTradableMessage:n&&n.status.getBuyTradableMessage(),className:s({disabled:!c,up:1===e||1===o,down:-1===e||-1===o,equally:0===e})};return e=o,u}),properties:"ask,askDirection,precision,pipsPrecision,buyTradable"},a)}})},function(e,t,n){var i=n(0),r=n(18),o=(n(1),n(328)),s=n(7),a=function(e){var t=e.attrs.percentChange,n=s({down:t<0,up:t>0,equally:!t});return i.createElement("span",{className:n},t||0,"%")};e.exports=r({displayName:"exports",shouldComponentUpdate:function(e){return e.symbol!==this.props.symbol||e.render!==this.props.render},render:function(){var e=this.props,t=e.symbol,n=e.render,r=void 0===n?a:n;return i.createElement(o,{symbol:t,render:r,properties:"percentChange"})}})},function(e,t,n){var i=n(0),r=n(18),o=(n(1),n(328)),s=n(7),a=n(32),l=function(e){var t=0;return function(n){var r=n.attrs,o=r.ask,l=r.bid,c=r.precision,u=r.pipsPrecision,d=Math.abs(l-o)/(1/Math.pow(10,u))||!1;!1!==(d=d||!1)&&(d=+Number(d).toFixed(c||0));var p=s({equally:!0});return d==t?0:d<t?-1:1,t=d,i.createElement(e,{className:p},d&&(d%100==0?a(d).format("0[.][0000]a"):d)||"")}};e.exports=r({displayName:"exports",getDefaultProps:function(){return{symbol:"",as:"span",render:null}},shouldComponentUpdate:function(e){return e.as!==this.props.as||e.symbol!==this.props.symbol||e.render!==this.props.render},render:function(){var e=this.props,t=e.as,n=e.render,r=e.symbol;return i.createElement(o,{render:n||l(t),symbol:r,properties:"bid,ask"})}})},function(e,t,n){var i=n(0),r=n(18),o=(n(1),n(328)),s=n(7);e.exports=r({displayName:"exports",getDefaultProps:function(){return{as:"i",options:(e=0,function(t){t.model;var n=t.attrs,i=n.bidDirection,r=s({icon:1,"icon-arrow-up":1==e||1==i,"icon-arrow-down":-1==e||-1==i});return e=0!=i?i:e,{attrs:n,className:r}})};var e},shouldComponentUpdate:function(e){return e.as!==this.props.as||e.symbol!==this.props.symbol||e.render!==this.props.render},render:function(){var e=this.props,t=e.as,n=(e.render,e.symbol),r=e.children,s=e.options;return i.createElement(o,{as:t,render:r,symbol:n,options:s,properties:"bidDirection"})}})},function(e,t,n){var i=n(0),r=n(7),o=n(5),s=n(83),a=n(3).SELL,l=n(1);e.exports=function(e){var t,n,c,u=!l.isNaN(parseInt(e.bid)),d=r((t={"price-button":!0,"price-button_ani_xfluid":!0},n=e.className,c=!0,n in t?Object.defineProperty(t,n,{value:c,enumerable:!0,configurable:!0,writable:!0}):t[n]=c,t)),p=r({"price-button__wrapper":!0,btn:!0,disabled:!e.sellTradable,bar_loading:!u});return u&&(e.bid=s.divideValueByPipSize(e.bid,e.pipsPrecision)),i.createElement("div",{className:d},i.createElement("button",{disabled:!e.sellTradable,className:p,onClick:function(){return e.sellTradable&&(t=e.symbol,o.trigger("ui:new-position",{direction:a,symbolOrId:t}));var t},"aria-label":e.notTradableMessage},i.createElement("div",{className:"price-button__title price-button__title_self-end"},!0===e.bid?e.bid:s.formatValueToStringOrComponent(e.bid,!1))))}},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(0),o=n(409),s=n(1539),a=n(1),l=n(18);i.exports=l({displayName:"exports",getDefaultProps:function(){return{markAsHovered:a.noop}},shouldComponentUpdate:function(e){return e.model!==this.props.model},mouseOver:function(){this.props.markAsHovered(!0)},mouseOut:function(){this.props.markAsHovered(!1)},render:function(){return r.createElement("td",{className:"cell-anim-button-rate",onMouseOver:this.mouseOver,onMouseOut:this.mouseOut},r.createElement(o.Ask,{symbol:this.props.model.get("symbol"),render:s}))}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){var i=n(0),r=n(7),o=n(5),s=n(83),a=n(3).BUY,l=n(1);e.exports=function(e){var t,n,c,u=!l.isNaN(parseInt(e.ask)),d=r((t={"price-button":!0,"price-button_ani_xfluid":!0},n=e.className,c=!0,n in t?Object.defineProperty(t,n,{value:c,enumerable:!0,configurable:!0,writable:!0}):t[n]=c,t)),p=r({"price-button__wrapper":!0,btn:!0,disabled:!e.buyTradable,bar_loading:!u});return u&&(e.ask=s.divideValueByPipSize(e.ask,e.pipsPrecision)),i.createElement("div",{className:d},i.createElement("button",{disabled:!e.buyTradable,className:p,onClick:function(){return e.buyTradable&&(t=e.symbol,o.trigger("ui:new-position",{direction:a,symbolOrId:t}));var t},"aria-label":e.notTradableMessage},i.createElement("div",{className:"price-button__title price-button__title_self-start"},!0===e.ask?e.ask:s.formatValueToStringOrComponent(e.ask,!1))))}},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(409),s=n(18);i.exports=s({displayName:"exports",shouldComponentUpdate:function(e){return e.model!==this.props.model},render:function(){var e=this.props.model,t=e&&e.get("symbol");return r.createElement("td",{className:"cell-spread-with-direction"},r.createElement("div",{className:"spread flex flex-column flex-align-center"},r.createElement(o.RateDirection,{symbol:t},(function(e){return r.createElement("div",null,r.createElement("i",{className:e.className}))})),r.createElement(o.Spread,{as:"div",symbol:t})))}})}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(114),s=n(18)({displayName:"GridCellOrderPlaceTime",render:function(){var e=this.props.model.get(this.props.column.key),t=o.gridCellOrderPlaceTime(e,"DD/MM/YYYY HH:mm"),n=[this.props.className].join(" ");return r.createElement("td",{className:n},t)}});i.exports=s}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i){var r;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}void 0===(r=function(e,t,i){var r=n(0),s=n(114),a=n(7),l=n(1),c=n(18);i.exports=c({displayName:"exports",getDefaultProps:function(){return{className:"",sortCompareFn:null,collection:null,useSorting:!1,sortAscending:!1,sortDirection:0,onSort:null,tooltipText:null,text:""}},sort:function(){l.isFunction(this.props.sortCompareFn)&&l.isFunction(this.props.onSort)&&this.props.onSort(this.props.column.name,this.props.sortDirection)},render:function(){var e,t=this.props,n=t.className,i=t.useSorting,l=t.sortDirection,c=t.tooltipText,u=t.column,d=u.style,p=u.name,f=parseInt(l,10),h=a((o(e={},n,!0),o(e,"column",!0),o(e,"column-sortable",i),o(e,"ascending",1===f),o(e,"descending",-1===f),e));return r.createElement("th",{onClick:this.sort,className:h,style:d,"data-tooltip-align":c?"right":null,"aria-label":c},p&&__(p),s.columnGMTPostfix())}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(662),s=n(18);i.exports=s({displayName:"exports",getInstrumentId:function(){return this.props.model.get("instrumentId")||this.props.model.get("id")},componentDidMount:function(){this.props.model.on("change:buyTradable",this.update,this)},componentWillUnmount:function(){this.props.model.off("change:buyTradable",this.update,this)},update:function(){this.forceUpdate()},render:function(){return r.createElement("td",null,r.createElement("div",{className:"actions"},r.createElement(o,{onClick:this.props.onClick,type:"primary",id:this.getInstrumentId(),model:this.props.model,isDisabled:!this.props.model.status.isBuyTradable(),tooltipText:this.props.model.status.getBuyTradableMessage(),source:this.props.source},__("actions.buy"))))}})}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(663),s=n(18);i.exports=s({displayName:"exports",getInstrumentId:function(){return this.props.model.get("instrumentId")||this.props.model.get("id")},componentDidMount:function(){this.props.model.on("change:sellTradable",this.update,this)},componentWillUnmount:function(){this.props.model.off("change:sellTradable",this.update,this)},update:function(){this.forceUpdate()},render:function(){return r.createElement("td",null,r.createElement("div",{className:"actions"},r.createElement(o,{onClick:this.props.onClick,type:"primary",id:this.getInstrumentId(),model:this.props.model,isDisabled:!this.props.model.status.isSellTradable(),tooltipText:this.props.model.status.getSellTradableMessage(),source:this.props.source},__("actions.sell"))))}})}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(641),s=n(18)({displayName:"GridCellFavouriteButton",render:function(){var e=this.props.column.key,t=this.props.model,n=(t.get(e),t.get("symbol"));return r.createElement("td",{className:"actions"},r.createElement("div",{className:"actions"},r.createElement(o,{symbol:n})))}});i.exports=s}.call(t,n,t,e))||(e.exports=i)},function(e,t){e.exports='<div class="search-title hidden-sm hidden-md hidden-lg"><span><%=__(\'search.all.instruments\')%></span></div> <div class=search-block> <div class="killer-container hidden"></div> <div class="search-block-input <%=inputClassName%>"> <input type=text value="<%=value%>" placeholder="<%=placeholder%>" id=search-block-input autocomplete=off /> </div> <div class=results></div> </div> '},function(e,t){e.exports='<div class="price-alerts-popup price-alerts-popup-mobile form"> <div class=content> <div class=header> <div class=caption> <% if (completelyNew) { %> <div class=price-alert-search-block> </div> <% } else { %> <div class=order-caption> <span class=symbol><%=instrument.getName()%></span> </div> <div class=information><%=instrument.get(\'description\')%></div> <% } %> </div> </div> <div class="form-fields-container popup-fields-mobile-wrapper"> <div class=form-group> <div class=label-wrapper> <div class=help> <i class=icon-help aria-label="<%=__(\'tab.price-alerts.alert-type-help\')%>"></i> </div> <label for=price-alert-type><%=__(\'tab.price-alerts.alert-type\')%></label> </div> <div class="field field-type-select" name=price-alert-type> <div class=styled-select> <select id=price-alert-type class=form-control default-value="<%=selectedAlertTypeId%>"> <%\n                                _.each(alertTypes, function(alertType){\n                                %> <option value="<%=alertType.id %>" <%if(selectedAlertTypeId === alertType.id){%> selected=selected <%}%>> <%=__(\'tab.price-alerts.alert-types.\'+alertType.localizationKey)%> </option> <%\n                                });\n                                %> </select> </div> <div class=dk-select> <div class=dk-selected><%=selectedAlertTypeId%></div> <ul class=dk-select-options aria-expanded=false> <% _.each(alertTypes, function(alertType) { %> <li class=dk-option data-value="<%=alertType.id %>"> <%=__(\'tab.price-alerts.alert-types.\'+alertType.localizationKey)%> </li> <%}); %> </ul> </div> </div> </div> <div class="form-group price-alert-subtypes"></div> <div class="form-group price-alert-parameter"></div> <% if(showNoteBlock) { %> <div class="param-field-container price-alert-note-wrapper form-group"> <label><%=__(\'tab.price-alerts.description-labels.reach_price.note\')%></label> <div class="field field-type-textarea"> <textarea rows=4 cols=50 name=note class="price-alert-note textarea-field"><%=model.get(\'note\') %></textarea> </div> </div> <% } %> <div class=form-group> <div class=notifications-label> <div class=label-wrapper> <div class=help> <i class=icon-help aria-label="<%=__(\'tab.price-alerts.alert-notifications-help\')%>"></i> </div> <label><%=__(\'tab.price-alerts.notification-type\')%></label> </div> </div> <div class=notifications-switchers-mobile> <div class="col-12 grid-middle"> <div class="field field-type-checkbox col-6" style=display:none> <div class=text><%=__(\'tab.price-alerts.notification-types.sendInPlatformId\')%></div> <label> <input id=sendInPlatformId name=sendInPlatformId type=checkbox class="ios-switch green" <%if(model.getNotificationSettings().sendInPlatformId){%> checked=checked <%}%>/> <div> <div></div> </div> <label for=sendInPlatformId><%=__(\'tab.price-alerts.notification-types.sendInPlatformId\')%></label> </label> </div> <div class="field field-type-checkbox col-6"> <div class=text><%=__(\'tab.price-alerts.notification-types.sendEmail\')%></div> <label> <input id=sendEmail name=sendEmail type=checkbox class="ios-switch green" <%if(model.getNotificationSettings().sendEmail){%> checked=checked <%}%>/> <div> <div></div> </div> <label for=sendEmail><%=__(\'tab.price-alerts.notification-types.sendEmail\')%></label> </label> </div> <div class="field field-type-checkbox col-6 <%if(smsNotificationsDisabled){%>field-disabled<%}%>" aria-label="<%=__(smsNotificationsNotice)%>" style=display:none> <div class=text><%=__(\'tab.price-alerts.notification-types.sendSms\')%></div> <label> <input id=sendSms name=sendSms type=checkbox class="ios-switch green" <%if(model.getNotificationSettings().sendSms){%> checked=checked <%}%>/> <div> <div></div> </div> <label for=sendSms><%=__(\'tab.price-alerts.notification-types.sendSms\')%></label> </label> </div> <div class="field field-type-checkbox col-6 <%if(pushNotificationsDisabled){%>field-disabled<%}%>" aria-label="<%=__(pushNotificationsNotice)%>"> <div class=text><%=__(\'tab.price-alerts.notification-types.sendPush\')%></div> <label> <input id=sendPush name=sendPush type=checkbox class="ios-switch green" <%if(model.getNotificationSettings().sendPush){%> checked=checked <%}%>/> <div> <div></div> </div> <label for=sendPush><%=__(\'tab.price-alerts.notification-types.sendPush\')%></label> </label> </div> <div class="field field-type-checkbox col-6 <%if(webPushDisabled){%>field-disabled<%}%>" aria-label="<%=__(webPushNotificationsNotice)%>" style="<%if(!webPushSupported){%>display:none<%}%>"> <div class=text><%=__(\'tab.price-alerts.notification-types.sendWebPush\')%></div> <label> <input id=sendWebPush name=sendWebPush type=checkbox class="ios-switch green" <%if(model.getNotificationSettings().sendWebPush){%> checked=checked <%}%>/> <div> <div></div> </div> <label for=sendWebPush><%=__(\'tab.price-alerts.notification-types.sendWebPush\')%></label> </label> </div> </div> </div> </div> </div> </div> <div class=footer-mobile> <div class=left> <div class=block-button> <button class="btn btn-cancel fn-cancel price-alert-cancel" aria-label=""> <a class="cancel fn-cancel" href=#>Cancel</a> </button> </div> </div> <div class=right> <div class=block-button> <button class="btn btn-primary submit fn-submit" aria-label="" disabled=disabled><% if (completelyNew) { %> Set Alert <%} else { %> Edit Alert <%} %> </button> </div> </div> </div> </div> '},function(e,t){e.exports='<div class="price-alerts-popup form"> <div class=content> <div class=header> <div class=caption> <% if (completelyNew) { %> <div class=price-alert-search-block> </div> <% } else { %> <div class=order-caption> <span class=symbol><%=instrument.getName()%></span> </div> <div class=information><%=instrument.get(\'description\')%></div> <% } %> </div> <% if (!completelyNew) { %> <div class=current-trading-data> <div class=text> <div class=current-rate> <div class=rate-box> <div class=rate><%=calculationModel.getRate()%></div> <div class=h-line></div> <div class="percent up"> ( <span><%=calculationModel.getPercentChange()%></span> <i class=arrow></i> ) </div> </div> </div> </div> </div> <% } %> </div> <div class="form-fields-container popup-fields-wrapper"> <div class=popup-left> <div class=form-group> <label for=price-alert-type><%=__(\'tab.price-alerts.alert-type\')%></label> <div class="field field-type-select" name=price-alert-type> <div class=styled-select> <select id=price-alert-type class=form-control default-value="<%=selectedAlertTypeId%>"> <%\n                                _.each(alertTypes, function(alertType){\n                                %> <option value="<%=alertType.id %>" <% if(selectedAlertTypeId === alertType.id){%> selected=selected <%}%>> <%=__(\'tab.price-alerts.alert-types.\'+alertType.localizationKey)%> </option> <%\n                                });\n                                %> </select> </div> <div class=dk-select> <div class=dk-selected><%=selectedAlertTypeId%></div> <ul class=dk-select-options aria-expanded=false> <% _.each(alertTypes, function(alertType) { %> <li class=dk-option data-value="<%=alertType.id %>"> <%=__(\'tab.price-alerts.alert-types.\'+alertType.localizationKey)%> </li> <%}); %> </ul> </div> <div class=help> <i class=icon-help aria-label="<%=__(\'tab.price-alerts.alert-type-help\')%>"></i> </div> </div> </div> <div class="form-group price-alert-subtypes"></div> <div class="form-group price-alert-parameter"></div> <% if(showNoteBlock) { %> <div class="param-field-container price-alert-note-wrapper form-group"> <label><%=__(\'tab.price-alerts.description-labels.reach_price.note\')%></label> <div class="field field-type-textarea"> <textarea rows=4 cols=50 name=note class="price-alert-note textarea-field"><%=model.get(\'note\') %></textarea> </div> </div> <% } %> </div> <div class=popup-right> <div class=form-group> <div class=notifications-label> <label><%=__(\'tab.price-alerts.notification-type\')%></label> <div class=help> <i class=icon-help aria-label="<%=__(\'tab.price-alerts.alert-notifications-help\')%>"></i> </div> </div> <div class=notifications-switchers> <div class="field field-type-checkbox" style=display:none> <div class=text><%=__(\'tab.price-alerts.notification-types.sendInPlatformId\')%></div> <label> <input id=sendInPlatformId name=sendInPlatformId type=checkbox class="ios-switch green" <%if(model.getNotificationSettings().sendInPlatformId){%> checked=checked <%}%>/> <div> <div></div> </div> <label for=sendInPlatformId><%=__(\'tab.price-alerts.notification-types.sendInPlatformId\')%></label> </label> </div> <div class="field field-type-checkbox"> <div class=text><%=__(\'tab.price-alerts.notification-types.sendEmail\')%></div> <label> <input id=sendEmail name=sendEmail type=checkbox class="ios-switch green" <%if(model.getNotificationSettings().sendEmail){%> checked=checked <%}%>/> <div> <div></div> </div> <label for=sendEmail><%=__(\'tab.price-alerts.notification-types.sendEmail\')%></label> </label> </div> <div class="field field-type-checkbox <%if(smsNotificationsDisabled){%>field-disabled<%}%>" aria-label="<%=__(smsNotificationsNotice)%>" style=display:none> <div class=text><%=__(\'tab.price-alerts.notification-types.sendSms\')%></div> <label> <input id=sendSms name=sendSms type=checkbox class="ios-switch green" <%if(model.getNotificationSettings().sendSms){%> checked=checked <%}%>/> <div> <div></div> </div> <label for=sendSms><%=__(\'tab.price-alerts.notification-types.sendSms\')%></label> </label> </div> <div class="field field-type-checkbox <%if(pushNotificationsDisabled){%>field-disabled<%}%>" aria-label="<%=__(pushNotificationsNotice)%>"> <div class=text><%=__(\'tab.price-alerts.notification-types.sendPush\')%></div> <label> <input id=sendPush name=sendPush type=checkbox class="ios-switch green" <%if(model.getNotificationSettings().sendPush){%> checked=checked <%}%>/> <div> <div></div> </div> <label for=sendPush><%=__(\'tab.price-alerts.notification-types.sendPush\')%></label> </label> </div> <div class="field field-type-checkbox <%if(webPushDisabled){%>field-disabled<%}%>" aria-label="<%=__(webPushNotificationsNotice)%>" style="<%if(!webPushSupported){%>display:none<%}%>"> <div class=text><%=__(\'tab.price-alerts.notification-types.sendWebPush\')%></div> <label> <input id=sendWebPush name=sendWebPush type=checkbox class="ios-switch green" <%if(model.getNotificationSettings().sendWebPush){%> checked=checked <%}%>/> <div> <div></div> </div> <label for=sendWebPush><%=__(\'tab.price-alerts.notification-types.sendWebPush\')%></label> </label> </div> </div> </div> </div> </div> </div> <div class=footer> <div class=left> <div class=block-button> <button class="btn btn-primary submit fn-submit" aria-label="" <%if(!model.getThereIsOneNotification()){%> disable <%}%>> <%= model.getId() ? __(\'tab.price-alerts.buttons.edit-alert\') : __(\'tab.price-alerts.buttons.set-alert\') %> </button> </div> </div> <div class=right> <% if (settings.isLiveChatEnabled()) { %> <div> <span><%=__(\'help.need_help\')%></span> </div> <div> <a href=# class=fn-help-live-chat-link> <span> <%=__(\'help.right_here\')%> </span> </a> </div> <% } %> </div> </div> </div> '},function(e,t,n){var i={"./description.html":1550,"./note.html":1551,"./remind.html":1552,"./select.html":1553,"./spin.html":1554,"./title.html":1555};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id=1549},function(e,t){e.exports='<div class=param-field-container> <label for="<%=paramName%>"><%=__(paramLabel)%></label> <div class="field field-type-textarea"> <textarea rows=4 cols=50 class="form-control textarea-field" name="<%=paramName%>" id="<%=paramName%>">\n    </textarea> </div> </div>'},function(e,t){e.exports='<div class="param-field-container price-alert-note-wrapper"> <label for="<%=paramName%>"><%=__(\'tab.price-alerts.description-labels.reach_price.note\')%></label> <div class="field field-type-textarea"> <textarea rows=4 cols=50 class="price-alert-note textarea-field" name="<%=paramName%>" id="<%=paramName%>">\n    </textarea> </div> </div>'},function(e,t){e.exports='<div class=param-field-container> <label><%=__(paramLabel)%></label> <div class="field field-type-remind" id="<%=paramName%>"> <div class=form-complex-inline-input> <label><%=__(\'tab.price-alerts.description-labels.reminder.days\')%></label> <div class=styled-select> <select class="form-control select-days"> <% for(var i = 0; i < 8; i++) { %> <option value="<%=i%>"> <%=i%></option> <% } %> </select> </div> <div class=dk-select> <div class=dk-selected></div> <ul class=dk-select-options aria-expanded=false> <% for(var i = 0; i < 8; i++) { %> <li class=dk-option data-value="<%=i%>"><%=i%></li> <% } %> </ul> </div> </div> <div class=form-complex-inline-input> <label><%=__(\'tab.price-alerts.description-labels.reminder.hours\')%></label> <div class=styled-select> <select class="form-control select-hours"> <% for(var i = 0; i < 24; i++) { %> <option value="<%=i%>"> <%=i%></option> <% } %> </select> </div> <div class=dk-select> <div class=dk-selected></div> <ul class=dk-select-options aria-expanded=false> <% for(var i = 0; i < 24; i++) { %> <li class=dk-option data-value="<%=i%>"><%=i%></li> <% } %> </ul> </div> </div> <div class=form-complex-inline-input> <label><%=__(\'tab.price-alerts.description-labels.reminder.minutes\')%></label> <div class=styled-select> <select class="form-control select-minutes"> <% for(var i = 0; i <=55; i+=5) { %> <option value="<%=i%>"> <%=i%></option> <% } %> </select> </div> <div class=dk-select> <div class=dk-selected></div> <ul class=dk-select-options aria-expanded=false> <% for(var i = 0; i <= 55; i+=5) { %> <li class=dk-option data-value="<%=i%>"><%=i%></li> <% } %> </ul> </div> </div> </div> </div>'},function(e,t){e.exports='<div class=param-field-container> <label for="<%=paramName%>"><%=__(paramLabel)%></label> <div class="field field-type-select" name="<%=paramName%>"> <div class=styled-select> <select id="<%=paramName%>" class=form-control name="<%=paramName%>"> <%\n                _.each(selectOptions, function(optionTranslationKey, optionValue){\n                %> <option value="<%=optionValue %>"> <%=__(optionTranslationKey)%> </option> <%\n                });\n                %> </select> </div> <div class=dk-select> <div class=dk-selected></div> <ul class=dk-select-options aria-expanded=false> <% _.each(selectOptions, function(optionTranslationKey, optionValue) { %> <li class=dk-option data-value="<%=optionValue %>"> <%=__(optionTranslationKey)%> </li> <%}); %> </ul> </div> <div class=help> <i class=icon-help aria-label="<%=__(paramHelp)%>"></i> </div> </div> </div>'},function(e,t){e.exports='<div class=label-wrapper> <div class=help> <i class=icon-help aria-label="<%=__(paramHelp)%>"></i> </div> <label for="<%=paramName%>"><%=__(paramLabel)%></label> </div> <div class="field field-type-spin price-alert-spin"> <div class=input> <input type=text class=form-control name="<%=paramName%>" id="<%=paramName%>"> </div> <div class=actions> <button class="btn action-plus" data-type=amount> <i class=icon-plus-ico></i> </button> <button class="btn action-minus" data-type=amount> <i class=icon-minus-ico></i> </button> </div> </div>'},function(e,t){e.exports='<div class=param-field-container> <label for="<%=paramName%>"><%=__(paramLabel)%></label> <div class="field field-type-input"> <div class=input> <input type=text name="<%=paramName%>" id="<%=paramName%>"> </div> </div> </div>'},function(e,t){e.exports="<label for=price-alert-subtype><%=__('tab.price-alerts.alert-type.syptypes.' + localizationKey)%></label> <div class=\"field field-type-select\" name=price-alert-subtype> <div class=styled-select> <select id=price-alert-subtype class=form-control default-value=\"<%=selectedAlertTypeId%>\"> <%\n            _.each(subtypes, function(alertType){\n            %> <option value=\"<%=alertType.id %>\" <%if(selectedAlertTypeId === alertType.id){%> selected=selected <%}%>> <%=__('tab.price-alerts.alert-types.'+alertType.localizationKey)%> </option> <%\n            });\n            %> </select> </div> <div class=dk-select> <div class=dk-selected><%=selectedAlertTypeId%></div> <ul class=dk-select-options aria-expanded=false> <% _.each(subtypes, function(alertType) { %> <li class=dk-option data-value=\"<%=alertType.id %>\"> <%=__('tab.price-alerts.alert-types.'+alertType.localizationKey)%> </li> <%}); %> </ul> </div> <div class=help> <i class=icon-help aria-label=\"<%=__('tab.price-alerts.alert-type.syptypes.' + localizationKey + '.help-text')%>\"></i> </div> </div>"},function(e,t,n){(function(i,r){var o,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};void 0===(o=function(e,t,i){var o=n(1),a=n(70),l=o.template(n(1558)),c=n(983),u=n(1561),d=n(1563),p=n(1566),f=n(1568),h=n(1570),m=n(1572),g=n(1573),v=n(1575),b=(n(1579),n(1585)),_=n(1911).default,y=n(118),E=n(86),S=n(1587),C=n(456),w=n(1588),O=n(102),T=n(9),P=n(6),k=n(322).SECTION,I=n(54),A=n(27).isUserLoggedInQuantRankAccount,x=[k.CUSTOMER_INFO,k.PASSWORD,k.NOTIFICATIONS,k.PLATFORM_FEATURES,k.TRADING_SETTINGS,k.LOCALIZATION,k.VIEW_SETTINGS],N=[k.CUSTOMER_INFO,k.NOTIFICATIONS,k.SPREAD_REBATE,k.PLATFORM_FEATURES,k.TRADING_SETTINGS,k.LOCALIZATION,k.VIEW_SETTINGS],D=[{id:k.CUSTOMER_INFO,url:"customer-info",title:"account_settings.customer_info.menu.title",view:d,visible:!0},{id:k.ACCOUNT_CLASSIFICATION,url:"account_classification",title:"account_classification.title",view:h,viewOptions:{model:null,modelClass:w},visible:!1},{id:k.LEVERAGE,url:"leverage-settings",title:"account_settings.update_leverage.form.title",view:b,viewOptions:{model:P.getUserLeverageLevels()},visible:!1},{id:k.SPREAD_REBATE,url:"spread-rebate",title:"account_settings.spread_rebate.menu.title",view:p,viewOptions:{model:null,modelClass:C},visible:!1},{id:k.PASSWORD,url:"change-password",title:"account_settings.change_password.form.title",view:u,visible:!1},{id:k.NOTIFICATIONS,url:"notifications",title:"account_settings.notifications.menu.title",view:f,viewOptions:{model:null,modelClass:S},visible:!0},{id:k.PLATFORM_FEATURES,url:"platform-features",title:"account_settings.platform_features.menu.title",visible:!1,isExpand:!0,className:"platform-settings-menu",submenu:[{id:k.TRADING_SETTINGS,url:"trading-settings",title:"account_settings.trading-settings.menu.title",view:v,visible:!1,isSubmenuItem:!0,ancestorId:k.PLATFORM_FEATURES},{id:k.VIEW_SETTINGS,url:"view-settings",title:"account_settings.view-settings.menu.title",view:m,visible:!1,isSubmenuItem:!0,ancestorId:k.PLATFORM_FEATURES},{id:k.LOCALIZATION,url:"localization",title:"account_settings.localization.menu.title",view:g,visible:!1,isSubmenuItem:!0,ancestorId:k.PLATFORM_FEATURES}]}],R=[{id:k.CUSTOMER_INFO,url:"customer-info",title:"account_settings.customer_info.menu.title",view:d,visible:!0},{id:k.ACCOUNT_CLASSIFICATION,url:"account_classification",title:"account_classification.title",view:h,viewOptions:{model:null,modelClass:w},visible:!1},{id:k.SPREAD_REBATE,url:"spread-rebate",title:"account_settings.spread_rebate.menu.title",view:p,viewOptions:{model:null,modelClass:C},visible:!1},{id:k.PASSWORD,url:"change-password",title:"account_settings.change_password.form.title",view:u,visible:!1},{id:k.NOTIFICATIONS,url:"notifications",title:"account_settings.notifications.menu.title",view:f,viewOptions:{model:null,modelClass:S},visible:!0},{id:k.PLATFORM_FEATURES,url:"platform-features",title:"account_settings.platform_features.menu.title",view:_,visible:!1}],L=a.extend({rendered:!1,name:"account-settings",initialize:function(e){a.prototype.initialize.apply(this,arguments),this.render(),this.rendered=!0,this.$el.addClass("account-settings-popup"),this.$(".responsive-panel").addClass("account-settings-panel"),this.listenTo(I,"language:changing:after",this.rerenderActiveTab.bind(this)),this.load().then(this.loadSuccess.bind(this)).catch(this.loadError.bind(this))},render:function(){a.prototype.render.call(this),this.setContent(l())},getTabsList:function(){return A(window.store.getState())?R:D},setActiveTabById:function(e){this.tabs&&this.tabs.setActiveTabById(e)},close:function(){var e=this.tabs&&this.tabs.getActiveTab(),t=function(){this.rendered=!1,a.prototype.close.call(this),window.store.getState().accountSettingsPlatformFeature.isReloadNeeded&&window.location.reload()}.bind(this);return e&&e.viewInstance.isSaveNeeded()?new y({parent:document.body,zIndex:9999,confirmCaption:__("account_settings.unsaved_changes"),confirmMessage:__("account_settings.unsaved_changes.message"),confirmOKBtnText:__("account_settings.unsaved_changes.ok"),confirmCancelBtnText:__("go_back"),onOK:t,onCancel:function(){}}):t()},destroy:function(){this.destroyLoadingView(),this.tabs&&this.tabs.destroy(),a.prototype.destroy.call(this)},filterAvailableSections:function(e){var t=[];for(var n in e){var i=s({},e[n]);if(T.isAccountSettingsSectionEnabled(i.id)){if(o.has(i,"submenu")){var r=o.filter(i.submenu,(function(e){return T.isAccountSettingsSectionEnabled(e.id)}));i.submenu=r}t.push(i)}}return t},beforeCreateTabs:function(){var e=this.filterAvailableSections(this.getTabsList());O.FULL_REGISTRATION_COMPLETED()?O.LOW_SCORE()&&(e=o.filter(e,(function(e){return o.contains(N,e.id)}))):e=o.filter(e,(function(e){return o.contains(x,e.id)})),e=o.reject(e,(function(e){return e.id===k.LEVERAGE&&(T.isManageAccountsEnabled()||!P.getUserLeverageLevels().canChangeLeverage())}));var t=function(e,t){return!(e.id!==t||e.viewOptions.model&&e.viewOptions.model.isEnabled())};e=o.reject(e,(function(e){return t(e,k.SPREAD_REBATE)})),e=o.reject(e,(function(e){return t(e,k.ACCOUNT_CLASSIFICATION)})),e=o.reject(e,(function(e){return e.id===k.ACCOUNT_LEVEL&&!P.getUserLevelsModel().isEnable()})),this.createTabs(e)},createTabs:function(e){this.tabs=new c({parent:this.$(".account-settings")[0],tabs:e||this.getTabsList(),defaultTabId:this.options.tabId})},rerenderActiveTab:function(){if(!o.isEmpty(this.tabs)){var e=this.tabs.getActiveTab();this.render(),this.beforeCreateTabs(),this.setActiveTabById(e.id)}},createLoadingView:function(){this.loadingView=new E({parent:this.$(".account-settings"),position:"relative"})},destroyLoadingView:function(){this.loadingView&&(this.loadingView.destroy(),this.loadingView=null)},load:function(){this.createLoadingView();var e=o.map(this.getTabsList(),(function(e){return e&&e.viewOptions?(e.viewOptions.modelClass&&(e.viewOptions.model=new e.viewOptions.modelClass),e.viewOptions.model.load()):Promise.resolve()}));return Promise.all(e)},loadSuccess:function(e){this.rendered&&(this.destroyLoadingView(),this.beforeCreateTabs())},loadError:function(e){return this.destroyLoadingView(),new y({parent:r(document.body),zIndex:9999,confirmCaption:__("state.machine.confirmation.error.title"),confirmMessage:__("generic.error.message"),confirmOKBtnText:__("retry"),confirmCancelBtnText:__("actions.cancel"),onOK:this.load.bind(this),onCancel:this.close.bind(this)})}});i.exports=function(e){return new L(o.extend({},e,{caption:__("account_settings.popup.title"),headerStyle:"wizard",isHeaderShowed:!0,closeIconStyle:"blue",headerBgStyle:"transparent"}))}}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t){e.exports="<div class=account-settings></div> "},function(e,t){e.exports="<% _.each(tabs, function(item) { %> <li class=\"<%=item.className || ''%> <%- item.active ? 'active' : ''%> <%- item.isExpand ? 'open-submenu' : ''%>\"> <a href=# data-tab-id=\"<%=item.id%>\"><%=__(item.title)%> <%if (item.counter) {%><span class=tab-counter data-counter-id=\"<%=item.id%>\"></span><%}%></a> <% if (item.submenu && item.submenu.length > 0) { %> <i class=\"submenu-arrow <%- item.isExpand ? 'submenu-arrow-up' : ''%>\"></i> <ul> <% _.each(item.submenu, function (submenu) { %> <li class=\"<%=submenu.className || ''%> <%- submenu.active ? 'active' : ''%>\"> <a href=# data-tab-id=\"<%=submenu.id%>\"><%=__(submenu.title)%> <%if (submenu.counter) {%> <span class=tab-counter data-counter-id=\"<%=submenu.id%>\"></span> <%}%> </a> </li> <% }); %> </ul> <% } %> </li> <% }); %> "},function(e,t){e.exports='<div class=nav-wrapper> <ul class="nav nav-tabs visible-sm visible-md visible-lg"> </ul> </div> '},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var r=n(12),o=n(1),s=n(20),a=n(5),l=n(9),c=n(54),u=n(169),d=n(124),p=n(8),f=o.template(n(1562)),h=n(3).HTTP_STATUS_CODE;i.exports=s.extend({tag:"div",className:"content-body change-password",meta:function(){return{currentPassword:{filters:["string"],rules:{not_empty:__("account_settings.change_password.form.validate.not_empty")}},newPassword:{filters:["string"],rules:{not_empty:__("account_settings.change_password.form.validate.not_empty"),alpha_numeric:l.isPasswordClientValidationEnabled()?__("account_settings.change_password.form.validate.chars"):o.noop,password:l.isPasswordClientValidationEnabled()?__("account_settings.change_password.form.validate",l.getPasswordMinLength(),l.getPasswordMaxLength()):o.noop,strict_equals:[function(){var e=this.form.getField("confirmPassword").value();return o.isEmpty(e)?this.form.getField("newPassword").value():e}.bind(this),__("account_settings.change_password.form.validate.not_match")]},dependent:{name:"confirmPassword",handler:function(e){this.value()&&this.validate()}}},confirmPassword:{filters:["string"],rules:{not_empty:__("account_settings.change_password.form.validate.not_empty"),alpha_numeric:l.isPasswordClientValidationEnabled()?__("account_settings.change_password.form.validate.chars"):o.noop,password:l.isPasswordClientValidationEnabled()?__("account_settings.change_password.form.validate",l.getPasswordMinLength(),l.getPasswordMaxLength()):o.noop,strict_equals:[function(){return this.form.getField("newPassword").value()}.bind(this),__("account_settings.change_password.form.validate.not_match")]},dependent:{name:"newPassword",handler:function(e){this.value()&&this.validate()}}}}},events:function(){return o.extend({},o.result(s.prototype,"events"),{"submit form":"onSubmit","click .fn-submit":"onSubmit","click .password-eye":"showPasswordToggle"})},render:function(){var e=this,t=this.meta();this.$el.html(f()),this.form=new u({el:this.el});var n=function(n){var i=e.$(".fn-field-tooltip-"+n),r=e.form.getField(n);r.setRules(t[n].rules),r.setFilters(t[n].filters),r.setTooltipMessage=function(e){i.find(".text").html(e)},r.showTooltip=function(){r.$el.addClass("field-error"),i.removeClass("hidden")},r.hideTooltip=function(){r.$el.removeClass("field-error"),i.addClass("hidden")},r.$input[0].onblur=function(){this.validate()&&this.showTooltip()}.bind(r),t[n].dependent&&r.listenTo(r,"dependent:field:"+t[n].dependent.name+":change",t[n].dependent.handler.bind(r)),r.on("change",e.updateSavingAbility,e)};for(var i in t)n(i);this.disableSubmitButton()},beforeCreate:function(){return!!l.isLive()||(a.trigger("sm","change_password"),!1)},onSubmit:function(e){var t=this;if(e&&e.preventDefault(),!this.isSubmitButtonDisabled()){this.hideRequestMessage().setProcessButtonCaption().disableSubmitButton();var n=this.form.getField("currentPassword").value(),i=this.form.getField("newPassword").value();return p.updatePassword(n,i).then((function(e){return t.requestSuccess(e,i)})).catch(this.requestError.bind(this))}},requestSuccess:function(e,t){if(!o.isEmpty(e.data.error))return Promise.reject(e);p.applyCredentials(t,c.getCurrentLanguage()).then((function(e){return e.data&&p.logoutFromWidgets(e.data,c.getCurrentLanguage())})),this.showRequestMessage(__("account_settings.button.save.success.message"),"success").resetButtonCaption().resetFields()},showErrorMessages:function(e){return e.forEach((function(e){r('<div><i class="icon icon-error-red"></i> <span>'+e+"</span> </div>").appendTo(".messages .action-error")})),this},requestError:function(e){this.resetButtonCaption().enableSubmitButton();var t=void 0,n=e&&e.response&&e.response.status;return n===h.UNAUTHORIZED?(t=__("account_settings.change_password.form.validate.incorrect"),void this.showRequestMessage(t,"error",".field-action-result")):(n===h.BAD_REQUEST&&e&&o.isArray(e.response.data)&&(t=e.response.data.reduce((function(e,t){var n=__("validation.password."+t.key,t.params);return e.push(n===t.key?t.defaultValue:n),e}),[])),t?void this.showErrorMessages(t):this.networkError())},networkError:function(){new d({parent:document.body,text:__("account_settings.error.message")})},resetFields:function(){for(var e in this.meta()){var t=this.form.getField(e);t.value(""),t.hideTooltip()}},showPasswordToggle:function(e){var t=r(e.target),n=t.parent().find("input"),i=t.hasClass("icon-eye-gray")?0:1,o={input:["text","password"],icon:[["icon-eye-gray","icon-eye-blue"],["icon-eye-blue","icon-eye-gray"]]};n.attr("type",o.input[i]),t.removeClass(o.icon[i][0]).addClass(o.icon[i][1])},destroy:function(){this.form.destroy(),s.prototype.destroy.call(this)},isPristine:function(){return o.chain(this.form.getFieldsList()).keys().some((function(e){return!o.isEmpty(this.form.getField(e).value())}),this).value()},isValidated:function(){return o.chain(this.form.getFieldsList()).keys().every((function(e){return!1===this.form.getField(e).validate(!0)}),this).value()},updateSavingAbility:function(){this.isPristine()&&this.isValidated()?this.enableSubmitButton():this.disableSubmitButton()},disableSubmitButton:function(){return this.$(".fn-submit").addClass("disabled").removeClass("btn-primary"),this},enableSubmitButton:function(){return this.$(".fn-submit").removeClass("disabled").addClass("btn-primary"),this.$el.find(".verification-icon").addClass("hidden hidden-xs"),this},isSubmitButtonDisabled:function(){return this.$(".fn-submit").hasClass("disabled")},setProcessButtonCaption:function(){return this.$(".fn-submit-label").html(__("account_settings.button.save.process.message")),this},resetButtonCaption:function(){return this.$(".fn-submit-label").html(__("account_settings.button.save")),this},showRequestMessage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=arguments[2],i=this.$el.find(".fn-submit"),r={success:"icon icon-verified-circle",error:"icon icon-error-red"};return n&&this.$(n).removeClass("hidden").find("span").html(e),i.find(".verification-icon").removeClass("hidden hidden-xs"),i.find(".icon").attr("class",r[t]),this},hideRequestMessage:function(){return this.$(".field-action-result").addClass("hidden"),this.$(".action-result").addClass("hidden"),this.$(".action-error").empty(),this.$el.find(".verification-icon").addClass("hidden hidden-xs"),this},isSaveNeeded:function(){return this.isPristine()},save:function(){return this.onSubmit()}})}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t){e.exports='<div class="panel-form-box form"> <p class="panel-title grid-middle"> <i class="icon icon-info hidden-xs"></i> <%=__(\'account_settings.change_password.form.description\')%> </p> <div class=panel-form> <form action="" method=post> <div class="grid-2_sm-1 form-row"> <div class="col-3_sm-12 grid-middle"><label for=currentPassword><%=__(\'account_settings.change_password.form.current_password\')%></label> </div> <div class=col-9_sm-12> <div class=grid-2_sm-1> <div class=col-6_xs-12> <div class="field field-type-input input-field grid-middle fn-field-currentPassword"> <input type=password name=currentPassword id=currentPassword> <i class="password-eye icon-eye-gray"></i> </div> </div> <div class="col-6_xs-12 grid-middle"> <div class="field-tooltip error hidden fn-field-tooltip-currentPassword"> <div class=arrow></div> <div class=text></div> </div> <div class="field-action-result grid-middle hidden"> <i class="icon icon-error-red"></i> <span></span> </div> </div> </div> </div> </div> <div class="grid-2_sm-1 form-row"> <div class="col-3_sm-12 grid-middle"><label for=newPassword><%=__(\'account_settings.change_password.form.new_password\')%></label> </div> <div class=col-9_sm-12> <div class=grid-2_sm-1> <div class=col-6_xs-12> <div class="field field-type-input input-field grid-middle fn-field-newPassword" data-field-depends=confirmPassword> <input type=password name=newPassword id=newPassword> <i class="password-eye icon-eye-gray"></i> </div> </div> <div class="col-6_xs-12 grid-middle"> <div class="field-tooltip error hidden fn-field-tooltip-newPassword"> <div class=arrow></div> <div class=text></div> </div> </div> </div> </div> </div> <div class="grid-2_sm-1 form-row"> <div class="col-3_sm-12 grid-middle"><label for=confirmPassword><%=__(\'account_settings.change_password.form.verify_password\')%></label> </div> <div class=col-9_sm-12> <div class=grid-2_sm-1> <div class=col-6_xs-12> <div class="field field-type-input input-field grid-middle fn-field-confirmPassword" data-field-depends=newPassword> <input type=password name=confirmPassword id=confirmPassword> <i class="password-eye icon-eye-gray"></i> </div> </div> <div class="col-6_xs-12 grid-middle"> <div class="field-tooltip error hidden fn-field-tooltip-confirmPassword"> <div class=arrow></div> <div class=text></div> </div> </div> </div> </div> </div> <div class="grid-12 messages"> <div class="action-result hidden"> </div> <div class=action-error></div> </div> </form> </div> </div> <div class="grid-12_sm-1 form-row form-actions"> <div class=actions> <div class=grid-middle> <button class="btn btn-primary fn-submit"> <span class="verification-icon grid-middle hidden hidden-xs"> <i class=icon></i> </span> <span class=fn-submit-label><%=__(\'account_settings.button.save\')%></span> </button> </div> </div> </div> <div class="space hidden-xs"></div> '},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(20),s=n(6),a=n(1564),l=n(9),c=r.template(n(1565));i.exports=o.extend({tag:"div",className:"content-body customer-info",render:function(){var e=s.getPersonalData(),t=__default("country.name."+String(e.country).toUpperCase(),e.country),n=__default("country.name."+String(e.citizenship).toUpperCase(),e.citizenship),i=s.getUserAccountData(),o=s.getTinData(),u=!1,d="NOT_RELEVANT"!==o.tinAbsenceReason&&o.tinAbsenceReason;!r.isEmpty(i)&&e&&("it"===e.citizenship&&(u=o.nationalCountryIdentifier),this.$el.html(c({accountCode:i.userName,email:a.maskEmail(e.email),lastName:e.lastName,phone:a.maskPhone(e.phone),country:t,citizenship:n,settings:l,nci:u,primaryTin:a.maskTin(o.primaryTin),tinAbsenceReason:d,secondaryTin:a.maskTin(o.secondaryTin),secondaryTinTaxJurisdiction:String(o.secondaryTinTaxJurisdictionCountry).toUpperCase()})))},beforeCreate:function(){return!0},isSaveNeeded:function(){return!1},save:function(){throw new Error("It is not implemented")}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t){function n(e,t){if("function"==typeof e.repeat)return e.repeat(t);for(var n="",i=0;i<t;i++)n+=e;return n}var i=function(e){if((e=String(e)).length<=3)return e;var t=e.length-3,i=n("*",t),r=e.split("");return r.splice(1,t,i),r.join("")};e.exports.maskEmail=function(e){if((e=String(e)).length<=3)return e;var t=e.indexOf("@");t=t>0?t:e.length;var i=e.substring(0,t),r=e.substring(t),o=i.length-3-2,s=n("*",o=o<0?0:o),a=i.split("");return a.splice(3,o,s),a.join("")+r},e.exports.maskPhone=i,e.exports.maskTin=function(e){return e?i(e):""}},function(e,t){e.exports="<div class=panel-form-box> <p class=\"panel-title grid-middle\"> <i class=\"icon icon-info hidden-xs\"></i> <%=__('account_settings.customer_info.form.description')%> </p> <div class=\"panel-form customer-info\"> <table> <tr> <th><%=__('account_settings.customer_info.form.account_code')%></th> <td><%=accountCode%></td> </tr> <tr> <th><%=__('account_settings.customer_info.form.email')%></th> <td><%=email%></td> </tr> <tr> <th><%=__('account_settings.customer_info.form.last_name')%></th> <td><%=lastName%></td> </tr> <tr> <th><%=__('account_settings.customer_info.form.phone')%></th> <td><%=phone%></td> </tr> <tr> <th><%=__('account_settings.customer_info.form.country')%></th> <td><%=country%></td> </tr> <tr> <th><%=__('account_settings.customer_info.form.citizenship')%></th> <td><%=citizenship%></td> </tr> <% if(settings.needShowTinInAccountSettings()) { %> <% if(!primaryTin && nci) { %> <tr> <th><%=__('account_settings.customer_info.tax_information')%></th> <td><%=nci%></td> </tr> <% } else if ( primaryTin || tinAbsenceReason) { %> <tr> <th><%=__('account_settings.customer_info.tax_information')%></th> <td><%=primaryTin ? primaryTin : __('reg.questionary.cysec.tin_absence_reason.' + tinAbsenceReason)%></td> </tr> <% } %> <% if(secondaryTin) { %> <tr> <th><%=__('account_settings.customer_info.other_tax_residency')%></th> <td><%=__('tax_jurisdiction.' + secondaryTinTaxJurisdiction)%>, <%=secondaryTin%></td> </tr> <% } %> <% } %> </table> </div> </div> "},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(20),s=n(6),a=n(54),l=n(118),c=n(8),u=r.template(n(1567));function d(e){return new l({parent:document.body,confirmCaption:e.caption,confirmMessage:e.text,confirmOKBtnText:e.textOK,confirmCancelBtnText:e.textCancel,ignorableByLoginMessage:e.ignorableByLoginMessage,hideCancelButton:e.hideCancelButton||!1,onOK:e.success,onCancel:e.cancel,additionalEvents:e.additionalEvents})}function p(e){return Number(e).toFixed(2)}i.exports=o.extend({tag:"div",className:"content-body spread-rebate",events:function(){return r.extend({},r.result(o.prototype,"events"),{"click .unsubscribe_spread_rebate":"onUnsubscribe"})},render:function(){var e=this.model.getSpreadRebate(),t=new Date(e.joinedDate),n=new Date(e.expiratedDate);return this.$el.html(u({active:e.active,expired:e.expired,joinedDate:this.getDateFormatted(t),expiratedDate:this.getDateFormatted(n),spreadRebateTotal:s.getUserCurrencySymbol()+p(e.spreadRebateTotal),spreadRebateLastWeek:s.getUserCurrencySymbol()+p(e.spreadRebateLastWeek),spreadRebateCurrentWeek:s.getUserCurrencySymbol()+p(e.spreadRebateCurrentWeek)})),this},beforeCreate:function(){return!0},isSaveNeeded:function(){return!1},save:function(){throw new Error("It is not implemented")},getDateFormatted:function(e){var t=a.splitByComma(__("calendar_monthNames"));return e.getDate()+" "+t[e.getMonth()]+", "+e.getFullYear()},onUnsubscribe:function(e){var t=this;this.unsubscribePopup((function(){var e=s.getPlatformAccountId();c.unsubscribeSpreadRebate(e).then(t.unsubscribeSuccesed.bind(t))}))},unsubscribeSuccesed:function(e){return e?(e.data&&this.leftProgramPopup(),Promise.resolve(e)):Promise.reject()},unsubscribePopup:function(e){d({text:__("spread_rebate.popup.unsubscribe_message"),textOK:__("ok"),textCancel:__("actions.close"),success:e,cancel:function(){}})},leftProgramPopup:function(){d({text:__("spread_rebate.popup.left_message"),textOK:__("spread_rebate.popup.unsubscribe_confirm"),success:function(){},hideCancelButton:!0})}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t){e.exports="<div class=\"panel-form-box spread-rebate\"> <p class=\"panel-title grid-middle\"> <i class=\"icon icon-info hidden-xs\"></i> <%=__('account_settings.spread_rebate.menu.title')%> </p> <div class=panel-form> <div class=spread-rebate-description> <span><%=__('account_settings.spread_rebate.subtitle')%></span> </div> <% if (!expired) { %> <div class=text-block> <span><%=__('account_settings.spread_rebate.description')%></span> </div> <div class=text-block> <span><%=__('account_settings.spread_rebate.joined_date')%> <%=joinedDate%></span> <span class=newline><%=__('account_settings.spread_rebate.expiration_date')%> <%=expiratedDate%></span> </div> <div class=text-block> <b><%=__('account_settings.spread_rebate.refund_summary_subtitle')%></b> <span class=newline><%=__('account_settings.spread_rebate.total_amount')%> <%=spreadRebateTotal%></span> <span class=newline><%=__('account_settings.spread_rebate.last_week_amount')%> <%=spreadRebateLastWeek%></span> <span class=newline><%=__('account_settings.spread_rebate.current_week_amount')%> <%=__('account_settings.spread_rebate.total_amount')%> <%=spreadRebateCurrentWeek%> <%=__('account_settings.spread_rebate.current_week_amount_notice')%></span> </div> <div class=text-block> <span><%=__('account_settings.spread_rebate.terms_conditions_button')%> <%=__('account_settings.spread_rebate.terms_conditions_appendix')%></span> <a class=\"newline pointer unsubscribe_spread_rebate\"><%=__('account_settings.spread_rebate.unsubscribe_button')%></a> </div> <% } else { %> <div class=text-block> <span><%=__('account_settings.spread_rebate.expired_description')%></span> </div> <div class=text-block> <span><%=__('account_settings.spread_rebate.expiration_date')%> <%=expiratedDate%></span> </div> <div class=text-block> <span><%=__('account_settings.spread_rebate.expired_total_amount')%> <%=spreadRebateTotal%></span> </div> <% } %> </div> </div> "},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(20),s=n(5),a=n(9),l=r.template(n(1569)),c=n(211);n(124);i.exports=o.extend({tag:"div",className:"content-body notifications",events:function(){return r.extend({},r.result(o.prototype,"events"),{"submit form":"onSubmit","click .fn-submit":"onSubmit"})},render:function(){this.$el.html(l()),this.fields=this.createFieldsWrapper(),this.model.rememberAsInitial(),this.listenTo(this.model,"change",this.updateSubmitButton),this.updateSubmitButton()},beforeCreate:function(){return!!a.isLive()||(s.trigger("sm","notifications"),!1)},createFieldsWrapper:function(){var e=this.$(".field-type-checkbox"),t={};return r.each(e,(function(e){var n=new c({el:e}),i=n.getName();t[i]=n,this.model.get(i)&&n.check(),this.listenTo(n,"change",(function(e,t){this.model.set(e.getName(),t)}))}),this),t},destroyFields:function(){for(var e in this.fields)this.fields[e].destroy()},destroy:function(){this.destroyFields(),o.prototype.destroy.call(this)},isSaveNeeded:function(){return!this.model.isPristine()},save:function(){throw new Error("It is not implemented")},disableSubmitButton:function(){return this.$(".fn-submit").addClass("disabled").removeClass("btn-primary"),this},enableSubmitButton:function(){return this.$(".fn-submit").removeClass("disabled").addClass("btn-primary"),this.$el.find(".verification-icon").addClass("hidden hidden-xs"),this},isSubmitButtonDisabled:function(){return this.$(".fn-submit").hasClass("disabled")},updateSubmitButton:function(){this.model.isPristine()?this.disableSubmitButton():this.enableSubmitButton()},setProcessButtonCaption:function(){return this.$(".fn-submit-label").html(__("account_settings.button.save.process.message")),this},resetButtonCaption:function(){return this.$(".fn-submit-label").html(__("account_settings.button.save")),this},disableFields:function(){for(var e in this.fields)this.fields[e].disable();return this},enableFields:function(){for(var e in this.fields)this.fields[e].enable();return this},showRequestMessage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=this.$el.find(".fn-submit"),i={success:"icon icon-verified-circle",error:"icon icon-error-red"};return n.find(".verification-icon").removeClass("hidden hidden-xs"),n.find(".icon").attr("class",i[t]),this},hideRequestMessage:function(){return this.$el.find(".verification-icon").addClass("hidden hidden-xs"),this},onSubmit:function(e){if(e&&e.preventDefault(),!this.isSubmitButtonDisabled())return this.hideRequestMessage().disableFields().setProcessButtonCaption().disableSubmitButton(),this.model.save().then(this.saveSuccess.bind(this)).catch(this.saveError.bind(this))},saveSuccess:function(){this.showRequestMessage(__("account_settings.button.save.success.message")).enableFields().resetButtonCaption()},saveError:function(){s.trigger("ui:message-box",{parent:document.body,text:__("account_settings.error.message")}),this.resetButtonCaption().enableFields().enableSubmitButton()}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t){e.exports='<div class="panel-form-box form"> <p class="panel-title grid-middle"> <i class="icon icon-info hidden-xs"></i> <%=__(\'account_settings.notifications.form.description\')%> </p> <div class=panel-form> <form action="" method=post> <table> <tr> <th class=grid-left><%=__(\'account_settings.notifications.form.type\')%></th> <th><%=__(\'account_settings.notifications.form.email\')%></th> <th><%=__(\'account_settings.notifications.form.sms\')%></th> </tr> <tr> <td class=name><%=__(\'account_settings.notifications.form.type.market_reviews\')%></td> <td> <div class="field field-type-checkbox grid-center"> <input type=checkbox id=markets-review-email name=markets-review-email> <label for=markets-review-email></label> </div> </td> <td> <div class="field field-type-checkbox grid-center"> <input type=checkbox id=markets-review-sms name=markets-review-sms> <label for=markets-review-sms></label> </div> </td> </tr> <tr> <td><%=__(\'account_settings.notifications.form.type.promotions\')%></td> <td> <div class="field field-type-checkbox grid-center"> <input type=checkbox id=promotions-email name=promotions-email> <label for=promotions-email></label> </div> </td> <td> <div class="field field-type-checkbox grid-center"> <input type=checkbox id=promotions-sms name=promotions-sms> <label for=promotions-sms></label> </div> </td> </tr> <tr> <td><%=__(\'account_settings.notifications.form.type.platform_updates\')%></td> <td> <div class="field field-type-checkbox grid-center"> <input type=checkbox id=platform-updates-email name=platform-updates-email> <label for=platform-updates-email></label> </div> </td> <td> <div class="field field-type-checkbox grid-center"> <input type=checkbox id=platform-updates-sms name=platform-updates-sms> <label for=platform-updates-sms></label> </div> </td> </tr> <tr> <td><%=__(\'account_settings.notifications.form.type.margin_call\')%></td> <td> <div class="field field-type-checkbox grid-center"> <input type=checkbox id=margin-call-email name=margin-call-email> <label for=margin-call-email></label> </div> </td> <td> <div class="field field-type-checkbox grid-center"> <input type=checkbox id=margin-call-sms name=margin-call-sms> <label for=margin-call-sms></label> </div> </td> </tr> <tr> <td><%=__(\'account_settings.notifications.form.type.education\')%></td> <td> <div class="field field-type-checkbox grid-center"> <input type=checkbox id=education-email name=education-email> <label for=education-email></label> </div> </td> <td> <div class="field field-type-checkbox grid-center"> <input type=checkbox id=education-sms name=education-sms> <label for=education-sms></label> </div> </td> </tr> </table> <div class="grid-12 messages"> <div class="action-result grid-middle hidden hidden-sm hidden-md hidden-lg"> <br> <i class="icon icon-verified"></i> <span></span> </div> </div> </form> </div> </div> <div class="grid-12 form-row form-actions"> <div class=actions> <div class=grid-middle> <button class="btn btn-primary fn-submit"> <span class="verification-icon grid-middle hidden hidden-xs"> <i class=icon></i> </span> <span class=fn-submit-label><%=__(\'account_settings.button.save\')%></span> </button> </div> </div> </div> <div class="space hidden-xs"></div> '},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(20),s=n(169),a=n(5),l=n(3),c=l.REJECTED,u=l.PENDING,d=l.APPROVED,p=r.template(n(1571));i.exports=o.extend({tag:"div",className:"content-body account-classification",events:function(){return r.extend({},r.result(o.prototype,"events"),{"click .fn-submit":"onSubmit"})},getTextForSubmitButtonTranslateKey:function(e,t){return"ELECTIVE_PROFESSIONAL"===t.toUpperCase()?"":r.isEmpty(e)||e===c?"account_classification.apply.btn":e===u?"account_classification.continue.btn":""},render:function(){var e=this.model.getAccountType(),t=this.model.getApplicationStatus(),n=this.getTextForSubmitButtonTranslateKey(t,e),i=t===c?"account_classification.rejected.note":"account_classification.type.additional.desc";this.form=new s({el:this.el}),this.$el.html(p({account_type:e,buttonTextKey:n,noteTextKey:i,status:t}));var r=this.$(".status_text");return t===d?r.addClass("green"):t===c?r.addClass("red"):r.addClass("blue"),this},beforeCreate:function(){return!0},isSaveNeeded:function(){return!1},save:function(){throw new Error("It is not implemented")},destroy:function(){this.form.destroy(),o.prototype.destroy.call(this)},onSubmit:function(e){e&&e.preventDefault(),a.trigger("ui:account-settings:close"),a.trigger("ui:account-classification")}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t){e.exports="<div class=panel-form-box> <div class=panel-form> <% if (! _.isEmpty(account_type)) { %> <div class=title> <span><%=__('account_classification.type.title')%></span> <span class=blue> <%=__('account_classification.type.' + account_type.toLowerCase())%></span> </div> <div class=text-block> <span><%=__('account_classification.type.'+ account_type.toLowerCase() + '.desc')%></span> </div> <% } %> <div class=text-block> <span><%=__('account_classification.type.desc.link')%></span> </div> <div class=\"title <%=_.isEmpty(status) ? 'invisible' : ''%>\"> <span><%=__('account_classification.app_status.title')%></span> <span class=status_text> <%=  __('account_classification.app_status.' + status)%></span> </div> <div class=\"title <%=_.isEmpty(buttonTextKey)? 'invisible' : ''%>\"> <span><%=__(noteTextKey)%></span> </div> </div> </div> <div class=\"grid-12_sm-1 form-row form-actions <%=_.isEmpty(buttonTextKey)? 'invisible' : ''%>\"> <div class=actions> <div class=grid-middle> <button class=\"btn btn-primary fn-submit\"> <%=__(buttonTextKey)%> </button> </div> </div> </div> <div class=\"space hidden-xs\"></div> "},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(20),o=n(22),s=n(0),a=n(4).Provider,l=n(1903).default;i.exports=r.extend({tag:"div",className:"content-body platform-features",render:function(){r.prototype.render.call(this);this.options;return o.render(s.createElement(a,{store:store},s.createElement(l,null)),this.el),this},destroy:function(){o.unmountComponentAtNode(this.el),r.prototype.destroy.call(this)},beforeCreate:function(){return!0},isSaveNeeded:function(){return!1}})}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(20),o=n(22),s=n(0),a=n(4).Provider,l=n(1574).default;i.exports=r.extend({tag:"div",className:"content-body platform-features",render:function(){r.prototype.render.call(this);this.options;return o.render(s.createElement(a,{store:store},s.createElement(l,null)),this.el),this},destroy:function(){o.unmountComponentAtNode(this.el),r.prototype.destroy.call(this)},beforeCreate:function(){return!0},isSaveNeeded:function(){return!1}})}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(202),s=n(4),a=n(6),l=n.n(a),c=n(5),u=n.n(c),d=n(9),p=n.n(d),f=n(61),h=n(495),m=n(496),g=n(1),v=n.n(g),b=n(54),_=n.n(b),y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},E=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=p.a.isTimezoneEnabled(),w="timeZone",O="language",T="en",P=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.componentDidMount=function(){var e=l.a.getUserCommonData();n.setState({timeZone:e.getUserTimezoneObject().id||f.GMT,choosentimeZone:e.getUserTimezoneObject().id||f.GMT,language:_.a.getLanguage()||T,choosenlanguage:_.a.getLanguage()||T})},n.onFieldChange=function(e,t){switch(n.setState({isFieldChanged:!1}),e){case w:n.setState({isChangeThemeSaved:!1});break;case O:n.setState({isOpenPositionModeSaved:!1})}var i="choosen"+e;n.setState(S({},i,t)),t!==n.state[e]?n.changeFieldStatusInState(e,!0):n.state.changedFields[e]&&n.changeFieldStatusInState(e,!1)},n.onError=function(){u.a.trigger("ui:message-box",{text:__("account_settings.error.message")})},n.changeFieldStatusInState=function(e,t){n.setState((function(n){var i=y({},n.changedFields,S({},e,t));return{changedFields:i,isSaveButtonEnabled:v.a.values(i).includes(!0)}}))},n.onSaveClick=function(){if(n.state.isSaveButtonEnabled){var e=n.state.changedFields;v.a.keys(e).filter((function(t){return e[t]})).forEach((function(e){switch(e){case w:n.changeTimezoneMode(n.state.choosentimeZone);break;case O:n.changeLanguage(n.state.choosenlanguage)}}))}},n.changeLanguage=function(e){l.a.isLoggedIn()&&l.a.getUserCommonData().saveSelectedLanguage(e),_.a.setLanguage(e).then((function(){n.setState({isLanguageSaved:!0,isFieldChanged:!0,language:e},(function(){n.changeFieldStatusInState(O,!1)})),n.props.dispatch(Object(o.b)(!0))})).catch((function(){return n.onError()}))},n.changeTimezoneMode=function(e){l.a.getUserCommonData().saveUserTimezoneId(e).then((function(){n.setState({isTimezoneSaved:!0,isFieldChanged:!0,timeZone:e},(function(){n.changeFieldStatusInState(w,!1)})),n.props.dispatch(Object(o.b)(!0))})).catch((function(){return n.onError()}))},n.state={changedFields:{timeZoneSection:!1,languageSection:!1},isSaveButtonEnabled:!1,timeZone:f.GMT,choosentimeZone:f.GMT,language:T,choosenlanguage:T,isTimezoneSaved:!0,isLanguageSaved:!0,isFieldChanged:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),E(t,[{key:"render",value:function(){var e=this.state.isTimezoneSaved&&this.state.isLanguageSaved&&this.state.isFieldChanged;return r.a.createElement("div",{className:"form platform-features-item",ref:"platformFeaturesForm"},C&&r.a.createElement("div",{className:"field-wrapper"},r.a.createElement(h.a,{onFieldChange:this.onFieldChange})),r.a.createElement("div",{className:"field-wrapper"},r.a.createElement(m.a,{language:this.state.choosenlanguage,onFieldChange:this.onFieldChange})),r.a.createElement("div",{className:"grid-12 form-row form-actions"},r.a.createElement("div",{className:"actions"},r.a.createElement("button",{onClick:this.onSaveClick,className:"btn fn-submit "+(this.state.isSaveButtonEnabled?"btn-primary":"disabled")},r.a.createElement("span",{className:"grid-middle verification-icon "+(e?"":"hidden hidden-xs")},r.a.createElement("i",{className:"icon icon-verified-circle"})),__("account_settings.button.save")))))}}]),t}(r.a.Component);t.default=Object(s.connect)(null,null)(P)},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(20),s=r.template(n(1576)),a=n(0),l=n(22),c=n(4).Provider,u=n(1902).default;i.exports=o.extend({tag:"div",className:"content-body trading-settings-tab",render:function(){this.$el.html(s({})),l.render(a.createElement(c,{store:store},a.createElement(u,null)),this.el)},beforeCreate:function(){return!0},isSaveNeeded:function(){return!1},destroy:function(){o.prototype.destroy.call(this),l.unmountComponentAtNode(this.el)}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t){e.exports="<div class=trading-settings-content> </div>"},function(e,t,n){},function(e,t,n){},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(20),s=n(6),a=(n(9),n(762),n(211)),l=(n(8),n(0)),c=n(22),u=n(1580),d=n(5),p=n(753);i.exports=o.extend({tag:"div",className:"content-body account-level",levelsModel:s.getUserLevelsModel(),events:function(){return r.extend({},r.result(o.prototype,"events"),{"click .fn-submit":"onSubmit"})},initialize:function(){this.listenTo(d,"account-level:error:request",this.onError)},render:function(){this.levelsModel.isMarketsX()?this.template=r.template(n(1581)):this.levelsModel.isEligibleForMarketsX()?this.template=r.template(n(1582)):this.levelsModel.isTcAccepted()?this.template=r.template(n(1583)):this.template=r.template(n(1584)),this.$el.html(this.template({amount:this.levelsModel.getAmount()})),(!this.levelsModel.isMarketsX()&&this.levelsModel.isEligibleForMarketsX()||!this.levelsModel.isEligibleForMarketsX()&&!this.levelsModel.isTcAccepted())&&(this.accountLevelCheckbox=new a({el:this.$el.find("#customer-levels-field")[0]}),this.listenTo(this.accountLevelCheckbox,"change",this.changeLevelCheckbox),this.changeLevelCheckbox()),(this.levelsModel.isMarketsX()||!this.levelsModel.isEligibleForMarketsX()&&!this.levelsModel.isTcAccepted()||!this.levelsModel.isEligibleForMarketsX()&&this.levelsModel.isTcAccepted())&&this.renderSlider()},renderSlider:function(){c.render(l.createElement(u,{}),this.$el.find(".slider-block")[0])},disableSubmitButton:function(){return this.$el.find(".fn-submit").addClass("disabled").removeClass("btn-primary"),this},enableSubmitButton:function(){return this.$el.find(".fn-submit").removeClass("disabled").addClass("btn-primary"),this},destroy:function(){this.accountLevelCheckbox&&this.accountLevelCheckbox.destroy(),o.prototype.destroy.call(this)},changeLevelCheckbox:function(e){(!this.levelsModel.isMarketsX()&&this.levelsModel.isEligibleForMarketsX()||this.levelsModel.isTcAccepted())&&(this.accountLevelCheckbox&&this.accountLevelCheckbox.isChecked()?this.enableSubmitButton():this.disableSubmitButton())},onError:function(){d.trigger("ui:message-box",{caption:__("indigo.errors.title"),text:__("indigo.generic.error.message")})},onSubmit:function(){if(this.levelsModel.isMarketsX()||!this.levelsModel.isEligibleForMarketsX()||!this.accountLevelCheckbox||this.accountLevelCheckbox.isChecked()){var e=function(){return location.reload()};this.levelsModel.isMarketsX()?this.levelsModel.acceptForMarketsX("Classic").then((function(){d.trigger("ui:account-settings:close"),new p({parent:document.body,isHeaderShowed:!1,btnText:__("classic.popup.upgrade.congratulations.btn"),texts:[__("classic.popup.upgrade.congratulations.text1"),__("classic.popup.upgrade.congratulations.text2")],onOK:function(){e()}})})).catch((function(){d.trigger("account-level:error:request")})):this.levelsModel.isEligibleForMarketsX()?this.levelsModel.acceptForMarketsX("MarketsX").then((function(){d.trigger("ui:account-settings:close"),new p({parent:document.body,isHeaderShowed:!1,btnText:__("marketsX.popup.upgrade.congratulations.btn"),texts:[__("marketsX.popup.upgrade.congratulations.text1"),__("marketsX.popup.upgrade.congratulations.text2")],onOK:function(){e()}})})).catch((function(){d.trigger("account-level:error:request")})):this.levelsModel.isTcAccepted()?(d.trigger("ui:account-settings:close"),d.trigger("flow:deposit:RealDepositMyAccount")):(!this.accountLevelCheckbox.isChecked()&&d.trigger("ui:account-settings:close"),this.accountLevelCheckbox.isChecked()&&this.levelsModel.acceptTcForMarketsX().then((function(){d.trigger("ui:account-settings:close")})).catch((function(){d.trigger("account-level:error:request")})))}},beforeCreate:function(){return!0},isSaveNeeded:function(){return!1},save:function(){throw"It is not implemented"}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(756).default,s=n(31).default,a=n(6),l=function(){return r.createElement("ul",null,r.createElement("li",null,r.createElement("span",null,__("account.level.classic.not.eligible.premium.pricing"))),r.createElement("li",null,r.createElement("span",null,__("account.level.classic.not.eligible.bespoke.support"))),r.createElement("li",null,r.createElement("span",null,__("account.level.classic.not.eligible.exclusive.tools"))),r.createElement("li",null,r.createElement("span",null,__("account.level.classic.not.eligible.markets.knowledge.centre"))))},c=function(){return r.createElement("ul",null,r.createElement("li",null,r.createElement("span",null,__("account.level.classic.not.eligible.premium.pricing"))),r.createElement("li",null,r.createElement("span",null,__("account.level.classic.not.eligible.bespoke.support"))),r.createElement("li",null,r.createElement("span",null,__("account.level.classic.not.eligible.exclusive.tools"))),r.createElement("li",null,r.createElement("span",null,__("account.level.classic.not.eligible.markets.knowledge.centre"))))},u=function(){return r.createElement("ul",null,r.createElement("li",null,r.createElement("span",null,__("account.settings.popup.marketsX.premium.pricing"))),r.createElement("li",null,r.createElement("span",null,__("account.settings.popup.marketsX.vip.support"))),r.createElement("li",null,r.createElement("span",null,__("account.settings.popup.marketsX.exclusive.tools"))),r.createElement("li",null,r.createElement("span",null,__("account.settings.popup.marketsX.markets.knowledge.centre"))))};i.exports=function(){var e=a.getUserLevelsModel(),t=null;return t=e.isMarketsX()?u:!e.isEligibleForMarketsX()&&e.isTcAccepted()?c:l,r.createElement("div",{className:"features_list"},r.createElement(s,{minWidth:768},t()),r.createElement(s,{maxWidth:767},r.createElement(o,null)))}}.call(t,n,t,e))||(e.exports=i)},function(e,t){e.exports='<div class=panel-form-box> <p class="panel-title grid-middle"> <i class="icon icon-info hidden-xs"></i> <%=__(\'account.level.marketsX\')%> </p> <div class="panel-form account-level"> <div class=title> <span><%= __(\'account.settings.popup.marketsX.features.lists.header\') %>:</span> </div> <div class="text-block slider-block"></div> <div class=text-block> <a href="<%= __(\'marketsX.link.lern.more\') %>" target=_blank><%= __(\'marketsX.learn_more\')%></a> </div> </div> </div> <div class="grid-12_sm-1 form-row form-actions"> <div class=actions> <div class=grid-middle> <button class="btn btn-primary fn-submit"> <%= __(\'marketsX.popup.update.btn.back\') %> </button> </div> </div> </div> <div class="space hidden-xs"></div>'},function(e,t){e.exports='<div class=panel-form-box> <p class="panel-title grid-middle"> <i class="icon icon-info hidden-xs"></i> <%=__(\'account.level.classic\')%> </p> <div class="panel-form account-level"> <div class="title block-margin-bottom"> <span><%=__(\'account.level.classic.eligible.congratulations\')%></span> </div> <div class="text-block block-margin-bottom"> <%=__(\'account.level.classic.eligible.part1\')%> </div> <div class=text-block> <%=__(\'account.level.classic.eligible.part2\')%> </div> </div> </div> <div class="grid-12_sm-1 form-row form-actions"> <div class=col-12_sm-12> <div class="field field-type-checkbox" id=customer-levels-field> <input type=checkbox id=customer-levels name=customer_levels> <label for=customer-levels></label> </div> <div class=text> <%= __(\'marketsX.settings.upgrade.terms.text\') %> </div> </div> <div class=actions> <div class=grid-middle> <button class="btn btn-primary fn-submit"> <%= __(\'marketsX.popup.update.btn.upgrade\') %> </button> </div> </div> </div> <div class="space hidden-xs"></div>'},function(e,t){e.exports='<div class=panel-form-box> <p class="panel-title grid-middle"> <i class="icon icon-info hidden-xs"></i> <%=__(\'account.level.classic\')%> </p> <div class="panel-form account-level"> <div class=text-block> <%= __(\'account_settings.account-level.information.classic.description.part1\', amount) %> </div> <div class=text-block> <%= __(\'account_settings.account-level.information.classic.description.part2\') %> </div> <div class="text-block slider-block"></div> <div class=text-block> <a href="<%= __(\'marketsX.link.lern.more\') %>" target=_blank><%= __(\'marketsX.learn_more\')%></a> </div> </div> </div> <div class="grid-12_sm-1 form-row form-actions"> <div class=actions> <div class=grid-middle> <button class="btn btn-primary fn-submit"> <%= __(\'marketsX.popup.update.btn.upgrade\') %> </button> </div> </div> </div> <div class="space hidden-xs"></div>'},function(e,t){e.exports='<div class=panel-form-box> <p class="panel-title grid-middle"> <i class="icon icon-info hidden-xs"></i> <%=__(\'account.level.classic\')%> </p> <div class="panel-form account-level"> <div class=text-block> <%= __(\'account_settings.account-level.information.classic.description.part1\', amount) %> </div> <div class=text-block> <%= __(\'account_settings.account-level.information.classic.description.part2\') %> </div> <div class="text-block slider-block"></div> <div class=text-block> <a href="<%= __(\'marketsX.link.lern.more\') %>" target=_blank><%= __(\'marketsX.learn_more\')%></a> </div> </div> </div> <div class="grid-12_sm-1 form-row form-actions"> <div class=col-12_sm-12> <div class="field field-type-checkbox" id=customer-levels-field> <input type=checkbox id=customer-levels name=customer_levels> <label for=customer-levels></label> </div> <div class=text> <%= __(\'marketsX.popup.promotion.terms\') %> </div> </div> <div class=actions> <div class=grid-middle> <button class="btn btn-primary fn-submit"> <%= __(\'account_settings.button.save\') %> </button> </div> </div> </div> <div class="space hidden-xs"></div> '},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(20),s=n(5),a=n(9),l=(n(124),r.template(n(1586))),c=n(6),u=n(89),d=n(102),p=n(1010),f=n(73);n(218).cutCurrency;i.exports=o.extend({tag:"div",className:"content-body update-leverage",customerLeverage:0,events:function(){return r.extend({},r.result(o.prototype,"events"),{"submit form":"onSubmit","click .fn-submit":"onSubmit","change input[type=radio]":"changeNewLeverage"})},render:function(){var e=this.model.getCurrentLeverageValue(),t=!1;return d.FRENCH_REGULATION()&&u.length>0&&(t=!0),this.$el.html(l({enabledLeverages:this.model.getEnabledLeverages(),currentLeverage:e,disabledLeverageChange:t})),this.listenTo(this.model,"change:currentLeverage",this.updateCurrentLeverage),this.disableSubmitButton(),this.updateSubmitButton(),this.updateExampleDescription(e),this},beforeCreate:function(){return!!a.isLive()||(s.trigger("flow:leverage-settings"),!1)},changeNewLeverage:function(e){var t=e.currentTarget.value;this.model.setNewLeverageValue(t),this.updateExampleDescription(t),this.updateSubmitButton()},updateCurrentLeverage:function(){this.$el.find(".current-leverage span").html(this.model.getCurrentLeverageValue())},isSaveNeeded:function(){return this.model.isPristine()},save:function(){return this.onSubmit()},disableSubmitButton:function(){return this.$el.find(".fn-submit").addClass("disabled").removeClass("btn-primary"),this},enableSubmitButton:function(){return this.hideRequestMessage(),this.$el.find(".fn-submit").removeClass("disabled").addClass("btn-primary"),this.$el.find(".verification-icon").addClass("hidden hidden-xs"),this},isSubmitButtonDisabled:function(){return this.$el.find(".fn-submit").hasClass("disabled")},updateSubmitButton:function(){this.model.isPristine()?this.enableSubmitButton():this.disableSubmitButton()},setProcessButtonCaption:function(){return this.$el.find(".fn-submit-label").html(__("account_settings.button.save.process.message")),this},resetButtonCaption:function(){return this.$el.find(".fn-submit-label").html(__("account_settings.button.save")),this},showRequestMessage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=this.$el.find(".fn-submit"),i={success:"icon icon-verified-circle",error:"icon icon-error-red"};return n.find(".verification-icon").removeClass("hidden hidden-xs"),n.find(".icon").attr("class",i[t]),this},hideRequestMessage:function(){return this.$el.find(".verification-icon").addClass("hidden hidden-xs"),this},onSubmit:function(e){if(e&&e.preventDefault(),!this.isSubmitButtonDisabled())return this.hideRequestMessage().setProcessButtonCaption().disableSubmitButton(),this.customerLeverage=this.model.getCurrentLeverageValue(),this.model.save().then(this.saveSuccess.bind(this)).catch(this.saveError.bind(this))},saveSuccess:function(){this.showRequestMessage(__("account_settings.button.save.success.message")).resetButtonCaption(),p.trackAccountSettingsLeverageChange(this.customerLeverage,this.model.getNewLeverageValue())},saveError:function(){s.trigger("ui:message-box",{parent:document.body,text:__("account_settings.error.message")}),this.model.set("newLeverage",this.model.previous("newLeverage")),this.updateExampleDescription(this.model.getNewLeverageValue()),this.resetButtonCaption(),this.updateSubmitButton()},updateExampleDescription:function(e){var t=__("account_settings.update_leverage.form.example.description",e,f(1e3).formatForeignCurrency(c.getUserCurrencySymbol(),"$0,0.[00]"),f(1e3*e).formatForeignCurrency(c.getUserCurrencySymbol(),"$0,0.[00]"));this.$el.find(".example-description").html(t)}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t){e.exports='<div class=panel-form-box> <p class="panel-title grid-middle"> <i class="icon icon-info hidden-xs"></i> <%=__(\'account_settings.update_leverage.form.description\')%> </p> <div class="panel-form update-leverage"> <form action="" method=post> <div class=current-leverage> <b><%=__(\'account_settings.update_leverage.form.current_leverage\')%>:</b> 1:<span><%=currentLeverage%></span> </div> <div class=adjust-leverage><%=__(\'account_settings.update_leverage.form.adjust_leverage\')%>:</div> <div class=grid-12_sm-1> <div class=col-12_sm-12> <div class="radio-leverage-wraper grid-middle"> <% for (var i = 0; i < enabledLeverages.length; i++) { %> <div class="field field-type-radio"> <input type=radio id="<%=\'leverage-\' + enabledLeverages[i].leverage%>" name=leverage-radio value="<%=enabledLeverages[i].leverage%>" <% if(disabledLeverageChange) { %> disabled=disabled <% } %> <% if(enabledLeverages[i].selected) { %> checked=checked <% } %> /> <label for="<%=\'leverage-\' + enabledLeverages[i].leverage%>"><%=\'1:\' + enabledLeverages[i].leverage%></label> </div> <% } %> </div> </div> <% if(disabledLeverageChange) { %> <div class=col-12_sm-12> <div class=grid-12> <div class="col-12_sm-12 warning"> <p> <i class="icon icon-error-red"></i> <%=__(\'account_settings.update_leverage.disabled.open_positions\')%> </p> </div> </div> </div> <% } %> <div class="col-12_sm-12 example-panel"> <div class=grid-12> <div class="col-12_sm-12 example"> <b><%=__(\'account_settings.update_leverage.form.example.title\')%>:</b> <p class=example-description></p> </div> </div> </div> <div class="grid-12 messages"> <div class="action-result grid-middle hidden hidden-sm hidden-md hidden-lg"> <i class="icon icon-verified"></i> <span></span> </div> </div> </div> <div class=information> <b><%=__(\'account_settings.update_leverage.footer.title\')%></b> <div> <%=__(\'account_settings.update_leverage.footer.description\')%> <br/> <%=__(\'account_settings.update_leverage.footer.description.links\')%> </div> <div><%=__(\'account_settings.update_leverage.footer.description.notes\')%></div> </div> </form> </div> </div> <div class="grid-12_sm-1 form-row form-actions"> <div class=actions> <div class=grid-middle> <button class="btn btn-primary fn-submit"> <span class="verification-icon grid-middle hidden hidden-xs"> <i class=icon></i> </span> <span class=fn-submit-label><%=__(\'account_settings.button.save\')%></span> </button> </div> </div> </div> <div class="space hidden-xs"></div> '},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(43),s=n(8);i.exports=o.extend({initial:{},defaults:{"markets-review-email":!1,"markets-review-sms":!1,"promotions-email":!1,"promotions-sms":!1,"platform-updates-email":!1,"platform-updates-sms":!1,"margin-call-email":!1,"margin-call-sms":!1,"education-email":!1,"education-sms":!1},map:{"markets-review-sms":"Notifications-MarketReviews-SMS","markets-review-email":"Notifications-MarketReviews-Email","promotions-sms":"Notifications-Promotion-SMS","promotions-email":"Notifications-Promotion-Email","platform-updates-sms":"Notifications-PlatformUpdate-SMS","platform-updates-email":"Notifications-PlatformUpdate-Email","margin-call-sms":"Notifications-MarginCall-SMS","margin-call-email":"Notifications-MarginCall-Email","education-sms":"Notifications-Education-SMS","education-email":"Notifications-Education-Email"},load:function(){return s.loadAccountNotification().then(this.loadSuccess.bind(this)).catch(this.loadError.bind(this))},loadSuccess:function(e){var t=this;r.each(e.data,(function(e){return t.set(t.keyFromMapByValue(e),!0)}))},loadError:function(e){return Promise.reject(e)},keyFromMapByValue:function(e){for(var t in this.map)if(this.map[t]===e)return t},save:function(){return this.rememberAsInitial(),s.updateAccountNotification(this.createSubscribeServicesArray(),this.createUnsubscribeServicesArray())},createSubscribeServicesArray:function(){var e=this.toJSON();return r.chain(e).keys().filter((function(t){return e[t]})).map((function(e){return this.map[e]}),this).value()},createUnsubscribeServicesArray:function(){var e=this.toJSON();return r.chain(e).keys().filter((function(t){return!e[t]})).map((function(e){return this.map[e]}),this).value()},rememberAsInitial:function(){this.initial={};var e=this.toJSON();for(var t in e)this.initial[t]=e[t]},isPristine:function(){return r.chain(this.initial).keys().every((function(e){return this.get(e)===this.initial[e]}),this).value()}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){var i;void 0===(i=function(e,t,i){n(1);var r=n(43),o=n(8),s=n(6),a=n(9);i.exports=r.extend({defaults:{accountType:null,applicationStatus:null},load:function(){return s.isElectiveProfessionalEnabled()&&a.isAccountClassificationEnabled()?o.getProfessionalAccountStatuses().then(this.loadSuccess.bind(this)).catch(this.loadError.bind(this)):(this.set("enabled",!1),Promise.resolve())},loadSuccess:function(e){this.set("enabled",!0);var t=e.data,n=t.clientClassification,i=t.approvalStatus;return this.set("accountType",n?n.toUpperCase():""),this.set("applicationStatus",i?i.toUpperCase():""),Promise.resolve(e)},loadError:function(e){return this.set("enabled",!1),400===e.response.status?Promise.resolve(e):Promise.reject(e)},getAccountType:function(){return this.get("accountType")||{}},getApplicationStatus:function(){return this.get("applicationStatus")||{}},isEnabled:function(){return this.get("enabled")}})}.call(t,n,t,e))||(e.exports=i)},function(e,t){e.exports=' <div class=caption><%=options.confirmCaption%></div> <div class=message><%=options.confirmMessage%></div> <% if (options.isShowCheckbox === true) { %> <br/> <div class=form> <div class="field field-type-checkbox"> <div class=checkbox-row> <input type=checkbox id=checkbox name=checkbox> <label for=checkbox> <span class=checkbox_label_inline><%=options.checkboxMessage%></span> </label> </div> </div> </div> <% } %> '},function(e,t){e.exports="<div class=deposit-popup> <% if (options.message) { %> <div class=deposit-message><%=options.message%></div> <% } %> <form id=deposit-frame-form target=deposit-frame method=POST></form> <iframe id=deposit-frame name=deposit-frame style=visibility:hidden></iframe> </div> "},function(e,t,n){var i={"./hedgefunds.popup.mobile.view":1592,"./hedgefunds.popup.view":1595};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id=1591},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var o=n(1),s=n(100),a=n(8),l=n(26),c=n(115),u=n(787),d=n(70),p=n(86),f=n(122).sendEventosHedgefundsAction,h=o.template(n(1593)),m=o.template(n(1594)),g=n(0),v=n(22),b=n(190),_=n(580),y=n(524).default,E=n(64).transformSymbolToSBSymbol,S=d.extend({subscribedInstruments:[],initialize:function(e){d.prototype.initialize.apply(this,arguments),this.getHedgefunds()},getHedgefunds:function(){var e=this;return this.addChildView(".hedgefunds-mobile-wrapper",p,{parent:r(".main-box"),position:"absolute"}),a.loadHedgefunds().then((function(t){return t.data.error?(e.hedgefunds=[],e.render(),e.removeChildView(".hedgefunds-mobile-wrapper"),Promise.reject()):(e.hedgefunds=e.createCollection(t.data),e.render(),e.removeChildView(".hedgefunds-mobile-wrapper"),Promise.resolve())}))},createCollection:function(e){var t=new s,n=[];return o.each(e,(function(e){var i=e.symbol;if(o.has(e,"institutionalHoldingSummary")&&(l.getInstrumentBySymbol(i)||(i=E(i),l.getInstrumentBySymbol(i)))){var r=new u(e);r.set("instrument",l.getInstrumentBySymbol(i)),n.push(i),t.add(r)}})),this.subscribedInstruments=c.update(n,this.subscribedInstruments).addedSymbols,t},events:function(){return o.extend({},o.result(d.prototype,"events"),{"click .stock":"viewDetails","change [name=instruments]":"filterStocks","click .header-links__info":"toggleInfo","click .header-links__filters":"toggleFilters"})},getOptions:function(e){return o.extend({},o.result(d.prototype,"getOptions"),{isHeaderShowed:!0,caption:__("tab.hedgefunds"),previousCaption:__("actions.back"),headerStyle:"wizard",bodyStyle:"trading-tools",headerCaptionStyle:"hedgefunds-mobile-header"},e)},close:function(e){c.remove(this.subscribedInstruments),d.prototype.close.call(this),this.destroy()},filterStocks:function(e){var t,n=this.$el.find("select[name=instruments] option:checked"),i=[];n.length>0&&(i=o.map(n,(function(e){return r(e).val()}))),t=o.filter(this.hedgefunds.models,(function(e){return o.find(i,(function(t){return t===e.getSymbol()}))})),this.renderFilteredData(t)},toggleInfo:function(e){r(e.currentTarget).hasClass("active")?(r(e.currentTarget).removeClass("active"),this.$el.find(".hedgefunds__info").addClass("hidden")):(r(e.currentTarget).addClass("active"),this.$el.find(".hedgefunds__info").removeClass("hidden"),this.$el.find(".hedgefunds__filters").addClass("hidden"),this.$el.find(".header-links__filters").removeClass("active"))},toggleFilters:function(e){r(e.currentTarget).hasClass("active")?(r(e.currentTarget).removeClass("active"),this.$el.find(".hedgefunds__filters").addClass("hidden")):(r(e.currentTarget).addClass("active"),this.$el.find(".hedgefunds__filters").removeClass("hidden"),this.$el.find(".hedgefunds__info").addClass("hidden"),this.$el.find(".header-links__info").removeClass("active"))},viewDetails:function(e){var t=this,n=r(e.currentTarget),i=n.closest("tr");r(i).addClass("active");var s=n.find(".stock-expand span"),l=i.parentNode.rows[i.rowIndex+1];if("+"===s.html()){r(l).removeClass("hidden"),s.html("-"),f(r(i).attr("data-symbol"));var c=o.find(this.hedgefunds.models,(function(e){return e.getSymbol()===r(i).attr("data-symbol")}));0===r(l).find(".hedgefunds-holdings-graph .highcharts-container").length&&(this.addChildView(".stock-details[data-symbol="+c.getSymbol()+"]",p,{parent:r(".main-box"),position:"absolute"}),a.loadHedgefund(c.getTicker()).then((function(e){t.removeChildView(".stock-details[data-symbol="+c.getSymbol()+"]"),_(r(l).find(".hedgefunds-holdings-graph .block-content")[0],e.data[0].institutionalHoldingSummary,e.data[0].stockPrices,null,100,12,6)})))}else r(l).addClass("hidden"),r(i).removeClass("active"),s.html("+")},getStocksList:function(){return o.uniq(o.map(this.hedgefunds.models,(function(e){return[e.getSymbol(),e.getDescription()]})),(function(e){return JSON.stringify(e)}))},render:function(){d.prototype.render.call(this);var e=o.isArray(this.hedgefunds.models)&&this.hedgefunds.models.length>0?this.hedgefunds.models:[];return this.setContent(h({stocks:this.getStocksList()})),this.$el.find(".content-block").html(m({hedgefunds:e})),this.getBuySell(e),v.render(g.createElement(y,null),this.$el.find(".risk-warning-mobile")[0]),f(),this},renderFilteredData:function(e){var t=o.isArray(e)>0?e:this.hedgefunds.models;this.$el.find(".content-block").html(m({hedgefunds:t}))},getBuySell:function(e){var t=this;o.each(e,(function(e,n){var i=g.createElement(b,{type:"Sell",column:{name:"Sell",key:"bid",direction:"bidDirection"},model:e.get("instrument"),isSelected:!0,onClick:o.noop}),r=g.createElement(b,{type:"Buy",column:{name:"Buy",key:"ask",direction:"askDirection"},model:e.get("instrument"),isSelected:!1,onClick:o.noop});v.render(i,t.$el.find(".instrument-sell-change tr")[n]),v.render(r,t.$el.find(".instrument-buy-change tr")[n])}))}});i.exports=S}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t){e.exports='<div class=hedgefunds-mobile-wrapper> <div class=hedgefunds-mobile> <div class="header flex flex-column flex-align-center"> <div class="flex flex-align-end"> <div class="header-links flex"> <div class=header-links__info data-link=info><%=__(\'hint.info\')%></div> <div class=header-links__separator>|</div> <div class=header-links__filters data-link=filters><%=__(\'acuity-trading.filters\')%></div> </div> </div> </div> <div class="hedgefunds__info text-muted hidden"><%=__(\'hedgefunds.description\')%></div> <div class="hedgefunds__filters hidden"> <%if(stocks.length > 0) {%> <div class=styled-select> <select name=instruments multiple=multiple size=4> <option disabled=disabled selected=selected class=hidden><%=__(\'wizard.form.label.DEFAULT_EMPTY\')%></option> <%_.each(stocks, function(item){ %> <option value="<%=item[0]%>"><%=item[1]%></option> <% }); %> </select> </div> <%}%> </div> <div class=content-block></div> <div class=risk-warning-mobile></div> </div> </div> '},function(e,t){e.exports="<% if(hedgefunds.length > 0) {%> <table class=hedgefunds-table> <tbody> <% _.each(hedgefunds, function(item){%> <tr class=row data-symbol=\"<%= item.getSymbol()%>\"> <td class=column-instrument> <div class=stock> <div class=stock-expand> <span>+</span> </div> <div class=stock-name> <div class=instrument-img-wrapper> <div class=\"instrument-img instrument-img-<%= item.getSymbol().toLowerCase()%>\"></div> </div> <div class=stock-data-mobile> <div class=name><%=item.getDescription()%></div> <div class=\"ticker text-muted\"><%=item.getTicker()%></div> </div> </div> </div> </td> <td class=column-trade> <div class=stock-buy-sell> <div class=instrument-sell-change><table><tr></tr></table></div> <div class=instrument-buy-change><table><tr></tr></table></div> </div> </td> </tr> <tr class=\"row-expand hidden\"> <td colspan=2> <div class=stock-details data-symbol=\"<%=item.getSymbol()%>\"> <div class=hedgefund-data-summary> <div class=hedgefunds-confidence-signal> <div class=block-header><%=__('hedgefunds.confidence.signal')%></div> <div class=block-content> <div> <div class=\"<%=item.getSignal().toLowerCase().replace(' ','-')%>\"><%=__('insiders.' + item.getSignal().toLowerCase().replace(' ','.'))%></div> <div class=signal-based-on><%= __('hedgefunds.signal.based.on', item.getBasedOnNumHedgeFunds())%></div> </div> <div> <div class=\"icon-signal icon-<%=item.getSignal().toLowerCase().replace(' ','-')%>\"></div> <div class=signal-sold-bought> <div class=bought><%=__('actions.bought')%></div> <div class=sold><%=__('actions.sold')%></div> </div> </div> </div> </div> <div class=hedgefunds-holdings-graph> <div class=block-header><%=__('hedgefunds.holdings.in')%> <%=item.getTicker()%></div> <div class=block-content> </div> </div> </div> </div> </td> </tr> <%})%> </tbody> </table> <%} else {%> <div class=hedgefunds-empty> <div class=icon-hedgefunds-empty-blue></div> <div><%= __('hedgefunds.text.no.hedgefunds')%></div>` </div> <%}%>"},function(e,t,n){(function(i,r){var o;function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}void 0===(o=function(e,t,i){var o=n(1),a=n(5),l=n(20),c=n(100),u=n(8),d=n(26),p=n(115),f=n(787),h=n(0),m=n(22),g=n(190),v=n(580),b=n(1596),_=n(1598),y=n(86),E=n(267).default,S=n(46).updateUrlBySelectedInstrumentSymbol,C=n(122).sendEventosHedgefundsAction,w=n(368).default,O=n(87).default,T=n(64).transformSymbolToSBSymbol,P=l.extend({subscribedInstruments:[],mainTemplate:o.template(n(1599)),hedgefundsTemplate:o.template(n(1600)),events:{"click .hedgefunds-top .icon-close-blue":"close","click .stock":"viewDetails","click .choosen-header-wrapper":"toggleFilter","click .chosen-stocks li":"filterItems","click .chosen-elm .chosen-reset":"filterReset","click th.sortable":"sortHedgefunds","click .take-tour":"openTour"},tagName:"div",className:"hedgefunds-wrapper popup-item",initialize:function(e){var t=this;l.prototype.initialize.apply(this,arguments),this.listenTo(a,"ui:header-itemclick",this.close),this.listenTo(a,"ui:instrument:change",this.close),this.listenTo(a,"ribbon:update",this.updateContentHeight),r(window).on("resize.hedgefunds",(function(){return t.updateContentHeight()})),this.parent=e.parent,this.parent.find(".main-box-content").addClass("hidden"),this.activeColumn="",this.hedgefundView=[],this.direction="desc",this.getHedgefunds()},getHedgefunds:function(){var e=this;return this.addChildView(".hedgefunds",y,{parent:r(".main-box"),position:"absolute"}),u.loadHedgefunds().then((function(t){return t.data.error?(e.removeChildView(".hedgefunds"),e.hedgefunds=[],e.render(),Promise.reject()):(e.hedgefunds=e.createCollection(t.data),e.removeChildView(".hedgefunds"),e.render(),Promise.resolve())}))},createCollection:function(e){var t=new c,n=[];return o.each(e,(function(e){var i=e.symbol;if(o.has(e,"institutionalHoldingSummary")&&(d.getInstrumentBySymbol(i)||(i=T(i),d.getInstrumentBySymbol(i)))){var r=new f(e);r.set("instrument",d.getInstrumentBySymbol(i)),n.push(i),t.add(r)}})),this.subscribedInstruments=p.update(n,this.subscribedInstruments).addedSymbols,t},sortHedgefunds:function(e){var t=e.currentTarget;this.activeColumn=t.classList[0],this.direction="asc"===t.classList[2]?"desc":"asc",this.filterItems()},_sort:function(e,t){var n="desc"===this.direction?-1:1;if("column-instrument"===this.activeColumn)return e.getSymbol().localeCompare(t.getSymbol())*n},viewDetails:function(e){var t=this,n=r(e.currentTarget),i=n.closest("tr");r(i).addClass("active");var s=n.find(".stock-expand span"),a=i.parentNode.rows[i.rowIndex+1];if("+"===s.html()){r(a).removeClass("hidden"),s.html("-"),C(r(i).attr("data-symbol"));var l=o.find(this.hedgefunds.models,(function(e){return e.getSymbol()===r(i).attr("data-symbol")}));0===r(a).find(".hedgefunds-holdings-graph .highcharts-container").length&&(this.addChildView(".stock-details[data-symbol="+l.getSymbol()+"]",y,{parent:r(".main-box"),position:"absolute"}),u.loadHedgefund(l.getTicker()).then((function(e){if(t.removeChildView(".stock-details[data-symbol="+l.getSymbol()+"]"),!e||!e.data||0===e.data.length)return null;m.render(h.createElement(O,{name:l.getSignal().toLowerCase().replace(" ","_"),width:"154",height:"77"}),r(a).find(".sentiment-pic")[0]),v(r(a).find(".hedgefunds-holdings-graph .content")[0],e.data[0].institutionalHoldingSummary,e.data[0].stockPrices,null,100,36,6),t.hedgefundView.push(new b({el:r(a).find(".hedgefund-data-holdings"),data:e.data[0].institutionalHoldings}))})).catch((function(e){t.removeChildView(".stock-details[data-symbol="+l.getSymbol()+"]")})))}else r(a).addClass("hidden"),r(i).removeClass("active"),s.html("+")},close:function(e){p.remove(this.subscribedInstruments),a.trigger("ui:chart:update-size"),r(window).off("resize.hedgefunds"),this.parent.find(".main-box-content").removeClass("hidden"),o.map(this.hedgefundView,(function(e){return e.destroy()})),e&&store.dispatch(S()),this.destroy()},toggleFilter:function(e){var t=r(e.currentTarget).parent();t.hasClass("collapsed")?(t.removeClass("collapsed").addClass("expanded"),r(document).on("click.content",(function(e){r(e.target).closest(".chosen-elm")||(t.removeClass("expanded").addClass("collapsed"),r(document).off("click.content"))}))):(t.removeClass("expanded").addClass("collapsed"),r(document).off("click.content"))},filterItems:function(e){var t=this;if(!o.isUndefined(e)){var n=e.currentTarget.childNodes[0];n.checked=!n.checked}var i=[],r=this.$el.find("input[name=stocks]:checked");this.$el.find(".chosen-stocks .chosen-total span").html(r.length||""),1===r.length?this.$el.find(".chosen-stocks .chosen-text").html(this.$el.find("input[name=stocks]:checked")[0].value):r.length>1?this.$el.find(".chosen-stocks .chosen-text").html(__("tipranks.filter.shares.selected",r.length)):this.$el.find(".chosen-stocks .chosen-text").html(__("tipranks.filter.all.shares"));var s=[];r.length>0&&(s=o.map(r,(function(e){return e.value}))),(i=o.filter(this.hedgefunds.models,(function(e){return!s.length||o.find(s,(function(t){return t===e.getSymbol()}))}))).sort((function(e,n){return t._sort(e,n)})),this.renderFilteredData(i)},filterReset:function(e){var t=e.currentTarget.classList[1];this.$el.find(".chosen-"+t).removeClass("expanded").addClass("collapsed"),o.each(this.$el.find("input[name="+t+"]"),(function(e){return e.checked=!1})),this.filterItems()},getStocksList:function(){return o.uniq(o.map(this.hedgefunds.models,(function(e){return[e.getSymbol(),e.getDescription()]})),(function(e){return JSON.stringify(e)}))},render:function(){var e=this;l.prototype.render.call(this);var t=o.isArray(this.hedgefunds.models)&&this.hedgefunds.models.length>0?this.hedgefunds.models:[];this.$el.html(this.mainTemplate({stocks:this.getStocksList()})),this.$el.find(".content-block").html(this.hedgefundsTemplate({hedgefunds:this.hedgefunds.models,direction:this.direction,activeColumn:this.activeColumn})),this.getBuySell(t);var n=o.map(this.hedgefunds.models,(function(e){return e}));this.$el.find(".results").html(__("total.results",t.length)),m.render(h.createElement(E,{options:[].concat(s(n)),placeholder:__("tipranks.text.all_stoks"),onChange:function(t){return e.renderFilteredData(t)},transformOptionText:function(e){return e.get("description")},transformOptionValue:function(e){return e.get("symbol")}}),document.getElementById("searchableDropdown"));var i=this.$el.find(".content-table")[0];return i&&w.init(i),C(),this.updateContentHeight(),this},renderFilteredData:function(e){var t=o.isArray(e)&&!o.isEmpty(e)?e:this.hedgefunds.models;this.$el.find(".content-block").html(this.hedgefundsTemplate({hedgefunds:t,direction:this.direction,activeColumn:this.activeColumn})),this.$el.find(".results").html(__("total.results",t.length)),this.getBuySell(t);var n=this.$el.find(".content-table")[0];n&&w.init(n)},openTour:function(){this.$el.find(".content-block")[0].scrollTop=0,_(this.$el)},updateContentHeight:function(){var e=220;r(".ribbon-notification").length>0&&r(".ribbon-notification")[0].clientHeight&&(e+=r(".ribbon-notification")[0].clientHeight);var t=document.documentElement.clientHeight-e;this.$el.find(".content-block").css("height",t+"px")},getBuySell:function(e){var t=this;o.each(e,(function(e,n){var i=h.createElement(g,{type:"Sell",column:{name:"Sell",key:"bid",direction:"bidDirection"},model:e.get("instrument"),isSelected:!0,onClick:function(){}}),r=h.createElement(g,{type:"Buy",column:{name:"Buy",key:"ask",direction:"askDirection"},model:e.get("instrument"),isSelected:!1,onClick:function(){}});m.render(i,t.$el.find(".instrument-sell-change tr")[n]),m.render(r,t.$el.find(".instrument-buy-change tr")[n])}))}});i.exports=P}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(20),s=n(73),a=n(388),l=o.extend({template:r.template(n(1597)),initialize:function(e){o.prototype.initialize.apply(this,arguments),this.options.data.length>0&&this.render()},render:function(){this.$el.append(this.template({data:this.options.data,numbro:s,defaultImg:a}))}});i.exports=l}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t){e.exports="<table> <thead> <tr> <th><%=__('hedgefunds.manager')%></th> <th><%=__('hedgefunds.action')%></th> <th><%=__('hedgefunds.holdings.change')%></th> <th><%=__('hedgefunds.value.reported')%></th> <th><%=__('hedgefunds.portfolio')%></th> </tr> </thead> <tbody> <%_.each(data, function(item) {%> <tr> <td class=column-manager> <div> <div class=manager-details data-tooltip-align=bottom aria-label=\"<%=__('hedgefunds.manager.stats', item.managerName, item.institutionName, item.rank, item.totalRankedInstitutions)%>\"> <div class=manager-name> <span><%=item.managerName%></span> <span class=text-muted><%=item.institutionName%></span> </div> </div> </div> </td> <td class=column-action> <div class=\"<%if(item.change > 0){%>positive<%} else if(item.change < 0){%>negative<%}%>\"><%=__('hedgefunds.action.' + item.action.replace(' ','.').toLowerCase())%></div> </td> <td class=column-change> <span class=\"<%if(item.change > 0){%>positive<%} else if(item.change < 0){%>negative<%}%>\"><%=item.change%>%</span> </td> <td class=column-value> $<%=numbro(item.value).format('0a')%> </td> <td> <%=numbro(item.percentageOfPortfolio).format('(0.00%)')%> </td> </tr> <% });%> </tbody> </table> "},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,r){n(1);var o=n(317);r.exports=function(e){var t=e.find(".take-tour");t.addClass("hidden");var n=function(t,n){return function(t){return e.find(t)}(t)[n]},r=function(t,i){return"+"===e.find(".row:first-child .stock-expand span").html()&&e.find(".row:first-child .stock-expand")[0].click(),n(t,i)},s=function(){"-"===e.find(".row:first-child .stock-expand span").html()&&e.find(".row:first-child .stock-expand")[0].click()},a=[{element:n(".filteredDropdownWrapper",0),intro:__("hedgefunds.text.slide_1_text"),position:"top"},{element:r(".hedgefunds-holdings-graph",0),intro:__("hedgefunds.text.slide_2_text"),position:"top"},{element:r(".hedgefunds-confidence-signal",0),intro:__("hedgefunds.text.slide_3_text"),position:"top"},{element:n(".stock-buy-sell",0),intro:__("hedgefunds.text.slide_4_text"),position:"top"},{element:r(".hedgefund-data-holdings table tbody tr",0),intro:__("hedgefunds.text.slide_5_text"),position:"top"}];o.introJs().setOptions({nextLabel:__("tipranks.text.slide_next"),prevLabel:__("tipranks.text.slide_prev"),doneLabel:__("actions.done"),skipLabel:" ",steps:a}).oncomplete((function(){i(t.removeClass("hidden")),s()})).onexit((function(){i(t.removeClass("hidden")),s()})).start()}}.call(t,n,t,e))||(e.exports=r)}).call(this,n(12))},function(e,t){e.exports="<div class=popup-item-wrapper> <div class=\"hidden-xs hedgefunds-top\"> <div class=\"header-actions fn-close-popup btn\"> <i class=icon-close-blue></i> </div> </div> <div class=hedgefunds> <div class=\"header-block overflow-unset\"> <div class=hedgefunds-header> <div class=header-title> <div class=title><%=__('hedgefunds.title')%></div> <%if (stocks.length > 0) {%> <div class=take-tour><%=__('tipranks.text.take_tour')%></div> <%}%> </div> <div class=header-description><%=__('hedgefunds.description')%></div> </div> <div class=filters> <div class=results></div> <div id=searchableDropdown></div> </div> </div> <div class=content-block></div> <div class=\"risk-warning text-muted\"><%=__('hedgefunds.text.disclaimer')%></div> </div> </div> "},function(e,t){e.exports="<% if(hedgefunds.length > 0) {%> <table class=hedgefunds-table> <thead> <tr class=column-head> <th class=\"column-instrument sortable <%=direction%> <%if(activeColumn == 'column-instrument'){%>active<%}%>\"><%=__('tipranks.text.share')%></th> <th class=column-trend><%=__('hedgefunds.text.trend')%></th> <th class=column-sentiment><%=__('hedgefunds.text.signal')%></th> <th class=column-trade><%=__('tipranks.text.trade')%></th> </tr> </thead> </table> <div class=content-table> <table class=hedgefunds-table> <tbody> <% _.each(hedgefunds, function(item){%> <tr class=row data-symbol=\"<%= item.getSymbol()%>\"> <td class=column-instrument> <div class=stock> <div class=stock-expand> <span>+</span> </div> <div class=stock-name> <div class=\"stock-image instrument-img-<%= item.getSymbol().toLowerCase()%>\"></div> <div class=stock-data> <div class=name><%=item.getDescription()%></div> <div class=\"ticker text-muted\"><%=item.getTicker()%></div> </div> </div> </div> </td> <td class=column-trend> <div class=\"<%=item.getTrendDir().toLowerCase()%>\"> <%= __('hedgefunds.trend.text', __('hedgefunds.trend.' + item.getTrendDir().toLowerCase()), item.getTrend()) %> </div> </td> <td class=column-sentiment> <div class=\"<%=item.getSignalDir()%>\"> <div><%=item.getSignal()%></div> </div> </td> <td class=column-trade> <div class=stock-buy-sell> <div class=instrument-sell-change><table><tr></tr></table></div> <div class=instrument-buy-change><table><tr></tr></table></div> </div> </td> </tr> <tr class=\"row-expand hidden\"> <td colspan=4> <div class=stock-details data-symbol=\"<%=item.getSymbol()%>\"> <div class=hedgefund-data-summary> <div class=hedgefunds-confidence-signal> <div class=header><%=__('hedgefunds.confidence.signal')%></div> <div class=content> <div> <div class=\"<%=item.getSignal().toLowerCase().replace(' ','-')%>\"><%=__('insiders.' + item.getSignal().toLowerCase().replace(' ','.'))%></div> <div class=signal-based-on><%= __('hedgefunds.signal.based.on', item.getBasedOnNumHedgeFunds())%></div> </div> <div> <div class=sentiment-pic></div> <div class=signal-sold-bought> <div class=sold><%=__('actions.sold')%></div> <div class=bought><%=__('actions.bought')%></div> </div> </div> </div> </div> <div class=hedgefunds-holdings-graph> <div class=header><%=__('hedgefunds.holdings.in')%> <%=item.getTicker()%></div> <div class=content> </div> </div> </div> <div class=hedgefund-data-holdings></div> </div> </td> <td></td> </tr> <%})%> </tbody> </table> </div> <%} else {%> <div class=hedgefunds-empty> <div class=icon-hedgefunds-empty-blue></div> <div><%= __('hedgefunds.text.no.hedgefunds')%></div> </div> <%}%>"},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(33).default,o=n(136),s=n(761),a=n(5),l=n(6),c=n(0),u=n(22),d=n(1),p=n(473).default,f=n(245).SWITCH_MODE_DROPDOWN,h=n(61).OPEN_POSITION_OPTIONS,m=n(98),g=m.EMPTY,v=m.TYPE_MARKET;i.exports=o.extend({events:function(){return d.extend({},{"mousedown .fn-close-popup":"close","mousedown .fn-settings":"openSettings","mousedown .popup-header":"startDrag"},d.result(o.prototype,"events"))},initialize:function(e){var t=this;o.prototype.initialize.apply(this,arguments),this.drag=s({onStart:function(){return{startStyleTop:parseInt(t.popupContent.style.top,10)||0,startStyleLeft:parseInt(t.popupContent.style.left,10)||0}},onDrag:function(e){t.popupContent.style.top=e.startStyleTop-e.distanceY+"px",t.popupContent.style.left=e.startStyleLeft-e.distanceX+"px"}})},render:function(){return o.prototype.render.call(this),this.$(".popup-header-icon").html('<i class="icon icon-drag"></i>'),this.$(".popup-actions").remove(),this.$(".popup-header").append('\n                <div class="popup-actions fn-settings btn"></div>\n                <div class="popup-actions fn-close-popup btn">\n                    <i class="icon icon-close-grey"></i>\n                </div>\n            '),this.popupContent=this.$(".popup-content")[0],this.initSettings(),this},startDrag:function(e){this.drag.start(e)},openSettings:function(e){e.stopImmediatePropagation(),e.preventDefault()},initSettings:function(){var e=this;if(!r.mobile()){this.$settingsButton=this.$(".fn-settings")[0];var t=l.getUserCommonData().getOpenPositionMode();this.settingsDropdown=u.render(c.createElement(p,{options:h,selected:t,transformOptionText:function(e){return __("modes."+[e])},onChange:function(t){return e.changeOpenPositionMode(t)}}),this.$settingsButton)}},destroy:function(){this.settingsDropdown&&this.destroySettings(),o.prototype.destroy.call(this)},destroySettings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$settingsButton;u.unmountComponentAtNode(e)},changeOpenPositionMode:function(e){var t=this,n=e[0],i=l.getUserCommonData().getOpenPositionMode(),r={direction:this.order.direction().value(),symbolOrId:this.model.getSymbol(),quantity:this.order.amount().value(),type:this.order.getType(),tp:this.order.takeProfit().isEnabled()?parseFloat(this.order.takeProfit().value()):g,sl:this.order.stopLoss().isEnabled()?parseFloat(this.order.stopLoss().value()):g,entry:this.order.getType()===v?g:Number(this.order.entry().value()),source:f};l.getUserCommonData().saveOpenPositionMode(n).then((function(){t.close(),a.trigger("ui:new-position",r),t.sendChangeOPModeEvent(n,i)}))},sendChangeOPModeEvent:function(e,t){__eventos("tradingPlatform:orderForm:OPmodeChanged",{newOPMode:e,previousOPMode:t})}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(20),s=n(26),a=n(518),l=n(114),c=n(98),u=c.SUCCESS,d=c.FOUND,p=c.UPDATE,f=r.template(n(1604));i.exports=o.extend({initialize:function(){o.prototype.initialize.apply(this,arguments);var e=this.model;this.listenTo(e.instrumentDriver(),"change:statusOfInstrumentInfo",this.onStatusOfInstrumentInfo),this.listenTo(e.instrumentDriver(),"change:statusOfInstrument",this.onStatusOfInstrument),this.listenTo(e,"change:statusOfMarginingSettings",this.onStatusOfMarginingSettings),this.listenTo(e,"change:statusOfTradingCentralSettings",this.onStatusOfTradingCentralSettings)},render:function(){return o.prototype.render.call(this),this.renderTemplate(),this},renderTemplate:function(){var e=this.model.instrument();e&&this.$el.html(f({instrument:e,overnightInterestTime:s.overnightInterestTime?l.overnightInterestTime(s.overnightInterestTime):__("instrument_info.none"),rollover:a.getRollovers(String(e.getSymbol()).toLowerCase()),instrumentInfoLeverage:this.getInstrumentLeverage(),instrumentInfoTradingCentralValue:this.getInstrumentTradingCentralSettings(),tradingOutsideOfTradingHours:e.status.canTradeOutsideOfTradingHoursMessage()}))},getInstrumentLeverage:function(){return"1:"+this.model.get("marginRate")},getInstrumentTradingCentralSettings:function(){var e=this.model.get("tradingCentralSettings")||{},t=e.tradingHoursValue,n=e.tradingHoursRaw;return t?l.tradingHours(t,n,!0):""},onStatusOfMarginingSettings:function(){switch(this.model.get("statusOfMarginingSettings")){case u:this.renderTemplate()}},onStatusOfTradingCentralSettings:function(){switch(this.model.get("statusOfTradingCentralSettings")){case u:this.renderTemplate()}},onStatusOfInstrument:function(){switch(this.model.instrumentDriver().get("statusOfInstrument")){case d:this.renderTemplate()}},onStatusOfInstrumentInfo:function(){switch(this.model.instrumentDriver().get("statusOfInstrumentInfo")){case p:this.renderTemplate()}}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t){e.exports='<div class=grid-2-noGutter-equalHeight> <div class="col-9 new-order__instrument-info_item"><%=__(\'instrument_info.minimum_trade_size\')%></div> <div class="col-3 new-order__instrument-info_item flex flex-align-end"><%=instrument.getMinOrderSizeFormatted()%></div> <div class="col-9 new-order__instrument-info_item"><%=__(\'instrument_info.overnight_interest_time\')%></div> <div class="col-3 new-order__instrument-info_item flex flex-align-end"><%=overnightInterestTime%></div> <div class="col-9 new-order__instrument-info_item"><%=__(\'instrument_info.leverage\')%></div> <div class="col-3 new-order__instrument-info_item flex flex-align-end"><%= instrumentInfoLeverage %></div> <div class="col-6 new-order__instrument-info_item"><%=__(\'instrument_info.rollover_date\')%></div> <div class="col-6 new-order__instrument-info_item new-order__a-right flex flex-align-end"><%=rollover || __(\'instrument_info.none\') %></div> <div class="col-6 new-order__instrument-info_item new-order__instrument-info-trading-central-name"><%=__(\'instrument_info.trading_hours\')%></div> <div class="col-6 new-order__instrument-info_item new-order__a-right flex flex-align-end"><%= instrumentInfoTradingCentralValue %></div> <div class="col-6 new-order__instrument-info_item"><%=__(\'instrument_info.trading.outside_of_trading_hours\')%></div> <div class="col-6 new-order__instrument-info_item new-order__a-right flex flex-align-end"><%= tradingOutsideOfTradingHours %></div> </div> '},function(e,t,n){var i;void 0===(i=function(e,t,i){n(1);var r=n(43),o=n(519),s=n(98),a=s.EMPTY,l=s.PENDING,c=s.SUCCESS,u=s.ERROR,d=s.FOUND;i.exports=r.extend({defaults:function(){return{statusOfMarginingSettings:a,statusOfTradingCentralSettings:a,tradingCentralSettings:a}},initialize:function(){this.listenTo(this,"change:statusOfMarginingSettings",this.onStatusOfMarginingSettings),this.listenTo(this.instrumentDriver(),"change:statusOfInstrument",this.onStatusOfInstrument),this.onStatusOfInstrument()},instrumentDriver:function(){return this.get("instrumentDriver")},instrument:function(){return this.instrumentDriver().instrument()},loadMarginingSettings:function(e){var t=this.control("statusOfMarginingSettings");t(l),o.getMarginingSettings(e).then((function(e){return t(c,e)})).catch((function(e){return t(u)}))},loadTradingCentralSettings:function(e){var t=this.control("statusOfTradingCentralSettings");t(l),o.getTradingCalendarsSettings(e).then((function(e){return t(c,{tradingCentralSettings:e})})).catch((function(e){return t(u)}))},onStatusOfMarginingSettings:function(e,t){switch(t){case l:break;case c:this.calculateMarginRate()}},calculateMarginRate:function(){this.set({marginRate:Math.ceil(100/(this.get("marginRatePercent")||100))},{silent:!0})},onStatusOfInstrument:function(){var e=this.instrumentDriver();switch(e.get("statusOfInstrument")){case a:break;case d:var t=e.instrument().getSymbol();this.loadMarginingSettings(t),this.loadTradingCentralSettings(t)}}})}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(20),s=r.template(n(1607)),a=n(313);i.exports=o.extend({events:function(){return this.addEvents(o)({"click input":"clickOnInput"})},initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=r.extend({},{value:""},e),o.prototype.initialize.call(this,e)},render:function(){var e=this;o.prototype.render.call(this);var t=this.options,n=t.value,i=t.disabled;return this.$el.html(s({})),i?this.$(".new-order__search-instrument-symbol").html(n):(this.search=this.addChildView(".new-order__search-instrument-symbol",a,{value:n,handleCloseRules:!0,autoClear:!1,onCancel:function(t){return e.input$().val(t)},onRowClick:function(t,n){return e.onResultSelected(t,n)}}),this.input$().attr("placeholder","")),this},clickOnInput:function(){this.oldValue=this.input$().val(),this.input().select()},input$:function(){return this.$("input")},input:function(){return this.input$()[0]},onResultSelected:function(e,t){e.preventDefault();var n=t.getSymbol(),i=t.getDisplayName();this.input$().val(i),this.oldValue!==i&&(this.search.setOldValue(i),this.oldValue=i,this.options.onChanged(n))},disable:function(){this.input$().attr("disable",!0)},enable:function(){this.input$().removeAttr("disable")}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t){e.exports='<div class="new-order__search new-order__search-instrument-symbol"></div>'},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(0),s=n(22),a=n(20),l=n(305).Basket,c=r.template(n(1609));i.exports=a.extend({initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=r.extend({},{},e),a.prototype.initialize.call(this,e),this.listenTo(this.model,"change:symbol",this.onSymbolChanged),this.onSymbolChanged()},onSymbolChanged:function(){var e=this.model.get("instrument");if(e){var t=e.getBasket(),n=this.$el;if(!t)return n.html("");n.html(c({}));var i=o.createElement(l,{basket:t,detailedInfo:!0});s.render(i,this.$(".basket-bar")[0])}}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t){e.exports="<div class=basket-block> <div class=basket-bar></div> </div>"},function(e,t,n){var i;void 0===(i=function(e,t,i){n(1);var r=n(43),o=n(26);i.exports=r.extend({defaults:function(){return{symbol:"",instrument:null}},setSymbol:function(e){this.set({symbol:e,instrument:o.getInstrumentBySymbol(e)})}})}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,i){n(1);var r=n(20);n(148),n(422);i.exports=r.extend({disable:function(){this.field.disableElement()},enable:function(){this.field.enableElement()},isChecked:function(){return this.field.isChecked()},destroy:function(){this.field.destroy(),this.field=null,r.prototype.destroy.call(this)}})}.call(t,n,t,e))||(e.exports=i)},function(e,t){e.exports='<div class="grid form"> <div class="col-6_sm-12 new-order__entry-block"> <div class=grid-equalHeight-middle> <div class="col-10 new-order__field-name new-order__field-name--padded"></div> <div class="col-2 new-order__field-name--padded"><div class="flex flex-align-end"><i class="icon icon-help col-middle" aria-label=""></i></div></div> <div class="col-12 new-order__control new-order__entry-control"></div> </div> </div> <div class=col-6_sm-12></div> <div class="col-12 new-order__field-container_error error"></div> </div>'},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(281);i.exports=o.extend({initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.precision=2,e.step=r.contains(["USD","EUR","GBP"],e.currency)?5:10,o.prototype.initialize.call(this,e)}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){var i;void 0===(i=function(e,t,i){n(1);var r=n(281);i.exports=r.extend({initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.step=1,e.precision=2,e.intMax=6,r.prototype.initialize.call(this,e)}})}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,i){n(1);var r=n(281);i.exports=r.extend({initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.intMax=6,r.prototype.initialize.call(this,e)}})}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(43),s=n(8),a=n(66),l=n(1617),c=n(1618),u=n(1619),d=n(1620),p=n(1621),f=n(1622),h=n(1623),m=n(1624),g=n(1625),v=n(801),b=n(1626),_=n(1627),y=n(98),E=y.EMPTY,S=y.UPDATE,C=(y.FOUND,y.NOT_FOUND,y.FIRST_UPDATE),w=y.TYPE_MARKET,O=y.TYPE_LIMIT,T=y.TYPE_STOP,P=y.SELL,k=y.BUY;i.exports=o.extend({defaults:function(){return{symbol:E,type:E,direction:E,amount:E,initialDirection:E,initialType:E,initialEntryPrice:E,initialStopLossPrice:E,initialTakeProfitPrice:E,refOrderChainId:E}},initialize:function(){var e=this,t=new l({order:this,value:this.get("initialType")}),n=new c({order:this,value:this.get("initialDirection")}),i=new u({order:this,type:t,direction:n,symbol:this.get("symbol")}),r=new d({order:this,type:t,direction:n,initialValue:this.get("amount"),value:this.get("amount")}),o=new p({order:this,type:t,direction:n,instrumentDriver:i}),s=new f({order:this,type:t,direction:n,amount:r,instrumentDriver:i,conversion:o}),a=new g({order:this,type:t,takeProfitPrice:this.get("initialTakeProfitPrice"),amount:r,instrumentDriver:i,conversion:o,direction:n,requiredMargin:s}),h=new _({order:this,type:t,amount:r,instrumentDriver:i,conversion:o,direction:n,requiredMargin:s}),m=h.isEnabled()?new b({order:this,type:t,stopLossPrice:this.get("initialStopLossPrice"),amount:r,instrumentDriver:i,conversion:o,direction:n,requiredMargin:s}):new v({order:this,type:t,stopLossPrice:this.get("initialStopLossPrice"),amount:r,instrumentDriver:i,conversion:o,direction:n,requiredMargin:s});r.setConversion(o),r.setRequiredMargin(s),r.setInstrumentDriver(i),this._type=t,this._direction=n,this._instrumentDriver=i,this._amount=r,this._requiredMargin=s,this._conversion=o,this._stopLoss=m,this._takeProfit=a,this._gsl=h,this.listenTo(t,"all",(function(t,n,i){return e.trigger("type:"+t,n,i)})),this.listenTo(n,"all",(function(t,n,i){return e.trigger("direction:"+t,n,i)})),this.listenTo(i,"all",(function(t,n,i){return e.trigger("instrumentDriver:"+t,n,i)})),this.listenTo(r,"all",(function(t,n,i){return e.trigger("amount:"+t,n,i)})),this.listenTo(s,"all",(function(t,n,i){return e.trigger("requiredMargin:"+t,n,i)})),this.listenTo(m,"all",(function(t,n,i){return e.trigger("stopLoss:"+t,n,i)})),this.listenTo(a,"all",(function(t,n,i){return e.trigger("takeProfit:"+t,n,i)})),this.listenTo(h,"all",(function(t,n,i){return e.trigger("gsl:"+t,n,i)})),this.listenTo(t,"change:value",this.onTypeChanged),this.listenTo(i,"change:statusOfInstrument",this.onStatusOfInstrument),this.listenTo(i,"change:statusOfInstrumentInfo",this.onStatusOfInstrumentInfo),this.listenTo(r,"change:statusOfAmount",this.onStatusOfAmount),this.listenTo(n,"change:value",this.onDirectionChanged),this.onTypeChanged(),this.onStatusOfInstrument(),this.onStatusOfInstrumentInfo(),this.onStatusOfAmount(),this.onDirectionChanged()},onStatusOfAmount:function(){var e=this.stopLoss(),t=this.takeProfit();switch(this.amount().get("statusOfAmount")){case S:e.isEnabled()&&e.update(),t.isEnabled()&&t.update()}},onStatusOfInstrument:function(){this.instrumentDriver().get("statusOfInstrument")},onStatusOfInstrumentInfo:function(){var e=this.stopLoss(),t=this.takeProfit(),n=this.direction();switch(this.instrumentDriver().get("statusOfInstrumentInfo")){case C:break;case S:n.isBuyTradable()?n.isSellTradable()||n.setDirection(k):n.setDirection(P),e.isEnabled()&&e.update(),t.isEnabled()&&t.update()}},onDirectionChanged:function(){var e=this.stopLoss(),t=this.takeProfit();e.isEnabled()&&e.update(),t.isEnabled()&&t.update()},isStopLossEnabled:function(){return this.stopLoss().isEnabled()},isTakeProfitEnabled:function(){return this.takeProfit().isEnabled()},type:function(){return this._type},direction:function(){return this._direction},instrument:function(){return this._instrumentDriver.value()},instrumentDriver:function(){return this._instrumentDriver},amount:function(){return this._amount},entry:function(){return this._entry},stopLoss:function(){return this._stopLoss},takeProfit:function(){return this._takeProfit},gsl:function(){return this._gsl},requiredMargin:function(){return this._requiredMargin},changeInstrument:function(e){this._instrumentDriver.changeInstrument(e)},getSymbol:function(){return this.get("symbol")},setType:function(e){this.type().setType(e)},getType:function(){return this.type().getType()},setDirection:function(e){this.direction().setDirection(e)},getDirection:function(){return this.direction().getDirection()},setEntryValue:function(e){var t=this.entry();t&&t.setValue(e)},onTypeChanged:function(){var e=this.type().value(),t=this.direction(),n=this.instrumentDriver(),i=this.get("initialEntryPrice");switch(e){case w:this.removeEntry();break;case O:var r=new h({value:i,order:this,type:this._type,direction:t,instrumentDriver:n});this.setEntry(r,"Limit"),setTimeout((function(){return r.update()}),0);break;case T:var o=new m({value:i,order:this,type:this._type,direction:t,instrumentDriver:n});this.setEntry(o,"Stop"),setTimeout((function(){return o.update()}),0)}},removeEntry:function(){var e=this.entry();e&&(this._takeProfit.removeEntry(),this._stopLoss.removeEntry(),this._requiredMargin.removeEntry(),this.stopListening(e),e.destroy(),this._entry=null)},setEntry:function(e,t){var n=this;this.removeEntry(),this._entry=e,this._takeProfit.setEntry(e),this._stopLoss.setEntry(e),this._requiredMargin.setEntry(e),this.listenTo(e,"all",(function(e,i,r){return n.trigger("entry"+t+":"+e,i,r)}))},disableAutoEntry:function(){var e=this.entry();e&&e.disableAutomatic()},destroy:function(){this._type.destroy(),this._direction.destroy(),this._amount.destroy(),this._requiredMargin.destroy(),this._conversion.destroy(),this._stopLoss.destroy(),this._takeProfit.destroy(),this._gsl.destroy(),this.removeEntry(),this._instrumentDriver.changeInstrument(null),this._instrumentDriver.destroy(),o.prototype.destroy.call(this)},hasErrors:function(){var e="errorMessage",t=this.entry(),n=this.amount().get(e),i=t&&t.get(e),o=this.stopLoss().get(e),s=this.takeProfit().get(e);return!r.every([n,i,o,s],r.isEmpty)},getData:function(){var e=this.amount(),t=this.instrument(),n=this.entry(),i=this.type().value(),r=this.direction(),o=r.value(),s=e.value(),a=n&&n.value(),l=this.stopLoss().getPrice(),c=this.takeProfit().getPrice(),u=e.getCommonData(),d=e.minOrderDistance();return{type:i,direction:o,symbol:t.getSymbol(),instrumentId:t.getId(),defaultAmount:e.get("defaultAmount").amount,amount:Number(s),currentPrice:u.currentPrice,isEntry:!!n,isSell:r.isSell(),isBuy:r.isBuy(),isStopLoss:this.isStopLossEnabled(),isTakeProfit:this.isTakeProfitEnabled(),isTypeLimit:"limit"===i,isTypeStop:"stop"===i,isTypeMarket:"market"===i,entry:a?Number(a):0,stopLoss:l!==E?Number(l):0,takeProfit:c!==E?Number(c):0,refOrderChainId:this.get("refOrderChainId"),minOrderDistance:d,isDirectionChanged:this.get("initialDirection")!==o,isTypeChanged:this.get("initialType")!==i}},placeOrder:function(){var e=this.getData(),t={effect:"OPENING",instrumentId:e.instrumentId,limitPrice:e.currentPrice,stopPrice:null,orderSide:String(e.direction).toUpperCase(),orderType:e.isTypeStop?"STOP":"LIMIT",quantity:e.isSell?-e.amount:e.amount,requestId:r.uniqueId("gwt-uid-"),timeInForce:"FOK"};return e.refOrderChainId!==E&&(e.isTypeChanged||e.isDirectionChanged?this.cancelOrder(e.refOrderChainId):t.refOrderChainId=e.refOrderChainId),e.isEntry&&(e.isTypeLimit&&(t.limitPrice=e.entry),e.isTypeStop&&(t.stopPrice=e.entry,t.limitPrice=null)),e.isStopLoss&&(t.stopLoss={fixedOffset:e.minOrderDistance,fixedPrice:e.stopLoss,isPriceFixed:!0,orderType:"STOP"}),e.isTakeProfit&&(t.takeProfit={fixedOffset:e.minOrderDistance,fixedPrice:e.takeProfit,isPriceFixed:!0,orderType:"LIMIT"}),"market"!==e.type&&(t.timeInForce="GTC"),s.placeOrder(a.getAtmosphereId(),t)},cancelOrder:function(e){s.orderCancel(a.getAtmosphereId(),e)},getSpread:function(){var e=this.amount();return e?e.getSpread():""}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(213),o=n(1),s=["market","limit","stop"],a="Types should be one of the list: "+s,l={silent:!0};i.exports=r.extend({defaults:function(){return{value:"market"}},initialize:function(){if(r.prototype.initialize.apply(this,arguments),!this.validate())throw new Error(a)},validate:function(e){return o.contains(this.getTypes(),e||this.getType())},value:function(){return this.get("value")},setType:function(e){if(!this.validate(e))throw new Error(a);this.set({value:0},l),this.set({value:e})},getType:function(){return this.get("value")},getTypes:function(){return s}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(213),o=n(1),s={silent:!0},a=n(3),l=a.POSITION_DIRECTION_BUY,c=a.POSITION_DIRECTION_SELL,u=[c,l],d="Direction should be one of the list "+u;i.exports=r.extend({defaults:function(){return{value:c}},initialize:function(){if(r.prototype.initialize.apply(this,arguments),!this.validate())throw new Error(d)},validate:function(e){return o.contains(this.getDirections(),e||this.getDirection())},value:function(){return this.get("value")},setDirection:function(e){if(!this.validate(e))throw new Error(d);this.set({value:0},s),this.set({value:e})},getDirection:function(){return this.get("value")},getDirections:function(){return u},isSell:function(){return this.get("value")===c},isBuy:function(){return!this.isSell()},isBuyTradable:function(){return this.order().instrument().get("buyTradable")},isSellTradable:function(){return this.order().instrument().get("sellTradable")}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){var i;void 0===(i=function(e,t,i){n(1),n(5);var r=n(213),o=(n(8),n(66),n(26)),s=(n(6),n(115)),a={silent:!0},l=n(98),c=l.EMPTY,u=l.NOT_FOUND,d=l.FOUND,p=l.UPDATE,f=l.CHANGED,h=l.FIRST_UPDATE;i.exports=r.extend({defaults:function(){return{symbol:c,prevSymbol:c,instrument:c,statusOfInstrument:c,statusOfInstrumentInfo:c}},initialize:function(){r.prototype.initialize.apply(this,arguments),this.listenTo(this,"change:statusOfInstrumentInfo",this.onStatusOfInstrumentInfo),this.listenTo(this,"change:statusOfInstrument",this.onStatusOfInstrument),this.find()},find:function(e){var t=this.control("statusOfInstrument"),n=this.control("statusOfInstrumentInfo"),i=this.get("instrument");if(i!==c&&this.stopListening(i,"change",this.onInstrumentInfo),i=o.getInstrumentBySymbol(this.get("symbol")),t(0,0,a),t(c),!i)return t(u);this.listenTo(i,"change",this.onInstrumentInfo),t(d,{instrument:i}),n(0,0,a),n(c),!0===e&&t(f),this.onInstrumentInfo()},onInstrumentInfo:function(){var e="statusOfInstrumentInfo",t=this.get(e),n=this.control(e);n(0,0,a),t===c&&n(h),n(p)},onStatusOfInstrumentInfo:function(){this.get("statusOfInstrumentInfo")},onStatusOfInstrument:function(){switch(this.get("statusOfInstrument")){case c:break;case d:this.subscribe(),s.add(this.get("symbol"))}},value:function(){return this.get("instrument")},instrument:function(){return this.value()},changeInstrument:function(e){var t=this.get("symbol");this.unsubscribe({symbol:t}),this.set({symbol:e,prevSymbol:t});this.find(!0)},subscribe:function(){s.add(this.get("symbol"))},unsubscribe:function(e){var t=e.symbol;s.remove(t)},destroy:function(){r.prototype.destroy.call(this),this.unsubscribe({symbol:this.get("symbol")})}})}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,i){n(1);var r=n(213),o=n(66),s=n(8),a=n(120),l=n(98),c=l.EMPTY,u=l.READY,d=l.NOT_READY,p=l.SUCCESS,f=l.ERROR,h=l.UPDATE,m=l.PENDING,g=l.FOUND,v=(l.NOT_FOUND,l.CALCULATED),b=(l.USE,l.NOT_USE,{silent:!0});i.exports=r.extend({defaults:function(){return{initialValue:c,value:c,valueDirty:!1,statusOfAmount:c,statusOfDefaultAmount:c,instrument:c,requiredMargin:c,conversion:c,errorMessage:""}},initialize:function(){r.prototype.initialize.apply(this,arguments),this.isInitialAmountValueChanged=!1;var e=this.toJSON(),t=e.instrument,n=e.requiredMargin,i=e.conversion;if(t!==c||n!==c||i!==c)throw new Error("Don't pass instrument, requiredMargin, conversion through constructor. Do it as amount.set({instrument, requiredMargin, conversion})");this.listenTo(this,"change:statusOfDefaultAmount",this.onStatusOfDefaultAmount)},amount:function(){return this},setInstrumentDriver:function(e){var t=this.get("instrumentDriver");t&&this.stopListening(t),this.set("instrumentDriver",e),this.listenTo(e,"change:statusOfInstrument",this.onStatusOfInstrument),this.onStatusOfInstrument()},onStatusOfInstrument:function(){switch(this.instrumentDriver().get("statusOfInstrument")){case c:break;case g:this.loadDefaultAmount()}},value:function(){return this.get("value")},getAmountIncrement:function(){return this.get("defaultAmount").amountIncrement},setValue:function(e){this.isInitialAmountValueChanged=!0;var t=this.control("statusOfAmount");t(0,0,b),t(h,{value:e})},setSilentValue:function(e){this.set({value:e},b)},getFullAmountLabel:function(){var e=this.getCommonData(),t=e.isTypeSpreadBetting,n=e.instrument;return t?n.getAmountSpreadBettingLabel():n.getAmountLabel()+": "+n.getGroupName()},onStatusOfDefaultAmount:function(){var e=this.control("statusOfAmount");switch(this.get("statusOfDefaultAmount")){case c:break;case f:case m:e(d);break;case p:var t=this.get("initialValue"),n=t;t===c&&(n=this.get("defaultAmount").amount),this.set("value",n,b),e(0,0,b),e(u),e(h)}},loadDefaultAmount:function(){var e=this.control("statusOfDefaultAmount"),t=this.instrument(),n=t.getId(),i=a.getDefaultAmount(this.instrument().getSymbol(),this.direction().isBuy());i&&this.setValue(i),e(m),s.calculateOrderDefaultAmount(o.atmosphereId,n).then((function(n){e(p,{defaultAmount:{amount:i||"",amountIncrement:t.isTypeSpreadBetting()?t.getMinOrderIncrement():n.data.amountIncrement}})})).catch((function(t){return e(f,{statusOfDefaultAmountMessage:t.message})}))},setRequiredMargin:function(e){r.prototype.setRequiredMargin.apply(this,arguments),this.listenTo(this.requiredMargin(),"change:statusOfRequiredMargin",this.onStatusOfRequiredMargin)},onStatusOfRequiredMargin:function(){switch(this.requiredMargin().get("statusOfRequiredMargin")){case v:this.validate()}},isValidated:function(){return""===this.get("errorMessage")},validate:function(){var e=this.getCommonData(),t=e.amount,n=e.calculatedRequiredMargin,i=e.power,r=e.maxOrderSize,o=e.minOrderSize,s=e.minOrderIncrement,a=e.precision,l=e.isFractionalAmountEnabled,u=e.isAmountWordUsed,d=this.control("errorMessage");if(d(""),n!==c&&t!==c){var p=n.requiredMarginInAccountCurrency,f=t*i/(p||1);f=l?f:Math.floor(f);var h=l?this.divisible(t,s,Math.pow(10,a+1)):this.divisible(t,s);t<o?d(__(u?"order.form.validation.quantity_too_small":"order.form.validation.amount_too_small",o)):h?p>=0&&(t>r?d(__(u?"order.form.validation.amount_too_big":"order.form.validation.quantity_too_big",r)):t>f&&d(__("state.machine.confirmation.deposit.suggest.link"))):d(__("order.form.validation.amount_step",s)),this.isInitialAmountValueChanged||d("hide-initial")}}})}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(5),s=n(213),a=n(8),l=n(66),c=n(26),u=n(6),d={silent:!0},p=n(98),f=p.EMPTY,h=p.UPDATE,m=p.SUCCESS,g=p.ERROR,v=p.PENDING,b=p.FOUND;p.NOT_FOUND;i.exports=s.extend({defaults:function(){return{rate:1,statusOfConversionRate:f,statusOfConversionSubscription:f}},initialize:function(){var e=this;s.prototype.initialize.apply(this,arguments);var t=r.throttle((function(t){return e.handleConversionRate(t)}),100);this.listenTo(o,"stream:type:CONVERSION_RATE",t),this.listenTo(this.instrumentDriver(),"change:statusOfInstrument",this.onStatusOfInstrument),this.onStatusOfInstrument()},value:function(){return this.get("rate")},onStatusOfInstrument:function(){var e=this.instrumentDriver();switch(this.statusOfInstrument()){case f:break;case b:var t=e.get("prevSymbol");t!==f&&this.unsubscribeConversion({symbol:t}),this.subscribeConversion()}},handleConversionRate:function(e){var t=this.control("statusOfConversionRate"),n=r.property([0,"value"])(e);t(0,0,d),t(h,{rate:n||1})},subscribeConversion:function(){var e=this.control("statusOfConversionSubscription"),t=this.instrument().getCurrency(),n=u.getUserCurrency(null);return e(v,{rate:1}),t===n&&this.handleConversionRate(),a.requestConversionSubscription(t,n,l.getAtmosphereId()).then((function(t){return e(m)})).catch((function(t){return e(g)}))},unsubscribeConversion:function(e){var t=e.symbol,n=c.getInstrumentBySymbol(t);if(n){var i=n.getCurrency(),r=u.getUserCurrency();a.requestConversionUnsubscription(i,r,l.getAtmosphereId()),this.set("statusOfConversionSubscription",f)}},destroy:function(){this.unsubscribeConversion({symbol:this.instrumentDriver().get("symbol")}),s.prototype.destroy.call(this)}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};void 0===(r=function(e,t,i){var r=n(1),s=n(5),a=n(213),l=n(8),c=n(66),u=(n(26),n(6)),d=n(32),p={silent:!0},f=n(98),h=f.EMPTY,m=(f.READY,f.NOT_READY,f.SUCCESS,f.ERROR,f.UPDATE),g=f.PENDING,v=(f.FOUND,f.NOT_FOUND,f.CALCULATED);i.exports=a.extend({defaults:function(){return{value:h,amount:h,instrument:h,statusOfRequiredMargin:h,requiredMarginFormat:""}},initialize:function(){var e=this;a.prototype.initialize.apply(this,arguments),this.throttleSubscribe=r.throttle((function(){return e.subscribe()}),500),this.listenTo(s,"stream:type:REQUIRED_MARGIN",this.handleRequiredMargin),this.listenTo(this,"change:statusOfRequiredMargin",this.onStatusOfRequiredMargin),this.listenTo(this.amount(),"change:statusOfAmount",this.onStatusOfAmount),this.listenTo(this.direction(),"change:value",this.throttleSubscribe),this.listenTo(this.type(),"change:value",this.throttleSubscribe),this.listenTo(this.get("order"),"entryStop:change:value",this.throttleSubscribe),this.listenTo(this.get("order"),"entryLimit:change:value",this.throttleSubscribe),this.listenTo(this.conversion(),"change:statusOfConversionRate",this.throttleSubscribe),this.requiredMarginPositionCandidateUpdateCache=""},value:function(){return this.get("value")},onStatusOfAmount:function(){switch(this.amount().get("statusOfAmount")){case h:break;case m:this.throttleSubscribe()}},onStatusOfRequiredMargin:function(){switch(this.get("statusOfRequiredMargin")){case h:break;case m:this.calc()}},subscribe:function(){var e=this.amount().value(),t=this.control("statusOfRequiredMargin"),n=this.conversion().get("statusOfConversionRate"),i=this.instrument(),r=this.getCommonData(),o=r.isEntry,s=r.entryPrice;if(e&&e!==h&&n!==h){var a={symbol:i.getSymbol(),quantity:e,side:String(this.direction().value()).toLocaleUpperCase(),conversionRate:this.conversion().value()};o&&(a.prospectivePrice=s);var u=JSON.stringify(a);if(this.requiredMarginPositionCandidateUpdateCache!==u)return this.requiredMarginPositionCandidateUpdateCache=u,t(g),l.requiredMarginPositionCandidateUpdate(c.getAtmosphereId(),a).catch((function(e){}))}},unsubscribe:function(e){l.unsubscribeRequiredMarginPositionCandidateUpdate(c.getAtmosphereId(),e),this.set("statusOfRequiredMargin",h)},destroy:function(){a.prototype.destroy.apply(this,arguments),this.unsubscribe(this.instrument().getSymbol())},handleRequiredMargin:function(e){var t=this.control("statusOfRequiredMargin"),n=r.findWhere(e,{instrumentSymbol:this.instrument().getSymbol(),positionCode:null});n&&(t(h,null,p),t(m,{value:o({},n)}))},calc:function(){var e=u.getUserCurrencySymbol(),t=this.instrument().getCurrencySymbol(),n=this.value();if(n!==h){var i=n.requiredMarginInInstrumentCurrency,r=n.requiredMarginInAccountCurrency,o=n.guaranteedStopLossAmount,s=function(e,t){return d(e).formatForeignCurrency(t,"$0,0.[00]")},a=s(r,e);r!==i&&(a=s(i,t)+" = "+s(r,e)),0===r&&0===i&&(a=""),this.set("requiredMarginFormat",a);var l=this.control("statusOfRequiredMargin");l(0,0,p),l(v,{calculated:{requiredMarginInInstrumentCurrency:i,requiredMarginInAccountCurrency:r,guaranteedStopLossAmount:o}})}},getTotal:function(){return(this.value()||{}).totalRequiredMargin},getFormat:function(){return this.get("requiredMarginFormat")}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(799);n(1);i.exports=r.extend({name:"limit",getLabel:function(){return this.isSell()?__("order.form.limit.label.sell"):__("order.form.limit.label.buy")},getLabelDescription:function(){return this.isSell()?__("help.order.entry_stop_sell"):__("help.order.entry_stop_buy")},getDefaultValue:function(){return this.getDefaultLimit()},getDefaultLimit:function(){var e=void 0,t=this.minOrderDistance(),n=this.getCommonData(),i=n.isBuy,r=n.currentPrice,o=n.currentOppositePrice,s=n.precision,a=n.pipsPrecisionSize;return i?(e=r-t)>o&&(e=Number(o-a).toFixed(s)):(e=r+t)<o&&(e=Number(o+a).toFixed(s)),Number(e).toFixed(s)},validate:function(){var e=this.getCommonData(),t=e.isBuy,n=e.isSell,i=e.precision,r=e.currentPrice,o=e.currentOppositePrice,s=e.pipsPrecisionSize,a=Number(this.value()),l=this.minOrderDistance(!0),c=0,u=this.control("errorMessage");u(""),t?(c=r-l)>o&&(c=Number(o-s).toFixed(i)):(c=r+l)<o&&(c=Number(o+s).toFixed(i)),a?(c=Number(c).toFixed(i),n&&a<c&&u(__("order.form.validation.trigger_price_higher",__("order.form.field.entry_limit"),c)),t&&a>c&&u(__("order.form.validation.trigger_price_lesser",__("order.form.field.entry_limit"),c))):u(__("order.form.validation.trigger_price_higher",__("order.form.field.entry_limit"),0))}})}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(799);n(1);i.exports=r.extend({name:"stop",getLabel:function(){return this.isSell()?__("order.form.stop.label.sell"):__("order.form.stop.label.buy")},getLabelDescription:function(){return this.isSell()?__("help.order.entry_limit_sell"):__("help.order.entry_limit_buy")},getDefaultValue:function(){return this.getDefaultStop()},getDefaultStop:function(){var e=void 0,t=this.minOrderDistance(),n=this.getCommonData(),i=n.isBuy,r=n.currentPrice,o=n.currentOppositePrice,s=n.precision,a=n.pipsPrecisionSize;return i?(e=r+t)<o&&(e=Number(o+a).toFixed(s)):(e=r-t)>o&&(e=Number(o-a).toFixed(s)),Number(Number(e).toFixed(s))},validate:function(){var e=this.getCommonData(),t=e.isBuy,n=e.isSell,i=e.precision,r=e.currentPrice,o=Number(this.get("value")),s=this.minOrderDistance(!0),a=Number(n?r-s:r+s).toFixed(i),l=this.control("errorMessage");l(""),o?(n&&o>a&&l(__("order.form.validation.trigger_price_lesser",__("order.form.field.entry_stop"),a)),t&&o<a&&l(__("order.form.validation.trigger_price_higher",__("order.form.field.entry_stop"),a))):l(__("order.form.validation.trigger_price_higher",__("order.form.field.entry_stop"),0))}})}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(800),s=(n(9),r.isUndefined,n(98)),a=s.EMPTY,l=(s.UPDATE,s.FOUND,s.NOT_FOUND,s.DISABLED,{silent:!0});i.exports=o.extend({defaults:function(){return{takeProfitPrice:a,money:a,percent:a,pips:a,status:a,autoPrice:!0,autoMoney:!0,autoPercent:!0,autoPips:!0,errorMessage:""}},initialize:function(){o.prototype.initialize.apply(this,arguments);var e=this.get("takeProfitPrice");e!==a&&(this.set({isEnabled:!0},l),this.setPrice(e))},value:function(){return this.get("takeProfitPrice")},getMoney:function(e){var t=this.value(),n=this.getCommonData(),i=n.isBuy,r=n.amount,o=n.price,s=n.conversionRate,l=n.isTypeSpreadBetting,c=n.pipsPrecisionSize;if(r===a||t===a)return a;t=Number(e)||Number(t);var u=Math.abs(t-o)*r*s;return u=(i?t-o:o-t)<0?0:u,l&&(u/=c),Number(u).toFixed(2)},getDefaultPrice:function(){var e=void 0,t=this.minOrderDistance(),n=this.get("pips"),i=this.get("autoPips"),r=this.getCommonData(),o=r.isBuy,s=r.isEntry,l=r.price,c=r.currentPrice,u=r.currentOppositePrice,d=r.precision,p=r.pipsPrecisionSize;return o?(e=c+t)<u&&(e=Number(u+p).toFixed(d)):(e=c-t)>u&&(e=Number(u-p).toFixed(d)),s&&(e=o?l+t:l-t),i||n===a||(e=o?e+Number(n):e-Number(n)),Number(e).toFixed(d)},setDefaultPrice:function(e,t){this.set({takeProfitPrice:e},l),this.set({money:this.getMoney(e)},l),this.set({percent:this.getPercent()},l),this.set({pips:this.getPips(e)},l),!t&&this.update()},setPrice:function(e,t){this.set({autoPrice:!1},l),this.setDefaultPrice(e,t),!t&&this.update()},setMoney:function(e,t){var n=this.getCommonData(),i=n.isBuy,r=n.price,o=n.conversionRate,s=n.amount,a=n.isTypeSpreadBetting,c=n.pipsPrecisionSize,u=Number(e);a&&(u*=c);var d=i?r+u/(s*o):r-u/(s*o);this.set({autoMoney:!1},l),this.set({money:e},l),this.set({percent:this.getPercent()},l),this.set({takeProfitPrice:d},l),this.set({pips:this.getPips(d)},l),!t&&this.update()},setPercent:function(e,t){var n=this.getCommonData(),i=n.isBuy,r=n.conversionRate,o=n.price,s=n.amount,a=n.calculatedRequiredMarginInAccountCurrency,c=n.isTypeSpreadBetting,u=n.pipsPrecisionSize,d=Number(e)/100*a/(s*r);c&&(d*=u);var p=i?o+d:o-d;this.set({autoPercent:!1},l),this.set({percent:e},l),this.set({takeProfitPrice:p},l),this.set({money:this.getMoney(p)},l),this.set({pips:this.getPips(p)},l),!t&&this.update()},setPips:function(e,t){var n=this.getCommonData(),i=n.isBuy,r=n.price,o=n.pipsPrecisionSize,s=Number(e)*o,a=i?r+s:r-s;this.set({takeProfitPrice:a},l),this.set({autoPips:!1},l),this.set({money:this.getMoney(a)},l),this.set({percent:this.getPercent()},l),this.set({pips:e},l),!t&&this.update()},validate:function(){var e=this.getCommonData(),t=e.isSell,n=e.isBuy,i=e.isEntry,r=e.entryPrice,o=e.precision,s=this.getValidationValueForProfit(),a=this.getPrice(),l=this.minOrderDistance(!0),c=this.control("errorMessage");c(""),i&&(s=t?r-l:r+l),a?(t&&a>s&&c(__("order.form.validation.take_profit_pips_lesser",Number(s).toFixed(o))),n&&a<s&&c(__("order.form.validation.take_profit_pips_higher",Number(s).toFixed(o)))):c(__("order.form.validation.take_profit_pips_higher",0))},getValidationValueForProfit:function(){var e=this.getCommonData(),t=e.precision,n=e.isBuy,i=e.currentPrice,r=e.currentOppositePrice,o=e.pipsPrecisionSize,s=this.minAllowedOrderDistance(),a=void 0,l=void 0;return n?(a=Number((i+s).toFixed(t)))>=(l=Number((r+o).toFixed(t)))?a:l:(a=Number((i-s).toFixed(t)))<=(l=Number((r-o).toFixed(t)))?a:l}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){var i;void 0===(i=function(e,t,i){n(1);var r=n(801);n(9),n(6);i.exports=r.extend({validate:function(){var e=this.getCommonData(),t=e.isSell,n=e.amount,i=e.currentPrice,r=e.precision,o=e.conversionRate,s=e.isEntry,a=e.entryPrice,l=e.guaranteedStopLossAmount,c=this.getValidationValueForLoss(),u=void 0,d=void 0,p=this.getPrice(),f=this.minOrderDistance(!0),h=this.get("position"),m=this.control("errorMessage");if(m(""),s)d=a,u=this.getClosePrice(d),c=t?a+f:a-f;else if(h){var g=h.get("dividends")||0,v=h.get("financing")||0,b=h.get("rollover")||0,_=this.isBuy()?-1:1;u=(d=h.get("costBasis"))+_*((l+g+v+b)/(n*o))}else d=i,u=this.getClosePrice(d);p&&(t?p<c?m(__("order.form.validation.stop_loss_pips_higher",Number(c).toFixed(r))):p>u&&m(__("order.form.validation.stop_loss_pips_lesser",Number(u).toFixed(r))):p>c?m(__("order.form.validation.stop_loss_pips_lesser",Number(c).toFixed(r))):p<u&&m(__("order.form.validation.stop_loss_pips_higher",Number(u).toFixed(r))))}})}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(213),s=n(32),a=n(6),l={silent:!0},c=n(98),u=c.EMPTY,d=c.UPDATE,p=c.CALCULATED;i.exports=o.extend({defaults:function(){return{value:"",format:"",statusOfGSL:u}},initialize:function(){o.prototype.initialize.apply(this,arguments),this.listenTo(this.requiredMargin(),"change:statusOfRequiredMargin",this.onStatusOfRequiredMargin),this.update()},destroy:function(){this.stopListening(this.requiredMargin()),o.prototype.destroy.apply(this,arguments)},onStatusOfRequiredMargin:function(){switch(this.requiredMargin().get("statusOfRequiredMargin")){case p:this.update()}},isEnabled:function(){return a.isGuaranteedStopLossEnabled()},update:function(){var e=this.getCommonData(),t=e.currency,n=e.guaranteedStopLossAmount,i=this.control("statusOfGSL");i(0,{value:0,format:""},l),i(d,{value:r.isNaN(n)?"":n,format:r.isNaN(n)?"":s(n).formatForeignCurrency(t,"$0,0.[00]")})}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){var i;void 0===(i=function(e,t,i){i.exports={SimpleChartView:n(1629),SimpleChartModel:n(1632),ChartFeedSubscription:n(802),ChartFeedConverter:n(803)}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(20),s=r.template(n(1630)),a=n(962),l=n(86);n(12);n(1631)(a);var c=n(581),u=c.PENDING,d=(c.UPDATED,c.PENDING_BEGIN),p=c.PENDING_END,f=c.CONVERTER_CHANGED,h=c.NEW_FEED,m=c.UPDATE_FEED,g=c.UPDATE_ALL_FEED;i.exports=o.extend({initialize:function(){var e=this;o.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:status",this.onChange),this.oldResizeHandler=window.onresize,window.onresize=r.debounce((function(){return e.resize()}),100)},render:function(){return o.prototype.render.call(this),this.$el.html(s()),this.$currentPrice=this.$(".simple-chart__current-price"),this.$currentRate=this.$(".current-price__rate"),this.$currentValue=this.$(".current-price__value"),this.onChange(),this},onChange:function(){var e=this,t=this.model;switch(t.get("status")){case u:break;case d:this.removeChart(),this.addChildView(".simple-chart",l),this.$currentPrice.addClass("hidden");break;case p:this.removeChildView(".simple-chart"),this.renderChart(t.getAllFeed()),this.$currentPrice.removeClass("hidden");break;case f:break;case h:var n=t.getNewFeed();r.each(n,(function(t){return e.highstock.series[0].addPoint(t)}));break;case m:var i=t.getUpdatedFeed(),o=r.first(i),s=this.highstock.series[0],a=r.last(s.points);a&&!a.dataGroup&&a.update(o,!0,!0);break;case g:this.highstock.series[0].setData(t.getAllFeed())}},renderChart:function(e){var t=this.model,n=this.$currentPrice,i=this.$currentRate,r=this.$currentValue;this.highstock=new a.stockChart({chart:{renderTo:this.$(".simple-chart__block")[0],height:"174px",marginLeft:0,animation:!1,backgroundColor:"rgba(255, 255, 255, 0.0)"},credits:{enabled:!1},rangeSelector:{enabled:!1,allButtonsEnabled:!1,inputEnabled:!1,buttonTheme:{visibility:"hidden"},labelStyle:{visibility:"hidden"}},tooltip:{enabled:!1,headerFormat:"",pointFormat:"<b>{point.y}</b>"},scrollbar:{enabled:!1},legend:{rtl:!1},navigator:{enabled:!1},exporting:{enabled:!1},xAxis:{type:"datetime",minorTickInterval:10,startOnTick:!0,endOnTick:!0},yAxis:{crosshair:!1,tickPixelInterval:10,startOnTick:!0,endOnTick:!0,labels:{align:"left",x:7,y:5,padding:0,formatter:function(){return this.value.toFixed(t.get("precision"))}},currentPriceIndicator:{enabled:!0,offset:{x:5,y:0},events:{update:function(e){var o=e.isVisible,s=e.width,a=(e.height,e.x),l=e.y,c=e.value;o&&n.hasClass("hidden")&&n.removeClass("hidden"),o||n.hasClass("hidden")||n.addClass("hidden"),n.css({top:l+"px"}),i.css({left:a+"px",width:s-10+"px"}),r.html(Number(c).toFixed(t.get("precision")))}}}},plotOptions:{line:{animation:!1},series:{dataGrouping:{enabled:!1},cropThreshold:50,animation:!1,color:"#3a68ae",enableMouseTracking:!1}},series:[{series:{showInNavigator:!1},type:t.get("type"),name:"",data:e,animation:!1,marker:{enabled:!1,radius:3},shadow:!1}]})},removeChart:function(){this.highstock&&(this.highstock.destroy(),this.highstock=null)},destroy:function(){window.resize=this.oldResizeHandler,this.removeChart(),o.prototype.destroy.call(this)},resize:function(){this.removeChart(),this.renderChart(this.model.getAllFeed())}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t){e.exports='<div class=simple-chart> <div class="current-price simple-chart__current-price hidden"> <div class=current-price__line></div> <div class=current-price__rate> <div class=current-price__value></div> </div> </div> <div class=simple-chart__block></div> </div>'},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1);i.exports=function(e){"use strict";var t=e.merge;function n(e){var n=e.yAxis[0],i=e.series[0].yData;if(i){var o=i[i.length-1];o=r.isArray(o)?r.last(o):o;var s=n.getExtremes(),a=s.min,l=s.max,c=e.options.yAxis[0].currentPriceIndicator,u=e.chartWidth;c=t(!0,{enabled:!1,offset:{x:0,y:0},events:{update:function(){}}},c);var d=u-n.width,p=u-d,f=n.toPixels(o);p+=c.offset.x,f+=c.offset.y,c.enabled&&c.events.update({isVisible:o>=a&&o<=l,x:p,y:f,width:d,value:o})}}e.wrap(e.Chart.prototype,"init",(function(e){e.apply(this,Array.prototype.slice.call(arguments,1)),n(this)})),e.wrap(e.Chart.prototype,"redraw",(function(e){e.apply(this,Array.prototype.slice.call(arguments,1)),n(this)}))}}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){var i;void 0===(i=function(e,t,i){n(1);var r=n(43),o=n(802),s={silent:!0},a=n(581);a.PENDING,a.PENDING_BEGIN,a.PENDING_END;i.exports=r.extend({defaults:function(){return{type:"line",symbol:"",status:"",precision:0}},initialize:function(){this.subscription=new o({defaultConverter:this.get("type")}),this.listenTo(this.subscription,"change:status",this.onStatusOfSubscription),this.changeInstrument(this.get("symbol"))},onStatusOfSubscription:function(){var e=this.control("status");e(0,0,s),e(this.subscription.get("status"))},changeInstrument:function(e){this.subscription.remove(),this.subscription.add(e),this.set({symbol:e,precision:0},s)},getAllFeed:function(){return this.subscription.getAllFeed()},getNewFeed:function(){return this.subscription.getNewFeed()},getUpdatedFeed:function(){return this.subscription.getUpdatedFeed()},destroy:function(){this.subscription.destroy(),r.prototype.destroy.call(this)}})}.call(t,n,t,e))||(e.exports=i)},function(e,t){e.exports='<div class=new-order__body> <div class=new-order__content> <div class="grid-12 new-order__content-grid"> <div class="col-12 grid visible-xs"> <div class="col-12 new-order__block order-edit__base-info hidden"> <div class=grid> <div class=col-5><b class="instrument-symbol large"></b></div> <div class=col-7> <div class=grid-12-equalHeight> <div class="col-5 flex flex-align-end"><%=__(\'actions.sell\')%>: <span class="new-order__sell-rate-value change"></span></div> <div class=col-2></div> <div class="col-5 flex flex-align-end"><%=__(\'actions.buy\')%>: <span class="new-order__buy-rate-value change"></span></div> </div> </div> <div class="col-12 order-time-block small"><span class=order-time-label></span> <span class=order-time></span></div> <div class="col-12 order-time-block small"><%=__(\'position.form.code\')%>: <span class=order-id></span></div> </div> </div> <div class="col-12 new-order__rates-block new-order__block"> <div class=grid-12-equalHeight> <div class=col-6> <div><%=__(\'actions.sell\')%> <span class="new-order__sell-rate-value change"></span></div> </div> <div class=col-6> <div><%=__(\'actions.buy\')%> <span class="new-order__buy-rate-value change"></span></div> </div> </div> </div> <div class="col-12 new-order__sentiment-block new-order__block hidden"> <p><b><%=__(\'indigo.sentiment.title\')%></b></p> <div class=sentiment> <div class=sellers><span class=new-order__sentiment-sellers-value></span>% <%=__(\'actions.sold\')%></div> <div class=bar> <i></i> <b></b> </div> <div class=buyers><span class=new-order__sentiment-buyers-value></span>% <%=__(\'actions.bought\')%></div> </div> </div> </div> <div class="col-6_xs-12_sm-12 new-order__input-area"> <div class=grid-12> <div class="col-12 new-order__base-area"> <div class=grid-equalHeight> <div class="col-12 hidden-xs new-order__search-block"></div> <div class="col-6_xs-12_sm-12 new-order__type-block"> <div class=grid-equalHeight-middle> <div class="col-10 new-order__field-name new-order__field-name--padded"><%=__(\'order.form.type\')%></div> <div class="col-2 new-order__field-name--padded"><div class="flex flex-align-end"><i class="icon icon-help" aria-label="<%=__(\'help.order.type\')%>"></i></div></div> <div class="col-12 new-order__control new-order__type-control form"></div> </div> </div> <div class="col-6_xs-12_sm-12 hidden-xs new-order__direction-block"> <div class=grid-equalHeight-middle> <div class="col-10 new-order__field-name new-order__field-name--padded"><%=__(\'order.form.direction\')%></div> <div class="col-2 new-order__field-name--padded"><div class="flex flex-align-end"><i class="icon icon-help col-middle" aria-label="<%=__(\'help.order.side\')%>"></i></div></div> <div class="col-12 new-order__control new-order__direction-control form"></div> </div> </div> <div class="col-12 visible-xs new-order__direction-dropdown-block"> <div class=grid-equalHeight-middle> <div class="col-10 new-order__field-name new-order__field-name--padded"><%=__(\'order.form.direction\')%></div> <div class="col-2 new-order__field-name--padded"><div class="flex flex-align-end"><i class="icon icon-help col-middle" aria-label="<%=__(\'help.order.side\')%>"></i></div></div> <div class="col-12 new-order__control new-order__direction-dropdown-control form"></div> </div> </div> <div class="col-6 new-order__amount-block"> <div class=grid-equalHeight-middle> <div class="col-10_sm-12 new-order__field-name new-order__field-name--padded"> <div class=new-order__amount-label><%=fullAmountLabel%></div> </div> <div class="col-2 hidden-xs new-order__field-name--padded"> <div class="flex flex-align-end"> <i class="icon icon-help col-middle" aria-label="<%=__(\'help.order.amount\' + (isSpreadBetting ? \'_sb\' : \'\'))%>"></i> </div> </div> <div class="col-12 new-order__control new-order__amount-control form"></div> </div> </div> <div class="col-6 new-order__required-margin new-order__require-margin-block"> <div class=grid-equalHeight-middle> <div class=col-12_sm-10><div class=new-order__field-name--padded>&nbsp;</div></div> <div class="col-2 visible-xs new-order__field-name--padded"> <div class="flex flex-align-end"> <i class="icon icon-help col-middle" aria-label="<%=__(\'help.order.amount\' + (isSpreadBetting ? \'_sb\' : \'\'))%>"></i> </div> </div> <div class="col-12 new-order__control new-order__require-margin-control"> <div class=new-order__require-margin-info><%=__(\'order.form.required_margin\')%> <br/> <div class=new-order__require-margin-value></div></div> </div> </div> </div> <div class="col-12 new-order__field-container_error new-order__field-error-amount error"></div> <div class="col-12 new-order__field-container_info new-order__field-info-amount-tiered-margin info hidden"> <div class=grid-12> <%=__(\'order.form.tiered_margin.reached\')%> </div> </div> <div class="col-12 new-order__entry-form"></div> <div class="col-12 new-order__gsl hidden"> <div class=grid-12> <div class=col-11><%=__(\'order.form.guaranteed_stop_loss\')%>: <span class=new-order__gsl-value></span></div> <div class=col-1><div class="flex flex-align-end"><i class="icon icon-help" aria-label="<%=__(\'help.guaranteed_stop_loss\')%>"></i></div></div> </div> </div> <div class="col-12 new-order__expiration hidden"> <div class=grid-12> <div class="col-11 new-order__expiration-text"></div> <div class=col-1><div class="flex flex-align-end"><i class="icon icon-help" aria-label="<%=__(\'help.order.expiration\')%>"></i></div></div> </div> </div> </div> </div> <div class="col-12 hidden-xs"><div class=new-order__horz-splitter></div></div> <div class="col-12 new-order__secondary-area"> <div class=grid-12-equalHeight-middle> <div class="col-5 new-order__sl-checkbox-control"></div> <div class="col-1 flex flex-align-center"></div> <div class="col-5 flex flex-align-end new-order__tp-checkbox-control"></div> <div class=col-1><div class="flex flex-align-end"><i class="icon icon-help" aria-label="<b><%=__(\'order.form.take_profit\')%></b> <%=__(\'help.order.take_profit\')%> <br/><br/><b><%=__(\'order.form.stop_loss\')%></b> <%=__(\'help.order.take_profit\')%>"></i></div></div> <div class="col-4 new-order__sl-price-control form"></div> <div class="col-3 flex flex-align-center new-order__field-name"><%=__(\'order.rate\')%></div> <div class="col-4 flex flex-align-end new-order__tp-price-control form"></div> <div class=col-1><div class="flex flex-align-end"><i class="icon icon-help" aria-label="<%=__(\'help.order.price\')%>"></i></div></div> <div class="col-4 new-order__sl-money-control form"></div> <div class="col-3 flex flex-align-center new-order__field-name new-order__field-money-title"></div> <div class="col-4 flex flex-align-end new-order__tp-money-control form"></div> <div class=col-1><div class="flex flex-align-end"><i class="icon icon-help" aria-label="<%=__(\'help.order.money\')%>"></i></div></div> <div class="col-4 new-order__sl-percent-control form"></div> <div class="col-3 flex flex-align-center new-order__field-name">%</div> <div class="col-4 flex flex-align-end new-order__tp-percent-control form"></div> <div class=col-1><div class="flex flex-align-end"><i class="icon icon-help" aria-label="<%=__(\'help.order.percent\')%>"></i></div></div> <div class="col-4 new-order__sl-pips-control form"></div> <div class="col-3 flex flex-align-center new-order__field-name"><%=__(\'order.method.PIPS\')%></div> <div class="col-4 flex flex-align-end new-order__tp-pips-control form"></div> <div class=col-1><div class="flex flex-align-end"><i class="icon icon-help" aria-label="<%=__(\'help.order.pips\')%>"></i></div></div> <div class=col-12> <div> <div class="new-order__field-container_error new-order__sl-error-message error"></div> <div class="new-order__field-container_error new-order__tp-error-message error"></div> </div> </div> </div> </div> </div> </div> <div class="col-6_xs-12_sm-12 hidden-xs new-order__info-area"> <div class=grid> <div class=col-5> <div> <%=__(\'actions.sell\')%>: <span class="new-order__sell-rate-value change"></span> </div> </div> <div class=col-5> <div> <%=__(\'actions.buy\')%>: <span class="new-order__buy-rate-value change"></span> </div> </div> <div class="col-2 flex-align-center"> <div class="rate-box flex flex-align-end"> <div class="new-order__change-block percent up"> <span></span> <i class=arrow></i> </div> </div> </div> <div class="col-12 new-order__chart-area"></div> <div class="col-12 new-order__basket-block"></div> <div class="col-12 new-order__instrument-info"> </div> <div class="col-12 new-order__horz-splitter_info-block hidden"><div class="new-order__horz-splitter new-order__horz-splitter_info"></div></div> <div class="col-12 new-order__sentiment-block hidden"> <p><%=__(\'indigo.sentiment.title\')%></p> <div class=sentiment> <div class=sellers><span class=new-order__sentiment-sellers-value></span>% <%=__(\'actions.sold\')%></div> <div class=bar> <i></i> <b></b> </div> <div class=buyers><span class=new-order__sentiment-buyers-value></span>% <%=__(\'actions.bought\')%></div> </div> </div> </div> </div> </div> </div> </div> <div class="new-order__footer popup-header-bg-style-grey"> <div class="new-order__trading-outside-of-trading-hours hidden"> <%= __(\'order.form.send_order.trading.outside_of_trading_hours\') %> </div> <div class="new-order__danger-info new-order__danger-info-mobile hidden"></div> <div class=visible-xs> <div class=new-order__chart-expander> <i class="expand icon-double-arrow-up"></i> <span><%=__(\'indigo.chart.expand_chart\')%></span> </div> <div class="new-order__mobile-chart-area hidden"></div> </div> <div class=new-order__actions> <div class=visible-xs> <div class=grid-12> <div class=col-6> <button class="btn btn-secondary action__cancel action__submit_fluid fn-close-popup no-action action_height_big"><%=__(\'order.form.cancel\')%></button> </div> <div class=col-6> <button disabled=disabled class="btn btn-primary action__submit action__submit_fluid action_height_big"><%=submitButtonText%></button> </div> </div> </div> <div class=hidden-xs> <div class=grid-middle> <div class="col-7 action"> <button disabled=disabled class="btn btn-primary action__submit"><%=submitButtonText%></button> <a href=# class="fn-close-popup action__cancel no-action"><%=__(\'order.form.cancel\')%></a> </div> <% if (settings.isLiveChatEnabled()) { %> <div class="col-5 new-order__action-help"> <%=__(\'help.need_help\')%> <a href=# class=fn-help-live-chat-link> <span><%=__(\'help.right_here\')%></span> </a> </div> <% } %> </div> </div> </div> <div class="new-order__danger-info hidden hidden-xs"></div> </div> '},function(e,t){e.exports='<div class=new-order-interactive__body> <div class=new-order-interactive__content> <div class="grid-12 new-order-interactive__content-grid"> <div class="col-12 new-order-interactive__input-area"> <div class=grid-12> <div class="col-12 new-order-interactive__base-area"> <div class=grid-equalHeight> <div class="col-12 new-order-interactive__search-block"></div> <div class="col-6_xs-12_sm-12 new-order-interactive__type-block"> <div class=grid-equalHeight-middle> <div class="col-10 new-order-interactive__field-name new-order-interactive__field-name--padded"><%=__(\'order.form.type\')%></div> <div class="col-2 new-order__field-name--padded"><div class="flex flex-align-end"><i class="icon icon-help" aria-label="<%=__(\'help.order.type\')%>"></i></div></div> <div class="col-12 new-order-interactive__control new-order-interactive__type-control form"></div> </div> </div> <div class="col-6_xs-12_sm-12 new-order-interactive__direction-block"> <div class=grid-equalHeight-middle> <div class="col-10 new-order-interactive__field-name new-order-interactive__field-name--padded"><%=__(\'order.form.direction\')%></div> <div class="col-2 new-order__field-name--padded"><div class="flex flex-align-end"><i class="icon icon-help col-middle" aria-label="<%=__(\'help.order.side\')%>"></i></div></div> <div class="col-12 new-order-interactive__control new-order-interactive__direction-control form"></div> </div> </div> <div class="col-6 new-order-interactive__amount-block"> <div class=grid-equalHeight-middle> <div class="col-10_sm-12 new-order-interactive__field-name new-order-interactive__field-name--padded"><div class=new-order-interactive__amount-label><%=fullAmountLabel%></div></div> <div class="col-2 hidden-xs new-order__field-name--padded"> <div class="flex flex-align-end"> <i class="icon icon-help col-middle" aria-label="<%=__(\'help.order.amount\' + (isSpreadBetting ? \'_sb\' : \'\'))%>"></i> </div> </div> <div class="col-12 new-order-interactive__control new-order-interactive__amount-control form"></div> </div> </div> <div class="col-6 new-order-interactive__required-margin new-order-interactive__require-margin-block grid-equalHeight-bottom"> <div class="col-12 new-order-interactive__entry-form"></div> </div> <div class="col-12 new-order-interactive__control new-order-interactive__require-margin-control"> <div class=new-order-interactive__require-margin-info><%=__(\'order.form.required_margin\')%> <br/> <div class=new-order-interactive__require-margin-value></div></div> </div> <div class="col-12 new-order-interactive__field-container_error new-order-interactive__field-error-amount error"></div> <div class="col-12 new-order-interactive__field-container_info new-order-interactive__field-info-amount-tiered-margin info hidden"> <div class=grid-12> <%=__(\'order.form.tiered_margin.reached\')%> </div> </div> <div class="col-12 new-order-interactive__gsl hidden"> <div class=grid-12> <div class=col-11><%=__(\'order.form.guaranteed_stop_loss\')%>: <span class=new-order-interactive__gsl-value></span></div> <div class=col-1><div class="flex flex-align-end"><i class="icon icon-help" aria-label="<%=__(\'help.guaranteed_stop_loss\')%>"></i></div></div> </div> </div> <div class="col-12 new-order-interactive__expiration hidden"> <div class=grid-12> <div class="col-11 new-order-interactive__expiration-text"></div> </div> </div> </div> </div> <div class=col-12><div class=new-order-interactive__horz-splitter></div></div> <div class="col-12 new-order-interactive__secondary-area"> <div class=grid-12-equalHeight-middle> <div class="col-5 new-order-interactive__sl-checkbox-control"></div> <div class="col-2 flex flex-align-center"></div> <div class="col-5 flex flex-align-end new-order-interactive__tp-checkbox-control"></div> <div class="col-4 new-order-interactive__sl-price-control form"></div> <div class="col-2 flex flex-align-center new-order-interactive__field-name"><%=__(\'order.rate\')%></div> <div class="col-4 flex flex-align-end new-order-interactive__tp-price-control form"></div> <div class=col-12> <div> <div class="new-order-interactive__field-container_error new-order-interactive__sl-error-message error"></div> <div class="new-order-interactive__field-container_error new-order-interactive__tp-error-message error"></div> </div> </div> </div> </div> </div> </div> </div> </div> <div class="new-order-interactive__footer popup-header-bg-style-grey"> <div class="new-order-interactive__trading-outside-of-trading-hours hidden"> <%= __(\'order.form.send_order.trading.outside_of_trading_hours\') %> </div> <div class=new-order-interactive__actions> <div> <div class=grid-middle> <div class="col-12 action"> <button disabled=disabled class="btn btn-primary action__submit"><%=submitButtonText%></button> </div> </div> </div> </div> <div class="new-order-interactive__danger-info hidden"></div> </div> </div> '},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(33).default,s=n(26),a=n(582),l=a.BUY,c=a.TYPE_LIMIT,u=a.TYPE_STOP;function d(e){return e=o.mobile()?e.slidebox:e.popup,new(n(1636))(e)}function p(e){return!!r.isNumber(e)||!!r.isBoolean(e)&&e}i.exports.createNewPositionPopup=function(e){var t=s.getInstrumentById(e.symbolOrId);if(t=t||s.getInstrumentBySymbol(e.symbolOrId)){var i=n(1643),r=e.direction===l,o=new i({instrumentModel:t,side:e.direction,direction:e.direction,amount:e.quantity,type:e.type,isTakeProfitEnabled:p(e.tp),takeProfit:e.tp,isStopLossEnabled:p(e.sl),stopLoss:e.sl,entryStop:e.type===u?e.entry:null,entryLimit:e.type===c?e.entry:null});return new d({popup:{parent:document.body,instrumentModel:t,isBuying:r,side:e.direction,model:o,source:e.source},slidebox:{caption:e.direction,previousCaption:__("actions.back"),instrumentModel:t,isBuying:r,side:e.direction,model:o,source:e.source}})}}}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var o=n(1),s=n(33).default,a=n(136),l=n(804),c=n(169),u=n(5),d=n(0),p=n(22),f=n(8),h=n(66),m=n(305).Basket,g=n(6),v=n(26),b=n(518),_=n(341),y=n(420),E=n(212),S=n(32),C=n(9),w=n(528),O=n(409),T=n(1638),P=n(114),k=o.template(n(1639)),I=o.template(n(1640)),A=s.mobile()?k:I,x=s.mobile()?l:a,N=n(473).default,D=n(245).SWITCH_MODE_DROPDOWN,R=n(582),L=R.IN_PROCESS,M=R.SUBMIT,j=R.EMPTY,F=R.TYPE_MARKET,B=R.TYPE_LIMIT,U=R.TYPE_STOP,V=n(61).OPEN_POSITION_OPTIONS,z=n(644).notifyMarginLevel,q=n(237),H=x.extend({events:function(){return o.extend({},{"click .fn-submit":"submitOrder","click .fn-blackout-gsl":"blackoutGsl","click .fn-more":"notifyMarginLevel","click .field-tooltip .content .fn-deposit":"onDeposit","click .fn-settings":"openSettings"},o.result(x.prototype,"events"))},onDeposit:function(e){u.trigger("flow:deposit:RealDepositItemMainMenu"),this.close()},initialize:function(e){var t=this;x.prototype.initialize.apply(this,arguments),this.isBuying=e.isBuying,this.source=e.source,this.isAmountChanged=!1,this.listenTo(this.model,"change:rate change:rateDirection",this.onRateDirectionChanged),Promise.all([this.sendSubscribeToConversion(this.model.getInstrumentModel().getCurrency(),g.getUserCurrency()),this.loadModelExtraData()]).catch(function(e){var t=this;y((function(){return t.close()}))}.bind(this)),this.render(),this.initForm(),this.hideRequiredMarginBlockForAmount(),this.hideProfitForTakeProfit(),this.hideLossForStopLoss(),this.hideGslForEntryStop(),this.hideGslForEntryLimit(),this.getBasket(),this.keyboardEvents=q({escape:function(){return t.close()},enter:function(){return t.submitOrder()}},this),this.listenTo(this.model,"change:statusOfSubmit",this.onSubmitStatus),this.$buyButton=this.$el.find(".info-prices-block .buy .price")[0],this.$sellButton=this.$el.find(".info-prices-block .sell .price")[0],this.initBuyAndSell(),this.initSettings(),this.updateForTradeOutsideOfTradingHours()},updateForTradeOutsideOfTradingHours:function(){(this.updateInstrumentTradableStatus(),this.openFromSwitchModeDropdown())||this.model.getInstrument().status.canTradeOutsideOfTradingHours()&&(this.model.setType(U),this.updateInstrumentTradable())},openFromSwitchModeDropdown:function(){return this.source===D},initForm:function(){var e=this;this.form=new c({el:this.$el.find(".form")}),this.listenTo(this.model,"change:requiredMarginInAccountCurrency change:requiredMarginInInstrumentCurrency change:conversionRate change:totalRequiredMargin",this.fillRequiredMarginForAmount),this.listenTo(this.model,"change:guaranteedStopLossAmount",this.fillGuaranteedStopLoss),this.listenToOnce(this.model,"change:amount change:requiredMarginInAccountCurrency change:requiredMarginInInstrumentCurrency change:totalRequiredMargin",o.after(3,this.readyForAmountField.bind(this))),this.listenTo(this.model,"change:rate change:conversionRate",this.onUpdateProfitAndLoss),this.listenTo(this.model,"change:profitForTakeProfit",this.fillProfitForTakeProfit),this.listenTo(this.model,"change:lossForStopLoss",this.fillLossForStopLoss),this.listenTo(this.model,"change:entryLimitError",this.onEntryLimitError),this.listenTo(this.model,"change:entryStopError",this.onEntryStopError),this.listenTo(this.model,"change:amount change:requiredMarginInInstrumentCurrency",this.isSubmitButtonAvailable),this.listenTo(this.model,"change:amount",this.onUpdateMessage),this.listenTo(this.model,"change:instrumentMarginRate",this.onUpdateInstrumentMarginingSettings),this.listenTo(this.model,"change:instrumentTradingCalendarsSettings",this.onUpdateInstrumentTradingCalendarsSettings),this.listenToOnce(this.model,"request:loadExtraData:error",this.onLoadExtraDataError),this.listenTo(this.model.getInstrument(),"change:allowOrdersOutsideOfTradingHours",this.updateInstrumentTradable),this.listenTo(this.model.getInstrument(),"change:buyTradable",this.isSubmitButtonAvailable),this.listenTo(this.model.getInstrument(),"change:sellTradable",this.isSubmitButtonAvailable),this.listenTo(this.model.getInstrument(),"change:tieredMarginApplied",this.showTieredMargin),this.listenTo(this.form,"field:change:amount",this.onAmountChange),this.listenTo(this.form,"field:change:take-profit-checkbox",this.onTakeProfitCheckbox),this.listenTo(this.form,"field:change:take-profit",this.onTakeProfitChange),this.listenTo(this.form,"field:focus:take-profit",this.onTakeProfitFocus),this.listenTo(this.form,"field:change:close-at-loss-checkbox",this.onCloseAtLossCheckbox),this.listenTo(this.form,"field:change:close-at-loss",this.onCloseAtLossChange),this.listenTo(this.form,"field:focus:close-at-loss",this.onCloseAtLossFocus),this.listenTo(this.form,"field:change:entry-stop-checkbox",this.entryStopCheckboxChange),this.listenTo(this.form,"field:change:entry-stop",this.onEntryStopChange),this.listenTo(this.form,"field:change:entry-limit-checkbox",this.entryLimitCheckboxChange),this.listenTo(this.form,"field:change:entry-limit",this.onEntryLimitChange),this.listenTo(this.form,"field:change:entry-stop-checkbox",this.onEntryLimitAndStopCheckboxesChanged),this.listenTo(this.form,"field:change:entry-limit-checkbox",this.onEntryLimitAndStopCheckboxesChanged),this.listenTo(this.form,"field:change:advanced",this.onAdvancedChanged),this.listenTo(this.form,"cancel",this.onCancel);var t=this.model,n=t.getInstrumentModel(),i=n.getPipsPrecisionSize(),r=n.getMinOrderSize(),s=n.getMaxOrderSize(),a=n.getMinOrderIncrement(),l=n.getPrecision(),u=n.getPrecisionAsFloat(),d=t.getErrorDivisible(a),p=this.form.field("amount"),f={min_with_default_value:[r,t.getErrorsForAmount(r)],divisible:[a,d]},h={min:r,max:s};n.isFractionalAmountEnabled()&&(h.precision=l,f.divisible=[a,Math.pow(10,l+1),d]),p.setOptions(h).setRules(f).disable();var m={step:i,precision:l,min:u},g=n.getPrecisionSize(),v=function(t,n){return t.setOptions(m).setRules({min:[g,e.model.getErrorNotZero(__(n))]})};v(this.getTakeProfitField(),"order.form.take_profit"),v(this.getStopLossField(),"order.form.stop_loss"),v(this.getEntryStopField(),"order.form.field.entry_stop"),v(this.getEntryLimitField(),"order.form.field.entry_limit"),this.model.isTakeProfitEnabled()&&(0!==this.model.getTakeProfit()&&this.getTakeProfitField().setState({pristine:!1}),this.form.field("take-profit-checkbox").check()),this.model.isStopLossEnabled()&&(0!==this.model.getStopLoss()&&this.getStopLossField().setState({pristine:!1}),this.form.field("close-at-loss-checkbox").check())},blackoutGsl:function(){var e=this.$el.find(".guaranteed-stop-loss-wrapper");e.hasClass("blackout")?e.removeClass("blackout"):e.addClass("blackout")},readyForAmountField:function(){this.fillAmount(),this.showRequiredMarginBlockForAmount(),this.fillRequiredMarginForAmount(),this.fillGuaranteedStopLoss()},getTakeProfitCheckBox:function(){return this.form.field("take-profit-checkbox")},getTakeProfitField:function(){return this.form.field("take-profit")},getStopLossField:function(){return this.form.field("close-at-loss")},getStopLossCheckBox:function(){return this.form.field("close-at-loss-checkbox")},getEntryLimitField:function(){return this.form.field("entry-limit")},getEntryStopField:function(){return this.form.field("entry-stop")},getBasket:function(){var e=this.model.getInstrumentModel().getBasket();if(e){var t=d.createElement(m,{basket:e});p.render(t,this.$el.find(".basket-bar")[0])}else this.$el.find(".basket-block").css({display:"none"})},onTakeProfitCheckbox:function(e,t){this.getTakeProfitField().setDefaultState(),this.model.setTakeProfitEnabled(t),t?(this.updateCalcTakeProfit(),this.showProfitForTakeProfit()):(this.model.cleanTakeProfit(),this.hideProfitForTakeProfit()),this.fillTakeProfit(),this.updateButtonAvailable()},onCloseAtLossCheckbox:function(e,t){this.getStopLossField().setDefaultState(),this.model.setStopLossEnabled(t),t?(this.updateCalcStopLoss(),this.showLossForStopLoss()):(this.model.cleanStopLoss(),this.hideLossForStopLoss()),this.fillStopLoss(),this.updateButtonAvailable()},onUpdateProfitAndLoss:function(){this.updateCalcTakeProfit(),this.updateCalcStopLoss(),this.updateButtonAvailable()},onAmountChange:function(e){this.isAmountChanged=!0,this.model.setAmount(e.value()),e.validate(),this.toggleClass(e),this.isSubmitButtonAvailable()&&this.updateButtonAvailable()},validateAmount:function(e){var t=this.model.getInstrumentModel(),n=t.getMaxOrderSize(),i=this.model.getAmount(),r=g.getUserAccountMetricsModel().getBuyingPower(),s=this.model.getRequiredMarginInAccountCurrency(),a=i*r/s;a=t.isFractionalAmountEnabled()?a:Math.floor(a),e.setDefaultState(),s>=0?a<=n&&e.value()<=n?e._rules=o.extend(e._rules,{max:[a,this.model.getErrorMoreFundsRequired()]}):e._rules=o.extend(e._rules,{max:[n,this.model.getErrorAmounMax()]}):e._rules.max&&delete e._rules.max,e.state.disabled||(e.validate(),this.toggleClass(e))},onTakeProfitChange:function(e){this.model.setTakeProfit(e.value()),this.onTakeProfitError(this.model,this.model.get("takeProfitError")),0===Number(e.value())&&e.validate(),this.toggleClass(e),this.updateButtonAvailable()},onCloseAtLossChange:function(e){this.model.setStopLoss(e.value()),this.onStopLossError(this.model,this.model.get("stopLossError")),0===Number(e.value())&&e.validate(),this.toggleClass(e),this.updateButtonAvailable()},onTakeProfitFocus:function(e){this.model.validateTakeProfit(),this.onTakeProfitError(this.model,this.model.get("takeProfitError")),0===Number(e.value())&&e.validate(),this.toggleClass(e),this.updateButtonAvailable()},onCloseAtLossFocus:function(e){this.model.validateStopLoss(),this.onStopLossError(this.model,this.model.get("stopLossError")),0===Number(e.value())&&e.validate(),this.toggleClass(e),this.updateButtonAvailable()},onEntryLimitChange:function(e){this.model.setEntryLimit(e.value()),this.onEntryLimitError(this.model,this.model.get("entryLimitError")),this.updateCalcTakeProfit(),this.updateCalcStopLoss(),this.fillRequiredMarginForAmount(),this.getTakeProfitField().isPristine()||this.model.calcProfitForTakeProfit(),this.getStopLossField().isPristine()||this.model.calcLossForStopLoss(),0===Number(e.value())&&e.validate(),this.updateButtonAvailable()},onEntryStopChange:function(e){this.model.setEntryStop(e.value()),this.onEntryStopError(this.model,this.model.get("entryStopError")),this.updateCalcTakeProfit(),this.updateCalcStopLoss(),this.fillRequiredMarginForAmount(),this.getTakeProfitField().isPristine()||this.model.calcProfitForTakeProfit(),this.getStopLossField().isPristine()||this.model.calcLossForStopLoss(),0===Number(e.value())&&e.validate(),this.updateButtonAvailable()},onAdvancedChanged:function(e){e.value()||(this.form.field("entry-limit-checkbox").uncheck(),this.form.field("entry-stop-checkbox").uncheck()),e.getState().opened||(this.getTakeProfitField().setState({pristine:!0}),this.getStopLossField().setState({pristine:!0}),this.updateCalcTakeProfit(),this.updateCalcStopLoss());var t=e.$el.find(".fieldset-content")[0];t.style.maxHeight=t.style.maxHeight?null:t.scrollHeight+"px"},onEntryLimitError:function(e,t){this.errorInField(this.getEntryLimitField(),t)},onEntryStopError:function(e,t){this.errorInField(this.getEntryStopField(),t)},onTakeProfitError:function(e,t){0===Number(this.getTakeProfitField().value())?this.getTakeProfitField().validate():this.errorInField(this.getTakeProfitField(),t)},onStopLossError:function(e,t){0===Number(this.getStopLossField().value())?this.getStopLossField().validate():this.errorInField(this.getStopLossField(),t)},errorInField:function(e,t){if(s.mobile()&&this.toggleClassForMobile(t,e),!t)return e.setDefaultState();e.setError(t)},toggleClassForMobile:function(e,t){switch(t._name){case"take-profit":r(".fn-box-take-profit")[e?"addClass":"removeClass"]("fn-form-box-error");break;case"close-at-loss":r(".fn-box-stop-loss")[e?"addClass":"removeClass"]("fn-form-box-error");break;case"entry-stop":r(".fn-box-entry-stop")[e?"addClass":"removeClass"]("fn-form-box-error");break;case"entry-limit":r(".fn-box-entry-limit")[e?"addClass":"removeClass"]("fn-form-box-error")}},setFieldValueIfEnabled:function(e,t){var n=this.form.field(e),i=n.isEnabled()?t:"";Number(n.value())!==Number(i)&&n.value(i)},fillAmount:function(){var e=this.model.getInstrumentModel(),t=e.isTypeSpreadBetting()?e.getMinOrderIncrement():this.model.getAmountIncrement();this.form.field("amount").enable().setOptions({min:e.getMinOrderSize(),max:e.getMaxOrderSize(),step:t}).focus();var n=this.model.getAmount();n?(this.isAmountChanged=!0,this.setFieldValueIfEnabled("amount",n||"")):this.setFieldValueIfEnabled("amount","")},fillRequiredMarginForAmount:function(){var e=this.model.getRequiredMarginInInstrumentCurrency(),t=this.model.getRequiredMarginInAccountCurrency(),n=g.getUserCurrencySymbol(),i=this.model.getInstrument().getCurrencySymbol(),r=function(e,t){return S(e).formatForeignCurrency(t,"$0,0.[00]")},o=r(t,n);t!==e&&(o=r(e,i)+" = "+r(t,n)),this.isAmountChanged&&this.$(".required-margin").html(0!==this.model.getAmount()?o:""),this.checkAmountDerives()},checkAmountDerives:function(){this.validateAmount(this.form.field("amount")),this.showTieredMargin();var e=S(this.model.getTotalRequiredMargin()).format("0,0[.]00"),t=this.$(".spanish-regulation-spread");o.isNaNValue(e)?t.addClass("hidden"):(t.removeClass("hidden"),t.html(__("spanish.regulation.new_order.text",g.getUserCurrencySymbol()+e)))},fillTakeProfit:function(){this.setFieldValueIfEnabled("take-profit",this.model.getTakeProfit().toFixed(this.model.getInstrumentModel().getPrecision()))},fillStopLoss:function(){this.setFieldValueIfEnabled("close-at-loss",this.model.getStopLoss().toFixed(this.model.getInstrumentModel().getPrecision()))},fillEntryStop:function(){this.setFieldValueIfEnabled("entry-stop",Number(this.model.getEntryStop()).toFixed(this.model.getInstrumentModel().getPrecision()))},fillEntryLimit:function(){this.setFieldValueIfEnabled("entry-limit",Number(this.model.getEntryLimit()).toFixed(this.model.getInstrumentModel().getPrecision()))},fillProfitForTakeProfit:function(){var e=this.model.get("profitForTakeProfit"),t=g.getUserCurrencySymbol()+Number(e>0?e:0).toFixed(2);this.getTakeProfitField().$(".help-line > .profit").html(t)},fillLossForStopLoss:function(){var e=this.model.get("lossForStopLoss"),t=g.getUserCurrencySymbol()+Number(e>0?e:0).toFixed(2);this.getStopLossField().$(".help-line > .loss").html(t)},fillGuaranteedStopLoss:function(){if(!g.isGuaranteedStopLossEnabled())return!1;var e=g.getUserCurrencySymbol(),t=this.model.getGuaranteedStopLossAmount(),n=t,i=t,r=this.getEntryLimitField().isEnabled(),s=this.getEntryStopField().isEnabled();r&&s&&(n=t/2,i=t/2),o.isNumber(t)&&!o.isNaN(t)&&(this.$(".guaranteed-stop-loss").html(e+S(t).format("0,0.[00]")),this.$(".guaranteed-stop-loss-entry-limit").html(e+S(n).format("0,0.[00]")),this.$(".guaranteed-stop-loss-entry-stop").html(e+S(i).format("0,0.[00]")))},entryStopCheckboxChange:function(e,t){this.getEntryStopField().setDefaultState(),this.getStopLossField().setDefaultState(),this.getTakeProfitField().setDefaultState(),t?(this.model.setIsEntryStop(!0),0!==this.model.getEntryStop()&&!1!==this.model.getEntryStop()&&null!==this.model.getEntryStop()||(this.getStopLossField().setState({pristine:!0}),this.getTakeProfitField().setState({pristine:!0}),this.model.calcEntryStop()),this.showGslForEntryStop()):(this.model.cleanEntryStop(),this.hideGslForEntryStop()),this.fillEntryStop(),this.fillGuaranteedStopLoss(),this.updateCalcTakeProfit(),this.updateCalcStopLoss(),this.getStopLossField().isEnabled()&&!this.getStopLossField().isPristine()&&this.getStopLossField().setDefaultState(),this.getTakeProfitField().isEnabled()&&!this.getTakeProfitField().isPristine()&&this.getStopLossField().setDefaultState(),this.updateButtonAvailable()},entryLimitCheckboxChange:function(e,t){this.getEntryLimitField().setDefaultState(),this.getStopLossField().setDefaultState(),this.getTakeProfitField().setDefaultState(),t?(this.model.setIsEntryLimit(!0),0!==this.model.getEntryLimit()&&!1!==this.model.getEntryLimit()&&null!==this.model.getEntryLimit()||(this.getStopLossField().setState({pristine:!0}),this.getTakeProfitField().setState({pristine:!0}),this.model.calcEntryLimit()),this.showGslForEntryLimit()):(this.model.cleanEntryLimit(),this.hideGslForEntryLimit()),this.fillEntryLimit(),this.fillGuaranteedStopLoss(),this.updateCalcTakeProfit(),this.updateCalcStopLoss(),this.getStopLossField().isEnabled()&&!this.getStopLossField().isPristine()&&this.getStopLossField().setDefaultState(),this.getTakeProfitField().isEnabled()&&!this.getTakeProfitField().isPristine()&&this.getStopLossField().setDefaultState(),this.updateButtonAvailable()},updateCalcTakeProfit:function(){var e=this.getEntryLimitField(),t=this.getEntryStopField();e.isEnabled()||t.isEnabled()?(t.isEnabled()&&this.getTakeProfitField().isPristine()&&this.model.calcTakeProfitWithEntryOrder(this.model.getEntryStop()),e.isEnabled()&&this.getTakeProfitField().isPristine()&&this.model.calcTakeProfitWithEntryOrder(this.model.getEntryLimit())):this.getTakeProfitField().isPristine()&&this.model.calcTakeProfit(),this.fillTakeProfit(),this.getTakeProfitField().isEnabled()&&!this.getTakeProfitField().isPristine()&&(this.model.validateTakeProfit(),this.onTakeProfitError(this.model,this.model.get("takeProfitError")))},updateCalcStopLoss:function(){var e=this.getEntryLimitField(),t=this.getEntryStopField();e.isEnabled()||t.isEnabled()?(t.isEnabled()&&this.getStopLossField().isPristine()&&this.model.calcStopLossWithEntryOrder(this.model.getEntryStop()),e.isEnabled()&&this.getStopLossField().isPristine()&&this.model.calcStopLossWithEntryOrder(this.model.getEntryLimit())):this.getStopLossField().isPristine()&&this.model.calcStopLoss(),this.fillStopLoss(),this.getStopLossField().isEnabled()&&!this.getStopLossField().isPristine()&&(this.model.validateStopLoss(),this.onStopLossError(this.model,this.model.get("stopLossError")))},updateButtonAvailable:function(){this.isSubmitButtonAvailable()?this.enableSubmitButton():this.disableSubmitButton()},onEntryLimitAndStopCheckboxesChanged:function(){var e=this.getEntryLimitField().isEnabled(),t=this.getEntryStopField().isEnabled(),n=this.form.field("take-profit-checkbox"),i=this.form.field("close-at-loss-checkbox");n.setDefaultState(),i.setDefaultState(),this.isAmountChanged&&e&&t?(n.uncheck().disable(),i.uncheck().disable(),this.showMessage()):(n.enable(),i.enable(),this.hideMessage()),e||t||(this.getTakeProfitField().setState({pristine:!0}),this.getStopLossField().setState({pristine:!0}),this.updateCalcTakeProfit(),this.updateCalcStopLoss()),this.fillRequiredMarginForAmount(),e||t?this.showOrderExpiration():this.showPositionExpiration(),this.onEntryLimitAndStopCheckboxesChangedForTradeOutsideOfTradingHours()},canNotTradeOutsideOfTradingHours:function(){return this.model.getInstrument().status.canTradeOutsideOfTradingHours()&&!this.model.isEntryStopEnabled()&&!this.model.isEntryLimitEnabled()},onEntryLimitAndStopCheckboxesChangedForTradeOutsideOfTradingHours:function(){this.canNotTradeOutsideOfTradingHours()&&(this.getTakeProfitCheckBox().uncheck().disable(),this.getStopLossCheckBox().uncheck().disable(),this.disableSubmitButton())},render:function(){x.prototype.render.call(this);var e=this.model.getInstrumentModel();this.setContent(A({direction:this.model.getDirection(),model:this.model,minTradeSize:e.getMinOrderSizeFormatted(),isBuying:this.isBuying,rate:this.model.getDefiniteRate(),overnightInterestTime:P.overnightInterestTime(v.overnightInterestTime),rollover:b.getRollovers(e.getSymbol().toLowerCase()),userCurrencySymbol:g.getUserCurrencySymbol(),guaranteedStopLossEnabled:g.isGuaranteedStopLossEnabled(),showNewOrderTextHintForSpanishRegulation:E.isSpanishRegulation()&&C.isSpanishRegulationForOpenPositionEnabled(),isAmount:e.isAmountWordUsed(),expiration:this.model.getInstrument().getExpirationDate(),groupName:e.getGroupName(),settings:C,pipSize:e.getPipsPrecisionSize(),isSpreadBetting:e.isTypeSpreadBetting(),amountSpreadBettingLabel:e.getAmountSpreadBettingLabel()})),this.elements={$infoPricesBlock:this.$el.find(".info-prices-block"),$elementRate:this.$el.find(".rate"),$elementPercent:this.$el.find(".percent > span"),$change:this.$el.find("#change i .rate")},this.updatePercent(),this.updateRate()},showRequiredMarginBlockForAmount:function(){this.$(".fn-amount-row .help-line").css("visibility","visible")},hideRequiredMarginBlockForAmount:function(){this.$(".fn-amount-row .help-line").css("visibility","hidden")},showProfitForTakeProfit:function(){this.showOrHideProfitLoss("take-profit",!0)},hideProfitForTakeProfit:function(){this.showOrHideProfitLoss("take-profit",!1)},showLossForStopLoss:function(){this.showOrHideProfitLoss("close-at-loss",!0)},hideLossForStopLoss:function(){this.showOrHideProfitLoss("close-at-loss",!1)},showGslForEntryStop:function(){this.showOrHideProfitLoss("entry-stop",!0)},hideGslForEntryStop:function(){this.showOrHideProfitLoss("entry-stop",!1)},showGslForEntryLimit:function(){this.showOrHideProfitLoss("entry-limit",!0)},hideGslForEntryLimit:function(){this.showOrHideProfitLoss("entry-limit",!1)},showOrHideProfitLoss:function(e,t){this.form.field(e).$el.find(".help-line").css("visibility",t?"visible":"hidden")},destroy:function(){this.destroyBuyAndSell(),this.settingsDropdown&&this.destroySettings(),o.isFunction(this.options.onClose)&&this.options.onClose.call(this),this.keyboardEvents.off(),x.prototype.destroy.call(this)},close:function(){this.model.stopListening(),x.prototype.close.call(this),Promise.all([this.sendUnsubscribeFromConversion(this.model.getInstrumentModel().getCurrency(),g.getUserCurrency()),this.model.requestUnsubscription()]).catch((function(e){}))},getRateData:function(e){var t=this.model.getRateDirection(),n=this.model.getInstrumentModel().fixRate(e);return{1:{add:"up",remove:"down",value:n},0:{add:"",remove:"",value:n},"-1":{add:"down",remove:"up",value:n}}[t]},getPercentData:function(e){var t=this.model.getInstrumentModel(),n=t.isPercentChangeIncreasing(),i=t.getPercentStr();return n?{add:"up",remove:"down",value:i}:{add:"down",remove:"up",value:i}},onRateDirectionChanged:function(e){this.updateRate(),this.updatePercent()},updateRate:function(){var e=this.model.getRate(),t=this.getRateData(e);this.updateRateElement(this.elements.$elementRate,t)},updatePercent:function(e){var t=this.getPercentData(),n=e||this.elements.$elementPercent,i=n.parent();n.html(t.value),i.removeClass(t.remove).addClass(t.add)},initBuyAndSell:function(){var e=this.model.getInstrumentModel().getSymbol();p.render(d.createElement(O.Ask,{symbol:e,render:T}),this.$buyButton),p.render(d.createElement(O.Bid,{symbol:e,render:T}),this.$sellButton)},initSettings:function(){var e=this;if(!s.mobile()){this.$settingsButton=this.$el.find("#settings")[0];var t=g.getUserCommonData().getOpenPositionMode();this.settingsDropdown=p.render(d.createElement(N,{options:V,selected:t,transformOptionText:function(e){return __("modes."+[e])},onChange:function(t){return e.changeOpenPositionMode(t)}}),this.$settingsButton)}},changeOpenPositionMode:function(e){var t=this,n=e[0],i=g.getUserCommonData().getOpenPositionMode(),r={direction:this.model.getDirection().toLocaleLowerCase(),symbolOrId:this.model.getInstrument().getId(),quantity:this.model.getAmount()||null,type:this.getCurrentOrderType(),tp:this.model.isTakeProfitEnabled()?this.model.getTakeProfit():j,sl:this.model.isStopLossEnabled()?this.model.getStopLoss():j,entry:this.getCurrentOrderEntry(),source:D};g.getUserCommonData().saveOpenPositionMode(n).then((function(){t.close(),u.trigger("ui:new-position",r),t.sendChangeOPModeEvent(n,i)}))},getCurrentOrderType:function(){return this.model.isEntryStopEnabled()&&this.model.isEntryLimitEnabled()?F:this.model.isEntryStopEnabled()?U:this.model.isEntryLimitEnabled()?B:F},getCurrentOrderEntry:function(){return this.model.isEntryStopEnabled()&&this.model.isEntryLimitEnabled()?j:this.model.isEntryStopEnabled()?this.model.getEntryStop():this.model.isEntryLimitEnabled()?this.model.getEntryLimit():j},sendChangeOPModeEvent:function(e,t){__eventos("tradingPlatform:orderForm:OPmodeChanged",{newOPMode:e,previousOPMode:t})},destroyBuyAndSell:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$buyButton,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.$sellButton;p.unmountComponentAtNode(t),p.unmountComponentAtNode(e)},destroySettings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$settingsButton;p.unmountComponentAtNode(e)},updateRateElement:function(e,t){e.html(t.value).removeClass(t.remove).addClass(t.add)},onCancel:function(){this.close()},onSubmit:function(){var e=this,t=this.form.field("amount").isDisabled(),n=this.$el.find(".fn-submit").hasClass("disabled");if(!t&&!n){var i=this.form.field("take-profit-checkbox"),r=this.form.field("close-at-loss-checkbox"),s=this.form.field("entry-stop-checkbox"),a=this.form.field("entry-limit-checkbox"),l=[];if(i.isChecked()&&!i.isPristine()&&l.push(this.model.get("takeProfitError")),r.isChecked()&&!r.isPristine()&&l.push(this.model.get("stopLossError")),s.isChecked()&&!s.isPristine()&&l.push(this.model.get("entryLimitError")),a.isChecked()&&!a.isPristine()&&l.push(this.model.get("entryStopError")),!o.some(l)&&!this.form.submit()){var c=this.form.getData(),u={effect:"OPENING",instrumentId:this.model.getInstrumentModel().getId(),limitPrice:this.model.getDefiniteRate(),orderSide:this.model.getDirection(),orderType:s.isChecked()?"STOP":"LIMIT",quantity:this.model.isSell()?-c.amount:c.amount,requestId:o.uniqueId("gwt-uid-"),stopPrice:null,timeInForce:"FOK"};r.isChecked()&&(u.stopLoss={fixedOffset:this.model.minOrderDistance(),fixedPrice:this.model.getStopLoss(),isPriceFixed:!0,orderType:"STOP"}),i.isChecked()&&(u.takeProfit={fixedOffset:this.model.minOrderDistance(),fixedPrice:this.model.getTakeProfit(),isPriceFixed:!0,orderType:"LIMIT"}),(s.isChecked()||a.isChecked())&&(u.timeInForce="GTC"),E.showTradeConfirmation().then((function(){e.model.submitOrderStatus(L),s.isChecked()&&a.isChecked()?Promise.all([e.requestPlaceOrder(o.extend(o.clone(u),{stopPrice:e.model.getEntryStop(),limitPrice:null})),e.requestPlaceOrder(o.extend(o.clone(u),{limitPrice:e.model.getEntryLimit(),stopPrice:null,requestId:o.uniqueId("gwt-uid-"),orderType:"LIMIT"}))]).then(e.onSubmitSuccess.bind(e)).catch(e.onSubmitError.bind(e)):(s.isChecked()&&!a.isChecked()&&(u.stopPrice=e.model.getEntryStop(),u.limitPrice=null),a.isChecked()&&!s.isChecked()&&(u.limitPrice=e.model.getEntryLimit(),u.stopPrice=null),e.requestPlaceOrder(u).then(e.onSubmitSuccess.bind(e)).catch(e.onSubmitError.bind(e)))}))}}},onSubmitSuccess:function(){this.close()},onSubmitError:function(e){var t=this;y((function(){return t.close()}))},onLoadExtraDataError:function(e){y((function(){}))},requestPlaceOrder:function(e){return this.reportNewOrder(e),f.placeOrder(h.getAtmosphereId(),e).then(this.requestPlaceOrderSuccess.bind(this)).catch(this.requestPlaceOrderError.bind(this))},reportNewOrder:function(e){var t=this.form.field("take-profit-checkbox").isChecked(),n=this.form.field("close-at-loss-checkbox").isChecked(),i={instrumentName:this.model.getInstrumentModel().getSymbol(),orderDirection:this.model.getDirection(),orderType:e.orderType,originalQuantity:this.model.getOriginalAmount(),price:this.model.getCurrentPrice(),quantity:Math.abs(e.quantity),isSentiment:!!this.model.getInstrumentSentiment(),OPmodeView:g.getUserCommonData().getOpenPositionMode()};if(o.has(e,"limitPrice")&&!o.isNull(e.limitPrice)&&(i.entryLimitPrice=e.limitPrice),o.has(e,"stopPrice")&&!o.isNull(e.stopPrice)&&(i.entryStopPrice=e.stopPrice),this.model.getInstrumentSentiment()&&(i.sentimentBuyPercentage=this.model.getInstrumentSentiment().longs),n&&(i.stopLossAmount=this.model.get("lossForStopLoss").toFixed(2),i.stopLossPrice=e.stopLoss.fixedPrice),t&&(i.takeProfitAmount=this.model.get("profitForTakeProfit").toFixed(2),i.takeProfitPrice=e.takeProfit.fixedPrice),!o.isEmpty(this.source))if(this.source.indexOf("Popular")>-1)i.viewSource="popular";else if(this.source.indexOf("Trending_now")>-1)i.viewSource="trendingNow",i.trendingCategoryId=o.compact(this.source.split("/")).pop();else if(this.source.indexOf("trading")>-1){var r=o.compact(this.source.split("/"));r.shift(),3===r.length&&r.pop(),i.viewSource="category",i.categoryName=r.join(".")}else this.source.indexOf("instrument")>-1?i.viewSource="instrument":i.viewSource=this.source.replace("-","_")||"";__eventos("tradingPlatform:orderForm:clkSendOrder",i),_.put(e.requestId,i)},requestPlaceOrderSuccess:function(){return Promise.resolve()},requestPlaceOrderError:function(e){return Promise.reject(e)},sendSubscribeToConversion:function(e,t){return w.add(e,t).then(this.requestConversionSubscriptionSuccess.bind(this)).catch(this.requestConversionSubscriptionError.bind(this))},sendUnsubscribeFromConversion:function(e,t){return w.remove(e,t).then(this.requestConversionUnsubscriptionSuccess.bind(this)).catch(this.requestConversionUnsubscriptionError.bind(this))},requestConversionSubscriptionSuccess:function(e){return Promise.resolve(e)},requestConversionSubscriptionError:function(e){return Promise.reject(e)},requestConversionUnsubscriptionSuccess:function(e){return Promise.resolve(e)},requestConversionUnsubscriptionError:function(e){return Promise.reject(e)},loadModelExtraData:function(){var e=this;return this.model.loadExtraData().then(this.model.loadExtraDataSuccess.bind(this)).then((function(){var t=e.model.getType();t&&(t===B&&(e.checkAdvancedCheckbox("entry-limit-checkbox"),0!==e.model.getEntryLimit()&&e.getEntryLimitField().setState({pristine:!1})),t===U&&(e.checkAdvancedCheckbox("entry-stop-checkbox"),0!==e.model.getEntryStop()&&e.getEntryStopField().setState({pristine:!1})))})).catch(this.model.loadExtraDataError.bind(this))},checkAdvancedCheckbox:function(e){this.form.field("advanced")&&this.form.field("advanced").toggleContent(),this.form.field(e).check()},notifyMarginLevel:function(){this.close(),z()},onUpdateInstrumentMarginingSettings:function(){this.$el.find(".instrument-info-leverage").html(this.model.getInstrumentLeverage())},onUpdateInstrumentTradingCalendarsSettings:function(){var e=this.model.getInstrumentTradingCalendarsSettings();this.$el.find(".instrument-info-trading-hours-name").html(e.tradingHoursName),this.$el.find(".instrument-info-trading-hours-value").html(P.tradingHours(e.tradingHoursValue,e.tradingHoursRaw,!0))},showTieredMargin:function(){var e=this.$(".amount-tiered-margin"),t=this.model.getAmount();if(!o.isNull(t)){var n=this.form.field("amount");if(o.isEmpty(n.validate())&&this.model.getInstrument().isTieredMarginApplied())return void e.removeClass("hidden")}e.addClass("hidden")},isSubmitButtonAvailable:function(){if(!o.first(this.$el.find("#amountField")).value)return this.disableSubmitButton(),!1;var e=this.model.getInstrumentModel(),t=this.model.getRequiredMarginInAccountCurrency(),n=parseFloat(g.getUserAccountMetricsModel().getBuyingPower()),i=this.model.getDirection();if(!e.isTradableBySide(i))return this.disableSubmitButton(e.status.getNotTradableMessage()),!1;if(t>n)return this.disableSubmitButton(this.model.getErrorMoreFundsRequired()),C.isLive()||this.$el.find("a.fn-deposit").addClass("hidden"),!1;if(this.canNotTradeOutsideOfTradingHours())return this.disableSubmitButton(),!1;var r=o.isEmpty(this.form.getErrorFields());return r?this.enableSubmitButton():this.disableSubmitButton(),r},disableSubmitButton:function(e){o.isUndefined(e)&&(e=""),this.$el.find(".fn-submit").addClass("disabled").attr("disabled",!0),this.$el.find(".button-tooltip").attr("aria-label",e)},enableSubmitButton:function(){this.$el.find(".fn-submit").removeClass("disabled").removeAttr("disabled"),this.$el.find(".button-tooltip").attr("aria-label","")},toggleClass:function(e){switch(e._name){case"amount":r(".form-row.amount")[e.hasError()?"addClass":"removeClass"]("row-error");break;case"take-profit":r(".form-row.take-profit")[e.hasError()?"addClass":"removeClass"]("row-error");break;case"close-at-loss":r(".form-row.stop-loss")[e.hasError()?"addClass":"removeClass"]("row-error")}},onUpdateMessage:function(){var e=this.form.field("entry-stop-checkbox").isChecked();this.form.field("entry-limit-checkbox").isChecked()&&e&&this.showMessage()},showMessage:function(){var e=this.model.getInstrumentModel(),t=e.isAmountWordUsed()?"order.form.double.charge.warning":"order.form.double.charge.warning.quantity";this.$el.find(".fn-message > span").html(__(t,this.model.getAmount(),e.getDisplayName().split("/")[0])),this.$el.find(".fn-message").removeClass("hidden")},hideMessage:function(){this.$el.find(".fn-message").addClass("hidden")},showPositionExpiration:function(){var e=this.model.getInstrument();r("#expiration").html(__("position.form.expiration",e.getExpirationDate()))},showOrderExpiration:function(){var e=this.model.getInstrument();r("#expiration").html(__("order.form.expiration",e.getExpirationDays()))},submitOrder:function(){this.model.submitOrder(),this.disableSubmitButton()},onSubmitStatus:function(){switch(this.model.get("statusOfSubmit")){case M:this.onSubmit()}},openSettings:function(e){"settings"===e.target.id&&(this.stopDragEvent(e),e.target.querySelector(".icon-hamburger-gray").click())},stopDragEvent:function(e){e.stopImmediatePropagation(),e.preventDefault()},updateInstrumentTradableStatus:function(){var e=this.model.getInstrument().status,t=this.$el.find(".send-order-trading-outside-of-trading-hours");this.$el.find(".instrument-info-trading-outside-of-trading-hours").html(e.canTradeOutsideOfTradingHoursMessage()),e.canTradeOutsideOfTradingHours()?t.removeClass("hidden"):t.addClass("hidden")},updateInstrumentTradable:function(){this.updateInstrumentTradableStatus(),this.model.getInstrument().status.canTradeOutsideOfTradingHours()&&this.onEntryLimitAndStopCheckboxesChangedForTradeOutsideOfTradingHours()}});i.exports=H}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t){e.exports='<div class="slide-box-overlay fn-close slide-box-overlay-translucent-<%-options.overlayTranslucent%>"></div> <div class=slide-box-container> <div class="slide-box-panel <%- options.showBoxShadow ? \'slide-box-panel-shadow\' : \'\' %>" style="width: <%- options.boxWidth %>;max-width: <%- options.maxBoxWidth %>"> <% if (options.showHeader) { %> <div class=slide-box-header> <div class="previous btn fn-previous"> <div class="icon arrow"></div> <div class=caption><%=options.previousCaption%></div> </div> <div class=caption><%=__(\'actions.\' + (_.isArray(options.caption) ? options.caption[0] : options.caption).toLowerCase())%></div> <div class=navigation-box></div> </div> <% } %> <div class=slide-box-content></div> </div> </div>'},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(83);i.exports=function(e){var t=void 0;return e.hasOwnProperty("ask")&&(t="ask"),e.hasOwnProperty("bid")&&(t="bid"),e[t]=o.divideValueByPipSize(e[t],e.pipsPrecision),r.createElement("div",{className:"rate "+e.className},o.formatValueToStringOrComponent(e[t],!1))}}.call(t,n,t,e))||(e.exports=i)},function(e,t){e.exports='<div class="new-position-slide-box form"> <div class=form-header> <div class=form-caption-box> <div class=form-box-row> <div class=order-caption> <span class="type <%=(isBuying ? \'buy\' : \'sell\')%>"><%=__(\'actions.\' + direction.toLowerCase())%></span> | <span class=symbol><%=model.getInstrumentModel().getName()%></span> </div> <div class=current-rate> <div class=rate-box> <div class=caption><%=__(\'order.instrument_info.current_rate\')%>:</div> <div class="rate up"><%-rate%></div> </div> </div> </div> </div> </div> <div class=form-content> <div class=form-content-box> <div class="form-box-row fn-box-sentiment sentiment"> <div class=text> <div><%=__(\'sentiment.title\')%></div> <div class="percent up"><%=__(\'actions.change\')%> <span><%-model.getPercentChange()%></span></div> </div> <div class=chart> <% if (model.getInstrumentSentiment()) { %> <div class=sellers><%=model.getInstrumentSentiment().shorts %>% <%=__(\'actions.sold\')%></div> <div class=bar> <i style="width:<%=model.getInstrumentSentiment().shorts %>%"></i> <b style="width:<%=model.getInstrumentSentiment().longs %>%"></b> </div> <div class=buyers><%=model.getInstrumentSentiment().longs %>% <%=__(\'actions.bought\')%></div> <% } %> </div> </div> <% if (model.getInstrumentModel().getBasket()) { %> <div class=form-box-row> <div class=basket-block> <div class=block-title> <%=__(\'baskets.title\')%>&nbsp; <i class=icon-help aria-label="<%=__(\'baskets.hint\')%>"></i> </div> <div class=basket-title><%=__(\'baskets.consists\', model.getInstrumentModel().getBasket().instrumentSymbol) %>:</div> <div class=basket-bar></div> </div> </div> <% } %> <div class=form-box-row> <div class=flex-stretch> <div class=info-prices-block> <div class=sell> <div class=rate-box> <div class=caption><%-__(\'actions.sell\')%>:</div> <div class=price></div> </div> </div> <div class=buy> <div class=rate-box> <div class=caption><%-__(\'actions.buy\')%>:</div> <div class=price></div> </div> </div> </div> </div> </div> <div class="form-box-row fn-box-amount"> <div class="field field-rollout field-type-rollout field-rollout-switcher-hidden"> <div class=label> <% if (!isSpreadBetting) { %> <div class=text><%=model.getAmountLabel()%>: <%=groupName%></div> <% } else { %> <div class=text><%= amountSpreadBettingLabel %></div> <% } %> <div class=switcher> <label><input type=checkbox name=amount-checkbox class="ios-switch green" checked=checked /> <div> <div></div> </div> </label> </div> </div> <div class=rollout-content> <div class="field field-type-spin"> <div class=input> <input type=text name=amount id=amountField placeholder="<%= __(\'order.form.enter.amount\')%>"> </div> <div class=actions> <button href=# class="btn action-plus"> <i class=icon-plus></i> </button> <button href=# class="btn action-minus"> <i class=icon-minus></i> </button> </div> <div class=help-line> <div><%=__(\'order.form.required_margin\')%> <span class=required-margin></span></div> </div> <div class=field-tooltip> <div class=content></div> </div> <div class="amount-tiered-margin hidden"><%= __(\'order.form.tiered_margin.reached\') %></div> </div> </div> <% if (showNewOrderTextHintForSpanishRegulation){ %> <div class=spanish-regulation-spread></div> <% } %> </div> </div> <% if (expiration){ %> <div class=form-box-row> <div class=text id=expiration><%=__(\'position.form.expiration\', expiration)%></div> </div> <% } %> <div class="form-box-row fn-box-take-profit"> <div class="field field-rollout field-type-rollout field-rollout-opened"> <div class=label> <div class=text><%=__(\'order.form.take_profit\')%></div> <div class=switcher> <label><input type=checkbox name=take-profit-checkbox class="ios-switch green"/> <div> <div></div> </div> </label> </div> </div> <div class=rollout-content> <div class="field field-type-spin field-disabled" data-field-depends=take-profit-checkbox> <div class=input> <input type=text name=take-profit> </div> <div class=actions> <button href=# class="btn action-plus"> <i class=icon-plus></i> </button> <button href=# class="btn action-minus"> <i class=icon-minus></i> </button> </div> <div class=help-line> <span><%=__(\'order.form.price.limit.projection\')%>:</span>&nbsp;<span class=profit></span> </div> <div class=field-tooltip> <div class=content></div> </div> </div> </div> </div> </div> <div class="form-box-row fn-box-stop-loss"> <div class="field field-rollout field-type-rollout"> <div class=label> <div class=text><%=__(\'order.form.stop_loss\')%></div> <div class=switcher> <label><input type=checkbox name=close-at-loss-checkbox class="ios-switch green"/> <div> <div></div> </div> </label> </div> </div> <div class=rollout-content> <div class="field field-type-spin field-disabled" data-field-depends=close-at-loss-checkbox> <div class=input> <input type=text name=close-at-loss> </div> <div class=actions> <button href=# class="btn action-plus"> <i class=icon-plus></i> </button> <button href=# class="btn action-minus"> <i class=icon-minus></i> </button> </div> <div class=help-line> <span><%=__(\'order.form.price.stop.projection\')%>:</span>&nbsp;<span class=loss></span> </div> <div class=field-tooltip> <div class=content></div> </div> </div> </div> </div> </div> <% if (guaranteedStopLossEnabled){ %> <div class="form-box-row flex flex-row field guaranteed-stop-loss-wrapper"> <div><%=__(\'order.form.guaranteed_stop_loss\')%>&nbsp;&nbsp;<span class=guaranteed-stop-loss></span></div> <div class=flex-valign-center> <div> &nbsp;<i class=icon-help aria-label="<%=__(\'help.guaranteed_stop_loss\')%>"></i> </div> </div> </div> <% } %> <div class="form-box-row fn-box-entry-stop"> <div class="field field-rollout field-type-rollout"> <div class=label> <div class=text><%-model.getLabelForEntryStop()%></div> <div class=switcher> <label><input type=checkbox name=entry-stop-checkbox class="ios-switch green"/> <div> <div></div> </div> </label> </div> </div> <div class=rollout-content> <div class="field field-type-spin field-disabled" data-field-depends=entry-stop-checkbox> <div class=input> <input type=text name=entry-stop> </div> <div class=actions> <button href=# class="btn action-plus"> <i class=icon-plus></i> </button> <button href=# class="btn action-minus"> <i class=icon-minus></i> </button> </div> <div class="help-line info flex flex-column"> <% if (guaranteedStopLossEnabled){ %> <div> <%=__(\'order.form.guaranteed_stop_loss\')%>&nbsp;<span class=guaranteed-stop-loss-entry-stop></span> <i class=icon-help aria-label="<%=__(\'help.guaranteed_stop_loss\')%>"></i> </div> <% } %> <div class=field-tooltip> <div class="content error"></div> </div> </div> </div> </div> </div> </div> <div class="form-box-row fn-box-entry-limit"> <div class="field field-rollout field-type-rollout"> <div class=label> <div class=text><%-model.getLabelForEntryLimit()%></div> <div class=switcher> <label><input type=checkbox name=entry-limit-checkbox class="ios-switch green"/> <div> <div></div> </div> </label> </div> </div> <div class=rollout-content> <div class="field field-type-spin field-disabled" data-field-depends=entry-limit-checkbox> <div class=input> <input type=text name=entry-limit> </div> <div class=actions> <button href=# class="btn action-plus"> <i class=icon-plus></i> </button> <button href=# class="btn action-minus"> <i class=icon-minus></i> </button> </div> <div class="help-line info flex flex-column"> <% if (guaranteedStopLossEnabled){ %> <div> <%=__(\'order.form.guaranteed_stop_loss\')%>&nbsp;<span class=guaranteed-stop-loss-entry-limit></span> <i class=icon-help aria-label="<%=__(\'help.guaranteed_stop_loss\')%>"></i> </div> <% } %> </div> <div class=field-tooltip> <div class="content error"></div> </div> </div> </div> </div> </div> <div class="form-box-row message fn-message hidden"> <span></span> </div> <div class="form-box-row send-order-trading-outside-of-trading-hours message hidden"> <%= __(\'order.form.send_order.trading.outside_of_trading_hours\') %> </div> </div> </div> <div class="form-actions grid"> <div class=col> <button class="btn cancel fn-cancel"><%=__(\'order.form.cancel\')%></button> </div> <div class=col> <button class="btn btn-primary submit fn-submit"><%=__(\'actions.\' + direction.toLowerCase())%></button> </div> </div> </div> '},function(e,t){e.exports='<div class=new-position-popup> <div class=header> <div class=caption> <div class=order-caption> <span class="type <%=(isBuying ? \'buy\' : \'sell\')%>"><%=__(\'actions.\' + direction.toLowerCase())%></span> | <span class=symbol><%=model.getInstrumentModel().getName()%></span> </div> <div class=information><%=model.getInstrumentDescription()%></div> </div> <div class="popup-warning hidden"> <i class=icon-warning-circle></i> <span class=warn-content></span> </div> <div class=actions> <div class="fn-settings btn" id=settings></div> <div class="fn-close-popup btn"><i class=icon-close-grey></i></div> </div> </div> <div class=content> <div class=form> <div class="form-row fn-amount-row amount"> <% if (!isSpreadBetting) { %> <div><%=model.getAmountLabel()%>: <%=groupName%></div> <% } else { %> <div><%= amountSpreadBettingLabel %></div> <% } %> <div class="field field-type-spin"> <div class=input> <input type=text name=amount id=amountField placeholder="<%= __(\'order.form.enter.amount\')%>"> </div> <div class=actions> <button class="btn action-plus" data-type=amount> <i class=icon-plus></i> </button> <button class="btn action-minus" data-type=amount> <i class=icon-minus></i> </button> </div> <div class=help> <i class=icon-help aria-label="<%=__(\'help.order.\' + (isAmount ? \'amount\' : \'quantity\') + (isSpreadBetting ? \'_sb\' : \'\'))%>"></i> </div> <div class=help-line> <div><%=__(\'order.form.required_margin\')%></div> <div class=required-margin></div> </div> <div class=field-tooltip> <div class=content></div> </div> <div class="amount-tiered-margin info hidden"><%= __(\'order.form.tiered_margin.reached\') %></div> </div> </div> <% if (expiration){ %> <div class="form-row position-expiration"> <div class=field id=expiration><%=__(\'position.form.expiration\', expiration)%></div> <div class=field> <div class=help> <i class=icon-help aria-label="<%= __(\'help.order.expiration\')%>"></i> </div> </div> </div> <% } %> <div class="form-row take-profit"> <div class="field field-type-checkbox"> <input type=checkbox name=take-profit-checkbox id=take-profit> <label for=take-profit><%=__(\'order.form.take_profit\')%></label> </div> <div class="field field-type-spin field-disabled" data-field-depends=take-profit-checkbox> <div class=input> <input type=text name=take-profit> </div> <div class=actions> <button class="btn action-plus" data-type=takeProfit> <i class=icon-plus></i> </button> <button class="btn action-minus" data-type=takeProfit> <i class=icon-minus></i> </button> </div> <div class=help> <i class=icon-help aria-label="<%=__(\'help.order.take_profit\')%>"></i> </div> <div class=help-line> <div><%=__(\'order.form.price.limit.projection\')%>:</div> <div class=profit></div> </div> <div class=field-tooltip> <div class=content></div> </div> </div> </div> <div class="form-row stop-loss"> <div class="field field-type-checkbox"> <input type=checkbox name=close-at-loss-checkbox id=close-at-loss> <label for=close-at-loss><%=__(\'order.form.stop_loss\')%></label> </div> <div class="field field-type-spin field-disabled" data-field-depends=close-at-loss-checkbox> <div class=input> <input type=text name=close-at-loss> </div> <div class=actions> <button class="btn action-plus" data-type=stopLoss> <i class=icon-plus></i> </button> <button class="btn action-minus" data-type=stopLoss> <i class=icon-minus></i> </button> </div> <div class=help> <i class=icon-help aria-label="<%=__(\'help.order.stop_loss\')%>"></i> </div> <div class=help-line> <div><%=__(\'order.form.price.stop.projection\')%>:</div> <div class=loss></div> </div> <div class=field-tooltip> <div class=content></div> </div> </div> </div> <% if (showNewOrderTextHintForSpanishRegulation){ %> <div class=spanish-regulation-spread></div> <% } %> <% if (guaranteedStopLossEnabled){ %> <div class="field guaranteed-stop-loss-wrapper"> <div><%=__(\'order.form.guaranteed_stop_loss\')%>&nbsp;&nbsp;<span class=guaranteed-stop-loss></span></div> <div class=help> <i class=icon-help aria-label="<%=__(\'help.guaranteed_stop_loss\')%>"></i> </div> </div> <% } %> <div class="field field-fieldset field-type-fieldset" data-field-name=advanced> <div class="fieldset-legend fn-blackout-gsl"> <div class=text><%=__(\'order.form.advanced.checkbox\')%></div> </div> <div class="fieldset-content fields-toggle"> <div class=form-row> <div class="field field-type-checkbox"> <input type=checkbox name=entry-stop-checkbox id=entry-stop-checkbox> <label for=entry-stop-checkbox><%-model.getLabelForEntryStop()%></label> </div> <div class="field field-type-spin field-disabled" data-field-depends=entry-stop-checkbox> <div class=input> <input type=text name=entry-stop> </div> <div class=actions> <button class="btn action-plus" data-type=entryStop> <i class=icon-plus></i> </button> <button class="btn action-minus" data-type=entryStop> <i class=icon-minus></i> </button> </div> <div class=help> <i class=icon-help aria-label="<%-model.getEntryStopExplanation()%>"></i> </div> <div class=help-line> <% if (guaranteedStopLossEnabled){ %> <div class=guaranteed-stop-loss-label><%=__(\'order.form.guaranteed_stop_loss\')%></div> <div class=guaranteed-stop-loss-row> <span class=guaranteed-stop-loss-entry-stop></span> <span class=help> <i class=icon-help aria-label="<%=__(\'help.guaranteed_stop_loss\')%>"></i> </span> </div> <% } %> </div> <div class=field-tooltip> <div class=content></div> </div> </div> </div> <div class=form-row> <div class="field field-type-checkbox"> <input type=checkbox name=entry-limit-checkbox id=entry-limit-checkbox> <label for=entry-limit-checkbox><%-model.getLabelForEntryLimit()%></label> </div> <div class="field field-type-spin field-disabled" data-field-depends=entry-limit-checkbox> <div class=input> <input type=text name=entry-limit> </div> <div class=actions> <button class="btn action-plus" data-type=entryLimit> <i class=icon-plus></i> </button> <button class="btn action-minus" data-type=entryLimit> <i class=icon-minus></i> </button> </div> <div class=help> <i class=icon-help aria-label="<%-model.getEntryLimitExplanation()%>"></i> </div> <div class=help-line> <% if (guaranteedStopLossEnabled){ %> <div class=guaranteed-stop-loss-label><%=__(\'order.form.guaranteed_stop_loss\')%></div> <div class=guaranteed-stop-loss-row> <span class=guaranteed-stop-loss-entry-limit></span> <span class=help> <i class=icon-help aria-label="<%=__(\'help.guaranteed_stop_loss\')%>"></i> </span> </div> <% } %> </div> <div class=field-tooltip> <div class=content></div> </div> </div> </div> </div> </div> <div class="form-row message fn-message hidden"> <span></span> </div> <div class="form-row send-order-trading-outside-of-trading-hours message hidden"> <%= __(\'order.form.send_order.trading.outside_of_trading_hours\') %> </div> <div class=form-row> <div class=form-actions> <span class=button-tooltip aria-label=""> <button class="btn btn-primary fn-submit"><%=__(\'order.form.send_order\')%></button> </span> <span class="cancel fn-cancel"><%=__(\'order.form.cancel\')%></span> </div> </div> </div> <div class=separator><span></span></div> <div class=instrument-detail> <div class=col-box> <div class="info-prices-block visible hidden-xs"> <div class=sell> <div class=rate-box> <div class=caption><%-__(\'actions.sell\')%>:</div> <div class=price></div> </div> </div> <div class=buy> <div class=rate-box> <div class=caption><%-__(\'actions.buy\')%>:</div> <div class=price></div> </div> </div> </div> <div class="current-rate hidden visible-xs"> <div class=rate-box> <div class=caption><%=__(\'order.instrument_info.current_rate\')%>:</div> <div class=rate><%-rate%></div> <div class=h-line></div> <div class="percent up"> <span><%-model.getPercentChange()%></span> <i class=arrow></i> </div> </div> </div> <div class=line></div> <div class=information> <div class="row-box hidden-xs" id=change> <b><%-__(\'netChange.header\')%>:</b> <i> <div class=rate-box> <div class="percent up"> <span><%-model.getPercentChange()%></span> <i class=arrow></i> </div> </div> </i> </div> <div class=row-box> <b><%=__(\'instrument_info.minimum_trade_size\')%>:</b> <i><%=minTradeSize%></i> </div> <div class=row-box><b><%=__(\'instrument_info.overnight_interest_time\')%>:</b><i><%\n                        if(overnightInterestTime) {%><%=overnightInterestTime%><%} else {%>None<%}%></i></div> <div class=row-box><b><%=__(\'instrument_info.leverage\')%>:</b><i class=instrument-info-leverage></i></div> <div class=row-box><b><%=__(\'instrument_info.rollover_date\')%>:</b><i><%=rollover || __(\'instrument_info.none\')%></i> </div> <div class=row-box><b><span class=instrument-info-trading-hours-name><%=__(\'instrument_info.trading_hours\')%></span>:</b><i class=instrument-info-trading-hours-value></i></div> <div class=row-box> <b><%= __(\'instrument_info.trading.outside_of_trading_hours\') %>:</b> <i class=instrument-info-trading-outside-of-trading-hours></i> </div> </div> <div class=line></div> <div class=sentiment-block> <% if (model.getInstrumentSentiment()) { %> <p><%=__(\'sentiment.title\')%></p> <div class=sentiment> <div class=sellers><%=model.getInstrumentSentiment().shorts %>% <%=__(\'notification.3rd.SELL\')%></div> <div class=bar> <i style="width:<%=model.getInstrumentSentiment().shorts %>%"></i> <b style="width:<%=model.getInstrumentSentiment().longs %>%"></b> </div> <div class=buyers><%=model.getInstrumentSentiment().longs %>% <%=__(\'notification.3rd.BUY\')%></div> </div> <div class=line></div> <% } %> </div> <% if (model.getInstrumentModel().getBasket()) { %> <div class=basket-block> <div class=block-title> <%=__(\'baskets.title\')%>&nbsp; <i class=icon-help aria-label="<%=__(\'baskets.hint\')%>"></i> </div> <div class=basket-title><%=__(\'baskets.consists\', model.getInstrumentModel().getBasket().instrumentSymbol) %>:</div> <div class=basket-bar></div> </div> <div class=line></div> <% } %> <% if (settings.isLiveChatEnabled()) { %> <div class=help> <span><%=__(\'help.need_help\')%></span> <a href=# class=fn-help-live-chat-link> <span><%=__(\'help.right_here\')%></span> </a> </div> <% } %> </div> </div> </div> </div> '},function(e,t){e.exports='<span class=message> <% if (showWarning) { %> <i class=icon-warning-circle></i> <% } %> <%=message%> </span> <span class=actions> <% if (typeof showMore !== "undefined" && showMore){ %> <button class="btn btn-link fn-more"><%=__(\'notification.box.more\')%></button> <% } %> <% if (typeof hideDismiss !== "undefined" && !hideDismiss){ %> <button class="btn btn-link fn-dismiss"><%=__(\'notification.box.dismiss\')%></button> <% } %> </span>'},function(e,t){e.exports="<div class=account-block-container> <div class=account-block-header> <div class=parent> <div class=row> <div class=\"col-xs-6 left\"> <div class=my-account-header> <span><%=__('my_account')%></span> <span class=line></span> <a id=myfunds><%=__('account_info.header.my_funds')%></a> </div> <div class=\"pending-deposit-message hidden\"> <i class=icon-warning-circle></i> <div> <div><%=__('accountInfo.pendingDeposit')%>:</div> <div class=amount></div> </div> </div> </div> <div class=\"col-xs-6 right\"> <div class=account-switcher> <span class=\"account-switch account-demo <%if(platformType != 'Live') {%>bold<%}%>\"><%=__('accountInfo.button.demo')%></span> <div><input type=checkbox id=account-switch-checkbox <%if(platformType == 'Live')\n                            {%> checked=checked <%}%> <%if (!isPlatformSwitchAllowed) {%> disabled=disabled <%}%> /><label for=account-switch-checkbox></label></div> <span class=\"account-switch account-real <%if(platformType == 'Live') {%>bold<%}%>\"><%=__('accountInfo.button.real')%></span> </div> </div> </div> </div> </div> <div class=account-block-body> <table class=table> <tbody> <tr> <td class=account-info-title><%=__('accountInfo.cash')%>:</td> <td class=account-info-value> <span data-id=balance><%=balance%></span> </td> <td> <span class=question-tooltip data-tooltip-align=right aria-label=\"<%=__('help.account.balance')%>\"></span> </td> </tr> <tr> <td class=account-info-title> <%=__('accountInfo.equity')%>:</td> <td class=account-info-value> <span data-id=equity><%=equity%></span> </td> <td> <span class=question-tooltip data-tooltip-align=right aria-label=\"<%=__('help.account.equity')%>\"></span> </td> </tr> <tr> <td class=account-info-title><%=__('accountInfo.freeMargin')%>:</td> <td class=account-info-value> <span data-id=buyingPower><%=buyingPower%></span> </td> <td> <span class=question-tooltip data-tooltip-align=right aria-label=\"<%=__('help.account.free_margin')%>\"></span> </td> </tr> <tr> <td class=account-info-title><%=__('accountInfo.usedMargin')%>:</td> <td class=account-info-value> <span data-id=margin><%=marginUsed%></span> <span data-id=riskLevel class=\"<%=risk_level_class%>\"> <% if (riskLevel) {%> <%=riskLevel%>% <% } else { %> N/A <% } %> </span> </td> <td> <span class=question-tooltip data-tooltip-align=right aria-label=\"<%=__('help.account.used_margin')%>\"></span> </td> </tr> <tr> <td class=account-environment-separator colspan=3> <div class=environment-indicator> <span></span> <span class=environment> <%=__( platformType != 'Live' ? 'accountInfo.demo.account' : 'accountInfo.live.account')%> </span> <span></span> </div> </td> </tr> <tr> <td class=\"account-info-title account-info-title-bold\"><%=__('accountInfo.pl')%></td> <td class=\"account-info-value pl_value <%= profitLossPositive ? 'pl_pos' : 'pl_neg' %>\"> <span data-id=profitLoss><%=profitLoss%></span> </td> <td> <span class=question-tooltip data-tooltip-align=right aria-label=\"<%=__('help.account.open_p_l')%>\"></span> </td> </tr> </tbody> </table> <div class=button-container> <button type=button class=\"btn btn-primary btn-block fn-deposit\" <%if (!isPlatformSwitchAllowed) {%> disabled=disabled <%}%>> <div class=button-label> <span><%=__('status.deposit_funds')%></span> </div> </button> </div> </div> </div> "},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(381),o=n(5),s=n(8),a=n(66),l=n(519),c=n(120),u=n(1),d=n(582),p=d.EMPTY,f=d.IN_PROCESS,h=d.SUBMIT,m=r.extend({defaults:function(){return{instrumentModel:null,amount:null,amountIncrement:null,currentPrice:null,conversionRate:null,takeProfit:null,stopLoss:null,entryLimit:null,entryStop:null,takeProfitError:null,stopLossError:null,entryLimitError:null,entryStopError:null,minTakeProfit:null,minTakeProfitErrorMessage_Buy:"order.form.validation.take_profit_pips_higher",minTakeProfitErrorMessage_Sell:"order.form.validation.take_profit_pips_lesser",minStopLoss:null,minStopLossErrorMessage_Buy:"order.form.validation.stop_loss_pips_lesser",minStopLossErrorMessage_Sell:"order.form.validation.stop_loss_pips_higher",maxQuantity:"order.form.validation.quantity_too_big",moreFundsRequired:"state.machine.confirmation.deposit.suggest.link",profitForTakeProfit:null,direction:null,rate:0,rateDirection:0,requiredMarginInAccountCurrency:null,requiredMarginInInstrumentCurrency:null,entryLimit_Buy_Label:__("order.form.limit.label.buy"),entryLimit_Sell_Label:__("order.form.limit.label.sell"),entryStop_Buy_Label:__("order.form.stop.label.buy"),entryStop_Sell_Label:__("order.form.stop.label.sell"),entryStop_Buy_Explanation:__("help.order.entry_stop_buy"),entryStop_Sell_Explanation:__("help.order.entry_stop_sell"),entryLimit_Buy_Explanation:__("help.order.entry_limit_buy"),entryLimit_Sell_Explanation:__("help.order.entry_limit_sell"),type:null,isTakeProfitEnabled:!1,isStopLossEnabled:!1,isEntryStopEnabled:!1,isEntryStopLimit:!1,statusOfSubmit:p}},initialize:function(){r.prototype.initialize.apply(this,arguments);var e=this.getInstrumentModel();e.set({totalRequiredMargin:null,requiredMarginInAccountCurrency:null,requiredMarginInInstrumentCurrency:null}),this.loadInstrumentMarginingSettings(),this.loadInstrumentTradingCalendarsSettings(),this.filter(),this.setCurrentPrice(this.getDefiniteRate()),this.listenTo(o,"stream:type:CONVERSION_RATE",this._onConversionRateChange),this.listenTo(this,"change:rate",this.updatePrice),this.listenTo(this,"change:currentPriceFromEntryLimit",this.calcDefaultValuesWithEntryLimit),this.listenTo(this,"change:amount change:entryLimit change:entryStop",this.requestMarginSubscription),this.listenTo(this,"change:amount change:takeProfit change:rate change:conversionRate",this.calcProfitForTakeProfit),this.listenTo(this,"change:amount change:stopLoss change:rate change:conversionRate",this.calcLossForStopLoss),this.listenTo(this,"change:rate",u.compose(this.validateTakeProfit.bind(this),this.validateStopLoss.bind(this),this.validateEntryLimit.bind(this),this.validateEntryStop.bind(this))),this.listenTo(e,"change:"+this.getPriceKey(),this.onRateChanged),this.listenTo(e,"change:"+this.getPriceDirectionKey(),this.onPriceDirection),this.listenTo(e,"change:requiredMarginInAccountCurrency change:requiredMarginInInstrumentCurrency change:totalRequiredMargin",this.updateMargins),this.calcDefaultValues(),this.setRate(this.getDefiniteRate()),this.setRateDirection(this.getPriceDirectionKey()?e.getAskDirection():e.getBidDirection())},loadExtraData:function(){return this.calcOrderDefaultAmount().then(this.calcOrderDefaultAmountSuccess.bind(this)).catch(this.calcOrderDefaultAmountError.bind(this))},loadExtraDataSuccess:function(){return Promise.resolve()},loadExtraDataError:function(e){this.trigger("request:loadExtraData:error")},calcOrderDefaultAmount:function(){return s.calculateOrderDefaultAmount(a.getAtmosphereId(),this.getInstrumentModel().getId())},setInteractiveTradingSettings:function(){c.setDefaultAmount(this.getInstrumentModel().get("instrumentSymbol"),this.getAmount())},calcOrderDefaultAmountSuccess:function(e){var t=this.getInstrumentModel().get("instrumentSymbol"),n=c.getDefaultAmount(t,this.isBuy());return this.setAmountIncrement(e.data.amountIncrement),this.setOriginalAmount(e.data.amount),null===this.getAmount()?this.setAmount(n||null):this.trigger("change:amount"),Promise.resolve()},calcOrderDefaultAmountError:function(e){return Promise.reject()},requestMarginSubscription:function(){var e={symbol:this.getInstrumentModel().getSymbol(),quantity:this.getAmount(),side:this.isBuy()?"BUY":"SELL",conversionRate:this.getConversionRate(),prospectivePrice:0};return this.getEntryLimit()&&(e.prospectivePrice+=this.getEntryLimit()),this.getEntryStop()&&(e.prospectivePrice+=this.getEntryStop()),s.requiredMarginPositionCandidateUpdate(a.getAtmosphereId(),e).then(this.requestSubscriptionSuccess.bind(this)).catch(this.requestSubscriptionError.bind(this))},requestUnsubscription:function(){return s.unsubscribeRequiredMarginPositionCandidateUpdate(a.getAtmosphereId(),this.getInstrumentModel().get("instrumentSymbol")).then(this.requestSubscriptionSuccess.bind(this)).catch(this.requestSubscriptionError.bind(this))},requestSubscriptionSuccess:function(e){return Promise.resolve()},requestSubscriptionError:function(e){return Promise.reject(e)},getValidationValueForProfit:function(){var e=void 0,t=void 0,n=this.getInstrumentModel().getPrecision();return this.isBuy()?(e=Number((this.getRate()+this.minAllowedOrderDistance()).toFixed(n)))>=(t=Number((this.getReflectRate()+this.getInstrumentModel().getPipsPrecisionSize()).toFixed(n)))?e:t:(e=Number((this.getRate()-this.minAllowedOrderDistance()).toFixed(n)))<=(t=Number((this.getReflectRate()-this.getInstrumentModel().getPipsPrecisionSize()).toFixed(n)))?e:t},getValidationValueForLoss:function(){var e=void 0,t=void 0,n=this.getInstrumentModel().getPrecision();return this.isBuy()?(e=Number((this.getRate()-this.minAllowedOrderDistance()).toFixed(n)))<=(t=Number((this.getReflectRate()-this.getInstrumentModel().getPipsPrecisionSize()).toFixed(n)))?e:t:(e=Number((this.getRate()+this.minAllowedOrderDistance()).toFixed(n)))>=(t=Number((this.getReflectRate()+this.getInstrumentModel().getPipsPrecisionSize()).toFixed(n)))?e:t},getErrorsForAmount:function(e){return this.getInstrumentModel().isAmountWordUsed()?__("order.form.validation.amount_too_small",e):__("order.form.validation.quantity_too_small",e)},getErrorDivisible:function(e){return this.getInstrumentModel().isAmountWordUsed()?__("order.form.validation.amount_step",e):__("order.form.validation.quantity_step",e)},getType:function(){return this.get("type")},setType:function(e){return this.set("type",e)},isTakeProfitEnabled:function(){return this.get("isTakeProfitEnabled")},isStopLossEnabled:function(){return this.get("isStopLossEnabled")},setTakeProfitEnabled:function(e){return this.set("isTakeProfitEnabled",e)},setStopLossEnabled:function(e){return this.set("isStopLossEnabled",e)},setIsEntryStop:function(e){return this.set("isEntryStopEnabled",e),this},setIsEntryLimit:function(e){return this.set("isEntryLimitEnabled",e),this},isEntryStopEnabled:function(){return this.get("isEntryStopEnabled")},isEntryLimitEnabled:function(){return this.get("isEntryLimitEnabled")},calcEntryLimit:function(){r.prototype.calcEntryLimit.call(this),this.setIsEntryLimit(!0)},calcEntryStop:function(){r.prototype.calcEntryStop.call(this),this.setIsEntryStop(!0)},cleanEntryLimit:function(){r.prototype.cleanEntryLimit.call(this),this.setIsEntryLimit(!1)},cleanEntryStop:function(){r.prototype.cleanEntryStop.call(this),this.setIsEntryStop(!1)},calcSpred:function(){return(this.getAsk()-this.getBid())*(this.getAmount()||1)*this.getConversionRate()},submitOrder:function(){this.get("statusOfSubmit")!==f&&(this.setInteractiveTradingSettings(),this.submitOrderStatus(h))},submitOrderStatus:function(e){this.set("statusOfSubmit",null,{silent:!0}),this.set("statusOfSubmit",e)},loadInstrumentMarginingSettings:function(){l.getMarginingSettings(this.getInstrumentModel().getSymbol()).then(this.calculateMarginRate.bind(this))},calculateMarginRate:function(e){this.set({instrumentMarginRate:Math.ceil(100/(e.marginRatePercent||100))})},getInstrumentLeverage:function(){return"1:"+this.get("instrumentMarginRate")},loadInstrumentTradingCalendarsSettings:function(){var e=this;l.getTradingCalendarsSettings(this.getInstrumentModel().getSymbol()).then((function(t){return e.set("instrumentTradingCalendarsSettings",t)}))},getInstrumentTradingCalendarsSettings:function(){return this.get("instrumentTradingCalendarsSettings")}});i.exports=m}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var o=n(1),s=n(136),a=n(9),l=n(54),c=n(176),u=n(805),d=n(8),p=n(5),f=o.template(n(1646)),h=o.template(n(242));i.exports=s.extend({name:"change-password",events:function(){return o.extend({},o.result(s.prototype,"events"),{"click #auth-button-create-account":"changePassword","submit .change-password-form":"changePassword","click .password-eye":"showPasswordToggle","click #auth-forgot-password-link":"forgotPassword"})},getOptions:function(e){return o.extend({},s.prototype.getOptions.call(this,e),e)},initialize:function(e){s.prototype.initialize.call(this,e),this.render()},render:function(){s.prototype.render.call(this),this.setContent(f()),this.initForm(),this.show()},initForm:function(){var e=this;["auth-panel-password-field","auth-panel-original-password-field","auth-panel-confirm-password-field"].forEach((function(t){var n=e.$("."+t+" > input")[0];n&&(n.onfocus=e.onFocus.bind(e))}))},onFocus:function(e){e.target.parentNode.classList.remove("field-error"),this.cleanErrors()},changePassword:function(e){var t=this;e.preventDefault(),__eventos("onBoardFlow:changePassword:clkChangePassword"),this.cleanErrors();var n=this.createValidator(),i=n.validate(this.getFormData());if(!i){var r=n.data("auth-panel-original-password-field"),o=n.data("auth-panel-password-field");return d.updatePassword(r,o).then((function(e){return t.requestSuccess(e,o)})).catch(this.requestError.bind(this))}this.showErrors(i)},requestSuccess:function(e,t){if(!o.isEmpty(e.data.error))return Promise.reject(e);d.applyCredentials(t,l.getCurrentLanguage()).then((function(e){return e.data&&d.logoutFromWidgets(e.data,l.getCurrentLanguage())}));var n=this.options.onPasswordChanged;o.isFunction(n)&&n(),this.close()},requestError:function(e){var t=void 0,n=e&&e.response&&e.response.status;if(401===n&&(t=[__("account_settings.change_password.form.validate.incorrect")]),400===n&&e&&o.isArray(e.response.data)&&(t=e.response.data.reduce((function(e,t){var n=__("validation.password."+t.key,t.params);return e.push(n===t.key?t.defaultValue:n),e}),[])),!t)return this.networkError();this.showPasswordValidationErrors(t)},showPasswordValidationErrors:function(e){this.$(".error-block").html(h({errors:[e]})),this.$(".error-block").css("display","block")},networkError:function(){p.trigger("ui:message-box",{parent:document.body,text:__("accountInfo.outOfMarket.other.email")})},getValidatorFilters:function(){return{"auth-panel-password-field":["string"],"auth-panel-confirm-password-field":["string"],"auth-panel-original-password-field":["string"]}},getValidatorRules:function(){return{"auth-panel-original-password-field":{not_empty:__("registration.warning.field_is_required",__("popup.change.password.original.placeholder"))},"auth-panel-password-field":{not_empty:__("registration.warning.field_is_required",__("popup.change.password.new.placeholder")),alpha_numeric:a.isPasswordClientValidationEnabled()?__("account_settings.change_password.form.validate",a.getPasswordMinLength(),a.getPasswordMaxLength()):o.noop,password:a.isPasswordClientValidationEnabled()?__("account_settings.change_password.form.validate",a.getPasswordMinLength(),a.getPasswordMaxLength()):o.noop},"auth-panel-confirm-password-field":{not_empty:__("registration.warning.field_is_required",__("popup.change.password.confirm.placeholder")),strict_equals:[this.$(".auth-panel-password-field input").val(),__("account_settings.change_password.form.validate.not_match")]}}},getFormData:function(){return{"auth-panel-original-password-field":this.$(".auth-panel-original-password-field input").val(),"auth-panel-password-field":this.$(".auth-panel-password-field input").val(),"auth-panel-confirm-password-field":this.$(".auth-panel-confirm-password-field input").val()}},createValidator:function(){return new c(this.getValidatorFilters(),this.getValidatorRules())},showErrors:function(e){var t=this;o.each(e,(function(e,n){t.$("."+n).addClass("field-error")})),this.$(".error-block").html(h({errors:e})),this.$(".error-block").css("display","block")},cleanErrors:function(){var e=this,t=this.getFormData();o.each(t,(function(t,n){e.$("."+n).removeClass("field-error")})),this.$(".error-block").css("display","none")},hide:function(){s.prototype.hide.call(this),this.destroy()},destroy:function(){this.extAuth&&this.extAuth.destroy(),s.prototype.destroy.call(this)},showPasswordToggle:function(e){var t=r(e.target),n=t.parent().find("input");if(t.hasClass("icon-eye-gray"))return t.removeClass("icon-eye-gray"),t.addClass("icon-eye-blue"),void n.attr("type","text");t.removeClass("icon-eye-blue"),t.addClass("icon-eye-gray"),n.attr("type","password")},forgotPassword:function(){return __eventos("onBoardFlow:changePassword:clkForgetPassword"),new u({parent:r("body"),isFooterShowed:!1,backKey:"actions.back"})}})}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t){e.exports='<div class="auth-box forgot-password"> <form class=forgot-password-form> <div class=auth-panel> <div class="caption hidden-xs"><%=__(\'forgot_password.header\')%></div> <div class="caption-xs visible-xs"> <span class=welcome><%=__(\'forgot_password.question\')%></span> <span><%=__(\'forgot_password.help_line\')%></span> </div> <div class="forgot-password-help-line hidden-xs"> <%=__(\'forgot_password.help_line\')%> </div> <div class=form> <div class="auth-panel-email-field field input-field fn-auth-forgot-password-input-email"> <input type=email placeholder="<%=__(\'account_settings.customer_info.form.email\')%>" id=auth-forgot-password-input-email> </div> <button class="btn btn-primary" id=auth-forgot-password-button-submit><%=__(\'actions.reset\')%> </button> <div class="auth-addon-block padding-xs"> <a href=#login id=forgot-password-back-to-login-page-link><%=__(backKey)%></a> </div> <div class="container-fluid inform-block"></div> <div class="container-fluid error-block"></div> </div> </div> <% if (isFooterShowed) { %> <div class=auth-box-footer> <div class="auth-box-info hidden-xs"> <%=__(\'login.risk_warning\')%> </div> </div> <% } %> </form> </div>'},function(e,t){e.exports='<div class="auth-box change-password-popup"> <form class=change-password-form> <div class=auth-panel> <div class="caption hidden-xs"><%=__(\'popup.change.password.caption.web\')%></div> <div class=description><%=__(\'popup.change.password.description.web\')%></div> <div class=auth-content> <div class=auth-form> <div class=form> <div class="auth-panel-original-password-field field input-field"> <input type=password placeholder="<%=__(\'popup.change.password.original.placeholder\')%>" value=""> <i class="password-eye icon-eye-gray"></i> </div> <div class="auth-panel-password-field field input-field"> <input type=password placeholder="<%=__(\'popup.change.password.new.placeholder\')%>" value=""> <i class="password-eye icon-eye-gray"></i> </div> <div class="auth-panel-confirm-password-field field input-field"> <input type=password placeholder="<%=__(\'popup.change.password.confirm.placeholder\')%>" value=""> <i class="password-eye icon-eye-gray"></i> </div> <button class="btn btn-primary" id=auth-button-create-account> <%=__(\'popup.change.password.update.button\')%> </button> <div class="container-fluid error-block"> <div class=row> <div class="col-sm-12 error-message"> <i class=icon-warning></i> <%=__(\'new_account.error_message\')%> </div> </div> </div> </div> </div> </div> </div> </form> <div class=auth-box-footer> <div class=auth-box-switch> <a href=#forgetpass id=auth-forgot-password-link><%=__(\'popup.change.password.forget.password\')%></a> </div> </div> </div>'},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(6);i.exports={_isRequestRunning:!1,_isUpdaterRunning:!1,start:function(){this.isUpdaterRunning()?this.isRequestRunning()||(this.clearTimeout(),this.load()):(this._isUpdaterRunning=!0,this.load())},stop:function(){this._isUpdaterRunning=!1},isUpdaterRunning:function(){return this._isUpdaterRunning},isRequestRunning:function(){return this._isRequestRunning},clearTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){clearTimeout(this.timeoutId)})),loadWithDelay:function(e){var t=this;this.clearTimeout(),this.timeoutId=setTimeout((function(){return t.load()}),e)},load:function(){var e=this;this._isRequestRunning=!0,r.loadUserData().then((function(t){e._isRequestRunning=!1,e.loadSuccess(t)})).catch((function(t){e._isRequestRunning=!1,e.loadWithDelay(6e4)}))},loadSuccess:function(){if(r.isCompliance()||r.getUserDocumentsModel().documentsApprovedByEV())return this.stop();this.loadWithDelay(3e5)}}}.call(t,n,t,e))||(e.exports=i)},function(e,t){e.exports="<div class=account-info-popup> <div class=\"content hidden-xs\"> <div class=data-tables> <div class=column-1> <table class=table> <tbody> <% if (pendingDeposits > 0 && settings.isLive()) {%> <tr class=pending-deposit> <td><span class=name><%=__('accountInfo.pendingDeposit')%>:</span></td> <td> <span><%=pendingDepositsFormatted%></span> </td> <td aria-label=\"<%=__('help.account.pending_deposits')%>\"> <span class=question-tooltip></span> </td> </tr> <% } %> <tr> <td><span class=name><%=__('accountInfo.cash')%>:</span></td> <td> <span data-id=balance><%=balance%></span> </td> <td aria-label=\"<%=__('help.account.balance')%>\"> <span class=question-tooltip></span> </td> </tr> <tr> <td><span class=name><%=__('accountInfo.equity')%>:</span></td> <td> <span data-id=equity><%=equity%></span> </td> <td aria-label=\"<%=__('help.account.equity')%>\"> <span class=question-tooltip></span> </td> </tr> <tr> <td><span class=name><%=__('accountInfo.pl')%></span></td> <td class=\"pl_value <%= profitLossPositive ? 'pl_pos' : 'pl_neg' %>\"> <span data-id=profitLoss><%=profitLoss%></span> </td> <td aria-label=\"<%=__('help.account.open_p_l')%>\"> <span class=question-tooltip></span> </td> </tr> <tr> <td><span class=name><%=__('accountInfo.freeMargin')%>:</span></td> <td> <span data-id=buyingPower><%=buyingPower%></span> </td> <td aria-label=\"<%=__('help.account.free_margin')%>\"> <span class=question-tooltip></span> </td> </tr> <% if (showSpreadRebate) { %> <tr> <td><span class=name><%=__('accountInfo.availableMargin')%>:</span></td> <td> <span data-id=maintenance-margin><%=maintenanceMargin%></span> </td> <td aria-label=\"<%=__('help.account.maintenance_margin')%>\"> <span class=question-tooltip></span> </td> </tr> <% } %> </tbody> </table> </div> <div class=column-2> <table class=table> <tbody> <% if (!showSpreadRebate) { %> <tr> <td><span class=name><%=__('accountInfo.availableMargin')%>:</span></td> <td> <span data-id=maintenance-margin><%=maintenanceMargin%></span> </td> <td aria-label=\"<%=__('help.account.maintenance_margin')%>\"> <span class=question-tooltip></span> </td> </tr> <% } %> <tr> <td><span class=name><%=__('accountInfo.usedMargin')%>:</span></td> <td> <span class=help data-id=margin><%=marginUsed%></span> </td> <td aria-label=\"<%=__('help.account.used_margin')%>\"> <span class=question-tooltip></span> </td> </tr> <tr> <td><span class=name><%=__('accountInfo.maginLevel')%>:</span></td> <td> <span data-id=riskLevel> <% if (riskLevel) {%> <%=riskLevel%>% <% } else { %> N/A <% } %> </span> </td> <td aria-label=\"<%=__('help.account.margin_level',marginAlertLevel2,liquidationLevel)%>\"> <span class=question-tooltip></span> </td> </tr> <% if (settings.isLive() && showSpreadRebate) { %> <tr> <td><span class=name><%=__('funds.management.spread.rebate.title')%></span></td> <td> <span data-id=spreadRebateTotal><%=spreadRebateTotal%></span> </td> <td aria-label=\"<%=__('funds.management.spread.rebate.help')%>\"> <span class=question-tooltip></span> </td> </tr> <% } %> <% if (settings.isLive()) { %> <% if (isBonusesEnabled) { %> <tr> <td><span class=name><%=__('funds.management.bonuses.title')%>:</span></td> <td> <span data-id=activeBonusesAmount><%=activeBonusesAmount%></span> </td> <td aria-label=\"<%=__('funds.management.bonuses.help')%>\"> <span class=question-tooltip></span> </td> </tr> <% } %> <tr> <td><span class=name><%=__('funds.management.available.title')%>:</span></td> <td> <span data-id=availableForWithdrawal><%=availableForWithdrawal%></span> </td> <td aria-label=\"<%=__('funds.management.available.help')%>\"> <span class=question-tooltip></span> </td> </tr> <% } %> </tbody> </table> </div> </div> <div class=line></div> <div class=\"content-bottom hidden-xs\"> <% if (settings.isLiveChatEnabled()) { %> <div class=help-link> <div><%=__('help.need_help')%> <a href=# class=fn-help-live-chat-link><%=__('help.right_here')%></a></div> </div> <% } %> <div class=action-buttons> <% if (settings.isLive()) { %> <a class=\"btn btn-primary btn-block btn-secondary fn-withdraw <%if (!isPlatformSwitchAllowed) {%>disabled<%}%>\" href=#> <div class=button-container> <span><%=__('withdraw.button.withdraw_funds')%></span> </div> </a> <% } %> <a class=\"btn btn-primary btn-block fn-deposit <%if (!isPlatformSwitchAllowed) {%>disabled<%}%>\" href=#> <div class=button-container> <span><%=__('status.deposit_funds')%></span> </div> </a> </div> </div> </div> </div> <div class=account-info-slidebox> <div class=\"content hidden-sm hidden-md hidden-lg\"> <div class=data-tables> <table class=table> <tbody> <% if (pendingDeposits > 0 && settings.isLive()) {%> <tr class=pending-deposit> <td><span class=name><%=__('accountInfo.pendingDeposit')%>:</span></td> <td> <span class=currency><%=currency%></span> <span><%=pendingDeposits%></span> </td> <td aria-label=\"<%=__('help.account.pending_deposits')%>\"> <span class=question-tooltip></span> </td> </tr> <% } %> <tr> <td><span class=name><%=__('accountInfo.cash')%>:</span></td> <td> <span data-id=balance><%=balance%></span> </td> <td aria-label=\"<%=__('help.account.balance')%>\"> <span class=question-tooltip></span> </td> </tr> <tr> <td><span class=name><%=__('accountInfo.equity')%>:</span></td> <td> <span data-id=equity><%=equity%></span> </td> <td aria-label=\"<%=__('help.account.equity')%>\"> <span class=question-tooltip></span> </td> </tr> <tr> <td><span class=name><%=__('accountInfo.pl')%></span></td> <td class=\"pl_value <%= profitLossPositive ? 'pl_pos' : 'pl_neg' %>\"> <span data-id=profitLoss><%=profitLoss%></span> </td> <td aria-label=\"<%=__('help.account.open_p_l')%>\"> <span class=question-tooltip></span> </td> </tr> <tr> <td><span class=name><%=__('accountInfo.freeMargin')%>:</span></td> <td> <span data-id=buyingPower><%=buyingPower%></span> </td> <td aria-label=\"<%=__('help.account.free_margin')%>\"> <span class=question-tooltip></span> </td> </tr> <tr> <td><span class=name><%=__('accountInfo.availableMargin')%>:</span></td> <td> <span data-id=maintenance-margin><%=maintenanceMargin%></span> </td> <td aria-label=\"<%=__('help.account.maintenance_margin')%>\"> <span class=question-tooltip></span> </td> </tr> <tr> <td><span class=name><%=__('accountInfo.usedMargin')%>:</span></td> <td> <span class=help data-id=margin><%=marginUsed%></span> </td> <td aria-label=\"<%=__('help.account.used_margin')%>\"> <span class=question-tooltip></span> </td> </tr> <tr> <td><span class=name><%=__('accountInfo.maginLevel')%>:</span></td> <td> <span data-id=riskLevel> <% if(riskLevel) {%> <%=riskLevel%>% <% } else { %> N/A <% } %> </span> </td> <td aria-label=\"<%=__('help.account.margin_level',marginAlertLevel2,liquidationLevel)%>\"> <span class=question-tooltip></span> </td> </tr> <% if (settings.isLive() && showSpreadRebate) { %> <tr> <td><span class=name><%=__('funds.management.spread.rebate.title')%></span></td> <td> <span data-id=spreadRebateTotal><%=spreadRebateTotal%></span> </td> <td aria-label=\"<%=__('funds.management.spread.rebate.help')%>\"> <span class=question-tooltip></span> </td> </tr> <% } %> <% if (settings.isLive()) { %> <% if (isBonusesEnabled) { %> <tr> <td><span class=name><%=__('funds.management.bonuses.title')%>:</span></td> <td> <span data-id=activeBonusesAmount><%=activeBonusesAmount%></span> </td> <td aria-label=\"<%=__('funds.management.bonuses.help')%>\"> <span class=question-tooltip></span> </td> </tr> <% } %> <tr> <td><span class=name><%=__('funds.management.available.title')%>:</span></td> <td> <span data-id=availableForWithdrawal><%=availableForWithdrawal%></span> </td> <td aria-label=\"<%=__('funds.management.available.help')%>\"> <span class=question-tooltip></span> </td> </tr> <% } %> </tbody> </table> </div> </div> <div class=\"content-bottom hidden-sm hidden-md hidden-lg\"> <div class=\"action-buttons grid\"> <% if (settings.isLive()) { %> <div class=col> <button class=\"btn btn-secondary fn-withdraw\" <%if (!isPlatformSwitchAllowed) {%> disabled=disabled <%}%>><%=__('withdraw.button.withdraw_funds')%></button> </div> <% } %> <div class=col> <button class=\"btn btn-primary fn-deposit\" <%if (!isPlatformSwitchAllowed) {%> disabled=disabled <%}%>><%=__('status.deposit_funds')%></button> </div> </div> </div> </div> "},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(70),s=n(169),a=n(8),l=n(66),c=n(73),u=n(420),d=n(237),p=n(9),f=n(142).closePosition,h=n(3).PROCESSING,m=r.template(n(1650)),g=o.extend({events:function(){return r.extend({},r.result(o.prototype,"events"),{"click .fn-submit":"onSubmit","click .fn-cancel":"onCancel"})},initialize:function(e){var t=this;e.headerStyle="wizard",o.prototype.initialize.apply(this,arguments),this.listenTo(this.model.getPositionModel(),"change:plOpen",this.updatePl),this.listenTo(this.model.getInstrumentModel(),"change:bidDirection change:askDirection",this.updatePriceBlock),this.render(),this.initForm(),this.updatePl(),this.keyboardEvents=d({escape:function(){return t.close()},enter:function(){return t.onSubmit()}},this),this.$(".fn-submit").get(0).focus()},render:function(){o.prototype.render.call(this);var e=this.model.getInstrumentModel();this.$el.find(".responsive-panel").addClass("close-position-panel"),this.setContent(m({position:{type:this.model.getType().toLowerCase(),symbol:e.getDisplayName(),quantity:this.model.isSell()?Math.abs(this.model.getQuantity()):this.model.getQuantity(),costBasic:this.model.getCostBasic().toFixed(e.getPrecision()),lotName:this.model.getLotName(),pipSize:e.getPipsPrecisionSize()},isBuying:"Buy"===this.model.getType(),currencySymbol:this.model.getCurrencySymbol(),isAmount:e.isAmountWordUsed(),settings:p,isSpreadBetting:e.isTypeSpreadBetting(),amountSpreadBettingLabel:e.getAmountSpreadBettingLabel()})),this.elements={plElement:this.$el.find(".row.pl .text-pl"),$sellPrice:this.$el.find(".info-prices-block .sell .rate"),$buyPrice:this.$el.find(".info-prices-block .buy .rate")},this.updatePriceBlock()},initForm:function(){this.form=new s({el:this.$el.find(".form")}),this.listenTo(this.form,"field:change:quantity",this.onQuantityChange),this.defineField()},defineField:function(){var e=this.model,t=this.form.field("quantity"),n=e.getAmount(),i=e.getInstrumentModel(),r=e.getAmountIncrement(),o=i.getPrecision(),s=i.getMinOrderIncrement();n=n<0?Math.abs(n):n,this.initialQuantity=n;var a={min:0,max:n,increment:r,step:s},l={max:[n,e.getErrorAmountMax(n)]};t.value(n),i.isFractionalAmountEnabled()&&(a.precision=o),t.setOptions(a).setRules(l).validateButtons()},onCancel:function(){this.close()},updatePl:function(){var e=this.getPlData();this.elements.plElement.html(e.value).removeClass(e.remove).addClass(e.add)},getPlData:function(){var e=c(this.model.getOpenPl()).formatForeignCurrency(this.model.getUserCurrencySymbol(),"$0.00");return this.model.isPlChangeIncreasing()?{add:"up",remove:"down",value:e}:{add:"down",remove:"up",value:e}},getRateData:function(e,t){var n=this.model.getInstrumentModel().fixRate(e);return{1:{add:"up",remove:"down equally",value:n},0:{add:"equally",remove:"up down",value:n},"-1":{add:"down",remove:"up equally",value:n}}[t]},updatePriceBlock:function(){var e=this.model.getInstrumentModel(),t=this.getRateData(e.getSellPrice(),e.getSellDirection()),n=this.getRateData(e.getBuyPrice(),e.getBuyDirection());this.updateRateElement(this.elements.$sellPrice,t),this.updateRateElement(this.elements.$buyPrice,n)},updateRateElement:function(e,t){e.html(t.value).removeClass(t.remove).addClass(t.add)},onQuantityChange:function(e){var t=this.model,n=t.getInstrumentModel(),i=this.initialQuantity,r=e.value(),o=n.getMinOrderIncrement(),s=n.getPrecision(),a=e._rules;r!==i?(a.min_gt=[0,t.getErrorAmountMin(0)],n.isFractionalAmountEnabled()?a.divisible=[o,Math.pow(10,s+1),t.getErrorDivisible(o)]:a.divisible=[o,t.getErrorDivisible(o)]):(delete a.min_gt,delete a.divisible),this.model.setAmount(r),e.validate(),this.toggleClass(e)},toggleClass:function(e){this.$(".row.quantity")[e.hasError()?"addClass":"removeClass"]("row-error")},disableSubmitButton:function(){this.$el.find(".fn-submit").addClass("disabled").attr("disabled",!0)},onSubmit:function(){if(!this.form.submit()){var e=this.form.getData(),t=store.getState().positions.closingPosition,n=this.model.getPositionCode();this.disableSubmitButton(),t[n]&&t[n]!==h||!t[n]?this.requestClosePosition(e).then(this.requestClosePositionSuccess.bind(this)).then(this.onSubmitSuccess.bind(this)).catch(this.requestClosePositionError.bind(this)).catch(this.onSubmitError.bind(this)):this.closeAfterSubmit()}},requestClosePosition:function(e){var t=this.model.getPositionCode(),n={effect:"CLOSING",timeInForce:"FOK",instrumentId:this.model.getInstrumentModel().getInstrumentId(),positionCode:t,limitPrice:this.model.getRate(),quantity:this.model.isBuy()?-e.quantity:e.quantity,orderType:"LIMIT"},i=this.model.isBuy()?e.quantity:-e.quantity;return __eventos("tradingPlatform:closePosition:clkClosePositionSendOrder",{InstrumentName:this.model.getInstrumentModel().getInstrumentSymbol(),PositionAmount:i,PositionId:t,PositionDirection:this.model.getDirection(),OrderPL:this.model.getOpenPl(),OrderAmount:i}),a.closePosition(l.getAtmosphereId(),n)},requestClosePositionSuccess:function(){return Promise.resolve()},onSubmitSuccess:function(){var e=this.model.get("amount"),t=this.initialQuantity;store.dispatch(f({positionCode:this.model.getPositionCode(),status:h,closingAmount:e,changedQuantity:t})),this.closeAfterSubmit()},closeAfterSubmit:function(){return r.isFunction(this.options.onClose)&&this.options.onClose.call(this),this.keyboardEvents.off(),o.prototype.close.call(this)},close:function(){r.isFunction(this.options.onClose)&&this.options.onClose.call(this),this.keyboardEvents.off();var e=this.model.getPositionModel();return e.trigger("ui:dialog-close",e),o.prototype.close.call(this)},requestClosePositionError:function(e){return Promise.reject(e)},onSubmitError:function(e){var t=this;u((function(){return t.close()}))}});i.exports=g}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t){e.exports='<div class="close-position-popup form"> <div class=content> <div class="row info"> <div> <span class=position><%=__(\'close.position.label\')%></span> <span class="trap-first action-<%=(isBuying ? \'buy\' : \'sell\')%>"><%=position.type%></span> <span class="trap quantity"><%=position.quantity%></span> <span class="trap sumbol"><%=position.symbol%></span> <% if (!isSpreadBetting) { %> <span class="trap-last cost-basic"> @ <%=position.costBasic%> </span> <% } else { %> <span class="trap-last cost-basic"> @ <%=position.costBasic%>: <%=position.quantity%> <%= amountSpreadBettingLabel %> </span> <% } %> </div> <div class="visible hidden-xs flex-stretch"> <div class="info-prices-block flex-align-end"> <div class=sell> <div class=rate-box> <div class=caption><%-__(\'actions.sell\')%>:</div> <div class=rate></div> </div> </div> <div class=buy> <div class=rate-box> <div class=caption><%-__(\'actions.buy\')%>:</div> <div class=rate></div> </div> </div> </div> </div> </div> <div class="row visible-xs"> <div class=flex-stretch> <div class=info-prices-block> <div class=sell> <div class=rate-box> <div class=caption><%-__(\'actions.sell\')%>:</div> <div class=rate></div> </div> </div> <div class=buy> <div class=rate-box> <div class=caption><%-__(\'actions.buy\')%>:</div> <div class=rate></div> </div> </div> </div> </div> </div> <div class="row pl"> <div class=text> <div><%= __(\'position.form.p_l\')%>:</div> <div class="text-pl trap"> </div> </div> <div class="margin fn-margin"> <div><%=__(\'accountInfo.usedMargin\')%>:</div> <div class="required-margin trap"></div> </div> </div> <div class="row quantity"> <div class="form-row form-quantity fn-quantity-row"> <div class=form-label> <div class=text> <%= isAmount ? __(\'close.position.quantity.label.frx\') : __(\'close.position.quantity.label.cfd\')%> </div> <div class=help> <i class=icon-help aria-label="<%=__(\'help.position.close.quantity\')%>"></i> </div> </div> <div class="field field-type-spin-relative"> <div class=input> <input type=text name=quantity> </div> <div class=actions> <button class="btn action-plus" data-type=quantity> <i class=icon-plus></i> </button> <button class="btn action-minus" data-type=quantity> <i class=icon-minus></i> </button> </div> <div class=help> <i class=icon-help aria-label="<%=__(\'close.position.quantity.help\')%>"></i> </div> <div class=field-tooltip> <div class=content></div> </div> </div> </div> </div> </div> <div class=form-actions> <div class=block-button> <button class="btn btn-primary submit fn-submit"><%=__(\'close.position.button.label\')%></button> </div> <div class=block-button> <button class="btn cancel fn-cancel"><%=__(\'actions.cancel\')%></button> </div> <% if (settings.isLiveChatEnabled()) { %> <div class="block-help-line hidden-xs"> <span><%=__(\'help.need_help\')%></span> <a href=# class=fn-help-live-chat-link> <span><%=__(\'help.right_here\')%></span> </a> </div> <% } %> </div> </div> '},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(381),o=n(6),s=r.extend({defaults:function(){return{instrumentModel:null,amount:null,amountIncrement:null,currentPrice:null,direction:null,rate:0}},initialize:function(e){r.prototype.initialize.apply(this,arguments),this.listenTo(this.getInstrumentModel(),"change:"+this.getPriceKey(),this.onRateChanged),this.setAmount(this.getQuantity()),this.setCurrentPrice(this.getCostBasic()),this.setRate(this.getDefiniteRate())},getErrorAmountMin:function(e){return __("order.form.validation.amount_too_small",e)},getErrorDivisible:function(e){return this.getInstrumentModel().isAmountWordUsed()?__("order.form.validation.amount_step",e):__("order.form.validation.quantity_step",e)},getErrorAmountMax:function(e){return this.getInstrumentModel().isAmountWordUsed()?__("order.form.validation.amount_too_big",e):__("order.form.validation.quantity_too_big",e)},getType:function(){return this.get("type")},getPositionModel:function(){return this.get("position")},getQuantity:function(){return this.getPositionModel().get("quantity")},getCostBasic:function(){return this.getPositionModel().get("costBasis")},getLotName:function(){return this.getPositionModel().get("lotName")},getUserCurrencySymbol:function(){return o.getUserCurrencySymbol()},getOpenPl:function(){return this.getPositionModel().get("plOpen")},getPositionCode:function(){return this.getPositionModel().get("positionCode")},getAmountIncrement:function(){return this.getPositionModel().get("amountIncrement")},isPlChangeIncreasing:function(){return this.getOpenPl()>=0},getPriceKey:function(){return this.isBuy()?"bid":"ask"},isBuy:function(){return"Buy"==this.getDirection()},getDefiniteRate:function(){return this.isBuy()?this.getBid():this.getAsk()},getRate:function(){return this.get("rate")}});i.exports=s}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var o=n(1),s=n(33).default,a=n(70),l=n(169),c=n(305).Basket,u=n(5),d=n(0),p=n(22),f=n(8),h=n(66),m=n(73),g=n(124),v=n(644).isMarginLevelLow,b=n(6),_=n(420),y=n(1653),E=n(9),S=n(237),C=n(528),w=n(83),O=n(114),T=n(212),P=o.template(n(1654)),k=a.extend({events:function(){return o.extend({},o.result(a.prototype,"events"),{"click .fn-submit":"onSubmit","click .fn-cancel":"onCancel"})},initialize:function(e){var t=this;e.headerStyle="wizard",e.style="height: 100%;",a.prototype.initialize.apply(this,arguments),this.isFormChanged=!1,this.defaultFormData=!1,this.listenTo(this.model,"change:rate change:conversionRate",this.onUpdateTakeProfitAndStopLoss),this.listenTo(this.model,"change:conversionRate",this.onUpdateProfitAndLoss),this.listenTo(this.model.getInstrumentModel(),"change:bidDirection change:askDirection",this.updatePriceBlock),this.listenTo(this.model,"change:rate",this.onRateChanged),this.listenTo(this.model.getPositionModel(),"change:plOpen",this.updatePl),this.listenTo(this.model,"change:requiredMarginInAccountCurrency change:requiredMarginInInstrumentCurrency",this.fillRequiredMarginForAmount),this.listenTo(this.model,"change:guaranteedStopLossAmount",this.fillGuaranteedStopLoss),this.listenTo(u,"user:margin:level",this.marginLevelChange),this.listenTo(this.model,"change:profitForTakeProfit",this.fillProfitForTakeProfit),this.listenTo(this.model,"change:lossForStopLoss",this.fillLossForStopLoss),Promise.all([this.sendSubscribeToConversion(this.model.getInstrument().getCurrency(),b.getUserCurrency()),this.requestSubscription()]).catch((function(e){return _((function(){return t.close()}))})),this.render(),this.initForm(),this.getBasket(),this.updateRate(),this.updatePl(),this.keyboardEvents=S({escape:function(){return t.close()},enter:function(){return t.onSubmit()}},this)},render:function(){a.prototype.render.call(this);var e=this.model.getPositionCode(),t=this.model.getInstrumentModel(),n=this.model.getPositionModel(),i=n.get("time"),r=n.get("modifiedTime"),o=i===r,s=n.get("expirationDate");this.$el.find(".responsive-panel").addClass("edit-position-panel"),this.setContent(P({position:{positionCode:e,modified:O.positionTimestamp(r),GTMPostfix:O.popupGMTPostfix(),description:t.getDescription(),type:this.model.getType().toLowerCase(),symbol:t.getDisplayName(),quantity:this.model.isSell()?Math.abs(this.model.getQuantity()):this.model.getQuantity(),costBasic:this.model.getCostBasic().toFixed(t.getPrecision()),lotName:this.model.getLotName(),sentiment:t.get("sentiment"),basket:t.getBasket(),pipSize:t.getPipsPrecisionSize()},groupName:this.model.getInstrumentModel().getGroupName(),isOpened:o,isBuying:"Buy"===this.model.getType(),isMobile:window.innerWidth<=767,currencySymbol:this.model.getCurrencySymbol(),isAmount:this.model.getInstrumentModel().isAmountWordUsed(),guaranteedStopLossEnabled:b.isGuaranteedStopLossEnabled(),expirationDate:s?O.positionTimestamp(s,"DD/MM/YYYY"):null,isSimplified:this.options.simplified,isSpreadBetting:t.isTypeSpreadBetting(),amountSpreadBettingLabel:t.getAmountSpreadBettingLabel()})),this.elements={$buyPrice:this.$el.find(".info-prices-block .buy .rate"),$sellPrice:this.$el.find(".info-prices-block .sell .rate"),sentimentRate:this.$el.find(".row.sentiment .rate"),plElement:this.$el.find(".row.pl .text-pl"),$change:this.$el.find("#change .percent span"),$gsl:this.$el.find(".guaranteed-stop-loss")},this.updatePriceBlock(),this.updatePercent(),this.fillGuaranteedStopLoss(),this.fillPriceChange()},fillPriceChange:function(){if(!s.desktop()&&E.isOpenPositionChangePriceEnabled()){var e=this.model.getInstrumentModel(),t=this.model.getPositionModel(),n=d.createElement(y,{model:t,instrument:e,withKey:!0});p.render(n,this.$el.find(".price-change")[0])}},getPercentData:function(e){var t=this.model.getInstrumentModel(),n=t.isPercentChangeIncreasing(),i=t.getPercentStr();return n?{add:"up",remove:"down",value:i}:{add:"down",remove:"up",value:i}},getBasket:function(){var e=this.model.getInstrumentModel().getBasket();if(e){var t=d.createElement(c,{basket:e});p.render(t,this.$el.find(".basket-bar")[0])}else this.$el.find(".basket-block").css({display:"none"})},updatePercent:function(){var e=this.getPercentData(),t=this.elements.$change,n=t.parent();t.html(e.value),n.removeClass(e.remove).addClass(e.add)},initForm:function(){this.form=new l({el:this.$el.find(".form")}),this.listenTo(this.form,"field:change:close-at-profit-checkbox",this.onTakeProfitCheckbox),this.listenTo(this.form,"field:change:take-profit",this.onTakeProfitChange),this.listenTo(this.form,"field:change:close-at-loss-checkbox",this.onCloseAtLossCheckbox),this.listenTo(this.form,"field:change:close-at-loss",this.onCloseAtLossChange),this.listenTo(this.form,"cancel",this.onCancel),this.setFields()},setFields:function(){var e=this.form.field("take-profit"),t=this.form.field("close-at-profit-checkbox"),n=this.form.field("close-at-loss"),i=this.form.field("close-at-loss-checkbox");e.setOptions({step:this.model.getInstrumentModel().getPipsPrecisionSize(),precision:this.model.getInstrumentModel().getPrecision()}),this.model.getTakeProfit()?(t.check(),e.value(this.model.getTakeProfit().toFixed(this.model.getInstrumentModel().getPrecision())),e.setState({pristine:!1}),this.fillProfitForTakeProfit()):this.hideProfitForTakeProfit(),n.setOptions({step:this.model.getInstrumentModel().getPipsPrecisionSize(),precision:this.model.getInstrumentModel().getPrecision()}),this.model.getStopLoss()?(i.check(),n.value(this.model.getStopLoss().toFixed(this.model.getInstrumentModel().getPrecision())),n.setState({pristine:!1}),this.fillLossForStopLoss()):this.hideLossForStopLoss(),this.defaultFormData=this.form.getData(),this.setRulesForProfitField(this.isFormChanged),this.setRulesForLossField(this.isFormChanged)},setRulesForProfitField:function(e){var t=void 0,n=this.form.field("take-profit"),i={};this.model.isBuy()?(i.min=this.model.getValidationValueForProfit(),t=0===Number(n.value())?this.model.getErrorNotZero(__("order.form.take_profit")):this.model.getErrorTakeProfitMessageBuy(this.model.getValidationValueForProfit().toFixed(this.model.getInstrumentModel().getPrecision())),n.setRules({min:[this.model.getValidationValueForProfit(),t]})):(i.max=this.model.getValidationValueForProfit(),i.min=this.model.getInstrumentModel().getPrecisionAsFloat(),t=this.model.getErrorTakeProfitMessageSell(this.model.getValidationValueForProfit().toFixed(this.model.getInstrumentModel().getPrecision())),n.setRules({max:[this.model.getValidationValueForProfit(),t],min:[this.model.getInstrumentModel().getPrecisionSize(),this.model.getErrorNotZero(__("order.form.take_profit"))]})),this.setOptions(e,n,i)},setRulesForLossField:function(e){var t=void 0,n=this.form.field("close-at-loss"),i={},r=this.model.getInstrumentModel().getPrecision(),o=void 0;if(this.model.isBuy()){if(i.max=this.model.getValidationValueForLoss(),i.min=this.model.getInstrumentModel().getPrecisionAsFloat(),t=this.model.getErrorStopLossMessageBuy(this.model.getValidationValueForLoss().toFixed(this.model.getInstrumentModel().getPrecision())),o={max:[this.model.getValidationValueForLoss(),t],min:[this.model.getInstrumentModel().getPrecisionSize(),this.model.getErrorNotZero(__("order.form.stop_loss"))]},b.isGuaranteedStopLossEnabled()){i.min=this.model.getGSLLimit();var s=this.model.getErrorStopLossMessageSell(Number(this.model.getGSLLimit()).toFixed(r));o.min=[i.min,s]}}else i.min=this.model.getValidationValueForLoss(),t=0===Number(n.value())?this.model.getErrorNotZero(__("order.form.stop_loss")):this.model.getErrorStopLossMessageSell(this.model.getValidationValueForLoss().toFixed(this.model.getInstrumentModel().getPrecision())),o={min:[this.model.getValidationValueForLoss(),t]},b.isGuaranteedStopLossEnabled()&&(i.max=this.model.getGSLLimit(),o.max=[i.max,this.model.getErrorStopLossMessageBuy(Number(this.model.getGSLLimit()).toFixed(r))]);n.setRules(o),this.setOptions(e,n,i)},setOptions:function(e,t,n){e&&""!==t.value()?(t.setOptions(n),this.toggleClass(t)):t.setOptions(n,{silent:!0})},onTakeProfitCheckbox:function(e,t){this.setFormAsChanged(),this.getTakeProfitField().setDefaultState(),t?(this.showProfitForTakeProfit(),this.getTakeProfitField().isEnabled()&&!this.model.getTakeProfit()&&this.model.calcTakeProfit()):(this.model.cleanTakeProfit(),this.hideProfitForTakeProfit(),this.updateMessage()),this.fillTakeProfit()},onCloseAtLossCheckbox:function(e,t){this.setFormAsChanged(),this.getStopLossField().setDefaultState(),t?(this.showLossForStopLoss(),this.getStopLossField().isEnabled()&&!this.model.getStopLoss()&&this.model.calcStopLoss()):(this.model.cleanStopLoss(),this.hideLossForStopLoss(),this.updateMessage()),this.fillStopLoss()},setFormAsChanged:function(){if(v())this.$el.find(".fn-submit").addClass("disabled");else{var e=this.form.getData();this.defaultFormData&&(this.isFormChanged||(this.isFormChanged=!0),o.isEqual(this.defaultFormData,e)?this.$el.find(".fn-submit").addClass("disabled"):this.$el.find(".fn-submit").removeClass("disabled"))}},onTakeProfitChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.form.field("take-profit");this.setFormAsChanged(),this.setRulesForProfitField(),e.validate(),this.toggleClass(e),this.model.setTakeProfit(e.value()),this.updateButtonAvailable()},onCloseAtLossChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.form.field("close-at-loss");this.setFormAsChanged(),this.setRulesForLossField(),this.model.setStopLoss(e.value()),e.validate(),this.toggleClass(e),this.updateButtonAvailable()},updateButtonAvailable:function(){o.isEmpty(this.form.getErrorFields())?this.enableSubmitButton():this.disableSubmitButton()},disableSubmitButton:function(e){o.isUndefined(e)&&(e=""),this.$el.find(".fn-submit").addClass("disabled").attr("disabled",!0),this.$el.find(".button-tooltip").attr("aria-label",e)},enableSubmitButton:function(){this.$el.find(".fn-submit").removeClass("disabled").removeAttr("disabled"),this.$el.find(".button-tooltip").attr("aria-label","")},toggleClass:function(e){switch(e._name){case"take-profit":r(".row.entry-stop")[e.hasError()?"addClass":"removeClass"]("row-error");break;case"close-at-loss":r(".row.entry-limit")[e.hasError()?"addClass":"removeClass"]("row-error")}},getTakeProfitField:function(){return this.form.field("take-profit")},showProfitForTakeProfit:function(){this.showOrHideProfitLoss("take-profit",!0)},showOrHideProfitLoss:function(e,t){this.form.field(e).$el.find(".help-line").css("visibility",t?"visible":"hidden")},fillTakeProfit:function(){this.setFieldValueIfEnabled("take-profit",this.model.getTakeProfit())},getStopLossField:function(){return this.form.field("close-at-loss")},showLossForStopLoss:function(){this.showOrHideProfitLoss("close-at-loss",!0)},hideLossForStopLoss:function(){this.showOrHideProfitLoss("close-at-loss",!1)},fillStopLoss:function(){this.setFieldValueIfEnabled("close-at-loss",this.model.getStopLoss())},setFieldValueIfEnabled:function(e,t){var n=this.form.field(e),i=n.isEnabled()?t.toFixed(this.model.getInstrumentModel().getPrecision()):"";Number(n.value())!==Number(i)&&n.value(i)},hideProfitForTakeProfit:function(){this.showOrHideProfitLoss("take-profit",!1)},close:function(){o.isFunction(this.options.onClose)&&this.options.onClose.call(this),this.keyboardEvents.off(),a.prototype.close.call(this),Promise.all([this.sendUnsubscribeFromConversion(this.model.getInstrument().getCurrency(),b.getUserCurrency()),this.requestUnsubscription()]).catch((function(e){return _()}))},onCancel:function(){this.close()},onRateChanged:function(e){var t=this.getTakeProfitField(),n=this.getStopLossField();this.updateRate(),t.isEnabled()&&t.isPristine()&&this.setRulesForProfitField(this.isFormChanged),n.isEnabled()&&n.isPristine()&&this.setRulesForLossField(this.isFormChanged)},updateRate:function(){var e=this.model.getRate(),t=this.getRateData(e);this.updateRateElement(this.elements.sentimentRate,t)},updatePl:function(){this.updateRateElement(this.elements.plElement,this.getPlData()),this.fillRequiredMarginForAmount()},getPlData:function(){var e=m(this.model.getOpenPl()).formatForeignCurrency(this.model.getUserCurrencySymbol(),"$0.00");return this.model.isPlChangeIncreasing()?{add:"up",remove:"down",value:e}:{add:"down",remove:"up",value:e}},getRateData:function(e){var t=this.model.getRateDirection(),n=this.model.getInstrumentModel().fixRate(e);return{1:{add:"up",remove:"down",value:n},0:{add:"",remove:"up down",value:n},"-1":{add:"down",remove:"up",value:n}}[t]},getRateDataByDir:function(e,t){var n=this.model.getInstrumentModel().fixRate(e);return{1:{add:"up",remove:"down equally",value:n},0:{add:"equally",remove:"up down",value:n},"-1":{add:"down",remove:"up equally",value:n}}[t]},updatePriceBlock:function(){var e=this.model.getInstrumentModel(),t=this.getRateDataByDir(e.getSellPrice(),e.getSellDirection()),n=this.getRateDataByDir(e.getBuyPrice(),e.getBuyDirection());n.value=w.formatValueToStringOrComponent(w.divideValueByPipSize(n.value,e.getPipsPrecision()),!0),t.value=w.formatValueToStringOrComponent(w.divideValueByPipSize(t.value,e.getPipsPrecision()),!0),this.updateRateElement(this.elements.$sellPrice,t),this.updateRateElement(this.elements.$buyPrice,n)},updateRateElement:function(e,t){e.html(t.value).removeClass(t.remove).addClass(t.add)},requestSubscription:function(){return f.requiredMarginByPositionUpdate(h.getAtmosphereId(),this.model.getPositionCode()).then(this.requestSubscriptionSuccess.bind(this)).catch(this.requestSubscriptionError.bind(this))},requestUnsubscription:function(){return f.unsubscribeRequiredMarginByPositionUpdate(h.getAtmosphereId(),this.model.getPositionCode()).then(this.requestSubscriptionSuccess.bind(this)).catch(this.requestSubscriptionError.bind(this))},requestSubscriptionSuccess:function(e){return Promise.resolve()},requestSubscriptionError:function(e){return Promise.reject(e)},fillRequiredMarginForAmount:function(){var e=this.model,t=b.getUserCurrencySymbol(),n=e.getInstrument().getCurrencySymbol(),i=Number(e.getRequiredMarginInInstrumentCurrency()),r=Number(e.getRequiredMarginInAccountCurrency()),o=(e.getInstrument().getMarginRate(),e.getConversionRate(),m(r).format("0,0.[00]")),s=m(i).format("0,0.[00]"),a=""+t+o;r!==i&&(a=""+n+s+" = "+t+o,0===r&&(a=""+t+s)),this.$(".required-margin").html(a)},fillGuaranteedStopLoss:function(){if(!b.isGuaranteedStopLossEnabled())return!1;var e=b.getUserCurrencySymbol(),t=this.model.getGuaranteedStopLossAmount();this.elements.$gsl.html(e+m(t).format("0,0.[00]"))},onSubmit:function(){var e=this,t=this.$el.find(".fn-submit").hasClass("disabled");if(!this.form.submit()&&!t){var n=this.form.getData();this.disableSubmitButton(),T.showTradeConfirmation().then((function(){return e.requestEditPosition(n)})).then(this.requestEditPositionSuccess.bind(this)).then(this.onSubmitSuccess.bind(this)).catch(this.requestEditPositionError.bind(this)).catch(this.onSubmitError.bind(this))}},requestEditPosition:function(e){var t=this.form.field("close-at-profit-checkbox").isChecked(),n=[];if(this.form.field("close-at-loss-checkbox").isChecked()){var i={fixedOffset:this.model.minOrderDistance(),fixedPrice:e["close-at-loss"],isPriceFixed:!0,orderType:"STOP",requestId:null};n.push(i)}if(t){var r={fixedOffset:this.model.minOrderDistance(),fixedPrice:e["take-profit"],isPriceFixed:!0,orderType:"LIMIT",requestId:null};n.push(r)}return f.editPosition(h.getAtmosphereId(),n,this.model.getPositionCode())},requestEditPositionSuccess:function(){return Promise.resolve()},onSubmitSuccess:function(){this.close()},requestEditPositionError:function(e){return Promise.reject(e)},onSubmitError:function(e){this.close(),new g({parent:r("body"),text:e.message,isHeaderShowed:!1})},marginLevelChange:function(){this.setFormAsChanged(),v()?this.$el.find(".button-tooltip").attr("aria-label",__("margin.level_2.open_position.warning.description")):this.$el.find(".button-tooltip").attr("aria-label","")},fillProfitForTakeProfit:function(){var e=b.getUserCurrencySymbol(),t=this.model.getProfit();this.getTakeProfitField().isEnabled()&&(this.getTakeProfitField().$(".help-line").html(__("order.form.protection.profit",e,Number(t>0?t:0).toFixed(2))),this.updateMessage())},fillLossForStopLoss:function(){var e=this.model.getLoss(),t=b.getUserCurrencySymbol();this.getStopLossField().isEnabled()&&(this.getStopLossField().$(".help-line").html(__("order.form.protection.loss",t,Number(e>0?e:0).toFixed(2))),this.updateMessage())},onUpdateTakeProfitAndStopLoss:function(){var e=this.getTakeProfitField(),t=this.getStopLossField();e.isEnabled()&&e.isPristine()&&(this.model.calcTakeProfit(),this.fillTakeProfit()),t.isEnabled()&&t.isPristine()&&(this.model.calcStopLoss(),this.fillStopLoss())},onUpdateProfitAndLoss:function(){var e=this.getTakeProfitField(),t=this.getStopLossField();e.isEnabled()&&this.model.calcProfitForTakeProfit(),t.isEnabled()&&this.model.calcLossForStopLoss()},sendSubscribeToConversion:function(e,t){return C.add(e,t).then(this.requestConversionSubscriptionSuccess.bind(this)).catch(this.requestConversionSubscriptionError.bind(this))},sendUnsubscribeFromConversion:function(e,t){return C.remove(e,t).then(this.requestConversionUnsubscriptionSuccess.bind(this)).catch(this.requestConversionUnsubscriptionError.bind(this))},requestConversionSubscriptionSuccess:function(e){return Promise.resolve(e)},requestConversionSubscriptionError:function(e){return Promise.reject(e)},requestConversionUnsubscriptionSuccess:function(e){return Promise.resolve(e)},requestConversionUnsubscriptionError:function(e){return Promise.reject(e)},showMessage:function(e){this.$el.find(".fn-message > span").html(e),this.$el.find(".fn-message").removeClass("hidden")},hideMessage:function(){this.$el.find(".fn-message").addClass("hidden")},updateMessage:function(){var e=this.model.getLoss(),t=this.model.getProfit(),n=b.getUserCurrencySymbol(),i=m(-e).formatForeignCurrency(n,"$0.00"),r=m(-t).formatForeignCurrency(n,"$0.00"),o=this.$el.find(".fn-message"),s=this.getStopLossField(),a=this.getTakeProfitField(),l=Number(this.model.getTakeProfit()).toFixed(this.model.getInstrumentModel().getPrecision()),c=Number(this.model.getStopLoss()).toFixed(this.model.getInstrumentModel().getPrecision());t<0&&a.isEnabled()?(o.removeClass("stop-loss-pos"),o.addClass("take-profit-neg"),this.showMessage(__("position.form.validation.positive_take_profit",l,""+r))):e<0&&s.isEnabled()?(o.removeClass("take-profit-neg"),o.addClass("stop-loss-pos"),this.showMessage(__("position.form.validation.positive_stop_loss",c,""+i))):(o.removeClass("stop-loss-pos"),o.removeClass("take-profit-neg"),this.hideMessage())},setTakeProfit:function(e){var t=this.form.field("take-profit");t.value(e),t.onInputChange()},disableTakeProfit:function(){this.form.field("close-at-profit-checkbox").uncheck()},setStopLoss:function(e){var t=this.form.field("close-at-loss");t.value(e),t.onInputChange()},disableStopLoss:function(){this.form.field("close-at-loss-checkbox").uncheck()}});i.exports=k}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(233),s=["ask","bid"],a=n(73),l=n(18);i.exports=l({displayName:"exports",getInitialState:function(){var e=this.calculatePercent();return{priceChange:e,dir:this.isDir(e),boldValue:this.isBold(e),boldKey:this.props.boldKey,endWith:""}},componentDidMount:function(){var e=this;s.forEach((function(t){e.props.instrument.on("change:"+t,e.update,e)}))},componentWillUnmount:function(){var e=this;s.forEach((function(t){e.props.instrument.off("change:"+t,e.update,e)}))},update:function(){var e=this.calculatePercent();this.setState({priceChange:e,dir:this.isDir(e),boldValue:this.isBold(e)})},calculatePercent:function(){var e=this.props.model,t=this.props.instrument,n=e.get("quantity"),i=Number(e.get("costBasis")),r=n>0?t.getAsk():t.getBid();return a((r-i)/i*100).format("0,0.00")},isDir:function(e){return e>0?1:e<0?-1:0},isBold:function(e){return e<=-10||10<=e},render:function(){var e=__("tab.open_positions.column.price.change");return e=!0===this.props.boldKey?r.createElement("b",null,e):e,r.createElement("div",{style:{display:"inline-block"}},!0===this.props.withKey&&r.createElement("span",null,e,":"),r.createElement(o,{value:this.state.priceChange,alwaysPrecision:!0,precision:2,postfix:"%",bold:this.state.boldValue,dir:this.state.dir,greynessDelay:0,inline:!0}),this.props.endWith)}})}.call(t,n,t,e))||(e.exports=i)},function(e,t){e.exports='<div class="edit-position-popup form <%=isSimplified ? \'simplified\' : \'\'%>"> <div class=content> <div class="row info"> <div class=title> <div class="flex flex-row flex-wrap"> <span class="action-<%=position.type%>"><%= isBuying ? __(\'actions.bought\') : __(\'actions.sold\') %></span> <span class=quantity><%=position.quantity%></span> <span class=hidden-xs>&nbsp;|&nbsp;</span> <span class=visible-xs><%=position.symbol%></span> <span class=symbol> <div class="flex flex-row flex-valign-center"> <div class=""> <%=position.symbol%> </div> <div class=rate-box id=change> <div class="percent up"> <span></span> <i class=arrow></i> </div> </div> </div> </span> <span class=cost-basic> @ <%=position.costBasic%></span> </div> <div><%=position.description%></div> </div> <div> <div class="visible hidden-xs flex-stretch"> <div class="info-prices-block flex-align-end"> <div class=sell> <div class=rate-box> <div class=caption><%-__(\'actions.sell\')%>:</div> <div class=rate></div> </div> </div> <div class=buy> <div class=rate-box> <div class=caption><%-__(\'actions.buy\')%>:</div> <div class=rate></div> </div> </div> </div> </div> <div class="meta flex"> <div> <div><%= isOpened ? __(\'position.form.opennedAt\') : __(\'order.form.edit.lastmodified\') %> <%=position.modified%><%=position.GTMPostfix%></div> <div><%=__(\'position.form.code\')%> <%=position.positionCode%></div> </div> </div> </div> </div> <% if (position.sentiment) { %> <div class="row sentiment"> <div class=text> <div><%= __(\'sentiment.title\')%></div> <div><%=__(\'order.instrument_info.current_rate\')%>: <span class=rate></span></div> </div> <div class=chart> <div class=sellers><%=position.sentiment.shorts %>% <%=__(\'actions.sold\')%></div> <div class=bar> <i style="width:<%=position.sentiment.shorts %>%"></i> <b style="width:<%=position.sentiment.longs %>%"></b> </div> <div class=buyers><%=position.sentiment.longs %>% <%=__(\'actions.bought\')%></div> &nbsp; <div class="flex flex-valign-center" data-tooltip-align=right aria-label="<%-__(\'sentiment.text\')%>"> <i class="icon icon-help"></i> </div> </div> </div> <% } %> <% if (position.basket) { %> <div class=row> <div class=basket-block> <div class=block-title> <%=__(\'baskets.title\')%>&nbsp; <i class=icon-help aria-label="<%=__(\'baskets.hint\')%>"></i> </div> <div class=basket-title><%=__(\'baskets.consists\', position.basket.instrumentSymbol) %>:</div> <div class=basket-bar></div> </div> </div> <% } %> <div class="row visible-xs"> <div class=flex-stretch> <div class=info-prices-block> <div class=sell> <div class=rate-box> <div class=caption><%-__(\'actions.sell\')%>:</div> <div class=rate></div> </div> </div> <div class=buy> <div class=rate-box> <div class=caption><%-__(\'actions.buy\')%>:</div> <div class=rate></div> </div> </div> </div> </div> </div> <div class="row quantity"> <div class=text> <% if (!isSpreadBetting) { %> <div><%=isAmount ?  __(\'help.order.amount\') : __(\'help.order.quantity\')%>:</div> <div class=trap-last><%=groupName%> <%=position.quantity%> @ <%=position.costBasic%></div> <% } else { %> <div> <%= isBuying ? __(\'actions.bought\') : __(\'actions.sold\') %> <%=position.quantity%> <%=position.symbol%> @<%=position.costBasic%>: </div> <div class=trap-last> <%=position.quantity%> <%= amountSpreadBettingLabel %> </div> <% } %> </div> </div> <div class="row pl"> <div class=text> <div><%= __(\'position.form.p_l\')%>:</div><div class="text-pl trap-last"></div> </div> <div class=price-change> </div> <div class="margin fn-margin"> <div><%=__(\'accountInfo.usedMargin\')%>:</div><div class="required-margin trap-last"></div> </div> <% if (guaranteedStopLossEnabled){ %> <div class=guaranteed-stop-loss-wrapper> <div><%=__(\'order.form.guaranteed_stop_loss\')%>:&nbsp;<span class=guaranteed-stop-loss></span>&nbsp; <i class=icon-help aria-label="<%=__(\'help.guaranteed_stop_loss\')%>"></i></div> </div> <% } %> </div> <% if (expirationDate){ %> <div class="row expiration"> <div><%=__(\'position.form.expiration\', expirationDate)%></div> <div class=help> <i class=icon-help aria-label="<%-__(\'help.order.expiration\')%>"></i> </div> </div> <% } %> <div class="row entry-stop"> <div class=form-box-row> <div class="field field-rollout field-type-rollout"> <div class=label> <div class=text><%=__(\'order.form.take_profit\')%></div> <div class=switcher> <label> <input type=checkbox name=close-at-profit-checkbox class="ios-switch green" id=close-at-profit-checkbox /> <div> <div></div> </div> <label for=close-at-profit-checkbox><%=__(\'order.form.take_profit\')%></label> </label> </div> </div> <div class=rollout-content> <div class="field field-type-spin field-disabled" data-field-depends=close-at-profit-checkbox> <div class=input> <input type=text name=take-profit> </div> <div class=actions> <button href=# class="btn action-plus"> <i class=icon-plus></i> </button> <button href=# class="btn action-minus"> <i class=icon-minus></i> </button> </div> <div class=help> <i class=icon-help aria-label="<%=__(\'help.order.take_profit\')%>"></i> </div> <div class=help-line> <div></div> </div> <div class=field-tooltip> <div class=content></div> </div> </div> </div> </div> </div> </div> <div class="row entry-limit"> <div class=form-box-row> <div class="field field-rollout field-type-rollout"> <div class=label> <div class=text><%=__(\'order.form.stop_loss\')%></div> <div class=switcher> <label> <input type=checkbox name=close-at-loss-checkbox id=close-at-loss-checkbox class="ios-switch green"/> <div> <div></div> </div> <label for=close-at-loss-checkbox><%=__(\'order.form.stop_loss\')%></label> </label> </div> </div> <div class=rollout-content> <div class="field field-type-spin field-disabled" data-field-depends=close-at-loss-checkbox> <div class=input> <input type=text name=close-at-loss> </div> <div class=actions> <button href=# class="btn action-plus"> <i class=icon-plus></i> </button> <button href=# class="btn action-minus"> <i class=icon-minus></i> </button> </div> <div class=help> <i class=icon-help aria-label="<%=__(\'help.order.stop_loss\')%>"></i> </div> <div class=help-line> <div></div> </div> <div class=field-tooltip> <div class=content></div> </div> </div> </div> </div> </div> </div> <div class="row message fn-message hidden"> <span></span> </div> </div> <div class=form-actions> <div class="block-button button-tooltip" aria-label=""> <button class="btn btn-primary submit fn-submit disabled"><%=__(\'actions.save\')%></button> </div> <div class=block-button> <button class="btn btn-primary cancel fn-cancel"><%=__(\'actions.cancel\')%></button> </div> </div> </div> '},function(e,t,n){var i;void 0===(i=function(e,t,i){n(1);var r=n(789),o=n(16),s=n(26),a=n(5),l=n(6),c=n(245).SWITCH_MODE_DROPDOWN,u=n(98),d=u.EMPTY,p=u.TYPE_MARKET;i.exports=r.extend({makeOrderObject:function(){var e=r.prototype.makeOrderObject.call(this);return e.set("refOrderChainId",this.model.get("refOrderChainId"),{silent:!0}),e},updateForTradeOutsideOfTradingHours:function(){},render:function(){r.prototype.render.apply(this,arguments);var e=this.model,t=this.$(".new-order__type-block .icon").parent(),n=e.get("refOrderChainId"),i=e.get("time"),a=e.get("modifiedTime"),l=i===a,c=o(a).utc().format("DD/MM/YYYY HH:mm"),u=s.getInstrumentBySymbol(e.get("symbol")),d=u&&u.getDisplayName();return t.html('<i class="icon icon-help" aria-label="'+__("indigo.help.order.edit.type")+'"></i>'),this.$(".order-edit__base-info").removeClass("hidden"),this.$(".new-order__rates-block").remove(),this.$(".instrument-symbol").html(d),this.$(".order-time").html(c),this.$(".order-id").html(n),this.$(".order-time-label").html(l?__("position.form.opennedAt"):__("order.form.edit.lastmodified")),this},changeOpenPositionMode:function(e){var t=this,n=e[0],i=l.getUserCommonData().getOpenPositionMode(),r={direction:this.order.direction().value(),symbolOrId:this.model.getSymbol(),quantity:this.order.amount().value(),type:this.order.getType(),takeProfit:!!this.order.takeProfit().isEnabled()&&parseFloat(this.order.takeProfit().value()),stopLoss:!!this.order.stopLoss().isEnabled()&&parseFloat(this.order.stopLoss().value()),price:this.order.getType()===p?d:Number(this.order.entry().value()),source:c};l.getUserCommonData().saveOpenPositionMode(n).then((function(){t.close(),a.trigger("ui:edit-order",t.order,r),t.sendChangeOPModeEvent(n,i)}))},renderDangerInfo:function(){},updateCaption:function(){},setAmount:function(e){this.amount.value(e)},setPrice:function(e){this.entry.value(e)},setTakeProfit:function(e){this.takeProfit.value(e)},enableTakeProfit:function(){this.tpCheckbox.check()},disableTakeProfit:function(){this.tpCheckbox.uncheck()},setStopLoss:function(e){this.stopLoss.value(e)},enableStopLoss:function(){this.slCheckbox.check()},disableStopLoss:function(){this.slCheckbox.uncheck()}})}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){"use strict";n.r(t);var i=n(497),r=n.n(i),o=n(5),s=n.n(o),a=n(6),l=n.n(a),c=n(98),u=n(245),d=r.a.extend({makeOrderObject:function(){var e=r.a.prototype.makeOrderObject.call(this);return e.set("refOrderChainId",this.model.get("refOrderChainId"),{silent:!0}),e},updateForTradeOutsideOfTradingHours:function(){},changeOpenPositionMode:function(e){var t=this,n=e[0],i=l.a.getUserCommonData().getOpenPositionMode(),r={direction:this.order.direction().value(),symbolOrId:this.model.getSymbol(),quantity:this.order.amount().value(),type:this.order.getType(),takeProfit:!!this.order.takeProfit().isEnabled()&&parseFloat(this.order.takeProfit().value()),stopLoss:!!this.order.stopLoss().isEnabled()&&parseFloat(this.order.stopLoss().value()),price:this.order.getType()===c.TYPE_MARKET?c.EMPTY:Number(this.order.entry().value()),source:u.SWITCH_MODE_DROPDOWN};l.a.getUserCommonData().saveOpenPositionMode(n).then((function(){t.close(),s.a.trigger("ui:edit-order",t.order,r),t.sendChangeOPModeEvent(n,i)}))},renderDangerInfo:function(){},updateCaption:function(){},setAmount:function(e){this.amount.value(e)},setPrice:function(e){this.entry.value(e)},setTakeProfit:function(e){this.takeProfit.value(e)},enableTakeProfit:function(){this.tpCheckbox.check()},disableTakeProfit:function(){this.tpCheckbox.uncheck()},setStopLoss:function(e){this.stopLoss.value(e)},enableStopLoss:function(){this.slCheckbox.check()},disableStopLoss:function(){this.slCheckbox.uncheck()}});t.default=d},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var o=n(1),s=n(5),a=n(33).default,l=n(70),c=n(169),u=n(305).Basket,d=n(8),p=n(0),f=n(22),h=n(66),m=n(6),g=n(420),v=n(32),b=n(237),_=n(528),y=n(83),E=n(114),S=n(212),C=n(473).default,w=o.template(n(1658)),O=n(245).SWITCH_MODE_DROPDOWN,T=n(61).OPEN_POSITION_OPTIONS,P=l.extend({events:function(){return o.extend({},o.result(l.prototype,"events"),{"mousedown .fn-close-popup":"close","click .fn-submit":"onSubmit"})},initialize:function(e){var t=this;e.headerStyle="wizard",this.action=e.action,l.prototype.initialize.apply(this,arguments),this.isFormChanged=!1,this.defaultFormData=!1,this.listenTo(this.model,"change:rate",this.onRateChanged),this.listenTo(this.model,"change:currentPrice",this.onPriceChange),this.listenTo(this.model,"change:requiredMarginInAccountCurrency change:requiredMarginInInstrumentCurrency change:conversionRate",this.fillRequiredMarginForAmount),this.listenTo(this.model,"change:guaranteedStopLossAmount",this.fillGuaranteedStopLoss),this.listenTo(this.model,"change:requiredMarginInInstrumentCurrency",this.checkSubmitButtonAvailable),this.listenTo(this.model,"change:profitForTakeProfit",this.fillProfitForTakeProfit),this.listenTo(this.model,"change:lossForStopLoss",this.fillLossForStopLoss),this.listenTo(this.model,"change:amount change:currentPrice",this.subscribeRequiredMarginPositionCandidateUpdate),this.listenTo(this.model.getInstrument(),"change:bidDirection change:askDirection",this.updatePriceBlock),this.listenTo(this.model.getInstrument(),"change:buyTradable",this.checkSubmitButtonAvailable),this.listenTo(this.model.getInstrument(),"change:sellTradable",this.checkSubmitButtonAvailable),this.listenTo(this.model.getInstrument(),"change:editable",this.checkSubmitButtonAvailable),this.listenTo(this.model.getInstrument(),"change:tieredMarginApplied",this.showTieredMargin),this.listenToOnce(this.model,"change:amount change:requiredMarginInInstrumentCurrency change:requiredMarginInAccountCurrency",o.after(3,this.readyForAmountField.bind(this))),this.render(),this.getBasket(),Promise.all([this.sendSubscribeToConversion(this.model.getInstrument().getCurrency(),m.getUserCurrency()),this.subscribeRequiredMarginPositionCandidateUpdate()]).then((function(){return t.showRequiredMarginBlockForAmount()})).catch((function(e){return g((function(){return t.close()}))})),this.updatePriceBlock(),this.updateRate(),this.updatePercent(),this.initForm(),this.hideRequiredMarginBlockForAmount(),this.checkSubmitButtonAvailable(),this.keyboardEvents=b({escape:function(){return t.close()},enter:function(){return t.onSubmit()}},this)},render:function(){l.prototype.render.call(this),this.$el.find(".responsive-panel").addClass("edit-order-panel");var e=this.model.getInstrumentModel();this.setContent(w({model:this.model,order:{orderID:this.model.order.getOrderChainId(),modified:E.orderTimestamp(this.model.order.get("modifiedTime")),GMTPostfix:E.popupGMTPostfix(),description:this.model.instrument.get("description"),type:this.model.order.get("type").toLowerCase(),action:this.action,symbol:e.getDisplayName(),sentiment:e.get("sentiment"),basket:e.getBasket(),pipSize:e.getPipsPrecisionSize()},groupName:e.getGroupName(),guaranteedStopLossEnabled:m.isGuaranteedStopLossEnabled(),isBuying:"buy"===this.action,isMobile:window.innerWidth<=767,currencySymbol:this.model.getCurrencySymbol(),isAmount:e.isAmountWordUsed(),expirationDays:e.getExpirationDays(),isSpreadBetting:e.isTypeSpreadBetting(),amountSpreadBettingLabel:e.getAmountSpreadBettingLabel()})),this.elements={$buyPrice:this.$el.find(".info-prices-block .buy .rate"),$sellPrice:this.$el.find(".info-prices-block .sell .rate"),sentimentRate:this.$el.find(".row.sentiment .rate"),$change:this.$el.find("#change .percent span")},this.$(".header-actions").remove(),this.$(".x-popup-header").append('\n                <div class="header-actions fn-settings btn"></div>\n                <div class="header-actions fn-close-popup btn">\n                    <i class="icon icon-close-grey"></i>\n                </div>\n            '),this.initSettings()},getRateDataByDir:function(e,t){var n=this.model.getInstrumentModel().fixRate(e);return{1:{add:"up",remove:"down",value:n},0:{add:"",remove:"",value:n},"-1":{add:"down",remove:"up",value:n}}[t]},getPercentData:function(e){var t=this.model.getInstrumentModel(),n=t.isPercentChangeIncreasing(),i=t.getPercentStr();return n?{add:"up",remove:"down",value:i}:{add:"down",remove:"up",value:i}},getBasket:function(){var e=this.model.getInstrumentModel().getBasket();if(e){var t=p.createElement(u,{basket:e});f.render(t,this.$el.find(".basket-bar")[0])}else this.$el.find(".basket-block").css({display:"none"})},updatePercent:function(){var e=this.getPercentData(),t=this.elements.$change,n=t.parent();t.html(e.value),n.removeClass(e.remove).addClass(e.add)},updatePriceBlock:function(){var e=this.model.getInstrumentModel(),t=this.getRateDataByDir(e.getSellPrice(),e.getSellDirection()),n=this.getRateDataByDir(e.getBuyPrice(),e.getBuyDirection());n.value=y.formatValueToStringOrComponent(y.divideValueByPipSize(n.value,e.getPipsPrecision()),!0),t.value=y.formatValueToStringOrComponent(y.divideValueByPipSize(t.value,e.getPipsPrecision()),!0),this.updateRateElement(this.elements.$sellPrice,t),this.updateRateElement(this.elements.$buyPrice,n)},updateRateElement:function(e,t){e.html(t.value).removeClass(t.remove).addClass(t.add)},initForm:function(){this.form=new c({el:this.$el.find(".form")}),this.listenTo(this.form,"field:change:close-at-profit-checkbox",this.onTakeProfitCheckbox),this.listenTo(this.form,"field:change:take-profit",this.onTakeProfitChange),this.listenTo(this.form,"field:change:close-at-loss-checkbox",this.onCloseAtLossCheckbox),this.listenTo(this.form,"field:change:close-at-loss",this.onCloseAtLossChange),this.listenTo(this.form,"field:change:price",this.onPriceFieldChange),this.listenTo(this.form,"field:change:quantity",this.onQuantityChange),this.listenTo(this.form,"cancel",this.onCancel),this.defineFields()},initSettings:function(){var e=this;if(!a.mobile()){this.$settingsButton=this.$(".fn-settings")[0];var t=m.getUserCommonData().getOpenPositionMode();this.settingsDropdown=f.render(p.createElement(C,{options:T,selected:t,transformOptionText:function(e){return __("modes."+[e])},onChange:function(t){return e.changeOpenPositionMode(t)}}),this.$settingsButton)}},defineFields:function(){var e=this.form.field("quantity"),t=this.model.getAmount(),n=this.form.field("price"),i=this.form.field("take-profit"),r=this.form.field("close-at-profit-checkbox"),o=this.form.field("close-at-loss"),s=this.form.field("close-at-loss-checkbox");t=t<0?-t:t,this.model.setAmount(t),e.value(t);var a=this.model,l=a.instrument,c=l.getMinOrderSize(),u=l.getMaxOrderSize(),d=l.getPrecision(),p=l.getPrecisionAsFloat(),f=a.instrument.getMinOrderIncrement(),h={min:c,max:u,increment:a.getAmountIncrement(),step:f},m={min:[c,a.getErrorAmountMin(c)],max:[u,a.getErrorAmountMax(u)],divisible:[f,a.getErrorDivisible(f)]};l.isFractionalAmountEnabled()&&(h.precision=d,m.divisible=[f,Math.pow(10,d+1),a.getErrorDivisible(f)]),e.setOptions(h).focus().setRules(m).validateButtons(),n.value(this.model.getCurrentPrice().toFixed(this.model.instrument.getPrecision())),i.setOptions({step:this.model.instrument.getPipsPrecisionSize(),precision:this.model.instrument.getPrecision(),min:p}),this.model.order.isTakeProfit()&&(r.check(),i.value(this.model.order.getTakeProfit().toFixed(this.model.getInstrumentModel().getPrecision())),i.setState({pristine:!1}),this.fillProfitForTakeProfit()),o.setOptions({step:this.model.instrument.getPipsPrecisionSize(),precision:this.model.instrument.getPrecision(),min:p}),this.model.order.isStopLoss()&&(s.check(),o.value(this.model.order.getStopLoss().toFixed(this.model.getInstrumentModel().getPrecision())),o.setState({pristine:!1}),this.fillLossForStopLoss()),this.defaultFormData=this.form.getData(),this.setRulesForPriceField(),this.setRulesForLossField(this.isFormChanged),this.setRulesForProfitField(),n.setDefaultState(),i.setDefaultState(),o.setDefaultState()},changeOpenPositionMode:function(e){var t=this,n=e[0],i=m.getUserCommonData().getOpenPositionMode(),r=this.form.getData(),o={direction:this.model.getDirection(),symbolOrId:this.model.getSymbol(),quantity:Number(r.quantity),type:this.model.order.get("type"),price:Number(r.price),stopLoss:!!r["close-at-loss-checkbox"]&&Number(r["close-at-loss"]),takeProfit:!!r["close-at-profit-checkbox"]&&Number(r["take-profit"]),source:O};m.getUserCommonData().saveOpenPositionMode(n).then((function(){t.close(),s.trigger("ui:edit-order",t.model.order,o),t.sendChangeOPModeEvent(n,i)}))},sendChangeOPModeEvent:function(e,t){__eventos("tradingPlatform:orderForm:OPmodeChanged",{newOPMode:e,previousOPMode:t})},onRateChanged:function(e){this.updateRate(),this.getPriceField().setDefaultState(),this.setRulesForPriceField(),this.setRulesForLossField(),this.getPriceField().validate()},updateRate:function(){var e=this.model.getRate(),t=this.getRateData(e);this.updateRateElement(this.elements.sentimentRate,t)},getRateData:function(e){var t=this.model.getRateDirection(),n=this.model.getInstrumentModel().fixRate(e);return{1:{add:"up",remove:"down equally",value:n},0:{add:"equally",remove:"up down",value:n},"-1":{add:"down",remove:"up equally",value:n}}[t]},setRulesForProfitField:function(e){var t=void 0,n=this.form.field("take-profit"),i={};this.model.isBuy()?(i.min=this.model.getPrice()+this.model.minOrderDistance(!0),t=Number(n.value())<=0?this.model.getErrorNotZero(__("order.form.take_profit")):this.model.getErrorTakeProfitMessageBuy((this.model.getPrice()+this.model.minOrderDistance(!0)).toFixed(this.model.instrument.getPrecision())),n.setRules({min:[this.model.getPrice()+this.model.minOrderDistance(!0),t]})):(i.max=this.model.getPrice()-this.model.minOrderDistance(!0),i.min=this.model.instrument.getPrecisionAsFloat(),t=this.model.getErrorTakeProfitMessageSell((this.model.getPrice()-this.model.minOrderDistance(!0)).toFixed(this.model.instrument.getPrecision())),n.setRules({max:[this.model.getPrice()-this.model.minOrderDistance(!0),t],min:[this.model.getInstrumentModel().getPrecisionSize(),this.model.getErrorNotZero(__("order.form.take_profit"))]})),this.setOptions(e,n,i)},setRulesForLossField:function(e){var t=void 0,n=this.form.field("close-at-loss"),i={},r=this.model.getInstrumentModel().getPrecision();if(this.model.isBuy()){if(i.max=this.model.getPrice()-this.model.minOrderDistance(!0),i.min=this.model.instrument.getPrecisionAsFloat(),t=this.model.getErrorStopLossMessageBuy((this.model.getPrice()-this.model.minOrderDistance(!0)).toFixed(this.model.instrument.getPrecision())),n.setRules({max:[this.model.getPrice()-this.model.minOrderDistance(!0),t],min:[this.model.getInstrumentModel().getPrecisionSize(),this.model.getErrorNotZero(__("order.form.stop_loss"))]}),m.isGuaranteedStopLossEnabled()){i.min=this.model.calcClosePrice();var o=this.model.getErrorStopLossMessageBuy(Number(this.model.getGSLLimitForOrder()).toFixed(r));n.setRules({min:[i.min,o]})}}else if(i.min=this.model.getPrice()+this.model.minOrderDistance(!0),t=Number(n.value())<=0?this.model.getErrorNotZero(__("order.form.stop_loss")):this.model.getErrorStopLossMessageSell((this.model.getPrice()+this.model.minOrderDistance(!0)).toFixed(this.model.instrument.getPrecision())),n.setRules({min:[this.model.getPrice()+this.model.minOrderDistance(!0),t]}),m.isGuaranteedStopLossEnabled()){i.max=this.model.calcClosePrice();var s=this.model.getErrorStopLossMessageSell(Number(this.model.getGSLLimitForOrder()).toFixed(r));n.setRules({max:[i.max,s]})}this.setOptions(e,n,i)},setRulesForPriceField:function(){var e=void 0,t=this.model.order.get("type"),n=this.form.field("price"),i=(Number((this.model.getRate()*this.model.instrument.getPrecisionSize()).toFixed(this.model.instrument.getPrecision())),{step:this.model.instrument.getPipsPrecisionSize(),precision:this.model.instrument.getPrecision()});"STOP"===t?"buy"===this.action?(i.min=this.model.getValidationValueForProfit(),e=Number(n.value())<=0?this.model.getErrorNotZero(__("order.form.field.entry_stop")):this.model.getErrorEntryStopPriceHigher(this.model.getValidationValueForProfit().toFixed(this.model.instrument.getPrecision())),n.setRules({min:[Number(n.value())<=0?this.model.instrument.getPrecisionSize():this.model.getValidationValueForProfit(),e]})):(i.max=this.model.getValidationValueForProfit(),i.min=this.model.getInstrumentModel().getPrecisionAsFloat(),e=this.model.getErrorEntryStopPriceLesser(this.model.getValidationValueForProfit()),n.setRules({max:[this.model.getValidationValueForProfit(),e],min:[this.model.getInstrumentModel().getPrecisionAsFloat(),this.model.getErrorEntryStopPriceHigher(0)]})):"buy"===this.action?(i.max=this.model.getValidationValueForLoss(),i.min=this.model.getInstrumentModel().getPrecisionAsFloat(),e=this.model.getErrorEntryLimitPriceLesser(this.model.getValidationValueForLoss()),n.setRules({max:[this.model.getValidationValueForLoss(),e],min:[this.model.getInstrumentModel().getPrecisionAsFloat(),this.model.getErrorEntryLimitPriceHigher(0)]})):(i.min=this.model.getValidationValueForLoss(),e=Number(n.value())<=0?this.model.getErrorNotZero(__("order.form.field.entry_limit")):this.model.getErrorEntryLimitPriceHigher(this.model.getValidationValueForLoss().toFixed(this.model.instrument.getPrecision())),n.setRules({min:[this.model.getValidationValueForLoss(),e]})),n.setOptions(i)},setOptions:function(e,t,n){e&&""!==t.value()?(t.setOptions(n),this.toggleClass(t)):t.setOptions(n,{silent:!0})},setFormAsChanged:function(){this.defaultFormData&&(this.isFormChanged||(this.isFormChanged=!0))},close:function(){o.isFunction(this.options.onClose)&&this.options.onClose.call(this),this.keyboardEvents.off(),l.prototype.close.call(this),Promise.all([this.sendUnsubscribeFromConversion(this.model.getInstrument().getCurrency(),m.getUserCurrency()),this.unsubscribeRequiredMarginPositionCandidateUpdate()]).catch((function(e){return g()}))},onCancel:function(){this.close()},onSubmit:function(){var e=this,t=this.$el.find(".fn-submit").hasClass("disabled");if(!this.form.submit()&&!t){var n=this.form.getData();this.disableSubmitButton(),S.showTradeConfirmation().then((function(){return e.requestPlaceOrder(n)})).then(this.requestPlaceOrderSuccess.bind(this)).then(this.onSubmitSuccess.bind(this)).catch(this.requestPlaceOrderError.bind(this)).catch(this.onSubmitError.bind(this))}},requestPlaceOrder:function(e){var t=this.form.field("close-at-profit-checkbox").isChecked(),n=this.form.field("close-at-loss-checkbox").isChecked(),i={effect:"OPENING",instrumentId:this.model.getInstrumentModel().getId(),orderSide:this.model.getDirection(),orderType:this.model.order.getType(),quantity:this.model.isSell()?-this.model.getAmount():this.model.getAmount(),refOrderChainId:this.model.order.getOrderChainId(),requestId:o.uniqueId("gwt-uid-"),timeInForce:"GTC"};return this.model.order.isLimitPrice()?(i.limitPrice=this.model.getCurrentPrice(),i.stopPrice=null):(i.limitPrice=null,i.stopPrice=this.model.getCurrentPrice()),n&&(i.stopLoss={fixedOffset:this.model.minOrderDistance(!1),fixedPrice:this.model.getStopLoss(),isPriceFixed:!0,orderType:"STOP"}),t&&(i.takeProfit={fixedOffset:this.model.minOrderDistance(!1),fixedPrice:this.model.getTakeProfit(),isPriceFixed:!0,orderType:"LIMIT"}),d.placeOrder(h.getAtmosphereId(),i)},requestPlaceOrderSuccess:function(){return Promise.resolve()},onSubmitSuccess:function(){this.close()},requestPlaceOrderError:function(e){return Promise.reject(e)},onSubmitError:function(e){var t=this;g((function(){return t.close()}))},readyForAmountField:function(){this.showRequiredMarginBlockForAmount(),this.fillRequiredMarginForAmount(),this.fillGuaranteedStopLoss()},fillRequiredMarginForAmount:function(){var e=m.getUserCurrencySymbol(),t=this.model.getInstrument().getCurrencySymbol(),n=this.model.getRequiredMarginInInstrumentCurrency(),i=this.model.getRequiredMarginInAccountCurrency(),r=function(e,t){return v(e).formatForeignCurrency(t,"$0,0.[00]")},o=r(i,e);i!==n&&(o=r(n,t)+" = "+r(i,e)),this.$(".required-margin").html(o),this.checkAmountDerives()},checkAmountDerives:function(){this.validateAmount(this.form.field("quantity")),this.showTieredMargin()},validateAmount:function(e){var t=this.model.getInstrumentModel(),n=t.getMaxOrderSize(),i=this.model.getAmount()*m.getUserAccountMetricsModel().getBuyingPower()/this.model.getRequiredMarginInAccountCurrency();(i=t.isFractionalAmountEnabled()?i:Math.floor(i))<=n&&e.value()<=n?e._rules=o.extend(e._rules,{max:[i,this.model.getErrorMoreFundsRequired()]}):e._rules=o.extend(e._rules,{max:[n,this.model.getErrorAmounMax()]}),e.validate()},onQuantityChange:function(e){this.setFormAsChanged(),this.model.setAmount(e.value()),this.checkSubmitButtonAvailable()},onPriceFieldChange:function(e){this.setFormAsChanged(),this.model.setCurrentPrice(e.value()),this.setRulesForPriceField(),this.checkSubmitButtonAvailable()},onPriceChange:function(){this.getTakeProfitField().isPristine()&&(this.model.calcTakeProfit(),this.fillTakeProfit()),this.getStopLossField().isPristine()&&(this.model.calcStopLoss(),this.fillStopLoss()),this.getTakeProfitField().isEnabled()&&(this.getTakeProfitField().setDefaultState(),this.setRulesForProfitField(),this.getTakeProfitField().validate()),this.getStopLossField().isEnabled()&&(this.getStopLossField().setDefaultState(),this.setRulesForLossField(),this.getStopLossField().validate()),this.fillRequiredMarginForAmount()},onTakeProfitCheckbox:function(e,t){this.setFormAsChanged(),this.getTakeProfitField().setDefaultState(),t?(this.showProfitForTakeProfit(),this.model.order.isTakeProfit()?this.model.setTakeProfit(this.model.order.getTakeProfit()):this.model.calcTakeProfit()):(this.model.cleanTakeProfit(),this.hideProfitForTakeProfit()),this.fillTakeProfit(),this.checkSubmitButtonAvailable()},onCloseAtLossCheckbox:function(e,t){this.setFormAsChanged(),this.getStopLossField().setDefaultState(),t?(this.showLossForStopLoss(),this.model.order.isStopLoss()?this.model.setStopLoss(this.model.order.getStopLoss()):this.model.calcStopLoss()):(this.model.cleanStopLoss(),this.hideLossForStopLoss()),this.fillStopLoss(),this.checkSubmitButtonAvailable()},onTakeProfitChange:function(e){this.setFormAsChanged(),this.setRulesForProfitField(),e.validate(),this.toggleClass(e),this.model.setTakeProfit(e.value()),this.checkSubmitButtonAvailable()},onCloseAtLossChange:function(e){this.setFormAsChanged(),this.setRulesForLossField(),e.validate(),this.toggleClass(e),this.model.setStopLoss(e.value()),this.checkSubmitButtonAvailable()},toggleClass:function(e){switch(e._name){case"take-profit":r(".row.entry-stop")[e.hasError()?"addClass":"removeClass"]("row-error");break;case"close-at-loss":r(".row.entry-limit")[e.hasError()?"addClass":"removeClass"]("row-error")}},getPriceField:function(){return this.form.field("price")},getTakeProfitField:function(){return this.form.field("take-profit")},showProfitForTakeProfit:function(){this.showOrHideProfitLoss("take-profit",!0)},hideProfitForTakeProfit:function(){this.showOrHideProfitLoss("take-profit",!1)},showOrHideProfitLoss:function(e,t){this.form.field(e).$el.find(".help-line").css("visibility",t?"visible":"hidden")},fillTakeProfit:function(){this.setFieldValueIfEnabled("take-profit",this.model.getTakeProfit().toFixed(this.model.getInstrumentModel().getPrecision()))},setFieldValueIfEnabled:function(e,t){var n=this.form.field(e),i=n.isEnabled()?t:"";Number(n.value())!==Number(i)&&n.value(i)},getStopLossField:function(){return this.form.field("close-at-loss")},showLossForStopLoss:function(){this.showOrHideProfitLoss("close-at-loss",!0)},hideLossForStopLoss:function(){this.showOrHideProfitLoss("close-at-loss",!1)},fillStopLoss:function(){this.setFieldValueIfEnabled("close-at-loss",this.model.getStopLoss().toFixed(this.model.getInstrumentModel().getPrecision()))},hideRequiredMarginBlockForAmount:function(){this.$(".fn-margin-row").css("display","none")},showRequiredMarginBlockForAmount:function(){this.$(".fn-margin-row").css("display","block")},checkSubmitButtonAvailable:function(){var e=this.model.getInstrumentModel(),t=parseFloat(this.model.getRequiredMarginInAccountCurrency()),n=parseFloat(m.getUserAccountMetricsModel().getBuyingPower()),i=this.form.getData();return e.isEditable()?this.defaultFormData&&o.isEqual(this.defaultFormData,i)?void this.disableSubmitButton():t>n?(this.disableSubmitButton(this.model.getErrorMoreFundsRequired()),!1):(this.enableSubmitButton(),!0):(this.disableSubmitButton(e.status.getNotTradableMessage()),!1)},disableSubmitButton:function(e){o.isUndefined(e)&&(e=""),this.$el.find(".fn-submit").addClass("disabled").attr("disabled",!0),this.$el.find(".button-tooltip").attr("aria-label",e)},enableSubmitButton:function(){this.$el.find(".fn-submit").removeClass("disabled").removeAttr("disabled"),this.$el.find(".button-tooltip").attr("aria-label","")},fillProfitForTakeProfit:function(){var e=m.getUserCurrencySymbol(),t=this.model.getProfit();this.getTakeProfitField().isEnabled()&&this.getTakeProfitField().$(".help-line").html(__("order.form.protection.profit",e,Number(t>0?t:0).toFixed(2)))},fillLossForStopLoss:function(){var e=this.model.getLoss(),t=m.getUserCurrencySymbol();this.getStopLossField().isEnabled()&&this.getStopLossField().$(".help-line").html(__("order.form.protection.loss",t,Number(e>0?e:0).toFixed(2)))},subscribeRequiredMarginPositionCandidateUpdate:function(e){var t=this.model,n={conversionRate:t.getConversionRate(),quantity:Math.abs(t.getAmount()),side:this.model.getDirection().toUpperCase(),symbol:t.getSymbol(),prospectivePrice:t.getCurrentPrice()};return d.requiredMarginPositionCandidateUpdate(h.getAtmosphereId(),n)},unsubscribeRequiredMarginPositionCandidateUpdate:function(){this.model.getInstrumentModel().getSymbol();return d.unsubscribeRequiredMarginPositionCandidateUpdate(h.getAtmosphereId(),this.model.getSymbol())},sendSubscribeToConversion:function(e,t){return _.add(e,t).then(this.requestConversionSubscriptionSuccess.bind(this)).catch(this.requestConversionSubscriptionError.bind(this))},sendUnsubscribeFromConversion:function(e,t){return _.remove(e,t).then(this.requestConversionUnsubscriptionSuccess.bind(this)).catch(this.requestConversionUnsubscriptionError.bind(this))},requestConversionSubscriptionSuccess:function(e){return Promise.resolve(e)},requestConversionSubscriptionError:function(e){return Promise.reject(e)},requestConversionUnsubscriptionSuccess:function(e){return Promise.resolve(e)},requestConversionUnsubscriptionError:function(e){return Promise.reject(e)},fillGuaranteedStopLoss:function(){if(!m.isGuaranteedStopLossEnabled())return!1;var e=m.getUserCurrencySymbol();this.$el.find(".guaranteed-stop-loss").html(e+v(this.model.getGuaranteedStopLossAmount()).format("0,0.[00]"))},showTieredMargin:function(){var e=this.$(".amount-tiered-margin"),t=this.form.field("quantity");o.isEmpty(t.validate())&&this.model.getInstrument().isTieredMarginApplied()?e.removeClass("hidden"):e.addClass("hidden")},setPrice:function(e){var t=this.form.field("price");t.value(e),t.onInputChange()},setTakeProfit:function(e){var t=this.form.field("take-profit");t.value(e),t.onInputChange()},disableTakeProfit:function(){this.form.field("close-at-profit-checkbox").uncheck()},enableTakeProfit:function(){this.form.field("close-at-profit-checkbox").check()},setStopLoss:function(e){var t=this.form.field("close-at-loss");t.value(e),t.onInputChange()},disableStopLoss:function(){this.form.field("close-at-loss-checkbox").uncheck()},enableStopLoss:function(){this.form.field("close-at-loss-checkbox").check()}});i.exports=P}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t){e.exports='<div class="edit-order-popup form"> <div class=content> <div class="row info hidden-xs"> <div class=title> <div class="flex flex-row flex-wrap"> <div><%=__(\'type.\' + order.type.toUpperCase())%></div> <div class="action-<%=(isBuying ? \'buy\' : \'sell\')%>"><%=__(\'actions.\' + order.action.toLowerCase())%></div> <span class=hidden-xs> |&nbsp;</span> <div class="flex flex-row flex-valign-center"> <div class=""> <%=order.symbol%> </div> <div class=rate-box id=change> <div class="percent up"> <span></span> <i class=arrow></i> </div> </div> </div> </div> <div><%=order.description%></div> </div> <div> <div class="visible hidden-xs flex-stretch"> <div class="info-prices-block flex-align-end"> <div class=sell> <div class=rate-box> <div class=caption><%-__(\'actions.sell\')%>:</div> <div class=rate></div> </div> </div> <div class=buy> <div class=rate-box> <div class=caption><%-__(\'actions.buy\')%>:</div> <div class=rate></div> </div> </div> </div> </div> <div class=meta> <div><%=__(\'actions.modified\')%>: <%=order.modified%><%=order.GMTPostfix%></div> <div><%=__(\'order.form.edit.id\')%> <%=order.orderID%></div> </div> </div> </div> <div class="row info visible-xs"> <div class=title> <div> <span><%=order.type%></span> <span class="action-<%=(isBuying ? \'buy\' : \'sell\')%>"><%=order.action%></span> <span class=hidden-xs> | </span> <span><%=order.symbol%></span> </div> <div><%=order.description%></div> </div> <div class=meta> <div><%=__(\'actions.modified\')%>: <%=order.modified%><%=order.GMTPostfix%></div> <div><%=__(\'order.form.edit.id\')%> <%=order.orderID%></div> </div> </div> <div class="row sentiment"> <div class=text> <div><%=__(\'sentiment.title\')%></div> <div><%=__(\'order.instrument_info.current_rate\')%>: <span class=rate></span></div> </div> <div class=chart> <% if (order.sentiment) { %> <div class=sellers><%=order.sentiment.shorts %>% <%=__(\'actions.sold\')%></div> <div class=bar> <i style="width:<%=order.sentiment.shorts %>%"></i> <b style="width:<%=order.sentiment.longs %>%"></b> </div> <div class=buyers><%=order.sentiment.longs %>% <%=__(\'actions.bought\')%></div> <% } %> </div> </div> <% if (order.basket) { %> <div class=row> <div class=basket-block> <div class=block-title> <%=__(\'baskets.title\')%>&nbsp; <i class=icon-help aria-label="<%=__(\'baskets.hint\')%>"></i> </div> <div class=basket-title><%=__(\'baskets.consists\', order.basket.instrumentSymbol) %>:</div> <div class=basket-bar></div> </div> </div> <% } %> <div class="row visible-xs"> <div class=flex-stretch> <div class=info-prices-block> <div class=sell> <div class=rate-box> <div class=caption><%-__(\'actions.sell\')%>:</div> <div class=rate></div> </div> </div> <div class=buy> <div class=rate-box> <div class=caption><%-__(\'actions.buy\')%>:</div> <div class=rate></div> </div> </div> </div> </div> </div> <div class="row quantity"> <div class="form-row form-quantity fn-quantity-row"> <div class=form-label> <% if (!isSpreadBetting) { %> <div class=text> <%=isAmount ? __(\'order.form.amount.frx\') : __(\'order.form.amount.cfd\')%>: <%=groupName %> </div> <% } else { %> <div class=text><%= amountSpreadBettingLabel %></div> <% } %> </div> <div class="field field-type-spin-relative"> <div class=input> <input type=text name=quantity> </div> <div class=actions> <button class="btn action-plus" data-type=quantity> <i class=icon-plus></i> </button> <button class="btn action-minus" data-type=quantity> <i class=icon-minus></i> </button> </div> <div class=help> <i class=icon-help aria-label="<%=__(\'help.order.\' + (isAmount ? \'amount\' : \'quantity\') + (isSpreadBetting ? \'_sb\' : \'\'))%>"></i> </div> <div class=field-tooltip> <div class=content></div> </div> <div class="amount-tiered-margin info hidden"><%= __(\'order.form.tiered_margin.reached\') %></div> </div> </div> </div> <div class="row price"> <div class="form-row form-price fn-price-row"> <div class=form-label> <div class=text><%=__(\'price\')%>:</div> </div> <div class="field field-type-spin"> <div class=input> <input type=text name=price> </div> <div class=actions> <button class="btn action-plus" data-type=price> <i class=icon-plus></i> </button> <button class="btn action-minus" data-type=price> <i class=icon-minus></i> </button> </div> <div class=help> <i class=icon-help aria-label="<%-model.getPriceExplanation()%>"></i> </div> <div class=field-tooltip> <div class=content></div> </div> </div> </div> <div class="form-row form-margin fn-margin-row"> <div></div> <div class="flex flex-column"> <div> <span><%=__(\'order.form.required_margin\')%></span>&nbsp;<span class=required-margin></span> </div> <% if (guaranteedStopLossEnabled){ %> <div class="flex flex-row"> <div class=flex-valign-center><%=__(\'order.form.guaranteed_stop_loss\')%>&nbsp;&nbsp;<span class=guaranteed-stop-loss></span>&nbsp;</div> <div class=flex-valign-center><i class=icon-help aria-label="<%=__(\'help.guaranteed_stop_loss\')%>"></i></div> </div> <% } %> </div> </div> </div> <% if (expirationDays){ %> <div class="row expiration"> <div><%=__(\'order.form.expiration\', expirationDays)%></div> <div class=help> <i class=icon-help aria-label="<%-__(\'help.order.expiration\')%>"></i> </div> </div> <% } %> <div class="row entry-stop"> <div class=form-box-row> <div class="field field-rollout field-type-rollout"> <div class=label> <div class=text><%=__(\'order.form.take_profit\')%></div> <div class=switcher> <label> <input type=checkbox name=close-at-profit-checkbox class="ios-switch green" id=close-at-profit-checkbox /> <div> <div></div> </div> <label for=close-at-profit-checkbox><%=__(\'order.form.take_profit\')%></label> </label> </div> </div> <div class=rollout-content> <div class="field field-type-spin field-disabled" data-field-depends=close-at-profit-checkbox> <div class=input> <input type=text name=take-profit> </div> <div class=actions> <button href=# class="btn action-plus"> <i class=icon-plus></i> </button> <button href=# class="btn action-minus"> <i class=icon-minus></i> </button> </div> <div class=help> <i class=icon-help aria-label="<%=__(\'help.order.take_profit\')%>"></i> </div> <div class=help-line> <div></div> </div> <div class=field-tooltip> <div class=content></div> </div> </div> </div> </div> </div> </div> <div class="row entry-limit"> <div class=form-box-row> <div class="field field-rollout field-type-rollout"> <div class=label> <div class=text><%=__(\'order.form.stop_loss\')%></div> <div class=switcher> <label> <input type=checkbox name=close-at-loss-checkbox id=close-at-loss-checkbox class="ios-switch green"/> <div> <div></div> </div> <label for=close-at-loss-checkbox><%=__(\'order.form.stop_loss\')%></label> </label> </div> </div> <div class=rollout-content> <div class="field field-type-spin field-disabled" data-field-depends=close-at-loss-checkbox> <div class=input> <input type=text name=close-at-loss> </div> <div class=actions> <button href=# class="btn action-plus"> <i class=icon-plus></i> </button> <button href=# class="btn action-minus"> <i class=icon-minus></i> </button> </div> <div class=help> <i class=icon-help aria-label="<%=__(\'help.order.stop_loss\')%>"></i> </div> <div class=help-line> <div></div> </div> <div class=field-tooltip> <div class=content></div> </div> </div> </div> </div> </div> </div> </div> <div class="form-actions grid"> <div class="block-button button-tooltip" aria-label=""> <button class="btn btn-primary submit fn-submit" disabled=disabled><%=__(\'actions.save\')%></button> </div> <div class=block-button> <button class="btn btn-primary cancel fn-cancel"><%=__(\'actions.cancel\')%></button> </div> </div> </div> '},function(e,t,n){"use strict";n.r(t),function(e){var i=n(0),r=n.n(i),o=n(1),s=n.n(o),a=n(809),l=n(4),c=n(939),u=n(8),d=n.n(u),p=n(15),f=n.n(p),h=n(6),m=n.n(h),g=n(9),v=n.n(g),b=n(3),_=n(5),y=n.n(_),E=n(342),S=n(157),C=(n(1661),n(31)),w=n(58),O=n.n(w),T=n(617),P=n(579),k=n(314),I=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var A=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={depositConfig:{},depositHref:"",amount:-1,bonusApplied:!1,amountSelected:!1},t._isMounted=!1,f()(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),I(n,[{key:"loadError",value:function(){y.a.trigger("ui:message-box",{parent:document.body,text:__("server.request.generic.error.body",__("link.contact_us.funded.client"))})}},{key:"componentWillReceiveProps",value:function(e){this._isPropsWillChange(["accountId"],e)&&this.showSelectAmount()}},{key:"_isPropsWillChange",value:function(e,t){var n=this;return!s.a.isEmpty(e)&&!s.a.isEmpty(t)&&s.a.some(e,(function(e){return n.props[e]!==t[e]}))}},{key:"showSelectAmount",value:function(){if(!this.state.amountSelected){if(this.props.isFirstDepositBonusEnabled)return void this.showFirstDepositBonusPopup(this.props.accountInfo);if(v.a.isDepositAmountsEnabled()&&!s.a.isEmpty(this.props.depositAmounts))return void this.showSelectDepositPopup();if(v.a.isManualDepositAmountNeeded())return void this.showManualDepositPopup(this.props.accountInfo)}this.loadFrame()}},{key:"onGetDepositUrl",value:function(e){this._isMounted&&(this.setState({depositHref:e.data,amountSelected:!0}),this.frameLoaded())}},{key:"onCloseFirstDepositBounsPopup",value:function(e){var t=e.model,n=e.account;if(b.DEPOSIT_STATUSES.CANCELLED!==t.get("status")){if(this.setState({bonusApplied:t.get("bonusApplied")}),b.DEPOSIT_STATUSES.MANUAL_SELECT_AMOUNT===t.get("status"))return this.showManualDepositPopup(n);this.setState({amount:t.get("selectedAmount"),amountSelected:!0}),this.loadFrame()}else this.close()}},{key:"showFirstDepositBonusPopup",value:function(e){y.a.trigger("ui:manage-accounts:first-deposit-bonus",{account:e,onClose:this.onCloseFirstDepositBounsPopup})}},{key:"onSuccessManualDeposit",value:function(e){var t=e.model;this.setState({amount:t.get("amount"),amountSelected:!0}),this.loadFrame()}},{key:"onSuccessSelectDeposit",value:function(e){var t=e.selectedAmount,n=e.selected,i=e.status;return b.DEPOSIT_STATUSES.MANUAL_SELECT_AMOUNT===i?this.showManualDepositPopup(this.props.accountInfo):n?(this.setState({amount:t,amountSelected:!0}),void this.loadFrame()):this.close()}},{key:"showManualDepositPopup",value:function(e){y.a.trigger("ui:manage-accounts:manual-deposit-bonus",{account:e,onClose:this.close,onSuccess:this.onSuccessManualDeposit})}},{key:"transformDepositConfig",value:function(e){return s.a.reduce(e,(function(e,t,n){return e[n+"Amount"]=t,e}),{})}},{key:"transformDepositAmounts",value:function(e){return s.a.map(e,(function(e){return"0"===e.emphasized&&(e.emphasized=!1),e}))}},{key:"showSelectDepositPopup",value:function(){y.a.trigger("ui:select-deposit-amount",{currencySymbol:__currency(this.props.currency),amountConfig:this.transformDepositConfig(this.props.depositConfig),depositAmounts:this.transformDepositAmounts(this.props.depositAmounts)},this.onSuccessSelectDeposit)}},{key:"componentDidMount",value:function(){this._isMounted=!0,this.showSelectAmount()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.unsubscribe()}},{key:"isBonusApplied",value:function(){return!0===this.state.bonusApplied}},{key:"choseDepositAmount",value:function(){var e=this.props.depositConfig.default,t=this.state.amount;return s.a.isNaN(t)||-1===t?e:t}},{key:"loadFrame",value:function(){var e=this.props,t=e.accountId,n=e.currency,i=e.doFirstDeposit,r=this.choseDepositAmount(),o=O.a.baseUrl,s={accountId:t,amount:r,country:m.a.getCountry(),currency:n,locale:Object(P.default)(),bonusApproved:this.isBonusApplied()},a=v.a.getPaymentsServiceVendor();a===b.PRAXIS&&Object(T.default)();s.successUrl=encodeURIComponent(o+"deposit.html"),s.failUrl=encodeURIComponent(o+"deposit_failed.html");var l="?path=deposit_sucess&first_deposit="+i+"&totalAmount="+r+"&atmAmount="+this.getAtmAmount()+"&currency="+n;a===b.SOLID_PAYMENTS&&(s.successUrl=encodeURIComponent(o+l),s.failUrl=encodeURIComponent(o+"?path=deposit_failed")),a===b.ZOTA&&(s.wrapperSuccessUrl=encodeURIComponent(o+l),s.wrapperFailUrl=encodeURIComponent(o+"?path=deposit_failed")),d.a.getDepositUrl(s).then(this.onGetDepositUrl).catch(this.loadError)}},{key:"getAtmAmount",value:function(){var e=this.props.atmAmount;return-1===e?__("atm_deposit.popup.other_button"):s.a.isUndefined(e)?__("numeric.value.not.available.upper_case"):e}},{key:"subscribe",value:function(){this.messageHandler||(this.messageHandler=this.onDepositResponse,e(window).on("message",this.messageHandler))}},{key:"unsubscribe",value:function(){this.messageHandler&&(e(window).off("message",this.messageHandler),this.messageHandler=null)}},{key:"close",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.depositSelected;t||this.props.onClose()}},{key:"onDepositResponse",value:function(e){var t=this,n=this.props,i=n.doFirstDeposit,r=n.isSaxoAccount;if("deposit_failed"===e.data.type)return"4"!==this.parseData(e.data.data).status&&y.a.trigger("ui:message-box:fail_deposit"),this.close(),void this.unsubscribe();if("deposit"===e.data.type){var o=this.getAtmAmount();m.a.loadUserData().then((function(){m.a.setFirstDeposit(!0),m.a.isCompliance()||y.a.trigger("check:pending:deposit:force")})),this.close(),this.unsubscribe();var a=v.a.getPaymentsServiceVendor();a===b.PAY_GATE||a===b.SOLID_PAYMENTS||a===b.PRAXIS?this.depositInfo={totalAmount:this.model.getAmount(),currency:this.props.currency,doFirstDeposit:i,atmAmount:o,payment_method:"cc_card",isSaxoAccount:r}:(this.depositInfo=s.a.chain(e.data.data.split("&")).map((function(e){return e&&e.split("=")})).compact().object().value(),s.a.extend(this.depositInfo,{doFirstDeposit:i,atmAmount:o,isSaxoAccount:r})),Object(E.send3rdPartyTracking)(this.depositInfo),"cc_card"===this.depositInfo.payment_method?y.a.trigger("ui:deposit-message",this.depositInfo):(E.Deposit_eventos.eventos("display",this.depositInfo),y.a.trigger("sm","deposit_successful"),y.a.trigger("funds:deposit:success"),y.a.trigger("ui:message-box",{text:__("proof_of_payment.dialog.message"),caption:__("proof_of_payment.dialog.header",[this.depositInfo.totalAmount,this.depositInfo.currency]),isHeaderShowed:!1,onOK:function(){return E.Deposit_eventos.eventos("clkClose",t.depositInfo)}})),y.a.trigger("deposit:success",{isFirstDeposit:i})}}},{key:"frameLoaded",value:function(){__eventos("onBoardFlow:cashierDialog:display"),this.subscribe()}},{key:"render",value:function(){var e,t,n=this.props.onClose,i=this.state,o=i.depositHref;return i.amountSelected?r.a.createElement(a.a,{onClose:n,showHeader:!0,className:"deposit-account-popup",title:r.a.createElement(r.a.Fragment,null,r.a.createElement(C.default,{desktop:!0,tablet:!0},r.a.createElement("span",null,(e=__("status.deposit_funds"),t=s.a.map(e.split(" "),(function(e){return e.toUpperCase()})),r.a.createElement("span",null,s.a.map(s.a.initial(t),(function(e,t){return r.a.createElement("span",{className:"color-platform-text-color",key:t},e)}))," ",r.a.createElement("span",{className:"color-platform-accent"},s.a.last(t))))),r.a.createElement("span",{className:"responsive-header-content"},r.a.createElement("span",{className:"deposit-secured"},r.a.createElement("i",{className:"icon-secure-grey"}),r.a.createElement("span",null,__("deposit.secured_by_ssl"))))),r.a.createElement(C.default,{mobile:!0},r.a.createElement("span",null,__("status.deposit_funds"))))},r.a.createElement("div",{className:"deposit-popup fs-16"},o&&r.a.createElement("iframe",{name:"deposit-frame",id:"deposit-frame",src:o}))):null}}]),n}(r.a.Component);A.defaultProps={onClose:s.a.noop},t.default=Object(l.connect)((function(e,t){var n=t.accountId;return{isFirstDepositBonusEnabled:Object(c.a)(e,n),currency:Object(S.getAccountCurrencyById)(e,n),accountInfo:Object(S.getAccountInfoById)(e,n),depositConfig:Object(S.getAccountDepositAmountsById)(e,n),depositAmounts:Object(S.getAccountAmtOptionsById)(e,n),isSaxoAccount:n===Object(k.getFirstSaxoId)(e)}}))(A)}.call(this,n(12))},function(e,t,n){},function(e,t,n){},function(e,t){e.exports="<div class=deposit-first-popup-body> <div class=top> <div class=header> <span> <%=__('depositDialog.header')%> </span> </div> <div class=content></div> </div> <div class=footer> <div class=block-help-line> <div class=fn-cancel> <span><%=__('first_deposit.popup.later.desktop')%></span> </div> </div> </div> </div>"},function(e,t){e.exports='<div class=content-blocks> <div class="block-form form"> <div class=form-row> <div class="form-label col-top"> <div class=text> <%=__(\'fields.amount\')%>&nbsp;&nbsp;<%=userCurrencySymbol%> </div> </div> <div class="field field-type-input"> <div class=input> <input type=text name=amount> <div class=field-tooltip> <div class=arrow></div> <div class=content></div> </div> </div> </div> </div> </div> <div class=block-button> <button class="btn btn-primary submit fn-submit"> <span class="flex flex-align-center flex-valign-center"><%=__(\'actions.deposit\')%></span> </button> </div> </div>'},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,r){var o=n(458),s=n(3),a=s.ERROR,l=s.SUCCESS;r.exports=o.extend({initialize:function(){this.loadDepositAmountConfig()},update:function(){var e=this.toJSON().statusOfDepositAmountConfig;e===a&&this.set("status",a),e===l&&this.set("status",l)},getAtmAmount:function(){var e=this.get("atmAmount");return-1===e?"Other":i.isUndefined(e)?"N/A":e},isBonusApplied:function(){return!0===this.get("bonusApplied")}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(5),s=n(6),a=n(70),l=n(169),c=n(73),u=n(3),d=u.ERROR,p=u.SUCCESS,f=r.template(n(1666)),h=r.template(n(1667)),m=n(27).isUserLoggedInQuantRankAccount,g=function(e,t,n,i){n=String(n),__eventos(e,{depositSource:t,defaultAmount:n,sentAmount:i})},v=/^(0|[1-9]\d*)(\.|\.\d{1,2})?$/i,b=a.extend({name:"first-deposit-popup",events:function(){return r.extend({},r.result(a.prototype,"events"),{"click .fn-submit":"onSubmit","click .fn-cancel":"onClose"})},initialize:function(e){this.options=e,"banner_click"===e.source?e.source="RealBanner":e.source=this.options.source.split(":")[1],a.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:status",this.onStatusChange),o.trigger("ui:loading")},render:function(){return o.trigger("ui:loading:hide"),a.prototype.render.call(this),this.setContent(f()),this.$el.addClass("first-deposit-popup").find(".content").html(h({options:this.options,userCurrencySymbol:s.getUserCurrencySymbol()})),this.initForm(),this},initForm:function(){this.form=new l({el:this.$el.find(".form")}),this.listenTo(this.form,"field:change:amount",this.onAmountChange),this.defineField()},defineField:function(){var e=this.form.field("amount"),t=this.model,n=this.getDefaultAmount(),i=t.getMinAmount(),r=t.getMaxAmount();this.showText(n),e.value(n),e.setOptions({min:i,max:r}),e.setRules({min:[i,__("first_deposit.popup.amount.validate.range.min",i)],max:[r,__("first_deposit.popup.amount.validate.range.max",r)]})},onAmountChange:function(e){var t="",n=e.value();n.length<=12&&v.test(n)?this.lastValidValue=t=n:(this.lastValidValue&&""!==n?t=this.lastValidValue:(this.lastValidValue="",t=0),""!==n&&e.value(this.lastValidValue)),this.showText(t)},showText:function(e){if(!m(window.store.getState())){var t=this.model.getCurrentLeverageValue(),n=__("first_deposit.popup.notes",t),i=__("first_deposit.popup.description",c(t*e).formatForeignCurrency(s.getUserCurrencySymbol(),"$0,0.[00]")),r=this.$(".block-text");r.find(".block-text-first").html(n),r.find(".block-text-second").html(i)}},onClose:function(){this.close(),this.eventosClose()},eventosClose:function(){g("onBoardFlow:FirstDepositWindow:clkClose",this.options.source,this.getDefaultAmount(),"N/A")},getDefaultAmount:function(){return this.model.get("selectedAmount")||this.model.getDefaultAmount()},eventosDeposit:function(e){g("onBoardFlow:FirstDepositWindow:clkDeposit",this.options.source,this.getDefaultAmount(),e)},onSubmit:function(){var e=Number(this.form.field("amount").value()),t=this.form.submit();this.eventosDeposit(e),t||(this.model.set({amount:e}),this.eventosClose(),this.close(),this.handleCallback("onSuccess"))},onStatusChange:function(){var e=this.model.get("status");return e===d?this.close():e===p?this.render():void 0},handleCallback:function(e){var t=this.options,n=r.isObject(t)&&t[e];r.isFunction(n)&&n()}});i.exports=b}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t){e.exports="<div class=deposit-first-popup-body> <div class=top> <div class=header> <span> <%=__('first_deposit.popup.title')%> </span> </div> <div class=content></div> </div> <div class=footer> <div class=block-help-line> <div class=fn-cancel> <span><%=__('first_deposit.popup.later.desktop')%></span> </div> </div> </div> </div>"},function(e,t){e.exports='<div class=content-blocks> <div class="block-form form"> <div class=form-row> <div class="form-label col-top"> <div class=text> <%=__(\'form_deposit_funds_header\')%>&nbsp;&nbsp;<%=userCurrencySymbol%> </div> </div> <div class="field field-type-input"> <div class=input> <input type=text name=amount> <div class=field-tooltip> <div class=arrow></div> <div class=content></div> </div> </div> </div> </div> </div> <div class=block-text> <span class=block-text-first></span> <span class=block-text-second></span> </div> <div class=block-button> <button class="btn btn-primary submit fn-submit"> <span class="flex flex-align-center flex-valign-center"><%=__(\'first_deposit.popup.button\')%></span> </button> </div> </div>'},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(458),o=n(1),s=n(3),a=s.ERROR,l=s.SUCCESS;i.exports=r.extend({initialize:function(){this.loadDepositAmountConfig(),this.loadLeverage()},update:function(){var e=this.toJSON(),t=e.statusOfLeverage,n=e.statusOfDepositAmountConfig,i=function(e,i){return i([t,n],(function(t){return t===e}))},r=i(a,o.some),s=i(l,o.every);r&&this.set("status",a),s&&this.set("status",l)}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var r=n(1),o=n(136),s=n(12),a=n(5),l=n(9),c=n(32),u=n(6),d=n(102),p=r.template(n(1670)),f=n(3),h=f.SUCCESS,m=f.ERROR,g=f.DEPOSIT_STATUSES,v=f.REJECTED,b=n(27).isUserLoggedInQuantRankAccount,_=o.extend({className:"select-deposit-amount",name:"select-deposit-amount",events:function(){return r.extend({},r.result(o.prototype,"events"),{"click .fn-amount":"selectAmount"})},initialize:function(){o.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:status",this.onStatusChange),a.trigger("ui:loading")},render:function(){o.prototype.render.apply(this),a.trigger("ui:loading:hide");var e=this.model.toJSON(),t=this.model.getCurrentLeverageValue(),n=this.options.currencySymbol||e.accountCurrencySymbol,i=function(e,t){return c(t).formatForeignCurrency(e,"0,0")}.bind(null,n);this.setContent(p({model:e,maxDeposit:e.defaultAmount*t,leverage:"1:"+t,numbro:c,transformValue:i,currencySymbol:n,isMarketsX:u.isPromotionMarketsX()&&!d.FIRST_DEPOSIT_MADE(),shouldShowInfo:!b(window.store.getState())}));var r=u.getUserCommonData();u.isPromotionMarketsX()&&!d.FIRST_DEPOSIT_MADE()&&(this.$el.find("i.icon-close-blue").removeClass("icon-close-blue").addClass("icon-marketsX-close-"+r.getAppTheme()),this.$el.addClass("marketsX-popup-deposit"))},selectAmount:function(e){var t=Number(s(e.currentTarget).attr("data-value"));l.isManualDepositAmountNeeded()&&-1===t?this.openManualSelectAmount():(this.model.set({selectedAmount:t,status:g.SELECTED}),this.close({selected:!0})),this.eventosClkButton(t)},openManualSelectAmount:function(){this.model.set("status",g.MANUAL_SELECT_AMOUNT),this.close()},onStatusChange:function(){var e=this.model,t=e.get("status");if(t===m&&this.close(),t===h)if(e.isSelectingAmountEnabled())this.render();else{if(!l.isManualDepositAmountNeeded())return e.set("status",v),this.close();this.openManualSelectAmount()}},close:function(){a.trigger("ui:loading:hide"),o.prototype.close.apply(this,arguments)},onPopupClose:function(){this.model.set("status",g.CANCELLED),o.prototype.onPopupClose.call(this),this.eventosClkClose()},eventosClkButton:function(e){__eventos("onBoardFlow:ATM:clkButton",{userChoice:e>-1?"Predefined Amount":"Other Amount",amount:e})},eventosClkClose:function(){__eventos("onBoardFlow:ATM:clkClose")}});i.exports=_}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t){e.exports="<div class=\"content flex flex-column flex-align-center\"> <p class=\"large caption\"> <%if(isMarketsX){%> <%- __('marketsX.atm_deposit.popup.title') %></p> <%}else{%> <%- __('atm_deposit.popup.title') %><p></p> <%}%> <div class=\"flex flex-column flex-align-center\"> <ul class=list> <% _.each(model.amounts, function(amountValue) { %> <li class=item> <button class=\"btn btn-primary large fn-amount <%= amountValue.emphasized ? 'premium' : '' %>\" data-value=\"<%-amountValue.amount%>\"> <% if (amountValue.emphasized) { %> <div class=premium__text> <%= __('premium_account') %> </div> <% } %> <div><%- transformValue(amountValue.amount) %></div> </button> </li> <% }) %> <% if (model.amounts.length  % 2 !== 0) { %> <li class=item> <button class=\"btn btn-primary large fn-amount\" data-value=-1> <div class=other-amount-button> <%- __('atm_deposit.popup.other_button') %> </div> </button> </li> <% } %> </ul> <% if (model.amounts.length  % 2 === 0) { %> <div class=\"flex flex-align-center\"> <button class=\"btn btn-primary large fn-amount other-amount other-amount-button\" data-value=-1><%- __('atm_deposit.popup.other_button') %></button> </div> <% } %> </div> <hr/> <% if (shouldShowInfo) { %> <p class=info><%- __('atm_deposit.popup.description', currencySymbol + numbro(model.defaultAmount).format('0,0'), currencySymbol + numbro(maxDeposit).format('0,0'), leverage) %></p> <% } %> </div> "},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(458);i.exports=r.extend({initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.loadLeverage(),e.amountConfig?this.onLoadDepositAmountConfigSuccess(e.amountConfig):this.loadDepositAmountConfig(),e.depositAmounts?this.onLoadAmountsSizesSuccess(e.depositAmounts):this.loadDepositAmountSizes()}})}.call(t,n,t,e))||(e.exports=i)},function(e,t){e.exports='<div class="content flex flex-column flex-align-center"> <p class="large caption"> <%if(isMarketsX){%> <%- __(\'marketsX.atm_deposit.bonus.popup.title\') %></p> <%}else{%> <%- __(\'atm_deposit.popup.title\') %><p></p> <%}%> <p></p> <hr/> <div class="flex flex-column flex-align-center"> <ul class=list> <% _.each(bonuses, function(item) { %> <li class=item> <% if (item.emphasized) { %> <div class=qualified><i class="icon icon-qualified"></i><span><%=__(\'marketsX.qualified\')%></span></div> <% } %> <button class="btn btn-primary large fn-amount <%= item.emphasized ? \'premium\' : \'\' %>" data-value="<%-item.deposit%>"> <span class="main-text text-center"> <%= __(\'deposit_bonus_table.popup.item.label\', item.depositString, item.bonusString) %> </span> <% if (isPopular(item)) { %> <span class="ribbon ribbon-red"> <span class=pre-ribbon-red></span> <span class=ribbon-text><%- __(\'deposit_bonus_table.popup.item.most_popular\') %></span> <span class=post-ribbon-red></span> </span> <% } else if (isBiggest(item)) { %> <span class="ribbon ribbon-orange"> <span class=pre-ribbon-orange></span> <span class=ribbon-text><%- __(\'deposit_bonus_table.popup.item.best_value\') %></span> <span class=post-ribbon-orange></span> </span> <% } %> </button> </li> <% }) %> <li class=item> <button class="btn btn-primary large fn-amount" data-value=-1> <span class="main-text text-center"> <%- __(\'deposit_bonus_table.popup.make_deposit\') %> </span> </button> </li> <li class=item> <button id=deposit-without-bonus class="btn btn-primary large" data-value=-1> <span class="main-text text-center"> <%- __(\'deposit_bonus_table.popup.make_deposit_without_bonus\')%> </span> </button> </li> </ul> </div> <hr/> <p class=info><%= __(\'deposit_bonus_table.popup.terms_and_conditions\')%></p> </div> '},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var o=n(1),s=n(70),a=n(86),l=n(8),c=n(33).default,u=n(122).sendEventosVideoTutorialsAction,d=o.template(n(1674)),p=o.template(n(1675)),f=s.extend({initialize:function(e){s.prototype.initialize.apply(this,arguments),this.getTutorials()},getTutorials:function(){var e=this;return this.createLoadingView(),l.loadTutorials().then((function(t){if(o.has(t,"data")&&""!==t.data){var n=o.filter(t.data,(function(e){return e.playlist.mobile===c.mobile()}));e.videos=o.reduce(n,(function(e,t){return e.concat(t.videos)}),[]),e.render(n),e.destroyLoadingView()}else e.render([])})).catch((function(){e.render([])}))},events:function(){return o.extend({},o.result(s.prototype,"events"),{"click .playlist-title":"togglePlaylist","click .video":"openVideo"})},getOptions:function(e){return o.extend({},o.result(s.prototype,"getOptions"),{isHeaderShowed:!0,caption:__("hint.video_tutorials"),previousCaption:__("actions.back"),headerStyle:"wizard"},e)},render:function(e){if(s.prototype.render.call(this),e.length>0){var t={};this.getLastVideo()?(t=this.getVideoById(this.getLastVideo()),o.isUndefined(t)&&(t=e[0].videos[0],this.setLastVideo(t.resourceId.videoId))):(t=e[0].videos[0],this.setLastVideo(t.resourceId.videoId));var n=this.getNextVideo(t.resourceId.videoId);this.setContent(d({playlists:e,youtubeUrl:"https://www.youtube.com/embed/",youtubeParams:"?rel=0",mainVideo:t,nextVideo:n})),this.updatePlaylistTree(t.resourceId.videoId),this.$el.find('[data-id="'+t.resourceId.videoId+'"]').find(".video-title").addClass("video-selected")}else this.setContent(p());return this},openVideo:function(e){var t=r(e.currentTarget).attr("data-id"),n=this.getVideoById(t),i=this.getNextVideo(t);u(t),this.$el.find(".tutorails-main iframe").attr("src","https://www.youtube.com/embed/"+t+"?rel=0"),this.$el.find(".tutorials-main-details").find("div:first-child").html(n.title),this.$el.find(".tutorials-main-details").find("div:last-child").html(n.description),this.$el.find(".next-video .video").attr("data-id",i.resourceId.videoId),this.$el.find(".next-video .video-thumb img").attr("src",i.thumbnails.medium.url),this.$el.find(".next-video .video-title").html(i.title),this.$el.find(".tutorials")[0].scrollTop=0,this.$el.find(".video-title").removeClass("video-selected"),this.$el.find('[data-id="'+t+'"]').find(".video-title").addClass("video-selected"),this.setLastVideo(t),this.updatePlaylistTree(t)},getVideoById:function(e){return o.find(this.videos,(function(t){return t.resourceId.videoId===e}))},getNextVideo:function(e){var t=o.findIndex(this.videos,(function(t){return t.resourceId.videoId===e}));return t===this.videos.length-1?this.videos[0]:this.videos[t+1]},togglePlaylist:function(e){var t=r(e.currentTarget).parent();this.togglePlaylistTree(t)},togglePlaylistTree:function(e){e.hasClass("closed")?(this.$el.find(".playlist").addClass("closed"),e.removeClass("closed")):e.addClass("closed")},updatePlaylistTree:function(e){var t=this.$el.find('[data-id="'+e+'"]').parent().parent();t.hasClass("closed")&&this.togglePlaylistTree(t)},setLastVideo:function(e){localStorage.setItem("lastVideo",e)},getLastVideo:function(){return localStorage.getItem("lastVideo")||""},createLoadingView:function(){this.loadingView=new a({parent:this.$(".tutorials"),position:"relative"})},destroyLoadingView:function(){this.loadingView&&(this.loadingView.destroy(),this.loadingView=null)}});i.exports=f}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t){e.exports='<div class=tutorials> <div class=tutorials-content> <div class=tutorails-main> <iframe src="<%=youtubeUrl%><%=mainVideo.resourceId.videoId%><%=youtubeParams%>" frameborder=0 allowfullscreen></iframe> <div class=tutorials-main-data> <div class=tutorials-main-details> <div><%=mainVideo.title%></div> <div><%=mainVideo.description%></div> </div> </div> </div> <div class=tutorials-sidebar> <div class=next-video> <div class=next-title><%=__(\'tutorials.up.next\')%></div> <div class=video data-id="<%=nextVideo.resourceId.videoId%>"> <div class=video-thumb><img src="<%= nextVideo.thumbnails.medium.url%>"/></div> <div class=video-title><%=nextVideo.title%></div> </div> </div> <div class=videos-list> <%  _.each(playlists, function(playlist, i) { %> <div class="playlist <% if (i > 0) {%>closed<%}%>"> <div class=playlist-title><%=playlist.playlist.title%></div> <div class=playlist-videos> <% _.each(playlist.videos, function(video) { %> <% if (_.has(video, \'thumbnails\')) {%> <div class=video data-id="<%=video.resourceId.videoId%>"> <div class=video-thumb><img src="<%= video.thumbnails.medium.url%>"/></div> <div class=video-title><%=video.title%></div> </div> <% } %> <% }); %> </div> </div> <% }); %> </div> </div> </div> </div>'},function(e,t){e.exports="<div class=\"tutorials coming-soon\"> <%=__('coming_soon')%> </div>"},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(22),o=n(0),s=n(4).Provider,a=n(1),l=n(70),c=n(1899).default,u=l.extend({initialize:function(e){l.prototype.initialize.apply(this,arguments),this.render()},getOptions:function(e){return a.extend({},a.result(l.prototype,"getOptions"),{isHeaderShowed:!0,caption:__("hint.video_education"),previousCaption:__("actions.back"),headerStyle:"wizard"},e)},render:function(){l.prototype.render.call(this);var e=this.options;return this.$el.find(".responsive-popup-content").addClass("education"),r.render(o.createElement(s,{store:store},o.createElement(c,e)),this.$el.find(".responsive-popup-body")[0]),this},destroy:function(){r.unmountComponentAtNode(this.$el.find(".responsive-popup-body")[0]),l.prototype.destroy.call(this)}});i.exports=u}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(1679),o=n(1683);i.exports={NewAccountView:r,NewAccountModel:o}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var r=n(1),o=n(136),s=n(86),a=n(628),l=n(176),c=n(6),u=n(54),d=n(5),p=n(16),f=n(811),h=n(9),m=n(211),g=n(765),v=n(8),b=n(1014),_=b.getPhoneCodesByCountryCode,y=b.getCountriesPhoneCodes,E=r.template(n(1681)),S=r.template(n(1682)),C=r.template(n(242)),w=n(72),O=void 0,T=void 0,P=n(812),k=P.EMPTY,I=P.LOADING,A=P.SUCCESS,x=(P.ERROR,n(285)),N=n(451).DEVICES,D=n(0),R=n(22),L=n(813).default,M=n(387),j=n(126).default,F=n(12),B="auth-panel-email-field",U="auth-panel-password-field",V="auth-panel-confirm-password-field",z="auth-panel-referral-code-field",q=o.extend({events:function(){return r.extend({},r.result(o.prototype,"events"),{"click #auth-button-create-account":"createAccount","click .auth-login-link":"close","click .currency-change":"showChangeCurrency","click .password-eye":"showPasswordToggle","submit .new-account-form":"createAccount","click .auth-panel-personal-data-usage a":"onDataUsageLinkClick"})},getOptions:function(e){return r.extend({},o.prototype.getOptions.call(this,e),e)},initialize:function(e){o.prototype.initialize.call(this,e),this.listenTo(this.model,"change:statusOfCurrencies",this.onStatusOfCurrenciesChanged),this.listenTo(this.model,"change:statusOfRegistrationOptions",this.onStatusOfRegistrationOptionsChanged),this.listenTo(d,"ui:change-theme",this.renderCaptcha),this.render()},loadCurrenciesError:function(e){return Promise.reject(e)},onStatusOfCurrenciesChanged:function(){switch(this.model.get("statusOfCurrencies")){case k:case I:break;case A:this.renderCurrencies()}},onStatusOfRegistrationOptionsChanged:function(){this.model.get("statusOfRegistrationOptions")===A&&this.visibilityEsmaRegulationWarning()},visibilityEsmaRegulationWarning:function(){var e=this.model.isEsmaRegulatedCountry()?__("login_page.create_account.esma.warning_message"):__("login.risk_warning");h.isRegistrationCustomerSelectedCompanyEnabled()&&this.model.isCustomerSelectCompany()&&this.model.needShowCustomerSelectCompanyRiskWarning()&&(e=__("create_account.customer_selected_company.risk_warning.message")),this.$(".auth-box-info").html(e)},renderCurrencies:function(){this.$(".fn-currencies").html(S({currencies:this.model.getCurrencies()}))},getTemplateCfd:function(){return Promise.all([this.processLocation(),v.loadCountries()]).then(this.parsePhoneData.bind(this)).catch((function(e){return Promise.reject(e)}))},processLocation:function(){return new Promise((function(e){return v.getLocation().then((function(t){return e(t&&t.data&&String(t.data.countryCode||"uk").toLowerCase())})).catch((function(){return e("uk")}))}))},parsePhoneData:function(e){var t=e[0],n=e[1].data,i=y(this.model.filterCountries(n)),o=r.find(i,(function(e){return e.code===t})),s=o?o.value:(t="GB".toLowerCase(),_("GB"));return this.setContent(E({isAdvancedShortRegistration:h.isAdvancedShortRegistration(),phoneOptions:{countries:i,defaultPhoneValue:s,defaultCountry:t},isReferralCodeEnabled:h.isReferralCodeEnabled(),needShowPersonalDataUsage:h.needShowPersonalDataUsage(),isDisclaimerEnabled:this.isDisclaimerEnabled()}))},getTemplate:function(){return Promise.resolve(this.setContent(E({isReferralCodeEnabled:h.isReferralCodeEnabled(),needShowPersonalDataUsage:h.needShowPersonalDataUsage(),theme:w.name,isDisclaimerEnabled:this.isDisclaimerEnabled()})))},render:function(){o.prototype.render.call(this);var e=h.isAdvancedShortRegistration()?this.getTemplateCfd():this.getTemplate();e.then(this.initForm.bind(this)),e.then(this.renderCurrencies.bind(this)),this.renderCaptcha(),__eventos("onBoardFlow:leadForm:display",{lang:u.getLanguage()||"en"})},renderCaptcha:function(){var e=this;h.isCaptchaEnabled()&&M.getCookie("show_create_account_captcha")&&(this.disableCreateAccountButton(),this.clearFormFieldsOnFocusListener(),R.render(D.createElement(L,{key:r.uniqueId("create.account.captcha"),verifyCallback:this.verifyCaptcha.bind(this),expiredCallback:this.expiredCaptcha.bind(this)}),this.$el.find(".captcha-block")[0]),setTimeout((function(){return e.setUpFormFieldsOnFocusListener()}),500))},verifyCaptcha:function(e){this.captchaResponse=e,this.cleanErrors(),this.enableCreateAccountButton()},expiredCaptcha:function(e){this.captchaResponse=e,this.disableCreateAccountButton()},disableCreateAccountButton:function(){this.$el.find("#auth-button-create-account").addClass("disabled").attr("disabled",!0)},enableCreateAccountButton:function(){this.$el.find("#auth-button-create-account").removeClass("disabled").removeAttr("disabled")},setUpFormFieldsOnFocusListener:function(){var e=this,t=[B,U,V];h.isReferralCodeEnabled()&&t.push(z),r.each(t,(function(t){e.$("."+t+" > input")[0].onfocus=e.onFocus.bind(e)}))},clearFormFieldsOnFocusListener:function(){var e=this,t=[B,U,V];h.isReferralCodeEnabled()&&t.push(z),r.each(t,(function(t){e.$("."+t+" > input")[0].onfocus=null}))},initForm:function(){this.setUpFormFieldsOnFocusListener(),h.isAdvancedShortRegistration()&&(O=new g({el:this.$(".auth-panel-phone-field"),form:this}),T=new m({el:this.$(".auth-panel-mail-checkbox"),form:this}),h.isMarketingProgramCheckboxMandatory()||T.check()),h.isSocialLoginEnabled()&&(this.extAuth=new f({el:this.$el.find(".auth-form")}))},onFocus:function(e){e.target.parentNode.classList.remove("field-error"),this.cleanErrors()},createAccount:function(e){e.preventDefault(),__eventos("onBoardFlow:leadForm:clientSubmit"),this.cleanErrors();var t=this.createValidator(),n=t.validate(this.getFormData());if(n)this.showErrors(n);else{var i={email:t.data(B),password:t.data(U),referralCode:t.data(z),phone:t.data("auth-panel-phone-field"),marketingProgram:this.getFormData()["auth-panel-mail-checkbox"],locale:__("lang"),appSource:N[x.device()],currency:(t.data("auth-panel-currency-field")||"USD").toUpperCase()};h.isRegistrationCustomerSelectedCompanyEnabled()&&this.model.isCustomerSelectCompany()&&(i.partnerCompanyId=this.model.getPartnerCompanyId()),r.isEmpty(this.captchaResponse)||(i.captcha=this.captchaResponse),this.disableCreateAccountButton(),this.makeNewAccountRequest(i).then((function(){return d.trigger("login:success")})).catch((function(){}))}},showFixedLoadingView:function(){return this.fixedLoadingView=new s({parent:document.body,position:"fixed",translucent:"2"}),Promise.resolve()},hideFixedLoadingView:function(){return this.fixedLoadingView.destroy(),Promise.resolve()},showAbsoluteLoadingView:function(){return this.absoluteLoadingView=new s({parent:this.$el.find(".auth-box"),position:"absolute",translucent:"2"}),Promise.resolve()},hideAbsoluteLoadingView:function(){return this.absoluteLoadingView&&this.absoluteLoadingView.destroy(),Promise.resolve()},makeNewAccountRequest:function(e){return this.showAbsoluteLoadingView(),c.newAccount(e).then(this.onUserNewAccountSuccess.bind(this)).catch(this.onUserNewAccountError.bind(this))},onUserNewAccountSuccess:function(e){this.hideAbsoluteLoadingView()},onUserNewAccountError:function(e){this.hideAbsoluteLoadingView(),this.enableCreateAccountButton();var t=[__("generic.error.message")],n=e.response,i=JSON.parse(n.config.data),o={email:i.email,locale:i.locale};if(400===n.status)if(r.isArray(n.data)){t=n.data.reduce((function(e,t){var n=__("validation.password."+t.key,t.params);return e.push(n===t.key?t.defaultValue:n),e}),[])}else switch(o.errorCode=n.data.errorCode,n.data.errorCode){case 2026:t=[__("create.account.restricted")];break;case 2008:t=[__("create.account.exist")+'<br><a href="#forgetpassword" id="auth-forgot-password-link">'+__("create.account.exist.have_account")+"</a>"];break;default:t=[__("generic.error.message")]}return 429===n.status&&(t=[__("login.too_many_login_attempts")]),d.trigger("log:error",o),this.showPasswordValidationErrors(t),this.renderCaptcha(),Promise.reject(e)},getValidatorFilters:function(){return{"auth-panel-email-field":["string","trim"],"auth-panel-password-field":["string"],"auth-panel-confirm-password-field":["string"],"auth-panel-referral-code-field":["string"]}},getValidatorRules:function(){return{"auth-panel-email-field":{not_empty:__("registration.warning.field_is_required",__("account_settings.customer_info.form.email")),email:__("withdraw.form.error.email")},"auth-panel-password-field":{not_empty:__("registration.warning.field_is_required",__("new_account.input.password.placeholder")),alpha_numeric:h.isPasswordClientValidationEnabled()?__("account_settings.change_password.form.validate",h.getPasswordMinLength(),h.getPasswordMaxLength()):r.noop,password:h.isPasswordClientValidationEnabled()?__("account_settings.change_password.form.validate",h.getPasswordMinLength(),h.getPasswordMaxLength()):r.noop},"auth-panel-confirm-password-field":{not_empty:__("registration.warning.field_is_required",__("new_account.input.confirm_password.placeholder")),strict_equals:[this.$(".auth-panel-password-field input").val(),__("account_settings.change_password.form.validate.not_match")]}}},hasPromotionCode:function(){return this.$(".auth-panel-referral-code-field input").val()},getFormData:function(){var e={"auth-panel-email-field":this.$(".auth-panel-email-field input").val(),"auth-panel-password-field":this.$(".auth-panel-password-field input").val(),"auth-panel-confirm-password-field":this.$(".auth-panel-confirm-password-field input").val(),"auth-panel-currency-field":this.$(".radio_list input:checked").val(),"auth-panel-phone-field":O?O.phoneSelect()+O.phoneInput():"","auth-panel-mail-checkbox":T?T.value():""};return e[z]=h.isReferralCodeEnabled()&&this.hasPromotionCode()?this.$(".auth-panel-referral-code-field input").val():"",e},createValidator:function(){var e=this.getValidatorRules();return h.isReferralCodeEnabled()&&this.hasPromotionCode()&&(e[z]={min_length:[2,__("registration.warning.promo_code_length")],max_length:[20,__("registration.warning.promo_code_length")]}),h.isAdvancedShortRegistration()&&(e["auth-panel-phone-field"]={not_empty:a.notEmpty("phone"),numeric:a.numeric("phone"),validateLength:function(e){return(e=O?{phone:O.phoneSelect()+O.phoneInput(),phoneSelect:O.phoneSelect(),phoneInput:O.phoneInput()}:"").phone.length>20?__("registration.phone.max",20):e.phoneInput.length<6?__("registration.phone.min",6):r.isEmpty(e.phoneSelect)?a.notEmpty("phone"):null}},h.isMarketingProgramCheckboxMandatory()&&(e["auth-panel-mail-checkbox"]={required:__("registration.warning.field_is_required",__("registration.field.label.allowMarketingEmails"))})),new l(this.getValidatorFilters(),e)},showErrors:function(e){var t=this;r.each(e,(function(e,n,i){t.$("."+n).addClass("field-error")})),this.$(".error-block").html(C({errors:e})),this.$(".error-block").css("display","block")},cleanErrors:function(){var e=this,t=this.getFormData();r.each(t,(function(t,n){e.$("."+n).removeClass("field-error")})),this.$(".error-block").css("display","none")},showPasswordValidationErrors:function(e){this.$(".error-block").html(C({errors:[e]})),this.$(".error-block").css("display","block")},hide:function(){o.prototype.hide.call(this),this.destroy()},destroy:function(){this.extAuth&&this.extAuth.destroy(),o.prototype.destroy.call(this)},showChangeCurrency:function(){this.$el.find(".currency-selected").css("display","none"),this.$el.find(".radio_list").css("display","block")},showPasswordToggle:function(e){var t=F(e.target),n=t.parent().find("input");if(t.hasClass("icon-eye-gray"))return t.removeClass("icon-eye-gray"),t.addClass("icon-eye-blue"),void n.attr("type","text");t.removeClass("icon-eye-blue"),t.addClass("icon-eye-gray"),n.attr("type","password")},onDataUsageLinkClick:function(e){e.preventDefault();var t=e.currentTarget.href;j(t)},isDisclaimerEnabled:function(){return"false"!==this.model.get("disclaimer")}});h.isRegistrationAutocompleteEnabled()&&(q.prototype.events=r.extend({},r.result(q.prototype,"events"),{"dblclick .auth-box":"__doubleClickOnInput"}),q.prototype.__doubleClickOnInput=function(){var e="test_"+p().format("DDMMMYY_HHmmss")+"@i.ua",t=h.isPasswordClientValidationEnabled()?"Test123":"Test123!";this.$("#new-account-input-email").val(e),this.$("#new-account-input-password").val(t),this.$("#new-account-input-confirm-password").val(t),h.isReferralCodeEnabled()&&this.$("#new-account-input-referral-code").val("QQQQ");this.$(".field-type-phone [name=phone]").val(r.sample("0123456789".split(""),7).join("")),this.$(".dk-select").forEach((function(e){var t=F(e).find(".dk-select-options li");r.sample(r.initial(t)).click()}))}),i.exports=q}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t){e.exports="<div class=external-auth> <div class=external-auth-content> <div class=or-line><span><%=__('social.login.or.divider.text')%></span></div> <div class=ext-buttons> <div class=google-btn> <i class=icon-google></i> <span>Google</span> </div> <div class=fb-btn> <i class=icon-fb></i> <span>Facebook</span> </div> </div> </div> </div>"},function(e,t){e.exports='<div class="auth-box auth-box-create-account <%=(typeof isAdvancedShortRegistration !== \'undefined\' && isAdvancedShortRegistration ? \'create-account-advanced\' : \'\')%>"> <form class=new-account-form> <div class=auth-panel> <div class="caption hidden-xs"><%=__(\'new_account.caption.web\')%></div> <div class="caption-xs visible-xs"> <span class=welcome><%=__(\'new_account.caption.mobile\')%></span> <span><%=__(\'new_account.create\')%></span> </div> <div class=auth-content> <div class=auth-form> <div class=form> <div class="auth-panel-email-field field input-field"> <span class=icon-contact></span> <input type=email id=new-account-input-email placeholder="<%=__(\'account_settings.customer_info.form.email\')%>" value=""> </div> <div class="auth-panel-password-field field input-field"> <span class=icon-locked></span> <input type=password id=new-account-input-password placeholder="<%=__(\'new_account.input.password.placeholder\')%>" value=""> <i class="password-eye icon-eye-gray"></i> </div> <div class="auth-panel-confirm-password-field field input-field"> <span class=icon-locked></span> <input type=password id=new-account-input-confirm-password placeholder="<%=__(\'new_account.input.confirm_password.placeholder\')%>" value=""> <i class="password-eye icon-eye-gray"></i> </div> <% if (typeof isAdvancedShortRegistration !== \'undefined\' && isAdvancedShortRegistration) { %> <div class="field field-type-phone auth-panel-phone-field"> <div class=form-complex-inline-input> <div class=styled-select> <select class=form-control default-value="<%=phoneOptions.defaultPhoneValue%>"> <% _.each(phoneOptions.countries, function(option) { %> <option value="<%=option.value ? option.value : \'\'%>"> <%="+" + option.value%> </option> <% }); %> </select> </div> <div class=dk-select> <% var countryCode = \'phoneOptions.defaultCountry\'%> <div class=dk-selected tabindex=0> <span class="flag flag-<%=phoneOptions.defaultCountry ? phoneOptions.defaultCountry : \'unknown\' %>"></span> +<%=phoneOptions.defaultPhoneValue%> </div> <ul class=dk-select-options aria-expanded=false> <% _.each(phoneOptions.countries, function(option) { %> <li class=dk-option data-value="<%=option.value ? option.value : \'\'%>"> <span class="flag flag-<%=option.code%>"></span> <span class=select-code><%="+" + option.value%></span> <span class=select-country><%= option.name%></span> </li> <%}); %> </ul> </div> <div class="input form-control"> <input type=text name=phone placeholder="<%=__(\'registration.field.label.phone\')%>" default-value=""> </div> </div> </div> <% } %> <% if (isReferralCodeEnabled) { %> <div class="auth-panel-referral-code-field field input-field"> <input type=string id=new-account-input-referral-code placeholder="<%=__(\'new_account.input.referral_code.placeholder\')%>" minlength=2 maxlength=20 value=""> </div> <% } %> <div class="auth-panel-currency-field fn-currencies"></div> <% if (needShowPersonalDataUsage) { %> <div class=auth-panel-personal-data-usage> <%=__(\'login_page.create_account.personal_data_usage\')%> </div> <% } %> <% if (typeof isAdvancedShortRegistration !== \'undefined\' && isAdvancedShortRegistration) { %> <div class="field auth-panel-mail-checkbox"> <div class=checkbox-row> <label for=allow_marketing_emails_> <input type=checkbox value="" id=allow_marketing_emails_ name=allowMarketingEmails default-value="" parse-string=""> <span class=checkbox_label_inline><%=__(\'registration.field.label.allow_marketing_emails.v2\')%></span> </label> </div> </div> <% } %> <div class=captcha-block></div> <button class="btn btn-primary" id=auth-button-create-account> <%= __(\'new_account.button.text\')%> </button> <div class="auth-box-switch visible-xs"> <span><%=__(\'new_account.have_account\')%></span> <a href=#login class=auth-login-link><%=__(\'new_account.login_link\')%></a> </div> <div class="container-fluid error-block"> <div class=row> <div class="col-sm-12 error-message"> <i class=icon-warning></i> <%=__(\'new_account.error_message\')%> </div> </div> </div> </div> </div> <div class=secure-platform-panel> <div> <span class="icon-column icon-trade-register"></span> <span class=secure-platform-text><%=__(\'indigo.new.account.privacy.label\',\'</br>\')%></span> </div> <div> <span class="icon-column icon-part-register"></span> <span class=secure-platform-text><%=__(\'indigo.new.account.regulated.label\', \'</br>\')%></span> </div> <div> <span class="icon-column icon-web-register"></span> <span class=secure-platform-text><%=__(\'indigo.new.account.secure.label\', \'</br>\')%></span> </div> </div> </div> </div> </form> <div class=auth-box-footer> <div class="auth-box-switch hidden-xs"> <span><%=__(\'new_account.have_account\')%></span> <a href=#login class=auth-login-link><%=__(\'new_account.login_link\')%></a> </div> <% if (isDisclaimerEnabled) { %> <div class=auth-box-info> <%=__(\'login.risk_warning\')%> </div> <% } %> </div> </div> '},function(e,t){e.exports="<label><%=__('new_account.label.account_currency')%></label> <span class=currency-selected><%=currencies[0]%> <a class=currency-change> <%=__('actions.change')%> </a> </span> <div class=radio_list> <% _.each(currencies, function (currency, i){ %> <span> <input type=radio name=registration[currency] id=\"registration_currency_<%=currency%>\" value=\"<%=currency%>\" <%= i=== 0 ? 'checked' : ''%> > <label for=\"registration_currency_<%=currency%>\"><%=currency%></label> </span> <% })%> </div>"},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(43),o=n(8),s=n(9),a=n(1),l=n(812),c=l.EMPTY,u=l.SUCCESS,d=l.ERROR;i.exports=r.extend({defaults:function(){return{statusOfCurrencies:c,statusOfCountries:c,statusOfRegistrationOptions:c,currencies:[],countries:[],defaultCurrencies:["USD"],esmaRegulatedCountry:!1}},initialize:function(){this.loadCurrencies(),this.loadRegistrationOptions()},loadCurrencies:function(){var e=this,t=this.control("statusOfCurrencies");o.getCurrencies().then((function(n){return t(u,{currencies:e.filterCurrencies(n.data)})})).catch((function(e){return t(d)}))},filterCurrencies:function(e){return a.isArray(e)?e:this.get("defaultCurrencies")},getCurrencies:function(){var e=this.get("currencies");return a.isEmpty(e)?this.get("defaultCurrencies"):e},filterCountries:function(e){var t=a.filter(e,(function(e){return"00"!==e.code}));return a.filter(t,"allowed")},loadCountries:function(){var e=this,t=this.control("statusOfCountries");o.loadCountries().then((function(n){return t(u,{countries:e.filterCountries(n.data)})})).catch((function(e){return t(d)}))},getCountries:function(){return this.get("countries")},isEsmaRegulatedCountry:function(){return this.get("esmaRegulatedCountry")},loadRegistrationOptions:function(){var e=this.control("statusOfRegistrationOptions");o.getRegistrationOptions().then((function(t){return e(u,{esmaRegulatedCountry:t.data.esmaRegulatedCountry})})).catch((function(t){return e(d)}))},isCustomerSelectCompany:function(){return!a.isEmpty(this.getPartnerCompanyId())},getPartnerCompanyId:function(){return this.get("company")},needShowCustomerSelectCompanyRiskWarning:function(){return!!this.isCustomerSelectCompany()&&a.contains(s.showCustomRiskWarningForCustomerSelectedCompany(),this.getPartnerCompanyId())}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(5),s=n(33).default,a=n(8),l=n(70),c=n(86),u=n(1685),d=n(413),p=n(412),f=n(1688),h=n(3),m=h.REJECTED,g=h.PENDING,v=h.FORBIDDEN,b=r.template(n(1689)),_=r.template(n(1690)),y={},E=[],S=["transactions","portfolio_size","professional"],C=n(814),w=C.STEP_IN_PROGRESS,O=C.STEP_PENDING;function T(e,t,i){return new(n(124))({parent:document.body,caption:e,text:t,onOK:i,actions:{onClose:i}})}i.exports=l.extend({events:function(){return r.extend({},r.result(l.prototype,"events"),{"click .fn-next":"onNext","click .fn-back":"onBack","click .fn-finish":"onProfessionalTraderFinish","click .fn-close":"closePopup"})},name:"account-classification",className:"account-classification-popup x-popup responsive-popup x-popup-stretch-xs x-popup-no-padding-xs",stepsViews:[],currentStepView:null,initialize:function(e){r.extend(e||{},{isHeaderShowed:!0,caption:"<div class='hidden-sm hidden-md hidden-lg'>"+__("account_classification.type.elective_professional")+"</div><div class='hidden-xs'>"+__("elective_professional.desc.page.title").toUpperCase()+"</div>",previousCaption:__("actions.close"),style:"height: 100%;",maxBoxWidth:""}),l.prototype.initialize.apply(this,arguments),Promise.all([this.getProfTraderFlow(),a.getProfessionalAccAnswers(),this.getCacheObj()]).then(this.parseProfessionalAccountFlow.bind(this)).then(function(e){o.trigger("professional-trader:load:after"),r.extend(e.steps[0],{status:w});var t=r.chain(e.steps).forEach((function(e){return r.defaults(e,{status:O})})).map((function(e){return new d(e)})).value();this.stepsCollection=new f,this.stepsCollection.setData(t)}.bind(this)).then(this.onDataLoaded.bind(this)).catch(this.handleError.bind(this))},onDataLoaded:function(){this.render(),this.setContent(b()),this.stepsViews=this.stepsCollection.map((function(e){return new p({$parent:this.$el.find(".content"),model:e})}),this);for(var e=0;e<this.stepsCollection.length;e++){var t=this.stepsCollection.models[e],n=t.attributes?t.attributes.title:"";r.includes(S,n)&&(this.stepsViews[e].isActive=!1)}this.showControlButtons(),this.currentStepView=this.stepsViews[this.stepsCollection.getCurrentStepId()],this.currentStepView.show(),o.trigger("professional-trader:start")},getProfTraderFlow:function(){return a.getProfessionalAccountFlow()},getCacheObj:function(){return y},isSelectBoxComponent:function(e,t){return r(t).map("shortName").some((function(t){return t===e}))},answersMapFunction:function(e,t){var n=this;return r(e.answers).map((function(i){return"other"!==i.answerKey.toLowerCase()||n.isSelectBoxComponent(e.questionKey,t)?i.answerKey:i.otherAnswer}))},addOtherComponentMetaData:function(e,t,n){var i=e.shortName+"_other",o={shortName:i,questions:[{shortName:"other"}]},s=r.where(t,{shortName:e.group})[0].questions,a=s.indexOf(e);if(s.splice(a,0,o),!r.isEmpty(n)){var l=r(n).where({questionKey:e.shortName})[0].answers,c=r(l).where({answerKey:"other"});n.push({questionKey:i,answers:c})}},prepareDataForUI:function(e,t){var n=this,i=r.chain(e).map("questions").flatten().groupBy("questionType").value().LIST;return i.forEach((function(i){return n.addOtherComponentMetaData(i,e,t)})),r.object(r(t).map("questionKey"),r(t).map((function(e){return n.answersMapFunction(e,i)})))},isAllowedToShow:function(e,t){return"ELECTIVE_PROFESSIONAL"!==t.toUpperCase()&&(!(!r.isEmpty(e)&&e!==m)||e===g)},parseProfessionalAccountFlow:function(e){var t=e[0].data;E=r.chain(t).map("questions").flatten().map("possibleAnswers").flatten().map("shortName").uniq().value();var n=e[1],i=n.data.questionnaireAnswers;r.each(n,(function(e,t){"UNKNOWN"===e&&(n[t]="")}));var o=n.data.approvalStatus,s=n.data.clientClassification;if(!this.isAllowedToShow(o,s))return Promise.reject({code:v});var a=o===m?{}:this.prepareDataForUI(t,i);return{steps:u.ProfessionalTraderConfig({savedData:a}).getFormElements(t)}},close:function(){this.stopListening(),r.each(this.stepsViews,(function(e){e.remove()})),l.prototype.close.call(this)},showControlButtons:function(){this.stepsCollection.isFirstStep()?(this.$el.find(".prev-button-text").forEach((function(e){return e.textContent=__("questionnaire.close.btn")})),this.$el.find(".next-button-text").forEach((function(e){return e.textContent=__("account_classification.apply_now.btn")}))):(this.$el.find(".next-button-text").forEach((function(e){return e.textContent=__("actions.next")})),this.$el.find(".prev-button-text").forEach((function(e){return e.textContent=__("actions.previous")}))),this.$el.find(".allow-next").css("display",this.stepsCollection.isLastStep()?"none":"block"),this.$el.find(".allow-back").css("display",this.stepsCollection.isFirstStep()&&s.mobile()?"none":"block");r.where(this.stepsViews[this.stepsCollection.getCurrentStepId()].model.attributes.form[0],{shortName:"warning_confirmation"});this.$el.find(".allow-finish").css("display",this.stepsCollection.isLastStep()?"block":"none")},changeStep:function(e){this.currentStepView.remove(),this.stepsCollection.moveStep(e),this.currentStepView=this.stepsViews[this.stepsCollection.getCurrentStepId()],this.currentStepView.isActive?this.currentStepView.show():this.changeStep(e),this.showControlButtons(),s.mobile()&&this.$el.find(".registration").scrollTo({duration:1e3,complete:r.noop,top:0})},onNext:function(){if(!1===this.currentStepView.validate()){this.submitSteps();var e,t,n,i=this.currentStepView.model.getSavedData().criteria_selection;if(r.isArray(i)&&!r.isEmpty(i)){for(var o={},a=0;a<this.stepsCollection.length;a++){var l=this.stepsCollection.models[a],c=l.attributes?l.attributes.title:"";r.includes(S,c)&&(this.stepsViews[a].isActive=!1,r.assign(o,(e={},t=c,n=this.stepsViews[a],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e)))}i.forEach((function(e){switch(e){case"client_work_experience":o.professional&&(o.professional.isActive=!0);break;case"transactions_significant_size":o.transactions&&(o.transactions.isActive=!0);break;case"client_portfolio_size":o.portfolio_size&&(o.portfolio_size.isActive=!0)}}))}this.changeStep(1)}else if(s.mobile()){var u=this.currentStepView.getErrorFields()[0];if(!u)return;this.$el.find(".registration").scrollTo({duration:1e3,complete:r.noop,element:u.$el})}},onProfessionalTraderFinish:function(){!1===this.currentStepView.validate()?(this.submitSteps(),this.setContent(_())):this.scrollToFirstNotValidField()},scrollToFirstNotValidField:function(){var e=this.currentStepView.getErrorFields()[0];e&&this.$el.find(".content").scrollTo({duration:1e3,complete:r.noop,element:e.$el})},onBack:function(){this.stepsCollection.isFirstStep()?this.close():(this.currentStepView.saveData(),this.changeStep(-1))},transformAnswer:function(e,t){function n(e){var t=!r.contains(E,e);return{answerKey:t?"other":e,otherAnswer:t?e:""}}return{questionKey:t,answers:r.isArray(e)?r.map(e,n):new Array(n(e))}},adoptOtherMetadata:function(e){for(var t=function(){return r.invert(e).other};t()&&e[t()+"_other"];){var n=t();e[n]=e[n+"_other"],e=r(e).omit(n+"_other")}return e},prepareDataToTransfer:function(e){var t=this,n=this.currentStepView.model.attributes.groupName,i=e[this.stepsCollection.getCurrentStepId()];return i=this.adoptOtherMetadata(i),{groupName:n,questionnaireAnswers:i=r(i).map((function(e,n){return t.transformAnswer(e,n)}))}},submit:function(e){var t=this.prepareDataToTransfer(e);r.flatten(r.map(t.questionnaireAnswers,(function(e){return e.answers}))).length>0&&(this.showLoadingPopup(),a.requestEpaQuestionnaireAnswers(t).then(function(e){return this.hideLoadingPopup(),e&&e.data&&e.data.error?Promise.reject(e.data.error):e}.bind(this)).catch(function(t){this.hideLoadingPopup(),r.assign(y,e),this.handleError(t)}.bind(this)))},submitSteps:function(){return this.currentStepView.saveData(),this.submit(r.chain(this.stepsViews).map((function(e){return e.model.getSavedData()})).value())},showLoadingPopup:function(){this.fixedLoadingView||(this.fixedLoadingView=new c({parent:this.$el,position:"fixed",translucent:"2"}))},hideLoadingPopup:function(){this.fixedLoadingView&&(this.fixedLoadingView.destroy(),this.fixedLoadingView=null)},handleError:function(e){r.has(e,"code")&&e.code===v||new T(__("state.machine.confirmation.error.title"),__("generic.error.message"),this.close.bind(this))},closePopup:function(){l.prototype.closePopup.call(this),o.trigger("professional-trader:abort");var e=this.options,t=e&&e.onAbort;r.isFunction(t)&&t()}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=(n(12),n(71).default,n(9)),s=n(148),a=n(1686),l=r.template(n(1687)),c="EMPTY",u={inputOther:function(e){if("OTHER"===e.value().toUpperCase())return e.disable(),this.enable(),void this.focus();e.enable(),this.disable()}};function d(e,t){if(this.value(this.value().trim()),this.isEmpty()){var n=this.getDependentFieldByName(e);if(r.isEmpty(n))return this.$el.addClass("field-error"),void this.showTooltip();this.disable(),n.setDefaultValue(),n.enable(),"none"===n.$el.css("display")&&n.$el.css("display","block")}}i.exports.ProfessionalTraderConfig=function(e){var t={custom_html_element:{template:l,benefitsSectionEnabled:!o.isAccountClassificationBenefitsSectionHidden(),confidentialSectionEnabled:!o.isAccountClassificationConfidentialSectionHidden(),disable:!1},criteria_selection:{title:__("elective_professional.criteria_selection"),translationKey:"criteria_selection",translationGroupPrefix:"elective_professional.criteria_selection",template:s.multiCheckBox,validation:a.multiCheckBoxRequired(2,"criteria_selection"),disable:!1},trade_volume:{title:__("elective_professional.trade_volume"),translationKey:"trade_volume",translationGroupPrefix:"elective_professional.trade_volume",template:s.radioWithDescription,validation:a.radioNotEmpty("trade_volume"),disable:!1,column:!0,description:__("elective_professional.trade_volume.description")},portfolio:{title:__("elective_professional.portfolio"),translationKey:"portfolio",translationGroupPrefix:"elective_professional.portfolio",template:s.radioWithDescription,validation:a.radioNotEmpty("portfolio"),disable:!1,column:!0,description:__("elective_professional.portfolio.description")},employer_sector:{title:__("elective_professional.employer_sector"),translationKey:"employer_sector",translationGroupPrefix:"elective_professional.employer_sector",template:s.selectBox,validation:a.selectNotEmpty("employer_sector"),disable:!1},employer_sector_other:{title:__("elective_professional.employer_sector"),translationKey:"employer_sector_other",template:s.inputBox,validation:a.inputNotEqual(__("prof.trader.field.label.employer_sector_other")),options:{defaultValue:__("registration.field.label.study_field_other")},dependent:[{name:"employer_sector",handler:u.inputOther}],events:{onblur:r.partial(d,"employer_sector")},placeholder:__("registration.field.value.provide"),disable:!0},employer_name:{title:__("elective_professional.employer_name"),translationKey:"employer_name",template:s.inputBox,validation:a.notEmpty("employer_name"),disable:!1},employer_regulated:{title:__("elective_professional.employer_regulated"),translationKey:"employer_regulated",translationGroupPrefix:"elective_professional.employer_regulated",template:s.radioWithDescription,validation:a.radioNotEmpty("employer_regulated"),disable:!1,column:!1},role:{title:__("elective_professional.role"),translationKey:"role",translationGroupPrefix:"elective_professional.role",template:s.selectBox,validation:a.selectNotEmpty("role"),disable:!1},role_other:{title:__("elective_professional.role"),translationKey:"role_other",template:s.inputBox,validation:a.inputNotEqual(__("registration.field.label.study_field_other")),options:{defaultValue:__("registration.field.label.study_field_other")},dependent:[{name:"role",handler:u.inputOther}],events:{onblur:r.partial(d,"role")},placeholder:__("registration.field.value.provide"),disable:!0},comment:{title:__("elective_professional.comment"),translationKey:"comment",translationGroupPrefix:"elective_professional.comment",template:s.textArea,validation:a.notEmpty("comment"),settings:{rows:3,columns:30},disable:!1},warning_confirmation:{title:"",translationKey:"warning_confirmation",translationGroupPrefix:"elective_professional.warning_confirmation",template:s.multiCheckBox,validation:a.singleCheckBoxRequired("warning_confirmation"),disable:!1},experience_title:{title:__("elective_professional.experience_title"),translationKey:"experience_title",template:s.textLabel,disable:!1,description:__("elective_professional.experience_title.description")},confidential_info:{title:__("elective_professional.confidential_info"),translationKey:"confidential_info",template:s.textLabel,disable:!1},change_protection_consequences:{title:__("elective_professional.change_protection_consequences"),translationKey:"change_protection_consequences",template:s.textLabel,disable:!1,description:__("elective_professional.change_protection_consequences.description")},lose_protections:{title:__("elective_professional.lose_protections"),translationKey:"lose_protections",template:s.textLabel,disable:!1,description:__("elective_professional.lose_protections.description")},trade_volume_note:{title:__("elective_professional.trade_volume.note"),translationKey:"trade_volume_note",template:s.textLabel,disable:!1}};function n(n){var i=n.shortName;if(!t[i])return{name:i};var o=e.savedData[i]?{savedData:e.savedData[i]}:{},a=[];r.map(n.possibleAnswers,(function(e){return a.push(new Object(e.shortName))})),n.name=i;var l=r.extend({},n,o,t[i],{options:a});return l.template!==s.selectBox&&l.template!==s.selectBoxOverflowWidth||r.contains(l.options,c)||(l.options.unshift(c),r.isEmpty(o.savedData)&&(l.savedData=c)),l}return{getFormElements:function(e){return e.unshift({shortName:"custom",questions:[{shortName:"custom_html_element"}]}),r.map(e,(function(e){return{groupName:e.shortName,title:e.shortName,status:e.status,top:[],form:[r.map(e.questions,n)],bottom:[]}}))}}}}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,r){var o=n(43),s="professional.trader.field.label.",a="questionnaire.validation.not_empty_field",l=o.extend({selectNotEmpty:function(e){return{rules:{not_equals:["EMPTY",__(e?"registration.warning.field_is_required":a,__(s+e))]},filters:[]}},multiSelectNotEmpty:function(e){return{rules:{not_equals_array:[["EMPTY"],__(e?"registration.warning.field_is_required":a,__(s+e))]},filters:[]}},multiCheckBoxNotEmpty:function(e){return{rules:{not_empty:__(a,__(e?s+e:a))},filters:[]}},radioNotEmpty:function(e){return{rules:{not_empty:__(a,__(e?s+e:a))},filters:[]}},inputNotEqual:function(e){return{rules:{not_equals:[e,__("indigo.account_settings.change_password.form.validate.not_empty")]},filters:[]}},notEmpty:function(e){return{rules:{not_equals:["",__(e?"registration.warning.field_is_required":a,__(s+e))]},filters:[]}},multiCheckBoxRequired:function(e,t){return{rules:{custom_required:function(n,r){var o=n[t];return i.isArray(o)?o.length<e?__("questionnaire.validation.multiple_answers_count"):"":o?void 0:__("questionnaire.validation.multiple_answers_count")}},filters:[]}},singleCheckBoxRequired:function(e){return{rules:{custom_required:function(t,n){if(!t[e])return __("questionnaire.validation.not_empty_field")}},filters:[]}}});r.exports=new l}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t){e.exports="<div> <p> <%=__('elective_professional.desc.page.desc')%> </p> <% if(benefitsSectionEnabled) { %> <p> <strong><%=__('elective_professional.desc.benefits.title')%></strong> </p> <div class=grid-12_sm-1> <div class=\"col-6_sm-12 grid-spaceAround icon-box\"> <div class=col-2_sm-2> <i class=icon-trade-review></i> </div> <div class=\"col-10_sm-10 icon-text\"> <span><%=__('elective_professional.desc.trade_review.title')%></span> </div> </div> <div class=\"col-6_sm-12 grid-spaceAround icon-box\"> <div class=col-2_sm-2> <i class=icon-video-lectures></i> </div> <div class=\"col-10_sm-10 icon-text\"> <span><%=__('elective_professional.desc.video_lectures.title')%></span> </div> </div> <div class=\"col-6_sm-12 grid-spaceAround icon-box\"> <div class=col-2_sm-2> <i class=icon-epa-support></i> </div> <div class=\"col-10_sm-10 icon-text\"> <span><%=__('elective_professional.desc.support.title')%></span> </div> </div> <div class=\"col-6_sm-12 grid-spaceAround icon-box\"> <div class=col-2_sm-2> <i class=icon-epa-business-report></i> </div> <div class=\"col-10_sm-10 icon-text\"> <span><%=__('elective_professional.desc.business_report.title')%></span> </div> </div> </div> <% } %> <p> <%=__('elective_professional.desc.notes')%> </p> <% if(confidentialSectionEnabled) { %> <p> <strong> <%=__('elective_professional.desc.privacy_policy.title')%> </strong> </p> <% } %> </div>"},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(100),s=n(814),a=s.STEP_DONE,l=s.STEP_IN_PROGRESS,c=s.STEP_PENDING;i.exports=o.extend({_currentStepId:-1,setData:function(e){r.each(e,(function(e){this.add(e)}),this),this._currentStepId=r.findIndex(e,(function(e){return e.get("status")===l}))},getCurrentStepId:function(){return this._currentStepId},moveStep:function(e){var t=this.getNewStatus(e);if(t){this.updateStepStatus(this._currentStepId,t);var n=this._currentStepId+e;n<0&&(n=0),n>=this.numberOfSteps()&&(n=this.numberOfSteps()-1),this._currentStepId=n,e<0&&this.at(this._currentStepId).get("status")!==a&&this.moveStep(-1),this.updateStepStatus(this._currentStepId,l),this.trigger("steps:change",n)}},updateStepStatus:function(e,t){this.at(e).set("status",t)},numberOfSteps:function(){return this.length},isLastStep:function(){return this._currentStepId+1===this.numberOfSteps()},isFirstStep:function(){return 0===this._currentStepId},getNewStatus:function(e){return e<0?this.isFirstStep()?null:c:e>0?this.isLastStep()?null:a:void 0},setNewStatus:function(e,t){t=t||this._currentStepId,this.at(t).set("status",e)},getCurrentStep:function(){return this.at(this._currentStepId)},getProgressBarWidth:function(){return this.isFirstStep()?15:this.isLastStep()?100:(15+this.getCurrentStepId()*(100/this.length))%100}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t){e.exports='<div class=prof-trader-container> <div class=registration> <div class=content> </div> <div class="separator hidden-xs"><span></span></div> <div class="footer hidden-xs"> <a url=# class="back allow-back fn-back prev-button-text" style=display:none><%=__(\'actions.previous\')%></a> <div class="right allow-next"> <button class="btn btn-primary fn-next next-button-text"><%=__(\'actions.next\')%></button> </div> <div class="right allow-finish" style=display:none> <button class="btn btn-primary fn-finish"><%=__(\'credit_card.popup.submit\')%></button> </div> </div> <div class="footer hidden-sm hidden-md hidden-lg"> <div class=allow-next> <div class=form-actions> <button class="btn btn-link back allow-back fn-back col prev-button-text" style=display:none>&larr; <%=__(\'actions.previous\')%></button> <button class="btn btn-primary fn-next col next-button-text"><%=__(\'registration.button.next\')%> &rarr;</button> </div> </div> <div class=allow-finish style=display:none> <div class=form-actions> <button class="btn btn-link back allow-back fn-back col prev-button-text" style=display:none>&larr; <%=__(\'actions.previous\')%></button> <button class="btn btn-primary fn-finish col"><%=__(\'credit_card.popup.submit\')%></button> </div> </div> </div> </div> </div>'},function(e,t){e.exports='<div class=prof-trader-container> <div class=registration> <div class=content> <div class="form congrats"> <div> <i class=icon-congrats-review></i> </div> <div class=title> <span><%=__(\'elective_professional.last_page.title\')%></span> </div> <div class=description> <span><%=__(\'elective_professional.last_page.desc\')%></span> </div> </div> </div> <div class="separator hidden-xs"><span></span></div> <div class="footer congrats-footer hidden-xs"> <div class="right allow-finish"> <button class="btn btn-primary fn-close"><%=__(\'actions.close\')%></button> </div> </div> <div class="footer congrats-footer hidden-sm hidden-md hidden-lg"> <div class=allow-finish> <div class=form-actions> <button class="btn btn-primary fn-close col"><%=__(\'actions.close\')%></button> </div> </div> </div> </div> </div>'},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(970),o=n(971);i.exports={InsightsView:r,InsightsModel:o}}.call(t,n,t,e))||(e.exports=i)},function(e,t){e.exports="<div class=block-no-data><%=__('insights.no_data', instrument)%></div> <div class=block-1></div> <div class=block-2></div> <div class=block-3></div> <div class=block-4></div> <div class=block-5></div> <div class=block-6></div> "},function(e,t){e.exports='<div class="grid-equalHeight insights__daily"> <div class=col-12> <div class=insights__title><%=__(\'tab.analyst_recommendations\')%></div> </div> <div class="col-4 insights__column-name"> <div class=grid-equalHeight> <div class=col-2></div> <div class=col-10><%=__(\'tipranks.text.recommendation\')%></div> </div> </div> <div class="col-4 insights__column-name"><%=__(\'tipranks.text.analyst_consensus\')%></div> <div class="col-4 insights__column-name"><%=__(\'tipranks.text.avg_target_price\')%></div> <div class=col-12> <div class=grid-12-equalHeight> <div class="grid-12-equalHeight insights__daily-item"> <div class="col-12 insights__info"> <div class=grid-equalHeight> <div class=col-3> <div class=grid-equalHeight> <div class="col-2 flex flex-align-center"> <div class="expander expander__close"></div> </div> <div class=col-10> <div> <% if (stock.isBuy) { %> <button class="btn btn-buy fn-buy btn--fluid"><%=__(\'tipranks.text.\' + stock.consensus_lowercase)%></button> <% } else if (stock.isSell) { %> <button class="btn btn-sell fn-sell btn--fluid"><%=__(\'tipranks.text.\' + stock.consensus_lowercase)%></button> <% } else { %> <button class="btn btn-default btn--fluid"><%=__(\'tipranks.text.\' + stock.consensus_lowercase)%></button> <% } %> </div> </div> </div> </div> <div class=col-4> <div class=grid> <div class=col-12> <div class="bar bar--line"> <div class="bar__item bar__item_positive" style="width: <%=stock.total_analysts_buy_percent%>%"></div> <div class="bar__item bar__item_negative" style="width: <%=stock.total_analysts_sell_percent%>%"></div> <div class="bar__item bar__item_default" style="width: <%=stock.total_analysts_hold_percent%>%"></div> </div> </div> <div class=col-12> <div class="flex flex-row flex-wrap"> <div class="bar bar--rect"> <div class="bar--rect bar__item bar__item_positive"></div> <div class=bar__label><%=__(\'tipranks.text.buy\')%> <%=stock.total_analysts_buy_percent%>% (<%=stock.total_analysts_buy%>)</div> </div> <div class="bar bar--rect"> <div class="bar__item bar__item_negative"></div> <div class=bar__label><%=__(\'tipranks.text.sell\')%> <%=stock.total_analysts_sell_percent%>% (<%=stock.total_analysts_sell%>)</div> </div> <div class="bar bar--rect"> <div class="bar__item bar__item_default"></div> <div class=bar__label><%=__(\'tipranks.text.hold\')%> <%=stock.total_analysts_hold_percent%>% (<%=stock.total_analysts_hold%>)</div> </div> </div> </div> </div> </div> <div class=col-5> <div class=grid> <div class=col-3> <div class=grid-column> <div class=col><b>$<%=stock.avg_target_price%></b></div> <div class=col> <div class=rate-box> <div class="percent <%=stock.avg_upside < 0 ? \'down\' : \'up\'%>"><%=stock.avg_upside%>% <i class=arrow></i></div> </div> </div> </div> </div> <div class=col-9> <div class=graph-block> <div class=content> <%=priceTargetGraph%> </div> </div> </div> </div> </div> <div class=col-3></div> <div class=col-4> <div> <%=__(\'tipranks.text.consensus_description\', stock.total_analysts_recommendations, stock.name, stock.consensus)%> </div> </div> <div class=col-5> <div> <%=__(\'tipranks.text.price_target_description\', stock.total_analysts_recommendations, stock.name, currency + stock.avg_target_price, currency + stock.high_target_price, currency + stock.low_target_price)%> </div> </div> </div> </div> <div class="col-4-bottom insights__list-column-name hidden"><%=__(\'tipranks.text.analyst\')%></div> <div class="col-2-bottom insights__list-column-name hidden"><%=__(\'actions.change\')%></div> <div class="col-2-bottom insights__list-column-name hidden"><%=__(\'tipranks.text.recommendation\')%></div> <div class="col-2-bottom insights__list-column-name hidden"><%=__(\'tipranks.text.target_price\')%></div> <div class="col-2-bottom insights__list-column-name hidden"><%=__(\'tipranks.text.upside\')%> / <%=__(\'tipranks.text.downside\')%></div> <div class=col-12> <div class="grid-12-equalHeight insights__list hidden"> <%_.each(recommendations, function(item) { %> <div class="col-12 grid-equalHeight-middle insights__list-item"> <div class=col-4> <div class="flex flex"> <div><img class=list-item__icon src="https://az712682.vo.msecnd.net/expert-pictures/<%= analysts[item.analyst_id].image %>" alt=""></div> <div class=grid-column> <div class=col><b><%=analysts[item.analyst_id].name%></b></div> <div class=col><%=analysts[item.analyst_id].firm%></div> <div class=col> <div> <div class=rating> <div class=rating__fill style="width: <%=(analysts[item.analyst_id].rating / 5 * 100)%>%"></div> </div> </div> </div> </div> </div> </div> <div class=col-2> <div class=grid-12-equalHeight> <div class=col-12><b> <%=__(\'tipranks.text.\' + item.action) %> </b></div> <div class=col-12><%=formatRecommendationDate(item.date)%></div> </div> </div> <div class=col-2> <div> <% if (item.recommendation == \'Buy\') { %> <button class="btn btn-success fn-buy"><%=__(\'actions.buy\')%></button> <% } else if (item.recommendation == \'Sell\') { %> <button class="btn btn-danger fn-sell"><%=__(\'actions.sell\')%></button> <% } else { %> <button class="btn btn-default"><%=__(\'tipranks.text.hold\')%></button> <% } %> </div> </div> <div class=col-2> <b><%=item.analyst_target_price ? \'$\' + item.analyst_target_price : \'NA\'%></b> </div> <div class=col-2> <div class=rate-box> <% if (item.analyst_upside) { %> <div class="percent <%=item.analyst_upside < 0 ? \'down\' : \'up\'%>"><%=item.analyst_upside%>% <i class=arrow></i></div> <% } else { %> <div class=percent>NA</div> <% } %> </div> </div> </div> <% }) %> </div> </div> </div> </div> </div> </div> '},function(e,t){e.exports='<div class="grid-equalHeight insights__events"> <div class=col-12> <div class=insights__title><%=__(\'autochartist.text.events_description_title\')%></div> </div> <div class="col-3 insights__column-name"><%=__(\'autochartist.text.news_event\')%></div> <div class="col-2 insights__column-name"><%=__(\'autochartist.text.when_time\')%></div> <div class="col-2 insights__column-name"><%=__(\'autochartist.text.trade_opportunities\')%></div> <div class="col-2 insights__column-name"><%=__(\'autochartist.text.prediction_range\')%></div> <div class="col-3 insights__column-name"><%=__(\'tab.price-alerts.alert-types.reminder\')%></div> <div class="col-12 insights__list flex flex-column"> <div class="more more--compact"> <% _.each(items, function(m) { %> <div class="grid-12-equalHeight-middle insights__list-item"> <div class=col-3> <div class=flex> <div class="flex flex-valign-center"><div class="icon icon-help" aria-label="<%=m.getDescription()%>"></div></div> <div><img src="<%=m.getFlagUrl()%>"/></div> <div class=text><%=m.getName()%></div> </div> </div> <div class=col-2><%=m.formatDate()%></div> <div class=col-2><%=m.getOpportunitiesNumber()%> <%=__(\'autochartist.text.opportunities_available\')%>ble</div> <div class=col-2><%=m.getPredictionRange()%></div> <div class=col-3> <div> <div class=grid-middle> <div class=col> <button class="icon icon-google" data-event-id="<%=m.getId()%>"></button> </div> <div class=col> <button class="icon icon-outlook" data-event-id="<%=m.getId()%>"></button> </div> <div class=col> <div><button class="btn btn-primary fn-details" data-event-id="<%=m.getId()%>"><%=__(\'actions.more_details\')%></button></div> </div> </div> </div> </div> </div> <% }) %> </div> <div class=insights__more> <a href=# class=no-action><b><%=__(\'indigo.notification.box.more\')%></b></a> </div> </div> </div>'},function(e,t){e.exports="<div class=\"grid-equalHeight insights__insiders\"> <div class=\"col-12 insights__column\"> <div class=insights__title><%=__('insiders.header')%></div> </div> <div class=\"insights__column-name insights__column-name--trend\"><%=__('insiders.trend')%></div> <div class=\"insights__column-name insights__column-name--signal-reasoning\"><%=__('insiders.signal.reasoning')%></div> <div class=\"insights__column-name insights__column-name--chart\"><%=__('insiders.stock.behavior')%></div> <div class=\"insights__column-name insights__column-name--signal-direction\"><%=__('insiders.stock.insider.signal')%></div> <div class=\"col-12 insights__list\"> <div> <div class=insights__list-item> <div class=\"insights__list-item__block insights__list-item__block--trend\"> <div><%=__('indigo.insiders.trend.3month', insider.description, (insider.stockLast3MonthTrendAmount > 0 ? __('actions.bought') : __('actions.sold')), numbro(Math.abs(insider.stockLast3MonthTrendAmount)).format('0,0[.]00'))%></div> </div> <div class=\"insights__list-item__block insights__list-item__block--signal-reasoning\"> <div> <span><%=__('insiders.signal.reasoning.count', insider.transactionCount, insider.transactionDistinctInisdersCount)%></span> <div class=rate-box> <div class=\"percent <%=insider.signalDirection%>\"> <i class=arrow></i> <%=insider.signalDirection == 'down' ? __('actions.sold') : __('actions.bought')%> </div> </div> </div> </div> <div class=\"insights__list-item__block insights__list-item__block--chart\"> <%if(insider.stockLast3MonthChangePercent || insider.stockLast3MonthChangePercent == 0 ) {%> <div class=\"chart__button <%if(insider.stockLast3MonthChangePercent > 0){%>up<% } else {%>down<%}%>-bg\"> <%=insider.stockLast3MonthChangePercent.toFixed(2)%>% </div> <%}%> <div> <%if(insider.stockLast3MonthChangeChartImg) {%> <span class=icon-coordinate-plane> <img src=\"<%=insider.stockLast3MonthChangeChartImg%>\"/> </span> <%}%> </div> </div> <div class=\"insights__list-item__block insights__list-item__block--signal-direction\"> <% if (insider.signalDirection == 'up') { %> <div><i class=icon-positive-sentiment></i></div> <div class=\"signal-label up\"><b><%=__('insiders.positive.sentiment')%></b></div> <% } else if (insider.signalDirection == 'down') { %> <div><i class=icon-negative-sentiment></i></div> <div class=\"signal-label down\"><b><%=__('insiders.negative.sentiment')%></b></div> <% } else { %> <div><i class=icon-neutral-sentiment></i></div> <div class=signal-label><b><%=__('insiders.neutral.sentiment')%></b></div> <% } %> </div> <div class=\"insights__list-item__block insights__list-item__block--actions\"> <a class=view-report href=\"#insiders/<%=insider.stockTicker%>\" data-url=\"#insiders/<%=insider.stockTicker%>\"> <span><%=__('insiders.detailed.report')%></span> </a> </div> </div> </div> </div> </div>"},function(e,t){e.exports='<div class="grid-equalHeight insights__bloggers"> <div class=col-12> <div class=insights__title><%=__(\'tab.bloggers\')%></div> </div> <div class="col-1 insights__column-name"> <div class=grid-equalHeight> <div class=col-2></div> <div class=col-10>&nbsp;</div> </div> </div> <div class="col-5 insights__column-name"><%=__(\'bloggers.consensus\')%></div> <div class="col-6 insights__column-name opinion-distribution-title"><%=__(\'bloggers.opinion.distribution\')%></div> <div class=col-12> <div class=grid-12-equalHeight> <div class="col-12 insights__daily-item insights__info"> <div class=grid-equalHeight> <div class=col-1> <div class=grid-12-equalHeight-middle> <div class="col-12 flex flex-align-center"> <div class="expander expander__close"></div> </div> </div> </div> <div class=col-4> <div class=row> <div class=col-6> <div class=consensus-graph> <div class=consensus-bearish> <i class="icon icon-bearish"></i> <div><%=__(\'bloggers.bearish\')%></div> </div> <div class=bar> <b style="width: <%=stock.bearishRatio * 100%>%"></b> <i style="width: <%=stock.bullishRatio * 100%>%"></i> </div> <div class=consensus-bullish> <i class="icon icon-bullish"></i> <div><%=__(\'bloggers.bullish\')%></div> </div> </div> </div> <div class=col-6> <div class="consensus-text <%=stock.consensus.toLowerCase()%>"> <%=__(\'bloggers.consensus.text\', stock.ticker, stock.numberOfBloggers, stock.consensus)%> </div> </div> </div> </div> <div class=col-7> <div class=opinion-distribution> <div class=content></div> </div> </div> </div> </div> <div class="col-4-bottom insights__list-column-name hidden"><%=__(\'bloggers.text.blogger\')%></div> <div class="col-2-bottom insights__list-column-name hidden"><%=__(\'bloggers.text.sentiment\')%></div> <div class="col-6-bottom insights__list-column-name hidden"><%=__(\'insiders.header.date\')%></div> <div class=col-12> <div class="grid-12-equalHeight insights__list hidden"> <%_.each(bloggers, function(item) { %> <div class="col-12 grid-equalHeight-middle insights__list-item"> <div class=col-4><div> <div class=analyst-pic> <img src="<%=getBloggerPicture(item.expertPictureUrl)%>"/> </div> <div class=analyst-details> <div class=analyst-name> <span><%=item.bloggerName%></span> <span><%=item.firmName%></span> </div> <div class=analyst-rating> <div class=stars></div> <div class=fill style="width: <%=(74 * item.stars)/5%>px"></div> </div> </div> </div></div> <div class=col-2> <div class=sentiment> <div class="<%=item.recommendation.toLowerCase()%>"> <%if (item.recommendation.toLowerCase() != \'neutral\'){%><i class="icon icon-<%=item.recommendation.toLowerCase()%>"></i><%}%> <div><%=item.recommendation.toLowerCase()%></div> </div> </div> </div> <div class=col-6><%=__(\'insiders.days.ago\', bloggersDateDiff(item.recommendationDate))%></div> </div> <%});%> </div> </div> </div> </div> </div>'},function(e,t){e.exports="<div class=\"grid-equalHeight insights__hedgefunds\"> <div class=col-12> <div class=insights__title><%=__('tab.hedgefunds')%></div> </div> <div class=\"col-1 insights__column-name\"> <div class=grid-equalHeight> <div class=col-2></div> <div class=col-10>&nbsp;</div> </div> </div> <div class=\"col-6 insights__column-name\"><%=__('hedgefunds.text.trend')%></div> <div class=\"col-5 insights__column-name\"><%=__('hedgefunds.text.signal')%></div> <div class=col-12> <div class=grid-12-equalHeight> <div class=\"col-12 insights__list-item\"> <div class=grid-equalHeight> <div class=col-1> <div class=grid-12-equalHeight-middle> <div class=\"col-12 flex flex-align-center\"> <div class=\"expander expander__close\"></div> </div> </div> </div> <div class=col-6> <div class=\"row row-trend\"> <div class=\"<%=trendDir.toLowerCase()%>\"> <%= __('hedgefunds.trend.text', __('hedgefunds.trend.' + trendDir.toLowerCase()), trend) %> </div> </div> </div> <div class=col-5> <div class=\"row row-sentiment\"> <div class=\"<%=signalDir%>\"> <div><%=data.rating%></div> </div> </div> </div> </div> </div> <div class=col-12> <div class=\"grid-12-equalHeight insights__list insights__list-item hidden\"> <div class=col-9> <div class=hedgefunds-holdings-graph> <div class=header><%=__('hedgefunds.holdings.in')%> <%=data.stockTicker%></div> <div class=content></div> </div> </div> <div class=col-3> <div class=hedgefunds-confidence-signal> <div class=header><%=__('hedgefunds.confidence.signal')%></div> <div class=content> <div class=\"<%=data.rating.toLowerCase().replace(' ','-')%>\"><%=__('insiders.' + data.rating.toLowerCase().replace(' ','.'))%></div> <div class=signal-based-on><%= __('hedgefunds.signal.based.on', data.basedOnNumHedgeFunds)%></div> <div class=\"icon-<%=data.rating.toLowerCase().replace(' ','-')%>\"></div> <div class=signal-sold-bought> <div class=sold><%=__('actions.sold')%></div> <div class=bought><%=__('actions.bought')%></div> </div> </div> </div> </div> </div> </div> </div> </div> </div>"},function(e,t){e.exports='<div class="grid-equalHeight insights__news_sentiment"> <div class="col-12 insights__column"> <div class=insights__title><%=__(\'tab.news_sentiment\')%></div> </div> <%if (item.bullishPercentage > 0 && item.bearishPercentage > 0){%> <div class="insights__column-name insights__column-name--last-seven-days"><%=__(\'news.sentiment.last.seven.days\')%></div> <%}%> <div class="insights__column-name insights__column-name--media-buzz"><%=__(\'news.sentiment.media.buzz\')%></div> <div class="insights__column-name insights__column-name--news-score"><%=__(\'news.sentiment.news.score\')%></div> <div class="insights__column-name insights__column-name--actions"></div> <div class="col-12 insights__list"> <div> <div class=insights__list-item> <%if (item.bullishPercentage > 0 && item.bearishPercentage > 0){%> <div class="insights__list-item__block insights__list-item__block--last-seven-days"> <div> <div class=bullish> <div class="icon icon-bullish"></div> <span class=positive><%=item.bullishPercentage%>% <%=__(\'tipranks.bullish\')%></span> </div> <div class=bearish> <div class="icon icon-bearish"></div> <span class=negative><%=item.bearishPercentage%>% <%=__(\'tipranks.bearish\')%></span> </div> </div> </div> <%}%> <div class="insights__list-item__block insights__list-item__block--media-buzz"> <span><i class="icon icon-articles"></i><%=item.numberOfArticles%> <%=__(\'news.sentiment.articles\')%></span> </div> <div class="insights__list-item__block insights__list-item__block--news-score <%=score%>"> <%=item.newsScore%> </div> <div class="insights__list-item__block insights__list-item__block--actions"> <a class=view-report href="#news-sentiment/<%=item.stockTicker%>" data-url="#news-sentiment/<%=item.stockTicker%>"> <span><%=__(\'tipranks.full.report\')%></span> </a> </div> </div> </div> </div> </div> '},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(43),s=n(16),a=o.extend({idAttribute:"event_uid",defaults:function(){return{consensus:"",country:"",country_name:"",description:"",event_type_code:"",event_uid:0,items:[],name:"",released_at:"",flag_url:""}},getName:function(){return this.get("name")},getTime:function(){return this.get("released_at")},getId:function(){return this.get("event_uid")},getDescription:function(){return this.get("description")},formatDate:function(){var e=this.getTime(),t=this.numDaysBetween(new Date(e),new Date);return new Date(e).toDateString()===(new Date).toDateString()?__("autochartist.text.date.today",s(e).format("h:mm a")):new Date(e).toDateString()===this.getTomorrow(new Date).toDateString()?__("autochartist.text.date.tomorrow",s(e).format("h:mm a")):t<6?s(e).format("dddd [at] h:mm a"):s(e).format("D/M/YYYY")},getOpportunitiesNumber:function(){return this.getInstruments().length},getCountryCode:function(){return this.get("country").toLowerCase()},getInstruments:function(){return this.get("items")},getFlagUrl:function(){return this.get("flag_url")},getPredictionRange:function(){var e=this,t=this.getInstruments(),n=r.map(t,(function(t){return[e.minNonZero(t.delta_gt_up,t.delta_lt_up,t.delta_eq_up,t.delta_gt_down,t.delta_lt_down,t.delta_eq_down),Math.max(t.delta_gt_up,t.delta_lt_up,t.delta_eq_up,t.delta_gt_down,t.delta_lt_down,t.delta_eq_down)]})),i=r.min(n,"0"),o=r.max(n,"1");return Math.round(100*i[0])+"%-"+Math.round(100*o[1])+"%"},getAffectedInstruments:function(){return r.uniq(r.map(this.getInstruments(),(function(e){return e.symbol.name})))},getAffectedInstrumentsList:function(){var e=this;return r.uniq(r.map(this.getInstruments(),(function(t){return e.instrumentNameWithSlash(t.symbol.name)}))).join(", ")},itemsByGroups:function(){var e=this,t=[],n=[],i=[];return r.each(this.getInstruments(),(function(o){if(o.delta_gt_up>0||o.delta_gt_down>0){var s=r.clone(o);s.delta=Math.round(100*Math.max(s.delta_gt_up,s.delta_gt_down));var a=e.maxIndex([s.delta_gt_up,s.delta_gt_down]);s.dir=0==a?__("tipranks.text.upside"):__("tipranks.text.downside"),i.push(s)}if(o.delta_lt_up>0||o.delta_lt_down>0){(c=r.clone(o)).delta=Math.round(100*Math.max(c.delta_lt_up,c.delta_lt_down));var l=e.maxIndex([c.delta_lt_up,c.delta_lt_down]);c.dir=0==l?__("tipranks.text.upside"):__("tipranks.text.downside"),t.push(c)}if(o.delta_eq_up>0||o.delta_eq_down>0){var c;(c=r.clone(o)).delta=Math.round(100*Math.max(c.delta_eq_up,c.delta_eq_down));var u=e.maxIndex([c.delta_eq_up,c.delta_eq_down]);c.dir=0==u?__("tipranks.text.upside"):__("tipranks.text.downside"),n.push(c)}})),[t,n,i]},minNonZero:function(e){return Array.prototype.reduce.call(arguments,(function(e,t){return e&&t?Math.min(e,t):e||t}))},maxIndex:function(e){return e.reduce((function(e,t,n,i){return t>i[e]?n:e}),0)},numDaysBetween:function(e,t){return Math.abs(e.getTime()-t.getTime())/864e5},getTomorrow:function(e){return new Date(e.setDate(e.getDate()+1))},instrumentNameWithSlash:function(e){return e.substring(0,3)+"/"+e.substring(3,6)}});i.exports=a}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(5),s=n(454),a=n(70),l=n(523),c=n(9),u=n(972).TC_SETTINGS_UPDATE_EVENT,d=n(122).sendEventosTradingCentralAction,p=r.template(n(1701));i.exports=a.extend({name:"trading-central-settings",events:function(){return r.extend({},r.result(a.prototype,"events"),{"click #restore-defaults":"restoreDefaults","change #tc-switch-checkbox":"changeStatus","click .fn-save":"onSave","click .fn-cancel":"onCancel"})},restoreDefaults:function(){r.extend(this.settings,s.defaults),this.render()},getOptions:function(e){return r.extend({},r.result(a.prototype,"getOptions"),{isHeaderShowed:!0,closeIconStyle:"blue",headerStyle:"wizard",caption:__("trading.central.study.title"),indicators:this.indicators},e)},onSave:function(){s.save(this.enabled,this.settings).then((function(){o.trigger(u)})),this.close()},onCancel:function(){this.close()},initialize:function(){s.isAvailable()?(a.prototype.initialize.apply(this,arguments),this.enabled=s.isEnabled(),this.settings=s.settings,this.render()):s.showUnavailableMessage(this)},render:function(){a.prototype.render.call(this),this.setContent(p({settings:c,resistanceColor:this.settings.lines[0].colors[0],supportColor:this.settings.lines[1].colors[0],pivotColor:this.settings.lines[2].colors[0],isEnabled:this.enabled})),this.colorPickers=[];var e=this.$el.find(".field-type-colorpicker");r.each(e,(function(e){var t=new l({el:e,container:this.el,field:e.dataset.field});delete e.dataset.field,this.listenTo(t,"change",this.onFieldChanged.bind(this,t.field)),this.colorPickers.push(t)}),this)},changeStatus:function(e){this.onStatusChanged(void 0,e.currentTarget.checked)},onStatusChanged:function(e,t){this.enabled=t,t&&d(t)},onFieldChanged:function(e,t){if(void 0!==e){e=e.split(".");for(var n=0,i=this.settings;n<e.length-1;)i=i[e[n]],n++;i[e[n]]=t.value()}}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t){e.exports="<div id=tc-settings-container class=form> <div class=tc-settings-description> <%=__('trading.central.study.description')%> </div> <div class=tc-settings-activation> <span><%=__('trading.central.study.activation')%></span> <div class=tc-switcher> <span class=tc-switch><%=__('trading.central.study.activation.off')%></span> <div><input type=checkbox id=tc-switch-checkbox <%=isEnabled ? 'checked' : ''%> /><label for=tc-switch-checkbox></label></div> <span class=tc-switch><%=__('trading.central.study.activation.on')%></span> </div> </div> <div class=tc-settings-colors> <div> <div class=tc-settings-colors-title><%=__('trading.central.study.colors')%></div> <a id=restore-defaults><%-__('chart_studies.restore_defaults')%></a> </div> <div class=tc-settings-color-picker> <%-__('trading.central.study.resistance.title')%> <div class=field-type-colorpicker data-color=\"<%-resistanceColor%>\" data-field=lines.0.colors.0></div> </div> <div class=tc-settings-color-picker> <%-__('trading.central.study.support.title')%> <div class=field-type-colorpicker data-color=\"<%-supportColor%>\" data-field=lines.1.colors.0></div> </div> <div class=tc-settings-color-picker> <%-__('trading.central.study.pivot.title')%> <div class=field-type-colorpicker data-color=\"<%-pivotColor%>\" data-field=lines.2.colors.0></div> </div> </div> <div class=tc-settings-footer> <div class=action-buttons> <button class=\"btn btn-primary fn-save\"><%=__('actions.save')%></button> <button class=\"btn fn-cancel\"><%=__('actions.cancel')%></button> </div> <% if (settings.isLiveChatEnabled()) { %> <div class=help-link> <span><%=__('help.need_help')%></span> <a href=# class=fn-help-live-chat-link> <span><%=__('help.right_here')%></span> </a> </div> <% } %> </div> </div>"},function(e,t,n){(function(t){var i=n(20),r=n(1).template(n(1703)),o=n(1704),s=(n(6),n(525).SUCCESS);n(1706),e.exports=i.extend({className:"page eco-calendar eco-calendar__fluid",events:function(){return this.addEvents(i)({"click .icon-close-blue":"destroy","click .stacked__item":"changeFilter"})},initialize:function(e){i.prototype.initialize.call(this,e),this.model||(this.model=o),this.listenTo(this.model,"change:status",this.onStatusChanged)},onStatusChanged:function(){switch(this.model.get("status")){case s:this.update()}},changeFilter:function(e){var n=t(e.target).attr("data-id");this.model.filterBy(n)},render:function(){return i.prototype.render.call(this),this.update(),this},update:function(){this.model.getItems();this.$el.html(r({items:this.model.getItems(),filterType:this.model.getFilterType()}))}})}).call(this,n(12))},function(e,t){e.exports='<div class="page eco-calendar__page"> <div class="pane header header_blue"> <div class=header__body> <div class=header__title> <%=__(\'eco_calendar.page.title\')%> </div> <div class=header__description> <%=__(\'eco_calendar.page.description\')%> </div> </div> <div class=header__actions> <div class=header__action-item> <div class=header__action-item-body> <i class="icon icon-close-blue"></i> </div> </div> </div> </div> <div class="page__body pane__scroll"> <div class="flex flex-stretch flex-column"> <div class=eco-calendar__stacked> <div class=stacked> <div data-id=yesterday class="stacked__item stacked_blue <%=filterType == \'yesterday\' ? \'stacked__item_active\' : \'\'%>"> <div class=stacked__name>Yesterday</div> </div> <div data-id=today class="stacked__item stacked_blue <%=filterType == \'today\' ? \'stacked__item_active\' : \'\'%>"> <div class=stacked__name>Today</div> </div> <div data-id=tomorrow class="stacked__item stacked_blue <%=filterType == \'tomorrow\' ? \'stacked__item_active\' : \'\'%>"> <div class=stacked__name>Tomorrow</div> </div> <div data-id=this_week class="stacked__item stacked_blue <%=filterType == \'this_week\' ? \'stacked__item_active\' : \'\'%>"> <div class=stacked__name>This week</div> </div> <div data-id=next_week class="stacked__item stacked_blue <%=filterType == \'next_week\' ? \'stacked__item_active\' : \'\'%>"> <div class=stacked__name>Next week</div> </div> <div class="stacked__item stacked_blue"> <div class=stacked__ico> <div class="icon icon-calendar"></div> </div> </div> </div> </div> <div class=pane__scroll> <div class="pane__scroll-content page__content"> <div class="list list--column"> <div class="list__columns eco-calendar__list-columns"> <div class="list__column eco-calendar__time"><%=__(\'history.order.time\')%></div> <div class="list__column eco-calendar__currency"><%=__(\'currency\')%></div> <div class="list__column eco-calendar__event"><%=__(\'event\')%></div> <div class="list__column eco-calendar__actual"><%=__(\'actual\')%></div> <div class="list__column eco-calendar__forecast"><%=__(\'forecast\')%></div> <div class="list__column eco-calendar__previous"><%=__(\'actions.previous\')%></div> </div> <div class=list__items> <div class="list__item-splitter eco-calendar__list-item-splitter"> Thursday, May 10, 2018 </div> <% _.each(items, function(v, i, a) { %> <div class="list__item eco-calendar__list-item"> <div class=eco-calendar__time><%=v.time%></div> <div class=eco-calendar__currency><img src=https://eia.delkos.com/eia/images/flags/JP.gif alt=""><%=v.currency%></div> <div class=eco-calendar__event><%=v.event%></div> <div class=eco-calendar__actual><%=v.actual.value%></div> <div class=eco-calendar__forecast><%=v.forecast.value%></div> <div class=eco-calendar__previous><%=v.previous.value%></div> </div> <% }) %> </div> </div> </div> </div> </div> </div> </div>'},function(e,t,n){var i=n(1),r=n(43),o=n(8),s=(n(16),n(1705)),a=s.EMPTY,l=s.PENDING,c=s.SUCCESS,u=s.ERROR,d={silent:!0},p=r.extend({defaults:function(){return{status:a,dataOfEvents:[],filterType:"today"}},initialize:function(){},load:function(){var e=this,t=this.control("status");t(0,0,d),t(l),o.loadEconomicCalendar().then((function(n){return t(c,{data:e.filter(n.data),items:e.filter(n.data)})})).catch((function(e){return t(u,{err:e})}))},filter:function(e){return e},filterBy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"today";this.set("items",0,d),this.set({items:[],filterType:e})},getFilterType:function(){return this.get("filterType")},getItems:function(){return i.map([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],(function(e){return{time:"01:00",currency:"JPY",event:"Economy Watchers Current Index (Apr)",actual:{value:49,direction:"up"},forecast:{value:49.9,direction:"down"},previous:{value:48.9,direction:"up"}}}))},isEmpty:function(){return i.isEmpty(this.getItems())}});e.exports=new p},function(e,t){e.exports={EMPTY:"EMPTY",PENDING:"PENDING",SUCCESS:"SUCCESS",ERROR:"ERROR"}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(516),r=n(20),o=n.n(r),s=n(22),a=n.n(s),l=n(0),c=n.n(l),u=n(4),d=n(31),p=n(44),f=n(5),h=n.n(f),m=n(56),g=Object(p.default)((function(){return Promise.all([n.e(5),n.e(9),n.e(16),n.e(26),n.e(126)]).then(n.bind(null,1947))})),v=Object(p.default)((function(){return Promise.all([n.e(5),n.e(9),n.e(16),n.e(27),n.e(127)]).then(n.bind(null,1960))}));t.default=o.a.extend({initialize:function(){var e=this;o.a.prototype.initialize.apply(this,arguments),this.options.selectedNewsId&&store.dispatch(Object(i.selectNews)(this.options.selectedNewsId,m.a)),this.listenTo(h.a,"ui:header-itemclick",(function(){return e.options.onClose(!1)}))},render:function(){o.a.prototype.render.call(this);var e=this.options;return a.a.render(c.a.createElement(u.Provider,{store:store},c.a.createElement("div",{className:"news-wrapper popup-item"},c.a.createElement(d.default,{desktop:!0,tablet:!0},c.a.createElement(g,e)),c.a.createElement(d.default,{mobile:!0},c.a.createElement(v,e)))),this.el),this},destroy:function(){a.a.unmountComponentAtNode(this.el),o.a.prototype.destroy.call(this)}})},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(20),s=n(1709),a=n(1711);i.exports=o.extend({showOneBonusRequest:function(e){new a({parent:this.parent,requests:e}).render()},showAllBonusRequests:function(e){var t=this;r.each(e,(function(e){new s({parent:t.parent,request:e}).render()}))},showBonusRequests:function(){var e=this;this.model.hasBonusRequests()&&r.each(this.model.getBonusRequests(),(function(t){e.model.canShowMultipleBonusRequests(t)?e.showOneBonusRequest(t):e.showAllBonusRequests(t)}))}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(815),s=r.template(n(1710)),a=n(584);i.exports=o.extend({render:function(){return o.prototype.render.call(this),this.setContent(s({caption:this.getTitle(this.getRequest()),request:this.enrich(this.getRequest()),isMtBonus:this.isMtBonus(),mtCaption:this.getMtTitle()})),this},getRequest:function(){return this.options.request},getTitle:function(e){return __default(this.getBonusTypeLocalizationKey(e,"bonus_request.popup.bonus.title."),"bonus_request.popup.bonus.title.undefined",this.getBonusCurrency(e),e.amount)},enrich:function(e){return r.isEmpty(e)||(e.currencySymbol=this.getBonusCurrency(e),e.bonusName=__default(this.getBonusTypeLocalizationKey(e,"bonus_request.popup.bonus.name."),"bonus_request.popup.bonus.name.undefined")),e},onApprove:function(){this.sendApprove(this.getRequest()),o.prototype.onApprove.call(this)},onReject:function(){this.sendReject(this.getRequest()),o.prototype.onReject.call(this)},trackClickTerms:function(){a.clickTerms(this.getRequest())},isMtBonus:function(){return!r.isEmpty(this.getRequest().tradePlatformType)},getMtTitle:function(){return this.getRequest().tradePlatformType+" - "+this.getRequest().tradingAccountId}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t){e.exports='<div class="fluid-scroll-content flex flex-column"> <div class=content> <div class=caption><%=caption%></div> <% if (isMtBonus) { %> <div class=caption><%=mtCaption%></div> <% } %> <div class=description> <%=__(\'bonus_request.popup.text\', request.currencySymbol, request.amount, request.bonusName)%> </div> </div> <div class="actions flex flex-row"> <button class="btn btn-primary flex-stretch fn-approve"><%=__(\'bonus_request.popup.confirm\')%></button> <button class="btn flex-stretch fn-reject"><%=__(\'bonus_request.popup.cancel\')%></button> </div> </div> '},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(815),s=r.template(n(1712)),a=n(584);i.exports=o.extend({render:function(){return o.prototype.render.call(this),this.setContent(s({requests:this.enrich(this.getRequests()),isMtBonus:this.isMtBonus(),mtCaption:this.getMtTitle()})),this},getRequests:function(){return this.options.requests},enrich:function(e){var t=this;return r.each(e,(function(e){return r.isEmpty(e)||(e.currencySymbol=t.getBonusCurrency(e),e.bonusName=__default(t.getBonusTypeLocalizationKey(e,"bonus_request.popup.multiple.bonus.name."),"bonus_request.popup.bonus.name.undefined")),e})),e},onApprove:function(){var e=this;r.each(this.getRequests(),(function(t){return e.sendApprove(t)})),a.approveMultiple(),o.prototype.onApprove.call(this)},onReject:function(){var e=this;r.each(this.getRequests(),(function(t){return e.sendReject(t)})),a.rejectMultiple(),o.prototype.onReject.call(this)},trackClickTerms:function(){a.clickTermsMultiple()},isMtBonus:function(){return!r.isEmpty(r.first(this.getRequests()).tradePlatformType)},getMtTitle:function(){var e=r.first(this.getRequests());return e.tradePlatformType+" - "+e.tradingAccountId}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t){e.exports="<div class=\"fluid-scroll-content flex flex-column\"> <div class=content> <div class=description> <p><%=__('bonus_request.popup.multiple.header')%></p> <% if (isMtBonus) { %> <p><%=mtCaption%></p> <% } %> <div class=multiple-requests> <% _.each(requests, function(request) { %> <div> <%=__('bonus_request.popup.multiple.format', request.currencySymbol, request.amount, request.bonusName)%> </div> <% }) %> </div> <%=__('bonus_request.popup.multiple.footer')%> </div> </div> <div class=\"actions flex flex-row\"> <button class=\"btn btn-primary flex-stretch fn-approve\"><%=__('bonus_request.popup.confirm')%></button> <button class=\"btn flex-stretch fn-reject\"><%=__('bonus_request.popup.cancel')%></button> </div> </div> "},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var r=n(1),o=n(12),s=n(5),a=n(6),l=n(9),c=n(8),u=n(102),d=n(661),p=n(70),f=n(412),h=n(413),m=n(1714),g=r.template(n(1716)),v=p.extend({name:"retake-quiz",events:function(){return r.extend({},r.result(p.prototype,"events"),{"click .fn-finish":"onQuizFinish"})},getOptions:function(e){return r.extend({},r.result(p.prototype,"getOptions"),{isHeaderShowed:!0,caption:__("quiz.retake.header"),previousCaption:__("actions.exit"),headerStyle:"wizard",style:"height: 100%;",ignorableByLoginMessage:!0},e)},initialize:function(e){p.prototype.initialize.apply(this,arguments),this.loadQuizFlow()},loadQuizFlow:function(){return s.trigger("ui:loading"),c.queryCustomerEligibleQuiz().then(this.buildQuizFormConfig.bind(this)).then(this.startCustomerQuiz.bind(this))},buildQuizFormConfig:function(e){this.quizName=e.data.name;var t=new m({name:this.quizName,questions:e.data.questions,localizationPrefix:"quiz",saveData:{}});return t.buildForm(),t},startCustomerQuiz:function(e){if(s.trigger("ui:loading:hide"),e.isQuizNotEligible())this.close();else{this.render(),this.setContent(g({settings:l}));var t=new h(e.getFormConfig());this.formView=new f({$parent:this.$el.find(".content"),model:t}),this.formView.show()}},close:function(){this.stopListening(),p.prototype.close.call(this)},onQuizFinish:function(){!1===this.formView.validate()&&(s.trigger("ui:loading"),this.gatherQuizAnswers().then(this.updateQuizAnswers.bind(this)).then(this.onQuizPassed.bind(this)))},updateQuizAnswers:function(e){return c.updateCustomerEligibleQuizAnswers(e)},gatherQuizAnswers:function(){this.formView.saveData();var e=this.formView.getData();return Promise.resolve(e)},onQuizPassed:function(e){this.formView.remove(),this.close(),s.trigger("ui:loading:hide"),this.updateCustomerState()},showQuizResult:function(){if(u.LOW_SCORE()){var e=__("quiz."+this.quizName+".low_score");a.getUserQuizStatus().isQuizEligible()?d.quizFallenRetake(e):d.quizFallen(e)}else{var t=__("quiz."+this.quizName+".high_score");d.quizPassed(t)}},updateCustomerState:function(){return Promise.all([a.loadUserData(),a.getUserQuizStatus().load()]).then(this.showQuizResult.bind(this)).then((function(){return s.trigger("sm","quiz_passed")}))}});l.isRegistrationAutocompleteEnabled()&&(v.prototype.events=r.extend({},r.result(v.prototype,"events"),{"dblclick .content":"__doubleClick"}),v.prototype.__doubleClick=function(e){this.$(".dk-select").forEach((function(e){var t=o(e).find(".dk-select-options li");r.sample(r.initial(t)).click()}))}),i.exports=v}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(43),s=n(148),a=n(628),l=n(963),c=n(1715).FieldType;i.exports=o.extend({defaults:function(){return{top:[],form:[],bottom:[]}},buildForm:function(){var e=this;r.each(this.attributes.questions,(function(t){return e.putFormField(t)}))},putFormField:function(e){var t=this.resolveFormElement(e);t&&this.get("form").push(t)},resolveFormElement:function(e){switch(e.type){case c.LIST:return this.generateListConfig(e)}},getQuestionTitle:function(e){return __(this.attributes.localizationPrefix+"."+e.name)},findSaveData:function(e){return r.isEmpty(this.attributes.savedData)||r.isEmpty(this.attributes.savedData[e.name])?{}:this.attributes.savedData[e.name]},generateListConfig:function(e){var t={name:e.name,title:this.getQuestionTitle(e),translationGroupPrefix:this.attributes.localizationPrefix+"."+e.name,template:s.selectBoxOverflowWidth,validation:a.selectNotEmpty(),disable:!1,events:{onchange:l.validateFieldOnChange},options:r.map(e.answers,(function(e){return e})),savedData:this.findSaveData(e)};return r.contains(t.options,"EMPTY")||(t.options.unshift("EMPTY"),r.isEmpty(t.savedData)&&(t.savedData="EMPTY")),t},splitByColumns:function(e,t,n){if(!r.isArray(e))return[[]];if(t<2)return[e];var i=e.length,o=[],s=0,a=void 0;if(i%t==0)for(a=Math.floor(i/t);s<i;)o.push(e.slice(s,s+=a));else if(n)for(;s<i;)a=Math.ceil((i-s)/t--),o.push(e.slice(s,s+=a));else{for(t--,i%(a=Math.floor(i/t))==0&&a--;s<a*t;)o.push(e.slice(s,s+=a));o.push(e.slice(a*t))}return o},isQuizNotEligible:function(){return r.isEmpty(this.attributes.questions)},getFormConfig:function(){return{groupName:this.attributes.name,status:"in-progress",top:this.get("top"),form:this.splitByColumns(this.get("form"),3,!0),bottom:this.get("bottom")}}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){"use strict";n.r(t),n.d(t,"FieldType",(function(){return i}));var i={LIST:"LIST"}},function(e,t){e.exports='<div class=registration-container> <div class=registration> <div class=content></div> <div class="separator hidden-xs"><span></span></div> <div class="footer hidden-xs"> <div class=left> <% if (settings.isLiveChatEnabled()) { %> <span><%=__(\'help.need_help\')%></span> <a href=# class=fn-help-live-chat-link> <span><%=__(\'help.right_here\')%></span> </a> <% } %> </div> <div class="right allow-finish"> <button class="btn btn-primary fn-finish"><%=__(\'actions.finish\')%></button> </div> </div> <div class="footer hidden-sm hidden-md hidden-lg"> <div class=allow-finish> <div class=form-actions> <button class="btn btn-primary fn-finish col"><%=__(\'actions.finish\')%></button> </div> </div> </div> </div> </div>'},function(e,t){e.exports='<div class=confirm-dialog> <div class="content <%=(options.hideCancelButton)?\'single\':\'\' %> pane pane__column"> <div class="caption pane"><%=options.confirmCaption%></div> <div class="message pane"><%=options.confirmMessage%></div> <div class=content-list> <div class="pane fn-list"></div> </div> </div> <div class=actions> <div class=block-button> <button class="btn fn-cancel"> <span class="flex flex-align-center flex-valign-center"><%=options.confirmCancelBtnText%></span> </button> </div> <div class=block-button> <button class="btn btn-primary fn-ok <%=(options.hideCancelButton)?\'single\':\'\' %>"> <span class="flex flex-align-center flex-valign-center"><%=options.confirmOKBtnText%></span> </button> </div> </div> </div>'},function(e,t){e.exports='<div class=confirm-dialog> <div class="content <%=(options.hideCancelButton)?\'single\':\'\' %> pane pane__column"> <div class="caption pane"><%=options.confirmCaption%></div> <div class="message pane"><%=options.confirmMessage%></div> <div class=content-list> <div class="pane fn-list"></div> </div> </div> <div class=actions> <div class=block-button> <button class="btn fn-cancel"> <span class="flex flex-align-center flex-valign-center"><%=options.confirmCancelBtnText%></span> </button> </div> <div class=block-button> <button class="btn btn-primary fn-ok <%=(options.hideCancelButton)?\'single\':\'\' %>"> <span class="flex flex-align-center flex-valign-center"><%=options.confirmOKBtnText%></span> </button> </div> </div> </div>'},function(e,t,n){var i={"./events.trade.popup.mobile.view":1720,"./events.trade.popup.view":1726};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id=1719},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var o=n(5),s=n(1),a=n(100),l=n(177).loadEventsAndTrade,c=n(115),u=(n(0),n(86)),d=n(70),p=n(1721),f=n(1722),h=n(122).sendEventosEventsAndTradesAction,m=s.template(n(1724)),g=s.template(n(1725)),v=function(e){return Date.parse(e)/1e3},b=d.extend({subscribedInstruments:[],initialize:function(e){d.prototype.initialize.apply(this,arguments),this.getEvents(),this.listenTo(o,"ui:instrument:change",this.close)},getEvents:function(){var e=this;return this.addChildView(".events-trade-mobile-wrapper",u,{parent:r(".main-box"),position:"absolute"}),l().then((function(t){return t.data.error?(e.events=[],e.render(),e.removeChildView(".events-trade-mobile-wrapper"),Promise.reject()):(e.events=e.createCollection(t.data),e.render(),e.removeChildView(".events-trade-mobile-wrapper"),Promise.resolve())}))},createCollection:function(e){var t=new a,n=[],i=e.sort((function(e,t){return v(e.data.released_at)-v(t.data.released_at)}));return s.each(i,(function(e){var i=new p(e.data);n=n.concat(i.getAffectedInstruments()),t.add(i)})),n=s.uniq(n),this.subscribedInstruments=c.update(n,this.subscribedInstruments).addedSymbols,t},events:function(){return s.extend({},s.result(d.prototype,"events"),{"click .event-details .btn":"viewDetails","change [name=instruments]":"filterInstruments"})},getOptions:function(e){return s.extend({},s.result(d.prototype,"getOptions"),{isHeaderShowed:!0,caption:__("tab.financial_events"),previousCaption:__("actions.back"),headerStyle:"wizard",bodyStyle:"trading-tools",headerCaptionStyle:"events-trade-mobile-header"},e)},close:function(e){c.remove(this.subscribedInstruments),d.prototype.close.call(this),this.destroy()},getAllInstruments:function(){return s.unique(s.reduce(s.map(this.events.models,(function(e){return e.getAffectedInstruments()})),(function(e,t){return e.concat(t)}),[]))},filterInstruments:function(e){var t=this.$el.find("select[name=instruments] option:checked"),n=[];t.length>0&&(n=s.map(t,(function(e){return r(e).val()})));var i=s.filter(this.events.models,(function(e){return s.find(n,(function(t){return s.includes(e.getAffectedInstruments(),t)}))}));this.renderFilteredData(i)},viewDetails:function(e){var t=r(e.currentTarget).attr("data-id"),n=s.find(this.events.models,(function(e){return e.getId()===parseInt(t)}));new f({parent:_app.getPopupsPlaceholder(),event:n,startTime:Date.now(),onClose:function(){return null}});h(n.getName())},render:function(){d.prototype.render.call(this);var e=s.isArray(this.events.models)&&this.events.models.length>0?this.events.models:[];return this.setContent(m({events:e,instruments:this.getAllInstruments()})),this.$el.find(".content-block").html(g({events:e})),h(),this},renderFilteredData:function(e){var t=s.isArray(e)&&e.length>0?e:this.events.models;this.$el.find(".content-block").html(g({events:t}))}});i.exports=b}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(43),s=n(16),a=n(218).roundToTwo,l=o.extend({defaults:function(){return{consensus:"",country:"",country_name:"",description:"",event_type_code:"",event_uid:0,items:[],name:"",released_at:""}},getName:function(){return this.get("name")},getTime:function(){return this.get("released_at")},getId:function(){return this.get("event_uid")},formatDate:function(){var e=this.getTime(),t=this.numDaysBetween(new Date(e),new Date);return new Date(e).toDateString()===(new Date).toDateString()?__("autochartist.text.date.today",s(e).format("h:mm a")):new Date(e).toDateString()===this.getTomorrow(new Date).toDateString()?__("autochartist.text.date.tomorrow",s(e).format("h:mm a")):t<6?s(e).format("dddd [at] h:mm a"):s(e).format("D/M/YYYY")},getOpportunitiesNumber:function(){return this.getInstruments().length},getCountryCode:function(){return this.get("country").toLowerCase()},getInstruments:function(){return this.get("items")},getPredictionRange:function(){var e=this,t=this.getInstruments(),n=r.map(t,(function(t){return[e.minNonZero(t.delta_gt_up,t.delta_lt_up,t.delta_eq_up,t.delta_gt_down,t.delta_lt_down,t.delta_eq_down),Math.max(t.delta_gt_up,t.delta_lt_up,t.delta_eq_up,t.delta_gt_down,t.delta_lt_down,t.delta_eq_down)]})),i=r.min(n,"0"),o=r.max(n,"1");return a(100*i[0])+"%-"+a(100*o[1])+"%"},getAffectedInstruments:function(){return r.uniq(r.map(this.getInstruments(),(function(e){return e.symbol.name})))},getAffectedInstrumentsList:function(){var e=this;return r.uniq(r.map(this.getInstruments(),(function(t){return e.instrumentNameWithSlash(t.symbol.name)}))).join(", ")},itemsByGroups:function(){var e=this,t=[],n=[],i=[];return r.each(this.getInstruments(),(function(o){if(o.delta_gt_up>0||o.delta_gt_down>0){var s=r.clone(o);s.delta=a(100*Math.max(s.delta_gt_up,s.delta_gt_down));var l=e.maxIndex([s.delta_gt_up,s.delta_gt_down]);s.dir=0==l?__("tipranks.text.upside"):__("tipranks.text.downside"),i.push(s)}if(o.delta_lt_up>0||o.delta_lt_down>0){(u=r.clone(o)).delta=a(100*Math.max(u.delta_lt_up,u.delta_lt_down));var c=e.maxIndex([u.delta_lt_up,u.delta_lt_down]);u.dir=0==c?__("tipranks.text.upside"):__("tipranks.text.downside"),t.push(u)}if(o.delta_eq_up>0||o.delta_eq_down>0){var u;(u=r.clone(o)).delta=a(100*Math.max(u.delta_eq_up,u.delta_eq_down));var d=e.maxIndex([u.delta_eq_up,u.delta_eq_down]);u.dir=0==d?__("tipranks.text.upside"):__("tipranks.text.downside"),n.push(u)}})),[t,n,i]},minNonZero:function(e){return Array.prototype.reduce.call(arguments,(function(e,t){return e&&t?Math.min(e,t):e||t}))},maxIndex:function(e){return e.reduce((function(e,t,n,i){return t>i[e]?n:e}),0)},numDaysBetween:function(e,t){return Math.abs(e.getTime()-t.getTime())/864e5},getTomorrow:function(e){return new Date(e.setDate(e.getDate()+1))},instrumentNameWithSlash:function(e){return e.substring(0,3)+"/"+e.substring(3,6)}});i.exports=l}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var o=n(1),s=n(26),a=n(70),l=n(0),c=n(22),u=n(190),d=o.template(n(1723)),p=a.extend({initialize:function(e){a.prototype.initialize.apply(this,arguments),this.event=e.event,this.render()},events:function(){return o.extend({},o.result(a.prototype,"events"),{"click .group":"changeGroup"})},changeGroup:function(e){this.$el.find(".group").removeClass("active"),this.$el.find(".items").addClass("hidden"),r(e.currentTarget).addClass("active");var t=Array.prototype.indexOf.call(e.currentTarget.parentElement.children,e.currentTarget);r(this.$el.find(".items").get(t)).removeClass("hidden")},getOptions:function(e){return o.extend({},o.result(a.prototype,"getOptions"),{isHeaderShowed:!0,caption:__("tab.financial_events"),previousCaption:__("actions.back"),headerStyle:"wizard",bodyStyle:"trading-tools"},e)},render:function(e){a.prototype.render.call(this);var t=this.event.itemsByGroups(),n=t.indexOf(o.find(t,(function(e){return e.length>0}))),i=[__("autochartist.text.actual_lt_consensus"),__("autochartist.text.actual_eq_consensus"),__("autochartist.text.actual_gt_consensus")];return this.setContent(d({event:this.event,itemGroups:t,activeGroupIndex:n,groupDescriptions:i})),this.getBuySell(t),this},getBuySell:function(e){var t=this,n=0;o.each(e,(function(e){o.each(e,(function(e){var i=e.symbol.name.substring(0,3)+"/"+e.symbol.name.substring(3,e.symbol.name.length),r=s.getInstrumentBySymbol(i),a=l.createElement(u,{type:"Sell",column:{name:"Sell",key:"bid",direction:"bidDirection"},model:r,isSelected:!0,onClick:o.noop()}),d=l.createElement(u,{type:"Buy",column:{name:"Buy",key:"ask",direction:"askDirection"},model:r,isSelected:!1,onClick:o.noop()});c.render(a,t.$el.find(".instrument-sell-change tr")[n]),c.render(d,t.$el.find(".instrument-buy-change tr")[n]),n++}))}))},close:function(){a.prototype.close.call(this)}});i.exports=p}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t){e.exports="<div class=events-trade-mobile-wrapper> <div class=event-view> <div class=item-groups> <%_.each(itemGroups, function(group, index){%> <div class=\"group <%if(activeGroupIndex == index){%>active<%}%> <%if (group.length == 0){%>hidden<%}%>\"><%if(group.length > 0){%><%=groupDescriptions[index]%><%}%></div> <%})%> </div> <div class=event-data> <div class=event-country><span class=\"flag flag-<%=event.getCountryCode()%>\"></span></div> <div class=event-details> <div class=event-name><%=event.getName()%></div> <div><span><%=__('autochartist.text.when') + ' (' + __('autochartist.text.when_time') + ')'%>:</span><span> <%=event.formatDate()%></span></div> </div> </div> <%_.each(itemGroups, function(group, index){%> <div class=\"items <%if(activeGroupIndex != index){%>hidden<%}%>\"> <%_.each(group, function(item){%> <div class=item> <div class=item-data> <div class=instrument><%=item.symbol.name.substring(0,3) + '/' + item.symbol.name.substring(3,6)%></div> <div><%=__('autochartist.text.projected_trend_period')%>: <%=item.time_frame/60%> <%=__('autochartist.text.hours')%></div> <div class=\"<%=item.dir.toLowerCase()%>\"><%=__('autochartist.text.projected_trend')%>: <span><%=item.dir%><span class=arrow></span></span></div> <div><%=__('autochartist.text.probability')%>: <%=item.delta%>%</div> </div> <div class=buttons> <div class=instrument-sell-change><table><tr></tr></table></div> <div class=instrument-buy-change><table><tr></tr></table></div> </div> </div> <%})%> </div> <%})%> </div> </div>"},function(e,t){e.exports="<div class=events-trade-mobile-wrapper> <div class=events-trade-mobile> <%if(instruments.length > 0){%> <div class=filters> <div class=styled-select> <select name=instruments multiple=multiple size=4> <option disabled=disabled selected=selected class=hidden><%=__('wizard.form.label.DEFAULT_EMPTY')%></option> <%_.each(instruments, function(instrument){ %> <option value=\"<%=instrument%>\"><%=instrument.substring(0,3) + '/' + instrument.substring(3,6)%></option> <% }); %> </select> </div> </div> <%}%> <div class=content-block></div> </div> </div> "},function(e,t){e.exports="<div class=events-mobile> <% if(events.length > 0) {%> <% _.each(events, function(event){%> <div class=event> <div class=event-country><span class=\"flag flag-<%=event.getCountryCode()%>\"></span></div> <div class=event-data> <div class=event-name><%=event.getName()%></div> <div><span><%=__('autochartist.text.when') + ' (' + __('autochartist.text.when_time') + ')'%>:</span><span> <%=event.formatDate()%></span></div> <div><span><%=__('autochartist.text.prediction_range')%>:</span><span> <%=event.getPredictionRange()%></span></div> <div><span><%=event.getOpportunitiesNumber()%> <%=__('autochartist.text.opportunities_available')%></span></div> <div><span><%=__('autochartist.text.affected_instruments')%>:</span><span> <%=event.getAffectedInstrumentsList()%></span></div> </div> <div class=event-details> <button class=\"btn btn-primary fn-details\" data-id=\"<%=event.getId()%>\"> <span><%=__('autochartist.text.details')%></span> </button> </div> </div> <%})%> <%} else {%> <div class=events-trade-empty> <div class=icon-events-trade></div> <div><%= __('autochartist.text.no_upcoming_events')%></div> </div> <%}%> </div>"},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(5),s=n(20),a=n(26),l=n(115),c=n(6),u=n(177).loadEventsAndTrade,d=n(108),p=n(0),f=n(22),h=n(267).default,m=n(46).updateUrlBySelectedInstrumentSymbol,g=r.template(n(1727)),v=s.extend({usedSymbols:[],initialize:function(){this.userTimezone=d.user,s.prototype.initialize.apply(this,arguments),this.listenTo(o,"ui:header-itemclick",this.closePopup),this.listenTo(o,"ui:instrument:change",this.closePopup),this.render()},events:function(){return r.extend({},r.result(s.prototype,"events"),{"click .header-events-trade .fn-close-popup":"closePopup"})},closePopup:function(e){l.remove(this.usedSymbols),this.$el.find(".events-trade-wrapper").remove(),o.trigger("ui:chart:update-size"),e&&store.dispatch(m())},loadAutochartist:function(e){var t=this;financialEvents&&r.isFunction(financialEvents.init)&&financialEvents.init({className:"events-trade",customDropdown:this.addCustomDropdown,locale:"en",eventTypeCode:c.getApplicationSettings().get("event_and_trade:selectedEventTypeCode"),symbol:c.getApplicationSettings().get("event_and_trade:selectedSymbol"),preloadData:e||null,onChange:function(e){var t=e.symbol,n=e.eventTypeCode;o.navigate("events-and-trade/"+n+"/"+t,{trigger:!1,replace:!1})},buySellCallback:function(e,t,n){var i=a.getInstrumentBySymbol(e);if(!0===n)return!(!i||i.isTradableBySide(t))&&i.get(t+"NotTradableMessage");if(i){var r={direction:t,symbolOrId:i.id,quantity:null,type:!1,tp:!1,sl:!1,source:"events_and_trade"};o.trigger("ui:new-position",r)}},timeOffsetCallback:function(e,n){return t.userTimezone.setDateAsNewDate(e,n)},getGMTPostfix:function(){return t.userTimezone.GMTPostfix()},project:"indigo",subscriptionCallback:function(e){return t.usedSymbols=l.update(e,t.usedSymbols).addedSymbols}})},addCustomDropdown:function(e,t,n){f.render(p.createElement(h,{placeholder:__("search.all.instruments"),options:t,onChange:n,transformOptionText:function(e){return String(e).substring(0,3)+"/"+String(e).substring(3,e.length)}}),e)},render:function(){var e=this;return s.prototype.render.call(this),this.$el.append(g({})),u().then((function(t){return e.loadAutochartist(t.data)})).catch((function(){return e.loadAutochartist()})),this}});i.exports=v}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t){e.exports='<div class="events-trade-wrapper popup-item"> <div class=popup-item-wrapper> <div class="hidden-xs header-events-trade"> <div class="header-actions fn-close-popup"> <i class=icon-close-blue></i> </div> </div> <div class=events-trade></div> </div> </div> '},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var o=n(1),s=n(5),a=n(20),l=n(820),c=n(46).updateUrlBySelectedInstrumentSymbol,u=Object.assign({},l,{template:o.template(n(1733)),events:{"click .webinars-top .fn-close-popup":"close","click .fn-join":"join","click .fn-watch":"watch","click .fn-reg":"register"},tagName:"div",className:"webinars-wrapper",initialize:function(e){var t=this;e.isMinimizable=!0,e.isTranslucent=!1,a.prototype.initialize.apply(this,arguments),s.trigger("ui:webinar:close"),this.listenTo(s,"ui:header-itemclick",this.close),this.listenTo(s,"ui:instrument:change",this.close),this.listenTo(s,"ribbon:update",this.updateContentHeight),r(window).on("resize.insider",(function(){return t.updateContentHeight()})),this.loadWebinars(),this.reload=setInterval((function(){t.loadWebinars()}),this.refreshTime)},close:function(){s.trigger("ui:chart:update-size"),r(window).off("resize.webinars"),clearInterval(this.reload),store.dispatch(c()),this.destroy()},render:function(){a.prototype.render.call(this);var e=0;return this.upcoming_webinars&&(e=o.reduce(this.upcoming_webinars.models,(function(e,t){return t.isUpcoming()&&!t.isActive()&&(e+=1),e}),0)),this.$el.html(this.template({upcoming_webinars:this.upcoming_webinars&&this.upcoming_webinars.models,past_webinars:this.past_webinars&&this.past_webinars.models,futureWebinarsNum:e})),__eventos("learn:webinars:impression",{}),this.updateContentHeight(),this},watch:function(e){var t=r(e.currentTarget).attr("data-id");s.trigger("ui:webinar:watch",t)},updateContentHeight:function(){var e=210;r(".ribbon-notification").length>0&&r(".ribbon-notification")[0].clientHeight&&(e+=r(".ribbon-notification")[0].clientHeight);var t=document.documentElement.clientHeight-e;this.$el.find(".content-block").css("height",t+"px")}});i.exports=a.extend(u)}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){var i={"./education.png":990,"./end_of_day.png":991,"./midday_report.png":992,"./morning_call.png":993,"./morning_report.png":994,"./question_answer.png":995,"./special_events.png":996,"./sunday_preview.png":997};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=o,e.exports=r,r.id=1729},function(e,t){e.exports="<div class=\"webinar-view <%if(isMobile){%>webinar-mobile-view<%}%>\"> <div class=webinar-content> <div class=video> <iframe src=\"<%=webinar.getWebinarURL()%>\" frameborder=0 scrolling=no allowfullscreen webkitallowfullscreen mozallowfullscreen oallowfullscreen msallowfullscreen></iframe> </div> <div class=info> <div> <div class=time><%=webinar.getWebinarStartTime()%></div> <div class=title><%=webinar.getWebinarTitle()%></div> <div class=bottom-details> <div class=hosted-by> <img src=\"<%=webinar.getWebinarPresenterImg()%>\"> <div> <div><%=__('webinars.hosted.by')%>: <%=webinar.getWebinarPresenterName()%></div> <div><%=webinar.getWebinarPresenterTitle()%></div> </div> </div> <div class=other-details> <div class=language> <span class=\"icon-lang-<%=webinar.getWebinarLanguage()%>\"></span> <span><%=__('language.' + webinar.getWebinarLanguage())%></span> </div> <div class=duration> <span class=icon-watch></span> <span><%=webinar.getWebinarDuration()%> <%=__('webinars.duration.minutes')%></span> </div> </div> </div> <%if (!isMobile) {%> <div class=disclaimer> <span><%=__('webinar.disclaimer.short')%>&nbsp;<a href=#><%=__('read.more')%></a></span> <span class=hidden><%=__('webinar.disclaimer.long')%>&nbsp;<a href=#><%=__('close')%></a></span> </div> <%}%> </div> </div> </div> <% if (webinar.isActive()) {%> <div class=questions> <div class=chat> <div class=\"chat-header clearfix\"> <div class=chat-about> <i class=icon-ask-a-question></i> <span><%= __('webinar.chat.ask.question')%></span> </div> </div> <div class=chat-history> <ul> </ul> </div> <div class=\"chat-message clearfix\"> <textarea name=message-to-send id=message-to-send placeholder=\"<%=__('webinar.chat.type.message')%>\" rows=3></textarea> <i class=icon-send-message></i> </div> </div> </div> <%}%> <%if (isMobile) {%> <div class=disclaimer> <span><%=__('webinar.disclaimer.short')%>&nbsp;<a href=#><%=__('read.more')%></a></span> <span class=hidden><%=__('webinar.disclaimer.long')%>&nbsp;<a href=#><%=__('close')%></a></span> </div> <%}%> </div>"},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(70),s=n(8),a=n(6),l=n(86),c=n(9),u=n(33).default,d=r.template(n(1732)),p=o.extend({initialize:function(e){o.prototype.initialize.apply(this,arguments),this.webinarId=e.webinarId,this.feedbackSent=!1,this.render()},events:function(){return r.extend({},r.result(o.prototype,"events"),{"click .fn-feedback":"addFeedback","keyup .review textarea":"updateCounter"})},getOptions:function(e){return r.extend({},r.result(o.prototype,"getOptions"),{isHeaderShowed:!0,caption:__("webinar.leave.feedback"),previousCaption:__("actions.back"),closeIconStyle:"grey",headerStyle:"wizard"},e)},addFeedback:function(){var e=this.$el.find("textarea").val();e.length>c.getWebinarsFeedbackMaxLength()&&(e=e.substring(0,c.getWebinarsFeedbackMaxLength()-1));var t=this.$el.find('input[name="rating"]:checked').val()||0;return this.createLoadingView(),this.sendFeedback(e,t,!0)},addFeedbackOnClose:function(){return this.sendFeedback("",-1,!1)},sendFeedback:function(e,t,n){var i=this,r=a.getCustomerId();return s.webinarFeedback(r,this.webinarId,e,t).then((function(e){if(e.data.error)return Promise.reject();localStorage.setItem("webinar"+i.webinarId,!0),n&&(i.feedbackSent=!0,i.destroyLoadingView(),i.$el.find(".webinars-feedback-view").addClass("hidden"),i.$el.find(".webinars-feedback-thankyou").removeClass("hidden"))}))},updateCounter:function(e){var t=e.currentTarget.value.length,n=this.$el.find(".errors-block"),i=this.$el.find(".btn");this.$el.find(".chars-num").html(t),e.currentTarget.value.length>c.getWebinarsFeedbackMaxLength()?(n.removeClass("invisible"),i.addClass("disabled")):n.hasClass("invisible")||(n.addClass("invisible"),i.removeClass("disabled"))},render:function(){return o.prototype.render.call(this),this.setContent(d({theme:document.documentElement.getAttribute("theme"),isMobile:u.mobile()})),this},close:function(){this.feedbackSent||this.addFeedbackOnClose(),o.prototype.close.call(this)},createLoadingView:function(){this.loadingView=new l({parent:this.$el.find(".webinars-feedback-view"),position:"absolute"})},destroyLoadingView:function(){this.loadingView&&(this.loadingView.destroy(),this.loadingView=null)}});i.exports=p}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t){e.exports='<div class="webinars-feedback-view <%if(isMobile){%>webinars-feedback-mobile-view<%}%>"> <div class=title><%= __(\'webinar.feedback.rate\')%></div> <div class=rating> <div class=stars> <input type=radio id=star5 name=rating value=5 /><label for=star5></label> <input type=radio id=star4 name=rating value=4 /><label for=star4></label> <input type=radio id=star3 name=rating value=3 /><label for=star3></label> <input type=radio id=star2 name=rating value=2 /><label for=star2></label> <input type=radio id=star1 name=rating value=1 /><label for=star1></label> </div> </div> <div class=review> <textarea placeholder="<%=__(\'webinar.feedback.default.text\')%>"></textarea> <div> <div class="errors-block invisible"><%=__(\'webinar.feedback.max.characters\')%></div> <div class=chars-num>0</div> </div> </div> <a class="btn btn-primary btn-block fn-feedback" href=#> <div class=button-container> <span><%=__(\'webinar.feedback.send\')%></span> </div> </a> </div> <div class="webinars-feedback-thankyou <%if(isMobile){%>webinars-feedback-mobile-thankyou<%}%> hidden"> <div> <i class="icon-feedback-thankyou-<%-theme%>"></i> <div><%=__(\'webinar.feedback.thankyou\')%></div> </div> </div>'},function(e,t){e.exports=' <div class=content-block> <div class=current-webinars> <%_.each(upcoming_webinars, function(webinar) {%> <div class="webinar <%if(webinar.isActive()){%>active<%}%>"> <div class=webinar-content> <div class=webinar-logo> <img src="<%=webinar.getWebinarImg()%>" class=webinar-logo__img /> <%if(webinar.webinarIsPremium()) {%> <span class="icon-premium-badge webinar-logo__badge"/> <%}%> </div> <div> <div class=time><%=webinar.getWebinarTime()%></div> <div class=title><%=webinar.getWebinarTitle()%></div> <div class=hosted-by> <img src="<%=webinar.getWebinarPresenterImg()%>"> <div> <div><%=__(\'webinars.hosted.by\')%>: <%=webinar.getWebinarPresenterName()%></div> <div><%=webinar.getWebinarPresenterTitle()%></div> </div> </div> </div> <div> <div class=details><%= __(\'webinars.details\')%>:</div> <div class=description><%=webinar.getWebinarDescription()%></div> <div class=language> <span class="icon-lang-<%=webinar.getWebinarLanguage()%>"></span> <span><%=__(\'language.\' + webinar.getWebinarLanguage())%></span> </div> <div class=duration> <span class=icon-watch></span> <span><%=webinar.getWebinarDuration()%> <%=__(\'webinars.duration.minutes\')%></span> </div> </div> <div> <div class=button> <%if(webinar.isActive()) {%> <a class="btn btn-primary btn-block fn-join" data-id="<%=webinar.getWebinarId()%>"> <div class=button-container> <span> <%=__(\'webinars.join.us\')%> </span> </div> </a> <%}else{%> <a class="btn btn-primary btn-block fn-reg" data-id="<%=webinar.getWebinarId()%>"> <div class=button-container> <span> <%if(webinar.isRegistered()) {%> <%=__(\'webinars.unregister\')%> <%} else {%> <%=__(\'webinars.register\')%> <%}%> </span> </div> </a> <%}%> </div> <%if(!webinar.isActive()) {%> <div class=calendar> <div> <%=__(\'webinars.add.to.calendar\')%>: </div> <div> <a class="icon icon-google" target=_blank href="<%=webinar.getWebinarGoogleCalendarLink()%>"></a> <a class="icon icon-outlook" target=_blank href="<%=webinar.getWebinarOutlookCalendarLink()%>"></a> </div> </div> <%}%> </div> </div> </div> <%})%> <%if(futureWebinarsNum == 0) {%> <div class=no-future-webinars> <span class="icon icon-future-webinars"></span> <div><%=__(\'webinars.no.future.webinars\')%></div> </div> <%}%> </div> <div class="past-webinars webinars-calendar-right"> <div class=webinars-title><%=__(\'webinars.past.sessions\')%></div> <%if (!_.isUndefined(past_webinars) && past_webinars.length > 0) {%> <%_.each(past_webinars, function(webinar) {%> <div class=webinar> <div class=webinar-content> <div> <div class=time><%=webinar.getWebinarTime()%></div> <div class=title><%=webinar.getWebinarTitle()%></div> <div class=hosted-by> <img src="<%=webinar.getWebinarPresenterImg()%>"> <div> <div><%=__(\'webinars.hosted.by\')%>: <%=webinar.getWebinarPresenterName()%></div> <div><%=webinar.getWebinarPresenterTitle()%></div> </div> </div> </div> <div> <div class=details><%= __(\'webinars.details\')%>:</div> <div class=description><%=webinar.getWebinarDescription()%></div> <div class=bottom-block> <div> <div class=language> <span class="icon-lang-<%=webinar.getWebinarLanguage()%>"></span> <span><%=__(\'language.\' + webinar.getWebinarLanguage())%></span> </div> <div class=duration> <span class=icon-watch></span> <span><%=webinar.getWebinarDuration()%> <%=__(\'webinars.duration.minutes\')%></span> </div> </div> <div> <div class=button> <a class="btn btn-primary btn-block <%if(webinar.getWebinarURL()){%>fn-watch<%}else{%>disabled<%}%>" data-id="<%=webinar.getWebinarId()%>"> <div class=button-container> <span> <%=__(\'webinars.watch\')%> </span> </div> </a> </div> </div> </div> </div> </div> </div> <%})%> <%} else {%> <div class=no-past-webinars> <span class="icon icon-past-webinars"></span> <div><%=__(\'webinars.no.past.webinars\')%></div> </div> <%}%> </div> </div> '},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var o=n(1),s=n(5),a=n(70),l=n(8),c=n(6),u=n(585),d=n(820),p=o.template(n(1735)),f=Object.assign({},d,{initialize:function(e){var t=this;a.prototype.initialize.apply(this,arguments),s.trigger("ui:webinar:close"),this.loadWebinars(),this.reload=setInterval((function(){t.loadWebinars()}),this.refreshTime)},events:function(){return o.extend({},o.result(a.prototype,"events"),{"click .webinars-top .fn-close-popup":"close","click .fn-join":"join","click .fn-watch":"watch","click .fn-reg":"register","click .tab":"changeTab"})},changeTab:function(e){this.$el.find(".tab").removeClass("active"),this.$el.find(".webinars-block").addClass("hidden"),r(e.currentTarget).addClass("active");var t=Array.prototype.indexOf.call(e.currentTarget.parentElement.children,e.currentTarget);r(this.$el.find(".webinars-block").get(t)).removeClass("hidden")},getOptions:function(e){return o.extend({},o.result(a.prototype,"getOptions"),{isHeaderShowed:!0,caption:__("menu.webinar"),previousCaption:__("actions.back"),headerStyle:"wizard",bodyStyle:"webinars-mobile",headerCaptionStyle:"webinars-mobile-header"},e)},close:function(){clearInterval(this.reload),a.prototype.close.call(this),this.destroy()},render:function(){a.prototype.render.call(this);var e=void 0;return this.upcoming_webinars&&(e=o.reduce(this.upcoming_webinars.models,(function(e,t){return t.isUpcoming()&&!t.isActive()&&(e+=1),e}),0)),this.setContent(p({upcoming_webinars:this.upcoming_webinars.models,past_webinars:this.past_webinars.models,futureWebinarsNum:e})),__eventos("learn:webinars:impression",{}),this},watch:function(e){var t=c.getCustomerId(),n=r(e.currentTarget).attr("data-id"),i=o.find(this.past_webinars.models,(function(e){return e.getWebinarId()===n}));new u({parent:r("body"),webinar:i,onClose:function(){return null}});return l.watchWebinar(t,n).then((function(e){if(e.data.error)return Promise.reject()}))}});i.exports=a.extend(f)}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t){e.exports='<div class=webinars-wrapper-mobile> <div class=webinars-mobile> <div class=webinars-tabs> <div class="tab tab-current-webinars active"><%=__(\'webinars.header\')%></div> <div class="tab tab-past-webinars"><%=__(\'webinars.past.sessions\')%></div> </div> <div class=content-block> <div class="webinars-block current-webinars"> <%_.each(upcoming_webinars, function(webinar) {%> <div class=webinar> <div class=webinar-logo> <img src="<%=webinar.getWebinarImg()%>" class=webinar-logo__img /> <%if(webinar.webinarIsPremium()) {%> <span class="icon-premium-badge webinar-logo__badge"/> <%}%> </div> <div class="webinar-data <%if(webinar.isActive()){%>active<%}%>"> <div class=time><%if(webinar.isActive()){%><%=__(\'webinars.now\')%><%}else{%><%=webinar.getWebinarTime()%><%}%></div> <div class=title><%=webinar.getWebinarTitle()%></div> <div class=hosted-by> <img src="<%=webinar.getWebinarPresenterImg()%>"> <div> <div><%=__(\'webinars.hosted.by\')%>: <%=webinar.getWebinarPresenterName()%></div> <div><%=webinar.getWebinarPresenterTitle()%></div> </div> </div> <div class=language-duration> <div class=language> <span class="icon-lang-<%=webinar.getWebinarLanguage()%>"></span> <span><%=__(\'language.\' + webinar.getWebinarLanguage())%></span> </div> <div class=duration> <span class=icon-watch></span> <span><%=webinar.getWebinarDuration()%> <%=__(\'webinars.duration.minutes\')%></span> </div> </div> <div class=btns> <div class=calendar> <div> <%if(!webinar.isActive()) {%> <a class="icon icon-google" target=_blank href="<%=webinar.getWebinarGoogleCalendarLink()%>"></a> <a class="icon icon-outlook" target=_blank href="<%=webinar.getWebinarOutlookCalendarLink()%>"></a> <%}%> </div> </div> <div class=button> <%if(webinar.isActive()) {%> <a class="btn btn-primary btn-block fn-join" data-id="<%=webinar.getWebinarId()%>"> <div class=button-container> <span> <%=__(\'webinars.join.us\')%> </span> </div> </a> <%}else{%> <a class="btn btn-primary btn-block fn-reg" data-id="<%=webinar.getWebinarId()%>"> <div class=button-container> <span> <%if(webinar.isRegistered()) {%> <%=__(\'webinars.unregister\')%> <%} else {%> <%=__(\'webinars.register\')%> <%}%> </span> </div> </a> <%}%> </div> </div> </div> </div> <%})%> <%if(futureWebinarsNum == 0) {%> <div class=no-future-webinars> <span class="icon icon-future-webinars"></span> <div><%=__(\'webinars.no.future.webinars\')%></div> </div> <%}%> </div> <div class="webinars-block past-webinars hidden"> <%if (!_.isUndefined(past_webinars) && past_webinars.length > 0) {%> <%_.each(past_webinars, function(webinar) {%> <div class=webinar> <div class=webinar-data> <div class=time><%if(webinar.isActive()){%><%=__(\'webinars.now\')%><%}else{%><%=webinar.getWebinarTime()%><%}%></div> <div class=title><%=webinar.getWebinarTitle()%></div> <div class=hosted-by> <img src="<%=webinar.getWebinarPresenterImg()%>"> <div> <div><%=__(\'webinars.hosted.by\')%>: <%=webinar.getWebinarPresenterName()%></div> <div><%=webinar.getWebinarPresenterTitle()%></div> </div> </div> <div class=past-bottom> <div class=language-duration> <div class=language> <span class="icon-lang-<%=webinar.getWebinarLanguage()%>"></span> <span><%=__(\'language.\' + webinar.getWebinarLanguage())%></span> </div> <div class=duration> <span class=icon-watch></span> <span><%=webinar.getWebinarDuration()%> <%=__(\'webinars.duration.minutes\')%></span> </div> </div> <div class=btns> <div class=button> <a class="btn btn-primary btn-block <%if(webinar.getWebinarURL()){%>fn-watch<%}else{%>disabled<%}%>" data-id="<%=webinar.getWebinarId()%>"> <div class=button-container> <span> <%=__(\'webinars.watch\')%> </span> </div> </a> </div> </div> </div> </div> </div> <%})%> <%} else {%> <div class=no-past-webinars> <span class="icon icon-past-webinars"></span> <div><%=__(\'webinars.no.past.webinars\')%></div> </div> <%}%> </div> </div> </div> </div>'},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var r=n(12),o=n(1),s=n(20),a=(n(5),n(185),n(6),s.extend({name:"",className:"platform-type-popup",template:o.template(n(1737)),initialize:function(e){s.prototype.initialize.apply(this,arguments),this.render()},onDemoClick:function(){__eventos("onBoardFlow:platformModeSelector:clkButtonDemo"),this.options.cancel(),this.destroy()},onRealClick:function(){__eventos("onBoardFlow:platformModeSelector:clkButtonReal"),this.options.success(),this.destroy()},events:function(){return o.extend({},o.result(s.prototype,"events"),{"click .demo-mode":"onDemoClick","click .real-mode":"onRealClick"})},render:function(){s.prototype.render.call(this),this.$el.html(r(this.template()))}}));i.exports=a}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t){e.exports="<div class=account-mode-popup> <div class=account-mode-popup-content> <div class=account-mode-caption> <%= __('first.login.registraion.title') %> <span><%= __('platform.popup.caption.description') %></span> </div> <div class=account-buttons> <div class=demo-mode> <div class=demo-button-icon></div> <div class=account-buttons-caption> <%= __('platform.popup.demo.button.title') %> <span class=account-buttons-footer> <%= __('platform.popup.demo.button.footer') %> </span> </div> </div> <div class=real-mode> <div class=real-button-icon></div> <div class=account-buttons-caption> <%= __('platform.popup.real.button.title') %> <span class=account-buttons-footer> <%= __('platform.popup.real.button.footer') %> </span> </div> </div> </div> </div> <div class=account-mode-footer> <%= __('platform.popup.footer') %> </div> </div> "},function(e,t,n){"use strict";n.r(t);var i=n(20),r=n.n(i),o=n(22),s=n.n(o),a=n(0),l=n.n(a),c=n(4),u=n(5),d=n.n(u),p=n(650),f=n(942);t.default=r.a.extend({initialize:function(){var e=this;r.a.prototype.initialize.apply(this,arguments),this.listenTo(d.a,"ui:header-itemclick",(function(){return e.options.onClose(!1)}))},events:{"click .take-tour":"openTour"},openTour:function(){this.$el.find(".acuity__body")[0];Object(f.a)(this.$el)},render:function(){return r.a.prototype.render.call(this),s.a.render(l.a.createElement(c.Provider,{store:store},l.a.createElement(p.b,this.options)),this.el),this},destroy:function(){s.a.unmountComponentAtNode(this.el),r.a.prototype.destroy.call(this)}})},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){n(12);var r=n(1),o=n(118),s=n(9),a=r.template(n(1740)),l={terms_and_conditions_bonus:s.isBonusesAwardsEnabled()};i.exports=o.extend({getOptions:function(e){return r.extend({},r.result(o.prototype,"getOptions"),{hideCancelButton:!0,showHeader:!1,confirmCaption:__("legal_documents"),confirmOKBtnText:__("ok"),confirmMessage:a({isBonusesAwardsEnabled:s.isBonusesAwardsEnabled(),links:r.filter(s.getLegalDocumentsPopupLinks(),(function(e){return!1!==l[e]}))}),parent:document.body},e)},initialize:function(e){o.prototype.initialize.apply(this,arguments)}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t){e.exports="<div class=legal-documents-wrapper> <p><%=__('legal_documents.popup.disclaimer')%></p> <ul> <% _.each(links, function(link) { %> <% var key = 'legal_documents.popup.' + link; %> <li><%=__(key)%></li> <% }) %> </ul> </div>"},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(70),s=r.template(n(1742)),a=o.extend({initialize:function(e){o.prototype.initialize.apply(this,arguments),this.render()},render:function(){return o.prototype.render.call(this),this.setContent(s({helpCenterURL:__("link.faq")})),this}});i.exports=a}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t){e.exports='<div class=help-center-wrapper> <iframe src="<%=helpCenterURL%>"></iframe> </div> '},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(136),s=r.template(n(1744)),a=(n(5),n(6),o.extend({events:function(){return r.extend({},r.result(o.prototype,"events"),{"click .btn":"onButtonClick"})},getOptions:function(e){return r.extend({},r.result(o.prototype,"getOptions"),{isHeaderShowed:!1,closeIconStyle:"grey",headerBgStyle:"transparent",onClose:function(){},onLogin:function(){}},e)},initialize:function(e){o.prototype.initialize.apply(this,arguments),this.render()},render:function(){o.prototype.render.call(this),this.setContent(s())},close:function(e){o.prototype.close.call(this,e),this.options.onClose()},onButtonClick:function(e){o.prototype.close.call(this,e),this.options.onLogin()}}));i.exports=a}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t){e.exports="<div class=session-expired-popup> <div class=session-expired-popup-content> <div class=icon-no-activity></div> <div class=title><%=__('session_expired.title')%></div> <div class=description><%=__('session_expired.description')%></div> </div> <div class=actions> <button class=\"btn btn-primary\"><%=__('new_account.login_link')%></button> </div> </div>"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(5),o=n(1),s=n(6),a=n(9);function l(e,t){try{if(!window.dataLayers)return;var n=function(e){if(!e)return null;var t=e.id;if(!t)return null;var n="en"===e.language?"en-us":e.language;return{Source:e.affilatedId,Language:n,Brand:a.getBrandName(),Site:"",Identifier:t}}(t||(s?s.getPersonalData():null));if(!n)return;o.forEach(window.dataLayers,(function(t){return t&&t.push&&t.push(o.extend(n,e))}))}catch(e){}}r.on("gtm:deposit",(function(e){return l({event:"deposit",amount:e})})),r.on("gtm:lead",(function(e){return l({event:"lead"},e)})),r.on("gtm:full_registration",(function(){return l({event:"full_registration"})})),r.on("gtm:full_registration_cancel",(function(e){return l({event:"full_registration_cancel",step:e})})),r.on("gtm:portfolio:creation",(function(e){var t=e||{};l({category:"Quantranks",action:{trigger:"Click on "+t.trigger+" button",name:"Step "+t.step+" complete"},label:t.label})}))}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t,n){(function(i,r){var o,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();void 0===(o=function(e,t,i){var r=n(24),o=n(5),a=n(6),l=n(9),c=n(1809),u=n(71).default,d=n(16),p=n(1),f=a.getAddToHomeScreen(),h=function(e){return d().add(e,"day").toDate().getTime()},m=function(e){return!p.isNull(e)&&!p.isUndefined(e)},g=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._excludePaths=["register","login","forgetpassword","deposit"],this._readyToWork=!1,this._isRegistration=!1,this._isProfessionalTraderProgress=!1,this._isNativePopupBlocked=!1,this._checkCount=0,o.on("registration:start",(function(){return t._isRegistration=!0})),o.on("professional-trader:start",(function(){return t._isProfessionalTraderProgress=!0})),o.on("professional-trader:abort professional-trader:completed",(function(){return t._isProfessionalTraderProgress=!1})),o.on("registration:abort registration:filled",(function(){return t._isRegistration=!1})),o.on("native-popups:block",(function(){return t._isNativePopupBlocked=!0})),o.on("native-popups:release",(function(){return t._isNativePopupBlocked=!1})),o.on("app:initialize:finish",this.onAppFinished,this)}return s(e,[{key:"onAppFinished",value:function(){var e=this;l.isAddToHomeScreenEnabled()&&(this._readyToWork=!0,f.getImpressionCount()>5||f.getNextCheck()>=Date.now()||this._timer||this.getInstallationStatus().then((function(){e.isAppInstalled()||u.desktop()||(e._timer=setTimeout(e.periodicCheck.bind(e),2e4))})).catch((function(t){u.desktop()||(e._timer=setTimeout(e.periodicCheck.bind(e),2e4))})))}},{key:"periodicCheck",value:function(){var e=this.checkBannerShowConditions();if(m(window.__deferredInstallPromptEvent)&&e)return this._timer=null,void this.showBanner(window.__deferredInstallPromptEvent);this._checkCount++,!m(window.__deferredInstallPromptEvent)&&this._checkCount>10?this._timer=null:this._timer=setTimeout(this.periodicCheck.bind(this),2e4)}},{key:"checkBannerShowConditions",value:function(){if(!this._readyToWork||this._isRegistration||this._isNativePopupBlocked||!0===this._isAppInstalled)return!1;var e=r.history.getFragment();return!(-1!==this._excludePaths.indexOf(e)||!a.isFullRegistrationCompleted()||!l.isLive())}},{key:"showBanner",value:function(e){var t=this,n=new c;__eventos("onBoardFlow:addToHomeScreen:confirmImpression",{}),f.setNextCheck(h(1)),n.showConfirmMessage((function(){f.setImpressionCount(6),__eventos("onBoardFlow:addToHomeScreen:confirmAccept",{}),e.prompt(),n.showArrowBox(),__eventos("onBoardFlow:addToHomeScreen:nativeImpression",{}),e.userChoice.then((function(e){n.close(),"dismissed"!==e.outcome?(t.getInstallationStatus().then((function(){})).catch((function(){})),__eventos("onBoardFlow:addToHomeScreen:installed",{}),window.__deferredInstallPromptEvent=null):__eventos("onBoardFlow:addToHomeScreen:nativeReject",{})})).catch((function(e){n.close(),window.__deferredInstallPromptEvent=null}))}),(function(){var e;__eventos("onBoardFlow:addToHomeScreen:confirmReject",{}),f.incImpressionCount(),f.setNextCheck((e=f.getImpressionCount(),h(Math.pow(2,e)))),window.__deferredInstallPromptEvent=null,n.close()}))}},{key:"getInstallationStatus",value:function(){var e=this;return p.isFunction(navigator.getInstalledRelatedApps)?navigator.getInstalledRelatedApps().then((function(t){e._installedAppsMetadata=t,e._isAppInstalled=t.length>0})):Promise.reject({message:"getInstalledRelatedApps not defined"})}},{key:"isAppInstalled",value:function(){return this._isAppInstalled}},{key:"getInstalledAppsMetadata",value:function(){return this._installedAppsMetadata}}]),e}();i.exports=new g}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(24))},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var o=n(20),s=n(1),a=(n(5),s.template('\n        <div class="ni-popup-overlay visible">\n            <div class="content"></div>\n        </div>\n    ')),l=s.template('\n                <div class="ni-confirm-popup-wrapper">                    \n                    <div class="ni-message-container">\n                        <i class="ni-brand-icon"></i>\n                        <span><%=__(\'indigo.native_integration.add_to_homescreen.confirm\')%></span>\n                    </div>\n                    <div class="ni-buttons-container">\n                        <button class="ni-button-no btn"><%=__(\'no\')%></button>\n                        <button class="ni-button-yes btn"><%=__(\'yes\')%></button>\n                    </div>                                        \n                </div>'),c=s.template('\n                <div class="ni-popup-wrapper">\n                    <div class="ni-arrow-box">\n                    <%=__(\'indigo.native_integration.add_to_homescreen.arrow\')%>\n                    </div>\n                </div>');i.exports=o.extend({className:"ni-popup-popup-container",events:{"click .ni-button-no":"clientReject","click .ni-button-yes":"clientAccept"},initialize:function(){o.prototype.initialize.apply(this,arguments),this.render()},render:function(){o.prototype.render.call(this),this.$el.html(a()),this.$el.appendTo(r("body")),this.$content=this.$el.find(".content")},clientAccept:function(){this._onClientAccept()},clientReject:function(){this._onClientReject()},showConfirmMessage:function(e,t){this._onClientAccept=e||function(){},this._onClientReject=t||function(){},this.$content.html(l())},showArrowBox:function(){this.$content.html(c())},close:function(){this.destroy()}})}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){(function(i,r,o){var s;function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}void 0===(s=function(e,t,i){var r,o=n(1),s=n(24),l=n(5),c=n(6),u=n(185),d=n(33).default,p=n(1811),f=n(12),h=n(26),m=n(178),g=(n(9),n(46)),v=g.changeInstrumentInfoVisibility,b=g.selectFirstSymbolInSymbolList,_=g.selectInstrumentCategorySymbol,y=g.selectInstrumentCategoryTreePath,E=g.selectInstrumentSymbolAndUpdateUrl,S=g.setFavoritesSection,C=g.setOpenPositionsSection,w=g.setOrdersSection,O=g.setSection,T=g.setTradingSection,P=g.updateCategorySections,k=n(146),I=n(125),A=n(423).isLeverageChangeTabAvailable,x=n(27).getUserInstrumentType,N=n(975).default,D=n(3),R=D.HIDDEN,L=D.MULTI_CHARTS_PATH,M=(D.TRADING_TOOLS,D.UI_SECTION_INVEST),j=D.UI_SECTION_PORTFOLIOS,F=D.UI_SECTION_PRICE_ALERTS,B=D.UI_SECTION_TRADING,U=D.ACCOUNT_TRADING_TYPE,V=D.FIRST_TIME_LOADING_STORAGE_KEY,z=n(27).getActiveCrmboAccount,q=n(157).getQuantAccounts,H=n(263),$=H.isPortfolioEnabled,G=H.isSaxoEnabled,W=function(e){e&&store.dispatch(E(e))},Y=function(){return x(window.store.getState())===U.QUANT_RANKS};return s.Router.extend({initialize:function(){var e=this;this.listenTo(l,"app:reload:after:login",(function(){var t=e.suspendedRoute?e.suspendedRoute.fragment:"";l.navigate(t,{trigger:!1}),window.location.reload()})),this.appView=new p({el:f("#wrapper")})},routes:(r={"(/)":"index","login(/)":"login","register(/)":"register","forgetpassword(/)":"forgetPassword","resetpassword(/)":"resetPassword","deposit(/)":"deposit","events-and-trade(/)(*eventTypeCode/*symbol)(/)":"eventsTrade","analyst(/)":"tipRanks","insiders(/)(*ticker)(/)":"insiders","news-sentiment(/)(*ticker)(/)":"newsSentiment","bloggers(/)":"bloggers","hedgefunds(/)":"hedgefunds","webinars(/)(:id)(/)":"webinars","blog(/)":"blog","trading(/)(*url)(/)":"trading","featured(/)(*url)(/)":"trading","instrument(/)(*symbol)(/)":"instrument","price-alerts(/)(*symbol)(/)":"priceAlerts","leverage_settings(/)":"leverageSettings"},a(r,L+"(/)(*url)(/)","multiCharts"),a(r,"economic-calendar(/)","economic_calendar"),a(r,"news-alerts(/)","newsAlerts"),a(r,"news(/)(:id)(/)","news"),a(r,"commentary(/)(:id)(/)","commentary"),a(r,"open-positions(/)(*symbol)(/)","openPositions"),a(r,"orders(/)(*symbol)(/)","orders"),a(r,"favorites(/)(*symbol)(/)","favorites"),a(r,"invest","invest"),a(r,"portfolios(/)(*url)","portfolios"),a(r,":tab(/)(*instrumentPath)(/)","tabRouter"),a(r,"*any","anyRouter"),r),navigateToDefaultRoute:function(){l.navigate(this.getDefaultRoute())},getDefaultRoute:function(){var e=I.getLastPageRoute();return"/"!==e&&e?e:B},index:function(){if(c.isLoggedIn())return Y()?l.navigate("portfolios"):this.navigateToDefaultRoute();c.wasLoggedIn()?l.navigate("login"):l.navigate("register")},before:function(e,t,n,i,r){k.setRouter(r);o.contains(["login","register","index"],i)||c.isLoggedIn()||(this.suspendedRoute={callback:t,args:n,name:i,fragment:r})},exec:function(e,t,n){return s.Router.prototype.execute.apply(this,[e,t,n])},process:function(e,t,n){!1!==this.execute(e,t,n)&&(this.trigger.apply(this,["route:"+n].concat(t)),this.trigger("route",n,t),s.history.trigger("route",this,n,t))},after:function(e,t,n,i,r){},route:function(e,t,n){o.isRegExp(e)||(e=this._routeToRegExp(e)),o.isFunction(t)&&(n=t,t=""),n||(n=this[t]);var i=this;return s.history.route(e,(function(r){var o=i._extractParameters(e,r);!1!==i.before(e,n,o,t,r)&&(i.process(n,o,t),i.after(e,n,o,t,r))})),this},trading:function(e){if(!c.isLoggedIn())return l.navigate("/");var t=c.getApplicationSettings(),n=h.analyzePath(e),i=n.instrumentSymbol,r=n.categoryPath;e||(r=t.get("selectedCategoryPath")),m.isDetected()&&m.getMainMenuActiveTab()===B&&(r=store.getState().instruments.defaultInstrumentTreeCategoryPath),r||(r=h.getFirstCategory().path),r=u.normalize(r,!0,"/"),e||l.navigate("/trading"+r,{trigger:!1,replace:!0}),t.set("tabs:selectedTabName","trading"),l.trigger("ui:close-instrument-details"),l.trigger("router:change:tab","trading",r),store.dispatch(y(r)),store.dispatch(T()),i?store.dispatch(E(i)):store.dispatch(b()),store.dispatch(P())},instrument:function(e){if(!c.isLoggedIn()||!e)return l.navigate("/");var t=h.getInstrumentBySymbol(e);t&&(l.trigger("ui:instrument:change"),l.trigger("router:change:tab","instrument",e))},priceAlerts:function(e){if(!c.isLoggedIn())return l.navigate("/");var t=c.getApplicationSettings();t.set("tabs:selectedTabName","price-alerts"),e&&t.set("tabs:alerts:selectedInstrumentSymbol",e),store.dispatch(v(R)),store.dispatch(O(F)),l.trigger("router:change:tab","price-alerts",e)},multiCharts:function(e){if(!c.isLoggedIn()||d.mobile())return l.navigate("/");l.trigger("ui:multi-charts",e||this.getDefaultRoute())},tabRouter:function(e,t,n){if(!c.isLoggedIn())return l.navigate("/");store.dispatch(O(e)),c.getApplicationSettings().set("tabs:selectedTabName",e),l.trigger("router:change:tab",e,t)},login:function(){if(c.isLoggedIn())return this.navigateToDefaultRoute();localStorage.removeItem(V),N.clear(),this.appView.showLoginView()},forgetPassword:function(){c.isLoggedIn()?l.navigate("/"):this.appView.showForgotPasswordView()},resetPassword:function(){var e=new RegExp("[?&]token=([^&#]*)","i").exec(window.location.href),t=e?e[1]:null;c.isLoggedIn()||o.isEmpty(t)?l.navigate("/"):this.appView.showResetPasswordView(t)},register:function(){if(c.isLoggedIn())this.navigateToDefaultRoute();else{var e=u.getQueryParams();this.appView.showNewAccountView(e)}},deposit:function(){c.isLoggedIn()?l.trigger("flow:deposit"):l.navigate("/")},eventsTrade:function(e,t){c.isLoggedIn()?(c.getApplicationSettings().set({"event_and_trade:selectedEventTypeCode":e,"event_and_trade:selectedSymbol":t}),l.trigger("flow:events-and-trade")):l.navigate("/")},tipRanks:function(){c.isLoggedIn()?l.trigger("ui:tip-ranks"):l.navigate("/")},insiders:function(e){c.isLoggedIn()?(c.getApplicationSettings().set({"insiders:stockTicker":e}),l.trigger("ui:insiders")):l.navigate("/")},newsSentiment:function(e){c.isLoggedIn()?(c.getApplicationSettings().set({"newsSentiment:stockTicker":e}),l.trigger("ui:newsSentiment")):l.navigate("/")},leverageSettings:function(){c.isLoggedIn()&&A(store.getState())?l.trigger("flow:leverage-settings"):l.navigate("/")},bloggers:function(){c.isLoggedIn()?l.trigger("ui:bloggers"):l.navigate("/")},hedgefunds:function(){c.isLoggedIn()?l.trigger("ui:hedgefunds"):l.navigate("/")},webinars:function(e){c.isLoggedIn()?l.trigger("flow:webinars",parseInt(e)):l.navigate("/")},blog:function(){c.isLoggedIn()?l.trigger("flow:blog"):l.navigate("/")},anyRouter:function(){return c.isLoggedIn()?this.navigateToDefaultRoute():c.wasLoggedIn()?l.navigate("login"):l.navigate("register")},economic_calendar:function(){l.trigger("ui:economic-calendar")},news:function(e){c.isLoggedIn()?setTimeout((function(){return l.trigger("ui:news",e)}),0):l.navigate("/")},commentary:function(e){c.isLoggedIn()?setTimeout((function(){return l.trigger("ui:commentary",e)}),0):l.navigate("/")},newsAlerts:function(){c.isLoggedIn()?setTimeout((function(){return l.trigger("ui:acuity-trading")}),0):l.navigate("/")},openPositions:function(e){if(!c.isLoggedIn())return l.navigate("/");store.dispatch(_(e)),store.dispatch(C()),W(e)},orders:function(e){if(!c.isLoggedIn())return l.navigate("/");store.dispatch(_(e)),store.dispatch(w()),W(e)},favorites:function(e){if(!c.isLoggedIn())return l.navigate("/");store.dispatch(_(e)),store.dispatch(S(e)),W(e)},portfolios:function(){return c.isLoggedIn()&&Y()&&$(window.store.getState())?(store.dispatch(v(R)),void store.dispatch(O(j))):l.navigate("/")},invest:function(){if(!c.isLoggedIn())return l.navigate("/");var e=window.store.getState();if(!$(e)&&!G(e))return l.navigate("/");var t=q(e),n=z(e);if(o.find(t,{id:n.id}))return l.navigate(j);store.dispatch(v(R)),store.dispatch(O(M))}})}.call(t,n,t,e))||(e.exports=s)}).call(this,n(24),n(12),n(1))},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var r=n(1),o=n(12),s=n(20),a=n(5),l=n(1812),c=n(1813),u=n(1858),d=n(805),p=n(1861),f=n(6),h=n(54),m=n(86),g=n(1863),v=n(9),b=n(1887),_=n(33).default,y=n(0),E=n(22),S=n(1888).default,C=n(1892).default,w=n(1893).default,O=n(630),T=n(1908).default,P=n(126).default,k=n(3).ACCOUNT_TRADING_TYPE,I=n(27).getUserInstrumentType,A=n(1895).default,x=n(263).isPortfolioEnabled;function N(e){return!!e}var D=s.extend({initEvents:{"user:load:data-compliance:success":!1,"user:load:credit-card:success":!1,"user:info":!1},template:r.template(l),user:f,_initDone:!1,appViews:[],initialize:function(){s.prototype.initialize.apply(this,arguments),this.subscribe(),this.render(),b.initialize(),this.wrapperElement=this.$el,this.mainBoxElement=this.$el.find(".main-box"),this.popupsPlaceholderElement=o("#popups-placeholder"),window.addEventListener("click",this.onHandleAllAnchorClick,!0)},subscribe:function(){this.listenTo(f.getApplicationSettings(),"change:chartVisibility",this.handleChartVisibility),this.listenTo(a,"stream:type:MESSAGE",this.onStreamMessage),this.listenTo(a,"user:token",g.init.bind(g)),this.listenTo(h,"language:changing:before",this.showLoadingPopup),this.listenTo(h,"language:changing:after",this.hideLoadingPopup),this.listenTo(a,"app:initialize:finish",this.onAppInitializeFinish),this._initDone=!1,this.listenTo(a,"all",this.initDoneEvent,this)},onAppInitializeFinish:function(){},initDoneEvent:function(e){!1===this.initEvents[e]&&(this.initEvents[e]=!0),!this._initDone&&r.every(this.initEvents,N)&&(this.stopListening(a,"all",this.initDoneEvent,this),this.renderDefault(),this._initDone=!0,g.init(),this.hideLoadingPopup(),a.trigger("app:loaded"),a.trigger("app:ready"),a.trigger("flow:login"),a.trigger("app:initialize:finish"))},render:function(){this.$el.html(this.template()),this.header=new c({el:this.$el.find("header")}),f.getSessionModel().isSessionActive()?(this.addChildView(".main-box",m,{position:"fixed",translucent:"no"}),a.trigger("user:login"),a.trigger("app:session:active"),a.trigger("app:initialize:finish")):a.trigger("ui:login"),this.handleChartVisibility(),document.documentElement.setAttribute("advanced",f.getUserCommonData().isAdvancedTradingView())},handleChartVisibility:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.getApplicationSettings().getChartVisibility();"visible"===t?this._onShowChart():this._onHideChart()},renderDefault:function(){if(this.removeChildView(".main-box"),o(document.body).addClass("phonegap"),v.isBonusesEnabled()&&f.isLoggedIn()&&_.mobile()){var e=n(620);this.activeBonusProgressBarView=new e({el:this.$el.find(".active-bonus-panel")})}v.isHotjarFeedbackEnabled()&&O.createPortal(y.createElement(A,null,y.createElement("div",{className:"hotjar__container"},y.createElement(T,null))));var t=window.store.getState();if(x(t)&&I(t)===k.QUANT_RANKS)E.render(y.createElement(A,null,y.createElement(S,null)),this.$el.find(".main-box-content")[0]);else{if(f.getUserCommonData().isAdvancedTradingView())return this.$el.addClass("advanced"),void E.render(y.createElement(A,null,y.createElement(w,null)),this.$el.find(".main-box-content")[0]);this.hideLoadingPopup(),E.render(y.createElement(A,null,y.createElement(C,null)),this.$el.find(".main-box-content")[0]),this.appViews.push(this.aside,this.search,this.activeBonusProgressBarView)}},showNewAccountView:function(e){this.hideLoadingPopup(),this.removeAppViews(),a.trigger("ui:new-account",e)},showLoginView:function(){this.hideLoadingPopup(),this.removeAppViews();var e=new u({parent:o(".main-box"),isAutoLogin:f.isRemembered(),translucent:"no",nameClass:"auth-popup"});this.appViews.push(e)},showForgotPasswordView:function(){this.removeAppViews();var e=new d({parent:o(".main-box"),translucent:"no",backKey:"forgot_password.back_to_login"});this.appViews.push(e)},showResetPasswordView:function(e){this.removeAppViews();var t=new p({parent:o(".main-box"),translucent:"no",backKey:"forgot_password.back_to_login",token:e});this.appViews.push(t)},_onHideChart:function(){var e=f.getUserCommonData().isAdvancedTradingView(),t=f.getApplicationSettings().get("tabs:selectedTabName");e&&r.contains(["orders","open-positions"],t)||(this.$el.find(".chart-splitter-box").css({display:"none"}),f.getUserCommonData().isAdvancedTradingView()||this.$el.find(".chart-box").addClass("hidden"))},_onShowChart:function(){this.$el.find(".chart-splitter-box").css({display:"block"}),a.trigger("ui:chart:reflow"),f.getUserCommonData().isAdvancedTradingView()||this.$el.find(".chart-box").removeClass("hidden")},destroy:function(){this.undelegateEvents(),this.stopListening(),this.$el.empty(),this.listenTo(a,"app:destroy",this.destroy)},showLoadingPopup:function(){this.fixedLoadingView||(this.fixedLoadingView=new m({parent:document.body,position:"fixed",translucent:"2"}))},hideLoadingPopup:function(){this.fixedLoadingView&&(this.fixedLoadingView.destroy(),this.fixedLoadingView=null)},checkPendingDeposit:function(){},removeAppViews:function(){this.removeChildView(".main-box"),this.appViews.forEach((function(e){e.destroy()})),this.appViews=[]},isInitComplete:function(){return this._initDone},onHandleAllAnchorClick:function(e){var t=e.target;if(t&&"A"===t.tagName&&"_blank"===t.target){var n=t.href;P(n),e.preventDefault()}}});i.exports=D}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t){e.exports=' <header class=header-box></header> <div class="notification-box hidden-lg no-arrow"></div> <div class="active-bonus-panel hidden-lg"></div> <div class=ribbon-box></div> <div class=main-box> <div class=main-box-content> </div> </div> <div class="floating-open-positions hidden-xs hidden-sm hidden-md"></div> '},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var r=n(20),o=n(1),s=n(6),a=n(5),l=n(54),c=n(33).default,u=n(1814),d=n(9),p=n(102),f=n(212),h=n(12),m=n(83).resizeString,g=n(72),v=n(848),b=n(8),_=n(266),y=n(380),E=n(457),S=n(125),C=n(1827).default,w=n(0),O=n(22),T=n(4).Provider,P=o.template(n(1829)),k=o.template(n(1830)),I=n(31).default,A=n(1907).default,x=n(1831).default,N=n(1905).default,D=n(1836).default,R=n(46).setWebinarTooltip,L=n(73),M=n(3).TRADING_TOOLS,j=n(522).BRAND,F=d.getBrandName(),B=n(1912).default,U=n(481).default,V=n(1839).default,z=n(189).notificationCenterSubscribeService,q=n(39).setOpenPopupState,H=n(3).BREAKPOINT_SCREEN_LG_MAX,$=n(1909).default,G=n(223).hotjarTryToOpenFeedbackForm,W=n(126).default,Y=n(423).isLeverageChangeTabAvailable,K=n(27).isUserLoggedInQuantRankAccount,X=n(1842).default,Q=n(263).isPortfolioEnabled,J=n(454),Z=r.extend({events:function(){return o.extend({},o.result(r.prototype,"events"),{"click [data-url]":"gotoByUrl","click .dropdown":"stopPropagation","click .fn-toggle-desktop-menu":"toggleDesktopMenu","click .fn-toggle-mobile-menu":"toggleMobileMenu","click .fn-set-lang":"setUserLang","click .fn-previous":"onPrevious","click .fn-deposit":"onDeposit","click .fn-withdraw":"onWithdraw","click .fn-verify":"onVerify","click .fn-user-signout":"signout","click .fn-open-account-settings":"openAccountSettings","click .fn-open-account-level-settings":"openAccountLevelSettings","click .fn-open-leverage-settings":"openLeverageSettings","click [data-ui]":"generateOpenUIEvent","click .fn-menu-item":"onMenuItemClick","click .fn-expander":"expanderMenu","click .fn-metatrader-link":"onMetaTraderClick","click .fn-open-manage-accounts":"onManageAccountsClick","change .mobile-dropdown-lang":"mobileLangSelect","click .themes-switcher span":"changeTheme","change .themes-switcher input[type=checkbox]":"changeTheme","click .platform-switcher":"switchPlatform","click .fn-notification-center":"onOpenNotificationCenter","click .fn-hotjar":"openHotjarFeedback"})},timingMs:200,isOpened:!1,menuShown:!1,fastShown:!1,initialize:function(){var e=this;r.prototype.initialize.apply(this,arguments),this.onResizeWindow=o.debounce((function(){e.renderNotificationCenter()}),300),this.listenTo(a,"user:info",this.renderLoggedUserHeader),this.listenTo(a,"user:logout",this.render),this.listenTo(a,"user:change:userData",o.debounce(this.renderOnUserDataChange,0)),this.listenTo(a,"user:change:firstDeposit",this.renderOnUserDataChange),this.listenTo(a,"mobile:header:update",this.updateTab),this.listenTo(a,"ui:show-search",this.showSearchButton),this.listenTo(f,"change:metaTraderEnabled",this.visibilityMetaTraderItem),this.listenTo(a,"ui:mt4",this.onMetaTraderClick),this.listenTo(E,"change:hasBonuses",this.showBonusesMenuItem),this.listenTo(a,"ui:metatrader",this.onMetaTraderClick),this.listenTo(a,"user:leverage:updated",this.visibilityLeverageSettings),this.listenTo(a,"funds:deposit:success",this.renderNavigationBox),window.addEventListener("resize",this.onResizeWindow),this._getNotificationCenterTargetHeader=function(){return e.$(".topmenu-notification-center")[0]},this._getNotificationCenterTargetMenu=function(){return e.$(".navigation-button>.icon-menu")[0]},this._getBonusProgressBarTargetHeader=function(){return e.$(".topmenu-bonus-progress-bar")[0]},this._getXraySession=function(){return e.$(".topmenu-xray-session")[0]},this._getMultiCharts=function(){return e.$(".topmenu-multi-charts")[0]},s.isLoggedIn()||this.render(),this.isQuantRanksAccount=K(store.getState())},visibilityLeverageSettings:function(){var e=this.$("#item-leverage-settings");s.getUserLeverageLevels().canChangeLeverage()?e.removeClass("hidden"):e.addClass("hidden")},visibilityMetaTraderItem:function(){var e=this.$(".item-metatrader");f.isMetaTraderVisible()?e.removeClass("hidden"):e.addClass("hidden")},changeTheme:function(e){var t=this.$el.find('.themes-switcher input[type="checkbox"]')[0],n=e.currentTarget.dataset.switcher;n&&(t.checked="1"===n),g.change(t.checked?1:0,!0)},renderLoggedUserHeader:function(){return this.render(),this.$el.addClass("header-box--logged-in"),this.renderActiveBonusProgressBar(),this.isQuantRanksAccount||this.checkWebinars(),this},renderOnUserDataChange:function(e){if(!o.isUndefined(e)){if(o.isUndefined(this.customerLevelGoalAlert)&&!o.isUndefined(e.customerLevelGoalAlert))return this.render(),void(this.customerLevelGoalAlert=e.customerLevelGoalAlert);this.customerLevelGoalAlert=e.customerLevelGoalAlert,this.renderNavigationBox()}},render:function(){this.destroyNotificationCenter(),this.destroyXRaySession(),this.destroyMultiCharts(),this.$el.html(k()),this.renderNavigationBox();var e=document.documentElement.getAttribute("theme");if(e){var t=this.$el.find('.theme[data-theme="'+e+'"]');if(t.length>0&&t.addClass("active"),this.$el.find('.themes-switcher input[type="checkbox"]').length>0){var n=this.$el.find(".themes-switcher"),i=n.find('[data-theme="'+e+'"]')[0],r=h(i).attr("data-switcher");n.find('input[type="checkbox"]')[0].checked="1"===r}}return O.render(w.createElement(T,{store:store},w.createElement(A,null)),this.$(".header__left-action")[0]),O.render(w.createElement(T,{store:store},w.createElement(I,{mobile:!0},w.createElement("div",null,w.createElement(x,null)))),this.$(".header-tab-box")[0]),this},renderActiveBonusProgressBar:function(){d.isBonusesEnabled()&&s.isLoggedIn()&&!c.mobile()&&O.render(w.createElement(T,{store:store},w.createElement($,null)),this._getBonusProgressBarTargetHeader())},renderNavigationBox:function(){this.destroyNotificationCenter(),this.destroyXRaySession(),this.destroyMultiCharts();var e=!p.LOW_SCORE()||!p.FULL_REGISTRATION_COMPLETED(),t=s.getPersonalData(),n=s.getUserAccountData(),i=s.getUserCommonData(),r=t.firstName&&t.lastName?m(t.firstName+" "+t.lastName,25,"."):s.getUserInfoModel().getFullName(25,"."),a=s.isCustomerLevelGoalAlert(),u=n.currency?s.getUserCurrencySymbol():"",f=a?L(s.getUserTotalDeposits()).formatForeignCurrency(u).split(".")[0]:"",h=a?L(s.getMarketxThreshold()).formatForeignCurrency(u).split(".")[0]:"",v=a?L(s.getAdditionalDepositForMarketX()).formatForeignCurrency(u).split(".")[0]:"",b=!s.isSwitchToLiveEnabled();if(this.$(".navigation-box").html(P({isSessionDetected:s.getSessionModel().isDetected(),isLoggedIn:s.isLoggedIn(),userInfo:s.getUserInfoModel(),userModel:s,lang:l.getLanguage(),languages:o.without(l.getLanguages(),l.getLanguage()),allLanguages:l.getLanguages(),MAX_NAME_FIELD_LENGTH:25,isPlatformSwitchAllowed:e,device:c,userName:r,totalDeposits:f,marketxThreshold:h,promotionTooltip:__("promotion.bar.marketsx.tooltip",v),showPromotionBar:a&&!s.isEligibleForMarketsX()&&s.getAdditionalDepositForMarketX()>0,themes:g.switcherConfig,isThemesEnabled:g.isEnabled(),settings:d,isAdvancedTradingView:i.isAdvancedTradingView(),isFullRegistrationCompleted:s.isFullRegistrationCompleted(),showAccountSettingLeverage:!this.isQuantRanksAccount&&Y(store.getState()),isMarketsXEnable:s.getUserLevelsModel().isEnable(),isMarketsX:s.getUserLevelsModel().isMarketsX(),isMarketsXCampaign:s.getUserLevelsModel().isMarketsX()||s.isPromotionMarketsX()||S.isMarketsX(),isLowScore:p.LOW_SCORE(),isLiveAccount:d.isLive(),userTimezoneOffset:i.getUserTimezoneObject().gmt,accountSwitcherDisabled:b,isPlatformSwitcherVisible:!this.isQuantRanksAccount&&i.isAdvancedTradingView()&&(c.desktop()||c.tablet()||c.mobile()&&window.innerWidth>=H),isQuantRanksAccount:this.isQuantRanksAccount})),this.visibilityMetaTraderItem(),this.isQuantRanksAccount||(this.visibilityTradingTools(),this.visibilityLeverageSettings(),this.visibilityReports()),s.isLoggedIn()&&i.isAdvancedTradingView()&&this.addChildView(".account-info",C),d.isNotificationCenterEnabled()&&this.renderNotificationCenter(),d.isHotjarMenuFeedbackEnabled()&&this.$(".item-hotjar").removeClass("hidden"),this.isQuantRanksAccount||(F===j.MARKETS&&this.renderXRaySession(),this.renderMultiCharts()),s.isLoggedIn()){var _=this.$el.find(".header__tooltip-container")[0];O.render(w.createElement(T,{store:window.store},w.createElement(X,{onVisibilityChange:function(){O.unmountComponentAtNode(_)}})),_)}},visibilityReports:function(){s.isLoggedIn()&&Q(window.store.getState())&&this.$(".portfolio-history").removeClass("hidden")},visibilityTradingTools:function(){if(s.isLoggedIn()){var e=this.visibilityFundamentalTradingTools(),t=this.visibilityTechnicalTradingTools(),n=this.visibilitySentimentTradingTools(),i=this.visibilityKnowledgeCenterTradingTools();(e||t||n||i)&&this.$(".topmenu-trading-tools").removeClass("hidden")}},visibilityFundamentalTradingTools:function(){var e=!1;return d.isTradingToolEnabled(M.EVENTS_AND_TRADE)&&(this.$(".tool-events-trade").removeClass("hidden"),e=!0),d.isTradingToolEnabled(M.PRICEALERTS)&&(this.$(".tool-price-alerts").removeClass("hidden"),e=!0),d.isTradingToolEnabled(M.FOREXLIVE)&&(this.$(".tool-commentary").removeClass("hidden"),e=!0),d.isTradingToolEnabled(M.NEWS_FEED)&&(this.$(".tool-news").removeClass("hidden"),e=!0),e&&this.$(".tools-topmenu-fundamental").removeClass("hidden"),e},visibilityTechnicalTradingTools:function(){var e=!1;return J.isAvailable()&&(this.$(".tool-trading-central").removeClass("hidden"),e=!0),d.isMultiChartsEnabled()&&(this.$(".tool-multi-charts").removeClass("hidden"),e=!0),e&&this.$(".tools-topmenu-technical").removeClass("hidden"),e},visibilitySentimentTradingTools:function(){var e=!1;return d.isTradingToolEnabled(M.INSIDERS)&&(this.$(".tool-insiders").removeClass("hidden"),e=!0),d.isTradingToolEnabled(M.ANALYST_RECOMMENDATIONS)&&(this.$(".tool-tipranks").removeClass("hidden"),e=!0),d.isTradingToolEnabled(M.BLOGGERS)&&(this.$(".tool-bloggers").removeClass("hidden"),e=!0),d.isTradingToolEnabled(M.HEDGEFUNDS)&&(this.$(".tool-hedgefunds").removeClass("hidden"),e=!0),d.isTradingToolEnabled(M.NEWS_SENTIMENT)&&(this.$(".tool-news-sentiment").removeClass("hidden"),e=!0),d.isTradingToolEnabled(M.ACUITY)&&(this.$(".tool-news-alerts").removeClass("hidden"),e=!0),e&&this.$(".tools-topmenu-sentiment").removeClass("hidden"),e},visibilityKnowledgeCenterTradingTools:function(){var e=!1;return d.isTradingToolEnabled(M.WEBINARS)&&(this.$(".tool-webinars").removeClass("hidden"),e=!0),d.isTradingToolEnabled(M.TUTORIAL_VIDEOS)&&(this.$(".tool-video-tutorials").removeClass("hidden"),e=!0),d.isEducationEnabled()&&(this.$(".tool-video-education").removeClass("hidden"),e=!0),d.isTradingToolEnabled(M.BLOG)&&(this.$(".tool-blog").removeClass("hidden"),e=!0),e&&this.$(".tools-topmenu-knowledge-center").removeClass("hidden"),e},processToolsForDepositors:function(){var e=this,t=s.getUserData().isFirstDeposit();d.getPremiumToolsBadge().forEach((function(n){var i=e.$el.find(".tool-"+n);i.hasClass("hidden")&&(i.removeClass("hidden"),t||(i.addClass("disabled"),i.attr("aria-label",__("available.for.depositors.tooltip"))))}))},stopPropagation:function(e){e.preventDefault(),e.stopPropagation()},updateTab:function(e){this.url=e.url},closeDesktopMenu:function(e){e.find(".submenu").css({display:"none"}),e.attr("data-submenu-shown",!1),h(document).off("click.closeMainDropdown")},closeAllDesktopMenus:function(){for(var e=this.$el.find("[data-submenu-shown=true]"),t=e.length-1;t>=0;t--)this.closeDesktopMenu(h(e[t]));window.store.dispatch(q(!1))},openDesktopMenu:function(e){this.closeAllDesktopMenus(),e.find(".submenu").css({display:"block"}),e.attr("data-submenu-shown",!0)},toggleDesktopMenu:function(e){var t=this,n=h(e.currentTarget).parent(),i=n.attr("data-submenu-shown");window.store.dispatch(R(!1)),"false"===i?(this.openDesktopMenu(n),h(document).on("click.closeMainDropdown",(function(e){t.closeDesktopMenu(n)}))):this.closeDesktopMenu(n)},toggleMobileMenu:function(){new(n(1843))},signout:function(e){a.trigger("ui:signout"),this.closeAllDesktopMenus()},showBackButton:function(){var e=this.$el.find(".fn-previous"),t=e.find(".icon"),n=e.find(".caption");e.removeClass("fn-open-instruments-tree"),t.removeClass("search").addClass("arrow"),n.html(__("header.home"))},showAllButton:function(){var e=this.$el.find(".fn-previous"),t=e.find(".icon"),n=e.find(".caption");e.removeClass("fn-open-instruments-tree").addClass("fn-close-instrument-details"),t.removeClass("search").addClass("arrow"),n.html(__("instrument.page.all"))},showSearchButton:function(){var e=this.$el.find(".fn-previous"),t=e.find(".icon"),n=e.find(".caption");e.addClass("fn-open-instruments-tree"),t.removeClass("arrow").addClass("search"),n.html("")},openInstrumentsTree:function(e){this._instrumentsTreePopupView||(this._instrumentsTreePopupView=new u({parent:h("body"),size:"mobile-tree"})),this.showBackButton(),this._instrumentsTreePopupView.show(),h(window).on("resize.menu",this.closeMobileMenu.bind(this))},closeMobileMenu:function(){this.el.offsetWidth>768&&this._instrumentsTreePopupView&&(this._instrumentsTreePopupView.hide(),h(window).off("resize.menu"))},setUserLang:function(e){e.preventDefault();var t=h(e.currentTarget).attr("data-lang");a.trigger("ui:change-language",t)},onDeposit:function(e){a.trigger("flow:deposit:RealDepositItemMainMenu"),this.closeAllDesktopMenus()},onWithdraw:function(e){a.trigger("ui:withdraw"),this.closeAllDesktopMenus()},onPrevious:function(e){this.openInstrumentsTree(e)},onBack:function(){a.navigate("/")},onVerify:function(e){a.trigger("flow:verify"),this.closeAllDesktopMenus()},openAccountSettings:function(e){a.trigger("ui:account-settings"),this.closeAllDesktopMenus()},onManageAccountsClick:function(e){a.trigger("ui:manage-accounts"),this.closeAllDesktopMenus()},openAccountLevelSettings:function(e){a.trigger("ui:account-settings","account-level"),this.closeAllDesktopMenus()},generateOpenUIEvent:function(e){a.trigger("ui:header-itemclick"),a.trigger(h(e.currentTarget).attr("data-ui")),this.closeAllDesktopMenus()},expanderMenu:function(e){var t=h(e.currentTarget);o.delay((function(){t.hasClass("opened")?t.removeClass("opened"):t.addClass("opened")}),1)},onMenuItemClick:function(e){var t=h(e.currentTarget).attr("data-ui"),n=!("ui:order-history"===t||"ui:closed-positions"===t);a.trigger("ui:header-itemclick",n),this.closeAllDesktopMenus()},openLeverageSettings:function(e){a.trigger("flow:leverage-settings"),this.closeAllDesktopMenus()},mobileLangSelect:function(e){a.trigger("ui:change-language",h(e.target).val())},getSetPasswordMessage:function(){return new v({parent:document.body,hideCancelButton:!1,confirmOKBtnText:__("new_account.login_link"),confirmCancelBtnText:__("cancel"),confirmCaption:""})},onMetaTraderClick:function(e){var t=this;this.confirmation().then((function(){if(d.isMetaTraderInternalEnabled())a.trigger("ui:open-metatrader","metatrader-accounts"),t.closeAllDesktopMenus();else{if(_.isExternalLoginDetected()){if(s.getExternalLogin()){var e=s.getCustomerId(),n=s.getEmail();return b.forgotPasswordById(e).then((function(){return a.trigger("ui:message-box",{text:__("mt4.password.need.reset",n),isHeaderShowed:!1,okBtnText:__("ok"),isShowCloseForMobile:!1})}))}return t.getSetPasswordMessage()}var i=s.getMetaTraderLink();i&&(r=null,(r=W(i)).focus&&r.focus())}var r}))},confirmation:function(){return y.isMetaTraderOpenRiskWarningRequired()?new Promise((function(e){a.trigger("ui:risk-warning",{regulation:"spanish",action:"trade",onOK:e})})):Promise.resolve()},checkWebinars:function(){var e=this;s.isLoggedIn()&&d.checkTradingToolEnabled(M.WEBINARS).then((function(t){t&&e.$el.find(".webinars").removeClass("hidden")}))},showBonusesMenuItem:function(){this.$el.find(".bonuses-menu").removeClass("hidden")},gotoByUrl:function(e){var t=h(e.currentTarget),n=t.attr("data-url"),i=window.location.hash;h(t.parent().closest("li")).hasClass("disabled")||(n&&i!==n&&(window.location.href=n,a.trigger("ui:header-itemclick")),this.closeAllDesktopMenus())},switchPlatform:function(){a.trigger("platform:switch:sync",d.isLive()?"demo":"live")},renderXRaySession:function(){var e=s.getUserCommonData().isAdvancedTradingView(),t=this._getXraySession();e&&c.desktop()&&O.render(w.createElement(T,{store:store},w.createElement(N,null)),t)},destroyXRaySession:function(){var e=this._getXraySession();O.findDOMNode(e)&&O.unmountComponentAtNode(e)},destroyNotificationCenter:function(){var e=this._getNotificationCenterTargetHeader(),t=this._getNotificationCenterTargetMenu();O.findDOMNode(e)&&O.unmountComponentAtNode(e),O.findDOMNode(t)&&O.unmountComponentAtNode(t)},renderNotificationCenter:function(){if(s.isLoggedIn()){var e=this._getNotificationCenterTargetHeader(),t=this._getNotificationCenterTargetMenu();z(),c.desktop()&&e&&O.render(w.createElement(T,{store:store},w.createElement(B,null)),e),c.desktop()||(t&&O.render(w.createElement(T,{store:store},w.createElement("span",null,w.createElement(U,null),w.createElement(V,null))),t),e&&O.render(w.createElement(T,{store:store},w.createElement(I,{minWidth:H-1},w.createElement(B,null))),e))}},renderMultiCharts:function(){var e=this._getMultiCharts();e&&(O.findDOMNode(e)&&O.unmountComponentAtNode(e),c.mobile()||O.render(w.createElement(T,{store:window.store},w.createElement(D,null)),e))},destroyMultiCharts:function(){var e=this._getMultiCharts();O.findDOMNode(e)&&O.unmountComponentAtNode(e)},onOpenNotificationCenter:function(){window.store.dispatch(q(!0))},openHotjarFeedback:function(){window.store.dispatch(G())}});i.exports=Z}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){(function(i,r){var o,s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};void 0===(o=function(e,t,i){var o=n(1),a=n(5),l=n(313),c=n(841),u=n(1818),d=n(20),p=o.template(n(1819)),f=n(6),h=n(26),m=n(46).setTradingSection,g=n(19),v=g.getInstrumentCategoryByPath,b=g.getInstrumentSymbolsCategoryByPath,_=n(59).sortInstrumentSymbols,y=n(0),E=n(4),S=E.Provider,C=E.connect,w=n(22),O=n(101).default,T=n(671).AdvancedCategoryInstrumentsMobile,P=n(672).BasicCategoryInstrumentsMobile,k=n(965).default,I=n(88).getTotalPositionsCount,A=n(109).getTotalOrdersCount;function x(e){return{totalPositionsCount:I(e),totalOrdersCount:A(e)}}var N=C(x)(T),D=C(x)(P),R=function(e){var t=e.symbols,n=e.defaultSymbol,i=e.open,r=e.title,o=e.onClose;if(!t)return null;var a=y.useState(n),l=s(a,2),c=l[0],u=l[1],d=y.useCallback((function(e,t){e.preventDefault(),u(t)}),[null,n]),p=f.getUserCommonData().isAdvancedTradingView();return y.createElement(O,{open:i},y.createElement(O.Nav,null,y.createElement(O.NavLeft,null,y.createElement("button",{onClick:o},y.createElement("span",{className:"popup-mobile__nav-rotate"},y.createElement("i",{className:"icon-view-details"})),"  ",__("actions.back"))),y.createElement(O.NavCenter,null,y.createElement("div",{className:"title"},r))),y.createElement(O.Body,null,y.createElement("div",{className:"pane pane__xfluid pane__yfluid pane__column"},y.createElement("div",{className:"pane pane__fluid"},p?y.createElement(N,{symbols:t,onRowClick:d}):y.createElement(D,{symbols:t,onRowClick:d})),y.createElement("div",{className:"pane"},y.createElement(k,{symbol:c})))))},L=d.extend({tagName:"div",className:"instruments-popup",events:{"click .close-icon":"clickHandle","click .instruments-popup-overlay":"clickHandle","touchstart .close-icon":"clickHandle","touchstart .instruments-popup-overlay":"clickHandle"},initialize:function(e){var t=this;o.extend(e,{overlayTranslucent:"1",position:"absolute popup-tree"}),d.prototype.initialize.call(this,e),this.render(),this.search=new l({el:this.$el.find(".instruments-popup-search"),onRowClick:function(e,n){t.removeSelectionFromMenu(),t.hide();var i=n.get("symbol");h.getInstrumentBySymbol(i)&&(store.dispatch(m()),a.trigger("ui:instrument",i,!0))}}),this.tree=new c({el:this.$el.find(".instruments-popup-tree"),collection:u}),this.listenTo(this.tree,"node:click",this.onTreeNodeClick),this.listenTo(a,"router:change:tab",this.hide),this.listenTo(a,"close:mobile:instruments:tree",(function(){a.trigger("ui:show-search"),t.hide()}));var n=f.getApplicationSettings().get("selectedCategoryPath");n||(n=h.getFirstCategory().path),this.openCategoryByPath(n)},render:function(){d.prototype.render.call(this),this.showOverlay(),this.$el.append(p())},close:function(){this.hideOverlay(),d.prototype.close.apply(this,arguments)},showOverlay:function(){var e=this.$el.find(".instruments-popup-overlay"),t=e.css("opacity");e.css("opacity",0),setTimeout((function(){e.css("opacity",t)}),0)},hideOverlay:function(){this.$el.find(".instruments-popup").css("opacity",0)},showFooter:function(){r("footer").removeClass("hidden")},hideFooter:function(){r("footer").addClass("hidden")},onTreeNodeClick:function(e){var t=this;"folder"!==e.type&&e.path!==f.getApplicationSettings().get("selectedCategoryPath")&&(this.removeSelectionFromMenu(),a.trigger("ui:show-search"),this.hide(),this.$el.one("transitionend",(function(){t.openInstrumentListPopup(e)})))},hide:function(){this.$el.removeClass("opened")},show:function(){this.$el.addClass("opened")},openCategoryByPath:function(e){this.removeSelectionFromMenu();var t=e?e.split("/"):"",n=v(store.getState(),e);if(n){var i=n._localizedNameKey,r=__(i);this.tree.openByPath(o.map(t,(function(e){return e.replace(new RegExp("_","g")," ")}))),a.trigger("mobile:header:update",{url:"trading",title:r,titleKey:i})}},clickHandle:function(e){a.trigger("ui:show-search"),e.preventDefault(),this.hide()},removeSelectionFromMenu:function(){this.$(".tree_node_selected").removeClass("tree_node_selected")},openInstrumentListPopup:function(e){this._selectedItem=e,this._isInstrumentListPopupOpen=!0,this.renderInstrumentListComponent(e)},closeInstrumentListPopup:function(){this._isInstrumentListPopupOpen=!1,this.renderInstrumentListComponent(this._selectedItem)},renderInstrumentListComponent:function(e){var t=this,n=window.store.getState(),i=e.path,r=b(n,i),s=_(n,r),a=v(n,i)||{},l=a._localizedNameKey,c=a.category,u=__(l),d=u!==l?u:c;w.render(y.createElement(S,{store:window.store},y.createElement(R,{symbols:s,open:this._isInstrumentListPopupOpen,title:d,defaultSymbol:o.first(s),onClose:function(){return t.closeInstrumentListPopup()}})),window._app.getPopupsPlaceholder()[0])}});i.exports=L}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){n(1);var r=n(24).Model.extend({defaults:{id:"",name:"",type:"",parentId:"",closed:!0},getId:function(){return this.get("id")},getChildren:function(){return this.collection.filter({parentId:this.getId()})}});i.exports=r}.call(t,n,t,e))||(e.exports=r)}).call(this,n(24))},function(e,t){e.exports="<div class=tree-container> <%=nodeTemplate({items: items, nodeTemplate: nodeTemplate})%> </div>"},function(e,t){e.exports="<% _.each(items, function(v, i, a) { %> <div class=\"node <%=(v.type ? v.type : '')%> <%=(v.closed ? 'closed' : '')%>\" data-id=\"<%=v.id%>\"> <div class=name> <div class=icon><%=(v.type == 'folder' ? '<i class=\"arrow\"></i>' : '')%></div> <% var nodeName = v.name; %> <% if (v.localizedNameKey) { %> <% var translated = __(v.localizedNameKey) %> <% nodeName = v.localizedNameKey !== translated ? translated : v.name; %> <% } %> <div class=text><%=nodeName%></div> </div> <% if (v.children) { %> <div class=children><%=nodeTemplate({items: v.children, nodeTemplate: nodeTemplate})%></div> <% } %> </div> <% }) %>"},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var o=n(842),s=n(26),a=n(1);var l=new o;function c(e){return a.map(e,(function(e){var t="",n=void 0,i=void 0,o=void 0,s=void 0;if(e instanceof r.Model?(n=e.getCategoryName(),i=!1,o=e.getName()):(n=e.category,i=e.elements,o=e.name||n,t=function(e){return"tab."+e.path.replace(new RegExp("/$"),"").replace("/","").split("/").map((function(e){return e.toLowerCase()})).join(".")}(e)),!i||a.isArray(i)&&0===i.length)return!1;s=c(i),s=a.filter(s,(function(e){return!!e}));var l={category:n,name:o=(o.charAt(0).toUpperCase()+o.slice(1)).replace(new RegExp("_","g")," "),localizedNameKey:t,children:s,close:!1,path:e.path,parentPath:e.parentPath,categoryId:e.id};a.isEmpty(s)&&delete l.children,l.children&&(l.type="folder");return/\w-\w/i.test(o)&&(l.closed=!0),l}))}function u(){var e=s.getData();e=c(e),l.set(e)}return s.on("update sync",u),u(),l}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(24))},function(e,t){e.exports='<div class=instruments-popup-overlay></div> <div class="instruments-popup-wrapper popup-tree popup-translucent-1"> <div class=instruments-popup-container> <div class="instruments-popup-content hidden-md hidden-lg"> <div class=close-icon><i class=icon-close-white></i></div> <div class=instruments-popup-search></div> <div class=instruments-popup-tree></div> </div> </div> </div>'},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();void 0===(i=function(e,t,i){var o=n(0),s=n(1824),a=n(641),l=n(973),c=n(26),u=n(6),d=n(15),p=n(33).default,f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));d(n);var i=n.props.model.get("symbol"),r=c.getInstrumentBySymbol(i);return n.state={symbol:i,instrument:r,isTradingOutOfTradingHoursIconEnabled:n.getTradingOutOfTradingHoursIconEnabled(r.status)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.subscribe(this.state.instrument)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(this.state.instrument)}},{key:"componentWillReceiveProps",value:function(e){e.model.get("symbol")!==this.state.symbol&&this.updateState(e)}},{key:"updateState",value:function(e){this.unsubscribe(this.state.instrument);var t=e.get("symbol"),n=c.getInstrumentBySymbol(t);this.setState({symbol:t,instrument:n,isTradingOutOfTradingHoursIconEnabled:this.getTradingOutOfTradingHoursIconEnabled(n.status)}),this.subscribe(this.state.instrument)}},{key:"unsubscribe",value:function(e){e.off("change:allowOrdersOutsideOfTradingHours",this.update,this),e.off("change:outOfMarketHours",this.update,this)}},{key:"subscribe",value:function(e){e.on("change:allowOrdersOutsideOfTradingHours",this.update,this),e.on("change:outOfMarketHours",this.update,this)}},{key:"getTradingOutOfTradingHoursIconEnabled",value:function(e){return u.getUserCommonData().isAdvancedTradingView()&&!p.mobile()&&e.canTradeOutsideOfTradingHours()}},{key:"update",value:function(){this.setState({isTradingOutOfTradingHoursIconEnabled:this.getTradingOutOfTradingHoursIconEnabled(this.state.instrument.status)})}},{key:"render",value:function(){return o.createElement("td",{className:this.props.className+" actions"},o.createElement("div",{className:"actions"},this.state.isTradingOutOfTradingHoursIconEnabled&&o.createElement("div",{className:"btn btn-icon","aria-label":__("icon.outside_of_trading_hours.tooltip")},o.createElement("div",{className:"icon-oth icon-out-of-trading-hours"})),o.createElement(a,{symbol:this.state.symbol}),!this.props.isHidePriceAlertsButton&&o.createElement(l,{model:this.props.model}),!this.props.isHideInstrumentInfoButton&&o.createElement(s,{model:this.props.model})))}}]),t}(o.Component);f.defaultProps={isHidePriceAlertsButton:!1,isHideInstrumentInfoButton:!1},i.exports=f}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();void 0===(i=function(e,t,i){var o=n(0),s=n(5),a=n(7),l=n(15),c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"onClick",value:function(){var e=this.props.model.get("instrumentSymbol");s.trigger("ui:instrument",e,!1,!0)}},{key:"render",value:function(){var e,t,n,i=this.props.className,r=a((n=!!i,(t=i)in(e={"icon-information":!0})?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e));return o.createElement("div",{onClick:this.onClick,className:"btn btn-icon"},o.createElement("div",{className:r}))}}]),t}(o.Component);c.defaultProps={model:""},i.exports=c}.call(t,n,t,e))||(e.exports=i)},function(e,t){e.exports='<div class="pane pane__scroll pane__xfluid pane__yfluid"> <div class="pane pane__scroll-content fn-price-alerts-content"></div> </div>'},function(e,t){e.exports='<span><%=__(\'mt4.enter.password\')%></span> <div class="auth-box metatrader-password"> <form class=login-form> <div class=auth-panel> <div class=form> <div class="auth-panel-password-field field input-field"> <input type=password id=account-password placeholder="<%=__(\'new_account.input.password.placeholder\')%>" maxlength=20 value=""> <i class="password-eye icon-eye-gray"></i> </div> <div class="container-fluid error-block"> <div class=row> <div class="col-sm-12 error-message"> <i class=icon-warning></i> <%=__(\'new_account.error_message\')%> </div> </div> </div> <div class=forgot-password><a href=# class=forgot-password-link><%=__(\'forgot_password.question\')%></a></div> </div> </div> </form> </div>'},function(e,t,n){"use strict";n.r(t),function(e){var i=n(0),r=n.n(i),o=n(22),s=n.n(o),a=n(4),l=n(20),c=n.n(l),u=n(1),d=n.n(u),p=n(6),f=n.n(p),h=n(5),m=n.n(h),g=n(73),v=n.n(g),b=n(9),_=n.n(b),y=n(124),E=n.n(y),S=n(227),C=n.n(S),w=n(33),O=n(187),T=n.n(O),P=n(118),k=n.n(P),I=n(89),A=n.n(I),x=n(390),N=n(106),D=n(63),R=n(959),L=n(27),M=d.a.template(n(583)),j=D.MARGIN_VALUES.MARGIN_LEVEL_1,F=D.MARGIN_VALUES.MARGIN_LEVEL_2,B=D.MARGIN_VALUES.LIQUIDATION_LEVEL,U=D.MARGIN_VALUES.LIQUIDATION_LEVEL_BUFFER,V=D.MARGIN_VALUES.MARGIN_LEVEL_OK,z=D.MARGIN_VALUES.CHECK_PENDING_DEPOSIT_INTERVAL,q=D.MARGIN_VALUES.CHECK_PENDING_DEPOSIT_FORCE_INTERVAL,H=D.MARGIN_VALUES.CHECK_PENDING_DEPOSIT_FORCE_MAX_COUNT,$=D.MARGIN_VALUES.RISK_LEVEL_MAX;function G(t){new E.a(d.a.extend({parent:e("body"),isHeaderShowed:!0,template:M,actions:{"fn-deposit":function(){return m.a.trigger("flow:deposit")},"fn-close-positions":d.a.partial(m.a.navigate,"/open-positions")}},t))}function W(){var e=f.a.getUserAccountMetricsModel().getRiskLevel();return e||(e=$),e>=V?V:F<e&&e<=j?j:B+10<e&&e<=F?F:B<=e&&e<=U?U:e<B?B:void 0}function Y(){var e=W();e===j&&G({caption:__("margin.level_1.popup.caption"),description:__("margin.level_1.popup.description")}),e<=F&&G({caption:__("margin.level_1.popup.caption"),description:__("margin.level_2.popup.description")})}n(849),t.default=c.a.extend({template:d.a.template(n(1828)),floatingTemplate:d.a.template(n(664)),className:"account-info-wrapper",_oldLevelRange:V,_liqudationRibbonNotificationId:null,_marginWarnRibbonNotificationId:null,_marginWarnRibbonPendingMessages:[],_marginWarnRibbonChangingMessage:!1,_fontSize:null,_pendingDepositCheckForced:!1,_pendingDepositCheckTimer:null,initialize:function(){c.a.prototype.initialize.apply(this,arguments),this.subscribeAndRender(),this.checkMarginLevel(!0)},subscribeAndRender:function(){var e=this;this.listenTo(m.a,"user:account-metrics",this.checkMarginLevel),this.listenTo(m.a,"stream:type:MESSAGE",(function(t){d.a.each(t,(function(t){t.type===x.MessageType.ORDER_LIQUIDATION&&e.onLiquidationMessage(__("margin.liquidation.popup.description"))}))})),m.a.onEvent("stream:opened",(function(){e.checkPendingDeposit(),e.startRegularCheck()})),this.listenTo(m.a,"user:balance:updated",(function(){e.checkPendingDeposit(),e.startRegularCheck()})),this.listenTo(m.a,"pending:deposit:updated",this.startRegularCheck),this.listenTo(m.a,"check:pending:deposit:force",this.startForcedCheck),this.render()},startForcedCheck:function(e){if(!this._pendingDepositCheckForced){this._pendingDepositCheckForced=!0,clearInterval(this._pendingDepositCheckTimer);var t=0,n=this;this._pendingDepositCheckTimer=setInterval((function(){t>=H?n.startRegularCheck():(n.checkPendingDeposit(),t++)}),e||q),this.checkPendingDeposit()}},startRegularCheck:function(){(this._pendingDepositCheckForced||d.a.isNil(this._pendingDepositCheckTimer))&&(clearInterval(this._pendingDepositCheckTimer),this._pendingDepositCheckTimer=setInterval(this.checkPendingDeposit.bind(this),z),this._pendingDepositCheckForced=!1)},notifyMarginLevel:function(){Y()},showMarginRibbon:function(e){C.a.hide(this._marginWarnRibbonNotificationId),this._marginWarnRibbonNotificationId=C.a.show(d.a.extend({type:"notify",message:__("margin.low_level.ribbon.message"),level:1800,onMoreClick:Y,hideDismiss:!0},e))},checkMarginLevel:function(e){if(!this.isQuantRanksAccount()&&!this._liqudationRibbonNotificationId){var t=W();if(t!==this._oldLevelRange){m.a.trigger("user:margin:level",t);var n=this._oldLevelRange;if(this._oldLevelRange=t,d.a.map(T.a.getAllInstruments(),(function(e){e.set({isMarginLevelLow:t<=F})})),t===B)return e?void this.onLiquidationMessage(0===A.a.length?__("margin.liquidation.login.popup.description",__("margin.liquidation.all.positions")):__("margin.liquidation.login.popup.description",__("margin.liquidation.part.positions"))):void this.onLiquidationMessage(__("margin.liquidation.popup.description"));if(t===U&&w.default.mobile())this.showMarginRibbon({type:"error",topic:N.TOPIC_NAMES.LIQUIDATION_LEVEL_BUFFER,level:1900});else if(t===j&&w.default.mobile()){if(n===F)return;this.showMarginRibbon({topic:N.TOPIC_NAMES.MARGIN_LEVEL_1})}else if(t===F&&w.default.mobile()){if(n===j)return;this.showMarginRibbon({topic:N.TOPIC_NAMES.MARGIN_LEVEL_2})}else this._marginWarnRibbonNotificationId&&(C.a.hide(this._marginWarnRibbonNotificationId),this._marginWarnRibbonNotificationId=null)}}},render:function(){return s.a.render(r.a.createElement(a.Provider,{store:store},r.a.createElement(R.a,null)),e(".account-info")[0]),this},onLiquidationMessage:function(e){var t=this;this.isQuantRanksAccount()||this._liqudationRibbonNotificationId||(this._liqudationRibbonNotificationId=C.a.show({message:__("margin.liquidation.popup.caption"),type:"error",topic:N.TOPIC_NAMES.LIQUIDATION_LEVEL,level:2e3,onMoreClick:function(){return new k.a({parent:document.body,confirmCaption:__("margin.liquidation.popup.caption"),confirmMessage:__(e),confirmOKBtnText:__("Ok"),hideCancelButton:!0,isHeaderShowed:!1,maxBoxWidth:"30em",onOK:function(){C.a.hide(t._liqudationRibbonNotificationId),t._liqudationRibbonNotificationId=null}})},hideDismiss:!0}))},checkPendingDeposit:function(){var e=this;f.a.isFirstDeposit()&&f.a.updateUserPendingDeposit().then((function(){var t=f.a.getUserPendingDeposit();if(d.a.isNumber(t))if(t>0&&_.a.isLive()){!1===f.a.isFirstDeposit()&&(f.a.setFirstDeposit(!0),m.a.trigger("sm","deposit_successful"),m.a.trigger("funds:deposit:success"));var n=v()(t).formatForeignCurrency(f.a.getUserCurrencySymbol());w.default.mobile()&&!e._pandingRibbonNotificationId&&(e._pandingRibbonNotificationId=C.a.show({message:__("accountInfo.pendingDeposit")+": "+n,type:"pending-deposit",topic:N.TOPIC_NAMES.PENDING_DEPOSIT,level:900,persist:!0,onClick:e.onMoreClick.bind(e),showMore:!1,hideDismiss:!0,showWarning:!1}))}else e._pandingRibbonNotificationId&&(e._pandingRibbonNotificationId=null,C.a.hide(e._pandingRibbonNotificationId))}))},onMoreClick:function(){var e=v()(f.a.getUserPendingDeposit()).formatForeignCurrency(f.a.getUserCurrencySymbol());new k.a({parent:document.body,confirmCaption:__("accountInfo.pendingDeposit"),confirmMessage:__("accountInfo.pendingDeposit.message",e),confirmOKBtnText:__("actions.verify"),confirmCancelBtnText:__("actions.close"),onOK:function(){m.a.trigger("flow:verify")},onCancel:function(){}})},isQuantRanksAccount:function(){return Object(L.isUserLoggedInQuantRankAccount)(window.store.getState())}})}.call(this,n(12))},function(e,t){e.exports='<div class="account-info-list bg-lighter"> <div class=list-toggle> <span class=list-toggle__icon></span> </div> <div class="list flex flex-valign-center"> <div class="flex flex-column flex-valign-center"> <div class="flex flex-row flex-valign-center"> <div class="item pending-deposit-message hidden"> <div class=content> <div class=header><i class=icon-warning-red></i><%=__(\'accountInfo.pendingDeposit\')%></div> <div class="body amount"></div> </div> </div> <div class=item> <div class=content aria-label="<%=__(\'help.account.balance\')%>" data-tooltip-align=bottom> <div class=header><%=__(\'accountInfo.cash\')%></div> <div class=body data-id=balance id=advanced-balance-value><%=balance%></div> </div> </div> <div class=item> <div class=content aria-label="<%=__(\'help.account.equity\')%>" data-tooltip-align=bottom> <div class=header><%=__(\'accountInfo.equity\')%></div> <div class=body data-id=equity id=advanced-equity-value><%=equity%></div> </div> </div> <div class=item> <div class=content aria-label="<%=__(\'help.account.free_margin\')%>" data-tooltip-align=bottom> <div class=header><%=__(\'accountInfo.freeMargin\')%></div> <div class=body data-id=buyingPower id=advanced-free_margin-value><%=buyingPower%></div> </div> </div> <div class=item> <div class=content aria-label="<%=__(\'help.account.used_margin\')%>" data-tooltip-align=bottom> <div class=header> <%=__(\'accountInfo.usedMargin\')%> <span data-id=riskLevel class="<%=risk_level_class%>"><span><%= riskLevel ? riskLevel : \'N/A\' %></span></span> </div> <div class=body data-id=margin id=advanced-used_margin-value> <%=marginUsed%> </div> </div> </div> <div class=item> <div class=content aria-label="<%=__(\'help.account.open_p_l\')%>" data-tooltip-align=bottom> <div class=header><%=__(\'indigo.position.form.p_l\')%></div> <div data-id=profitLoss class="body pl_value <%= profitLossPositive ? \'up\' : \'down\' %>" id=advanced-profit_loss-value><%=profitLoss%> </div> </div> </div> <div class="item item--poor item--pointer ui-funds-management"> <div class="icon icon-arrow-down-white"></div> </div> </div> </div> </div> </div> '},function(e,t){e.exports="<div class=\"navigation-panel <%=isMarketsX ? 'navigation-panel--premium' : '' %>\"> <% if (!device.mobile() && isSessionDetected && !isLoggedIn && isThemesEnabled) { %> <div class=themes-switcher> <div class=themes-holder> <span data-theme=\"<%-themes[0]%>\" data-switcher=0><%-__('themes.label.' + themes[0])%></span> <div><input type=checkbox id=switch /><label for=switch /></div> <span data-theme=\"<%-themes[1]%>\" data-switcher=1><%-__('themes.label.' + themes[1])%></span> </div> </div> <% } %> <ul class=\"navigation-menu hidden-xs hidden-sm hidden-md\"> <% if (isSessionDetected && device.desktop() && !isLoggedIn) {%> <li class=\"dropdown lang\" data-submenu-shown=false> <a href=# class=fn-toggle-desktop-menu> <span class=\"<%='icon-lang-' + lang%>\"></span> <span><%=__('language.' + lang)%></span> <i class=icon-arrow-down-white-new></i> </a> <ul class=submenu> <% for(var lg in languages) { %> <li> <a href=# class=fn-set-lang data-lang=\"<%=languages[lg]%>\"> <span class=lang-container> <span class=\"<%='icon-lang-' + languages[lg]%>\"></span> <span><%=__('language.' + languages[lg])%></span> </span> </a> </li> <% } %> </ul> </li> <% } %> <% if (isLoggedIn && isSessionDetected) { %> <% var accountCode = userModel.getUserName(); %> <% var accountCurrency = userModel.getUserCurrencySymbol() %> <% var tradingType = __('accountInfo.type.' + userModel.getTradingType()) %> <% if(settings.isBonusesEnabled()) { %> <li class=topmenu-bonus-progress-bar></li> <% } %> <% if(!isQuantRanksAccount) { %> <li class=topmenu-multi-charts></li> <li class=topmenu-xray-session></li> <% } %> <% if (settings.isNotificationCenterEnabled()) { %> <li class=topmenu-notification-center></li> <% } %> <% if(!isQuantRanksAccount) { %> <li class=\"dropdown hint topmenu-trading-tools hidden\" data-submenu-shown=false> <a href=# class=fn-toggle-desktop-menu> <i class=\"icon-trading-tools-header-ico fs-21\"></i> </a> <ul class=\"submenu submenu--trading-tools submenu--min-width\"> <li class=trading-tools-title><%=__('tab.trading_tools')%></li> <li class=\"expend-menu fn-expander tools-topmenu-fundamental hidden\"> <a href=#><span><i class=expand-arrow></i><%=__('topmenu.fundamental')%></span></a> <ul> <li class=\"tool-events-trade hidden\"> <a href=# data-url=#events-and-trade><%=__('tab.financial_events')%></a> </li> <li class=\"tool-price-alerts hidden\"> <a href=# data-url=#price-alerts><%=__('tab.price-alerts.caption')%></a> </li> <li class=\"tool-commentary hidden\"> <a href=# data-url=#commentary><%=__('tab.commentary')%></a> </li> <li class=\"tool-news hidden\"> <a href=# data-url=#news><%=__('tab.news')%></a> </li> </ul> </li> <li class=\"expend-menu fn-expander tools-topmenu-technical hidden\"> <a href=#><span><i class=expand-arrow></i><%=__('topmenu.technical')%></span></a> <ul> <% if (device.desktop()) { %> <li class=\"tool-trading-central hidden\"> <a href=# data-ui=ui:trading-central><%=__('trading.central.study.title')%></a> </li> <% } %> <li class=\"tool-multi-charts hidden\"> <a href=#multi-charts data-url=#multi-charts><p><%=__('tab.multi_charts')%></p></a> </li> </ul> </li> <li class=\"expend-menu fn-expander tools-topmenu-sentiment hidden\"> <a href=#><span><i class=expand-arrow></i><%=__('topmenu.sentiment')%></span></a> <ul> <li class=\"tool-insiders hidden\"> <a href=# data-url=#insiders><%=__('tab.insiders')%></a> </li> <li class=\"tool-tipranks hidden\"> <a href=# data-url=#analyst><%=__('tab.analyst_recommendations')%></a> </li> <li class=\"tool-bloggers hidden\"> <a href=# data-url=#bloggers><%=__('tab.bloggers')%></a> </li> <li class=\"tool-hedgefunds hidden\"> <a href=# data-url=#hedgefunds><%=__('tab.hedgefunds')%></a> </li> <li class=\"tool-news-sentiment hidden\"> <a href=# data-url=#news-sentiment><%=__('tab.news_sentiment')%></a> </li> <li class=\"tool-news-alerts hidden\"> <a href=# data-url=#news-alerts><%=__('tab.acuity')%></a> </li> </ul> </li> <li class=\"expend-menu fn-expander tools-topmenu-knowledge-center hidden\"> <a href=#><span><i class=expand-arrow></i><%=__('topmenu.knowledge_center')%></span></a> <ul> <li class=\"tool-webinars hidden\"> <a href=# class=fn-webinars data-url=#webinars><%=__('menu.webinar')%></a> </li> <li class=\"tool-video-tutorials hidden\"> <a href=# data-ui=ui:tutorials><%=__('hint.video_tutorials')%></a> </li> <li class=\"tool-video-education hidden\"> <a href=# data-ui=ui:education><%=__('hint.video_education')%></a> </li> <li class=\"tool-blog hidden\"> <a href=# data-url=#blog><%=__('tab.blog')%></a> </li> </ul> </li> </ul> </li> <% } %> <li class=navigation-menu__separator><i></i></li> <li class=\"dropdown my-account\" data-submenu-shown=false> <a class=\"fn-toggle-desktop-menu <%=isMarketsXCampaign ? 'premium-name' : ''%>\" href=#> <span> <span class=account-type> <%= tradingType %> <%if(!isQuantRanksAccount){%> <%if (settings.isLive()){ %> <%=__('accountInfo.button.real')%> <%} else {%> <%=__('accountInfo.button.demo')%> <%}%> <%}%> </span> <span class=scroll-full-name> <span><%= isMarketsXCampaign ? 'markets' : __('my_account')%></span> </span> </span> <i class=\"icon icon-arrow-down-white-new\"></i> </a> <ul class=submenu> <li> <div class=\"<%=isMarketsX ? 'premium-user' : 'user'%>\"> <div class=top> <div class=timezone> <i class=\"icon icon-timezone-light\"></i> <%=userTimezoneOffset%> </div> <span class=fn-user-signout> <span><%=__('sign_out')%><i class=\"icon icon-signout-light\"></i></span> </span> </div> <div class=middle> <div class=name><%=userName ? userName : ''%></div> <div class=email><%=tradingType%> <%=accountCode%> (<%=accountCurrency%>)</div> </div> <div class=bottom> <% if (isPlatformSwitchAllowed) { %> <div class=\"btn btn-primary fn-deposit fn-menu-item\"> <div class=button-container> <span><%=__('funds.add_funds.title')%></span> </div> </div> <% if (settings.isLive()) { %> <div class=\"btn btn-primary fn-withdraw fn-menu-item\"> <div class=button-container> <span><%=__('actions.withdraw')%></span> </div> </div> <% } %> <% } %> </div> </div> <% if(showPromotionBar) {%> <div class=promotion-bar data-tooltip-align=left aria-label=\"<%=promotionTooltip%>\"> <span><%=__('promotion.bar.pending')%></span> <span class=amount> <%=totalDeposits%> / <%=marketxThreshold%> </span> </div> <% } %> </li> <% if (settings.isManageAccountsEnabled() && (!isFullRegistrationCompleted || !isLowScore)) {%> <li> <a class=\"fn-menu-item fn-open-manage-accounts\"> <span><%=__('manage_accounts.title')%></span> </a> </li> <% } %> <li class=\"<%= accountSwitcherDisabled ? 'hidden' : '' %>\"> <a class=\"fn-verify fn-menu-item\" href=#> <span><%=__('verification_center.popup.title')%></span> </a> </li> <li> <a href=# class=\"fn-menu-item fn-open-account-settings\"> <span><%=__('account_settings.popup.title')%></span> </a> </li> <% if (isFullRegistrationCompleted) { %> <% if (false && isMarketsXEnable && !isLowScore && isLiveAccount) { %> <li> <a href=# class=\"fn-menu-item fn-open-account-level-settings\"> <span><%=__('account_settings.account-level.menu.title')%></span> </a> </li> <% } %> <% if (isPlatformSwitchAllowed && showAccountSettingLeverage) { %> <li id=item-leverage-settings> <a href=# class=\"fn-menu-item fn-open-leverage-settings\"> <span><%=__('account_settings.update_leverage.menu.title')%></span> </a> </li> <% } %> <% } %>  <% if(!isQuantRanksAccount) { %> <li class=\"expend-menu fn-expander\"> <a> <span><i class=expand-arrow></i><%=__('topmenu.reports')%> </span> </a> <ul> <li> <a href=# class=fn-menu-item data-ui=ui:account-statement> <%=__('report')%> </a> </li> <li> <a class=fn-menu-item data-ui=ui:closed-positions> <%=__('tab.closed_positions')%> </a> </li> <li> <a class=fn-menu-item data-ui=ui:order-history> <%=__('order.history.cancelled_orders')%> </a> </li> <li> <a class=\"fn-menu-item portfolio-history hidden\" data-ui=ui:portfolio-statement> <%=__('portfolio.history.title')%> </a> </li> </ul> </li> <% } else {%> <li> <a class=\"fn-menu-item portfolio-history\" data-ui=ui:portfolio-statement> <%=__('portfolio.history.title')%> </a> </li> <% }%> <li class=\"bonuses-menu hidden\"> <a href=# class=\"fn-menu-item fn-bonuses\" data-ui=ui:menu:bonuses> <span><%=__('bonus.menu.title')%></span> </a> </li> <li class=\"expend-menu fn-expander\"> <a> <span><i class=expand-arrow></i><%=__('support')%> </span> </a> <ul> <li> <a href=# class=fn-menu-item data-ui=ui:contact-us> <%=__('contact_support')%> </a> </li> <li> <a href=# class=fn-menu-item data-ui=ui:help-center> <%=__('faq.menu.title')%> </a> </li> <% if (settings.isLiveChatEnabled()) { %> <li class=\"<%if(isMarketsX){%>vip-support<%}%>\"> <a href=# class=fn-menu-item data-ui=ui:need-help-menu> <%= isMarketsX ? __('marketsX.live.chat') : __('live-chat') %> </a> </li> <% } %> <% if(settings.isCompliantMenuEnabled()) { %> <li> <a href=# class=fn-menu-item data-ui=ui:file-compliant> <%=__('help_complaint.menu')%> </a> </li> <% } %> <li> <a href=# class=fn-menu-item data-ui=ui:legal-documents> <%=__('legal_documents')%> </a> </li> <% if (settings.isTradingAnnouncementEnabled()) { %> <li> <a href=# class=fn-menu-item data-ui=ui:trading-announcement> <%=__('trading_announcement')%> </a> </li> <% } %> </ul> </li> <% if (isMarketsX) {%> <li class=\"vip-support vip-support-menu-item hidden\"> <a href=# class=fn-menu-item> <span class=vip-support__text> <span><%= __('marketsx.premium.phone') %></span> <span class=premium-support-phone-value></span> </span> </a> </li> <% } %> <li class=\"item item-hotjar hidden\"> <a class=\"fn-menu-item fn-hotjar\"> <span><%=__('feedback')%></span> </a> </li> <li class=\"item-metatrader hidden\"> <a class=\"fn-menu-item fn-metatrader-link\"> <span><%=__('mt4_accounts')%></span> </a> </li> <% if (isPlatformSwitcherVisible) {%> <li class=\"<%= accountSwitcherDisabled ? 'disabled-block' : '' %>\"> <a class=platform-switcher href=#> <span><%= settings.isLive() ? __('switch_to_practice') : __('switch_to_real') %></span> </a> </li> <% } %> </ul> </li> <% } %> </ul> <% if (!isLoggedIn && isSessionDetected && (device.mobile() || device.tablet())) { %> <div class=mobile-lang-switch> <ul class=navigation-menu> <li class=\"dropdown lang\"> <a href=# class=no-action> <span class=\"<%='icon-lang-' + lang%>\"></span> <i class=\"icon icon-arrow-down-white-new-new\"></i> </a> </li> </ul> <select class=mobile-dropdown-lang> <% for(var lg in allLanguages) { %> <option value=\"<%=allLanguages[lg]%>\" <% if(allLanguages[lg] == lang) {%> selected=selected <%}%>><%=__('language.' + allLanguages[lg])%></option> <% } %> </select> </div> <% } else if (isSessionDetected && device.desktop() && !isLoggedIn) { %> <div class=\"dropdown lang lang-desktop hidden-lg\" data-submenu-shown=false> <a href=# class=fn-toggle-desktop-menu> <span class=\"<%='icon-lang-' + lang%>\"></span> <i class=icon-arrow-down-white-new-new></i> </a> <ul class=submenu> <% for(var lg in languages) { %> <li> <a href=# class=fn-set-lang data-lang=\"<%=languages[lg]%>\"> <span class=lang-container> <span class=\"<%='icon-lang-' + languages[lg]%>\"></span> <span><%=__('language.' + languages[lg])%></span> </span> </a> </li> <% } %> </ul> </div> <% } %> <div class=\"navigation-menu-xs visible-xs visible-sm visible-md\"> <% if (isLoggedIn && isSessionDetected) { %> <div class=\"navigation-button btn fn-toggle-mobile-menu\"> <i class=icon-menu></i> </div> <div class=\"navigation-overlay fn-toggle-mobile-menu\"></div> <div class=navigation-container> </div> <% } %> </div> </div> "},function(e,t){e.exports='<div class="header-panel relative"> <div class=logotype-box></div> <div class=header__left-action></div> <div class=notification-box-container> <div class="notification-box hidden-xs hidden-sm hidden-md"></div> <div class="active-bonus-panel hidden"></div> </div> <div class="account-info hidden-xs hidden-sm hidden-md"></div> <div class="header-tab-box visible-xs visible-sm visible-md fn-header-tab-box"> </div> <div class=navigation-box></div> <div class=header__tooltip-container></div> </div> '},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i);t.default=function(){return r.a.createElement("div",{className:"logotype-box"},r.a.createElement("div",{className:"logotype"}))}},function(e,t,n){},,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(1837);var i=n(24),r=n(5),o=n.n(r),s=n(0),a=n.n(s),l=n(316),c=n(3),u=n(46),d=n(4),p=n(59),f=n(15),h=n.n(f),m=n(7),g=n.n(m),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return h()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),v(t,[{key:"onClick",value:function(){var e=i.history.fragment,t=!this.props.isMultiChartsEnabled;if(e===c.UI_SECTION_PRICE_ALERTS)return this.props.setMultiChartsEnabled(!0),void this.props.navigateSection(c.UI_SECTION_FEATURED);this.props.setMultiChartsEnabled(t),t?o.a.navigate("/"+c.MULTI_CHARTS_PATH+"/"+e,{trigger:!0}):o.a.navigate(e.substr(c.MULTI_CHARTS_PATH.length),{trigger:!0})}},{key:"render",value:function(){var e=g()({"cursor--pointer fs-17 icon-multicharts":!0,"text-primary":this.props.isMultiChartsEnabled});return a.a.createElement(l.a,{className:"multi-charts-tooltip",placement:"bottom",trigger:"hover",tooltip:a.a.createElement("div",{className:"fs-12 pane pane__column multi-charts-tooltip-container"},a.a.createElement("div",{className:"multi-charts-tooltip__title"},__("tab.multi_charts")),a.a.createElement("div",null,__("tab.multi_charts.description")))},a.a.createElement("span",{className:e,onClick:this.onClick}))}}]),t}(s.PureComponent);t.default=Object(d.connect)((function(e){return{isMultiChartsEnabled:Object(p.isMultiChartsEnabled)(e)}}),(function(e){return{setMultiChartsEnabled:function(t){e(Object(u.setMultiChartsEnabled)(t))},navigateSection:function(t){e(Object(u.navigateSection)(t))}}}))(b)},function(e,t,n){},function(e,t,n){e.exports=n.p+"./images/828128d7e6da.svg"},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(4),s=n(5),a=n.n(s),l=n(12),c=n.n(l),u=n(71),d=n(33),p=n(3),f=n(15),h=n.n(f),m=n(50),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var v=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.prevIsOpenState=!1,o.isPrevOrientationPortrait=void 0,o.state={isPortrait:void 0},h()(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),g(t,[{key:"componentDidMount",value:function(){c()(window).on("resize",this.onResize)}},{key:"componentWillUnmount",value:function(){c()(window).off("resize",this.onResize),a.a.trigger("ui:notification-center:close")}},{key:"onResize",value:function(){this.setState({isPortrait:u.default.portrait()})}},{key:"isHeaderInMobileView",value:function(){return d.default.mobile()||d.default.tablet()&&(u.default.portrait()||window.innerWidth<p.BREAKPOINT_SCREEN_LG_MAX)}},{key:"shouldComponentUpdate",value:function(e,t){return(this.isPrevOrientationPortrait!==t.isPortrait||e.isOpened!==this.props.isOpened&&this.prevIsOpenState!==e.isOpened)&&(this.prevIsOpenState=e,this.isPrevOrientationPortrait=t.isPortrait,e.isOpened&&this.isHeaderInMobileView()?a.a.trigger("ui:notification-center:open"):a.a.trigger("ui:notification-center:close"),!1)}},{key:"render",value:function(){return null}}]),t}(r.a.Component);t.default=Object(o.connect)((function(e){return{isOpened:Object(m.l)(e)}}))(v)},function(e,t,n){e.exports=n.p+"./images/863805567bd5.svg"},function(e,t){e.exports='<div class=active-bonus> <div class=bonus-icon> <div class=icon-bonuses-white></div> </div> <div class=bonus-amount><%= amount %></div> <div class=bonus-progress> <div class=progress-bar> <div class=progress-bar-fill style="width: <%= progressPercent %>%"><img class=progress-bar-fill__icon src="<%=indicatorIcon%>"/></div> </div> <div class=points> <div class=current-points style="width: <%= (progressPercent + 3) %>%"> <% if(currentPoints > 0) { %> <div>0</div> <div class="current-points__value <%if (currentPoints < 10 || (currentPoints > targetPoints - 10)){%>current-points__space<%}%>"><%= currentPoints%></div> <% } else { %> <div class=current-points__value>0</div> <% } %> </div> <div><%= targetPoints%></div> </div> </div> </div>'},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(208),s=n(55),a=n(316),l=n(4),c=n(6),u=n.n(c),d=n(1),p=n.n(d),f=n(27),h=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=Object(l.connect)((function(e){var t=u.a.getUserCommonData().getShowTooltipStatus();return{shouldShow:Object(f.isUserLoggedInQuantRankAccount)(e)&&!Object(s.getSettingValueByKey)(e,"isAccountSwitchTooltipShown")||t}}),(function(e){return{hideTooltip:function(){u.a.getUserCommonData().saveShowTooltipStatus(!1),e(Object(o.saveSettingsByKey)("isAccountSwitchTooltipShown",!0)),e(Object(o.saveSettingsByKey)("createdNewAccountTypeStatus",!1))}}}))((function(e){var t=e.shouldShow,n=e.hideTooltip,i=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["shouldShow","hideTooltip"]),o=r.a.useState(t),s=h(o,2),l=s[0],c=s[1],u=r.a.useCallback((function(){c(!1),n(),p.a.result(i,"onVisibilityChange")}));return t?r.a.createElement(a.a,{placement:"bottom",trigger:"none",tooltipShown:l,tooltip:r.a.createElement("div",{onClick:u,className:"max-w-xs p-10 fs-12 cursor--pointer"},__("account.switch.tooltip.text"))},r.a.createElement("span",null)):null}))},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var r=n(12),o=n(1),s=n(804),a=(n(841),n(5)),l=(n(89),n(103)),c=n(8),u=n(6),d=n(73),p=n(33).default,f=n(71).default,h=n(9),m=n(102),g=n(212),v=n(54),b=n(377),_=n(266),y=n(380),E=n(848),S=n(1e3),C=n(457),w=n(322).SECTION,O=n(569).default,T=n(0),P=n(22),k=n(481).default,I=n(39).setOpenPopupState,A=n(4).Provider,x=n(223).hotjarTryToOpenFeedbackForm,N=n(126).default,D=n(3).TRADING_TOOLS,R=n(101).default,L=n(850).default,M=n(879).default,j=n(852).default,F=n(856).default,B=n(410).default,U=n(44).default,V=n(1016).default,z=n(1001).default,q=n(263),H=q.isPortfolioEnabled,$=q.isSaxoEnabled,G=n(423).isLeverageChangeTabAvailable,W=n(27).isUserLoggedInQuantRankAccount,Y=n(1906).default,K=U((function(){return Promise.all([n.e(24),n.e(109)]).then(n.bind(null,1017))})),X=o.template(n(1857));function Q(e){var t=e.open,n=e.leftLabel,i=e.title,r=e.bodyComponent,o=e.onClose;return T.createElement(R,{open:t},T.createElement(R.Nav,null,T.createElement(R.NavLeft,null,T.createElement("button",{onClick:o},T.createElement("span",{className:"popup-mobile__nav-rotate"},T.createElement("i",{className:"icon-view-details"})),"  ",n)),T.createElement(R.NavCenter,null,T.createElement("div",null,i))),T.createElement(R.Body,{className:"popup-mobile__body pane pane__fluid"},r))}var J=s.extend({events:function(){return o.extend({"click .fn-orders":"onOrders","click .fn-closed-positions":"onClosedPositions","click .fn-cancelled-orders":"onCancelledOrders","click .fn-portfolios":"onPortfolios","click .fn-price-alerts":"onPriceAlerts","click .fn-hotjar":"openHotjarFeedback","click .fn-notification-center":"onOpenNotificationCenter","click .fn-open-account-settings":"openAccountSettings","click .fn-open-metatrader":"openMetatrader","click .fn-metatrader-link":"onMetaTraderClick","click .fn-open-manage-accounts":"onManageAccountsClick","click .fn-deposit":"onDeposit","click .fn-withdrawal":"onWithdrawal","click .fn-bonuses":"onBonuses","click .fn-trading-tools":"onTradingTools","click .fn-verify":"onVerify","click .fn-lang-switch":"onLanguageChange","change .mobile-dropdown-lang":"mobileLangSelect","click .fn-submenu":"toggleSubmenu","click a.mobile-nav-switch":"switch_account","click .nav-content-body a":"onMenuItemClick","click .fn-open-store":"onOpenStore"},o.result(s.prototype,"events"))},initialize:function(e){e=o.extend({},{showHeader:!1,boxWidth:"80%",maxBoxWidth:"20em",showBoxShadow:!0},e),this.phoneNumber="",s.prototype.initialize.call(this,e),this._metatraderLeverage=new S,this.listenTo(a,"orders:long:count",this._onChangeCount),this.listenTo(l,"remove update",this.onOrdersUpdate),this.listenTo(b,"remove update",this.onPriceAlertsUpdate),this.listenTo(g,"change:metaTraderEnabled",this.visibilityMetaTraderItem),this.listenTo(this._metatraderLeverage,"change:statusOfMetaTraderAccounts",this.metaTraderAccountsChanged),this.listenTo(a,"user:leverage:updated",this.visibilityLeverageSettings),a.trigger("orders:get:count")},innerRender:function(e){var t=u.getUserAccountMetricsModel(),n=u.getUserCurrencySymbol(),i=d(t.getBalance()).formatForeignCurrency(n),s=d(t.getBuyingPower()).formatForeignCurrency(n),a=d(t.getEquity()).formatForeignCurrency(n),l=d(t.getProfitLoss()).formatForeignCurrency(n),c=t.getProfitLoss()>=0,p=!m.LOW_SCORE()||!m.FULL_REGISTRATION_COMPLETED(),g=h.isTradingSettingsSectionEnabled(),b=h.isViewSettingsSectionEnabled(),_=h.isLocalizationSettingsSectionEnabled(),y=u.getUserCommonData().getUserTimezoneObject().displayName,E=u.getUserCommonData().getUserTimezoneObject().gmt,S=u.getUserPendingDeposit();S=o.isNumber(S)&&S>0&&h.isLive()?d(S).formatForeignCurrency(n):null;var O=u.getUserAccountData(),k=u.isCustomerLevelGoalAlert(),I=O.currency?u.getUserCurrencySymbol():"",x=k?d(u.getUserTotalDeposits()).formatForeignCurrency(I).split(".")[0]:"",N=k?d(u.getMarketxThreshold()).formatForeignCurrency(I).split(".")[0]:"",D=k?d(u.getAdditionalDepositForMarketX()).formatForeignCurrency(I).split(".")[0]:"",R=u.getUserCommonData().isAdvancedTradingView(),L=window.store.getState();this.setContent(X({currency:n,balance:i,buyingPower:s,equity:a,profitLoss:l,profitLossPositive:c,isPlatformSwitchAllowed:p,isTradingSettingsAllowed:g,isViewSettingsAllowed:b,isLocalizationAllowed:_,isAndroid:f.android(),device:f,languages:v.getLanguages(),lang:v.getLanguage(),settings:h,promotionTooltip:__("promotion.bar.marketsx.tooltip",D),showMobilePromotionBar:u.isCustomerLevelGoalAlert()&&!u.isEligibleForMarketsX()&&u.getAdditionalDepositForMarketX()>0,totalDeposits:x,marketxThreshold:N,showAccountSettingLeverage:!h.isManageAccountsEnabled()&&G(store.getState()),electiveProfessionalEnabled:h.isAccountClassificationEnabled()&&u.isElectiveProfessionalEnabled(),spreadRebateEnabled:h.isSpreadRebateEnabled()&&e.spreadRebate&&!0===e.spreadRebate.active,fullRegistrationCompleted:m.FULL_REGISTRATION_COMPLETED(),needShowBonusesMenuItem:h.isBonusesEnabled()&&C.hasBonuses(),section:w,isMarketsXEnable:u.getUserLevelsModel().isEnable()&&u.getUserLevelsModel().getLevels().length>0,isMarketsX:u.getUserLevelsModel().isMarketsX(),isLowScore:m.LOW_SCORE(),isLiveAccount:h.isLive(),userTimezoneDisplayName:y,userTimezoneOffset:E,pendingDepositAmount:S,isAdvancedTradingView:R,isInvestEnabled:H(L)||$(L),isQuantRanksAccount:W(L)})),this.$el.find(".nav-store-links").addClass("hidden"),this.onOrdersUpdate(),this.onPriceAlertsUpdate();var M=__("menu.label.new");h.getTabsWithBadge().forEach((function(e){var t=r('<span class="menu-new-badge">'+M+"</span>");r("#"+e).append(t)})),this.visibilityTradingTools(),this.visibilityMetaTraderItem(),this.visibilityLeverageSettings(),h.isNotificationCenterEnabled()&&this.renderNotificationCenterCounter(),h.isHotjarMenuFeedbackEnabled()&&r(".item-hotjar").removeClass("hidden");var j=this.$(".fn-portfolio-counter");j&&j[0]&&P.render(T.createElement(A,{store:window.store},T.createElement(V,{as:"i",className:"badge"})),j[0]);var F=this.$(".fn-open-positions-counter");F&&F[0]&&P.render(T.createElement(A,{store:window.store},T.createElement(z,{as:"i",className:"badge"})),F[0])},existNativeAppForPlatform:function(){return f.android()||f.ios()},onMetaTraderClick:function(e){a.trigger("ui:metatrader",e)},onManageAccountsClick:function(e){a.trigger("ui:manage-accounts")},renderNotificationCenterCounter:function(){P.render(T.createElement(A,{store:store},T.createElement(k,null)),this.$("#mobile-nav-notification-center>.icon-notification")[0])},visibilityTradingTools:function(){var e=this.visibilityFundamentalTradingTools(),t=this.visibilityTechnicalTradingTools(),n=this.visibilitySentimentTradingTools(),i=this.visibilityKnowledgeCenterTradingTools();(e||t||n||i)&&this.$el.find("#mobile-trading-tools-menu.hidden").removeClass("hidden")},visibilityFundamentalTradingTools:function(){var e=!1;return h.isTradingToolEnabled(D.EVENTS_AND_TRADE)&&(this.$el.find(".tool-events-trade").removeClass("hidden"),e=!0),h.isTradingToolEnabled(D.PRICEALERTS)&&(this.$el.find(".tool-price-alerts").removeClass("hidden"),e=!0),h.isTradingToolEnabled(D.FOREXLIVE)&&(this.$el.find(".tool-commentary").removeClass("hidden"),e=!0),h.isTradingToolEnabled(D.NEWS_FEED)&&(this.$el.find(".tool-news").removeClass("hidden"),e=!0),e&&this.$el.find(".tools-topmenu-fundamental").removeClass("hidden"),e},visibilityTechnicalTradingTools:function(){var e=!1;return h.isMultiChartsEnabled()&&!p.mobile()&&(this.$el.find(".tool-multi-charts").removeClass("hidden"),e=!0),e&&this.$el.find(".tools-topmenu-technical").removeClass("hidden"),e},visibilitySentimentTradingTools:function(){var e=!1;return h.isTradingToolEnabled(D.INSIDERS)&&(this.$el.find(".tool-insiders").removeClass("hidden"),e=!0),h.isTradingToolEnabled(D.ANALYST_RECOMMENDATIONS)&&(this.$el.find(".tool-tipranks").removeClass("hidden"),e=!0),h.isTradingToolEnabled(D.BLOGGERS)&&(this.$el.find(".tool-bloggers").removeClass("hidden"),e=!0),h.isTradingToolEnabled(D.HEDGEFUNDS)&&(this.$el.find(".tool-hedgefunds").removeClass("hidden"),e=!0),h.isTradingToolEnabled(D.NEWS_SENTIMENT)&&(this.$el.find(".tool-news-sentiment").removeClass("hidden"),e=!0),h.isTradingToolEnabled(D.ACUITY)&&(this.$el.find(".tool-news-alerts").removeClass("hidden"),e=!0),e&&this.$el.find(".tools-topmenu-sentiment").removeClass("hidden"),e},visibilityKnowledgeCenterTradingTools:function(){var e=!1;return h.isTradingToolEnabled(D.WEBINARS)&&(this.$el.find(".tool-webinars").removeClass("hidden"),e=!0),h.isTradingToolEnabled(D.TUTORIAL_VIDEOS)&&(this.$el.find(".tool-video-tutorials").removeClass("hidden"),e=!0),h.isEducationEnabled()&&(this.$el.find(".tool-video-education").removeClass("hidden"),e=!0),h.isTradingToolEnabled(D.BLOG)&&(this.$el.find(".tool-blog").removeClass("hidden"),e=!0),e&&this.$el.find(".tools-topmenu-knowledge-center").removeClass("hidden"),e},processToolsForDepositors:function(){var e=this,t=u.getUserData().isFirstDeposit();h.getPremiumToolsBadge().forEach((function(n){var i=e.$el.find(".tool-"+n);i.hasClass("hidden")&&(i.removeClass("hidden"),t||(i.addClass("disabled"),i.attr("aria-label",__("available.for.depositors.tooltip"))))}))},render:function(){var e=this;s.prototype.render.apply(this),(new(n(456))).load().then((function(t){e.innerRender({spreadRebate:t.data})})).catch((function(t){e.innerRender({})}))},visibilityLeverageSettings:function(){var e=this.$("#item-leverage-settings");u.getUserLeverageLevels().canChangeLeverage()?e.removeClass("hidden"):e.addClass("hidden")},visibilityMetaTraderItem:function(){var e=this.$("#mobile-metatrader-menu");g.isMetaTraderVisible()?e.removeClass("hidden"):e.addClass("hidden")},onMenuItemClick:function(e){if(this.isMenuItemPhone(r(e.currentTarget)))N("tel:"+this.phoneNumber);else if(e.preventDefault(),e.stopImmediatePropagation(),!this.isMenuItemDisable(r(e.currentTarget))){var t=r(e.currentTarget),n=t.attr("href"),i=t.attr("data-ui");i?a.trigger(i):o.isEmpty(n)&&"#"===n||a.navigate(n,{replace:!0}),"open-promotion-dialog"!==i&&this.closePanel()}},onDeposit:function(){a.trigger("flow:deposit:RealDepositItemMainMenu"),this.closePanel()},onVerify:function(){a.trigger("flow:verify")},onWithdrawal:function(e){this.triggerUIAsync("ui:withdraw",e)},onBonuses:function(e){this.triggerUIAsync("ui:menu:bonuses",e)},isMenuItemDisable:function(e){var t=O(e,"li");return r(t).hasClass("disabled")},isMenuItemPhone:function(e){var t=e.attr("href");return t&&t.startsWith("tel:")},triggerUIAsync:function(e,t){if(!this.isMenuItemDisable(r(t.currentTarget))){var n=r(t.currentTarget).attr("data-tab-id");setTimeout((function(){return a.trigger(e,{currentTabId:n})}),0),this.closePanel()}},onTradingTools:function(e){e.stopImmediatePropagation(),this.triggerUI(e)},triggerUI:function(e){this.isMenuItemDisable(r(e.currentTarget))||(a.trigger(r(e.currentTarget).attr("data-tab-id")),this.closePanel())},_onChangeCount:function(e){this.$el.find("#mobile-nav-orders .badge").html(e)},open_funds_slidebox:function(){return new(n(806))({parent:document.body})},switch_account:function(){a.trigger("platform:switch:sync",h.isLive()?"demo":"live")},onOrdersUpdate:function(){this.$el.find("#mobile-nav-orders .badge").html(l.size())},onPriceAlertsUpdate:function(){this.$el.find("#mobile-nav-price-alerts .badge").html(b.size())},onLanguageChange:function(e){e.preventDefault(),e.stopImmediatePropagation()},openAccountSettings:function(e){e.preventDefault(),e.stopPropagation();var t=r(e.currentTarget).attr("data-tab-id");switch(t){case w.LEVERAGE:case w.NOTIFICATIONS:case w.PASSWORD:a.trigger("flow:"+t);break;default:a.trigger("ui:account-settings",t)}this.closePanel()},getSetPasswordMessage:function(){return new E({parent:document.body,hideCancelButton:!1,confirmOKBtnText:__("new_account.login_link"),confirmCancelBtnText:__("cancel"),confirmCaption:""})},openMetatrader:function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.confirmation().then((function(){if(h.isMetaTraderInternalEnabled()){var n=r(e.currentTarget).attr("data-tab-id"),i=r(e.currentTarget).attr("bonuses-tab");a.trigger("ui:open-metatrader",n,i)}else{if(_.isExternalLoginDetected()){if(u.getExternalLogin()){var o=u.getCustomerId(),s=u.getEmail();return c.forgotPasswordById(o).then((function(){return a.trigger("ui:message-box",{text:__("mt4.password.need.reset",s),isHeaderShowed:!1,okBtnText:__("ok"),isShowCloseForMobile:!1})}))}return t.getSetPasswordMessage()}var l=u.getMetaTraderLink();l&&(d=l,(p=N("")).location=d,p.focus&&p.focus())}var d,p})),this.closePanel()},confirmation:function(){return y.isMetaTraderOpenRiskWarningRequired()?new Promise((function(e){a.trigger("ui:risk-warning",{regulation:"spanish",action:"trade",onOK:e})})):Promise.resolve()},toggleSubmenu:function(e){e.preventDefault(),e.stopPropagation();var t=r(e.currentTarget).find('a[href^="tel:"]')[0];if(!(this.isMenuItemDisable(r(e.target))||t&&t.contains(e.target))){var n=r(e.currentTarget);n.hasClass("opened")?(n.removeClass("opened"),n.find(".opened").removeClass("opened")):(n.addClass("opened"),Y(n[0],{scrollMode:"if-needed"}))}},onOpenStore:function(e){a.trigger("ui:open-application-store"),this.closePanel()},mobileLangSelect:function(e){var t=r(e.target).val();this.closePanel(),a.trigger("ui:change-language",t)},metaTraderAccountsChanged:function(){this.showLeverageTab(),this.showBonusesTab(),this.showFundsTransferTab()},showLeverageTab:function(){if(h.isMetaTraderInternalLeverageEnabled()){var e=o.filter(this._metatraderLeverage.get("metaTraderAccounts"),(function(e){return!o.isEmpty(e.platformAccountId)&&"ACTIVE"===e.tradingAccountStatus}));o.isEmpty(e)?this.$el.find('li[data-tab-id="metatrader-leverage"]').addClass("hidden"):this.$el.find('li[data-tab-id="metatrader-leverage"]').removeClass("hidden")}else this.$el.find('li[data-tab-id="metatrader-leverage"]').addClass("hidden")},showBonusesTab:function(){if(h.isBonusesEnabled()){var e=this.getActiveAccountsWithBonuses();o.isEmpty(e)?this.$el.find('li[id="metatrader-bonuses-menu"]').addClass("hidden"):this.$el.find('li[id="metatrader-bonuses-menu"]').removeClass("hidden")}else this.$el.find('li[id="metatrader-bonuses-menu"]').addClass("hidden")},showFundsTransferTab:function(){var e=o.filter(this._metatraderLeverage.get("metaTraderAccounts"),(function(e){return!o.isEmpty(e.platformAccountId)&&"ACTIVE"===e.tradingAccountStatus}));o.isEmpty(e)?this.$el.find('li[data-tab-id="metatrader-funds-transfer"]').addClass("hidden"):this.$el.find('li[data-tab-id="metatrader-funds-transfer"]').removeClass("hidden")},getActiveAccountsWithBonuses:function(){return o.filter(this._metatraderLeverage.get("metaTraderAccounts"),(function(e){return!o.isEmpty(e.platformAccountId)&&"ACTIVE"===e.tradingAccountStatus&&e.hasBonuses}))},onOpenNotificationCenter:function(){window.store.dispatch(I(!0))},openHotjarFeedback:function(){window.store.dispatch(x())},onOrders:function(e){if(f.mobile()){e.preventDefault(),e.stopImmediatePropagation();var t=u.getUserCommonData().isAdvancedTradingView();return function e(n){var i=n.open;P.render(T.createElement(Q,{open:i,leftLabel:__("actions.back"),title:__("tab.orders"),onClose:function(){return e({open:!1})},bodyComponent:t?T.createElement(M,{onClose:function(){return e({open:!1})}}):T.createElement(L,{onClose:function(){return e({open:!1})}})}),window._app.getPopupsPlaceholder()[0])}({open:!0}),void this.closePanel()}},onClosedPositions:function(e){if(f.mobile()){e.preventDefault(),e.stopImmediatePropagation();return function e(t){var n=t.open;P.render(T.createElement(Q,{open:n,leftLabel:__("actions.back"),title:__("tab.closed_positions"),onClose:function(){return e({open:!1})},bodyComponent:T.createElement(j,{className:"pane pane__xfluid",onClose:function(){return e({open:!1})}})}),window._app.getPopupsPlaceholder()[0])}({open:!0}),void this.closePanel()}},onCancelledOrders:function(e){if(f.mobile()){e.preventDefault(),e.stopImmediatePropagation();return function e(t){var n=t.open;P.render(T.createElement(Q,{open:n,leftLabel:__("actions.back"),title:__("tab.order_history"),onClose:function(){return e({open:!1})},bodyComponent:T.createElement(F,{className:"pane pane__xfluid",onClose:function(){return e({open:!1})}})}),window._app.getPopupsPlaceholder()[0])}({open:!0}),void this.closePanel()}},onPriceAlerts:function(e){if(f.mobile()){e.preventDefault(),e.stopImmediatePropagation();return function e(t){var n=t.open;P.render(T.createElement(Q,{open:n,leftLabel:__("actions.back"),title:__("tab.price_alerts"),onClose:function(){return e({open:!1})},bodyComponent:T.createElement(B,{className:"pane pane__xfluid",onClose:function(){return e({open:!1})}})}),window._app.getPopupsPlaceholder()[0])}({open:!0}),void this.closePanel()}},onPortfolios:function(e){if(f.mobile()){e.preventDefault(),e.stopImmediatePropagation();return function e(t){var n=t.open;P.render(T.createElement(Q,{open:n,leftLabel:__("actions.back"),title:__("portfolio.invest.link"),onClose:function(){return e({open:!1})},bodyComponent:T.createElement(K,{className:"pane pane__xfluid",onClose:function(){return e({open:!1})}})}),window._app.getPopupsPlaceholder()[0])}({open:!0}),void this.closePanel()}if(f.tablet())return e.preventDefault(),e.stopImmediatePropagation(),a.trigger("ui:invest"),void this.closePanel()}});i.exports=J}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t,n){},function(e,t,n){},function(e,t){e.exports='<div class=form-group> <label class=_sr-only for="input-<%=filterKey%>" id="label-<%=filterKey%>"></label> <div class=styled-select> <select class=form-control data-key="<%=filterKey%>" id="input-<%=filterKey%>"> <% _.forEach(filterOptions, function(value, key) { %> <option value="<%= key %>" <% if(key == filter){print(\'selected\');} %>><% if (filterKey === \'instruments\') {%><%= value %><%} else {%><%= __(value) %><% } %></option> <% }); %> </select> </div> </div> '},function(e,t){e.exports="<nav class=navbar> <div class=navbar-header> <div class=\"navbar-form filter-basic\"> <div class=form-inline> </div> </div> <div class=\"navbar-form filter-period\"> <div class=form-inline> <div class=\"form-group custom-period <% if(filter.period !== 'custom'){print('hidden');} %> inner-addon right-addon\"> <label class=_sr-only for=inputFrom><%=__('history.from')%></label> <input type=text class=form-control data-key=beginPeriod id=inputFrom> <i class=\"glyphicon icon-calendar\"></i> </div> <div class=\"form-group custom-period <% if(filter.period !== 'custom'){print('hidden');} %> inner-addon right-addon\"> <label class=_sr-only for=inputTo><%=__('history.to')%></label> <input type=text class=form-control data-key=endPeriod id=inputTo> <i class=\"glyphicon icon-calendar\"></i> </div> </div> </div> </div> </nav> "},function(e,t){e.exports='<div class="closed-positions filter-tab"> <div class=closed-positions-header> <div class=closed-positions-title> <div><%=__(\'tab.closed_positions\')%></div> </div> <div class="header-actions fn-close-popup"> <i class=icon-close-circle></i> </div> </div> <div class="panel pane__yfluid"> <div class=panel-heading> </div> <div class=panel-total-pl> </div> <div class="panel-body pane__yfluid pane--height"> <div class="pane pane__fluid pane--height pane__scroll"> <div class="pane pane--height pane__scroll-content"> <div class=closed-positions-grid></div> </div> </div> </div> </div> </div> '},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(18)({displayName:"Empty",render:function(){return r.createElement("div",{className:"empty"},r.createElement("div",{className:"icon icon-closed-positions-empty"}),r.createElement("div",{className:"caption"},__("instruments.nodata.closed_positions")),r.createElement("div",{className:"text"},__("history.empty.text")))}});i.exports=o}.call(t,n,t,e))||(e.exports=i)},function(e,t){e.exports="<div class=filters-unavailable-data> <div class=filters-unavailable-data-image></div> <div class=filters-unavailable-data-message><%-__('chart.no_data')%></div> </div>"},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.scrollListener=n.scrollListener.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.pageLoaded=this.props.pageStart,this.attachScrollListener()}},{key:"componentDidUpdate",value:function(){this.attachScrollListener()}},{key:"componentWillUnmount",value:function(){this.detachScrollListener()}},{key:"setDefaultLoader",value:function(e){this.defaultLoader=e}},{key:"detachScrollListener",value:function(){var e=window;!1===this.props.useWindow&&(e=!0===this.props.selfScrolled?this.scrollComponent:this.scrollComponent.parentNode),e.removeEventListener("scroll",this.scrollListener,this.props.useCapture),e.removeEventListener("resize",this.scrollListener,this.props.useCapture)}},{key:"attachScrollListener",value:function(){if(this.props.hasMore){var e=window;!1===this.props.useWindow&&(e=!0===this.props.selfScrolled?this.scrollComponent:this.scrollComponent.parentNode),e.addEventListener("scroll",this.scrollListener,this.props.useCapture),e.addEventListener("resize",this.scrollListener,this.props.useCapture),this.props.initialLoad&&this.scrollListener()}}},{key:"scrollListener",value:function(){var e=this.scrollComponent,t=window,n=void 0;if(this.props.useWindow){var i=void 0!==t.pageYOffset?t.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;n=this.props.isReverse?i:this.calculateTopPosition(e)+(e.offsetHeight-i-window.innerHeight)}else n=this.props.selfScrolled?e.scrollHeight-e.scrollTop-e.clientHeight:this.props.isReverse?e.parentNode.scrollTop:e.scrollHeight-e.parentNode.scrollTop-e.parentNode.clientHeight;n<Number(this.props.threshold)&&(this.detachScrollListener(),"function"==typeof this.props.loadMore&&this.props.loadMore(this.pageLoaded+=1))}},{key:"calculateTopPosition",value:function(e){return e?e.offsetTop+this.calculateTopPosition(e.offsetParent):0}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,i=t.element,o=t.hasMore,s=(t.initialLoad,t.isReverse),a=t.loader,l=(t.loadMore,t.pageStart,t.threshold,t.useCapture,t.useWindow,t.selfScrolled,function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(t,["children","element","hasMore","initialLoad","isReverse","loader","loadMore","pageStart","threshold","useCapture","useWindow","selfScrolled"]));l.ref=function(t){e.scrollComponent=t};var c=[n];return o&&(a?s?c.unshift(a):c.push(a):this.defaultLoader&&(s?c.unshift(this.defaultLoader):c.push(this.defaultLoader))),r.a.createElement.apply(r.a,[i,l].concat(c))}}]),t}(i.Component);s.defaultProps={element:"div",hasMore:!1,initialLoad:!0,pageStart:0,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,selfScrolled:!1},t.default=s},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(1853),s=n(18)({displayName:"GridRowExpanded",getDefaultProps:function(){return{key:"",model:null,columns:[],hiddenColumns:[],screenSize:null,contentComponent:null,isSelected:!1,selectedRowClass:"selected",toggle:function(){}}},getRenderContent:function(){var e=this.props.contentComponent||o;return r.createElement(e,{model:this.props.model,columns:this.props.hiddenColumns})},render:function(){var e=["row","expandable-content",this.props.isSelected?this.props.selectedRowClass:""].join(" ");return r.createElement("tr",{className:e},r.createElement("td",{colSpan:this.props.columns.length},this.getRenderContent()))}});i.exports=s}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(0),o=n(1),s=n(18)({displayName:"Grid",getDefaultProps:function(){return{columns:[],model:null}},getColumnByName:function(e){return o.filter(this.props.columns,(function(t){return e===t.name}))[0]},render:function(){return r.createElement("div",{className:"properties-table"},r.createElement("table",null,r.createElement("tbody",null,this.getDataRows())))},getDataRows:function(){var e=this.props.model;return this.props.columns.map((function(t,n){var i=t.type||GridCell,s=o.extend({},t.cellProps,{key:n,column:t,model:e});return r.createElement("tr",{key:e.cid+n},r.createElement("th",null,__(t.name),":"),r.createElement(i,s))}))}});i.exports=s}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t){e.exports='<div class="order-history filter-tab"> <div class=order-history-header> <div class=order-history-title> <div><%=__(\'order.history.cancelled_orders\')%></div> </div> <div class="header-actions fn-close-popup"> <i class=icon-close-circle></i> </div> </div> <div class="panel pane__yfluid"> <div class=panel-heading> </div> <div class="panel-body pane__yfluid pane--height"> <div class="pane pane__fluid pane--height pane__scroll"> <div class="pane pane--height pane__scroll-content"> <div class=order-history-grid></div> </div> </div> </div> </div> </div> '},function(e,t,n){var i;void 0===(i=function(e,t,i){var r=n(0),o=n(18)({displayName:"Empty",render:function(){return r.createElement("div",{className:"empty"},r.createElement("div",{className:"icon icon-canceled-orders-empty"}),r.createElement("div",{className:"caption"},__("instruments.nodata.canceled_orders")),r.createElement("div",{className:"text"},__("history.empty.text")))}});i.exports=o}.call(t,n,t,e))||(e.exports=i)},function(e,t){e.exports="<div class=filters-unavailable-data> <div class=filters-unavailable-data-image></div> <div class=filters-unavailable-data-message><%-__('chart.no_data')%></div> </div>"},function(e,t){e.exports="<div class=mobile-navigation-menu> <div class=nav-box> <div class=nav-header-box> <div class=\"btn fn-close\"><i class=icon-close-white></i></div> <%if (isPlatformSwitchAllowed && !isQuantRanksAccount) {%> <div class=addon> <a class=\"btn btn-sm mobile-nav-switch\"> <span> <% if (settings.isLive()) { %><%=__('switch_to_practice')%><% } else { %><%=__('switch_to_real')%><% } %> </span> </a> </div> <%}%> <div class=timezone> <div><%=userTimezoneDisplayName%></div> <div><%=userTimezoneOffset%></div> </div> </div> <div class=nav-content-box> <div class=nav-store-links> <div class=icon-phone-blue></div> <div class=text><%=__('store.link.text')%></div> <i class=\"<%= isAndroid ? 'icon-googleplay' : 'icon-appstore'%> fn-open-store\"></i> </div> <% if(isMarketsX) {%> <div class=premium-level-block> <i class=icon-diamond></i> <span><%= __('premium.marketsX.account')%></span> </div> <% } %> <div class=nav-content-body> <ul> <% if(showMobilePromotionBar) {%> <li> <a href=# data-ui=open-promotion-dialog data-tooltip-align=top aria-label=\"<%=promotionTooltip%>\"> <span class=mobile-promotion-item><%=__('promotion.bar.pending')%></span> <span class=\"mobile-promotion-item amount\"> <%=totalDeposits%> / <%=marketxThreshold%> </span> </a> </li> <% } %> <% if (settings.isManageAccountsEnabled() && (!fullRegistrationCompleted || !isLowScore)) {%> <li> <a href=# id=mobile-open-manage-accounts class=fn-open-manage-accounts> <span class=icon-manage-accounts></span> <span><%=__('manage_accounts.title')%></span> </a> </li> <% } %> <% if (settings.isNotificationCenterEnabled() ) { %> <li> <a href=# id=mobile-nav-notification-center class=fn-notification-center> <span class=icon-notification></span> <span><%=__('notification.center.title')%> <i class=badge></i></span> </a> </li> <% } %> <% if (!isQuantRanksAccount) { %> <li> <a href=#favorites id=mobile-nav-favorites> <span class=icon-star></span> <span><%=isAdvancedTradingView ? __('tab.watchlist') : __('tab.favorites')%> <i class=badge></i></span> </a> </li> <% } %> <% if (isInvestEnabled && !isQuantRanksAccount) { %> <li> <a href=#portfolios class=fn-portfolios> <span class=icon-portfolios-ico></span> <span><%=__('portfolio.invest.link')%> </span> </a> </li> <% } %> <% if (!isQuantRanksAccount) { %> <li> <a href=#open-positions id=mobile-nav-open-positions> <span class=icon-open-positions></span> <span><%=__('tab.open_positions')%> <span class=fn-open-positions-counter></span> </span> </a> </li> <li> <a href=#orders id=mobile-nav-orders class=fn-orders> <span class=icon-orders-menu></span> <span><%=__('tab.orders')%> <i class=badge></i></span> </a> </li> <% } %> <li> <a href=# id=mobile-nav-funds-management data-ui=ui:funds-management> <span class=icon-funds-managment></span> <span><%=__('funds.management')%></span> </a> </li> <% if (settings.isLive() && isPlatformSwitchAllowed && settings.isAutomaticWithdrawalEnabled() ) {\n                    %> <li id=mobile-withdrawal-menu class=\"submenu fn-submenu\"> <div> <span class=icon-withdraw></span> <span><%=__('withdraw.menu.mobile')%></span> <i class=expand-arrow></i> </div> <ul> <li> <div id=mobile-nav-withdarwal class=fn-withdrawal data-tab-id=withdrawal> <span><%=__('withdraw.button.save')%> <i class=badge></i></span> </div> </li> <li> <div id=mobile-nav-withdarwal-manage class=fn-withdrawal data-tab-id=methods> <span><%=__('withdraw.menu.mobile.manage')%> <i class=badge></i></span> </div> </li> <li> <div id=mobile-nav-withdarwal-statuses class=fn-withdrawal data-tab-id=statuses> <span><%=__('withdraw.menu.mobile.status')%> <i class=badge></i></span> </div> </li> </ul> </li> <% } %> <% if (settings.isLive() && isPlatformSwitchAllowed && !settings.isAutomaticWithdrawalEnabled() ) {\n                    %> <li> <div id=mobile-nav-withdarwal class=fn-withdrawal data-tab-id=withdrawal> <span class=icon-withdraw></span> <span><%=__('withdraw.menu.mobile')%> <i class=badge></i></span> </div> </li> <% } %> <li> <a class=fn-verify href=#> <span class=icon-verification-center></span> <span><%=__('verification_center.popup.title')%></span> </a> </li> <% if (!isQuantRanksAccount) { %> <li id=mobile-trading-tools-menu class=\"submenu fn-submenu hidden\"> <div> <span class=icon-trading-tools></span> <span><%=__('tab.trading_tools')%></span> <i class=expand-arrow></i> </div> <ul> <li class=\"submenu subsubmenu fn-submenu tools-topmenu-fundamental hidden\"> <div> <span><%=__('topmenu.fundamental')%></span> <i class=expand-arrow></i> </div> <ul> <li class=\"tool-events-trade hidden\"> <div id=mobile-nav-events-and-trade class=fn-trading-tools data-tab-id=flow:events-and-trade> <span><%=__('tab.financial_events')%> <i class=badge></i></span> </div> </li> <li class=\"tool-price-alerts hidden\"> <a href=#price-alerts id=mobile-nav-price-alerts class=fn-price-alerts> <span><%=__('tab.price_alerts')%> <i class=badge></i></span> </a> </li> <li class=\"tool-commentary hidden\"> <a id=mobile-nav-commentaries href=#commentary class=fn-trading-tools> <span><%=__('tab.commentary')%> <i class=badge></i></span> </a> </li> <li class=\"tool-news hidden\"> <a id=mobile-nav-news href=#news class=fn-trading-tools> <span><%=__('tab.news')%> <i class=badge></i></span> </a> </li> </ul> </li> <li class=\"submenu subsubmenu fn-submenu tools-topmenu-technical hidden\"> <div> <span><%=__('topmenu.technical')%></span> <i class=expand-arrow></i> </div> <ul> <li class=\"tool-multi-charts hidden\"> <a href=#multi-charts id=mobile-nav-multicharts> <span><%=__('tab.multi_charts')%></span> </a> </li> </ul> </li> <li class=\"submenu subsubmenu fn-submenu tools-topmenu-sentiment hidden\"> <div> <span><%=__('topmenu.sentiment')%></span> <i class=expand-arrow></i> </div> <ul> <li class=\"tool-insiders hidden\"> <div id=mobile-nav-insiders class=fn-trading-tools data-tab-id=flow:insiders> <span><%=__('tab.insiders')%> <i class=badge></i></span> </div> </li> <li class=\"tool-tipranks hidden\"> <div id=mobile-nav-tipranks class=fn-trading-tools data-tab-id=flow:tip-ranks> <span><%=__('tab.analyst_recommendations')%> <i class=badge></i></span> </div> </li> <li class=\"tool-bloggers hidden\"> <div id=mobile-nav-bloggers class=fn-trading-tools data-tab-id=flow:bloggers> <span><%=__('tab.bloggers')%> <i class=badge></i></span> </div> </li> <li class=\"tool-hedgefunds hidden\"> <div id=mobile-nav-hedgefunds class=fn-trading-tools data-tab-id=flow:hedgefunds> <span><%=__('tab.hedgefunds')%> <i class=badge></i></span> </div> </li> <li class=\"tool-news-sentiment hidden\"> <div id=mobile-nav-news-sentiment class=fn-trading-tools data-tab-id=flow:newsSentiment> <span><%=__('tab.news_sentiment')%> <i class=badge></i></span> </div> </li> <li class=\"tool-news-alerts hidden\"> <div id=mobile-nav-news-alerts class=fn-trading-tools data-tab-id=ui:acuity-trading> <span><%=__('tab.acuity')%> <i class=badge></i></span> </div> </li> </ul> </li> <li class=\"submenu subsubmenu fn-submenu tools-topmenu-knowledge-center hidden\"> <div> <span><%=__('topmenu.knowledge_center')%></span> <i class=expand-arrow></i> </div> <ul> <li class=\"tool-webinars hidden\"> <a href=# class=\"fn-menu-item fn-webinars\" data-ui=flow:webinars> <span><%=__('menu.webinar')%></span> </a> </li> <li class=\"tool-video-tutorials hidden\"> <a href=# class=\"fn-menu-item video-tutorials\" data-ui=ui:tutorials> <span><%=__('hint.video_tutorials')%></span> </a> </li> <li class=\"tool-video-education hidden\"> <a href=# class=\"fn-menu-item video-education\" data-ui=ui:education> <span><%=__('hint.video_education')%></span> </a> </li> <li class=\"tool-blog hidden\"> <a href=# class=\"fn-menu-item blog\" data-ui=flow:blog> <span><%=__('tab.blog')%></span> </a> </li> </ul> </li> </ul> </li> <% } %> <li id=mobile-my-account-menu class=\"submenu fn-submenu\"> <div> <span class=icon-setting></span> <span><%=__('account_settings.popup.title')%></span> <i class=expand-arrow></i> </div> <ul> <% if (device.mobile() || device.tablet()) { %> <li> <div class=\"mobile-lang-switch fn-lang-switch\"> <span><%=__('account_settings.change_language')%> <i class=badge></i></span> <select class=mobile-dropdown-lang> <% for(var lg in languages) { %> <option value=\"<%=languages[lg]%>\" <% if(languages[lg] == lang) {%> selected=selected <%}%>><%=__('language.' + languages[lg])%></option> <% } %> </select> </div> </li> <% } %> <li> <div id=mobile-nav-customer-info data-tab-id=\"<%=section.CUSTOMER_INFO%>\" class=fn-open-account-settings> <span><%=__('account_settings.customer_info.menu.title')%> <i class=badge></i></span> </div> </li> <% if (isPlatformSwitchAllowed) { %> <% if (fullRegistrationCompleted && showAccountSettingLeverage) { %> <li id=item-leverage-settings> <div id=mobile-nav-leverage-settings data-tab-id=\"<%=section.LEVERAGE%>\" class=fn-open-account-settings> <span><%=__('account_settings.update_leverage.form.title')%> <i class=badge></i></span> </div> </li> <% } %> <% if (electiveProfessionalEnabled) { %> <li> <div id=mobile-nav-professional-settings data-tab-id=\"<%=section.ACCOUNT_CLASSIFICATION%>\" class=fn-open-account-settings> <span><%=__('account_classification.title')%><i class=badge></i></span> </div> </li> <% } %> <% if (spreadRebateEnabled) { %> <li> <div id=mobile-nav-spread-rebate data-tab-id=\"<%=section.SPREAD_REBATE%>\" class=fn-open-account-settings> <span><%=__('account_settings.spread_rebate.menu.title')%> <i class=badge></i></span> </div> </li> <% } %> <% } %> <% if (settings.isAccountSettingsSectionEnabled(section.PASSWORD)) { %> <li> <div id=mobile-nav-change-password data-tab-id=\"<%=section.PASSWORD%>\" class=fn-open-account-settings> <span><%=__('account_settings.change_password.form.title')%> <i class=badge></i></span> </div> </li> <% } %> <% if (settings.isAccountSettingsSectionEnabled(section.NOTIFICATIONS)) { %> <li> <div id=mobile-nav-notification-settings data-tab-id=\"<%=section.NOTIFICATIONS%>\" class=fn-open-account-settings> <span><%=__('account_settings.notifications.menu.title')%> <i class=badge></i></span> </div> </li> <% } %> <% if (!isQuantRanksAccount) {%> <li id=mobile-nav-platform-features class=\"submenu fn-submenu\"> <div> <span> <%=__('account_settings.platform_features.menu.title')%> </span> <i class=expand-arrow></i> </div> <ul> <% if (isTradingSettingsAllowed) { %> <li> <div id=mobile-nav-trading-settings data-tab-id=\"<%=section.TRADING_SETTINGS%>\" class=fn-open-account-settings> <span class=mobile-submenu-item> <%=__('account_settings.trading-settings.menu.title')%> </span> </div> </li> <% } %> <% if (isViewSettingsAllowed) { %> <li> <div id=mobile-nav-view-settings data-tab-id=\"<%=section.VIEW_SETTINGS%>\" class=fn-open-account-settings> <span class=mobile-submenu-item> <%=__('account_settings.view-settings.menu.title')%> </span> </div> </li> <% } %> <% if (isLocalizationAllowed) { %> <li> <div id=mobile-nav-localization-settings data-tab-id=\"<%=section.LOCALIZATION%>\" class=fn-open-account-settings> <span class=mobile-submenu-item> <%=__('account_settings.localization.menu.title')%> </span> </div> </li> <% } %> </ul> </li> <% } else { %> <li> <div id=mobile-nav-platform-features-alt data-tab-id=\"<%=section.PLATFORM_FEATURES%>\" class=fn-open-account-settings> <span> <%=__('account_settings.platform_features.menu.title')%> </span> </div> </li> <% } %> <% if (false && fullRegistrationCompleted && isMarketsXEnable && !isLowScore && isLiveAccount) { %> <li> <div id=mobile-nav-account-level data-tab-id=account-level class=fn-open-account-settings> <span><%= __('account_settings.account-level.menu.title') %> <i class=badge></i></span> </div> </li> <% } %> </ul> </li> <% if (needShowBonusesMenuItem) { %> <li id=mobile-bonuses-menu class=\"submenu fn-submenu bonuses-menu\"> <div> <span class=icon-bonus-menu></span> <span><%=__('bonus.menu.title')%></span> <i class=expand-arrow></i> </div> <ul> <li> <div id=mobile-nav-bonuses-in-progress class=fn-bonuses data-tab-id=in-progress> <span><%=__('bonus.tab.in_progress')%> <i class=badge></i></span> </div> </li> <li> <div id=mobile-nav-bonuses-completed class=fn-bonuses data-tab-id=completed> <span><%=__('bonus.tab.completed')%> <i class=badge></i></span> </div> </li> </ul> </li> <% } %> <% if (!isQuantRanksAccount) {%> <li id=mobile-report-menu class=\"submenu fn-submenu\"> <div> <span class=icon-reports-ico></span> <span><%=__('topmenu.reports')%></span> <i class=expand-arrow></i> </div> <ul> <% if (isPlatformSwitchAllowed) { %> <li> <a href=# id=mobile-nav-account-statement data-ui=ui:account-statement> <span><%=__('report')%></span> </a> </li> <% } %> <li> <a href=#closed-positions id=mobile-nav-closed-positions class=fn-closed-positions> <span><%=__('tab.closed_positions')%></span> </a> </li> <li> <a href=#canceled-orders id=mobile-nav-order-history class=fn-cancelled-orders> <span><%=__('order.history.cancelled_orders')%> <i class=badge></i></span> </a> </li> </ul> </li> <% } else { %> <li> <a href=# id=mobile-nav-portfolio-history class=fn-portfolio-history data-ui=ui:portfolio-statement> <span class=icon-reports-ico></span> <span><%=__('portfolio.history.title')%></span> </a> </li> <% } %> <li id=mobile-support-menu class=\"submenu fn-submenu\"> <div> <span class=icon-support></span> <span><%=__('support')%></span> <i class=expand-arrow></i> </div> <ul> <% if (isMarketsX) {%> <li class=\"vip-support vip-support-menu-item hidden\"> <a href=tel: class=premium-support-phone-link> <span class=vip-support__text> <i class=icon-premium-active></i> <span><%= __('marketsx.premium.phone') %></span> </span> <i class=icon-marketsx-phone></i> </a> </li> <% } %> <li class=\"item item-hotjar hidden\"> <a href=# class=\"fn-menu-item fn-hotjar\"> <span><%=__('feedback')%></span> </a> </li> <li> <a href=# id=mobile-nav-contact-us data-ui=ui:contact-us> <span><%=__('contact_support')%></span> </a> </li> <li> <a href=# class=fn-menu-item data-ui=ui:help-center> <span><%=__('faq.menu.title')%></span> </a> </li> <% if (settings.isLiveChatEnabled()) { %> <li class=\"<%if(isMarketsX){%>vip-support<%}%>\"> <a href=# id=mobile-nav-live-chat data-ui=ui:need-help-menu> <span><%= isMarketsX ? __('marketsX.live.chat') : __('live-chat') %></span> </a> </li> <% } %> <% if(settings.isCompliantMenuEnabled()) { %> <li> <a href=# id=mobile-nav-file-compliant data-ui=ui:file-compliant> <span><%=__('help_complaint.menu')%></span> </a> </li> <% } %> <li> <a href=# id=mobile-nav-legal-documents data-ui=ui:legal-documents> <span><%=__('legal_documents')%></span> </a> </li> </ul> </li> <% if (settings.isMetaTraderMobileViewEnabled() && settings.isMetaTraderInternalEnabled()) { %> <li id=mobile-metatrader-menu class=\"submenu fn-submenu hidden\"> <div> <span class=icon-metatrader></span> <span><%=__('metatrader.accounts.title')%></span> <i class=expand-arrow></i> </div> <ul> <li data-tab-id=metatrader-accounts class=fn-open-metatrader> <div> <span><%=__('metatrader.accounts.title')%></span> </div> </li> <li data-tab-id=metatrader-funds-transfer class=fn-open-metatrader> <div> <span><%=__('metatrader.funds-transfer.title')%></span> </div> </li> <li data-tab-id=metatrader-leverage class=fn-open-metatrader> <div> <span><%=__('metatrader.leverage.title')%></span> </div> </li> <li id=metatrader-bonuses-menu class=\"submenu fn-submenu hidden\"> <div> <span><%=__('metatrader.bonuses.title')%> <i class=expand-arrow></i></span> </div> <ul> <li> <div data-tab-id=metatrader-bonuses bonuses-tab=in-progress class=fn-open-metatrader> <span><%=__('bonus.tab.in_progress')%></span> </div> </li> <li> <div data-tab-id=metatrader-bonuses bonuses-tab=completed class=fn-open-metatrader> <span><%=__('bonus.tab.completed')%></span> </div> </li> </ul> </li> <li> <div data-tab-id=metatrader-deposit class=fn-open-metatrader> <span><%=__('metatrader.deposit.title')%></span> </div> </li> </ul> </li> <% } else if (settings.isMetaTraderMobileViewEnabled()) { %> <li id=mobile-metatrader-menu class=\"fn-menu-item fn-metatrader-link hidden\"> <div> <span class=icon-metatrader></span> <span><%=__('mt4_accounts')%></span> </div> </li> <% } %> <li> <a href=# id=mobile-nav-signout data-ui=ui:signout> <span class=icon-logout></span> <span><%=__('sign_out') %></span> </a> </li> </ul> </div> <div class=nav-content-information> <% if (pendingDepositAmount) { %> <div class=pending-deposit> <p><%=__('accountInfo.pendingDeposit')%>:</p> <b><span data-id=pendingDeposit><%=pendingDepositAmount%></span></b> <span class=question-tooltip aria-label=\"<%=__('help.account.pending_deposits')%>\"></span> </div> <% } %> <div> <p><%=__('accountInfo.cash')%>:</p> <b><span data-id=balance><%=balance%></span></b> <span class=question-tooltip aria-label=\"<%=__('help.account.balance')%>\"></span> </div> <div> <p><%=__('accountInfo.equity')%>:</p> <b><span data-id=equity><%=equity%></span></b> <span class=question-tooltip aria-label=\"<%=__('help.account.equity')%>\"></span> </div> <div> <p><%=__('accountInfo.freeMargin')%>:</p> <b><span data-id=buyingPower><%=buyingPower%></span></b> <span class=question-tooltip aria-label=\"<%=__('help.account.free_margin')%>\"></span> </div> <div class=\"pl_value <%= profitLossPositive ? 'pl_pos' : 'pl_neg' %>\"> <p><%=__('accountInfo.pl')%></p> <b><span data-id=profitLoss><%=profitLoss%></span></b> <span class=question-tooltip aria-label=\"<%=__('help.account.open_p_l')%>\"></span> </div> </div> <div> <a href=# class=\"nav-content-button btn btn-primary fn-deposit <%if (!isPlatformSwitchAllowed) {%>disabled<%}%>\"> <div class=caption><%=__('status.deposit_funds')%></div> </a> </div> </div> </div> </div> "},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){var r=n(1),o=n(136),s=n(86),a=r.template(n(1859)),l=r.template(n(242)),c=n(176),u=n(6),d=n(5),p=n(54),f=n(9),h=n(811),m=n(125),g=n(0),v=n(22),b=n(813).default,_=n(387),y=n(3).IS_LOGIN_FROM_LOGIN_PAGE,E=n(521).LOGIN_START_TIME,S="auth-panel-email-field",C="auth-panel-password-field",w=o.extend({_fontSize:null,templateOptions:function(){return{email:"",password:""}},events:function(){return r.extend({},r.result(o.prototype,"events"),{"click #auth-button-login":"login","click .auth-create-account-link":"createAccount","click #auth-forgot-password-link":"forgotPassword","click #remember-me-checkbox":"remember","submit .login-form":"login","click .debug-platforms-list button":"chooseServer"})},getOptions:function(e){return r.extend({isAutoLogin:!1,onEnterClick:this.login.bind(this)},o.prototype.getOptions.call(this,e),e)},initialize:function(e){o.prototype.initialize.apply(this,arguments),this.options.isAutoLogin?this.showFixedLoadingView().then(this.makeAutoLoginRequest.bind(this)).then(this.hideFixedLoadingView.bind(this)).catch(this.onAutoLoginError.bind(this)):(this.listenTo(d,"ui:change-theme",this.renderCaptcha),this.render(),this._fontSize=parseFloat(this.$el.find(".caption").css("font-size")),this.fitHeaderToStringLength())},fitHeaderToStringLength:function(){parseFloat(this.$el.find(".caption span").css("height"))>parseFloat(this.$el.find(".caption").css("height"))&&(this._fontSize--,this.$el.find(".caption").css("font-size",this._fontSize+"px"),this.fitHeaderToStringLength())},showFixedLoadingView:function(){return this.fixedLoadingView=new s({parent:document.body,position:"fixed",translucent:"2"}),Promise.resolve()},hideFixedLoadingView:function(){return this.fixedLoadingView.destroy(),Promise.resolve()},showAbsoluteLoadingView:function(){return this.absoluteLoadingView=new s({parent:this.$el.find(".auth-box"),position:"absolute",translucent:"2"}),Promise.resolve()},hideAbsoluteLoadingView:function(){return this.absoluteLoadingView&&this.absoluteLoadingView.destroy(),Promise.resolve()},onAutoLoginError:function(e){this.hideFixedLoadingView(),this.render(),u.getUserLogin().clearRememberedData()},render:function(){return o.prototype.render.call(this),this.setContent(a(r.result(this,"templateOptions"))),this.setUpFormFieldsOnFocusListener(),f.isSocialLoginEnabled()&&(this.extAuth=new h({el:this.$el.find(".form")})),this.renderCaptcha(),__eventos("onBoardFlow:login:display",{lang:p.getLanguage()||"en"}),this},renderCaptcha:function(){var e=this;f.isCaptchaEnabled()&&_.getCookie("show_login_captcha")&&(this.disableLoginButton(),this.clearFormFieldsOnFocusListener(),v.render(g.createElement(b,{key:r.uniqueId("login.captcha"),verifyCallback:this.verifyCaptcha.bind(this),expiredCallback:this.expiredCaptcha.bind(this)}),this.$el.find(".captcha-block")[0]),setTimeout((function(){return e.setUpFormFieldsOnFocusListener()}),500))},verifyCaptcha:function(e){this.captchaResponse=e,this.cleanErrors(),this.enableLoginButton()},expiredCaptcha:function(e){this.captchaResponse=e,this.disableLoginButton()},disableLoginButton:function(){this.$el.find("#auth-button-login").addClass("disabled").attr("disabled",!0)},enableLoginButton:function(){this.$el.find("#auth-button-login").removeClass("disabled").removeAttr("disabled")},setUpFormFieldsOnFocusListener:function(){var e=this,t=[S,C];r.each(t,(function(t){e.$("."+t+" > input")[0].onfocus=e.onFocus.bind(e)}))},clearFormFieldsOnFocusListener:function(){var e=this,t=[S,C];r.each(t,(function(t){e.$("."+t+" > input")[0].onfocus=null}))},onFocus:function(e){e.target.parentNode.classList.remove("field-error"),this.cleanErrors()},remember:function(){__eventos("onBoardFlow:login:clkrememberMeCheckBox",{rememberMeStatus:!this.$(".remember-me input")[0].checked})},createAccount:function(){this.close(),__eventos("onBoardFlow:login:clkCreateNewAccount")},forgotPassword:function(){this.close(),__eventos("onBoardFlow:login:clkForgetPassword")},login:function(e){e.preventDefault(),__eventos("onBoardFlow:login:clkLogin",{rememberMeStatus:this.$(".remember-me input")[0].checked}),this.cleanErrors();var t=this.createValidator(),i=t.validate(this.getFormData()),o=this.getFormData();if(r.isEmpty(o[S])&&"debug"===o[C]){var s=r.template(n(1860))({servers:[{name:"Markets PROD Live",address:"live-trader.markets.com"},{name:"Markets PROD Demo",address:"demo-trader.markets.com"},{name:"Markets QA Live",address:"cosmos-qa-live.markets.com"},{name:"Markets QA Demo",address:"cosmos-qa-demo.markets.com"},{name:"Mayhem DEV Live",address:"cosmos-mayhem-live.az-qa.com"},{name:"Mayhem DEV Demo",address:"cosmos-mayhem-demo.az-qa.com"}]});this.$el.find(".auth-box").append(s);var a=_app.getPlatformHost(),l=this.$el.find(".debug-platforms-list .servers input[value='"+a+"']")[0];l&&(l.checked=!0)}else if(i)this.showErrors(i);else{var c={email:t.data(S),password:t.data(C),remember:t.data("remember-me")},u=m.getLoginTracking();r.isEmpty(u)||(c.params=u),r.isEmpty(this.captchaResponse)||(c.captcha=this.captchaResponse),this.disableLoginButton(),localStorage.setItem(y,!0),localStorage.setItem(E,r.now()),this.makeUserLoginRequest(c).then((function(){return d.trigger("login:success")}))}},chooseServer:function(){var e=this.$el.find(".debug-platforms-list"),t=e.find(".servers input:checked").val();_app.setPlatformHost(t),e.remove()},makeAutoLoginRequest:function(){return u.autoLogin()},makeUserLoginRequest:function(e){return this.showAbsoluteLoadingView(),u.login(e,!1).catch(this.onUserLoginError.bind(this))},onUserLoginError:function(e){return this.hideAbsoluteLoadingView(),this.enableLoginButton(),this.showUserLoginError(e.message?e.message:e),this.renderCaptcha(),Promise.reject(e)},getValidatorFilters:function(){return{"auth-panel-email-field":["string","trim"],"auth-panel-password-field":["string"]}},getValidatorRules:function(){return{"auth-panel-email-field":{not_empty:__("registration.warning.field_is_required",__("account_settings.customer_info.form.email"))},"auth-panel-password-field":{not_empty:__("registration.warning.field_is_required",__("new_account.input.password.placeholder"))}}},getFormData:function(){return{"auth-panel-email-field":this.$(".auth-panel-email-field input").val(),"auth-panel-password-field":this.$(".auth-panel-password-field input").val(),"remember-me":this.$(".remember-me input")[0].checked}},createValidator:function(){return new c(this.getValidatorFilters(),this.getValidatorRules())},showErrors:function(e){r.each(e,(function(e,t){this.$("."+t).addClass("field-error")}),this),this.$(".error-block").html(l({errors:e})),this.$(".error-block").css("display","block")},cleanErrors:function(){var e=this.getFormData();r.each(e,(function(e,t){this.$("."+t).removeClass("field-error")}),this),this.$(".error-block").css("display","none")},showUserLoginError:function(e){this.$(".error-block").html(l({errors:[[e]]})),this.$(".error-block").css("display","block")},hide:function(){o.prototype.hide.call(this),this.destroy()},destroy:function(){this.extAuth&&this.extAuth.destroy(),o.prototype.destroy.call(this)}});i.exports=w}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},function(e,t){e.exports="<div class=auth-box> <form class=login-form> <div class=auth-panel> <div class=\"caption hidden-xs\"><%=__('login.caption.web')%></div> <div class=\"caption-xs visible-xs\"> <span class=welcome><%=__('login.welcome')%></span> <span><%=__('login.to.account')%></span> </div> <div class=form> <div class=\"auth-panel-email-field field input-field\"> <input type=email placeholder=\"<%=__('account_settings.customer_info.form.email')%>\" value=\"<%-email%>\"> </div> <div class=\"auth-panel-password-field field input-field\"> <input type=password placeholder=\"<%=__('new_account.input.password.placeholder')%>\" value=\"<%-password%>\"> </div> <div class=auth-addon-block> <div class=remember-me> <div class=\"field field-type-checkbox\"> <input type=checkbox id=remember-me-checkbox> <label for=remember-me-checkbox><%=__('login.remember.me')%></label> </div> </div> <div class=forgot-password> <a href=#forgetpassword id=auth-forgot-password-link><%=__('forgot_password.question')%></a> </div> </div> <div class=captcha-block></div> <button class=\"btn btn-primary\" id=auth-button-login><%=__('new_account.login_link')%></button> <div class=\"auth-box-switch visible-xs\"> <span><%=__('login.new.here')%></span> <a href=#register class=auth-create-account-link><%=__('login.create.account')%></a> </div> <div class=\"container-fluid error-block\"> <div class=row> <div class=\"col-sm-12 error-message\"> <i class=icon-warning></i> <%=__('new_account.error_message')%> </div> </div> </div> </div> </div> </form> <div class=auth-box-footer> <div class=\"auth-box-switch hidden-xs\"> <span><%=__('login.new.here')%></span> <a href=#register class=auth-create-account-link><%=__('login.create.account')%></a> </div> <div class=auth-box-info> <%=__('login.risk_warning')%> </div> </div> </div> "},function(e,t){e.exports='<div class=debug-platforms-list> <div class=servers> <% _.each(servers, function(server, index) { %> <div class=server> <input id="platform-server-<%=index%>" type=radio name=platform-server value="<%=server.address%>"/> <label for="platform-server-<%=index%>"><%=server.name%></label> </div> <% }) %> </div> <div class=buttons> <button class="btn btn-primary"><%=__(\'connect\')%></button> </div> </div> '},function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var o=n(1),s=n(136),a=o.template(n(1862)),l=o.template(n(242)),c=n(176),u=n(9),d=n(8),p=n(5),f=s.extend({events:function(){return o.extend({},o.result(s.prototype,"events"),{"click #auth-forgot-password-button-submit":"submit","click #forgot-password-back-to-login-page-link":"close","submit .forgot-password-form":"submit","click .password-eye":"showPasswordToggle"})},isFooterShowed:!0,ui:{password:"#auth-forgot-password-input-password",confirmPassword:"#auth-forgot-password-input-confirm-password",submit:"#auth-forgot-password-button-submit",error:".error-block"},getOptions:function(e){return o.extend({},s.prototype.getOptions.call(this,e),e)},initialize:function(e){s.prototype.initialize.apply(this,arguments),this.token=e.token,e.backKey&&(this.backKey=e.backKey),void 0!==e.isFooterShowed&&(this.isFooterShowed=e.isFooterShowed),this.render()},render:function(){s.prototype.render.call(this),this.setContent(a({isFooterShowed:this.isFooterShowed,backKey:this.backKey?this.backKey:"actions.back"})),this.initForm()},initForm:function(){["fn-auth-forgot-password-input-password","fn-auth-forgot-password-input-confirm-password"].forEach((function(e){this.$("."+e+" > input")[0].onfocus=this.onFocus.bind(this)}),this)},onFocus:function(e){e.target.parentNode.classList.remove("field-error"),this.cleanErrors()},getValidatorFilters:function(){return{"fn-auth-forgot-password-input-password":["string"],"fn-auth-forgot-password-input-confirm-password":["string"]}},getValidatorRules:function(){return{"fn-auth-forgot-password-input-password":{not_empty:__("registration.warning.field_is_required",__("new_account.input.password.placeholder")),alpha_numeric:u.isPasswordClientValidationEnabled()?__("account_settings.change_password.form.validate",u.getPasswordMinLength(),u.getPasswordMaxLength()):o.noop,password:u.isPasswordClientValidationEnabled()?__("account_settings.change_password.form.validate",u.getPasswordMinLength(),u.getPasswordMaxLength()):o.noop},"fn-auth-forgot-password-input-confirm-password":{not_empty:__("registration.warning.field_is_required",__("new_account.input.confirm_password.placeholder")),strict_equals:[this.$(".fn-auth-forgot-password-input-password input").val(),__("account_settings.change_password.form.validate.not_match")]}}},getFormData:function(){return{"fn-auth-forgot-password-input-password":this.$(this.ui.password).val(),"fn-auth-forgot-password-input-confirm-password":this.$(this.ui.confirmPassword).val()}},validate:function(){var e=new c(this.getValidatorFilters(),this.getValidatorRules()),t=this.getFormData();return e.validate(t)},submit:function(e){var t=this;e.preventDefault(),this.cleanErrors(),this.hideBlock(this.ui.error);var n=this.validate();if(n)this.showErrors(n);else{this.disableForm();var i=this.getFormData()["fn-auth-forgot-password-input-password"],r=this;d.resetPassword(this.token,i).then((function(){p.trigger("ui:message-box",{text:__("reset_password.success"),onClose:function(){r.close(),p.navigate("login")}})})).catch((function(e){t.enableForm();var n=e&&e.response&&e.response.status;if(400===n){var i=e.response.data.reduce(t.reduceMessages,[]);t.showPasswordValidationErrors(i)}else 403===n?t.error(__("reset_password.link.expired")):t.error(__("generic.error.message"))}))}},reduceMessages:function(e,t){var n=__("validation.password."+t.key,t.params);return e.push(n===t.key?t.defaultValue:n),e},close:function(){s.prototype.close.call(this)},showPasswordValidationErrors:function(e){var t=this.$el.find(this.ui.error);t.html(l({errors:[e]})),t.css("display","block")},error:function(e){this.$el.find(this.ui.error).html(e),this.showBlock(this.ui.error)},hideBlock:function(e){this.$el.find(e).css("display","none")},showBlock:function(e){this.$el.find(e).css("display","block")},disableForm:function(){this.$el.find(this.ui.password).attr("disabled",!0),this.$el.find(this.ui.confirmPassword).attr("disabled",!0),this.$el.find(this.ui.submit).attr("disabled",!0)},enableForm:function(){this.$el.find(this.ui.password).removeAttr("disabled"),this.$el.find(this.ui.confirmPassword).removeAttr("disabled"),this.$el.find(this.ui.submit).removeAttr("disabled")},showErrors:function(e){var t=this;o.each(e,(function(e,n,i){t.$("."+n).addClass("field-error")}));var n=this.$el.find(this.ui.error);n.html(l({errors:e})),n.css("display","block")},cleanErrors:function(){var e=this,t=this.getFormData();o.each(t,(function(t,n){e.$("."+n).removeClass("field-error")})),this.$el.find(this.ui.error).css("display","none")},showPasswordToggle:function(e){var t=r(e.target),n=t.parent().find("input");if(t.hasClass("icon-eye-gray"))return t.removeClass("icon-eye-gray"),t.addClass("icon-eye-blue"),void n.attr("type","text");t.removeClass("icon-eye-blue"),t.addClass("icon-eye-gray"),n.attr("type","password")}});i.exports=f}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(12))},function(e,t){e.exports='<div class="auth-box forgot-password"> <form class=forgot-password-form> <div class=auth-panel> <div class="caption hidden-xs"><%=__(\'reset_password.header\')%></div> <div class="caption-xs visible-xs"> <span><%=__(\'reset_password.help_line\')%></span> </div> <div class="forgot-password-help-line hidden-xs"> <%=__(\'reset_password.help_line\')%> </div> <div class=form> <div class="auth-panel-password-field field input-field fn-auth-forgot-password-input-password"> <input type=password placeholder="<%=__(\'new_account.input.password.placeholder\')%>" id=auth-forgot-password-input-password> <i class="password-eye icon-eye-gray"></i> </div> <div class="auth-panel-password-field field input-field fn-auth-forgot-password-input-confirm-password"> <input type=password placeholder="<%=__(\'new_account.input.confirm_password.placeholder\')%>" id=auth-forgot-password-input-confirm-password> <i class="password-eye icon-eye-gray"></i> </div> <button class="btn btn-primary" id=auth-forgot-password-button-submit><%=__(\'actions.save\')%> </button> <div class="auth-addon-block padding-xs"> <a href=#login id=forgot-password-back-to-login-page-link><%=__(backKey)%></a> </div> <div class="container-fluid error-block"></div> </div> </div> <% if (isFooterShowed) { %> <div class=auth-box-footer> <div class="auth-box-info hidden-xs"> <%=__(\'login.risk_warning\')%> </div> </div> <% } %> </form> </div>'},function(e,t,n){(function(i){var r;void 0===(r=function(e,t,i){n(1);var r=n(12),o=n(1864),s=n(54),a=n(6),l=n(9),c=n(71).default,u=n(5),d=!1;i.exports.init=function(){if(!d&&void 0!==window.MessagingService){var e,t=(e=a.getUserTokenModel().getToken())?{cId:a.getCustomerId(),language:s.getLanguage()||"en",isReal:l.isLive(),token:e,platform:"indigo",isMobile:c.mobile(),actionHandlers:{openRegistrationDialog:function(){u.trigger("sm","registration_only")},openDepositDialog:function(){u.trigger("flow:deposit")},openVerificationCenter:function(){u.trigger("flow:verify")},openTradeDialog:function(e,t){var n={direction:t,symbolOrId:e,quantity:null,type:!1,tp:!1,sl:!1,source:"in_app_messaging"};u.trigger("ui:new-position",n)},switchToReal:function(){l.isLive()||u.trigger("platform:switch","live")},openInstPage:function(e){u.trigger("ui:instrument",e)}}}:null;if(t){try{window.MessagingService.init(t,r,o)}catch(e){return}d=!0}}}}.call(t,n,t,e))||(e.exports=r)}).call(this,n(12))},,,,,,,,,,,,,,,,,,,,,function(e,t){},,,function(e,t,n){(function(i,r){var o;void 0===(o=function(e,t,i){var r=n(24),o=n(89),s=n(103),a=n(26),l=n(5),c=n(526),u=n(73),d=n(1),p=n(142).closePositionByCode,f=n(390).MessageType,h=n(807).MessageCategory;function m(e){var t=e.get("quantity"),n=e.get("stopLoss"),i=e.get("takeProfit"),r=a.getInstrumentById(e.get("instrumentId")),o=r.get("precision");return{precision:o,amount:t,quantity:Math.abs(t),isBought:t>0,rate:Number(e.get("costBasis")).toFixed(o),sl:n&&n.fixedPrice?Number(n.fixedPrice).toFixed(o):null,tp:i&&i.fixedPrice?i.fixedPrice:null,instrumentName:r.getDisplayName(),pipSize:r.getPipsPrecisionSize(),instrumentCurrency:r.getCurrency(),isTypeSpreadBetting:r.isTypeSpreadBetting(),formattedQuantity:u(Math.abs(t)).format("0,0.[000]")}}function g(e,t){var n=t?"SL: "+t:"";return(n?n+" ":"")+(e?"TP: "+e:"")}function v(e){var t,n,i=(n=m(t=e).precision,d.extend(m(t),{stopLimitPrice:parseFloat(t.get("stopLimitPrice")).toFixed(n),stopPrice:t.get("stopPrice")})),r=g(i.tp,i.sl),o=i.isBought?"buy":"sell",s=e.get("stopPrice"),a=i.isBought?d.isNumber(s)?"above":"below":d.isNumber(s)?"below":"above",l=[i.formattedQuantity];return i.isTypeSpreadBetting?(l.push(i.instrumentName,i.stopLimitPrice,i.instrumentCurrency,i.pipSize),__("order.confirmation_sb."+o+"."+a,l)+" "+r):i.instrumentName+", "+__("tab.orders."+o+"."+a,l)+" "+i.stopLimitPrice+" "+r}var b=d.extend({},r.Events,{initialize:function(){this.listenTo(l,"stream:type:MESSAGE",this.onStreamMessage),this.listenTo(o,"add",this.wrapTradingStarted(this.onNewPosition),this),this.listenTo(o,"remove",this.wrapTradingStarted(this.onRemovePosition),this),this.listenTo(o,"change:quantity change:takeProfit change:stopLoss",this.wrapTradingStarted(this.onPositionChanged),this),this.listenTo(s,"add",this.wrapTradingStarted(this.onNewOrder),this),this.listenTo(s,"remove",this.wrapTradingStarted(this.onRemoveOrder),this),this.listenTo(s,"change:quantity change:takeProfit change:stopLoss",this.wrapTradingStarted(this.onOrderChanged),this)},wrapTradingStarted:function(e){return function(t){this.userStartedTrading&&e.call(this,t)}.bind(this)},onNewPosition:function(e){var t=m(e),n=g(t.tp,t.sl),i=[t.formattedQuantity,t.instrumentName,t.rate];t.isTypeSpreadBetting&&i.push(t.instrumentCurrency,t.pipSize),c.show({title:__("position.opened.title"),body:__("position.confirmation"+(t.isTypeSpreadBetting?"_sb.":".")+(t.isBought?"buy":"sell"),i)+" "+n})},onRemovePosition:function(e){var t=m(e),n=g(t.tp,t.sl),i=[t.formattedQuantity,t.instrumentName,t.rate];t.isTypeSpreadBetting&&i.push(t.instrumentCurrency,t.pipSize),c.show({title:__("position.closed.title"),body:__("position.confirmation"+(t.isTypeSpreadBetting?"_sb.":".")+(t.isBought?"buy":"sell"),i)+" "+n})},onPositionChanged:function(e){var t=m(e);if(e.hasChanged("quantity")){var n=e.previous("quantity"),i=[u(Math.abs(n)-Math.abs(t.quantity)).format("0,0.[00]"),t.instrumentName,t.rate];return t.isTypeSpreadBetting&&i.push(t.instrumentCurrency,t.pipSize),void c.show({title:__("position.partial-closed.title"),body:__("position.confirmation"+(t.isTypeSpreadBetting?"_sb.":".")+(t.isBought?"sell":"buy"),i)})}if(e.hasChanged("takeProfit")||e.hasChanged("stopLoss")){var r=e.hasChanged("takeProfit")?"TP: "+(t.tp?t.tp:"removed"):"",o=e.hasChanged("stopLoss")?"SL: "+(t.sl?t.sl:" removed"):"";c.show({title:__("position.updated.title"),body:t.instrumentName+", "+(o?o+" ":"")+r})}},onNewOrder:function(e){c.show({title:__("order.placed.title"),body:v(e)})},onRemoveOrder:function(e){c.show({title:__("order.canceled.title"),body:v(e)})},onOrderChanged:function(e){c.show({title:__("order.updated.title"),body:v(e)})},onStreamMessage:function(e){d.each(e,(function(e){if(e.type===f.ORDER_REJECTED)return this.processOrderRejectedMessage(e);e.category===h.TRADE_LOG&&(this.userStartedTrading=!0)}),this)},processOrderRejectedMessage:function(e){var t=e.localizableMessage.key,n=e.localizableMessage.parameters,i=e.type,r=String(e.reasonKey),o=a.getInstrumentBySymbol(n[2]);("message_filled_buy"===t||"message_filled_sell"===t&&n[1])&&(n[1]=parseInt(n[1]));var s=__default("traderejected."+r.toLowerCase(),"traderejected.default",o.getDisplayName(),n[0]);c.show({critical:!0,title:__("message.header."+i),body:s});var l=n[6];store.dispatch(p({positionCode:l,reject:!0}))}});i.exports.initialize=function(){b.initialize()}}.call(t,n,t,e))||(e.exports=o)}).call(this,n(1),n(24))},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(398),s=n(31),a=n(354),l=n(3),c=n(145),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),u(t,[{key:"componentDidMount",value:function(){n(5).navigate("/portfolios")}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.default,{onlyDesktop:!0},r.a.createElement("div",{className:"pane pane__fluid p-10"},r.a.createElement(c.LazyPortfolios,null))),r.a.createElement(s.default,{onlyTablet:!0,landscape:!0,minWidth:l.BREAKPOINT_SCREEN_LG_MAX},r.a.createElement("div",{className:"pane pane__fluid p-10"},r.a.createElement(c.LazyPortfolios,null))),r.a.createElement(s.default,{onlyTablet:!0,landscape:!0,maxWidth:l.BREAKPOINT_SCREEN_LG_MAX-1},r.a.createElement("div",{className:"pane pane__fluid p-10"},r.a.createElement(o.default,{className:"pane pane__fluid"}))),r.a.createElement(s.default,{onlyTablet:!0,portrait:!0},r.a.createElement(a.a,null)),r.a.createElement(s.default,{onlyMobile:!0},r.a.createElement("div",{className:"pane pane__fluid"},r.a.createElement(o.default,{className:"pane pane__fluid"}))))}}]),t}(r.a.Component);t.default=d},,,function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"BasicDashboard",(function(){return l}));var i=n(0),r=n.n(i),o=(n(71),n(145)),s=n(354),a=n(31),l=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(a.default,{onlyDesktop:!0},r.a.createElement(a.default,{desktop:!0},r.a.createElement(o.LazyBasicDashboardDesktop,null)),r.a.createElement(a.default,{tablet:!0},r.a.createElement(o.LazyBasicDashboardTablet,null))),r.a.createElement(a.default,{onlyTablet:!0,landscape:!0},r.a.createElement(o.LazyBasicDashboardTablet,null)),r.a.createElement(a.default,{onlyTablet:!0,portrait:!0},r.a.createElement(s.a,null)),r.a.createElement(a.default,{mobile:!0},r.a.createElement(o.LazyBasicDashboardMobile,null)))};t.default=l},function(e,t,n){"use strict";n.r(t),n.d(t,"AdvancedDashboard",(function(){return l}));var i=n(0),r=n.n(i),o=n(31),s=n(145),a=n(354),l=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.default,{onlyDesktop:!0},r.a.createElement(o.default,{desktop:!0,tablet:!0},r.a.createElement(s.LazyAdvancedDashboardDesktop,null))),r.a.createElement(o.default,{onlyTablet:!0,landscape:!0},r.a.createElement(s.LazyAdvancedDashboardDesktop,null)),r.a.createElement(o.default,{onlyTablet:!0,portrait:!0},r.a.createElement(a.a,null)),r.a.createElement(o.default,{mobile:!0},r.a.createElement(s.LazyAdvancedDashboardMobile,null)))};t.default=l},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(4),s=n(431),a=n(192),l=n(5),c=n.n(l),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return d(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.location;t.pathname!==this.props.location.pathname&&c.a.trigger("route:change",t.pathname)}},{key:"render",value:function(){return this.props.children}}]),t}(i.Component),m=Object(a.g)(h),g=function(e){function t(){return d(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),u(t,[{key:"render",value:function(){var e=this.props.children;return r.a.createElement(o.Provider,{store:window.store},r.a.createElement(s.a,{hashType:"noslash"},r.a.createElement(m,null,e)))}}]),t}(i.Component);t.default=g},function(e,t,n){"use strict";n.r(t);var i=n(90),r=n(937),o=n(143),s=n(1),a=n.n(s),l=n(114),c=n.n(l),u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},d={monday:"message.day0",tuesday:"message.day1",wednesday:"message.day2",thursday:"message.day3",friday:"message.day4",saturday:"message.day5",sunday:"message.day6"},p=function(e){var t,n=a.a.isString(e.startDay)?__(d[e.startDay.toLowerCase()]):"",i=a.a.isString(e.endDay)?__(d[e.endDay.toLowerCase()]):"",r=u(e.tradingHours,2),o=r[0],s=r[1],l=n&&o&&i&&s?n+" "+o+" - "+i+" "+s+" GMT":"";return{name:(t=e.active,void 0===t?__("instrument_info.trading_hours"):t?__("instrument_info.current_trading_hours"):__("instrument_info.next_trading_hours")),value:c.a.tradingHours(l,e),html:c.a.tradingHours(l,e,!0),_raw:e,_originalValue:l}},f=function(e){var t,n,i;e.value=__("instrument_info.rollover_date.text",(n="instrument_info.rollover_date.day_number."+(t=e).dayNumberOfMonth,(i=__(n))===n?t.dayNumberOfMonth:i),function(e){var t="instrument_info.day."+e.dayOfWeek,n=__(t);return n===t?e.dayOfWeek:n}(e),function(e){return e.months.map((function(e){return __("instrument_info.rollover_date.month."+e)})).join(", ")}(e))},h=n(6),m=function(e){return{marginRatePercent:e.marginRatePercent,marginRateValue:Math.ceil(100/(e.marginRatePercent||100)),maintenanceMarginValue:e.marginRatePercent*h.getUserAccountSettingsModel().getLiquidationLevel()}},g=n(49),v=n(40),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};var _={defaultInstrumentTreeCategoryPath:null,tree:[],treePathsMap:{},FX_INSTRUMENT:{},INSTRUMENT_SETTINGS_UPDATE:{},INSTRUMENT_TRADE_STATUSES:{},MARGINING_SETTINGS:{},QUOTE:{},ROLLOVER_DATES:{},SUMMARY:{},SWAP_RATES:{},TRADING_CALENDARS_SETTINGS:{},computed:{},idToSymbolMap:{},instrumentSymbolMap:{},instrumentLastQuoteTime:null,CRYPTO_INFO:null,subsCounters:{SWAP_RATES:{},MARGINING_SETTINGS:{},TRADING_CALENDARS_SETTINGS:{}}};var y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(e&&t){t=Number(t);var i=(t=a.a.isNaN(t)?0:t)?(e-t).toFixed(n):(0).toFixed(n),r=0===(i=Number(i))?"":i<0?"-":"+",o=0===i?0:i<0?-1:1;return{sign:r,dir:o,change:i=0===i?"0":Number(Math.abs(i)).toFixed(n)}}},E=function(e,t){if(e&&t){t=Number(t);var n=(t=a.a.isNaN(t)?0:t)?((e-t)/t*100).toFixed(2):(0).toFixed(2);return{sign:0===(n=Number(n))?"":n<0?"-":"+",dir:0===n?0:n<0?-1:1,change:n=0===n?"0":Number(Math.abs(n)).toFixed(2)}}};function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments[1],n=t.type,i=t.payload;switch(n){case v.m:var r={},s=b({},e.idToSymbolMap),l=a.a.reject(i,(function(e){return a.a.isEmpty(e.elements)}));return function e(t){a.a.each(t,(function(t){if(t.category&&t.elements)return e(t.elements);r[t.symbol]=t,s[t.id]=t.symbol}))}(i),b({},e,{tree:l,instrumentSymbolMap:r,idToSymbolMap:s});case v.e:var c=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e.tree)),u=b({},e.treePathsMap);!function e(t,n,i){a.a.each(t,(function(t){var r=t.category;t.elements&&t.elements.length?(t._pathUrl=n+Object(g.capitalizeFirstLetter)(r)+"/",t._path=(i?i+".":"")+r,t._empty=0===t.elements.length,t._localizedNameKey="tab."+t._path.replace(new RegExp("/$"),"").replace("/","").split("/").map((function(e){return e.toLowerCase()})).join("."),e(t.elements,t._pathUrl,t._path),u[t._pathUrl]=b({},t)):t._categoryPath=n}))}(c,"/","");var d=Object(o.a)(c&&c[0]);return b({},e,{treePathsMap:u,defaultInstrumentTreeCategoryPath:d&&d._pathUrl});case v.B:var h=e.SUMMARY;return a.a.each(i,(function(t){var n=e.QUOTE[t.symbol],i=!!n&&n.bid,r=e.FX_INSTRUMENT[t.symbol];if(!1!==i){var o=E(i,t.dayClose);o&&(t._percentChange=o);var s=y(i,t.dayClose,r&&r.precision);s&&(t._change=s)}h[t.symbol]=b({},t)})),b({},e,{SUMMARY:b({},h)});case v.h:var S=b({},e.INSTRUMENT_TRADE_STATUSES);return a.a.each(i,(function(e){return S[e.instrumentSymbol]=b({},e)})),b({},e,{INSTRUMENT_TRADE_STATUSES:S});case v.g:var C=b({},e.INSTRUMENT_SETTINGS_UPDATE);return a.a.each(i,(function(e){return C[e.instrumentSymbol]=b({},C[e.instrumentSymbol],e)})),b({},e,{INSTRUMENT_SETTINGS_UPDATE:C});case v.J:var w=b({},e.QUOTE),O=b({},e.FX_INSTRUMENT),T=b({},e.SUMMARY),P=e.instrumentLastQuoteTime;return a.a.each(i,(function(e){var n=b({},e),i=O[n.symbol],r=w[n.symbol],o=r&&r._currentAskDirection||0,s=r&&r._currentBidDirection||0,l=i&&i.precision,c=i&&i.pipsPrecision,u=T[n.symbol];if(a.a.isNumber(l)&&(n.ask=Number(n.ask),n.bid=Number(n.bid),a.a.isNumber(c))){var d=Number(r&&r._spread||0);n._spread=Number(Object(g.calcInstrumentSpread)(n.bid,n.ask,l,c)),n._spreadDirection=Number(n._spread)===d?n._spreadDirection:n._spread<d?-1:1}n._currentAskDirection=-1===n.askDirection?-1:1===n.askDirection?1:o,n._currentBidDirection=-1===n.bidDirection?-1:1===n.bidDirection?1:s;var p=u&&E(n.bid,u.dayClose);p&&(u._percentChange=p);var f=u&&y(n.bid,u.dayClose,l);f&&(u._change=f),n.symbol===t.instrumentDetailsSymbol&&(P=Date.now()),w[n.symbol]=b({},n),T[n.symbol]=b({},u)})),b({},e,{instrumentLastQuoteTime:P,QUOTE:w,SUMMARY:T});case v.c:var k=e.QUOTE,I=e.FX_INSTRUMENT;return a.a.each(i,(function(e){var t=e.symbol,n=k[t];if(n){var i=Number(n._spread||0);n.ask=Number(n.ask),n.bid=Number(n.bid),n._spread=Number(Object(g.calcInstrumentSpread)(n.bid,n.ask,e.precision,e.pipsPrecision)),n._spreadDirection=Number(n._spread)===i?n._spreadDirection:n._spread<i?-1:1,k[t]=b({},n)}I[t]=e})),b({},e,{FX_INSTRUMENT:b({},I),QUOTE:b({},k)});case v.C:var A=e.SWAP_RATES;return a.a.each(i,(function(e){return A[e.symbol]=b({},A[e.symbol],e)})),b({},e,{SWAP_RATES:b({},A)});case v.y:var x=i.additionalData?i.additionalData.payload:i,N=e.subsCounters.SWAP_RATES;return N[x]||(N[x]=0),N[x]++,b({},e,{subsCounters:b({},e.subsCounters,{SWAP_RATES:b({},N)})});case v.G:var D=i.additionalData?i.additionalData.payload:i,R=e.subsCounters.SWAP_RATES;return R[D]--,R[D]<0&&(R[D]=0),b({},e,{subsCounters:b({},e.subsCounters,{SWAP_RATES:b({},R)})});case v.d:return b({},e,{FX_SYSTEM_SETTINGS:i});case v.t:return a.a.each(a.a.values(i),(function(e){return f(e)})),b({},e,{ROLLOVER_DATES:i});case v.n:var L=i.additionalData?i.additionalData.payload:i,M=e.subsCounters.MARGINING_SETTINGS;return M[L]||(M[L]=0),M[L]++,b({},e,{subsCounters:b({},e.subsCounters,{MARGINING_SETTINGS:b({},M)})});case v.p:var j=e.MARGINING_SETTINGS;return j[e.idToSymbolMap[i.responsePayload.data.instrumentId]]=m(i.responsePayload.data),b({},e,{MARGINING_SETTINGS:b({},j)});case v.a:var F=i.additionalData?i.additionalData.payload:i,B=e.subsCounters.MARGINING_SETTINGS;return B[F]--,B[F]<0&&(B[F]=0),b({},e,{subsCounters:b({},e.subsCounters,{MARGINING_SETTINGS:b({},B)})});case v.q:var U=i.additionalData?i.additionalData.payload:i,V=e.subsCounters.TRADING_CALENDARS_SETTINGS;return V[U]||(V[U]=0),V[U]++,b({},e,{subsCounters:b({},e.subsCounters,{TRADING_CALENDARS_SETTINGS:b({},V)})});case v.s:var z=e.TRADING_CALENDARS_SETTINGS;return z[e.idToSymbolMap[i.responsePayload.data.instrumentId]]=p(i.responsePayload.data),b({},e,{TRADING_CALENDARS_SETTINGS:b({},z)});case v.b:var q=i.additionalData?i.additionalData.payload:i,H=e.subsCounters.TRADING_CALENDARS_SETTINGS;return H[q]--,H[q]<0&&(H[q]=0),b({},e,{subsCounters:b({},e.subsCounters,{TRADING_CALENDARS_SETTINGS:b({},H)})});case v.u:return b({},e,{instrumentLastQuoteTime:i});case v.k:return b({},e,{CRYPTO_INFO:b({},i.responsePayload)});case v.f:var $=e.instrumentSymbolMap,G=a.a.chain($).map((function(e){return e.symbol})).indexBy((function(e){return String(e).toLowerCase()})).value();return b({},e,{lowercaseInstrumentSymbolMap:G})}return e}var C=n(96),w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},O={POSITION_METRICS:{},OPEN_POSITION:{},OPEN_POSITION_FILTERS:[],REQUIRED_MARGIN:{},instrumentPositions:{},instrumentPositionsCounter:{},closingPosition:{},totalPositionsCount:0};function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments[1],n=t.type,i=t.payload;switch(n){case C.g:var r=e.POSITION_METRICS;return a.a.each(i,(function(e){r[e.positionCode]=e})),w({},e,{POSITION_METRICS:w({},r)});case C.e:var o=i.edited,s=i.removed,l=t.instruments,c=e.OPEN_POSITION,u=e.POSITION_METRICS,d=e.instrumentPositions,p=e.instrumentPositionsCounter;return a.a.each(o,(function(e){var t=e.positionCode,n=e.instrumentId,i=u[t],r=l.idToSymbolMap[n],o=d[r],s=l.FX_INSTRUMENT[r],a=l.QUOTE[r],f=p[r];if(i&&i.portfolioId>0)c[t]=w({},e);else{if(o||(o=d[r]={}),f||(f=p[r]={_count:0}),o[t]||f._count++,e.quantity=Number(e.quantity),e._instrumentSymbol=r,e._directionName=e.quantity<0?__("actions.sold"):__("actions.bought"),e.costBasis=s?parseFloat(e.costBasis).toFixed(s.precision):e.costBasic,a){var h=e.costBasis,m=e.quantity>0?a.ask:a.bid;e._priceChange=(m-h)/h*100}o[t]=t,c[t]=w({},e),d[r]=w({},o)}})),a.a.each(s,(function(e){var t=c[e];if(t){var n=t._instrumentSymbol,i=d[n],r=p[n];i&&(delete i[e],d[n]=w({},i),r&&(r._count--,r._count<=0&&(delete d[n],delete p[n])))}delete c[e],delete u[e]})),w({},e,{OPEN_POSITION:w({},c),instrumentPositions:w({},d),instrumentPositionsCounter:w({},p),totalPositionsCount:a.a.keys(c).length});case C.f:return w({},e,{OPEN_POSITION_FILTERS:i});case C.c:var f=w({},e.closingPosition),h=i.positionCode,m=i.status,g=i.closingAmount,v=i.changedQuantity;return f[h]={status:m,closingAmount:g,changedQuantity:v},w({},e,{closingPosition:w({},f)});case C.a:var b=w({},e.closingPosition),_=i.positionCode,y=i.status;return b[_]=y,delete b[_],w({},e,{closingPosition:w({},b)});case C.n:var E=w({},e.REQUIRED_MARGIN);return a.a.each(i,(function(e){E[e.positionCode]=e})),w({},e,{REQUIRED_MARGIN:E})}return e}var P=n(299),k=n(3),I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},A={ORDER:{},instrumentOrders:{},instrumentOrdersCounter:{},count:0,totalOrdersCount:0};function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments[1],n=t.type,i=t.payload;switch(n){case P.d:var r=i.edited,o=i.removed,s=t.instruments,l=e.ORDER,c=e.instrumentOrders,u=e.instrumentOrdersCounter;return r=a.a.filter(r,(function(e){return!a.a.contains([k.ORDER_EXECUTION_STATUS_WAITING_GSL],e.lastExecutionStatus)})),a.a.each(r,(function(e){var t=e.orderChainId,n=e.instrumentId,i=s.idToSymbolMap[n],r=c[i],o=u[i],a=e.status===k.WORKING&&e.timeInForce===k.TIME_IN_FORCE_GTC;a?(r||(r=c[i]={}),o||(o=u[i]={_count:0}),r[t]||o._count++,e._instrumentSymbol=i,r[t]=t,l[t]=I({},e),c[i]=I({},r)):!a&&l[t]&&r[t]&&(delete r[t],delete l[t],o._count--,c[i]=I({},r),o._count<=0&&(delete u[i],delete c[i]))})),a.a.each(o,(function(e){var t=l[e];if(t){var n=t._instrumentSymbol,i=c[n],r=u[n];i&&(delete i[e],c[n]=I({},i),r&&(r._count--,r._count<=0&&(delete c[n],delete u[n])))}delete l[e]})),I({},e,{ORDER:I({},l),instrumentOrders:I({},c),instrumentOrdersCounter:I({},u),count:a.a.keys(c).length,totalOrdersCount:a.a.size(l)})}return e}var N=n(121),D=n(16),R=n.n(D),L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};var M={namedKey:"service.commentaries.page.title",status:k.EMPTY,lastUpdated:0,all:{},sortedItemsId:[],newItemsId:[],isFirstLoad:!0,count:0,enabled:!1,selectedCommentaryId:null,selectedCommentaryStatus:k.EMPTY,pageStatus:k.CLOSED};function j(){var e,t,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,r=arguments[1],o=r.type,s=r.payload;switch(o){case N.b:return L({},i,{status:k.LOADING,lastUpdated:a.a.now()});case N.d:var l=L({},i.all),c=s.additionalData,u=s.responsePayload.data,d=c.prevStateAll,p=!a.a.isEmpty(d),f=[],h=[];Object.keys(u).forEach((function(e){var t=u[e]._id;l[t]=L({},l[t],u[e])}));var m=a.a.sortBy(u,(function(e){return-R()(e.publish_date).valueOf()}));return Object.keys(m).forEach((function(e){var t=m[e]._id;f.push(t),p&&!d[t]&&h.push(t)})),L({},i,{status:k.SUCCESS,lastUpdated:a.a.now(),isFirstLoad:!1,all:l,sortedItemsId:f,newItemsId:h,count:a.a.size(u)});case N.c:return L({},i,{status:k.ERROR,all:[]});case N.i:return L({},i,{selectedCommentaryId:s});case N.e:return L({},i,{selectedCommentaryStatus:k.LOADING});case N.g:var g=s.additionalData,v=s.responsePayload;return L({},i,{all:L({},i.all,(e={},t=g.id,n=L({},v.data),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e)),selectedCommentaryStatus:k.SUCCESS});case N.f:return L({},i,{selectedCommentaryStatus:k.ERROR});case N.h:return L({},i,{pageStatus:k.OPEN});case N.a:return L({},i,{pageStatus:k.CLOSED,selectedCommentaryId:null})}return i}var F,B=n(69),U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function V(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q=__(B.g.NEWS),H=(z(F={all:{},availableServices:[]},k.SELECTED_DROPDOWN_SERVICE_PRIMARY,""),z(F,k.SELECTED_DROPDOWN_SERVICE_SECONDARY,""),z(F,"defaultService",q),F);function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments[1],n=t.payload;switch(t.type){case B.c:var i=t.name,r=t.enabled,o=e.all,s=e.availableServices,l=o[i];return l||(l=o[i]={name:i,enabled:r}),s=a.a.filter(a.a.keys(o),(function(e){return o[e].enabled})),U({},e,{all:U({},o),availableServices:[].concat(V(s))});case B.f:var c=n.name,u=n.id;return U({},e,z({},u,c))}return e}var G=n(222),W=n(9),Y=n.n(W),K=function(e){return function(t){return function(n){var i=n.type;n.payload;switch(i){case B.a:Y.a.checkTradingToolEnabled(k.TRADING_TOOLS.SIGNALS,!0).then((function(t){return e.dispatch(Object(G.b)(__(B.g.SIGNALS),t))})).catch((function(t){return e.dispatch(Object(G.a)(t,__(B.g.SIGNALS)))})),Y.a.checkTradingToolEnabled(k.TRADING_TOOLS.FOREXLIVE).then((function(t){return e.dispatch(Object(G.b)(__(B.g.COMMENTARY),t))})).catch((function(t){return e.dispatch(Object(G.a)(t,__(B.g.COMMENTARY)))})),Y.a.checkTradingToolEnabled(k.TRADING_TOOLS.NEWS_FEED).then((function(t){return e.dispatch(Object(G.b)(__(B.g.NEWS),t))})).catch((function(t){return e.dispatch(Object(G.a)(t,__(B.g.NEWS)))})),Y.a.checkTradingToolEnabled(k.TRADING_TOOLS.WEBINARS).then((function(t){return e.dispatch(Object(G.b)(__(B.g.XRAY),t))})).catch((function(t){return e.dispatch(Object(G.a)(t,__(B.g.XRAY)))}))}return t(n)}}},X=n(34),Q=n(135),J=n(152),Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var ne={status:k.EMPTY,lastUpdated:0,appliedFilters:{category:""},events:[],eventsMap:{},eventsIds:[],sortedRaw:[],futureEvents:[],calendarEvents:[],pastEvents:[],selectedPastEventIndex:-1,pastEventsCount:0,moreNextPastEventAvailable:!1,morePrevPastEventAvailable:!1,requests:{},count:0,categories:[],pageView:X.b,selectedDate:null,selectedSmallCalendarDate:null,selectedView:X.M,selectedEventId:null,watchWebinarId:null,nextSessionEventId:null,premiumWebinarsCheckerRequest:k.EMPTY,isFilterEnabled:Y.a.isWebinarsFilterEnabled(),isPremiumEnabled:!1,isMobileSmallCalendarOpen:!1};function ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments[1],n=t.type,i=t.payload;switch(n){case X.n:var r=i.selectedDate,o=i.selectedSmallCalendarDate;return Z({},e,{selectedDate:r,selectedSmallCalendarDate:o});case X.s:return Z({},e,{status:k.LOADING,lastUpdated:a.a.now()});case X.u:var s=i.responsePayload.data,l=e.isPremiumEnabled,c=s&&s.webinars||[],u=a.a.groupBy(c,(function(e){return e.category})),d=[].concat(te(a.a.keys(u))),p=a.a.chain(c).sortBy("startTime").reject((function(e){return!l&&e.isPremium})).value();return Z({},e,{status:k.SUCCESS,lastUpdated:a.a.now(),events:[].concat(te(p)),categories:d});case X.t:return Z({},e,{status:k.ERROR});case X.m:var f=a.a.chain(e.events).map((function(e){var t=Object(J.c)(new Date(parseInt(e.startTime))),n=parseInt(e.duration),i=R()(t).add({minutes:n}).toDate().getTime(),r=Object(J.b)().getTime(),o=Y.a.getWebinarsActiveAdditionTime(),s=Y.a.getWebinarsPreActiveAdditionTime();t=t.toDate().getTime();var a=e.isPremium,l=i+o<r,c=!l&&t-s<r&&r<i+o,u=!l&&!c&&t-s-k.HOUR_IN_MILLISECONDS<r,d=!l&&!c&&!u&&t-s>r;return e._currentTime=r,e._start=new Date(t),e._end=new Date(i),e._isPast=l,e._isLive=c,e._isSoon=u,e._isUpcoming=d,e.allDay=!1,e._type=l&&X.i||c&&X.h||a&&X.j||u&&X.k||d&&X.l,e._period=l&&X.i||c&&X.h||u&&X.k||d&&X.l,e})),h=f.indexBy("id").value(),m=f.map((function(e){return e.id})).value(),g=f.reject((function(e){return e._isPast&&!e.historyVODUrl})).reject((function(e){return e._isPast&&!e.url})).value();return Z({},e,{events:[].concat(te(g)),eventsMap:Z({},h),eventsIds:[].concat(te(m)),calendarEvents:[].concat(te(g))});case X.H:return Z({},e,{pageView:X.r});case X.G:return Z({},e,{pageView:X.b});case X.c:return Z({},e,{selectedDate:i});case X.e:return Z({},e,{selectedSmallCalendarDate:i,selectedDate:i});case X.f:return Z({},e,{selectedView:String(i).toUpperCase()});case X.d:return Z({},e,{selectedEventId:i});case X.A:var v=e.selectedPastEventIndex,b=e.pastEventsCount,_=(v-1)%b;return Z({},e,{morePrevPastEventAvailable:b&&_<b,moreNextPastEventAvailable:b&&_>0,selectedPastEventIndex:b?_:-1});case X.B:var y=e.selectedPastEventIndex,E=e.pastEventsCount,S=(y+1)%E;return Z({},e,{morePrevPastEventAvailable:E&&S<E-1,moreNextPastEventAvailable:E&&S>0,selectedPastEventIndex:E?S:-1});case X.L:return Z({},e,{watchWebinarId:i});case X.D:case X.I:var C=i.additionalData.eventId,w=e.requests;return Z({},e,{requests:Z(ee({},C,k.PENDING),w)});case X.F:case X.K:var O=i.additionalData,T=O.eventId,P=O.action,I=i.responsePayload.data,A=e.requests;delete A[T];var x=e.eventsMap,N=x[T],D=N&&I&&I.success&&"subscribe"===P;return x[T]=Z({},N,{isRegistered:D}),Z({},e,{requests:Z({},A),eventsMap:Z({},x)});case X.E:case X.J:var L=i.additionalData.eventId,M=e.requests;return delete M[L],Z({},e,{requests:Z({},M)});case X.v:var j=i.name,F=i.value;return"open"===j?Z({},e,{isMobileSmallCalendarOpen:!!F}):e;case X.a:var B=i.value,U=e.events,V=[],z=[],q=a.a.chain(U);return B?(V=q.filter((function(e){return!e._isPast&&a.a.contains(B,e.category)})).pluck("id").value(),z=q.filter((function(e){return a.a.contains(B,e.category)})).value()):(V=q.filter((function(e){return!e._isPast})).pluck("id").value(),z=q.value()),Z({},e,{futureEvents:[].concat(te(V)),calendarEvents:[].concat(te(z)),appliedFilters:Z({},e.appliedFilters,{value:B})});case X.C:var H=e.events,$=a.a.pluck(a.a.filter(H,(function(e){return!e._isPast})),"id"),G=a.a.pluck(a.a.filter(H,(function(e){return e._isPast&&e.startTime>Date.now()-k.MONTH_IN_MILLISECONDS})),"id");G=a.a.sortBy(G,(function(t){return-1*Object(Q.e)(e,t)}));var W=a.a.isEmpty(G),K=a.a.size(G),ie=W?-1:0,re=!W&&ie!==K-1,oe=!W&&ie>0,se=a.a.first(a.a.filter($,(function(t){return!Object(Q.l)(e,t)}))),ae=a.a.groupBy($,(function(t){return R()(Object(Q.e)(e,t)).format("YYYY-MM")}));return Z({},e,{groupedFutureEvents:[].concat(te(ae)),futureEvents:[].concat(te($)),pastEvents:[].concat(te(G)),nextSessionEventId:se,morePrevPastEventAvailable:re,moreNextPastEventAvailable:oe,selectedPastEventIndex:ie,pastEventsCount:K});case X.x:return Z({},e,{premiumWebinarsCheckerRequest:k.LOADING});case X.z:return Z({},e,{isPremiumEnabled:!!i.responsePayload,premiumWebinarsCheckerRequest:k.SUCCESS})}return e}var re=n(56),oe=n(33),se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var le={status:k.EMPTY,news:{},count:0,selectedNewsId:null,lastUpdated:0,isEmpty:!1,enabled:!1,isFirstLoad:!0,filter:[],headlineIds:[],pageStatus:k.CLOSED,newItemsId:[],availableFilters:[],selectedDropdownFilter:"",refCount:0},ce=ae({namedKey:"service.news.page.title"},re.a,se({},le));function ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments[1],n=t.type,i=t.payload;switch(n){case re.f:var r=i.additionalData.ticker;return se({},e,ae({},r,se({},e[r],{status:k.LOADING})));case re.h:var o=i.additionalData,a=i.responsePayload.data,l=o.ticker,c=o.prevStateAll,u={},d=s.unique(s.map(a,(function(e){return e.wire}))),p=!s.isEmpty(c),f=[],h=[];for(var m in d.unshift(__("news.page.filter.all")),a){var g=a[m],v=String(g.ref).split("/")[1];u[v]=se({},u[v],g),g.image&&g.image!==s.capitalize(k.NONE)&&f.push(v),p&&!c[v]&&h.push(v)}return se({},e,ae({},l,se({},e[l],{status:k.SUCCESS,lastUpdated:s.now(),news:u,isEmpty:s.isEmpty(u),newItemsId:h,headlineIds:f,availableFilters:d,count:s.size(a),filter:s.keys(u),selectedDropdownFilter:s.first(d),isFirstLoad:!1})));case re.g:var b=i.additionalData.ticker;return se({},e,ae({},b,se({},e[b],{status:k.ERROR,all:{},availableFilter:[],selectedDropdownFilter:""})));case re.c:return se({},e,ae({},i,se({},le)));case re.m:var _=i.id,y=i.ticker;return se({},e,ae({},y||re.a,se({},e[y||re.a],{selectedNewsId:_})));case re.i:return se({},e,ae({},re.a,se({},e[re.a],{pageStatus:k.OPEN})));case re.b:return se({},e,ae({},re.a,se({},e[re.a],{pageStatus:k.CLOSED,selectedNewsId:null})));case re.l:var E=i.ticker,S=i.name,C=e[E].news,w=s.filter(s.keys(C),(function(e){return C[e].wire===S||S===__("news.page.filter.all")}));return se({},e,ae({},E,se({},e[E],{selectedDropdownFilter:S,filter:w,selectedNewsId:oe.default.mobile()?null:s.first(w)})));case re.e:return se({},e,ae({},re.a,se({},e[re.a],{refCount:e[re.a].refCount+1})));case re.d:return se({},e,ae({},re.a,se({},e[re.a],{refCount:e[re.a].refCount-1})));case re.k:return se({},e,ae({},i,se({},le)))}return e}var de=n(156),pe=n(300),fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};var he={status:k.EMPTY,playlists:{},selectedUrl:null,selectedGroup:null,isOpenGroup:!0};function me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments[1],n=t.type,i=t.payload;switch(n){case de.a:return fe({},e,{status:k.LOADING});case de.c:var r=i.responsePayload,o=s.isArray(r)&&[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r))||[],a=Object(pe.a)(),l=s.first(o),c=l&&l.playlist,u=c&&s.first(c),d=u&&u.url||"",p=l&&l.name||"";return fe({},e,{status:k.SUCCESS,playlists:o,selectedUrl:s.has(a,"url")?a.url:d,selectedGroup:s.has(a,"group")?a.group:p});case de.b:return fe({},e,{status:k.ERROR,playlists:{},selectedUrl:null});case de.g:return fe({},e,{selectedUrl:i});case de.f:return fe({},e,{selectedGroup:i,isOpenGroup:e.selectedGroup!==i||!e.isOpenGroup})}return e}var ge=n(206),ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},be={list:{}};function _e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments[1],n=t.type,i=t.payload;switch(n){case ge.c:return ve({},e,{list:i});case ge.d:return ve({},e,{list:ve({},e.list,i)});case ge.a:return ve({},e,{list:{}});case ge.b:var r=e.list;return r[i]&&delete r[i],ve({},e,{list:ve({},r)})}return e}var ye=n(75),Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Se={instruments:[],tradingSettingsIdToEdit:null};function Ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments[1],n=t.payload;switch(t.type){case ye.k:return Ee({},e,{instruments:n});case ye.g:return Ee({},e,{tradingSettingsIdToEdit:n})}return e}var we=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Oe=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(i){var r=i.types,o=i.callApi,a=i.shouldCallApi,l=void 0===a?function(e){return!0}:a,c=i.additionalData,u=void 0===c?{}:c;if(!r)return e(i);if(!Array.isArray(r)||3!==r.length||!r.every((function(e){return s.isString(e)||s.isFunction(e)})))throw new Error("Expected an array of three string types.");if("function"!=typeof o)throw new Error("Expected callApi to be a function.");if(l(n())){var d=we(r,3),p=d[0],f=d[1],h=d[2];return s.isFunction(p)?t(p({additionalData:u})):t(s.extend({},{type:p,payload:{additionalData:u}})),o().then((function(e){return s.isFunction(f)?(t(f(s.extend({},{responsePayload:e,additionalData:u}))),e):(t(s.extend({},{payload:{responsePayload:e,additionalData:u},type:f})),e)}),(function(e){var n=e.response;return s.isFunction(h)?(t(h(s.extend({},{additionalData:u,errorCode:s.property(n,"error"),error:!0}))),Promise.reject(n)):(t(s.extend({},{payload:{additionalData:u,errorCode:s.property(n,"error"),error:!0},type:h})),Promise.reject(n))}))}}}},Te=n(878),Pe=n(166),ke=n(61),Ie=n(108),Ae=n.n(Ie),xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ne={isReloadNeeded:!1,timezone:{list:[]}};function De(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments[1],n=t.type,i=t.payload;switch(n){case Pe.b:return xe({},e,{timezone:xe({},e.timezone,{status:Pe.f})});case Pe.d:var r=i.responsePayload,o=Ae.a.local,s=a.a.map(r.data,(function(e){return e.id===ke.LOCAL&&(e=xe({},e,o.getUserTimezoneObjectItem())),e.displayName=__("user.timezone."+e.id.replace(/[^\w]/,"_").toLowerCase()),e}));return xe({},e,{timezone:{list:s,status:Pe.g}});case Pe.c:return xe({},e,{timezone:{status:Pe.e}});case Pe.a:return xe({},e,{isReloadNeeded:i})}return e}var Re=n(45),Le=n(64),Me=n(26),je=n.n(Me),Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function Be(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var Ue={statusOfClasses:k.EMPTY,statusOfAlerts:k.EMPTY,statusOfAlertsBySymbol:k.EMPTY,statusOfSentiment:k.EMPTY,classesMap:{},alertsMap:{},alertsIds:[],alertsBySymbolMap:{},alertsBySymbolIds:[],alertsBySymbolBadges:{},openRowAlerts:{},alertsBadges:{},intervals:[{name:"acuity-trading.intervals.daily",value:Re.c},{name:"acuity-trading.intervals.hourly",value:Re.e}],sentiment:null,selectedAlertId:null,selectedClass:[],selectedInstruments:[],selectedInterval:[],selectedLevelOfConfidence:{min:70,max:100},filteredAlerts:[],selectedAcuityNewsId:null};function Ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.payload;switch(t.type){case Re.f:return Fe({},Ue);case Re.o:var i=n.responsePayload.data,r=a.a.first(i),o=a.a.first(e.intervals);return Fe({},e,{classes:[].concat(Be(i)),classesMap:a.a.indexBy(i,"id"),selectedClass:r&&r.id,statusOfClasses:k.SUCCESS,selectedInterval:o&&o.value});case Re.n:return Fe({},e,{statusOfClasses:k.ERROR});case Re.g:return Fe({},e,{alertsMap:{},alertsIds:[],alertsSymbols:[],filteredAlerts:[],statusOfAlerts:k.LOADING});case Re.l:var s=n.responsePayload.data,l=a.a.chain([].concat(Be(s))).reject((function(e){return a.a.isEmpty(e.symbol)||!je.a.getInstrumentBySymbol(e.symbol)&&!je.a.getInstrumentBySymbol(Object(Le.transformSymbolToSBSymbol)(e.symbol))})).map((function(e){return e._eventTime=Date.parse(e.eventTime),e._symbol=String(e.symbol).replace(/\//g,"~"),je.a.getInstrumentBySymbol(e.symbol)||(e.symbol=Object(Le.transformSymbolToSBSymbol)(e.symbol)),e})).sortBy((function(e){return-1*e._eventTime})),c=l.pluck("symbol").uniq().value(),u=l.map((function(e){return a.a.pick(e,"symbol","_eventTime","sentiment","message","percents")})).groupBy("symbol").value();return Fe({},e,{alertsSymbols:[].concat(Be(c)),alertsMap:l.indexBy("id").value(),alertsIds:l.pluck("id").value(),statusOfAlerts:k.SUCCESS,alertsBadges:u});case Re.k:return Fe({},e,{statusOfAlerts:k.ERROR});case Re.h:return Fe({},e,{alertsBySymbolMap:{},alertsBySymbolIds:[],statusOfAlerts:k.LOADING});case Re.j:var d=n.responsePayload.data,p=a.a.chain([].concat(Be(d))).map((function(e){return e._eventTime=Date.parse(e.eventTime),e._symbol=String(e.symbol).replace(/\//g,"~"),je.a.getInstrumentBySymbol(e.symbol)||(e.symbol=Object(Le.transformSymbolToSBSymbol)(e.symbol)),e})).sortBy((function(e){return-1*e._eventTime})),f=p.map((function(e){return a.a.pick(e,"symbol","_eventTime","sentiment","message")})).groupBy("symbol").value();return Fe({},e,{alertsBySymbolMap:p.indexBy("id").value(),alertsBySymbolIds:p.pluck("id").value(),statusOfAlerts:k.SUCCESS,alertsBadges:Fe({},e.alertsBadges,f)});case Re.i:return Fe({},e,{alertsBySymbolMap:{},alertsBySymbolIds:[],statusOfAlerts:k.ERROR});case Re.a:var h=e.alertsMap,m=e.alertsIds,g=e.selectedInstruments,v=e.selectedLevelOfConfidence,b=v.min,_=v.max,y=function(e){return e.percents>=b&&e.percents<=_},E=a.a.chain(m);return a.a.isEmpty(g)||(E=E.filter((function(e){return a.a.contains(g,h[e].symbol)}))),E=(E=E.filter((function(e){return h[e]&&y(h[e])}))).filter((function(e){return h[e]&&y(h[e])})),Fe({},e,{filteredAlerts:[].concat(Be(E.value()))});case Re.u:return Fe({},e,{selectedClass:n});case Re.v:return Fe({},e,{selectedInstruments:n});case Re.s:return Fe({},e,{selectedInstruments:[]});case Re.w:return Fe({},e,{selectedInterval:n});case Re.x:var S=n.min,C=n.max;return Fe({},e,{selectedLevelOfConfidence:{min:parseInt(S,10),max:parseInt(C,10)}});case Re.t:return Fe({},e,{selectedAlertId:n});case Re.b:return Fe({},e,{sentiment:null});case Re.p:return Fe({},e,{statusOfSentiment:k.LOADING});case Re.r:var w=n.responsePayload.data,O=a.a.isEmpty(w)?null:Fe({},w);if(O){var T=O.sentimentHistory&&O.sentimentHistory.macd,P=O.priceHistory;O._prices=a.a.chain(P).map((function(e){return{date:Date.parse(e.date),value:e.value}})).sortBy((function(e){return e.date})).map((function(e){return{x:e.date,y:e.value}})).value(),O._sentiments=a.a.chain(T).map((function(e){return{date:Date.parse(e.date),value:e.value}})).sortBy((function(e){return e.date})).map((function(e){return{x:e.date,y:e.value}})).value()}return Fe({},e,{statusOfSentiment:k.SUCCESS,sentiment:O});case Re.q:return Fe({},e,{sentiment:null,statusOfSentiment:k.ERROR});case Re.z:var I=e.openRowAlerts;return I[n]?delete I[n]:I[n]=!0,Fe({},e,{openRowAlerts:I});case Re.y:return Fe({},e,{selectedAcuityNewsId:n})}return e}var ze,qe=n(28),He=n(21),$e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function We(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var Ye=function(e){return{list:[].concat(We(e)),count:a.a.size(e)}},Ke=function(){return{messages:Ye([]),unread:{count:0},new:{count:0},newIds:Ye([]),seenIds:Ye([]),garbage:Ye([]),marked:Ye([])}},Xe=(Ge(ze={tabs:[He.TYPE_PERSONAL,He.TYPE_PLATFORM]},He.TYPE_PERSONAL,Ke()),Ge(ze,He.TYPE_PLATFORM,Ke()),Ge(ze,"activeTab",He.TYPE_DEFAULT),Ge(ze,"activeMessage",null),Ge(ze,"isActiveMessageVisible",!1),Ge(ze,"markAllCheckboxState",He.TAB_CHECKBOX_UNCHECKED),Ge(ze,"status",k.SUCCESS),Ge(ze,"apiStatus",k.SUCCESS),Ge(ze,"isOpened",!1),Ge(ze,"lastUpdated",a.a.now()),ze);function Qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,i=t.payload;switch(n){case qe.s:return $e({},e,{isOpened:i,isActiveMessageVisible:!1});case qe.y:return $e({},e,{apiStatus:k.SUCCESS});case qe.x:return $e({},e,{apiStatus:k.LOADING});case qe.w:return $e({},e,{apiStatus:k.ERROR});case qe.A:return $e({},e,{status:k.LOADING});case qe.B:return $e({},e,{status:k.SUCCESS});case qe.z:return $e({},e,{status:k.ERROR});case qe.e:var r,o=i.messageType,s=i.array,l=[].concat(We(e[o].newIds.list)),c=a.a.uniq([].concat(We(e[o].messages.list),We(s)),!0,(function(e){return e.id}));return c=a.a.map(c,(function(e){return e.isNew&&l.push(e.id),e})),$e({},e,(Ge(r={},o,$e({},e[o],{messages:Ye(c),newIds:Ye(l)})),Ge(r,"lastUpdated",a.a.now()),r));case qe.d:var u,d=i.messageType,p=i.array,f=e[d],h=f.newIds.list,m=f.messages.list,g=a.a.filter(p,(function(e){return!a.a.some(m,(function(t){return t.id===e.id}))})),v=a.a.map(g,(function(e){return e.isNew=!0,a.a.contains(h,e.id)||h.push(e.id),e}));return $e({},e,(Ge(u={},d,$e({},f,{messages:Ye([].concat(We(v),We(m))),newIds:Ye(h),unread:{count:f.unread.count+v.length},new:{count:f.new.count+v.length}})),Ge(u,"lastUpdated",a.a.now()),u));case qe.r:var b=i.messageType,_=i.array,y=0,E=e[b].new.count,S=e[b].seenIds.list,C=a.a.filter(e[b].newIds.list,(function(e){return!a.a.contains(_,e)})),w=a.a.map(e[b].messages.list,(function(e){return a.a.contains(_,e.id)&&(e.isNew=!1,S.push(e.id),y++),e}));return $e({},e,Ge({},b,$e({},e[b],{messages:Ye(w),newIds:Ye(C),seenIds:Ye(S),new:{count:E<0?0:E-y}})));case qe.a:var O=i.messageType,T=i.array,P=0,I=a.a.uniq([].concat(We(e[O].garbage.list),We(T))),A=a.a.filter(e[O].newIds.list,(function(e){return!a.a.contains(I,e)})),x=a.a.map(e[O].messages.list,(function(e){return a.a.contains(I,e.id)&&(e.isRead||e.isDeleted||P++,e.isDeleted=!0),e})),N=e[O].unread.count-P;return $e({},e,Ge({},O,$e({},e[O],{messages:Ye(x),garbage:Ye(I),newIds:Ye(A),unread:{count:N<0?0:N}})));case qe.c:var D,R={},L=[],M=function(t){return $e({},e[t],{messages:Ye(L[t]),garbage:Ye([]),unread:{count:e[t].unread.count+R[t]}})};return L=a.a.reduce(e.tabs,(function(t,n){return R[n]=0,$e({},t,Ge({},n,function(t){return a.a.map(e[t].messages.list,(function(n){return a.a.contains(e[t].garbage.list,n.id)&&(n.isDeleted=!1,n.isRead||R[t]++,n.isNew&&(n.isNew=!1)),n}))}(n)))}),{}),$e({},e,(Ge(D={},He.TYPE_PERSONAL,M(He.TYPE_PERSONAL)),Ge(D,He.TYPE_PLATFORM,M(He.TYPE_PLATFORM)),D));case qe.b:var j,F=a.a.reduce(e.tabs,(function(t,n){var i=a.a.filter(e[n].messages.list,(function(e){return!e.isDeleted}));return $e({},t,Ge({},n,i))}),{}),B=a.a.reduce(e.tabs,(function(t,n){var i=e[n].garbage.list,r=a.a.filter(e[n].marked.list,(function(e){return!a.a.contains(i,e)}));return $e({},t,Ge({},n,r))}),{}),U=a.a.reduce(e.tabs,(function(t,n){var i=e[n].marked.list,r=a.a.filter(e[n].newIds.list,(function(e){return!a.a.contains(i,e)}));return $e({},t,Ge({},n,r))}),{}),V=function(t){return $e({},e[t],{messages:Ye(F[t]),marked:Ye(B[t]),newIds:Ye(U[t]),garbage:Ye([])})};return $e({},e,(Ge(j={},He.TYPE_PERSONAL,V(He.TYPE_PERSONAL)),Ge(j,He.TYPE_PLATFORM,V(He.TYPE_PLATFORM)),j));case qe.m:var z=i.messageType,q=i.array,H=[].concat(We(e[z].marked.list),We(q));return $e({},e,Ge({},z,$e({},e[z],{marked:Ye(H)})));case qe.p:var $=i.messageType,G=i.array,W=a.a.filter(e[$].marked.list,(function(e){return!a.a.contains(G,e)}));return $e({},e,Ge({},$,$e({},e[$],{marked:Ye(W)})));case qe.q:var Y;return $e({},e,(Ge(Y={},He.TYPE_PERSONAL,$e({},e[He.TYPE_PERSONAL],{marked:Ye([])})),Ge(Y,He.TYPE_PLATFORM,$e({},e[He.TYPE_PLATFORM],{marked:Ye([])})),Y));case qe.n:var K,X=i.messageType,Q=!0===i.selected?He.TAB_CHECKBOX_CHECKED:He.TAB_CHECKBOX_UNCHECKED,J=Q===He.TAB_CHECKBOX_CHECKED?a.a.map(e[X].messages.list,(function(e){return e.id})):[];return $e({},e,(Ge(K={},X,$e({},e[X],{marked:Ye(J)})),Ge(K,"markAllCheckboxState",Q),K));case qe.u:var Z;return $e({},e,(Ge(Z={},e.activeTab,$e({},e[e.activeTab],{marked:Ye([])})),Ge(Z,"activeTab",i),Z));case qe.t:return $e({},e,{activeMessage:i});case qe.v:return $e({},e,{isActiveMessageVisible:i});case qe.h:var ee=0,te=i.messageType,ne=i.array,ie=a.a.map(e[te].messages.list,(function(e){return a.a.contains(ne,e.id)&&(e.isRead=!0,ee++),e})),re=e[te].unread.count-ee;return $e({},e,Ge({},te,$e({},e[te],{messages:Ye(ie),unread:{count:re<0?0:re}})));case qe.i:var oe=0,se=i.messageType,ae=i.isRead,le=a.a.map(e[se].messages.list,(function(t){return a.a.contains(e[se].marked.list,t.id)&&(t.isRead!==ae&&oe++,t.isRead=ae),t})),ce=ae?e[se].unread.count-oe:e[se].unread.count+oe;return $e({},e,Ge({},se,$e({},e[se],{messages:Ye(le),unread:{count:ce<0?0:ce}})));case qe.o:var ue=0,de=i.messageType,pe=i.array,fe=a.a.map(e[de].messages.list,(function(e){return a.a.contains(pe,e.id)&&(e.isRead=!1,ue++),e}));return $e({},e,Ge({},de,$e({},e[de],{messages:Ye(fe),unread:{count:e[de].unread.count+ue}})));case qe.C:var he=e.activeTab,me=e[he],ge=me.marked,ve=me.messages,be=i,_e=He.TAB_CHECKBOX_INDETERMINATE;return 0===ge.count&&(_e=He.TAB_CHECKBOX_UNCHECKED),ge.count&&ge.count===ve.count&&(_e=He.TAB_CHECKBOX_CHECKED),$e({},e,{markAllCheckboxState:be||_e});case qe.D:var ye=i,Ee=e[ye].messages.list,Se=e[ye].newIds.list,Ce=a.a.map(Ee,(function(e){if(e.isNew){var t=a.a.indexOf(Se,e.id);t>-1&&Se.splice(t,1),e.isNew=!1}return e}));return $e({},e,Ge({},ye,$e({},e[ye],{messages:Ye(Ce),newIds:Ye(Se)})));case qe.g:var we=i.messageType,Oe=i.count;return a.a.contains(e.tabs,we)?$e({},e,Ge({},we,$e({},e[we],{unread:{count:Oe}}))):$e({},e);case qe.f:var Te=i.messageType,Pe=i.count;return a.a.contains(e.tabs,Te)?$e({},e,Ge({},Te,$e({},e[Te],{new:{count:Pe}}))):$e({},e);case qe.l:var ke=i.additionalData.messageType;return a.a.contains(e.tabs,ke)?$e({},e,Ge({},ke,$e({},e[ke],{seenIds:Ye([])}))):$e({},e)}return e}var Je=n(378),Ze=864e5,et=function(e){return Array.prototype.reduce.call(arguments,(function(e,t){return e&&t?Math.min(e,t):e||t}))},tt=function(e){var t=e.data.items,n=a.a.map(t,(function(e){return[et(e.delta_gt_up,e.delta_lt_up,e.delta_eq_up,e.delta_gt_down,e.delta_lt_down,e.delta_eq_down),Math.max(e.delta_gt_up,e.delta_lt_up,e.delta_eq_up,e.delta_gt_down,e.delta_lt_down,e.delta_eq_down)]})),i=a.a.min(n,"0"),r=a.a.max(n,"1");return Math.round(100*i[0])+"%-"+Math.round(100*r[1])+"%"},nt=function(e){var t,n,i=(t=new Date(e),n=Object(J.b)(),Math.abs(t.getTime()-n.getTime())/Ze);return new Date(e).toDateString()===(new Date).toDateString()?__("autochartist.text.date.today",R()(e).format("h:mm a")):new Date(e).toDateString()===function(e){return new Date(e.setDate(e.getDate()+1))}(new Date).toDateString()?__("autochartist.text.date.tomorrow",R()(e).format("h:mm a")):i<6?R()(e).format("dddd [at] h:mm a"):R()(e).format("D/M/YYYY")};var it=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};var rt={status:k.EMPTY,lastUpdated:0,enabled:!1,symbolToEventMap:{},events:{},upcoming:{},openedInsightsRows:{}};function ot(e,t,n){var i=e.events,r=e.symbolToEventMap,o=e.upcoming,s=r[t.replace("/","")],l=Math.max(n,o[t]?o[t].length:0);if(!s)return null;var c=R()().valueOf();return a.a.chain(s).map((function(e){return i[e]})).filter((function(e){return R()(e.data.released_at).valueOf()>c})).sortBy((function(e){return R()(e.data.released_at).valueOf()})).first(l).map((function(e){var t=a.a.findWhere(e.links,{rel:"flag-icon"}),n=e.data,i=Object(J.c)(R()(n.released_at).toDate()).valueOf();return{id:n.event_uid,name:n.name,timestamp:i,formattedDate:nt(i),flag:t&&t.href,prediction:tt(e),typeCode:n.event_type_code}})).value()}function st(){var e,t,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,r=arguments[1],o=r.payload;switch(r.type){case Je.c:var s=!!o.responsePayload;return it({},i,{enabled:s,status:s?k.SUCCESS:k.PENDING});case Je.h:var l=o.symbol,c=ot(i,l,o.visibleSize);return it({},i,{upcoming:it({},i.upcoming,(e={},t=l,n=c,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e))});case Je.f:var u={},d={},p=o.responsePayload.data;p=function(e){return a.a.map(e,(function(e){var t=a.a.findWhere(e.links,{rel:"flag-icon"}),n=e.data,i=Object(J.c)(R()(n.released_at).toDate()).valueOf();return it({_id:n.event_uid,_event_type_code:n.event_type_code,_name:n.name,_timestamp:i,_formatedDate:nt(i),_flag:t&&t.href,_opportunitiesQuantity:e.links&&e.links.length,_description:n.description,_prediction:tt(e)},e)}))}(p),p=a.a.sortBy(p,(function(e){return R()(e.data.released_at).valueOf()})),a.a.each(p,(function(e){var t=e.data.event_uid;u[t]=e,a.a.each(e.data.items,(function(e){var n=e.symbol.name;d[n]||(d[n]=[]),d[n].indexOf(t)<0&&d[n].push(t)}))}));var f=it({},rt,{events:u,symbolToEventMap:d,enabled:!0,upcoming:{},status:k.SUCCESS,lastUpdated:a.a.now()});if(o.additionalData&&!a.a.isEmpty(o.additionalData)){var h=o.additionalData,m=h.symbol,g=ot(f,m,h.visibleSize);g&&(f.upcoming[m]=g)}return it({},i,f);case Je.g:var v=i.openedInsightsRows;return v[o]?delete v[o]:v[o]=!0,it({},i,{openedInsightsRows:v})}return i}var at=n(760),lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};var ct={ANALYST_RESEARCH_REPORT:{}};function ut(){var e,t,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,r=arguments[1],o=r.type,s=r.payload;switch(o){case at.c:var a=s.additionalData.symbol;return lt({},i,{ANALYST_RESEARCH_REPORT:lt({},i.ANALYST_RESEARCH_REPORT,(e={},t=a,n=s.responsePayload.data,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e))})}return i}var dt=n(191),pt=n(265),ft=n(236),ht=n(235),mt=n(612),gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};var vt={ALL:null,INFO:{}};function bt(){var e,t,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,r=arguments[1],o=r.type,s=r.payload;switch(o){case mt.c:return gt({},i,{ALL:s.responsePayload.data});case mt.f:var a=s.additionalData.symbol;return gt({},i,{INFO:gt({},i.INFO,(e={},t=a,n=s.responsePayload.data,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e))})}return i}var _t=n(38),yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function Et(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var St={ACCOUNT_METRICS:{accountId:0,balance:0,buyingPower:0,equity:0,margin:0,profitLoss:0,riskLevel:0,activeBonusesAmount:0,maintenanceMargin:0,availableBalanceForWithdrawal:0},ACCOUNT_SETTINGS:{liquidationLevel:0,marginAlertLevel2:1,disableMarginChecks:!1},pendingDeposit:0,TOTALS:{},favorites:[],favoriteInstrumentSymbols:{},favoriteInstrumentSymbolsCount:0,USER_DATA:{},leverages:{request:k.EMPTY,data:{}},quantranksConsent:!1};function Ct(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments[1],n=t.type,i=t.payload;switch(n){case _t.k:return yt({},e,{ACCOUNT_METRICS:yt({},i)});case _t.l:return yt({},e,{ACCOUNT_SETTINGS:yt({},i)});case _t.B:return yt({},e,{pendingDeposit:i});case _t.j:return yt({},e,{TOTALS:i[0]});case _t.a:var r=i,o=e.favoriteInstrumentSymbols;return o[r]=r,yt({},e,{favorites:[].concat(Et(e.favorites),[r]),favoriteInstrumentSymbols:yt({},o),favoriteInstrumentSymbolsCount:a.a.keys(o).length});case _t.e:var s=i,l=e.favoriteInstrumentSymbols,c=e.favorites;l[s]&&delete l[s];var u=a.a.indexOf(c,s);return u>=0&&c.splice(u,1),yt({},e,{favorites:[].concat(Et(c)),favoriteInstrumentSymbols:yt({},l),favoriteInstrumentSymbolsCount:a.a.keys(l).length});case _t.i:var d=a.a.reject(i,(function(e){return a.a.isEmpty(e)||a.a.isNil(a.a.parseNil(e))})),p=e.favorites,f=a.a.uniq([].concat(Et(p),Et(d)));return yt({},e,{favorites:[].concat(Et(f)),favoriteInstrumentSymbols:yt({},a.a.indexBy(f)),favoriteInstrumentSymbolsCount:a.a.size(f)});case _t.u:var h=a.a.uniq(a.a.reject(i,a.a.isEmpty));return yt({},e,{favorites:[].concat(Et(h))});case _t.H:return yt({},e,{USER_DATA:yt({},i)});case _t.r:var m=a.a.mergeDeep({},e.USER_DATA,{complianceData:{confirmCompanyMismatch:i}});return yt({},e,{USER_DATA:m});case _t.o:var g=a.a.mergeDeep({},e.USER_DATA,{brandCompanyData:yt({},i)});return yt({},e,{USER_DATA:g});case _t.z:var v=a.a.mergeDeep({},e.USER_DATA,{brandCompanyData:{partnerCompanyNameKey:i}});return yt({},e,{USER_DATA:v});case _t.G:var b=a.a.mergeDeep({},e.USER_DATA,{ascoreLevel:i});return yt({},e,{USER_DATA:b});case _t.s:var _=a.a.mergeDeep({},e.USER_DATA,{personalData:{"person.country":i}});return yt({},e,{USER_DATA:_});case _t.p:var y=a.a.mergeDeep({},e.USER_DATA,{personalData:{"person.citizenship":i}});return yt({},e,{USER_DATA:y});case _t.w:var E=a.a.mergeDeep({},e.USER_DATA,{personalData:{"person.firstName":i}});return yt({},e,{USER_DATA:E});case _t.x:var S=a.a.mergeDeep({},e.USER_DATA,{personalData:{"person.lastName":i}});return yt({},e,{USER_DATA:S});case _t.n:var C=a.a.mergeDeep({},e.USER_DATA,{personalData:{"person.birthDate":i}});return yt({},e,{USER_DATA:C});case _t.m:var w=a.a.mergeDeep({},e.USER_DATA,{personalData:{"person.address.address":i}});return yt({},e,{USER_DATA:w});case _t.J:var O=a.a.mergeDeep({},e.USER_DATA,{personalData:{"person.address.zipCode":i}});return yt({},e,{USER_DATA:O});case _t.q:var T=a.a.mergeDeep({},e.USER_DATA,{personalData:{"person.address.city":i}});return yt({},e,{USER_DATA:T});case _t.I:var P=a.a.mergeDeep({},e.USER_DATA,{personalData:{"person.language":i}});return yt({},e,{USER_DATA:P});case _t.A:var I=a.a.mergeDeep({},e.USER_DATA,{passwordHash:{hashedPassword:i}});return yt({},e,{USER_DATA:I});case _t.y:var A=a.a.mergeDeep({},e.USER_DATA,{tinData:{nationalCountryIdentifier:i}});return yt({},e,{USER_DATA:A});case _t.v:var x=a.a.mergeDeep({},e.USER_DATA,{stateActions:{firstDepositDone:i}});return yt({},e,{USER_DATA:x});case _t.b:return yt({},e,{leverages:yt({},e.leverages,{request:k.PENDING})});case _t.d:return yt({},e,{leverages:yt({},e.leverages,{request:k.SUCCESS,data:i.responsePayload})});case _t.c:return yt({},e,{leverages:yt({},e.leverages,{request:k.ERROR,data:i})});case _t.F:var N=a.a.mergeDeep({},e.USER_DATA,{complianceData:{quantranksConsent:i.responsePayload.data}});return yt({},e,{USER_DATA:N})}return e}var wt=n(85),Ot=n(106),Tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function Pt(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var kt={myAccountActiveFields:[].concat(Pt(wt.a)),myAccountIsOpened:!1,myAccountAvailableFields:a.a.values(Ot.ACCOUNT_ITEMS)};function It(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments[1],n=t.payload;switch(t.type){case wt.g:var i=n;return a.a.isEmpty(i)&&(i=[].concat(Pt(wt.a))),Tt({},e,{myAccountActiveFields:i});case wt.f:var r=[].concat(Pt(n.additionalData));return Tt({},e,{myAccountActiveFields:r});case wt.d:var o=[].concat(Pt(e.myAccountActiveFields));return Tt({},e,{myAccountActiveFields:o});case wt.k:return Tt({},e,{myAccountIsOpened:n})}return e}var At=n(631),xt=n(204),Nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function Dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rt={};function Lt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt,t=arguments[1],n=t.type,i=t.payload;switch(n){case xt.c:var r=a.a.groupBy(i,"instrumentId");return Nt({},r);case xt.a:var o=i.instrumentId,s=e[o]||[];return Nt({},e,Dt({},o,[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(s),[i])));case xt.d:var l=i.instrumentId,c=i.id,u=e[l];return Nt({},e,Dt({},l,a.a.map(u,(function(e){return e.id!==c?e:Nt({},i)}))));case xt.b:var d=i.priceAlertId,p=i.instrumentId,f=a.a.filter(e[p],(function(e){return e.id!==d}));return Nt({},e,Dt({},p,a.a.isEmpty(f)?null:f))}return e}var Mt,jt=n(53),Ft=n(127),Bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function Ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vt=(Ut(Mt={isBloggersEnabled:null,isAnalystsEnabled:null,isHedgeFundsEnabled:null,isInsidersEnabled:null,isNewsSentimentEnabled:null,isEventsAndTradeEnabled:null,isCustomerLevelsEnabled:null,isAcuityNewsSentimentEnabled:null,isNewsFeedEnabled:null,isFundamentalsEnabled:null},Ft.SETTINGS_IS_ADVANCED_DASHBOARD_SERVICES_PRIMARY_EXPANDED,!0),Ut(Mt,Ft.SETTINGS_IS_ADVANCED_DASHBOARD_SERVICES_SECONDARY_EXPANDED,!0),Ut(Mt,Ft.SETTINGS_SELECTED_SERVICE_PRIMARY,Y.a.isDoubleSignalBoxEnabled()?__(B.g.XRAY):__(B.g.NEWS)),Ut(Mt,Ft.SETTINGS_SELECTED_SERVICE_SECONDARY,__(B.g.NEWS)),Ut(Mt,"isPortfolioEnabled",null),Ut(Mt,Ft.SETTINGS_IS_ADVANCED_DASHBOARD_INSTRUMENT_LIST_EXPANDED,!0),Ut(Mt,"isAutoOpenFeedbackTriggerEnabled",!0),Ut(Mt,"isAccountSwitchTooltipShown",!1),Mt);function zt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,t=arguments[1],n=t.payload;switch(t.type){case jt.i:return Bt({},e,{isBloggersEnabled:n.responsePayload});case jt.f:return Bt({},e,{isAnalystsEnabled:n.responsePayload});case jt.u:return Bt({},e,{isHedgeFundsEnabled:n.responsePayload});case jt.x:return Bt({},e,{isInsidersEnabled:n.responsePayload});case jt.c:return Bt({},e,{isAcuityNewsSentimentEnabled:n.responsePayload});case jt.D:return Bt({},e,{isNewsSentimentEnabled:n.responsePayload});case jt.A:return Bt({},e,{isNewsFeedEnabled:n.responsePayload});case jt.o:return Bt({},e,{isEventsAndTradeEnabled:n.responsePayload});case jt.r:return Bt({},e,{isFundamentalsEnabled:n.responsePayload});case jt.l:return Bt({},e,{isCustomerLevelsEnabled:n.responsePayload});case jt.H:return Bt({},e,n);case jt.E:var i=n.additionalData,r=i.key,o=i.value;return Bt({},e,Ut({},r,o))}return e}var qt=n(35),Ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function $t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gt(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var Wt={featuredCategoryPath:"/Trending_now/Popular/",selectedInstrumentCategorySymbols:null,selectedInstrumentCategorySymbol:null,selectedInstrumentCategoryTreePath:"",selectedInstrumentCategoryTreeMap:{},selectedTabIdInstrumentDetails:"",selectedTabIdManageAccounts:"",selectedCategory:{},selectedCategorySections:{tabs:null,groups:null,sectors:null,hasTabs:!1,hasGroups:!1,hasSectors:!1,tabUrl:null,groupUrl:null,sectorUrl:null},selectedSignalBoxSource:null,instrumentDetailsState:k.CLOSED,instrumentDetailsSymbol:null,selectedInstrumentDetailsNewsId:null,instrumentInfo:{visibility:k.HIDDEN},section:k.UI_SECTION_TRADING,previousSection:k.UI_SECTION_TRADING,initialSection:k.UI_SECTION_TRADING,header:{title:"",prevBtnText:"",isWebinarTooltipShown:!1},asideBoxState:k.OPEN,chart:{state:k.EXPANDED,visibility:k.HIDDEN,height:k.BASIC_VIEW_INITIAL_CHART_HEIGHT,width:k.AUTO},symbolsSortName:k.INSTRUMENT_SORT.INSTRUMENT,symbolsSortDirection:k.SORT_DIRECTION_ASC,shouldInstrumentBeCentered:!0,instrumentTreeCategoriesOpenState:{},instrumentExpandedMap:{},openPositionPLType:k.OPEN_POSITION_PL_TYPE.VALUE};function Yt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt,t=arguments[1],n=t.type,i=t.payload;switch(n){case qt.o:var r=t.instrumentsState.treePathsMap,s=String("/"+i+"/").split("/"),l=a.a.chain(s).compact().indexBy().value(),c="/"+a.a.keys(l).join("/")+"/",u=r[c],d=u&&a.a.pluck(u.elements,"symbol")||[];return Ht({},e,{selectedInstrumentCategoryTreePath:c,selectedInstrumentCategoryTreeMap:l,selectedInstrumentCategorySymbols:[].concat(Gt(d))});case qt.n:return Ht({},e,{selectedInstrumentCategorySymbol:i,instrumentDetailsSymbol:i});case qt.s:var p=e.section,f=e.selectedInstrumentCategoryTreePath,h=e.instrumentExpandedMap,m=t.symbol,g=p+("favorites"===p?"":f),v=a.a.mergeDeep({},h,$t({},g,$t({},m,i)));return Ht({},e,{instrumentExpandedMap:v});case qt.r:return Ht({},e,{selectedInstrumentCategorySymbol:i,instrumentDetailsSymbol:i});case qt.i:return Ht({},e,{instrumentDetailsState:k.OPEN,instrumentDetailsSymbol:t.symbol});case qt.d:return Ht({},e,{instrumentDetailsState:k.CLOSED});case qt.w:var b=e.previousSection;return e.section!==k.UI_SECTION_CLOSED_POSITIONS&&e.section!==k.UI_SECTION_CANCELED_ORDERS&&(b=e.section),Ht({},e,{section:i,previousSection:b});case qt.x:var _=e.previousSection,y=e.previousSection;return e.section!==k.UI_SECTION_CLOSED_POSITIONS&&e.section!==k.UI_SECTION_CANCELED_ORDERS&&(_=e.section),Ht({},e,{section:y,previousSection:_});case qt.I:var E=i.title,S=i.titleKey,C=i.textLink,w=(i.url,S?__(S):E);return w=w===S?E:w,Ht({},e,{header:Ht({},e.header,{title:w,titleKey:S,prevBtnText:C})});case qt.J:return Ht({},e,{selectedInstrumentCategorySymbols:[].concat(Gt(i))});case qt.f:return Ht({},e,{dimensions:{width:window.innerWidth,height:window.innerHeight}});case qt.h:return Ht({},e,{asideBoxState:k.OPEN});case qt.c:return Ht({},e,{asideBoxState:k.CLOSED});case qt.u:return Ht({},e,{multiChartsEnabled:i});case qt.E:var O=e.asideBoxState;return Ht({},e,{asideBoxState:O===k.OPEN?k.CLOSED:k.OPEN});case qt.k:var T=i.height,P=i.width,I=e.chart,A=I.height,x=I.width;return Ht({},e,{chart:Ht({},e.chart,{height:a.a.isUndefined(T)?A:T,width:a.a.isUndefined(P)?x:P})});case qt.C:return Ht({},e,{chart:Ht({},e.chart,{visibility:k.VISIBLE})});case qt.e:return Ht({},e,{chart:Ht({},e.chart,{visibility:k.HIDDEN})});case qt.H:return Ht({},e,{chart:Ht({},e.chart,{state:i})});case qt.q:return Ht({},e,{selectedTabIdInstrumentDetails:i});case qt.l:return Ht({},e,{selectedTabIdManageAccounts:i});case qt.y:return Ht({},e,{selectedSignalBoxSource:i});case qt.a:return Ht({},e,{instrumentInfo:Ht({},e.instrumentInfo,{visibility:i})});case qt.G:var N=i.selectedCategoryPath,D=i.instruments.treePathsMap,R=function(e){return a.a.reject(Object(o.c)(function(e){return D[e]}(e)),(function(e){return a.a.isEmpty(e.elements)}))},L=a.a.compact(String(N).split("/")),M=Object(o.b)(L,1),j=Object(o.b)(L,2),F=Object(o.b)(L,3),B=Object(o.b)(L,4),U=Object(o.h)(M),V=Object(o.h)(j),z=Object(o.h)(F),q=Object(o.h)(B),H=R(U),$=R(V),G=R(z);return Ht({},e,{selectedCategorySections:Ht({},e.selectedCategorySections,{tabs:H?[].concat(Gt(H)):null,groups:$?[].concat(Gt($)):null,sectors:G?[].concat(Gt(G)):null,categoryUrl:U,tabUrl:V,groupUrl:z,sectorUrl:q,hasTabs:!a.a.isEmpty(H),hasGroups:!a.a.isEmpty($),hasSectors:!a.a.isEmpty(G)})});case qt.D:return Ht({},e,{selectedInstrumentCategorySymbols:i});case qt.z:return Ht({},e,{symbolsSortName:i.name,symbolsSortDirection:i.direction});case qt.j:return Ht({},e,{symbolsSortName:Wt.symbolsSortName,symbolsSortDirection:Wt.symbolsSortDirection});case qt.B:return Ht({},e,{shouldInstrumentBeCentered:i});case qt.p:return Ht({},e,{selectedInstrumentDetailsNewsId:i});case qt.t:var W=e.instrumentTreeCategoriesOpenState,Y=i.categoryPath,K=i.isOpen;return!1===K?a.a.has(W,Y)&&delete W[Y]:W[Y]=K,Ht({},e,{instrumentTreeCategoriesOpenState:Ht({},W)});case qt.A:return Ht({},e,{header:Ht({},e.header,{isWebinarTooltipShown:i})});case qt.v:return Ht({},e,{openPositionPLType:i});case qt.F:switch(e.openPositionPLType){case k.OPEN_POSITION_PL_TYPE.PERCENTAGE:return Ht({},e,{openPositionPLType:k.OPEN_POSITION_PL_TYPE.VALUE});case k.OPEN_POSITION_PL_TYPE.VALUE:return Ht({},e,{openPositionPLType:k.OPEN_POSITION_PL_TYPE.PERCENTAGE})}}return e}var Kt=n(305),Xt=n(205),Qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Jt={autoOpenTriggerDelayMilliseconds:k.MINUTE_IN_MILLISECONDS,visibility:k.HIDDEN};function Zt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,t=arguments[1],n=t.type,i=t.payload;switch(n){case Xt.a:return Qt({},e,{visibility:i});default:return e}}var en=n(768),tn=n(403),nn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};var rn={ACCOUNTS:{},TRADING_CENTRAL_LINK:null,isResetPasswordAvailable:!1,METATRADER_BONUSES:{}};function on(){var e,t,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn,r=arguments[1],o=r.type,s=r.payload;switch(o){case tn.c:return nn({},i,{ACCOUNTS:s.responsePayload.data});case tn.i:return nn({},i,{TRADING_CENTRAL_LINK:s.responsePayload.data});case tn.j:return nn({},i,{isResetPasswordAvailable:s});case tn.f:var a=s.responsePayload.data,l=s.additionalData,c=i.METATRADER_BONUSES;return nn({},i,{METATRADER_BONUSES:nn({},c,(e={},t=l,n=a,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e))})}return i}var sn=n(165),an=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function ln(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var cn={ALL_DATA:{},ACCOUNTS_LIST:[],MAP_ID_TO_INDEX:{},MAP_TP_ID_TO_INDEX:{},lastAddedAccountId:[],expandedAccounts:{}};function un(){var e,t,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn,r=arguments[1],o=r.type,s=r.payload;switch(o){case sn.c:var l=s.responsePayload.data,c=l.manageAccountsTOList||[];return an({},i,{ALL_DATA:an({},l),ACCOUNTS_LIST:[].concat(ln(c)),MAP_ID_TO_INDEX:a.a.reduce(c,(function(e,t,n){return e[t.accountId]=n,e}),{}),MAP_TP_ID_TO_INDEX:a.a.reduce(c,(function(e,t,n){return e[t.platformAccountId]=n,e}),{})});case sn.f:var u=an({},i.expandedAccounts);return a.a.isEmpty(s)||a.a.each(s,(function(e){u[e]=!0})),an({},i,{expandedAccounts:an({},u),lastAddedAccountId:[].concat(ln(s))});case sn.e:var d=s.accountId,p=s.isExpanded;return an({},i,{expandedAccounts:an({},i.expandedAccounts,(e={},t=d,n=p,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e))});case sn.d:return an({},i,{expandedAccounts:an({},cn.expandedAccounts)})}return i}var dn=n(360),pn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},fn={ACCOUNTS_CONFIGS:{}};function hn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn,t=arguments[1],n=t.type,i=t.payload;switch(n){case dn.c:var r=i.responsePayload.data;return pn({},e,{ACCOUNTS_CONFIGS:pn({},r)})}return e}var mn=n(13),gn=n(51),vn=n(25),bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function _n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yn=[{value:-1,label:"All"},{value:1,label:"SP 500"},{value:2,label:"Russell 2000"}],En=[{markValue:0,value:1e3*mn.u*1e3*-1,label:"0"},{markValue:100,value:50*mn.u,label:"50m"},{markValue:200,value:100*mn.u,label:"100m"},{markValue:300,value:200*mn.u,label:"200m"},{markValue:400,value:500*mn.u,label:"500m"},{markValue:500,value:1e3*mn.u,label:"1b"},{markValue:600,value:1e3*mn.u*2,label:"2b"},{markValue:700,value:1e3*mn.u*5,label:"5b"},{markValue:800,value:1e3*mn.u*10,label:"10b"},{markValue:900,value:1e3*mn.u*1e3,label:"Max"}],Sn=[{markValue:0,value:0,label:"0"},{markValue:100,value:10*mn.v,label:"10k"},{markValue:200,value:20*mn.v,label:"20k"},{markValue:300,value:50*mn.v,label:"50k"},{markValue:400,value:100*mn.v,label:"100k"},{markValue:500,value:200*mn.v,label:"200k"},{markValue:600,value:mn.u,label:"1m"},{markValue:700,value:500*mn.u,label:"Max"}],Cn=[{markValue:10,value:-2e16,label:"Min"},{markValue:20,value:0,label:"0"},{markValue:30,value:5,label:"5"},{markValue:40,value:10,label:"10"},{markValue:50,value:15,label:"15"},{markValue:60,value:20,label:"20"},{markValue:70,value:25,label:"25"},{markValue:80,value:30,label:"30"},{markValue:90,value:40,label:"40"},{markValue:100,value:2e16,label:"Max"}],wn=[{markValue:0,value:-2e16,label:"Min"},{markValue:100,value:0,label:"0"},{markValue:200,value:.5,label:"0.5"},{markValue:300,value:1,label:"1"},{markValue:400,value:1.5,label:"1.5"},{markValue:500,value:2,label:"2"},{markValue:600,value:2.5,label:"2.5"},{markValue:700,value:3,label:"3"},{markValue:800,value:3.5,label:"3.5"},{markValue:900,value:2e16,label:"Max"}],On=function(e){var t=a.a.first(e),n=a.a.last(e);return{min:{value:t.markValue,label:t.label},max:{value:n.markValue,label:n.label}}},Tn={version:1,universeTypes:yn,defaultUniverseType:a.a.first(yn),marketCap:En,dailyVolumes:Sn,peRatios:Cn,betas:wn,defaultMarketCap:On(En),defaultDailyVolume:On(Sn),defaultPeRatio:On(Cn),defaultBeta:On(wn),universe:[],signals:{},latestScores:{},portfolioStrategy:{},scoreTypes:{data:[],status:k.EMPTY},strategies:{},PORTFOLIO_METRICS:{},countFundedPortfolios:0,portfolioPositions:{},localPortfolios:{},remotePortfolios:{},sort:{local:{dir:k.SORT_DIRECTION_ASC,column:void 0},remote:{dir:k.SORT_DIRECTION_ASC,column:void 0}}};function Pn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn,t=arguments[1],n=t.type,i=t.payload;switch(n){case vn.E:var r=i.responsePayload.data;return bn({},e,{universe:r});case vn.D:return bn({},e,{universe:[]});case vn.O:return bn({},e,{scoreTypes:bn({},e.scoreTypes,{status:k.LOADING})});case vn.Q:var o=Object(gn.n)(i.responsePayload.data),s=Object(gn.c)(o,"groupID","groupName","categoryName"),l=Object(gn.c)(o,"categoryID","categoryName","name");return bn({},e,{scoreTypes:{status:k.SUCCESS,data:o,groups:s,categories:l}});case vn.P:return bn({},e,{scoreTypes:bn({},e.scoreTypes,{status:k.ERROR})});case vn.B:var c=a.a.reduce(i.responsePayload.data,(function(e,t){return e[t.shareID]=t.score,e}),{});return bn({},e,{latestScores:{status:k.SUCCESS,data:c}});case vn.A:return bn({},e,{latestScores:{status:k.ERROR,data:[]}});case vn.W:var u=i.responsePayload,d=a.a.isArray(u.data)?[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(u.data)):[];return bn({},e,{strategies:a.a.indexBy(d,"strategyID")});case vn.H:var p=i.responsePayload;return bn({},e,{localPortfolios:bn({},e.localPortfolios,p)});case vn.w:var f=i.additionalData.strategyID,h=e.strategies;return h[f]&&delete h[f],bn({},e,{strategies:bn({},h)});case vn.ib:var m=i.portfolioName,g=i.properties,v=e.localPortfolios[m],b=v&&v.filters||{},_=v&&v.options||{},y=a.a.isObject(g.options)?g.options:{},E=a.a.isObject(g.filters)?g.filters:{};return bn({},e,{localPortfolios:bn({},e.localPortfolios,_n({},m,bn({},v,{filters:a.a.extend({},b,E),options:a.a.extend({},_,y)})))});case vn.Z:var S=e.remotePortfolios,C=i.positions,w=i.positionMetrics,O=a.a.groupBy(w,(function(e){return e.portfolioId})),T={};return a.a.each(S,(function(e){var t=e.portfolioID,n=e.portfolioItems;T[t]={},a.a.each(n,(function(e){var n=e.instrumentKey.id;T[t][n]=""}))})),a.a.each(O,(function(e,t){a.a.each(e,(function(e){var n=e.positionCode,i=(C[n]||{}).instrumentId;T[t]||(T[t]={}),T[t][i]||(T[t][i]=""),T[t][i]=n}))})),a.a.each(T,(function(e){var t=0;a.a.each(e,(function(e){var n=(w[e]||{}).plOpen;t+=a.a.isNaNValue(n)?0:n})),e.TOTAL_PL=t})),bn({},e,{portfolioPositions:bn({},T)});case vn.Y:if(!a.a.isObject(i))return bn({},e);var P=e.remotePortfolios,I=a.a.indexBy(i,"portfolioProviderId");return bn({},e,{remotePortfolios:bn({},P,I)});case vn.t:var A=i.responsePayload.data||{};return a.a.isEmpty(A)?e:(delete A.lastPortfolioData,bn({},e,{strategies:_n({},A.strategyID,bn({},A))}));case vn.u:var x=i.createdTime,N=i.lastPortfolioData,D=i.lastRebalanceDate,R=i.nextRebalanceDate,L=i.portfolioProviderId,M=i.strategyName,j=i.strategyID,F=i.requestedAmount,B=i.portfolioStatus;return bn({},e,{remotePortfolios:bn({},e.remotePortfolios,_n({},j,{createdTime:x,lastPortfolioData:N,lastRebalanceDate:D,nextRebalanceDate:R,strategyID:j,requestedAmount:F,portfolioProviderId:L,portfolioStatus:B,portfolioName:M}))});case vn.h:var U=i.portfolioProviderId,V=i.values,z=e.remotePortfolios[U];return z&&(e.remotePortfolios[U]=bn({},z,V)),bn({},e,{remotePortfolios:bn({},e.remotePortfolios)});case vn.p:var q=i.portfolioName,H=i.filters,$=i.options,G=e.localPortfolios,W=G[q],Y=W&&W.filters,K=W&&W.options;return bn({},e,{localPortfolios:bn({},G,_n({},q,{portfolioName:q,createdTime:a.a.now(),updatedDate:a.a.now(),finished:!1,portfolioId:null,filters:a.a.extend({},Y,H),options:a.a.extend({},K,$)}))});case vn.hb:var X=i.portfolio,Q=i.props,J=e.localPortfolios,Z=X.portfolioName;if(!a.a.isObject(X))return e;var ee=a.a.reduce(Q,(function(e,t,n){return a.a.isObject(t)&&e[n]?e[n]=a.a.extend({},e[n],t):e[n]=t,e}),bn({},X));return bn({},e,{localPortfolios:bn({},J,_n({},Z,bn({},X,ee,{portfolioName:Z,updatedDate:a.a.now()})))});case vn.v:var te=i.portfolio;return delete e.localPortfolios[te.portfolioName],bn({},e,{localPortfolios:bn({},e.localPortfolios)});case vn.g:var ne=i.portfolio.portfolioName,ie=i.newPortfolioName,re=e.localPortfolios[ne];return bn({},e,{localPortfolios:bn({},e.localPortfolios,_n({},ie,bn({},re)))});case vn.ab:var oe=i.portfolioType,se={dir:i.dir,column:i.column},ae=bn({},e.sort);return oe===mn.D.FUNDED?ae.remote=se:oe===mn.D.UNFUNDED&&(ae.local=se),bn({},e,{sort:bn({},ae)})}return e}var kn=n(615),In=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},An={status:k.EMPTY,data:null};function xn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:An,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case kn.a:return In({},e,{status:k.LOADING});case kn.b:return{status:k.SUCCESS,data:t.payload.responsePayload.data};default:return e}}n.d(t,"default",(function(){return Dn}));var Nn=i.d;function Dn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(i.c)({ui:Yt,instruments:S,positions:T,orders:x,commentaries:j,services:$,webinars:ie,news:ue,tradingSettings:Ce,form:Te.a,deepLinks:_e,accountSettingsPlatformFeature:De,education:me,acuityTrading:Ve,notificationCenter:Qe,eventsAndTrade:st,insights:ut,tipRanks:dt.w,bloggers:pt.e,hedgeFunds:ft.g,insiders:ht.l,settings:zt,newsSentiment:bt,user:Ct,accountInfo:It,fundamental:At.t,priceAlerts:Lt,basket:Kt.basketReducer,hotjar:Zt,tradingCentral:en.b,metaTraderAccounts:on,manageAccounts:un,invest:hn,portfolio:Pn,signals:xn}),n=window.__REDUX_STORE_WATCHER_RS__||function(e){return function(e){return function(t){return e(t)}}};return Object(i.e)(t,e,Nn(Object(i.a)(r.a,K,Oe,n)))}},function(e,t,n){"use strict";n.r(t);var i=n(31),r=n(5),o=n.n(r),s=n(20),a=n.n(s),l=n(1),c=n.n(l),u=n(0),d=n.n(u),p=n(15),f=n.n(p),h=n(261),m=n.n(h),g=n(290),v=n(291),b=n(292),_=n(417),y=n(4),E=n(81),S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};var C=Object(y.connect)((function(e,t){var n=t.id;return{value:Object(E.h)(e,n)}}))((function(e){var t=e.value,n=(e.dispatch,e.as),i=void 0===n?"span":n,r=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["value","dispatch","as"]);return d.a.createElement(i||"span",S({},r),t)})),w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};var O=Object(y.connect)((function(e,t){var n=t.id;return{value:Object(E.j)(e,n)||null}}))((function(e){var t=e.value,n=(e.dispatch,e.as),i=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["value","dispatch","as"]);return d.a.createElement(n||"a",w({href:t},i),t)})),T=n(140),P=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var k=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),P(t,[{key:"componentDidMount",value:function(){this.props.value||this.props.dispatch(Object(T.loadCommentary)(this.props.id))}},{key:"render",value:function(){var e=this.props,t=e.value,n=(e.dispatch,e.children),i=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["value","dispatch","children"]);return t?d.a.createElement(i.as,i,n):null}}]),t}(d.a.Component);k.defaultProps={as:"span"};var I=Object(y.connect)((function(e,t){var n=t.id;return{value:Object(E.h)(e,n)}}))(k);var A=Object(y.connect)((function(e,t){var n=t.id;return{value:Object(E.g)(e,n)}}))((function(e){var t=e.value,n=(e.dispatch,e.id),i=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["value","dispatch","id"]);return t?d.a.createElement("div",i,d.a.createElement("div",{className:"date"},d.a.createElement(v.a,{id:n,as:"span"})," | "," ",d.a.createElement(b.a,{id:n,as:"span"})),d.a.createElement(g.a,{id:n,as:"div",className:"caption"}),d.a.createElement(I,{id:n,as:"div",className:"text"},d.a.createElement(C,{id:n,as:"div"})),d.a.createElement("div",{className:"source"},__("source"),":"," ",d.a.createElement(O,{id:n,target:"_blank",className:"source"}))):null})),x=n(7),N=n.n(x),D=n(646),R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=Object(y.connect)((function(e,t){var n=t.id;return{active:Object(E.o)(e,n),newItemsId:Object(E.d)(e)}}))((function(e){var t,n=e.active,i=(e.dispatch,e.children),r=e.activeClassName,o=void 0===r?"active":r,s=e.notActiveClassName,a=void 0===s?"":s,l=e.className,c=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["active","dispatch","children","activeClassName","notActiveClassName","className"]),u=N()((L(t={},l,!!l),L(t,o,n),L(t,a,!n),t));return d.a.createElement(D.a,R({className:u},c),i)})),j=n(348),F=n(668),B=n(122),U=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var V=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._shouldElementBeCentered=!1,f()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),U(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.dispatch,i=t.uriCommentaryId;Object(B.sendEventosCommentaryAction)(),Object(j.b)(n).then((function(){i?(e._shouldElementBeCentered=!0,n(Object(T.selectCommentary)(i))):n(Object(T.selectFirstItem)())}))}},{key:"componentWillUnmount",value:function(){Object(j.a)()}},{key:"componentDidUpdate",value:function(){this._shouldElementBeCentered&&this.props.selectedCommentaryId&&(this._shouldElementBeCentered=!1,Object(F.b)(this._listScrollbar,".list--column",".list__item.active"))}},{key:"click",value:function(e){Object(B.sendEventosCommentaryAction)(e),this.props.dispatch(Object(T.selectCommentary)(e)),this.props.dispatch(Object(T.loadCommentary)(e)),o.a.navigate("commentary/"+e)}},{key:"close",value:function(){this.props.onClose()}},{key:"render",value:function(){var e=this,t=this.props,n=t.isCommentaryLoading,i=t.selectedCommentaryId,r=t.sortedItemsId;return t.isFirstLoad&&n?d.a.createElement("div",{className:"cssload-jumping small-px"},d.a.createElement("span",null),d.a.createElement("span",null),d.a.createElement("span",null)):d.a.createElement("div",{className:"page pane pane__fluid commentaries"},d.a.createElement("div",{className:"pane header header_blue"},d.a.createElement("div",{className:"header__body"},d.a.createElement("div",{className:"header__title"},__("service.commentary.page.title")),d.a.createElement("div",{className:"header__description"},__("service.commentary.page.description"))),d.a.createElement("div",{className:"header__actions"},d.a.createElement("div",{onClick:this.close},d.a.createElement("i",{className:"icon-close-blue"})))),d.a.createElement("div",{className:"commentary__wrapper page__body pane__row"},d.a.createElement("div",{className:"pane pane__fluid commentaries__page-container"},d.a.createElement("div",{className:"pane__scroll"},d.a.createElement("div",{className:"pane__scroll-content"},d.a.createElement(m.a,{ref:function(t){e._listScrollbar=t}},d.a.createElement("div",{className:"list list--column"},c.a.map(r,(function(t){return d.a.createElement(M,{as:"div",id:t,key:t,className:"list__item flex flex-column",notActiveClassName:"color__platform-3 bg__platform-1-hover",activeClassName:"active bg__platform-1",onClick:function(n){return e.click(t)}},d.a.createElement("div",{className:"date text-muted small-px"},d.a.createElement(v.a,{id:t})," | ",d.a.createElement(b.a,{id:t}),d.a.createElement(_.a,{id:t,className:"commentary-block__label_new"})),d.a.createElement(g.a,{id:t,as:"div",className:"color__brand-primary medium-px"}))}))))))),d.a.createElement("div",{className:"pane pane__fluid"},d.a.createElement("div",{className:"pane__scroll"},d.a.createElement("div",{className:"pane__scroll-content"},d.a.createElement(m.a,null,d.a.createElement("div",{className:"commentaries__page-content"},n&&d.a.createElement("div",null),i&&d.a.createElement(A,{id:i,className:"content"}))))))))}}]),t}(d.a.Component),z=Object(y.connect)((function(e){var t=e.commentaries.isFirstLoad;return{sortedItemsId:Object(E.e)(e),isFirstLoad:t,isCommentaryLoading:Object(E.q)(e),selectedCommentaryId:Object(E.m)(e)}}))(V),q=function(e){var t=e.children,n=e.caption,i=e.captionBack,r=e.onBackClick,o=N()({"x-popup responsive-popup x-popup-stretch-xs":!0,"x-popup-no-padding-xs responsive-popup-fixed x-popup-fixed":!0,"responsive-popup-translucent-1 x-popup-translucent-1":!0,"show-popup account-settings-popup":!0,"responsive-popup-opened":!0}),s=N()({"hidden-sm hidden-md hidden-lg":!0,"slide-box-overlay slide-box-overlay-translucent-1":!0});return d.a.createElement("div",{tabIndex:"-1",className:o,id:"view4054"},d.a.createElement("div",{className:s}),d.a.createElement("div",{className:"x-popup-box responsive-container"},d.a.createElement("div",{className:"x-popup-panel responsive-panel"},d.a.createElement("div",{className:"x-popup-holder"},d.a.createElement("div",{className:"x-popup-content"},d.a.createElement("div",{className:"responsive-popup-content"},d.a.createElement("div",{className:"hidden-sm hidden-md hidden-lg responsive-header "},d.a.createElement("div",{className:"previous btn fn-previous",onClick:r},d.a.createElement("div",{className:"arrow"}),d.a.createElement("div",{className:"caption"},i)),d.a.createElement("div",{className:"caption"},n),d.a.createElement("div",{className:"navigation-box"})),d.a.createElement("div",{className:"responsive-popup-body",style:{height:"100%"}},d.a.createElement("div",{className:"pane pane__fluid pane__scroll"},d.a.createElement("div",{className:"pane__scroll-content"},t)))))))))},H=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var $=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return f()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),H(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,n=e.uriCommentaryId;Object(B.sendEventosCommentaryAction)(),Object(j.b)(t).then((function(){n&&t(Object(T.selectCommentary)(n))}))}},{key:"componentWillUnmount",value:function(){Object(j.a)()}},{key:"click",value:function(e){Object(B.sendEventosCommentaryAction)(e),this.props.dispatch(Object(T.selectCommentary)(e)),this.props.dispatch(Object(T.loadCommentary)(e)),o.a.navigate("commentary/"+e)}},{key:"close",value:function(){this.props.onClose()}},{key:"cleanSelectedCommentary",value:function(){this.props.dispatch(Object(T.selectCommentary)(null)),o.a.navigate("commentary")}},{key:"render",value:function(){var e=this,t=this.props,n=t.selectedCommentaryId,i=t.sortedItemsId;return n?d.a.createElement(q,{caption:__("service.commentary.page.title"),captionBack:__("actions.back"),onBackClick:this.cleanSelectedCommentary},d.a.createElement(I,{as:"div",className:"commentaries commentaries__mobile full pane__fluid",id:n},d.a.createElement("div",{className:"date smaller-px"},d.a.createElement(v.a,{id:n})," ","|"," ",d.a.createElement(b.a,{id:n})),d.a.createElement(g.a,{id:n,as:"div",className:"caption big-b-px"}),d.a.createElement(C,{id:n,as:"div",className:"text medium-px"}),d.a.createElement("div",{className:"source"},__("source"),":"," ",d.a.createElement(O,{id:n,target:"_blank",className:"source smaller-px"})))):d.a.createElement(q,{caption:__("service.commentary.page.title"),captionBack:__("actions.back"),onBackClick:this.close},d.a.createElement("div",{className:"commentaries__mobile list list--column"},c.a.map(i,(function(t){return d.a.createElement(M,{as:"div",id:t,key:t,className:"list__item",notActiveClassName:"color__platform-3 bg__platform-1-hover",activeClassName:"active bg__platform-1",onClick:function(n){return e.click(t)}},d.a.createElement("div",{className:"pane pane__fluid pane__row"},d.a.createElement("div",{className:"pane pane__fluid flex flex-column"},d.a.createElement("div",{className:"date smaller-px"},d.a.createElement(v.a,{id:t})," ","|"," ",d.a.createElement(b.a,{as:"span",id:t}),d.a.createElement(_.a,{id:t,className:"commentary-block__label_new"})),d.a.createElement(g.a,{id:t,as:"div",className:"color__brand-primary medium-px"})),d.a.createElement("div",{className:"pane flex flex-valign-center arrow"},d.a.createElement("div",{className:"right icon-marketsX-popup-arrow-right"}),d.a.createElement("div",{className:"left icon-marketsX-popup-arrow-left"}))))}))))}}]),t}(d.a.Component),G=Object(y.connect)((function(e){return{sortedItemsId:Object(E.e)(e),selectedCommentaryId:Object(E.m)(e)}}))($),W=n(22),Y=n.n(W);t.default=a.a.extend({initialize:function(){var e=this;a.a.prototype.initialize.apply(this,arguments),this.listenTo(o.a,"ui:header-itemclick",(function(){return e.options.onClose(!1)}))},render:function(){a.a.prototype.render.call(this);var e=this.options;return Y.a.render(d.a.createElement(y.Provider,{store:store},d.a.createElement("div",{className:"commentaries-wrapper popup-item"},d.a.createElement(i.default,{desktop:!0,tablet:!0},d.a.createElement(z,e)),d.a.createElement(i.default,{mobile:!0},d.a.createElement(G,e)))),this.el),this},destroy:function(){Y.a.unmountComponentAtNode(this.el),a.a.prototype.destroy.call(this)}})},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(15),s=n.n(o),a=n(246),l=n.n(a),c=n(1),u=n.n(c),d=function(e){return r.a.createElement(e.as,{className:" price-alerts-actions"},r.a.createElement("div",{className:"actions"},r.a.createElement(l.a,{icon:"edit-ico",className:"autotest-price-alert-edit",onClick:e.modifyAlert,tooltipText:__("tab.alerts.tooltip.edit"),tooltipAlign:"bottom"}),r.a.createElement(l.a,{icon:"close",className:"autotest-price-alert-close",onClick:e.removeAlert,tooltipText:__("tab.alerts.tooltip.remove"),tooltipAlign:"bottom"})))};d.defaultProps={as:"div",modifyAlert:u.a.noop,removeAlert:u.a.noop};var p=d,f=n(5),h=n.n(f),m=n(31),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),g(t,[{key:"modifyAlert",value:function(){var e=this.props.alert;h.a.trigger("ui:edit-price-alert",e,{onSuccess:this.props.updateHandler})}},{key:"removeAlert",value:function(){this.props.alert.remove(),this.props.updateHandler()}},{key:"render",value:function(){var e=this.props,t=e.alertType,n=e.trigger,o=e.notificationTypes,s=(e.alert,e.note);return r.a.createElement(i.Fragment,null,r.a.createElement(m.default,{desktop:!0,tablet:!0},r.a.createElement("div",{className:"row-expand"},r.a.createElement("div",{className:"price-alert-subrow subrow-expanded grid-12"},r.a.createElement("div",{className:"col-12 grid-middle"},r.a.createElement("div",{className:"col-2"}),r.a.createElement("div",{className:"col-2"},__("tab.price-alerts.table-labels."+t)),r.a.createElement("div",{className:"col-2"},n),r.a.createElement("div",{className:"col-2"},o.join(", ")),r.a.createElement("div",{className:"col-2"},s),r.a.createElement("div",{className:"col-2 grid-right"},r.a.createElement(p,{modifyAlert:this.modifyAlert,removeAlert:this.removeAlert})))))),r.a.createElement(m.default,{mobile:!0},r.a.createElement("div",{className:"row-expand price-alert-subrow-mobile"},r.a.createElement("div",{className:"price-alert-subrow grid-12"},r.a.createElement("div",{className:"col-12 grid-middle"},r.a.createElement("div",{className:"col-4"},"Alert type"),r.a.createElement("div",{className:"col-6"},__("tab.price-alerts.table-labels."+t)),r.a.createElement("div",{className:"col-2 grid-right"},r.a.createElement(p,{modifyAlert:this.modifyAlert,removeAlert:this.removeAlert}))),r.a.createElement("div",{className:"col-12 grid-middle"},r.a.createElement("div",{className:"col-4"},__("tab.price-alerts.grid.columns.type.trigger")),r.a.createElement("div",{className:"col-6"},n)),r.a.createElement("div",{className:"col-12 grid-middle"},r.a.createElement("div",{className:"col-4"},__("tab.price-alerts.grid.columns.notification-type")),r.a.createElement("div",{className:"col-8"},o.join(", "))),r.a.createElement("div",{className:"col-12 grid-middle"},r.a.createElement("div",{className:"col-4"},__("tab.price-alerts.description-labels.reach_price.note")),r.a.createElement("div",{className:"col-8"},s))))))}}]),t}(i.Component),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var _=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),b(t,[{key:"clickHandler",value:function(){h.a.trigger("ui:create-price-alert",this.props.instrumentSymbol,{onSuccess:this.props.onSuccess})}},{key:"render",value:function(){return r.a.createElement(this.props.as,{className:"price-alerts-actions autotest-price-alert-add",onClick:this.clickHandler,"aria-label":__("tab.alerts.tooltip.add")},r.a.createElement("span",{className:"icon-add-price-alert fs-19"}))}}]),t}(i.Component);_.defaultProps={as:"div"};var y=_,E=n(6),S=n.n(E),C=n(32),w=n.n(C),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var T=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),O(t,[{key:"rowClickHandler",value:function(){var e=this.props.instrumentModel,t=e.getSymbol();if(S.a.getUserCommonData().isAdvancedTradingView()){var n="price-alerts/"+t;S.a.getApplicationSettings().set("tabs:alerts:selectedInstrumentSymbol",t),h.a.trigger("ui:instruments:select-instrument",t,e),h.a.navigate(n,{trigger:!1,replace:!0})}}},{key:"render",value:function(){var e=this,t=this.props.instrumentModel,n=t.getSymbol(),i=t.getName(),o=t.getPriceAlerts().models,s=u.a.map(o,(function(t,n){var i=t.attributes.alertType.attributes.localizationKey,o=t.attributes,s=o.params,a=o.alertTypeId,l=o.sendTo,c=o.note,d=void 0,p=u.a.keys(l),f=u.a.values(l),h=u.a.filter(p,(function(e,t){return f[t]&&e})),m=u.a.map(h,(function(e){return __("tab.price-alerts.notification-types."+e)})),g=void 0;switch(parseInt(a)){case 10:var b=s.paramValue3.split(":");d=b[0]+"d: "+b[1]+"h: "+b[2]+"m",g=s.paramValue1;break;case 8:case 7:case 3:d=s.paramValue1+"%",g=c;break;case 9:d=w()(s.paramValue1).format("00[.][000]"),g=c;break;default:d=s.paramValue1,g=c}return r.a.createElement(v,{updateHandler:e.props.updateHandler,key:n,alertType:i,trigger:d,notificationTypes:m,note:g,alert:t})}));return r.a.createElement("div",null,r.a.createElement("div",{className:"row price-alert-row grid-12 autotest-price-alert-row",onClick:this.rowClickHandler},r.a.createElement("div",{className:"col-12 grid-middle"},r.a.createElement("div",{className:"col-2 autotest-price-alert-instrument-name"},i),r.a.createElement("div",{className:"col-2 grid-right"},r.a.createElement(y,{onSuccess:this.props.updateHandler,instrumentSymbol:n})))),s)}}]),t}(i.Component),P=function(e){var t=e.columns,n=u.a.map(t,(function(e,t){var n=e.name,i=e.size;return r.a.createElement("div",{key:t,className:"col-"+i},__(n))}));return r.a.createElement("div",{className:"price-alert-tab-header grid-12"},r.a.createElement("div",{className:"col-12 grid-middle"},n))},k=n(26),I=n.n(k),A=function(e){var t=e.defaultInstrumentSymbol,n=e.onSuccess,o=function(){h.a.trigger("ui:create-price-alert",t,{completelyNew:!0,onSuccess:n})};return r.a.createElement(i.Fragment,null,r.a.createElement(m.default,{desktop:!0,tablet:!0},r.a.createElement("div",{className:"price-alerts-new-alert-row"},r.a.createElement("div",null,__("tab.alerts")),r.a.createElement("div",{className:"new-price-alert-button autotest-price-alert-create",onClick:o},__("tab.alerts.create.new")))),r.a.createElement(m.default,{mobile:!0},r.a.createElement("div",{className:"new-price-alert-button-mobile autotest-price-alert-create",onClick:o},__("tab.alerts.create.new"))))};A.defaultProps={defaultInstrumentSymbol:I.a.getFirstAvailableInstrumentSymbol()};var x=A,N=function(e){var t=e.defaultInstrumentSymbol,n=e.onCreateSuccess,i=S.a.getUserCommonData().isAdvancedTradingView()?__("tab.price-alerts.empty.text.advanced"):__("tab.price-alerts.empty.text");return r.a.createElement("div",null,r.a.createElement("div",{className:"icon icon-price-alerts-empty"}),r.a.createElement("div",{className:"caption"},__("tab.price-alerts.empty.caption")),r.a.createElement("div",null,r.a.createElement("a",{className:"btn btn-primary",href:"#trading",onClick:function(e){e.preventDefault(),h.a.trigger("ui:create-price-alert",t,{completelyNew:!0,onSuccess:n})}},__("tab.alerts.create.new"))),r.a.createElement("div",{className:"text"},i))};N.defaultProps={onCreateSuccess:u.a.noop,defaultInstrumentSymbol:I.a.getFirstAvailableInstrumentSymbol()};var D=N,R=n(7),L=n.n(R),M=n(19),j=n(4),F=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var B=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._isMounted=!1,n.state={update:!1},s()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),F(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"update",value:function(){this.setState((function(e){return{update:!e.update}}))}},{key:"updateInstrumentList",value:function(){this._isMounted&&this.props.updateInstrumentList()}},{key:"render",value:function(){var e=this,t=this.props,n=t.instruments,o=t.defaultInstrumentSymbol,s=u.a.filter(n,(function(e){return e.attributes.priceAlerts.length>0})),a=u.a.map(s,(function(t,n){return r.a.createElement(T,{updateHandler:e.update,key:n,instrumentModel:t})})),l=[{name:__("table.header.symbol"),size:2},{name:__("tab.price-alerts.grid.columns.type"),size:2},{name:__("tab.price-alerts.grid.columns.type.trigger"),size:2},{name:__("tab.price-alerts.grid.columns.notification-type"),size:2},{name:__("tab.price-alerts.description-labels.reach_price.note"),size:2},{name:"",size:2}],c=L()({"instruments-table tab-price-alerts":!0,empty:u.a.isEmpty(a)});return r.a.createElement("div",{className:c},a.length>0?r.a.createElement(i.Fragment,null,r.a.createElement(m.default,{tablet:!0,desktop:!0},r.a.createElement(x,{onSuccess:this.updateInstrumentList,defaultInstrumentSymbol:o}),r.a.createElement(P,{columns:l}),r.a.createElement("table",null,r.a.createElement("div",{className:"rows"},a))),r.a.createElement(m.default,{mobile:!0},r.a.createElement("table",null,r.a.createElement("div",{className:"rows"},a)),r.a.createElement(x,{onSuccess:this.updateInstrumentList,defaultInstrumentSymbol:o}))):r.a.createElement(D,{defaultInstrumentSymbol:o,onCreateSuccess:this.updateInstrumentList}))}}]),t}(i.Component);B.defaultProps={instruments:[],updateInstrumentList:function(){}};t.default=Object(j.connect)((function(e){return{defaultInstrumentSymbol:Object(M.getFirstInstrumentInDefaultCategory)(e)}}))(B)},function(e,t,n){"use strict";n.r(t);var i=n(4),r=n(156),o=n(300),s=function(){return Promise.resolve([{name:"beginner",playlist:[{url:"https://global.recognia.com/videos/moodle_video/Beginner/f66a10e7e02210916f4056af50913c64/20110101000000/Introduction.mp4",title:"Introduction"},{url:"https://global.recognia.com/videos/moodle_video/Beginner/b784f2c5a41754c065dec77912519448/20110101000000/Trendlines.mp4",title:"Trendlines"},{url:"https://global.recognia.com/videos/moodle_video/Beginner/b17a767a2e15c8c23fd81982677c089c/20110101000000/Volume.mp4",title:"Volume"},{url:"https://global.recognia.com/videos/moodle_video/Beginner/941740bbd49e6b6cef2d30001247c8d0/20110101000000/MethodsOfPlottingCharts.mp4",title:"Methods Of Plotting Charts"},{url:"https://global.recognia.com/videos/moodle_video/Beginner/8922c585da5769f3aa3024cabc0035dc/20110101000000/Trends.mp4",title:"Trends"},{url:"https://global.recognia.com/videos/moodle_video/Beginner/2f3c84b94bd104fa3699a982a5c53348/20110101000000/SupportAndResistance.mp4",title:"Support And Resistance"},{url:"https://global.recognia.com/videos/moodle_video/Beginner/0dd8a8f11f9f0bb3dcaa063e5ec695b8/20110101000000/PeakAndTrough.mp4",title:"Peak And Trough"},{url:"https://global.recognia.com/videos/moodle_video/Beginner/04926726ff340464a6ad944b2ca48830/20110101000000/MovingAverages.mp4",title:"Moving Averages"}]},{name:"intermediated",playlist:[{url:"https://global.recognia.com/videos/moodle_video/Intermediate/f98fa452696479bd7c8a55bfa35952bd/20110101000000/Rectangles.mp4",title:"Rectangles"},{url:"https://global.recognia.com/videos/moodle_video/Intermediate/f71cfa713f6cfde2598cf2c3fc72a2d2/20110101000000/DarkCloud.mp4",title:"Dark Cloud"},{url:"https://global.recognia.com/videos/moodle_video/Intermediate/d86d79a483e0c1679405611a6239da72/20110101000000/EngulfingPatterns.mp4",title:"Engulfing Patterns"},{url:"https://global.recognia.com/videos/moodle_video/Intermediate/9d2e09ec70383b361defc49395fabcd3/20110101000000/MarketplaceExamples.mp4",title:"Marketplace Examples"},{url:"https://global.recognia.com/videos/moodle_video/Intermediate/8fe07e62303a5e03675dc63233527e1c/20110101000000/ReversalPatterns.mp4",title:"Reversal Patterns"},{url:"https://global.recognia.com/videos/moodle_video/Intermediate/8fa21fec3e85df62f5ea4df2b568f4bd/20110101000000/Stars.mp4",title:"Stars"},{url:"https://global.recognia.com/videos/moodle_video/Intermediate/6de1ebf346aa15c45c82cb70f95dc5b9/20110101000000/BollingerBands.mp4",title:"Bollinger Bands"},{url:"https://global.recognia.com/videos/moodle_video/Intermediate/4fbfc94c53ab0e5890b492ddcbc2434f/20110101000000/EngulfingPatterns.mp4",title:"Engulfing Patterns"},{url:"https://global.recognia.com/videos/moodle_video/Intermediate/4daf5c9925b240704f7f5f76caf88465/20110101000000/Triangles.mp4",title:"Triangles"},{url:"https://global.recognia.com/videos/moodle_video/Intermediate/4bb9936725ad43dd9c8500f90c6d066c/20110101000000/DoubleTopsAndBottoms.mp4",title:"DoubleTops And Bottoms"},{url:"https://global.recognia.com/videos/moodle_video/Intermediate/0117e916e2c48fd3b3d9299e79881ffe/20110101000000/IntroToCandles.mp4",title:"Intro To Candles"},{url:"https://global.recognia.com/videos/moodle_video/Intermediate/00b310a87b8cee8e2e3a9929733fd864/20110101000000/HeadAndShoulders.mp4",title:"Head And Shoulders"}]},{name:"advanced",playlist:[{url:"https://global.recognia.com/videos/moodle_video/Advanced/fe826fbfaac469f73438f75cc216e79b/20110101000000/OutsideBars.mp4",title:"Outside Bars"},{url:"https://global.recognia.com/videos/moodle_video/Advanced/f532f76e80306b32046837b7e4ab8687/20110101000000/TwoBarReversals.mp4",title:"Two Bar Reversals"},{url:"https://global.recognia.com/videos/moodle_video/Advanced/eda889b1feb4873c9555dab95f37fd80/20110101000000/MomentumOBOS.mp4",title:"Momentum OBOS"},{url:"https://global.recognia.com/videos/moodle_video/Advanced/e50916c746c4d9e269fd10cb3925f731/20110101000000/TrendDeviationMACD.mp4",title:"TrendDeviation MACD"},{url:"https://global.recognia.com/videos/moodle_video/Advanced/d37d414beb48146d7ea1ff1160b7b5ab/20110101000000/Stochastics.mp4",title:"Stochastics"},{url:"https://global.recognia.com/videos/moodle_video/Advanced/b6eb6792327c85e139e20376a56c648c/20110101000000/KeyReversalBar.mp4",title:"Key Reversal Bar"},{url:"https://global.recognia.com/videos/moodle_video/Advanced/a7259b1bc286510b7ac8b0c1e98bb61e/20110101000000/MomentumTrendReversals.mp4",title:"Momentum Trend Reversals"},{url:"https://global.recognia.com/videos/moodle_video/Advanced/7d3c84fc268c7fecc3717fabc3808402/20110101000000/InsideBars.mp4",title:"Inside Bars"},{url:"https://global.recognia.com/videos/moodle_video/Advanced/79b27c5e655731b813635ee341bda8d5/20110101000000/MomentumDivergences.mp4",title:"Momentum Divergences"},{url:"https://global.recognia.com/videos/moodle_video/Advanced/612c0b83e938bdfc98a8998a5f63f25c/20110101000000/RSI.mp4",title:"RSI"},{url:"https://global.recognia.com/videos/moodle_video/Advanced/4c5b834758298e2f0ae71fa4b0d93d77/20110101000000/PinocchioBars.mp4",title:"Pinocchio Bars"},{url:"https://global.recognia.com/videos/moodle_video/Advanced/0a4f0536ec9c99f2d1a024b3fb1771c7/20110101000000/MomentumIntroduction.mp4",title:"Momentum Introduction"}]}])};function a(e){return function(t,n){t({type:r.g,payload:e}),t(function(e){return function(t,n){var i=Object(o.a)();i.url=e,Object(o.b)(i),t({type:r.e,payload:e})}}(e))}}function l(e){return function(t,n){t({type:r.f,payload:e}),t(function(e){return function(t,n){var i=Object(o.a)();i.group=e,Object(o.b)(i),t({type:r.d,payload:e})}}(e))}}var c=n(0),u=n.n(c);var d=Object(i.connect)((function(e,t){return{selectedUrl:e.education.selectedUrl}}))((function(e){var t=e.selectedUrl;return u.a.createElement("div",{className:"education-main"},u.a.createElement("video",{src:t,controls:!0}))})),p=n(122),f=Object(i.connect)(null,(function(e){return{selectUrlAction:function(t){Object(p.sendEventosEducationOnDemandAction)(t),e(a(t))}}}))((function(e){var t=e.url,n=e.children,i=e.selectUrlAction;return u.a.createElement("div",{className:"video","data-id":t,onClick:function(){return i(t)}},n)})),h=n(7),m=n.n(h),g=function(e){var t=e.title,n=e.active,i=m()({"video-title":!0,"video-selected":n});return u.a.createElement("div",{className:i},t)},v=(n(18),Object(i.connect)(null,(function(e,t){return{setGroup:function(n){e(l(t.group))}}}))((function(e){var t=e.setGroup,n=e.group;return u.a.createElement("div",{className:"playlist-title",onClick:t},n)})));var b=Object(i.connect)((function(e,t){var n=e.education;return{playlists:n.playlists,selectedGroup:n.selectedGroup,isOpenGroup:n.isOpenGroup}}))((function(e){var t=e.children,n=e.isOpenGroup,i=e.selectedGroup,r=e.group,o=m()({playlist:!0,closed:!(n&&r===i)});return u.a.createElement("div",{className:o},t)})),_=n(1),y=n.n(_);var E=Object(i.connect)((function(e){var t=e.education;return{playlists:t.playlists,selectedGroup:t.selectedGroup,isOpenGroup:t.isOpenGroup,selectedUrl:t.selectedUrl}}))((function(e){var t=e.playlists,n=e.selectedUrl;return u.a.createElement("div",{className:"education-sidebar"},u.a.createElement("div",{className:"videos-list"},y.a.map(t,(function(e){return u.a.createElement(b,{key:e.name,group:e.name},u.a.createElement(v,{group:e.name}),u.a.createElement("div",{className:"playlist-videos"},y.a.map(e.playlist,(function(e,t){return u.a.createElement(f,{url:e.url,key:t},u.a.createElement(g,{title:e.title,active:n===e.url}))}))))}))))})),S=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var C=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),S(t,[{key:"componentDidMount",value:function(){this.props.loadEducation()}},{key:"render",value:function(){return u.a.createElement("div",{className:"education-body"},u.a.createElement("div",{className:"education-content"},u.a.createElement(d,null),u.a.createElement(E,null)))}}]),t}(u.a.Component);t.default=Object(i.connect)(null,(function(e){return{loadEducation:function(){e((function(e,t){e({types:[r.a,r.c,r.b],callApi:function(){return s()}})}))}}}))(C)},function(e,t,n){"use strict";n.r(t);var i=n(20),r=n.n(i),o=n(22),s=n.n(o),a=n(4),l=n(0),c=n.n(l),u=n(5),d=n.n(u),p=n(7),f=n.n(p),h=n(349),m=n(499),g=n(509),v=n(39),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var _=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.setActiveType=o.setActiveType.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),b(t,[{key:"render",value:function(){var e=this.props.name,t=f()({"notification-center__tab":!0,active:this.props.isActive});return c.a.createElement("div",{className:t,onClick:this.setActiveType},c.a.createElement("span",null,__("notification.center.tab."+e.toLowerCase())),c.a.createElement(m.a,{tabId:e}))}}]),t}(g.a);_.defaultProps={isActive:!1,name:""};var y=Object(a.connect)(void 0,(function(e){return{setActiveType:function(t){return e(Object(v.setActiveTab)(t))},messagesSelectAll:function(t,n){return e(Object(v.messagesSelectAll)(t,n))}}}))(_),E=n(350),S=n(500),C=n(50),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),w(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"notification-center__tabs"},this.props.tabs.map((function(t){return c.a.createElement(y,{key:t,name:t,isActive:e.props.activeTab===t})})),c.a.createElement(S.a,null))}}]),t}(E.a),T=Object(a.connect)((function(e){return{activeTab:Object(C.b)(e),tabs:Object(C.i)(e)}}))(O),P=n(1),k=n.n(P),I=n(15),A=n.n(I),x=n(351),N=n(21),D=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var R=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return o.state={isShouldMessagesBeRead:!0,isShouldMessagesBeMarked:!0},A()(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),D(t,[{key:"componentWillUpdate",value:function(e){this.props.activeTab===e.activeTab&&this.props.garbage.count===e.garbage.count||this.setState({isShouldMessagesBeRead:!0,isShouldMessagesBeMarked:!0})}},{key:"onSelectAll",value:function(){var e=this,t=this.state.isShouldMessagesBeMarked;this.setState({isShouldMessagesBeMarked:!t},(function(){e.props.messagesSelectAll(e.props.activeTab,t)}))}},{key:"render",value:function(){var e=this.props,t=e.marked,n=e.garbage,i=e.isMessageVisible,r=e.markAllCheckboxState,o=k.a.difference(t.list,n.list).length,s=this.state.isShouldMessagesBeRead;return!o||i?null:c.a.createElement("div",{className:"notification-center__tab_action-buttons--mobile"},r===N.TAB_CHECKBOX_CHECKED&&c.a.createElement("i",{className:"icon icon-select-all-lg",onClick:this.onSelectAll}),r!==N.TAB_CHECKBOX_CHECKED&&c.a.createElement("i",{className:"icon icon-unselect-all-lg",onClick:this.onSelectAll}),c.a.createElement("i",{className:"icon icon-trash-lg",onClick:this.onDelete}),s&&c.a.createElement("i",{className:"icon icon-mail-read-lg",onClick:this.onRead}),!s&&c.a.createElement("i",{className:"icon icon-mail-read-lg",onClick:this.onRead}))}}]),t}(x.a),L=Object(a.connect)((function(e){return{marked:Object(C.g)(e),garbage:Object(C.d)(e),activeTab:Object(C.b)(e),isMessageVisible:Object(C.k)(e),markAllCheckboxState:Object(C.f)(e)}}),(function(e){return{garbageAddMultiple:function(t,n){return e(Object(v.garbageAddMultiple)(t,n))},messagesSelectAll:function(t,n){return e(Object(v.messagesSelectAll)(t,n))},messagesReadMarked:function(t,n){return e(Object(v.messagesToggleReadSelectedRequest)(t,n))}}}))(R),M=Object(a.connect)((function(e){return{marked:Object(C.g)(e),garbage:Object(C.d)(e),isActiveMessageVisible:Object(C.k)(e)}}))((function(e){var t=e.marked,n=e.garbage,i=e.isActiveMessageVisible,r=k.a.difference(t.list,n.list).length,o=r&&!i,s=f()({"notification-center__title":!o,"notification-center__title--left":o});return o?c.a.createElement("div",{className:s},r+" "+__("notification.center.selected")):c.a.createElement("div",{className:s},__("notification.center.title"))})),j=n(356),F=Object(a.connect)((function(e){return{isOpened:Object(C.l)(e)}}),(function(e){return{onBack:function(){e(Object(v.messagesUnselectAll)()),e(Object(v.setIsActiveMessageVisible)(!1)),e(Object(v.setOpenPopupState)(!1)),d.a.trigger("ui:notification-center:close")}}}))((function(e){var t=e.onBack,n=f()({"x-popup x-popup-notification-center":!0,"x-popup-stretch-xs x-popup-no-padding-xs":!0,"responsive-popup  responsive-popup-fixed x-popup-fixed responsive-popup-translucent-1":!0,"x-popup-translucent-1 account-settings-popup":!0,"show-popup  responsive-popup-opened":!0});return c.a.createElement("div",{tabIndex:"-1",className:n},c.a.createElement("div",{className:"hidden-sm hidden-md hidden-lg slide-box-overlay fn-close slide-box-overlay-translucent-1"}),c.a.createElement("div",{className:"x-popup-box responsive-container"},c.a.createElement("div",{className:"x-popup-panel responsive-panel"},c.a.createElement("div",{className:"x-popup-holder"},c.a.createElement("div",{className:"x-popup-content"},c.a.createElement("div",{className:"responsive-popup-content"},c.a.createElement("div",{className:"hidden-sm hidden-md hidden-lg responsive-header "},c.a.createElement("div",{className:"previous btn fn-previous",onClick:t},c.a.createElement("div",{className:"arrow"})),c.a.createElement("div",{className:"caption"},c.a.createElement(M,null)),c.a.createElement("div",{className:"navigation-box"},c.a.createElement(L,null))),c.a.createElement("div",{className:"responsive-popup-body"},c.a.createElement("div",{className:"notification-center pane pane__fluid pane__column"},c.a.createElement(T,null),c.a.createElement(j.a,null),c.a.createElement(h.a,null)))))))))})),B=n(503),U=Object(a.connect)((function(e){return{isOpened:Object(C.l)(e)}}),(function(e){return{closePopup:function(){e(Object(v.messagesUnselectAll)()),e(Object(v.setIsActiveMessageVisible)(!1)),e(Object(v.setOpenPopupState)(!1)),d.a.trigger("ui:notification-center:close")}}}))((function(e){var t=e.isOpened,n=e.closePopup;return t?c.a.createElement("div",{className:"page pane pane__fluid popup notification-center-tablet"},c.a.createElement("div",{className:"pane header"},c.a.createElement("div",{className:"header__body"},c.a.createElement("div",{className:"header__title"})),c.a.createElement("div",{className:"header__actions"},c.a.createElement("div",{onClick:n},c.a.createElement("i",{className:"icon-close-blue"})))),c.a.createElement("div",{className:"page__body pane__column"},c.a.createElement("div",{className:"notification-center pane pane__column"},c.a.createElement(x.b,null),c.a.createElement(B.a,null),c.a.createElement(E.b,null),c.a.createElement(j.a,null),c.a.createElement(h.a,null)))):null})),V=n(31),z=r.a.extend({initialize:function(e){r.a.prototype.initialize.apply(this,arguments),this.options=e},render:function(){r.a.prototype.render.call(this);var e=this.options;return s.a.render(c.a.createElement(a.Provider,{store:store},c.a.createElement("div",{className:"popup-item"},c.a.createElement(V.default,{mobile:!0},c.a.createElement(F,e)),c.a.createElement(V.default,{tablet:!0},c.a.createElement(U,e)))),this.el),this},destroy:function(){s.a.unmountComponentAtNode(this.el),r.a.prototype.destroy.call(this)}});t.default={initNotificationCenterView:z}},function(e,t,n){"use strict";n.r(t);var i=n(16),r=n.n(i),o=n(0),s=n.n(o),a=n(22),l=n.n(a),c=n(136),u=n.n(c),d=n(6),p=n.n(d),f=n(111),h=n(134),m=n(1),g=n.n(m),v=n(15),b=n.n(v),_=n(618),y=n(4),E="account-statement/LOAD_ACCOUNT_STATEMENT_URL",S="account-statement/LOAD_ACCOUNT_STATEMENT_URL_ERROR",C="account-statement/LOAD_ACCOUNT_STATEMENT_URL_SUCCESS",w="account-statement/OPEN_EXTERNAL_ACCOUNT_STATEMENT_URL",O=n(8),T=n.n(O),P=n(126);function k(e){return function(t){return t({types:[E,C,S],callApi:function(){return function(e){return T.a.loadAccountStatementUrl(e).then((function(e){return e.request.responseURL}))}(e)}})}}function I(e){return function(t){t({type:w,payload:e}),function(e){Object(P.default)(e)}(e)}}var A=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var x=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={selectedPeriodId:e.defaultPeriod,periods:e.periods,begin:g.a.isNumber(e.begin)?e.begin:n.getPeriod(e.defaultPeriod).begin,end:g.a.isNumber(e.end)?e.end:n.getPeriod(e.defaultPeriod).end},b()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),A(t,[{key:"componentDidMount",value:function(){this._mounted=!0}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"onChange",value:function(e){var t=this.getPeriod(e);this.setState({selectedPeriodId:e,begin:t.begin,end:t.end})}},{key:"getPeriod",value:function(e){var t=g.a.findWhere(this.props.periods,{id:e});return t?t.data:{}}},{key:"setCustomBeginDate",value:function(e){this.setState({begin:r()(g.a.first(e))})}},{key:"setCustomEndDate",value:function(e){this.setState({end:r()(g.a.first(e))})}},{key:"generate",value:function(){var e=this,t=this.state,n=t.begin,i=t.end,o=r()().utc().format("YYYY-MM-DD"),s=r()(n).utc().format("YYYY-MM-DD"),a=r()(i).utc().format("YYYY-MM-DD"),l=s===a===o;this.props.loadAccountStatementUrl({beginPeriod:s,endPeriod:a,isToday:l}).then((function(t){e._mounted&&e.props.openExternalPage(t)}))}},{key:"close",value:function(){this.props.onClose()}},{key:"render",value:function(){var e=this,t=this.state,n=t.selectedPeriodId,i=t.periods,o=t.begin,a=t.end,l=this.props.displayDateFormat,c=r()(this.props.absMinDate),u=r()();return s.a.createElement("div",{className:"popup-container account-statement-no-bg popup-type-confirm"},s.a.createElement("div",{className:"account-statement-wrapper flex flex-column popup-holder"},s.a.createElement("div",{className:"confirm-dialog"},s.a.createElement("div",{className:"account-statement-body"},s.a.createElement("h3",{className:"fs-24"},__("reports.request.popup.title")),s.a.createElement("div",{className:"form-inline"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"_sr-only",htmlFor:"inputPeriod"},__("period.title")),s.a.createElement(h.a,{childClassName:"pane pane__fluid",className:"pane__xfluid",as:"div",ref:"dropdown",selected:n,options:i,transformOptionsValue:function(e){return e.id},transformOptionText:function(e){return e.title},onChange:this.onChange}),n!==f.c&&s.a.createElement("div",{className:"period-detail"},s.a.createElement("b",null,__("reports.request.popup.from")),o.format(l)," ",s.a.createElement("b",null,__("reports.request.popup.to")),a.format(l))),n===f.c&&s.a.createElement("div",null,s.a.createElement("div",{className:"form-group custom-period inner-addon right-addon"},s.a.createElement("label",null,__("reports.request.popup.from")),s.a.createElement(_.a,{name:"from",ref:function(t){return e.calendarBeginNode=t},minDate:c.utc().toDate().getTime(),maxDate:a.utc().toDate().getTime(),defaultDate:o.utc().toDate().getTime(),dateFormat:"d/m/Y",onChange:this.setCustomBeginDate,disableMobile:!0,className:"form-control flatpickr-input"}),s.a.createElement("i",{className:"glyphicon icon-calendar"})),s.a.createElement("div",{className:"form-group custom-period inner-addon right-addon"},s.a.createElement("label",null,__("reports.request.popup.to")),s.a.createElement(_.a,{name:"to",ref:function(t){return e.calendarEndNode=t},maxDate:u.utc().toDate().getTime(),minDate:o.utc().toDate().getTime(),defaultDate:u.utc().toDate().getTime(),dateFormat:"d/m/Y",disableMobile:!0,onChange:this.setCustomEndDate,className:"form-control flatpickr-input"}),s.a.createElement("i",{className:"glyphicon icon-calendar"}))))),s.a.createElement("div",{className:"actions"},s.a.createElement("div",{className:"block-button"},s.a.createElement("button",{className:"btn flex-stretch text-center fn-cancel",onClick:this.close},s.a.createElement("span",{className:"flex flex-align-center flex-valign-center"},__("actions.close")))),s.a.createElement("div",{className:"block-button"},s.a.createElement("button",{className:"btn btn-primary flex-stretch text-center fn-ok",onClick:this.generate},s.a.createElement("span",{className:"flex flex-align-center flex-valign-center"},__("actions.generate"))))))))}}]),t}(s.a.Component);x.defaultProps={onClose:g.a.noop,periods:[],defaultPeriod:null,begin:null,end:null,absMinDate:0,displayDateFormat:"DD/MM/YYYY"};var N=Object(y.connect)(null,(function(e){return{loadAccountStatementUrl:function(t){return e(k(t))},openExternalPage:function(t){return e(I(t))}}}))(x),D=u.a.extend({render:function(){var e=this;u.a.prototype.render.call(this);var t=new Date(p.a.getUserInfoModel().get("account").accountCreationTime);return l.a.render(s.a.createElement(y.Provider,{store:window.store},s.a.createElement(N,{onClose:function(){return e.destroy()},onErrorClose:function(){return e.destroy()},onErrorCancel:function(){return e.destroy()},defaultPeriod:f.k,absMinDate:t,periods:[{id:f.c,data:Object(f.d)(r()(),r()()),title:__("period.custom")},{id:f.k,data:Object(f.n)(),title:__("period.this_month")},{id:f.e,data:Object(f.h)(),title:__("period.last_month")},{id:f.l,data:Object(f.o)(),title:__("period.this_quarter")},{id:f.f,data:Object(f.i)(),title:__("period.last_quarter")},{id:f.m,data:Object(f.p)(),title:__("period.this_year")},{id:f.g,data:Object(f.j)(),title:__("period.last_year")},{id:f.a,data:Object(f.b)(r()(t),r()()),title:__("period.all")}]})),this.$(".popup-body").get(0)),this},destroy:function(){l.a.unmountComponentAtNode(this.$(".popup-body").get(0)),u.a.prototype.destroy.call(this),this.options.onClose&&this.options.onClose()}});t.default=D},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=(n(1577),n(30)),s=n(84),a=n(293),l=n(120),c=n(31),u=function(e){var t=e.instrument,n=void 0===t?"":t,i=e.amount,o=e.orderType,u=e.onEdit,d=e.onDelete,p=e.id,f=Object(l.getInstrumentName)(n);return r.a.createElement(s.c,{className:"trading-settings__row"},r.a.createElement(c.default,{desktop:!0,tablet:!0},r.a.createElement(s.a,{className:"trading-settings__instrument"},f),r.a.createElement(s.a,null,i),r.a.createElement(s.a,null,Object(l.getOrderType)(o)),r.a.createElement(s.a,null,r.a.createElement(a.a,{style:"link",className:"trading-settings__button trading-settings__button--tool",onClick:function(){return u(p)}},r.a.createElement("span",{className:(Object(l.isAppThemeDark)(),"icon-pencil")})),r.a.createElement(a.a,{style:"link",className:"trading-settings__button trading-settings__button--tool",onClick:function(){return d(p)}},r.a.createElement("span",{className:(Object(l.isAppThemeDark)(),"icon-garbage")})))),r.a.createElement(c.default,{mobile:!0},r.a.createElement(s.a,{className:"trading-settings__item"},r.a.createElement("p",null,r.a.createElement("span",{className:"bold"},__("table.header.symbol"),":")," ",f),r.a.createElement("p",null,r.a.createElement("span",{className:"bold"},__("fields.amount"),":")," ",i),r.a.createElement("p",null,r.a.createElement("span",{className:"bold"},__("indigo.order.form.type"),":")," ",Object(l.getOrderType)(o))),r.a.createElement(s.a,null,r.a.createElement(a.a,{style:"link",className:"trading-settings__button trading-settings__button--tool",onClick:function(){return u(p)}},r.a.createElement("span",{className:"icon-pencil"})),r.a.createElement(a.a,{style:"link",className:"trading-settings__button trading-settings__button--tool",onClick:function(){return d(p)}},r.a.createElement("span",{className:"icon-garbage"})))))},d=n(363),p=n(4),f=n(1),h=n.n(f),m=n(399),g=n(187),v=n.n(g),b=n(75),_=n(15),y=n.n(_),E=n(18),S=n.n(E),C=n(313),w=n.n(C),O=(n(1578),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e});var T=w.a.extend({initialize:function(){w.a.prototype.initialize.apply(this,arguments)}}),P=S()({displayName:"Search",getDefaultProps:function(){return{as:"div",onRowClick:h.a.noop,childClassName:null,placeholder:"",overflowComponentSelector:"",value:"",inputClassName:"form-control",columnNamesToShow:null}},getComposedOptions:function(){var e=this;return{className:this.props.childClassName,name:"search",translationKey:"",onRowClick:function(t,n){return e.onRowClick(n)},overflowComponentSelector:this.props.overflowComponentSelector,value:this.props.value,placeholder:this.props.placeholder,inputClassName:this.props.inputClassName,columnNames:this.props.columnNamesToShow}},componentDidMount:function(){this.createField()},createField:function(){this.field||(this.field=new T(O({parent:this.refs.el},this.getComposedOptions())),this.field.render())},shouldComponentUpdate:function(e){return!h.a.isEqual(e,this.props)},destroyField:function(){this.field&&(this.field.remove(),this.field=null)},onRowClick:function(e){this.props.onRowClick(e.get("symbol"))},componentWillUnmount:function(){this.destroyField()},componentDidUpdate:function(){this.destroyField(),this.createField()},render:function(){var e=this.props,t=e.noIcon,n=(e.inputClassName,e.children,e.overflowComponentSelector,e.className),i=(e.value,e.onRowClick,e.childClassName,e.placeholder,e.columnNamesToShow,function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["noIcon","inputClassName","children","overflowComponentSelector","className","value","onRowClick","childClassName","placeholder","columnNamesToShow"]));return r.a.createElement(i.as,O({},i,{ref:"el",className:"search-component "+(t&&"search-component--no-icon")+" "+n}))}}),k=n(33),I=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function A(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var x=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.state={amountIncrement:1,minAmount:1,instrumentSymbol:b.a,orderType:b.b.LONG_SHORT,canSubmit:!0,amountError:!1,amountMaxError:!1},i.selectedInstrument=null,i.state={instrumentSymbol:i.props.instrument||b.a,orderType:i.props.orderType||b.b.LONG_SHORT},i.amount=i.props.amount,y()(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),I(t,[{key:"componentWillMount",value:function(){this.instruments=v.a.getAllInstruments(),this.state.instrumentSymbol!==b.a&&this.onInstrumentChange(this.state.instrumentSymbol,!1)}},{key:"onInstrumentChange",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.props.onInstrumentChange;n&&n(e),this.selectedInstrument=this.instruments[e],this.setState({instrumentSymbol:e}),this.setDefaultAmount({amountIncrement:this.selectedInstrument.getMinOrderIncrement(),minAmount:this.selectedInstrument.getMinOrderSize()},t)}},{key:"setDefaultAmount",value:function(e,t){var n=e.amountIncrement,i=e.minAmount;t&&(this.amount=i),this.setState({amountIncrement:n,minAmount:i})}},{key:"orderTypeChange",value:function(e){var t=this.props.onOrderTypeChange;t&&t(e),this.setState({orderType:e})}},{key:"isFractionalAmountEnabled",value:function(){return this.selectedInstrument&&this.selectedInstrument.isFractionalAmountEnabled()}},{key:"onAmountChange",value:function(e){this.amount=e}},{key:"isAmountValid",value:function(e){var t=this.state,n=t.amountIncrement,i=void 0===n?1:n,r=t.minAmount;e=this.isFractionalAmountEnabled()?parseFloat(e):parseInt(e,10);var o=!((this.isFractionalAmountEnabled()?this.divisible(e,i,Math.pow(10,this.selectedInstrument.getPrecision())):this.divisible(e,i))&&e>=r),s=e>this.selectedInstrument.getMaxOrderSize();return this.setState({amountError:o,amountMaxError:s}),!((o||s)&&this.state.instrumentSymbol!==b.a)}},{key:"divisible",value:function(e,t,n){return n&&(e=Math.round(e*n),t=Math.round(t*n)),e%t==0}},{key:"onSave",value:function(){var e=this.state,t=e.instrumentSymbol,n=e.orderType,i=this.props,r=i.onSave,o=i.id,s=this.amount;this.isAmountValid(s)&&r&&r({instrument:t,orderType:n,amount:s,id:o})}},{key:"getTextError",value:function(){var e=this.state,t=e.amountIncrement,n=e.amountError,i=e.amountMaxError;return n?__("order.form.validation.amount_step",t):i?__("order.form.validation.amount_too_big",this.selectedInstrument.getMaxOrderSize()):this.props.error?__("account_settings.trading-settings.error"):null}},{key:"render",value:function(){var e=this,t=this.state,n=t.amountIncrement,i=t.minAmount,s=t.instrumentSymbol,a=t.orderType,c=t.amountError,u=t.amountMaxError,d=!!s;return r.a.createElement(o.q,{className:"trading-settings__row trading-settings-item-form  "+(null!==this.getTextError()?"trading-settings-item-form--error":"")},r.a.createElement(o.o,{className:"trading-settings-item-form__field"},r.a.createElement(P,{className:"trading-settings-item-form__search",value:s,onRowClick:this.onInstrumentChange,noIcon:!k.default.mobile(),placeholder:__("account_settings.trading-settings.dropdown.select.placeholder"),overflowComponentSelector:this.props.overflowComponentSelector,columnNamesToShow:["instrumentName"]}),(this.props.error||c||u)&&r.a.createElement("span",{className:"trading-settings-item-form__error"},this.getTextError())),r.a.createElement(o.o,{className:"trading-settings-item-form__field"},r.a.createElement(m.b,{step:n,minValue:i,value:this.amount,precision:this.isFractionalAmountEnabled()?this.selectedInstrument.getPrecision():0,onChange:this.onAmountChange})),r.a.createElement(o.o,{className:"trading-settings-item-form__field"},r.a.createElement(m.a,{options:[].concat(A(h.a.values(b.b))),transformOptionText:l.getOrderType,onChange:this.orderTypeChange,selected:a,defaultValue:a,overflowComponentSelector:this.props.overflowComponentSelector})),r.a.createElement(o.o,{className:"trading-settings-item-form__field"},r.a.createElement(o.h,{className:"trading-settings__button",onClick:function(){return e.onSave()},disabled:!d},__("save"))))}}]),t}(r.a.Component),N=n(237),D=n.n(N),R=n(115),L=n.n(R),M=n(2);var j=function(e){return e.tradingSettings},F=Object(M.a)(j,(function(e){return e.instruments})),B=Object(M.a)(F,(function(e){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e)).reverse()})),U=Object(M.a)(j,(function(e){return e.tradingSettingsIdToEdit})),V=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var q=function(e){function t(){var e,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return n=i=z(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),i.state={isAdding:!1,hasEditError:!1,hasAddError:!1},i.subscriptionSymbols=null,z(i,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),V(t,[{key:"toggleAdding",value:function(){this.setState({isAdding:!this.state.isAdding}),this.resetErrors(),this.resetEditing()}},{key:"resetErrors",value:function(){this.setState({hasAddError:!1,hasEditError:!1})}},{key:"resetEditing",value:function(){this.props.setTradingSettingToEdit(null)}},{key:"resetAdding",value:function(){this.setState({isAdding:!1})}},{key:"componentDidMount",value:function(){var e=this;this.props.getTradingSettings(),this.keyboardEvents=D()({escape:function(){e.resetErrors(),e.resetEditing(),e.resetAdding()}})}},{key:"onAddSetting",value:function(e){var t=this;this.props.addTradingSetting(e).then((function(){return t.props.getTradingSettings()})).then((function(){return t.resetErrors()})).then((function(){return t.resetAdding()})).catch((function(){return t.setState({hasAddError:!0})}))}},{key:"onDeleteSetting",value:function(e){var t=this;this.props.removeTradingSetting(e).then((function(){return t.props.getTradingSettings()}))}},{key:"onEditSetting",value:function(e){this.props.setTradingSettingToEdit(e),this.resetErrors(),this.resetAdding()}},{key:"componentWillUnmount",value:function(){this.keyboardEvents&&this.keyboardEvents.off(),this.removeSubscriptions()}},{key:"isSettingEdit",value:function(e){return this.props.tradingSettingsToEdit===e}},{key:"componentWillUpdate",value:function(e){var t=e.tradingSettings;t&&t.length&&this.createSubscriptions(t)}},{key:"createSubscriptions",value:function(e){this.removeSubscriptions();var t=h.a.chain(e).map((function(e){return e.instrument})).uniq().value();this.subscriptionSymbols=L.a.add(t)}},{key:"removeSubscriptions",value:function(){this.subscriptionSymbols&&L.a.remove(this.subscriptionSymbols)}},{key:"onEditSettingSubmit",value:function(e){var t=this;this.props.changeTradingSetting(e).then((function(){return t.props.getTradingSettings()})).then((function(){return t.onEditSetting(null)})).catch((function(){return t.setState({hasEditError:!0})}))}},{key:"render",value:function(){var e=this,t=this.props.tradingSettings,n=this.state,i=n.isAdding,s=n.hasAddError,a=n.hasEditError;return r.a.createElement("div",{className:"trading-settings"},r.a.createElement(o.j,{className:"trading-settings__content"},r.a.createElement(o.k,null,__("account_settings.trading-settings.menu.title")),r.a.createElement(o.i,null,__("account_settings.trading-settings.description")),r.a.createElement(o.m,{className:"trading-settings__table",theadClassName:"trading-settings__table-header",bodyClassName:"trading-settings__table-body",thead:r.a.createElement(o.q,null,r.a.createElement(o.p,null,__("account_settings.trading-settings.column.instruments")),r.a.createElement(o.p,null,__("fields.amount")),r.a.createElement(o.p,null,__("indigo.order.form.type")),r.a.createElement(o.p,null,r.a.createElement(o.h,{icon:"+",className:"trading-settings__button",onClick:function(){return e.toggleAdding()}},__("actions.add"))))},i&&r.a.createElement(x,{onSave:function(t){return e.onAddSetting(t)},overflowComponentSelector:".trading-settings__table",onOrderTypeChange:function(){return e.resetErrors()},onInstrumentChange:function(){return e.resetErrors()},error:s}),h.a.map(t,(function(t){var n=t.instrument,i=t.amount,o=t.orderType,s=t.id;return e.isSettingEdit(s)?r.a.createElement(x,{instrument:n,amount:i,orderType:o,onSave:function(t){return e.onEditSettingSubmit(t)},key:s,id:s,overflowComponentSelector:".trading-settings__table",error:a,onOrderTypeChange:function(){return e.resetErrors()},onInstrumentChange:function(){return e.resetErrors()}}):r.a.createElement(u,{instrument:n,amount:i,orderType:o,key:s,id:s,onDelete:function(t){return e.onDeleteSetting(t)},onEdit:function(t){return e.onEditSetting(t)}})})),!i&&0===t.length&&r.a.createElement(o.q,{className:"trading-settings__empty-settings-row"},r.a.createElement(o.o,{className:"trading-settings__empty-settings"},r.a.createElement("span",{className:"icon-empty-amount trading-settings__empty-settings-icon"}),r.a.createElement("div",null,__("account_settings.trading-settings.empty.description")))))),r.a.createElement(c.default,{mobile:!0},r.a.createElement("div",{className:"trading-settings__button--sm-screen"},r.a.createElement(o.h,{icon:"+",className:"trading-settings__button",onClick:function(){return e.toggleAdding()}},__("actions.add")))))}}]),t}(r.a.Component);t.default=Object(p.connect)((function(e){return{tradingSettings:B(e),tradingSettingsToEdit:U(e)}}),(function(e){return{getTradingSettings:function(){return e(Object(d.c)())},addTradingSetting:function(t){return e(Object(d.a)(t))},removeTradingSetting:function(t){return e(Object(d.d)(t))},setTradingSettingToEdit:function(t){return e(Object(d.e)(t))},changeTradingSetting:function(t){return e(Object(d.b)(t))}}}))(q)},function(e,t,n){"use strict";n.r(t);var i=n(72),r=n.n(i),o=n(0),s=n.n(o),a=n(202),l=n(4),c=n(6),u=n.n(c),d=n(5),p=n.n(d),f=n(9),h=n.n(f),m=n(134),g=n(1),v=n.n(g),b=n(61),_=function(e){e.onChange;var t=e.positionMode,n=e.onFieldChange;return s.a.createElement("div",{className:"pane pane__row"},s.a.createElement(m.a,{className:"switcher-open-position-mode-block",as:"div",name:"switcher-open-position-mode",title:__("account_settings.open-position-mode.title"),selected:t,options:b.OPEN_POSITION_OPTIONS,transformOptionText:function(e){return __("modes."+[e])},onChange:function(e){return n&&n("positionMode",e)}}))},y=n(494),E=function(e){e.onChange;var t=e.tradingView,n=e.onFieldChange;return s.a.createElement("div",{className:"pane pane__row"},s.a.createElement(m.a,{className:"switcher-mode-block",as:"div",name:"switcher-trading-view-mode",title:__("trading_view.title"),selected:t,transformOptionText:function(e){return __("modes."+e)},options:b.TRADING_VIEW_OPTIONS,onChange:function(e){return n&&n("tradingView",e)}}))},S=function(e){e.onChange;var t=e.chartMode,n=e.onFieldChange;return s.a.createElement("div",{className:"pane pane__row"},s.a.createElement(m.a,{className:"switcher-mode-block",as:"div",name:"switcher-chart-mode",title:__("instrument_info.tab.chart"),selected:t,transformOptionText:function(e){return __("modes."+e)},options:b.CHART_MODE_OPTIONS,onChange:function(e){return n&&n("chartMode",e)}}))},C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},w=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=v.a.first(b.OPEN_POSITION_OPTIONS),P=v.a.first(b.TRADING_VIEW_OPTIONS),k=v.a.first(b.CHART_MODE_OPTIONS),I="themeDigit",A="tradingView",x="positionMode",N="chartMode",D=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.componentDidMount=function(){var e=u.a.getUserCommonData(),t=e.getAppThemeId(),i=v.a.parseUndefined(e.getTradingViewMode())||P,r=v.a.parseUndefined(e.getOpenPositionMode())||T,o=v.a.parseUndefined(e.getChartMode())||k;n.setState({themeDigit:t,tradingView:i,positionMode:r,chartMode:o,choosenthemeDigit:t,choosentradingView:i,choosenpositionMode:r,choosenchartMode:o})},n.onFieldChange=function(e,t){switch(n.setState({isFieldChanged:!1}),e){case I:n.setState({isChangeThemeSaved:!1});break;case x:n.setState({isOpenPositionModeSaved:!1});break;case A:n.setState({isTradingViewSaved:!1});break;case N:n.setState({isChartModeSaved:!1})}var i="choosen"+e;n.setState(O({},i,t)),t!==n.state[e]?n.changeFieldStatusInState(e,!0):n.state.changedFields[e]&&n.changeFieldStatusInState(e,!1)},n.onError=function(){p.a.trigger("ui:message-box",{text:__("account_settings.error.message")})},n.changeFieldStatusInState=function(e,t){n.setState((function(n){var i=C({},n.changedFields,O({},e,t));return{changedFields:i,isSaveButtonEnabled:v.a.values(i).includes(!0)}}))},n.onSaveClick=function(){if(n.state.isSaveButtonEnabled){var e=n.state.changedFields;v.a.keys(e).filter((function(t){return e[t]})).forEach((function(e){switch(e){case I:setTimeout((function(){return n.changeTheme(n.state.choosenthemeDigit)}),0);break;case x:setTimeout((function(){return n.changeOpenPositionMode(n.state.choosenpositionMode)}),0);break;case A:setTimeout((function(){return n.changeTradingView(n.state.choosentradingView)}),0);break;case N:setTimeout((function(){return n.changeChartMode(n.state.choosenchartMode)}),0)}}))}},n.changeTheme=function(e){var t=1===e?"dark":"light";u.a.getUserCommonData().saveAppTheme(t).then((function(){n.setState({isChangeThemeSaved:!1},(function(){setTimeout((function(){return r.a.change(0===e?0:1,!0)}),0),n.changeFieldStatusInState(I,!1),n.setState({themeDigit:e,isChangeThemeSaved:!0,isFieldChanged:!0})}))})).catch((function(){return n.onError()}))},n.changeTradingView=function(e){u.a.getUserCommonData().saveTradingViewMode(e).then((function(){n.setState({isTradingViewSaved:!1},(function(){n.changeFieldStatusInState(A,!1),n.setState({tradingViewSection:e,isTradingViewSaved:!0,isFieldChanged:!0}),n.props.dispatch(Object(a.b)(!0)),__eventos("tradingPlatform:changePlatformSettings:tradingView",{tradingView:e},!0)}))})).catch((function(){return n.onError()}))},n.changeOpenPositionMode=function(e){u.a.getUserCommonData().saveOpenPositionMode(e).then((function(){n.setState({isOpenPositionModeSaved:!1},(function(){n.changeFieldStatusInState(x,!1),n.setState({positionModeSection:e,isOpenPositionModeSaved:!0,isFieldChanged:!0}),__eventos("tradingPlatform:changePlatformSettings:openPositionMode",{positionMode:e},!0)}))})).catch((function(){return n.onError()}))},n.changeChartMode=function(e){u.a.getUserCommonData().saveChartMode(e).then((function(){n.setState({isChartModeSaved:!1},(function(){n.changeFieldStatusInState(N,!1),n.setState({chartModeSection:e,isChartModeSaved:!0,isFieldChanged:!0}),n.props.dispatch(Object(a.b)(!0)),__eventos("tradingPlatform:changePlatformSettings:chartMode",{chartMode:e},!0)}))})).catch((function(){return n.onError()}))},n.state={changedFields:{themesSection:!1,tradingViewSection:!1,positionModeSection:!1,chartModeSection:!1},isSaveButtonEnabled:!1,themeDigit:0,tradingView:P,positionMode:T,chartMode:k,choosenthemeDigit:0,choosentradingView:P,choosenpositionMode:T,choosenchartMode:k,isOpenPositionModeSaved:!0,isChangeThemeSaved:!0,isTradingViewSaved:!0,isChartModeSaved:!0,isFieldChanged:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),w(t,[{key:"render",value:function(){var e=this.props,t=e.isTradingViewSwitcherEnabled,n=e.isChartModeSwitcherEnabled,i=e.isThemeSwitcherEnabled,r=this.state.isOpenPositionModeSaved&&this.state.isChangeThemeSaved&&this.state.isTradingViewSaved&&this.state.isFieldChanged,o=this.state.choosentradingView===b.TRADING_VIEW_ADVANCED;return s.a.createElement("div",{className:"form platform-features-item",ref:"platformFeaturesForm"},i&&s.a.createElement("div",{className:"field-wrapper"},s.a.createElement(y.a,{themeDigit:this.state.choosenthemeDigit,onFieldChange:this.onFieldChange})),s.a.createElement("div",{className:"field-wrapper"},s.a.createElement(_,{positionMode:this.state.choosenpositionMode,onFieldChange:this.onFieldChange})),t&&s.a.createElement("div",{className:"field-wrapper"},s.a.createElement(E,{tradingView:this.state.choosentradingView,onFieldChange:this.onFieldChange})),n&&o&&s.a.createElement("div",{className:"field-wrapper"},s.a.createElement(S,{chartMode:this.state.choosenchartMode,onFieldChange:this.onFieldChange})),s.a.createElement("div",{className:"grid-12 form-row form-actions"},s.a.createElement("div",{className:"actions"},s.a.createElement("button",{onClick:this.onSaveClick,className:"btn fn-submit "+(this.state.isSaveButtonEnabled?"btn-primary":"disabled")},s.a.createElement("span",{className:"grid-middle verification-icon "+(r?"":"hidden hidden-xs")},s.a.createElement("i",{className:"icon icon-verified-circle"})),__("account_settings.button.save")))))}}]),t}(s.a.Component);t.default=Object(l.connect)((function(){return{isTradingViewSwitcherEnabled:h.a.isTradingViewModeSwitcherEnabled(),isChartModeSwitcherEnabled:h.a.isChartModeSwitcherEnabled(),isThemeSwitcherEnabled:r.a.isEnabled()}}))(D)},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(4),s=n(19),a=n(88),l=n(286),c=n(329),u=n(89),d=n.n(u),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var f=function(e){var t=d.a.getPositionByCode(e);return t&&t.getQuantity()<0?__("actions.sold"):__("actions.bought")},h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:f(e.positionCode)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),p(t,[{key:"shouldComponentUpdate",value:function(e){return e.positionCode!==this.props.positionCode}},{key:"componentWillUpdate",value:function(e,t){var n=e.positionCode;n!==this.props.positionCode&&(t.value=f(n))}},{key:"render",value:function(){var e=this.props,t=e.className,n=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["className"]),i=this.state.value;return r.a.createElement(n.as,{className:t},i)}}]),t}(r.a.Component);h.defaultProps={as:"span",className:null,positionCode:""};var m=h,g=n(941),v=n.n(g),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var _=function(e){var t=d.a.getPositionByCode(e);return t&&t.getInstrumentId()},y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={instrumentId:_(e.positionCode)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),b(t,[{key:"shouldComponentUpdate",value:function(e){return e.positionCode!==this.props.positionCode}},{key:"componentWillUpdate",value:function(e,t){var n=e.positionCode;n!==this.props.positionCode&&(t.instrumentId=_(n))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.as,i=this.state.instrumentId;return r.a.createElement(v.a,{instrumentId:i,as:n,className:t})}}]),t}(r.a.Component);y.defaultProps={as:"span",className:null,positionCode:""};var E=y;t.default=Object(o.connect)((function(e,t){var n=t.positionCode,i=Object(a.getOpenPositionSymbolById)(e,n);return{isSpreadBetting:Object(s.isInstrumentTypeSpreadBetting)(e,i),amountSpreadBettingLabel:Object(s.getInstrumentAmountSpreadBettingLabel)(e,i)}}))((function(e){var t=e.positionCode,n=e.isSpreadBetting,i=e.amountSpreadBettingLabel;return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,__("close.position.label")),r.a.createElement(m,{positionCode:t,as:"span"}),r.a.createElement(l.a,{positionCode:t,as:"span",abs:!0}),r.a.createElement(E,{positionCode:t,as:"span"}),r.a.createElement("span",null,"@"),r.a.createElement(c.a,{positionCode:t,as:"span",after:n?r.a.createElement("span",null,": ",r.a.createElement(l.a,{abs:!0,positionCode:t,as:"span"})," ",i):""}))}))},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(4),s=n(7),a=n.n(s),l=n(1),c=n.n(l),u=n(316),d=n(15),p=n.n(d),f=n(135),h=n(364),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return p()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),m(t,[{key:"onClick",value:function(){var e=this.props,t=e.watch,n=e.liveEvent;(0,e.toggleTooltip)(),t(n.id)}},{key:"render",value:function(){if(!this.props.liveEvent)return null;var e=this.props.liveEvent.presenter;return r.a.createElement("div",{className:"pane pane__column x-ray-tooltip-container x-ray-tooltip__live-session"},r.a.createElement("div",{className:"x-ray-tooltip__title fs-12"},__("x_ray_tooltip.live.session.title")),r.a.createElement("div",{className:"fs-10"},__("x_ray_tooltip.live.session.text",e.title,e.name)),r.a.createElement("div",{className:"x-ray-tooltip__footer fs-10",onClick:this.onClick},__("x_ray_tooltip.live.session.footer")))}}]),t}(i.PureComponent);g.defaultProps={toggleTooltip:c.a.noop};var v=Object(o.connect)((function(e){return{liveEvent:Object(f.i)(e)}}),(function(e){return{watch:function(t){return e(Object(h.q)(t))}}}))(g),b=n(639),_=n(5),y=n.n(_),E=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var S=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return p()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),E(t,[{key:"openWebinarsPopup",value:function(){this.props.toggleTooltip(),y.a.navigate("#webinars",{trigger:!0})}},{key:"render",value:function(){var e=this.props.nextSessionEventId;return r.a.createElement("div",{className:"pane pane__column x-ray-tooltip-container x-ray-tooltip-next-session"},r.a.createElement("div",{className:"x-ray-tooltip__title fs-12"},__("webinars.header")),r.a.createElement("div",{className:"fs-10"},r.a.createElement("span",null,__("x_ray_tooltip.next.session.text")),r.a.createElement("span",null,r.a.createElement(b.a,{eventId:e,className:"webinars-next-session__countdown fs-9"}))),r.a.createElement("div",{className:"x-ray-tooltip__footer cursor--pointer fs-10",onClick:this.openWebinarsPopup},__("webinars.full.schedule")))}}]),t}(i.PureComponent);S.defaultProps={toggleTooltip:c.a.noop};var C=S,w=n(531),O=(n(1835),n(59)),T=n(46),P=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var k=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return p()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),P(t,[{key:"toggleTooltip",value:function(){var e=this.props,t=e.isTooltipShown;(0,e.visibilityChange)(!t)}},{key:"onVisibilityChange",value:function(e){this.props.visibilityChange(e)}},{key:"render",value:function(){var e=this.props,t=e.isLiveEvent,n=e.nextSessionEventId,i=e.isTooltipShown,o=a()({"cursor--pointer":!0,"fs-17":!0,"icon-live":t,"icon-start-soon":!t});return w.f?r.a.createElement(u.a,{className:"x-ray-tooltip",placement:"bottom",trigger:"click",tooltipShown:i,onVisibilityChange:this.onVisibilityChange,tooltip:t?r.a.createElement(v,{toggleTooltip:this.toggleTooltip}):r.a.createElement(C,{nextSessionEventId:n,toggleTooltip:this.toggleTooltip})},r.a.createElement("span",{className:o})):null}}]),t}(i.PureComponent);t.default=Object(o.connect)((function(e,t){return{isXRayAvailable:Object(w.f)(e),isLiveEvent:Object(f.i)(e),nextSessionEventId:Object(f.j)(e),isTooltipShown:Object(O.isWebinarTooltipShown)(e)}}),(function(e){return{visibilityChange:function(t){return e(Object(T.setWebinarTooltip)(t))}}}))(k)},,function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(27),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};var a=function(e){var t=e.as,n=(e.dispatch,function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["as","dispatch"]));return r.a.createElement(t||"span",s({},n),r.a.createElement("span",{className:"logotype-box"},r.a.createElement("span",{className:"logotype"})))},l=n(6),c=n.n(l),u=function(e){var t=e.invert,n=e.children;return(t?!c.a.isLoggedIn():c.a.isLoggedIn())?n:null},d=n(31),p=n(4);t.default=Object(p.connect)((function(e){return{isLoggedAsQRAccount:Object(o.isUserLoggedInQuantRankAccount)(e)}}))((function(e){var t=e.isLoggedAsQRAccount,n=(e.dispatch,function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["isLoggedAsQRAccount","dispatch"]));return r.a.createElement("div",n,r.a.createElement(d.default,{desktop:!0,tablet:!0},r.a.createElement(a,null)),!t&&r.a.createElement(d.default,{mobile:!0},r.a.createElement("div",null,r.a.createElement(u,null,r.a.createElement("div",{className:"previous btn fn-previous"},r.a.createElement("div",{className:"icon search"},r.a.createElement("div",{className:"caption"})))))))}))},function(e,t,n){"use strict";n.r(t);var i=n(3),r=n(5),o=n.n(r),s=n(0),a=n.n(s),l=n(1),c=n.n(l),u=function(e){var t=e.onHeaderClick,n=e.onCloseClick,i=e.children;return a.a.createElement("div",{className:"hotjar__content flex flex-valign-center cursor--pointer",onClick:t},a.a.createElement("div",{className:"hotjar__icon icon ni-brand-icon fn-14"}),a.a.createElement("div",{className:"hotjar__label fs-11"},i),a.a.createElement("div",{className:"hotjar__icon icon icon-close-grey",onClick:n}))};u.defaultPorps={onHeaderClick:c.a.noop,onCloseClick:c.a.noop};var d=u,p=n(223),f=n(2),h=n(9),m=n.n(h),g=function(e){return e.hotjar},v=Object(f.a)(g,(function(){return m.a.isHotjarEnabled()})),b=Object(f.a)(g,(function(e){return e.visibility})),_=Object(f.a)(b,(function(e){return e===i.VISIBLE})),y=Object(f.a)(g,(function(e){return e.autoOpenTriggerDelayMilliseconds})),E=n(15),S=n.n(E),C=n(4),w=n(55),O=(n(1894),n(102)),T=n.n(O),P=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var k=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={showInfo:!1,showFeedbackTrigger:!0},S()(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),P(t,[{key:"componentDidMount",value:function(){var e=this.props.init;o.a.on("deposit:success",this.showFeedbackButton,this),e(),this.showFeedbackButton({force:T.a.FIRST_DEPOSIT_MADE()})}},{key:"showFeedbackButton",value:function(e){var t=e.isFirstDeposit,n=e.force,i=this.props,r=i.throttledShowFeedbackButton,o=i.autoOpenTriggerDelayMilliseconds;(!0===n||t)&&c.a.delay(r,o)}},{key:"componentWillUnmount",value:function(){o.a.off("deposit:success",this.showFeedbackButton,this)}},{key:"onClose",value:function(e){e.stopPropagation(),this.setState({showInfo:!0,showFeedbackTrigger:!1}),this.closeInfoAutomaticallyAfterMs(15e3)}},{key:"closeInfoAutomaticallyAfterMs",value:function(e){var t=this;c.a.delay((function(){return t.onCloseInfo()}),e)}},{key:"onCloseInfo",value:function(){this.setState({showInfo:!1}),this.props.onCloseInfo()}},{key:"render",value:function(){var e=this.props,t=e.isTriggerEnabled,n=e.isTriggerVisible,i=e.onContentClick,r=this.state,o=r.showInfo,s=r.showFeedbackTrigger;return t&&n?a.a.createElement("div",{className:"hotjar"},s&&a.a.createElement("div",{className:"hotjar--vertical hotjar--style"},a.a.createElement(d,{verticalHeader:!0,onCloseClick:this.onClose,onHeaderClick:i},__("feedback.popup_header"))),o&&a.a.createElement("div",{className:"hotjar--style"},a.a.createElement(d,{onCloseClick:this.onCloseInfo},__("feedback.popup_header")),a.a.createElement("div",{className:"hotjar__content hotjar__body fs-11"},__("feedback.toast.text")))):null}}]),t}(a.a.Component);k.defaultProps={init:c.a.noop,onContentClick:c.a.noop,onCloseInfo:c.a.noop,autoOpenTriggerDelayMilliseconds:i.MINUTE_IN_MILLISECONDS};t.default=Object(C.connect)((function(e){return{isTriggerEnabled:v(e)&&Object(w.getSettingValueByKey)(e,"isAutoOpenFeedbackTriggerEnabled"),isTriggerVisible:_(e),autoOpenTriggerDelayMilliseconds:y(e)}}),(function(e){return{init:function(){e(Object(p.hotjarInit)())},onContentClick:function(){e(Object(p.hotjarTryToOpenFeedbackForm)())},onCloseInfo:function(){e(Object(p.hotjarDisableAutoOpenFeedbackTrigger)())},throttledShowFeedbackButton:c.a.throttle((function(){e(Object(p.hotjarChangeVisibility)(i.VISIBLE))}),300)}}))(k)},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(15),s=n.n(o),a=n(232),l=n.n(a),c=n(620),u=n.n(c),d=n(1),p=n.n(d),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),f(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.onClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.onClick)}},{key:"onClick",value:function(e){this.refs.el&&!this.refs.el.contains(e.target)&&this.props.onOutsideClick()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{ref:"el",className:"topmenu-bonus-progress-bar__content active-bonus-panel"},r.a.createElement(l.a,{name:u.a})))}}]),t}(r.a.Component);h.defaultProps={onOutsideClick:p.a.noop};var m=h,g=n(4),v=n(27),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var _=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s()(n),n.state={isOpened:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),b(t,[{key:"onClick",value:function(){this.setState({isOpened:!this.state.isOpened})}},{key:"render",value:function(){var e=this.state.isOpened;return this.props.activeBonusesAmount<=0?null:r.a.createElement("div",{className:"topmenu-bonus-progress-bar__icon"},r.a.createElement("div",{className:"icon-bonus-menu fs-20",onClick:this.onClick}),e&&r.a.createElement(m,{onOutsideClick:this.onClick}))}}]),t}(r.a.Component);t.default=Object(g.connect)((function(e){return{activeBonusesAmount:Object(v.getUserActiveBonusesAmount)(e)}}))(_)},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(4),s=n(19),a=n(109),l=n(220),c=n(287),u=n(288),d=n(221),p=n(18),f=n.n(p),h=n(103),m=n(26),g=function(e){var t=h.getOrderById(e);if(t){var n=m.getInstrumentById(t.get("instrumentId"));return n&&n.getName()}},v=f()({displayName:"OrderInstrumentName",getDefaultProps:function(){return{as:"span",orderId:"",className:null}},getInitialState:function(){return{value:g(this.props.orderId)}},componentWillUpdate:function(e,t){e.orderId!==this.props.orderId&&(t.value=g(e.orderId))},shouldComponentUpdate:function(e){return e.orderId!==this.props.orderId},render:function(){var e=this.props.className,t=this.state.value;return r.a.createElement(this.props.as,{className:e},t)}}),b=n(289);t.default=Object(o.connect)((function(e,t){var n=t.orderId,i=Object(a.getOrderSymbolById)(e,n),r=Object(s.isInstrumentTypeSpreadBetting)(e,i);return{instrumentCurrency:Object(s.getInstrumentCurrency)(e,i),pipSize:Object(s.getInstrumentPipsPrecisionSize)(e,i),isSpreadBetting:r}}))((function(e){var t=e.orderId,n=e.isSpreadBetting,i=e.instrumentCurrency,o=e.pipSize;return n?r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,{orderId:t,as:"span"}),r.a.createElement(u.a,{orderId:t,as:"span"}),r.a.createElement(v,{orderId:t,as:"span"}),r.a.createElement(b.a,{orderId:t,as:"span"}),r.a.createElement(l.a,{orderId:t,as:"span"}),r.a.createElement(d.a,{orderId:t,as:"span",transformValueText:function(e){return __("orders.cancel_all.quantity_sb",e,i,o)}})):r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,{orderId:t,as:"span"}),r.a.createElement(u.a,{orderId:t,as:"span"}),r.a.createElement(d.a,{orderId:t,as:"span"}),r.a.createElement(v,{orderId:t,as:"span"}),r.a.createElement(b.a,{orderId:t,as:"span"}),r.a.createElement(l.a,{orderId:t,as:"span"}))}))},function(e,t,n){"use strict";n.r(t);var i=n(20),r=n.n(i),o=n(22),s=n.n(o),a=n(0),l=n.n(a),c=n(4),u=n(72),d=n.n(u),p=n(6),f=n.n(p),h=n(5),m=n.n(h),g=n(9),v=n.n(g),b=n(494),_=n(1),y=n.n(_),E=n(495),S=n(202),C=n(61),w=n(496),O=n(54),T=n.n(O),P=n(31),k=n(3),I=n(7),A=n.n(I),x=n(15),N=n.n(x),D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},R=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=v.a.isTimezoneEnabled(),j=d.a.isEnabled(),F="en",B=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._isMounted=!1,n.state={changedFields:{themesSection:!1,timeZoneSection:!1,languageSection:!1},isSaveButtonEnabled:!1,timeZone:C.GMT,choosentimeZone:C.GMT,language:F,choosenlanguage:F,themeDigit:0,choosenthemeDigit:0,isTimezoneSaved:!0,isChangeThemeSaved:!0,isLanguageSaved:!0,isFieldChanged:!1},N()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),R(t,[{key:"componentDidMount",value:function(){this._isMounted=!0;var e=f.a.getUserCommonData(),t=e.getAppThemeId();this.setState({themeDigit:t,choosenthemeDigit:t,timeZone:e.getUserTimezoneObject().id||C.GMT,choosentimeZone:e.getUserTimezoneObject().id||C.GMT,language:T.a.getLanguage()||F,choosenlanguage:T.a.getLanguage()||F})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"onFieldChange",value:function(e,t){switch(this.setState({isFieldChanged:!1}),e){case"themeDigit":this.setState({isChangeThemeSaved:!1});break;case"timeZone":this.setState({isTimezoneSaved:!1});break;case"language":this.setState({isLanguageSaved:!1})}var n="choosen"+e;this.setState(L({},n,t)),t!==this.state[e]?this.changeFieldStatusInState(e,!0):this.state.changedFields[e]&&this.changeFieldStatusInState(e,!1)}},{key:"onError",value:function(){m.a.trigger("ui:message-box",{text:__("account_settings.error.message")})}},{key:"changeFieldStatusInState",value:function(e,t){this.setState((function(n){var i=D({},n.changedFields,L({},e,t));return{changedFields:i,isSaveButtonEnabled:y.a.values(i).includes(!0)}}))}},{key:"onSaveClick",value:function(){var e=this;if(this.state.isSaveButtonEnabled){var t=this.state.changedFields;y.a.keys(t).filter((function(e){return t[e]})).forEach((function(t){switch(t){case"themeDigit":setTimeout((function(){return e._isMounted&&e.changeTheme(e.state.choosenthemeDigit)}),0);break;case"timeZone":e.changeTimezoneMode(e.state.choosentimeZone);break;case"language":e.changeLanguage(e.state.choosenlanguage)}}))}}},{key:"changeTheme",value:function(e){var t=this,n=1===e?"dark":"light";f.a.getUserCommonData().saveAppTheme(n).then((function(){t._isMounted&&t.setState({isChangeThemeSaved:!1},(function(){setTimeout((function(){return d.a.change(0===e?0:1,!0)}),0),t.changeFieldStatusInState("themeDigit",!1),t.setState({themeDigit:e,isChangeThemeSaved:!0,isFieldChanged:!0})}))})).catch((function(){return t.onError()}))}},{key:"changeTimezoneMode",value:function(e){var t=this;f.a.getUserCommonData().saveUserTimezoneId(e).then((function(){t._isMounted&&t.setState({isTimezoneSaved:!0,isFieldChanged:!0,timeZone:e},(function(){t.changeFieldStatusInState("timeZone",!1)})),t.props.setIsReloadNeeded(!0)})).catch((function(){return t.onError()}))}},{key:"changeLanguage",value:function(e){var t=this;f.a.isLoggedIn()&&f.a.getUserCommonData().saveSelectedLanguage(e),T.a.setLanguage(e).then((function(){t._isMounted&&t.setState({isLanguageSaved:!0,isFieldChanged:!0,language:e},(function(){t.changeFieldStatusInState("language",!1)})),t.props.setIsReloadNeeded(!0)})).catch((function(){return t.onError()}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"form platform-features-item",ref:"platformFeaturesForm"},j&&l.a.createElement("div",{className:"field-wrapper"},l.a.createElement(b.a,{themeDigit:this.state.choosenthemeDigit,onFieldChange:this.onFieldChange})),M&&l.a.createElement("div",{className:"field-wrapper"},l.a.createElement(E.a,{onFieldChange:this.onFieldChange})),l.a.createElement(P.default,{minWidth:k.BREAKPOINT_SCREEN_LG_MAX},l.a.createElement("div",{className:"field-wrapper"},l.a.createElement(w.a,{language:this.state.choosenlanguage,onFieldChange:this.onFieldChange}))),l.a.createElement("div",{className:"grid-12 form-row form-actions"},l.a.createElement("div",{className:"actions"},l.a.createElement("button",{onClick:this.onSaveClick,className:A()({"btn fn-submit":!0,"btn-primary":this.state.isSaveButtonEnabled,disabled:!this.state.isSaveButtonEnabled})},__("account_settings.button.save")))))}}]),t}(l.a.Component),U=Object(c.connect)(null,(function(e){return{setIsReloadNeeded:function(t){return e(Object(S.b)(t))}}}))(B),V=r.a.extend({tag:"div",className:"content-body platform-features",render:function(){return r.a.prototype.render.call(this),s.a.render(l.a.createElement(c.Provider,{store:store},l.a.createElement(U,null)),this.el),this},destroy:function(){s.a.unmountComponentAtNode(this.el),r.a.prototype.destroy.call(this)},beforeCreate:function(){return!0},isSaveNeeded:function(){return!1}});t.default=V},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(4),s=n(350),a=n(503),l=n(349),c=n(351),u=n(356),d=n(39),p=n(50),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),f(t,[{key:"componentWillUnmount",value:function(){this.props.messagesUnselectAll(),this.props.closeActiveMessage()}},{key:"render",value:function(){return this.props.isOpened?r.a.createElement("div",{className:"notification-center__popup"},r.a.createElement("div",{ref:"notification_center"},r.a.createElement(a.a,null),r.a.createElement(c.b,null),r.a.createElement(s.b,null),r.a.createElement(u.a,null),r.a.createElement(l.a,null))):null}}]),t}(r.a.Component),m=Object(o.connect)((function(e){return{isOpened:Object(p.l)(e)}}),(function(e){return{messagesUnselectAll:function(){return e(Object(d.messagesUnselectAll)())},closeActiveMessage:function(){return e(Object(d.setIsActiveMessageVisible)(!1))}}}))(h),g=n(481),v=(n(1838),n(15)),b=n.n(v),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var y=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i)));return b()(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),_(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.onClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.onClick)}},{key:"onClick",value:function(e){this.props.isOpened&&this.refs.wrapper&&!this.refs.wrapper.contains(e.target)&&this.onToggle()}},{key:"onToggle",value:function(){var e=!this.props.isOpened;this.props.setPopupState(e),e&&(this.props.messagesUnselectAll(),this.props.closeActiveMessage())}},{key:"render",value:function(){return r.a.createElement("div",{ref:"wrapper",className:"notification-center__icon"},r.a.createElement("span",{className:"icon-notification fs-21",onClick:this.onToggle}),r.a.createElement(g.default,null),r.a.createElement(m,null))}}]),t}(r.a.PureComponent);t.default=Object(o.connect)((function(e){return{isOpened:Object(p.l)(e)}}),(function(e){return{setPopupState:function(t){return e(Object(d.setOpenPopupState)(t))},messagesUnselectAll:function(){return e(Object(d.messagesUnselectAll)())},closeActiveMessage:function(){return e(Object(d.setIsActiveMessageVisible)(!1))}}}))(y)}]);