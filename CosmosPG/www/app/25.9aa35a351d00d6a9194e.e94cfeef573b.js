(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{2094:function(t,e,n){"use strict";var o=n(3),r=n(230),s=n(123),a=n(0),u=n.n(a),i=n(15),c=n.n(i),l=n(4),f=n(1),p=n.n(f),h=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();var b=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.state={status:o.EMPTY,backtestID:null,performance:null,insights:null},c()(t),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),h(e,[{key:"componentDidMount",value:function(){this._mounted=!0,this.request()}},{key:"request",value:function(){this.setState({status:o.IN_PROCESS}),this.props.createBacktestWithOverview(this.props.filters).then(p.a.callIf(this.onCreateBacktestWithOverviewSuccess,this.mounted)).catch(p.a.callIf(this.onError,this.mounted))}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"onCreateBacktestWithOverviewSuccess",value:function(t){var e=t.backtest,n=t.overview;e&&n?(this.setState({status:o.SUCCESS,backtestID:e.backtestID,performance:e,insights:n}),this.props.onSuccess(t)):this.setState({status:o.ERROR})}},{key:"onError",value:function(){this.setState({status:o.ERROR})}},{key:"mounted",value:function(){return this._mounted}},{key:"render",value:function(){var t=this.props.onErrorOK;return this.state.status===o.ERROR?u.a.createElement(r.a,{popupProps:{contentClass:"portfolio-backtest-failed-popup-width"},hideCancel:!0,title:__("portfolio.backtest.request.error.title"),message:__("portfolio.backtest.request.error.body",__("funded.client.contact_us.link")),textOK:__("ok"),onOK:t,onClose:t}):null}}]),e}(u.a.Component);b.defaultProps={onErrorOK:p.a.noop,onSuccess:p.a.noop},e.a=Object(l.connect)(null,(function(t){return{createBacktestWithOverview:function(e){return t(Object(s.c)(e))}}}))(b)},2173:function(t,e,n){"use strict";var o=n(3),r=n(230),s=(n(967),n(0)),a=n.n(s),u=n(15),i=n.n(u),c=n(4),l=n(1),f=n.n(l),p=n(123),h=n(51),b=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();var v=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={amount:null,status:o.EMPTY},i()(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),b(e,[{key:"componentDidMount",value:function(){this._mounted=!0,this.load()}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"mounted",value:function(){return this._mounted}},{key:"load",value:function(){var t=this.props.backtestOverviewPositions,e=Object(h.H)(t);this.setState({status:o.IN_PROCESS}),this.props.loadMinInvestmentAmount(e).then(f.a.callIf(this.onSuccess,this.mounted)).catch(f.a.callIf(this.onError,this.mounted))}},{key:"onSuccess",value:function(t){var e=this.props.onSuccess;this.setState({amount:t,status:o.SUCCESS}),e&&e(t)}},{key:"onError",value:function(){this.setState({status:o.ERROR})}},{key:"render",value:function(){var t=this.props,e=t.onErrorOK,n=t.onErrorCancel,s=t.onErrorClose;return this.state.status===o.ERROR?a.a.createElement(r.a,{title:__("errors.title"),message:__("server.request.generic.error.body",__("funded.client.contact_us.link")),textOK:__("actions.try_again"),onOK:e===f.a.noop?this.load:e,onCancel:n,onClose:s}):null}}]),e}(a.a.PureComponent);v.defaultProps={onErrorOK:f.a.noop,onErrorClose:f.a.noop,onErrorCancel:f.a.noop,onSuccess:f.a.noop,backtestOverviewPositions:[]},e.a=Object(c.connect)(null,(function(t){return{loadMinInvestmentAmount:function(e){return t(Object(p.j)(e))}}}))(v)}}]);