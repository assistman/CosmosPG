webpackJsonp([25],{1982:function(e,t,n){"use strict";function a(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=t.positionCode;return{positionStatus:Object(W.getClosingPositionStatusById)(e,n)}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function m(e){return{symbolsSortName:Object(x.getSymbolsSortName)(e)}}function p(e){return{sortByName:function(t){e(Object(I.setSymbolsSort)(S.INSTRUMENT_SORT.NAME,t)),e(Object(I.setShouldInstrumentBeCentered)(!0))}}}Object.defineProperty(t,"__esModule",{value:!0});var f=n(1),d=n.n(f),b=n(2),y=n(927),v=n(218),_=n(222),h=n(167),E=n(2124),g=n(2078),N=n.n(g),O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},j=function(e){var t=e.as,n=a(e,["as"]);return d.a.createElement(t||"div",O({},n),d.a.createElement("div",null,d.a.createElement("div",{className:"icon icon-open-positions-empty"}),d.a.createElement("div",{className:"large-px"},__("tab.open_positions.empty.caption")),d.a.createElement("div",{className:"smaller-px"},__("tab.open_positions.empty.text")),d.a.createElement("br",null),d.a.createElement("a",{className:"btn btn-primary",href:"#trading"},__("tab.favorites.empty.button"))))},w=n(0),P=n.n(w),S=n(5),C=n(839),x=n(71),I=n(27),k=(n(2706),n(217)),L=n(448),T=n(444),M=n(449),R=n(73),B=n(437),D=n(447),U=n(314),q=n(315),z=n(870),A=n(445),G=n(446),H=n(11),J=n.n(H),W=n(107),F=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),K=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),F(t,[{key:"render",value:function(){var e=this.props,t=e.positionCode,n=e.symbol,a=e.editPosition,o=e.closePosition,r=e.selectInstrument,i=e.positionStatus,s=J()({"subrow-expanded grid-12 grid-noGutter position":!0,"advanced-position-list":!0,"request-processing":i===S.PROCESSING});return d.a.createElement("div",{className:s,onClick:function(e){return r(e,n)}},d.a.createElement("div",{className:"col-8 grid-middle position__info"},d.a.createElement("div",{className:"col-6"},d.a.createElement(k.a,{symbol:n,className:"name ",as:"b"})),d.a.createElement("div",{className:"col-6 position__type"},d.a.createElement("i",{className:"icon icon-verify-account-grey"}),d.a.createElement("span",{className:"subrow-expanded__title"},__("p_l"),": "),d.a.createElement(L.a,{as:"span",positionCode:t},d.a.createElement(T.a,{positionCode:t})))),d.a.createElement("div",{className:"col-4 grid-middle grid-right"},d.a.createElement(M.a,{as:"div",className:"btn flex flex-valign-center",symbol:n,onClick:function(e){return a(e,t)}},d.a.createElement(R.default,{name:"edit",size:14})),d.a.createElement(B.a,{className:"btn flex flex-valign-center",as:"div",symbol:n,onClick:function(e){return o(e,t)}},d.a.createElement(R.default,{name:"close",size:14}))),d.a.createElement("div",{className:"col-12 info"},d.a.createElement("div",null,d.a.createElement(D.a,{positionCode:t,as:"b"}),": "," ",d.a.createElement(U.a,{positionCode:t,abs:!0})," @ ",d.a.createElement(q.a,{positionCode:t})),d.a.createElement("div",null,d.a.createElement(z.a,{className:"position-required-margin",before:d.a.createElement("b",null,__("position.form.used_margin")+" "),positionCode:t})),d.a.createElement("div",null,d.a.createElement(A.a,{positionCode:t,before:d.a.createElement("b",null,__("notification.protection.takeProfit")+" "),after:" "}),d.a.createElement(G.a,{positionCode:t,before:d.a.createElement("b",null,__("notification.protection.stopLoss")+" ")}))))}}]),t}(f.Component);K.defaultProps={selectInstrument:P.a.noop,editPosition:P.a.noop,closePosition:P.a.noop};var Q=Object(b.connect)(s)(K),V=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),X=function(e){function t(){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),V(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.symbols,a=t.hasData,o=t.symbolsSortName,r=t.sortByName;return a?d.a.createElement("div",{className:"instruments-table simple-instrument-list pane pane__sm-xfluid"},d.a.createElement("div",{className:"pane pane__fluid"},d.a.createElement("div",{className:"instruments-table simple-instrument-list pane pane__sm-xfluid"},d.a.createElement("table",null,d.a.createElement("tbody",{className:"rows"},d.a.createElement("tr",{className:"row-header grid-12"},d.a.createElement("th",{className:"col-8 grid-middle position__info"},d.a.createElement(C.a,{as:"div",active:o===S.INSTRUMENT_SORT.NAME,onSort:r,className:"col-6 cursor--pointer"},__("table.header.symbol")),d.a.createElement("div",{className:"col-6 grid-middle"},__("p_l")))),P.a.map(n,function(t){return d.a.createElement(_.a,{symbol:t,as:"tr",className:"row-expand",key:t,onClick:function(n){return e.openInstrumentDetails(n,t)}},d.a.createElement(y.a,{as:"td",colSpan:5,symbol:t,editPosition:e.editPosition,closePosition:e.closePosition,selectInstrument:e.selectInstrument,RenderComponent:Q}))}))))),d.a.createElement("div",{className:"pane"},d.a.createElement(N.a,{className:"btn-primary pane__fluid"}))):d.a.createElement(j,{as:"div",className:"pane pane__fluid flex flex-valign-center flex-align-center"})}}]),t}(v.a);t.default=Object(E.a)(Object(h.a)(Object(b.connect)(m,p)(X)))},2078:function(e,t,n){var a=n(1),o=n(12),r=n(3),i=n(15),s=n(0),l=n(75),c="change:sellTradable change:buyTradable change:outOfMarketHours change:isMarginLevelLow",u=function(){return s.filter(s.keys(l._instrumentIds),function(e){var t=i.getInstrumentById(e);return t&&t.isClosable()}).length};e.exports=o({displayName:"exports",getDefaultProps:function(){return{className:"",prevent:!1}},getInitialState:function(){return{disabled:!u()}},click:function(e){!1!==this.props.prevent&&(e.preventDefault(),e.stopPropagation()),r.trigger("positions:close_all")},componentDidMount:function(){this.createListener(),l.on("add-instrument",this.updateListener,this),l.on("remove-instrument",this.updateListener,this)},componentWillUnmount:function(){this.removeListener(),l.off("add-instrument",this.updateListener,this),l.off("remove-instrument",this.updateListener,this)},shouldComponentUpdate:function(e,t){return t.disabled!==this.state.disabled},updateListener:function(){this.removeListener(),this.createListener(),this.update()},createListener:function(){var e=this;s.map(s.keys(l._instrumentIds),function(t){var n=i.getInstrumentById(t);n&&n.on(c,e.update,e)})},removeListener:function(){var e=this;s.map(s.keys(l._instrumentIds),function(t){var n=i.getInstrumentById(t);n&&n.off(c,e.update,e)})},update:function(){this.setState({disabled:!u()})},render:function(){return a.createElement("button",{className:"btn "+this.props.className,disabled:this.state.disabled,onClick:this.click},__("actions.close_all_positions"))}})},2124:function(e,t,n){"use strict";function a(e){return{symbols:Object(o.getSortedPositionsSymbols)(e),symbolsSortName:Object(s.getSymbolsSortName)(e),hasData:Object(o.getTotalPositionsCount)(e)>0}}var o=n(107),r=n(1),i=(n.n(r),n(2)),s=n(71),l=function(e){return Object(i.connect)(a)(e)};t.a=l},2706:function(e,t,n){var a=n(2707);"string"==typeof a&&(a=[[e.i,a,""]]);var o={};o.transform=void 0;n(1959)(a,o);a.locals&&(e.exports=a.locals)},2707:function(e,t,n){t=e.exports=n(1958)(void 0),t.push([e.i,".instruments-table>table .rows .row-header{padding:11px 1em}",""])}});