(window.webpackJsonp=window.webpackJsonp||[]).push([[41,7,16,115],{2147:function(e,t,n){"use strict";n.r(t);var a=n(13),r=n.n(a),i=n(73),o=n.n(i),s=n(54),l=n(0),c=n.n(l),u=n(12),d=n.n(u),p=n(10),m=n.n(p),f=n(69),v=n(4),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},b=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var _=Object(s.default)((function(){return Promise.all([n.e(24),n.e(14),n.e(15),n.e(16),n.e(131)]).then(n.bind(null,2586))})),y=Object(s.default)((function(){return Promise.all([n.e(15),n.e(38),n.e(134)]).then(n.bind(null,2587))})),E=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r()(n),n.state={ready:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),b(t,[{key:"componentWillMount",value:function(){o.a.getAtmosphereId()?this.onStreamReady():o.a.once("ready",this.onStreamReady)}},{key:"onStreamReady",value:function(){this.setState({ready:!0})}},{key:"render",value:function(){if(!this.state.ready)return null;var e=this.props,t=e.isTradingViewChart,n=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["isTradingViewChart"]);return t?c.a.createElement(y,h({className:"multi-charts-component pane pane__xfluid pane__yfluid"},n)):c.a.createElement(_,h({className:"multi-charts-component pane pane__xfluid pane__yfluid"},n))}}]),t}(l.Component);t.default=Object(v.connect)((function(){return{isTradingViewChart:m.a.getUserCommonData().isAdvancedTradingView()&&d.a.isChartModeSwitcherEnabled()&&m.a.getUserCommonData().getChartMode()===f.CHART_MODE_ADVANCED&&d.a.isMultiChartsTradingViewEnabled()}}))(E)},2178:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(247),i=n.n(r),o=n(626),s=n(7),l=n.n(s),c=n(56),u=n.n(c),d=n(191),p=n(2250),m=n.n(p),f=n(0),v=n.n(f),h=n(13),b=n.n(h),_=n(4),y=n(120),E=n.n(y),g=n(12),S=n.n(g),O=n(48),w=n(61),N=n(1),I=n.n(N),C=n(8),j=n.n(C);var P=function(e){return v.a.createElement("div",{className:"list"},e.children)},x=function(e){var t=e.icon,n=e.badge,a=e.indicator,r=e.tooltip,i=e.selected,o=e.children,s=e.splitter,l=e.onClick,c=e.name,u=o.length>10?o.substring(0,10)+"...":o,d=o.length>10?o:r||"";if(s)return v.a.createElement(k,null);var p,m,f,h=j()((p={item:!0,"item--active":i},m="autotests-instrument-navigation-"+String(c).toLowerCase(),f=!0,m in p?Object.defineProperty(p,m,{value:f,enumerable:!0,configurable:!0,writable:!0}):p[m]=f,p));return v.a.createElement("li",{className:h,onClick:l,"aria-label":d},v.a.createElement("div",{className:"icon-"+t+" fs-18"}),n&&v.a.createElement("div",{className:"counter-circle"},n),a&&v.a.createElement("div",{className:"new-indicator"}),v.a.createElement("div",{className:"text"},u))},k=function(){return v.a.createElement("li",{className:"item__splitter"})},T=n(101),R=n(81),D=n(162);var A=Object(_.connect)((function(e){return{symbolsSortName:Object(w.getSymbolsSortName)(e)}}),(function(e){return{sortByName:function(t){e(Object(O.setSymbolsSort)(a.INSTRUMENT_SORT.NAME,t)),e(Object(O.setShouldInstrumentBeCentered)(!0))}}}))((function(e){var t=e.symbolsSortName,n=e.sortByName;return v.a.createElement("div",{className:"new-advanced__list-header"},v.a.createElement("div",{className:"w-10"}),v.a.createElement(D.a,{as:"div",active:t===a.INSTRUMENT_SORT.NAME,onSort:n,className:"new-advanced__list-instrument-column cursor--pointer"},__("table.header.symbol")),v.a.createElement("div",{className:"new-advanced__list-price-column price-column flex flex-align-end"},__("actions.sell")),v.a.createElement("div",{className:"new-advanced__list-spread-column"}),v.a.createElement("div",{className:"new-advanced__list-price-column price-column"},__("actions.buy")),v.a.createElement("div",{className:"new-advanced__list-change-column small-b-px"},__("actions.change")),v.a.createElement("div",{className:"new-advanced__list-actions-column"}),v.a.createElement("div",{className:"new-advanced__list-24H-trend-column small-b-px"},__("table.header.mini-chart")),v.a.createElement("div",{className:"w-10"}))})),M=n(57),L=n(22);var z=Object(_.connect)((function(e,t){var n=t.symbol;return{isOTH:Object(L.isInstrumentOTH)(e,n)}}))((function(e){var t=e.isOTH,n=e.children;return t?n:null})),U=n(338),B=n(287),F=n(345),H=n(344),V=n(342),Y=n(343),W=n(246),G=n(651),X=n(650),K=n(244),q=n(339),Z=n(346),$=n(347),J=n(1084),Q=n(1083),ee=n(158),te=n(560),ne=n(911),ae=n(236),re=n(1090),ie=n(235),oe=n(371),se=n(372),le=n(370),ce=function(e){var t=e.symbol,n=e.handleClickOnInstrument,a=e.orderChainId,r=e.handleEditOrder,i=e.handleCancelOrder;return v.a.createElement("div",{onClick:function(e){return n(t,e)},className:"flex new-advanced__row-body new-advanced--fill"},v.a.createElement("div",{className:"w-6"}),v.a.createElement("div",{className:"new-advanced__list-instrument-column"},v.a.createElement(K.a,{symbol:t,className:"name "})),v.a.createElement("div",{className:"flex flex-stretch small-b-px new-advanced__order-details"},v.a.createElement("div",{className:"new-advanced__list-price-column flex-valign-center price-column"},v.a.createElement(ae.a,{orderId:a})),v.a.createElement("div",{className:"new-advanced__list-price-column price-column"},v.a.createElement(ie.a,{orderId:a})),v.a.createElement("div",{className:"w-5"}),v.a.createElement("div",{className:"flex pane--middle flex-column order-details-column"},v.a.createElement("div",null,v.a.createElement(re.a,{orderId:a,as:"span"})),v.a.createElement("div",null,v.a.createElement(oe.a,{orderId:a,before:v.a.createElement("b",null,__("notification.protection.stopLoss")+" ")}),v.a.createElement(se.a,{className:"nowrap",orderId:a,before:v.a.createElement("b",null," ",__("notification.protection.takeProfit")+" ")})))),v.a.createElement("div",{className:"new-advanced__deals-actions"},v.a.createElement(le.a,{as:"div",className:"btn flex flex-valign-center",symbol:t,onClick:function(e){return r(a,e)}},v.a.createElement(R.default,{name:"edit",size:14})),v.a.createElement("div",{className:"btn flex flex-valign-center",onClick:function(e){return i(a,e)}},v.a.createElement(R.default,{name:"close",size:14}))),v.a.createElement("div",{className:"w-10"}))};ce.defaultProps={handleClickOnInstrument:I.a.noop,handleEditOrder:I.a.noop,handleCancelOrder:I.a.noop};var ue=ce,de=n(321),pe=n(322),me=n(323),fe=function(e){var t=e.symbol,n=e.handleClickOnInstrument,a=e.orderChainId,r=e.handleEditOrder,i=e.handleCancelOrder;return v.a.createElement("div",{onClick:function(e){return n(t,e)},className:"flex new-advanced__row-body new-advanced--fill"},v.a.createElement("div",{className:"primary-bg w-1"}),v.a.createElement("div",{className:"w-9"}),v.a.createElement("div",{className:"flex flex-stretch small-b-px new-advanced__order-details"},v.a.createElement("div",{className:"new-advanced__deal-value flex flex-column"},v.a.createElement("div",null,v.a.createElement("b",null,__("order"),": ")),v.a.createElement("div",null,v.a.createElement(de.a,{orderId:a})," ",v.a.createElement(pe.a,{orderId:a})," ")),v.a.createElement("div",{className:"flex pane--middle flex-column"},v.a.createElement("div",null,v.a.createElement("span",null,v.a.createElement("b",null,__("order.form.amount.cfd")),":"," ",v.a.createElement(ae.a,{orderId:a})," ",v.a.createElement(me.a,{orderId:a,as:"span"}))," ",v.a.createElement(ie.a,{orderId:a})," "),v.a.createElement("div",null,v.a.createElement(oe.a,{orderId:a,before:v.a.createElement("b",null,__("notification.protection.stopLoss")+" ")}),v.a.createElement(se.a,{orderId:a,before:v.a.createElement("b",null," ",__("notification.protection.takeProfit")+" ")})))),v.a.createElement("div",{className:"new-advanced__deals-actions"},v.a.createElement(le.a,{as:"div",className:"btn flex flex-valign-center",symbol:t,onClick:function(e){return r(a,e)}},v.a.createElement(R.default,{name:"edit",size:14})),v.a.createElement("div",{className:"btn flex flex-valign-center",onClick:function(e){return i(a,e)}},v.a.createElement(R.default,{name:"close",size:14}))),v.a.createElement("div",{className:"w-10"}))};fe.defaultProps={handleClickOnInstrument:I.a.noop,handleEditOrder:I.a.noop,handleCancelOrder:I.a.noop};var ve=fe,he=n(593),be=n(594),_e=n(596),ye=n(313),Ee=n(361),ge=n(598),Se=n(597),Oe=n(910),we=n(925),Ne=n(924),Ie=n(83),Ce=n.n(Ie),je=n(92),Pe=n(1085);var xe=function(e){var t=e.plOpen,n=(e.dispatch,e.positionCode),a=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["plOpen","dispatch","positionCode"]);return v.a.createElement(a.as,a,v.a.createElement(Pe.a,{positionCode:n},(function(e){return Ce()(t/e*100).format("0,0.[00]")+"%"})))};xe.defaultProps={as:"span"};var ke=Object(_.connect)((function(e,t){var n=t.positionCode;return{plOpen:Object(je.getPositionPLById)(e,n)}}))(xe),Te=n(595),Re=n(587),De=function(e){var t=e.handleClickOnInstrument,n=e.symbol,a=e.positionCode,r=e.handleEditPosition,i=e.handleClosePosition,o=e.inPercent;return v.a.createElement("div",{onClick:function(e){return t(n,e)},className:"flex new-advanced__row-body new-advanced--fill"},v.a.createElement("div",{className:"w-6"}),v.a.createElement("div",{className:"new-advanced__list-instrument-column"},v.a.createElement(K.a,{symbol:n,className:"name "})),v.a.createElement("div",{className:"flex small-b-px flex-stretch position__info"},v.a.createElement("div",{className:"w-5"}),v.a.createElement("div",{className:"new-advanced__deal-value flex flex-valign-center"},v.a.createElement("span",null,v.a.createElement("b",null,__("p_l"),": ")),v.a.createElement(he.a,{as:"span",className:"change",positionCode:a},o?v.a.createElement(ke,{positionCode:a}):v.a.createElement(be.a,{positionCode:a}))),v.a.createElement("div",{className:"flex flex-valign-center flex-stretch new-advanced__position-details"},v.a.createElement("div",null,v.a.createElement("div",null,v.a.createElement(_e.a,{positionCode:a,as:"b"}),": "," ",v.a.createElement(ye.a,{positionCode:a,abs:!0})," @ ",v.a.createElement(Ee.a,{positionCode:a})),v.a.createElement("div",null,v.a.createElement(Oe.a,{before:v.a.createElement("b",null,__("position.form.used_margin")+" "),positionCode:a})),v.a.createElement("div",{className:"position__protection"},v.a.createElement(ge.a,{positionCode:a,before:v.a.createElement("b",null,__("notification.protection.stopLoss")+" ")}),v.a.createElement(Se.a,{className:"nowrap",positionCode:a,before:v.a.createElement("b",null," ",__("notification.protection.takeProfit")+" ")})),v.a.createElement("div",null,v.a.createElement(we.a,{as:"span",positionCode:a,before:v.a.createElement("b",null," "+__("tab.open_positions.column.price.change")+" ")})),v.a.createElement("div",null,v.a.createElement(Ne.a,{as:"span",positionCode:a,before:v.a.createElement("b",null," "+__("tab.open_positions.column.expiration")+" ")}))))),v.a.createElement("div",{className:"new-advanced__deals-actions"},v.a.createElement(Te.a,{as:"div",className:"btn flex flex-valign-center",symbol:n,onClick:function(e){return r(a,e)}},v.a.createElement(R.default,{name:"edit",size:14})),v.a.createElement(Re.a,{className:"btn flex flex-valign-center",as:"div",symbol:n,onClick:function(e){return i(a,e)}},v.a.createElement(R.default,{name:"close",size:14}))),v.a.createElement("div",{className:"w-10"}))};De.defaultProps={handleClickOnInstrument:I.a.noop,handleEditPosition:I.a.noop,handleClosePosition:I.a.noop};var Ae=De,Me=function(e){var t=e.handleClickOnInstrument,n=e.symbol,a=e.positionCode,r=e.handleEditPosition,i=e.handleClosePosition;return v.a.createElement("div",{onClick:function(e){return t(n,e)},className:"flex new-advanced__row-body new-advanced--fill"},v.a.createElement("div",{className:"primary-bg w-1"}),v.a.createElement("div",{className:"w-9"}),v.a.createElement("div",{className:"flex small-b-px flex-stretch position__info"},v.a.createElement("div",{className:"new-advanced__deal-value flex flex-valign-center "},v.a.createElement("span",null,v.a.createElement("b",null,__("p_l"),": ")),v.a.createElement(he.a,{as:"span",className:"change",positionCode:a},v.a.createElement(be.a,{positionCode:a}))),v.a.createElement("div",{className:"flex flex-valign-center flex-stretch new-advanced__position-details"},v.a.createElement("div",null,v.a.createElement("div",null,v.a.createElement(_e.a,{positionCode:a,as:"b"}),": "," ",v.a.createElement(ye.a,{positionCode:a,abs:!0})," @ ",v.a.createElement(Ee.a,{positionCode:a})),v.a.createElement("div",null,v.a.createElement(Oe.a,{before:v.a.createElement("b",null,__("position.form.used_margin")+" "),positionCode:a})),v.a.createElement("div",null,v.a.createElement(ge.a,{positionCode:a,before:v.a.createElement("b",null,__("notification.protection.stopLoss")+" ")}),v.a.createElement(Se.a,{positionCode:a,before:v.a.createElement("b",null," ",__("notification.protection.takeProfit")+" ")})),v.a.createElement("div",null,v.a.createElement(we.a,{as:"span",positionCode:a,before:v.a.createElement("b",null," "+__("tab.open_positions.column.price.change")+" ")})),v.a.createElement("div",null,v.a.createElement(Ne.a,{as:"span",positionCode:a,before:v.a.createElement("b",null," "+__("tab.open_positions.column.expiration")+" ")}))))),v.a.createElement("div",{className:"new-advanced__deals-actions"},v.a.createElement(Te.a,{as:"div",className:"btn flex flex-valign-center",symbol:n,onClick:function(e){return r(a,e)}},v.a.createElement(R.default,{name:"edit",size:14})),v.a.createElement(Re.a,{className:"btn flex flex-valign-center",as:"div",symbol:n,onClick:function(e){return i(a,e)}},v.a.createElement(R.default,{name:"close",size:14}))),v.a.createElement("div",{className:"w-10"}))};Me.defaultProps={handleClickOnInstrument:I.a.noop,handleEditPosition:I.a.noop,handleClosePosition:I.a.noop};var Le=Me,ze=n(123),Ue=n(641),Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Fe=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ve=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={expanded:!1},b()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Fe(t,[{key:"toggleExpanded",value:function(){var e=this.props;(0,e.handleClickOnExpand)(e.symbol,!e.isExpanded)}},{key:"componentWillReceiveProps",value:function(e){this.needToRecomputeHeight=this._isPropsWillChange(["symbol","positions","orders","isExpanded","index","totalPositionsCount","hideInstrumentRow","totalOrdersCount"],e)}},{key:"_isPropsWillChange",value:function(e,t){var n=this;return!I.a.isEmpty(e)&&!I.a.isEmpty(t)&&I.a.some(e,(function(e){return n.props[e]!==t[e]}))}},{key:"onResize",value:function(e,t){var n=this.props,a=n.measurer,r=n.index;(this.needToRecomputeHeight||a&&a.getChachedHeight(r)!==t)&&a.recomputeRowHeights(r,t)}},{key:"render",value:function(){var e,t=this.props,n=(t.dispatch,t.symbol),a=(t.positions,t.orders,t.handleClickOnSell),r=t.handleClickOnBuy,i=(t.handleClickOnFavorite,t.handleClickOnInstrument),s=t.handleEditPosition,l=t.handleClosePosition,c=t.handleEditOrder,u=t.handleCancelOrder,d=(t.handleClickOnAlert,t.shouldShowPositions),p=t.shouldShowOrders,m=t.shouldShowMultipleCloseIcon,f=t.handleClickOnCloseRow,h=t.totalPositionsCount,b=t.totalOrdersCount,_=t.dragComponent,y=t.hideInstrumentRow,E=(t.measurer,t.key,t.index,t.isExpanded),g=(t.handleClickOnExpand,t.openPositionPLInPercent),S=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(t,["dispatch","symbol","positions","orders","handleClickOnSell","handleClickOnBuy","handleClickOnFavorite","handleClickOnInstrument","handleEditPosition","handleClosePosition","handleEditOrder","handleCancelOrder","handleClickOnAlert","shouldShowPositions","shouldShowOrders","shouldShowMultipleCloseIcon","handleClickOnCloseRow","totalPositionsCount","totalOrdersCount","dragComponent","hideInstrumentRow","measurer","key","index","isExpanded","handleClickOnExpand","openPositionPLInPercent"]),O=j()((He(e={"new-advanced__row":!0},"autotests-instrument-list-row-"+Object(M.normalizeInstrumentSymbol)(n),!0),He(e,"is-drag",!!_),e));return v.a.createElement("div",Be({className:O,onClick:function(e){return i(n,e)}},S),v.a.createElement(Ue.a,{handleHeight:!0,onResize:this.onResize}),!y&&v.a.createElement($.a,{as:"div",symbol:n,className:"new-advanced__row-body new-advanced--fill"},!_&&v.a.createElement("div",{className:"w-10"}),_&&_,v.a.createElement("div",{className:"new-advanced__list-instrument-column"},(h>0||b>0)&&!_&&v.a.createElement(o.a,{vertical:!0,asSpoiler:!0,open:E,onClick:this.toggleExpanded,className:"new-advanced__spoiler"}),v.a.createElement(K.a,{symbol:n,className:"name "}),v.a.createElement(z,{symbol:n},v.a.createElement("sup",null,"+"))),v.a.createElement("div",{className:"new-advanced__list-price-column"},v.a.createElement(V.a,{as:"div",symbol:n,className:"price-button price-button_ani_xfluid"},v.a.createElement(Y.a,{onClick:function(e){return a(n,e)},as:"div",symbol:n,className:"price-button__wrapper btn"},v.a.createElement(H.a,{as:"span",symbol:n,className:"price-button__title price-button__title_self-end"})))),v.a.createElement("div",{className:"new-advanced__list-spread-column"},v.a.createElement("div",{className:"spread flex flex-column flex-align-center"},v.a.createElement("div",null,v.a.createElement(B.a,{symbol:n,as:"i",className:"icon icon-arrow",disableEqualState:!0})),v.a.createElement(Q.a,{symbol:n,as:"div"},v.a.createElement(J.a,{symbol:n})))),v.a.createElement("div",{className:"new-advanced__list-price-column"},v.a.createElement(B.a,{as:"div",symbol:n,className:"price-button price-button_ani_xfluid"},v.a.createElement(F.a,{onClick:function(e){return r(n,e)},as:"div",symbol:n,className:"price-button__wrapper btn"},v.a.createElement(U.a,{as:"span",symbol:n,className:"price-button__title price-button__title_self-start"})))),v.a.createElement("div",{className:"new-advanced__list-change-column smaller-px"},v.a.createElement(Z.a,{as:"div",symbol:n,className:"change flex flex-start"},v.a.createElement(q.a,{symbol:n}))),v.a.createElement("div",{className:"new-advanced__list-actions-column"},m&&v.a.createElement("div",{className:"btn",onClick:function(e){return f(n,e)}},v.a.createElement(R.default,{name:"close",size:14}))),v.a.createElement("div",{className:"new-advanced__list-24H-trend-column smaller-px"},v.a.createElement("div",{className:"instrument-mini-chart"},v.a.createElement(ne.a,{symbol:n,className:"instrument-mini-chart-cell"}))),v.a.createElement("div",{className:"w-10"})),(y||E)&&(p||d)&&v.a.createElement(W.a,{symbol:n,as:"div",className:"new-advanced__deals",key:"instrument-deals-"+h+"-"+b},d&&v.a.createElement(X.a,{symbol:n,renderItem:function(e){return y?v.a.createElement(Ae,{key:"position-"+e,handleClickOnInstrument:i,symbol:n,positionCode:e,handleEditPosition:s,handleClosePosition:l,inPercent:g}):v.a.createElement(Le,{key:"position-"+e,handleClickOnInstrument:i,symbol:n,positionCode:e,handleEditPosition:s,handleClosePosition:l})}}),p&&v.a.createElement(G.a,{symbol:n,renderItem:function(e){return y?v.a.createElement(ue,{key:"order-"+e,symbol:n,orderChainId:e,handleClickOnInstrument:i,handleEditOrder:c,handleCancelOrder:u}):v.a.createElement(ve,{key:"order-"+e,symbol:n,orderChainId:e,handleClickOnInstrument:i,handleEditOrder:c,handleCancelOrder:u})}})))}}]),t}(v.a.Component);Ve.defaultProps={symbol:null,handleClickOnSell:I.a.noop,handleClickOnBuy:I.a.noop,handleClickOnFavorite:I.a.noop,handleClickOnInstrument:I.a.noop,handleEditPosition:I.a.noop,handleClosePosition:I.a.noop,handleEditOrder:I.a.noop,handleCancelOrder:I.a.noop,handleClickOnCloseRow:I.a.noop,shouldShowPositions:!0,shouldShowOrders:!0,shouldShowMultipleCloseIcon:!1,dragComponent:null,hideInstrumentRow:!1};var Ye=Object(_.connect)((function(e,t){var n=t.symbol,r=Object(w.getOpenPositionPLType)(e);return{positions:e.positions.OPEN_POSITION,orders:e.orders.ORDER,totalPositionsCount:Object(je.getTotalPositionsIdsBySymbol)(e,n),totalOrdersCount:Object(ze.getTotalOrdersBySymbol)(e,n),isExpanded:Object(w.getInstrumentCurrentSectionExpandedState)(e,n),openPositionPLInPercent:r===a.OPEN_POSITION_PL_TYPE.PERCENTAGE}}),(function(e){return{handleClickOnSell:function(e,t){Object(M.isSellTradable)(e)&&l.a.trigger("ui:new-position",{direction:a.SELL,symbolOrId:e})},handleClickOnBuy:function(e,t){Object(M.isBuyTradable)(e)&&l.a.trigger("ui:new-position",{direction:a.BUY,symbolOrId:e})},handleClickOnFavorite:function(e,t){t.preventDefault(),t.stopPropagation(),l.a.trigger("favorites:toggle",e)},handleClickOnInstrument:function(t,n){n.preventDefault(),n.stopPropagation(),I.a.isString(t)&&!I.a.isEmpty(t)&&(e(Object(O.setShouldInstrumentBeCentered)(!1)),I.a.delay((function(){return e(Object(O.selectInstrumentSymbolAndUpdateUrl)(t,!0))}),10))},handleEditPosition:function(t,n){n.preventDefault(),n.stopPropagation(),e(Object(ee.editPosition)(t))},handleClosePosition:function(t,n){e(Object(ee.closePosition)(t))},handleEditOrder:function(t,n){n.preventDefault(),n.stopPropagation(),e(Object(te.c)(t))},handleCancelOrder:function(t,n){e(Object(te.b)(t))},handleClickOnAlert:function(e,t){t.preventDefault(),t.stopPropagation(),l.a.trigger("ui:create-price-alert",e)},handleClickOnExpand:function(t,n){e(Object(O.setInstrumentExpanded)(t,n))}}}))(Ve),We=n(2387),Ge=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Xe=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return b()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ge(t,[{key:"_rowRenderer",value:function(e){var t=e.index,n=e.key,a=e.style,r=e.measurer,i=this.props,o=i.symbols,s=i.shouldShowPositions,l=i.shouldShowOrders,c=i.hideInstrumentRow;return v.a.createElement("div",{style:a},v.a.createElement(Ye,{key:"instrument-list-row-"+n,index:t,symbol:o[t],shouldShowPositions:s,shouldShowOrders:l,hideInstrumentRow:c,measurer:r}))}},{key:"render",value:function(){var e=this.props,t=e.path,n=e.symbols,a=e.hideInstrumentRow;return v.a.createElement("div",{className:"new-advanced--fill pane pane__fluid"},v.a.createElement(We.a,{scrollAlignmentTop:a,path:t,symbols:n,renderer:this._rowRenderer}))}}]),t}(v.a.Component),Ke=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};var Ze=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ke(t,[{key:"render",value:function(){var e=this.props,t=e.selectedCategoryPath,n=e.category,a=e.symbols,r=e.tabs,i=e.groups,o=e.sectors,s=e.hasTabs,l=e.hasGroups,c=e.hasSectors,d=e.handleChangingCategoryUrl,p=e.tabUrl,m=e.groupUrl,f=e.sectorUrl;return v.a.createElement("div",{className:"flex flex-column flex-stretch new-advanced--fill"},n&&v.a.createElement("div",null,this.props.instrumentsContainOTH&&v.a.createElement("div",{className:"trading_24H-icon","aria-label":__("icon.create_order_outside_of_trading_hours_plus.tooltip")},v.a.createElement(R.default,{name:"trading_24H",size:18,"aria-label":__("icon.outside_of_trading_hours.tooltip")})),v.a.createElement("div",{className:"new-advanced__section-name new-advanced--fill new-advanced_mb--1"},u.a.fixCategoryName(n._localizedNameKey,n.category))),v.a.createElement("div",{className:"new-advanced--fill flex flex-column flex-stretch"},s&&v.a.createElement("div",{className:"new-advanced--fill new-advanced__category-tabs pane pane__xfluid"},v.a.createElement("div",{className:"pane pane__fluid pane__scroll"},v.a.createElement("div",{className:"pane__scroll-content"},v.a.createElement(E.a,null,v.a.createElement("div",{className:"react-tabs"},v.a.createElement("ul",{className:"react-tabs__tab-list"},v.a.createElement("div",{className:"react-tabs__tab-list__container"},I.a.map(r,(function(e,t){return v.a.createElement("li",{key:t,className:j()({"react-tabs__tab":!0,"react-tabs__tab--selected":e._pathUrl===p}),onClick:function(){return d(e._pathUrl)}},u.a.fixCategoryName(e._localizedNameKey,e.category))}))))))))),(l||c)&&v.a.createElement("div",{className:"new-advanced--fill new-advanced__section-controls pane pane__row"},l&&v.a.createElement(T.a,{className:"pane pane__fluid new-advanced_width--half",options:i,transformOptionText:function(e){return e&&u.a.fixCategoryName(e._localizedNameKey,e.category)},transformOptionsValue:function(e){return e._pathUrl},onChange:d,selected:m,placeholder:__("All"),childClassName:"pane__xfluid"}),c&&v.a.createElement(T.a,{className:"pane pane__fluid new-advanced_width--half",options:o,transformOptionText:function(e){return e&&u.a.fixCategoryName(e._localizedNameKey,e.category)},transformOptionsValue:function(e){return e._pathUrl},onChange:d,selected:f,placeholder:__("All"),childClassName:"pane__xfluid"})),v.a.createElement("div",{className:"new-advanced__section-content pane pane__fluid flex-column pane--height"},v.a.createElement(A,null),v.a.createElement(Xe,{path:t,symbols:a}))))}}]),t}(v.a.Component),$e=Object(_.connect)((function(e){var t=e.ui.selectedInstrumentCategoryTreePath;return qe({},e.ui.selectedCategorySections,{selectedCategoryPath:t,category:Object(w.getRootCategoryInSelectedCategory)(e),symbols:Object(w.getSortedInstrumentSymbols)(e),instrumentsContainOTH:Object(w.isInstrumentsContainOTH)(e)})}),(function(e){return{handleChangingCategoryUrl:function(t){e(Object(O.selectInstrumentCategoryTreePath)(t)),e(Object(O.updateCategorySections)()),e(Object(O.updateUrlBySelectedCategoryPath)({trigger:!1})),e(Object(O.selectFirstSymbolInSymbolList)()),e(Object(O.setShouldInstrumentBeCentered)(!0))}}}))(Ze),Je=n(29),Qe=n(2602),et=n(212),tt=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var nt=Object(Qe.sortableHandle)((function(){return v.a.createElement("span",{className:"drag-handler"},v.a.createElement(R.default,{name:"drag_handler",size:10}))})),at=Object(Qe.sortableElement)((function(e){var t=e.symbol;return v.a.createElement(Ye,{symbol:t,dragComponent:v.a.createElement("div",{className:"flex flex-valign-center"},v.a.createElement(nt,null))})})),rt=Object(Qe.sortableContainer)((function(e){var t=e.children;return v.a.createElement("div",null,t)}));var it=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={isDragEnabled:!1},b()(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),tt(t,[{key:"componentDidMount",value:function(){var e=this.props.symbols,t=I.a.first(e);this.props.setSortingNone(),this.props.updateUrlWithSelectingInstrumentSymbol(e,t)}},{key:"componentWillUnmount",value:function(){this.props.resetSorting()}},{key:"onSortEnd",value:function(e){var t=e.oldIndex,n=e.newIndex,a=this.props.symbols,r=Object(Qe.arrayMove)(a,t,n);this.props.updateFavorites(r),this.props.setSortingNone()}},{key:"toggleDrag",value:function(){this.setState({isDragEnabled:!this.state.isDragEnabled})}},{key:"getDraggableList",value:function(){var e=this.props.symbols;return v.a.createElement(rt,{onSortEnd:this.onSortEnd,lockAxis:"y"},I.a.map(e,(function(e,t){return v.a.createElement(at,{key:"item-"+e,index:t,symbol:e})})))}},{key:"getDefaultList",value:function(){var e=this.props.symbols;return v.a.createElement(Xe,{symbols:e})}},{key:"render",value:function(){var e=this.state.isDragEnabled,t=this.props.hasData,n=j()({"icon-reorder-ico":!0,"reorder-enabled":e});return v.a.createElement("div",{className:"flex flex-column flex-stretch new-advanced--fill pane--height"},this.props.instrumentsContainOTH&&v.a.createElement("div",{className:"trading_24H-icon with-watchlist","aria-label":__("icon.create_order_outside_of_trading_hours_plus.tooltip")},v.a.createElement(R.default,{name:"trading_24H",size:18,"aria-label":__("icon.outside_of_trading_hours.tooltip")})),v.a.createElement("div",{className:"new-advanced__section-name pane pane__row new-advanced--fill new-advanced_mb--1 flex-valign-center"},v.a.createElement("div",{className:"pane pane__fluid"},__("tab.watchlist")),t&&v.a.createElement("div",{className:"pane flex flex-valign-center"},v.a.createElement("div",{onClick:this.toggleDrag},v.a.createElement("div",{className:n})))),v.a.createElement("div",{className:"new-advanced__section-content pane pane__fluid flex-column pane--height"},v.a.createElement(A,null),t&&v.a.createElement("div",{className:"new-advanced--fill pane pane__fluid pane__scroll"},!e&&this.getDefaultList(),e&&v.a.createElement(E.a,null,v.a.createElement("div",null,this.getDraggableList()))),!t&&v.a.createElement("div",{className:"new-advanced--fill pane empty-stage pane__column pane__fluid flex-valign-center"},v.a.createElement("div",{className:"empty-stage-pad"}),v.a.createElement("div",{className:"pane"},v.a.createElement("div",{className:"empty-stage-icon icon-favorite-ico fs-50"})),v.a.createElement("p",{className:"pane smaller-px empty-stage-text"},__("indigo.tab.favorites.empty.caption")))))}}]),t}(v.a.Component),ot=Object(_.connect)((function(e){return{selectedSymbol:Object(w.getUiSelectedInstrumentCategorySymbol)(e),hasData:Object(Je.getTotalFavoritesCount)(e)>0,symbols:Object(w.getSortedFavoritesSymbols)(e),instrumentsContainOTH:Object(w.isInstrumentsContainOTH)(e)}}),(function(e){return{updateFavorites:function(t){e(Object(et.updateFavorites)(t))},updateUrlWithSelectingInstrumentSymbol:function(t,n){e(Object(O.updateUrlWithSelectingInstrumentSymbol)(t,n))},setSortingNone:function(){e(Object(O.setSymbolsSort)(a.INSTRUMENT_SORT.INSTRUMENT,a.SORT_DIRECTION_NONE))},resetSorting:function(){e(Object(O.resetSymbolsSort)())}}}))(it),st=n(599),lt=n.n(st),ct=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var ut=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ct(t,[{key:"componentDidMount",value:function(){this.props.sortByName(a.SORT_DIRECTION_DESC)}},{key:"render",value:function(){var e=this.props,t=e.symbolsSortName,n=e.sortByName;return v.a.createElement("div",{className:"new-advanced__list-header"},v.a.createElement("div",{className:"w-10"}),v.a.createElement(D.a,{as:"div",active:t===a.INSTRUMENT_SORT.NAME,onSort:n,defaultSortDirection:a.SORT_DIRECTION_DESC,className:"new-advanced__list-instrument-column cursor--pointer"},__("table.header.symbol")),v.a.createElement("div",{className:"new-advanced__list-price-column flex"},__("table.header.amount")),v.a.createElement("div",{className:"new-advanced__list-price-column"},__("table.header.rate")),v.a.createElement("div",{className:"flex flex-stretch flex-valign-center"}),v.a.createElement("div",{className:"new-advanced__deals-actions"}),v.a.createElement("div",{className:"w-10"}))}}]),t}(v.a.Component),dt=Object(_.connect)((function(e){return{symbolsSortName:Object(w.getSymbolsSortName)(e)}}),(function(e){return{sortByName:function(t){e(Object(O.setSymbolsSort)(a.INSTRUMENT_SORT.NAME,t)),e(Object(O.setShouldInstrumentBeCentered)(!0))}}}))(ut),pt=n(33),mt=n.n(pt),ft=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var vt=function(e){var t=mt.a.getInstrumentBySymbol(e);return t&&t.status.isCancelable()};var ht=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ft(t,[{key:"componentDidMount",value:function(){var e=this.props.symbols,t=I.a.first(e);t&&this.props.updateUrlWithSelectingInstrumentSymbol(e,t)}},{key:"render",value:function(){var e=this.props,t=e.symbols,n=e.hasData,a=e.handleClickOnCloseRow;return v.a.createElement("div",{className:"flex flex-column flex-stretch"},v.a.createElement("div",{className:"new-advanced__section-name pane pane__row new-advanced--fill new-advanced_mb--1 flex-valign-center"},v.a.createElement("div",{className:"pane pane__fluid"},__("tab.orders")),n&&v.a.createElement("div",{className:"pane"},v.a.createElement(lt.a,null))),v.a.createElement("div",{className:"new-advanced__section-content pane pane__fluid flex-column pane--height"},v.a.createElement(dt,null),n&&v.a.createElement(Xe,{symbols:t,shouldShowPositions:!1,shouldShowMultipleCloseIcon:!0,handleClickOnCloseRow:a,hideInstrumentRow:!0}),!n&&v.a.createElement("div",{className:"new-advanced--fill pane empty-stage pane__column pane__fluid flex-valign-center"},v.a.createElement("div",{className:"empty-stage-pad"}),v.a.createElement("div",{className:"pane"},v.a.createElement("div",{className:"empty-stage-icon icon-orders-ico fs-50"})),v.a.createElement("p",{className:"pane smaller-px flex flex-align-center empty-stage-text"},__("tab.orders.empty.line1")))))}}]),t}(v.a.Component),bt=Object(_.connect)((function(e){return{symbols:Object(ze.getSortedOrdersSymbols)(e),hasData:Object(ze.getTotalOrdersCount)(e)>0}}),(function(e){return{handleClickOnCloseRow:function(t){vt(t)&&e(Object(te.a)(t))},updateUrlWithSelectingInstrumentSymbol:function(t,n){e(Object(O.updateUrlWithSelectingInstrumentSymbol)(t,n))}}}))(ht),_t=n(2239),yt=n.n(_t);var Et=function(e){var t=e.type,n=(e.dispatch,function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["type","dispatch"]));return v.a.createElement(n.as,{className:n.className,onClick:n.onClick},"(",v.a.createElement("span",{className:n.innerClassName},t),")")};Et.defaultProps={as:"span"};var gt=Object(_.connect)((function(e){return{type:Object(je.getOpenPositionPLTypeValue)(e)}}))(Et),St=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Ot=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),St(t,[{key:"componentDidMount",value:function(){this.props.sortByName(a.SORT_DIRECTION_DESC)}},{key:"render",value:function(){var e=this.props,t=e.symbolsSortName,n=e.sortByName,r=e.togglePositionPLType;return v.a.createElement("div",{className:"new-advanced__list-header"},v.a.createElement("div",{className:"w-10"}),v.a.createElement(D.a,{as:"div",active:t===a.INSTRUMENT_SORT.NAME,onSort:n,defaultSortDirection:a.SORT_DIRECTION_DESC,className:"new-advanced__list-instrument-column cursor--pointer"},__("table.header.symbol")),v.a.createElement("div",{className:"new-advanced__deal-value flex flex-valign-center"},v.a.createElement("span",{className:"new-advanced__word"},__("p_l")),v.a.createElement(gt,{className:"new-advanced__word cursor--pointer",innerClassName:"underline",onClick:r})),v.a.createElement("div",{className:"flex flex-stretch flex-valign-center"}),v.a.createElement("div",{className:"new-advanced__deals-actions"}),v.a.createElement("div",{className:"w-10"}))}}]),t}(v.a.Component),wt=Object(_.connect)((function(e){return{symbolsSortName:Object(w.getSymbolsSortName)(e)}}),(function(e){return{sortByName:function(t){e(Object(O.setSymbolsSort)(a.INSTRUMENT_SORT.NAME,t)),e(Object(O.setShouldInstrumentBeCentered)(!0))},togglePositionPLType:function(){e(Object(O.toggleOpenPositionPLType)())}}}))(Ot),Nt=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var It=function(e){var t=mt.a.getInstrumentBySymbol(e);return t&&t.status.isClosable()};var Ct=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Nt(t,[{key:"componentDidMount",value:function(){var e=this.props.symbols,t=I.a.first(e);t&&this.props.updateUrlWithSelectingInstrumentSymbol(e,t)}},{key:"render",value:function(){var e=this.props,t=e.symbols,n=e.hasData,a=e.handleClickOnCloseRow,r=e.handleFloatPositions;return v.a.createElement("div",{className:"flex flex-column flex-stretch"},v.a.createElement("div",{className:"new-advanced__section-name pane pane__row new-advanced--fill new-advanced_mb--1 flex-valign-center"},v.a.createElement("div",{className:"pane pane__fluid"},__("tab.open_positions")),n&&v.a.createElement("div",{className:"pane pane__row flex-valign-center"},v.a.createElement("div",{className:"pane close-positions-button"},v.a.createElement(yt.a,null)),v.a.createElement("div",{className:"pane",onClick:r},v.a.createElement(R.default,{name:"detach"})))),v.a.createElement("div",{className:"new-advanced__section-content pane pane__fluid flex-column pane--height"},v.a.createElement(wt,null),n&&v.a.createElement(Xe,{symbols:t,shouldShowOrders:!1,shouldShowMultipleCloseIcon:!0,handleClickOnCloseRow:a,hideInstrumentRow:!0}),!n&&v.a.createElement("div",{className:"new-advanced--fill pane empty-stage pane__column pane__fluid flex-valign-center"},v.a.createElement("div",{className:"empty-stage-pad"}),v.a.createElement("div",{className:"pane"},v.a.createElement("div",{className:"empty-stage-icon icon-positions-ico fs-50"})),v.a.createElement("p",{className:"pane smaller-px flex flex-align-center empty-stage-text"},__("tab.open_positions.empty.text")))))}}]),t}(v.a.Component),jt=Object(_.connect)((function(e){return{symbols:Object(je.getSortedPositionsSymbols)(e),hasData:Object(je.getTotalPositionsCount)(e)>0}}),(function(e){return{handleClickOnCloseRow:function(t){It(t)&&e(Object(ee.closeAllPositionsBySymbol)(t))},handleFloatPositions:function(){e(Object(ee.toggleFloatingPositions)())},updateUrlWithSelectingInstrumentSymbol:function(t,n){e(Object(O.updateUrlWithSelectingInstrumentSymbol)(t,n))}}}))(Ct),Pt=n(348),xt=n.n(Pt),kt=n(16),Tt=n.n(kt),Rt=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Dt=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return b()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Rt(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.onDocumentClick,!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.onDocumentClick)}},{key:"focus",value:function(){var e=Tt()(this.refs.search).find("input")[0];e&&e.focus()}},{key:"onDocumentClick",value:function(e){var t=this.refs.search;t&&!t.contains(e.target)&&this.props.onClose()}},{key:"onRowClick",value:function(e,t){var n=t.get("symbol");n&&this.props.onSelected(n),this.props.onClose()}},{key:"render",value:function(){var e=this.props.fixed,t=j()({"new-advanced__search":!0,"new-advanced__search-input":!0,"new-advanced--fill":!0,"new-advanced_mb--1":!0,"new-advanced__search--fixed":e});return v.a.createElement("div",{className:t,ref:"search"},v.a.createElement(i.a,{name:xt.a,options:{autoRender:!1,onRowClick:this.onRowClick}}))}}]),t}(v.a.Component);Dt.defaultProps={onClose:I.a.noop,onSelected:I.a.noop,fixed:!1};var At=Dt,Mt=n(1237),Lt=n(2388),zt=n(974),Ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};var Bt=Object(_.connect)((function(e){return{value:Object(zt.b)(e)}}))((function(e){var t=e.as,n=e.value,a=(e.dispatch,function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["as","value","dispatch"]));return v.a.createElement(t||"span",Ut({},a),n)})),Ft=n(286),Ht=n(65),Vt=n(223),Yt=n(144),Wt=(n(2389),n(159)),Gt=n(2247),Xt=n(237),Kt=n(875),qt=n(47),Zt=n(2603);function $t(){return{types:[Kt.a,Kt.b,qt.c],callApi:function(){return Object(Zt.a)()}}}var Jt=n(155),Qt=n(690),en=n(250),tn=n(205),nn=n(288),an=n(251),rn=n(703),on=n(702),sn=n(62),ln=n(407),cn=n(70),un=n(192),dn=n(79),pn=n(152),mn=n(900);var fn=Object(_.connect)((function(e,t){return{nextSessionEventId:Object(pn.j)(e)}}))((function(e){var t=e.nextSessionEventId;return v.a.createElement("span",{className:"pane pane__row"},v.a.createElement("span",{className:"pane pane__fluid webinars-next-session__title medium-px"},__("webinars.next-session"),":"),v.a.createElement(mn.a,{eventId:t,className:"pane webinars-next-session__countdown large-s-px"}))})),vn=function(e){e.eventId,e.watch;return v.a.createElement("span",{className:"pane pane__row flex-valign-center"},v.a.createElement("span",{className:"pane pane__fluid webinars-live__title"},__("webinars.live-session")))},hn=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var bn=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return b()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),hn(t,[{key:"handleMouseDown",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.onSelect(this.props.option,e)}},{key:"handleMouseEnter",value:function(e){this.props.onFocus(this.props.option,e)}},{key:"handleMouseMove",value:function(e){this.props.isFocused||this.props.onFocus(this.props.option,e)}},{key:"render",value:function(){var e=this.props.liveEvent;return v.a.createElement("div",{className:"select-option pane pane__row",onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove},v.a.createElement("div",{className:"pane pane__fluid"},this.props.option.value),__(dn.g.XRAY)===this.props.option.value&&(e?v.a.createElement(vn,{eventId:e.id}):v.a.createElement(fn,null)))}}]),t}(f.PureComponent),_n=Object(_.connect)((function(e,t){return{liveEvent:Object(pn.i)(e)}}))(bn),yn=n(137);var En=function(e){var t=e.nextSessionEventId,n=e.isLiveEvent,a=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["nextSessionEventId","isLiveEvent"]);return v.a.createElement("span",{onClick:function(){a.selectDropdownService(a.id,__(dn.g.XRAY)),a.onClick(a.id)},className:j()({"pane pane__fluid pane__row flex-align-center webinars-next-session__title medium-px x-ray-counter-block":!0,live:n})},n&&v.a.createElement("a",{className:"icon-shedule-ico fs-16",href:"#webinars","aria-label":__("webinars.full.schedule"),"data-tooltip-align":"bottom"}),v.a.createElement("span",{className:"pane pane__row"},n?v.a.createElement("div",{className:"icon-live fs-17"}):v.a.createElement("div",{className:"icon-start-soon cursor--pointer fs-17"}),v.a.createElement("div",{className:"fs-13"},__("webinars.header")+" "+(n?__("webinars.live-session"):"")),!n&&v.a.createElement(mn.a,{eventId:t,className:"pane webinars-next-session__countdown fs-13"})))};En.defaultProps={onClick:I.a.noop};var gn=Object(_.connect)((function(e,t){return{nextSessionEventId:Object(pn.j)(e),isLiveEvent:Object(pn.i)(e)}}),(function(e){return{selectDropdownService:function(t,n){e(Object(Xt.d)(t,n)),e(Object(Ft.saveSettingsByKey)(t===a.SELECTED_DROPDOWN_SERVICE_PRIMARY?Yt.SETTINGS_SELECTED_SERVICE_PRIMARY:Yt.SETTINGS_SELECTED_SERVICE_SECONDARY,n))}}}))(En),Sn=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var On=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={availableServices:[],selectedDropdownService:n.props.defaultService},n._isMounted=!1,n.updateAvailableServices=function(e){var t=e.isSignalAvailable,a=e.isNewsSectionAvailable,r=e.isCommentaryAvailable,i=e.liveEvent,o=e.nextSessionEventId,s=e.selectedDropdownService,l=e.defaultService,c=e.isXRaySectionAvailable,u=e.isXRayDisabled,d=[];d.push(t&&__(dn.g.SIGNALS),a&&__(dn.g.NEWS),r&&__(dn.g.COMMENTARY),!u&&c&&(i||o)&&__(dn.g.XRAY)),d=I.a.filter(d,(function(e){return e})).map((function(e){return{value:e,label:e}})),n.setState({availableServices:d,selectedDropdownService:e.selectedDropdownService||e.defaultService},(function(){if(1===n.state.availableServices.length||!I.a.findWhere(n.state.availableServices,{value:s})){var e=I.a.findWhere(n.state.availableServices,{value:l});e?n.onChange(e):n.onChange(I.a.first(n.state.availableServices))}}))},b()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Sn(t,[{key:"componentWillReceiveProps",value:function(e){this.updateAvailableServices(e)}},{key:"componentDidMount",value:function(){this.updateAvailableServices(this.props),this._isMounted=!0}},{key:"onChange",value:function(e){if(e){if(this._isMounted)switch(e.value){case __(dn.g.COMMENTARY):Object(yn.sendEventosCommentaryAction)();break;case __(dn.g.NEWS):Object(yn.sendEventosNewsAction)();break;case __(dn.g.XRAY):Object(yn.sendEventosXrayAction)()}this.props.selectDropdownService(this.props.dropdownId,e.value),this.setState({selectedDropdownService:e.value})}}},{key:"render",value:function(){var e=this.props,t=e.selectedDropdownService,n=e.isNextXraySessionVisible,a=j()({pane:!0,pane__fluid:!0,pane__yfluid:!0,services__dropdown:!0,services__dropdown__bottom:t!==__(dn.g.SIGNALS)}),r=this.state.selectedDropdownService,i=n&&I.a.filter(this.state.availableServices,(function(e){return e.value===__(dn.g.XRAY)})).length>0;return v.a.createElement("div",{className:"pane pane__fluid"},this.state.availableServices.length>1&&v.a.createElement("div",{className:"advanced-dropdown-wrapper"},v.a.createElement(un.default,{className:a,value:I.a.findWhere(this.state.availableServices,{value:r}),options:this.state.availableServices,onChange:this.onChange,optionComponent:_n,onOpen:this.props.onClick}),i&&v.a.createElement("div",{className:"pane pane__fluid pane__row"},v.a.createElement(gn,{onClick:this.props.onClick,id:this.props.dropdownId}))),1===this.state.availableServices.length&&v.a.createElement("div",{className:"pane title"},v.a.createElement("div",{className:"pane__fluid block__title"},I.a.first(this.state.availableServices).value)))}}]),t}(v.a.Component);On.defaultProps={isNextXraySessionVisible:!0};var wn=Object(_.connect)((function(e,t){return{defaultService:e.services.defaultService,isSignalAvailable:Object(on.e)(e),isNewsSectionAvailable:Object(on.c)(e),isCommentaryAvailable:Object(on.a)(e),isXRaySectionAvailable:Object(on.f)(e),liveEvent:Object(pn.i)(e),nextSessionEventId:Object(pn.j)(e),as:t.as||"span"}}),(function(e){return{selectDropdownService:function(t,n){e(Object(Xt.d)(t,n)),e(Object(Ft.saveSettingsByKey)(t===a.SELECTED_DROPDOWN_SERVICE_PRIMARY?Yt.SETTINGS_SELECTED_SERVICE_PRIMARY:Yt.SETTINGS_SELECTED_SERVICE_SECONDARY,n))}}}))(On),Nn=n(324),In=n(325),Cn=n(326),jn=n(588),Pn=n(906),xn=n(382),kn=n(94),Tn=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Rn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Tn(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,n=e.uriCommentaryId;Object(xn.b)(t).then((function(){t(n?Object(Jt.selectCommentary)(n):Object(Jt.selectFirstItem)())}))}},{key:"componentWillUnmount",value:function(){Object(xn.a)()}},{key:"click",value:function(e){this.props.dispatch(Object(Jt.selectCommentary)(e)),this.props.dispatch(Object(Jt.loadCommentary)(e)),__eventos("tradingPlatform:signalWidget:clkCommentaryItem"),l.a.navigate("commentary/"+e)}},{key:"render",value:function(){var e=this,t=this.props,n=(t.all,t.isFirstLoad),r=t.sortedItemsId,i=t.newItemsId,o=(t.dispatch,t.isCommentaryLoading,t.isCommentaryLoaded,t.selectedCommentaryId,t.status),s=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(t,["all","isFirstLoad","sortedItemsId","newItemsId","dispatch","isCommentaryLoading","isCommentaryLoaded","selectedCommentaryId","status"]);return n&&o===a.LOADING?v.a.createElement("div",{className:"cssload-jumping small-px"},v.a.createElement("span",null),v.a.createElement("span",null),v.a.createElement("span",null)):v.a.createElement("div",s,v.a.createElement(E.a,null,v.a.createElement("div",{className:"pane pane__xfluid list list--column"},I.a.map(r,(function(t){return v.a.createElement(Pn.a,{newItemsId:i,as:"div",id:t,key:t,className:"list__item flex flex-column",onClick:function(n){return e.click(t)}},v.a.createElement("div",{className:"small-px"},v.a.createElement(In.a,{as:"span",id:t,className:""})," | ",v.a.createElement(Cn.a,{as:"span",id:t}),v.a.createElement(jn.a,{id:t})),v.a.createElement(Nn.a,{id:t,as:"div",className:"commentary-block__title color__brand-primary smaller-px"}))})))))}}]),t}(v.a.PureComponent),Dn=Object(_.connect)((function(e){return{all:Object(kn.a)(e),isFirstLoad:Object(kn.b)(e),newItemsId:Object(kn.d)(e),sortedItemsId:Object(kn.e)(e),selectedCommentaryId:Object(kn.m)(e),status:Object(kn.f)(e),isCommentaryLoading:Object(kn.q)(e),isCommentaryLoaded:Object(kn.p)(e)}}))(Rn),An=n(2604),Mn=n.n(An),Ln=n(314),zn=n(2264),Un=n(2265),Bn=n(2266),Fn=n(285),Hn=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Vn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Hn(t,[{key:"getChildContext",value:function(){return{ticker:this.props.ticker}}},{key:"componentDidMount",value:function(){this.props.dispatch(Object(Qt.incrementRefCount)()),this.props.dispatch(Object(Qt.loadNews)())}},{key:"componentWillUnmount",value:function(){this.props.dispatch(Object(Qt.removeTimerUpdate)())}},{key:"click",value:function(e){__eventos("tradingPlatform:signalWidget:clkNewsItem"),l.a.navigate("news/"+e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.news,r=(t.dispatch,t.selectedNewsId,t.ticker,t.status),i=t.newItemsId,o=t.isFirstLoad,s=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(t,["news","dispatch","selectedNewsId","ticker","status","newItemsId","isFirstLoad"]);return o&&r===a.LOADING?v.a.createElement("div",{className:"cssload-jumping small-px"},v.a.createElement("span",null),v.a.createElement("span",null),v.a.createElement("span",null)):v.a.createElement("div",s,v.a.createElement(E.a,null,v.a.createElement("div",{className:"pane pane__xfluid list list--column"},I.a.map(n,(function(t,n){return v.a.createElement(Pn.a,{as:"div",newItemsId:i,id:n,key:n,className:"list__item flex flex-column",onClick:function(t){return e.click(n)}},v.a.createElement("div",{className:"small-px"},v.a.createElement(Un.a,{id:n,as:"span",className:""})," | ",v.a.createElement(Bn.a,{as:"span",id:n}),v.a.createElement(jn.a,{as:"span"})),v.a.createElement(zn.a,{id:n,as:"div",className:"news-block__title color__brand-primary smaller-px"}))})))))}}]),t}(f.Component);Vn.childContextTypes={ticker:function(){return null}};var Yn=Object(_.connect)((function(e,t){var n=t.ticker,a=void 0===n?sn.a:n;return{news:Object(Fn.e)(e,a),selectedNewsId:Object(Fn.n)(e,a),status:Object(Fn.k)(e,a),newItemsId:Object(Fn.j)(e,a),isFirstLoad:Object(Fn.d)(e,a),ticker:a}}))(Vn),Wn=n(63),Gn=n.n(Wn),Xn=n(2221),Kn=Object(Xn.a)(Object(_.connect)((function(e,t){var n=t.id,a=t.ticker;return{imgSrc:Object(Fn.o)(e,a,n).image}}))((function(e){var t=e.imgSrc;return v.a.createElement("div",{className:"list__item-image",style:{backgroundImage:"url("+t+")"}})}))),qn=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Zn(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var $n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),qn(t,[{key:"getChildContext",value:function(){return{ticker:this.props.ticker}}},{key:"componentDidMount",value:function(){this.props.dispatch(Object(Qt.incrementRefCount)()),this.props.dispatch(Object(Qt.loadNews)())}},{key:"componentWillUnmount",value:function(){this.props.dispatch(Object(Qt.removeTimerUpdate)())}},{key:"click",value:function(e){__eventos("tradingPlatform:signalWidget:clkNewsItem"),l.a.navigate("news/"+e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.news,a=(t.dispatch,t.ticker,t.status,t.newItemsId),r=(t.isFirstLoad,t.headlineIds),i=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(t,["news","dispatch","ticker","status","newItemsId","isFirstLoad","headlineIds"]),o=Gn.a.news.headlines.maxPostsCount,s=[].concat(Zn(r));I.a.size(s)>o&&(s.length=o);var l=I.a.pick.apply(I.a,[n].concat(Zn(s)));return v.a.createElement("div",i,v.a.createElement(E.a,null,v.a.createElement("div",{className:"pane pane__xfluid list list--column"},I.a.map(l,(function(t,n){return v.a.createElement(Pn.a,{as:"div",newItemsId:a,id:n,key:n,className:"list__item flex flex-column",onClick:function(t){return e.click(n)}},v.a.createElement("div",{className:"list__item-wrapper"},v.a.createElement(Kn,{id:n}),v.a.createElement("div",{className:"list__item-description"},v.a.createElement("div",{className:"small-px"},v.a.createElement(Un.a,{id:n,as:"span"})," | ",v.a.createElement(Bn.a,{as:"span",id:n}),v.a.createElement(jn.a,{as:"span"})),v.a.createElement(zn.a,{id:n,as:"div",className:"news-block__title color__brand-primary smaller-px"}))))})))))}}]),t}(f.Component);$n.childContextTypes={ticker:function(){return null}};var Jn=Object(_.connect)((function(e,t){var n=t.ticker,a=void 0===n?sn.a:n;return{headlineIds:Object(Fn.h)(e,a),isFirstLoad:Object(Fn.d)(e,a),newItemsId:Object(Fn.j)(e,a),news:Object(Fn.e)(e,a),status:Object(Fn.k)(e,a),ticker:a}}))($n),Qn=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var ea=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Qn(t,[{key:"render",value:function(){var e=this.props,t=e.ticker,n=e.status;if(e.isFirstLoad&&n===a.LOADING)return v.a.createElement("div",{className:"cssload-jumping small-px"},v.a.createElement("span",null),v.a.createElement("span",null),v.a.createElement("span",null));if(!this.props.isHeadlinedAvailable)return v.a.createElement(Yn,{ticker:t,className:"pane pane--height news__block"});var r="pane__scroll pane--height",i=[{id:"news-headlines",title:"service.news.tab.headlines.title",className:r,view:v.a.createElement(Jn,{ticker:t}),viewOptions:{className:r}},{id:"news-feed",title:"service.news.tab.feed.title",className:r,view:v.a.createElement(Yn,{ticker:t}),viewOptions:{className:r}}];return v.a.createElement("div",{className:"news__block pane pane__scroll pane--height"},v.a.createElement(Ln.a,{tabList:i,transformTitle:function(e){return __(e)}}))}}]),t}(v.a.Component),ta=Object(_.connect)((function(e,t){var n=t.ticker,a=void 0===n?sn.a:n;return{news:Object(Fn.e)(e,a),headlineIds:Object(Fn.h)(e,a),status:Object(Fn.k)(e,a),isFirstLoad:Object(Fn.d)(e,a),isHeadlinedAvailable:Object(Fn.b)(e,a),ticker:a}}))(ea),na=n(2310),aa=n(2311),ra=n(2312),ia=n(2313),oa=function(e){var t=e.mute;switch(e.type){case a.MUTE:return window.__eventos(t?"learn:webinars:muted":"learn:webinars:tuneIn",{});case a.USER_ACTIVE:return window.__eventos("learn:webinars:userActive",{});case a.USER_INACTIVE:return window.__eventos("learn:webinars:userInactive",{});case a.PLAY:return window.__eventos("learn:webinars:play",{});case a.IDLE:case a.PAUSE:return window.__eventos("learn:webinars:idle",{})}},sa=n(199),la=n.n(sa),ca=n(1242),ua=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},da=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var pa=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.webinarEventId=null,n.domain=la.a.getDomain(n.props.liveEvent.url),b()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),da(t,[{key:"componentDidMount",value:function(){this.webinarEventId=ca.default.add(a.ON_ALL_EVENT_LISTENER,oa,this.domain)}},{key:"componentWillUnmount",value:function(){ca.default.remove(a.ON_ALL_EVENT_LISTENER,this.webinarEventId)}},{key:"onClick",value:function(){var e=this.props,t=e.watch,n=e.liveEvent,a=e.saveIsServicesExpanded,r=e.isServicesExpanded;t(n.id),a(!r)}},{key:"prepareIframeSrc",value:function(e,t){if(I.a.isEmpty(t))return e;var n=la.a.createQueryString(ua({},t,{origin:this.domain}));return-1===e.indexOf("?")?e+n:e+"&"+n.substr(1)}},{key:"render",value:function(){var e=this.props.liveEvent;return v.a.createElement("div",{className:"pane pane__fluid"},v.a.createElement("div",{className:"pane__xfluid webinar-info__content webinar-info__live_content smaller-s-px pane pane__column"},v.a.createElement("div",{className:"pane pane__row flex-valign-center"},v.a.createElement("div",{className:"pane pane__fluid flex-column"},v.a.createElement(na.a,{eventId:e.id,className:"pane webinar__title"})),v.a.createElement("div",{className:"pane pane__row flex-valign-center"},v.a.createElement("div",{className:"pane webinar__detach-icon",onClick:this.onClick},v.a.createElement(R.default,{name:"detach",size:15})))),v.a.createElement("div",{className:"pane"},v.a.createElement("div",{className:"pane pane__fluid pane__row flex-valign-center"},v.a.createElement(aa.a,{eventId:e.id,className:"pane webinar-avatar"}),v.a.createElement("div",{className:"pane pane__fluid grid-column"},v.a.createElement("div",{className:"col"},__("webinars.hosted.by"),": ",v.a.createElement(ia.a,{as:"span",eventId:e.id})),v.a.createElement("div",{className:"col"},v.a.createElement(ra.a,{as:"span",eventId:e.id}))))),v.a.createElement("div",{className:"pane pane__fluid webinar-video"},v.a.createElement("iframe",{src:this.prepareIframeSrc(e.url,e?{autoplay:1,mute:1}:{autoplay:0}),allow:"autoplay",frameBorder:"0",allowFullScreen:!0,className:"pane pane__fluid"}))))}}]),t}(f.PureComponent),ma=Object(_.connect)((function(e){return{liveEvent:Object(pn.i)(e),isServicesExpanded:Object(Ht.isNewAdvancedDashboardServicesPrimaryExpanded)(e)}}),(function(e){return{watch:function(t){return e(Object(ln.q)(t))},saveIsServicesExpanded:function(t){e(Object(Ft.saveSettingsByKey)(Yt.SETTINGS_IS_ADVANCED_DASHBOARD_SERVICES_PRIMARY_EXPANDED,t))}}}))(pa),fa=n(2220),va=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var ha=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return b()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),va(t,[{key:"render",value:function(){var e=this.props,t=e.selectedDropdownService,n=e.liveEvent,a=e.nextSessionEventId;return v.a.createElement("div",{className:"pane pane--height pane__column pane__fluid"},t===__(dn.g.SIGNALS)&&v.a.createElement("div",{className:"pane pane--height flex flex-column pane__fluid signals signals_wrapper pane__segment"},v.a.createElement("div",{className:"pane--shrink-0"},v.a.createElement("div",{className:"signals"},v.a.createElement("div",{className:"list-item columns"},v.a.createElement("div",{className:"asset"},__("asset.title")),v.a.createElement("div",{className:"source"},__("source.title")),v.a.createElement("div",{className:"direction"},__("indigo.help.order.direction"))))),v.a.createElement("div",{className:"pane__scroll flex-stretch new-advanced--service-signals-content"},v.a.createElement(E.a,{className:"pane--height"},v.a.createElement("div",{className:"pane pane__segment"},v.a.createElement(i.a,{name:Mn.a,className:"pane signals"}))))),t===__(dn.g.COMMENTARY)&&v.a.createElement(E.a,{className:"pane--height"},v.a.createElement(Dn,{className:"pane pane--height commentaries__block"})),t===__(dn.g.NEWS)&&v.a.createElement(ta,null),t===__(dn.g.XRAY)&&(I.a.isNil(n)?v.a.createElement(E.a,{className:"pane--height"},v.a.createElement(fa.a,{eventId:a,isDashboardService:!0})):v.a.createElement(ma,null)))}}]),t}(v.a.Component),ba=Object(_.connect)((function(e){var t=e.services;return{availableServices:t.availableServices,defaultService:t.defaultService,countAvailableServices:e.services.availableServices.length,liveEvent:Object(pn.i)(e),nextSessionEventId:Object(pn.j)(e)}}))(ha),_a=function(e){var t=e.isServicesLoaded,n=e.isServiceExpanded,a=e.dropdownId,r=e.selectedDropdownService,i=e.handleServicesDropdownClick,o=e.toggleServices,s=e.isXRayDisabled,l=e.isNextXraySessionVisible;return v.a.createElement(f.Fragment,null,!t&&v.a.createElement(cn.a,{position:"absolute",small:!0,fit:!0}),t&&v.a.createElement("div",{className:"flex flex-row new-advanced__services-dropdown"},v.a.createElement("div",{className:"pane pane__fluid"},v.a.createElement(wn,{selectedDropdownService:r,dropdownId:a,isNextXraySessionVisible:l,isXRayDisabled:s,onClick:function(){return i(a)}})),v.a.createElement("div",{className:"w-5"}),v.a.createElement("div",{className:"pane flex-valign-center flex-align-center new-advanced__service-toggle",onClick:function(){return o(a)}},n?v.a.createElement(R.default,{name:"collapse_block",size:10}):v.a.createElement(R.default,{name:"expand_block",size:10}))),t&&n&&v.a.createElement("div",{className:"pane pane__fluid pane__scroll pane--height new-advanced__services-content"},v.a.createElement(ba,{selectedDropdownService:r})))},ya=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Ea=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.containerRef=v.a.createRef(),n.splitterPrimaryRef=v.a.createRef(),n.splitterSecondaryRef=v.a.createRef(),n.splitterOffsetSize=Gn.a.services.splitter.size,n.splitterPrimaryDefaultSize=Gn.a.services.splitter.primary.defaultSize,n.splitterSecondaryDefaultSize=Gn.a.services.splitter.secondary.defaultSize,n.splitterPrimaryThreshold=Gn.a.services.splitter.primary.threshold,n.splitterSecondaryThreshold=Gn.a.services.splitter.secondary.threshold,n.saveSplitterPrimarySizeDebounce=I.a.noop,n.saveSplitterSecondarySizeDebounce=I.a.noop,n.state={splitterPrimarySize:0,splitterSecondarySize:0},b()(n),n.movingStateThreshold=n.splitterSecondaryThreshold-n.splitterPrimaryThreshold,I.a.isFunction(e.saveSplitterSize)&&(n.saveSplitterPrimarySizeDebounce=I.a.debounce((function(t){e.saveSplitterSize(Yt.SETTINGS_ADVANCED_DASHBOARD_SERVICES_PRIMARY_SIZE,n.getPercentage(t,n.getContainerHeight()))}),a.SECOND_IN_MILLISECONDS),n.saveSplitterSecondarySizeDebounce=I.a.debounce((function(t){e.saveSplitterSize(Yt.SETTINGS_ADVANCED_DASHBOARD_SERVICES_SECONDARY_SIZE,n.getPercentage(t,n.getContainerHeight()))}),a.SECOND_IN_MILLISECONDS)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ya(t,[{key:"getPercentage",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return+(e/t*a.PERCENTS_100).toFixed(n)}},{key:"getContainerHeight",value:function(){return this.containerRef.current&&this.containerRef.current.offsetHeight-this.splitterOffsetSize}},{key:"getHeightBasedOnContainer",value:function(e){return this.containerRef.current&&parseInt(String(this.getContainerHeight()/a.PERCENTS_100*e),10)}},{key:"componentDidMount",value:function(){this.props.checkServices(),this.props.loadServices(),this.props.checkEnabledServicesForSignals(),this.checkAvailableSignalsServices(this.props),this.props.checkIfNewsFeedEnabled()}},{key:"componentWillReceiveProps",value:function(e){this.checkAvailableSignalsServices(e),e.isNewsFeedEnabled&&e.isNewsFeedEnabled!==this.props.isNewsFeedEnabled&&this.props.loadNews()}},{key:"checkAvailableSignalsServices",value:function(e){var t=e.isSignalsAnalystsAvailable,n=e.isSignalsInsidersAvailable,a=e.isSignalsHedgefundsAvailable,r=e.isSignalsBloggersAvailable;l.a.trigger("ui:updated-signals-services",{isSignalsAnalystsAvailable:t,isSignalsInsidersAvailable:n,isSignalsHedgefundsAvailable:a,isSignalsBloggersAvailable:r})}},{key:"toggleServices",value:function(e){return e===a.SELECTED_DROPDOWN_SERVICE_PRIMARY?(this.props.saveIsServicesExpanded(a.SELECTED_DROPDOWN_SERVICE_PRIMARY,!this.props.isSplitterPrimaryExpanded),void(this.props.isSplitterPrimaryExpanded||this.props.isSplitterSecondaryExpanded||this.props.saveIsServicesExpanded(a.SELECTED_DROPDOWN_SERVICE_SECONDARY,!this.props.isSplitterSecondaryExpanded))):this.props.isSplitterPrimaryExpanded?(this.props.saveIsServicesExpanded(a.SELECTED_DROPDOWN_SERVICE_PRIMARY,!this.props.isSplitterSecondaryExpanded),void this.props.saveIsServicesExpanded(a.SELECTED_DROPDOWN_SERVICE_SECONDARY,!this.props.isSplitterSecondaryExpanded)):void this.props.saveIsServicesExpanded(a.SELECTED_DROPDOWN_SERVICE_SECONDARY,!this.props.isSplitterSecondaryExpanded)}},{key:"handleServicesDropdownClick",value:function(e){if(e===a.SELECTED_DROPDOWN_SERVICE_PRIMARY){if(!0===this.props.isSplitterPrimaryExpanded)return;return this.props.saveIsServicesExpanded(a.SELECTED_DROPDOWN_SERVICE_PRIMARY,!this.props.isSplitterPrimaryExpanded),void(!1===this.props.isSplitterPrimaryExpanded&&!1===this.props.isSplitterSecondaryExpanded&&this.props.saveIsServicesExpanded(a.SELECTED_DROPDOWN_SERVICE_SECONDARY,!this.props.isSplitterSecondaryExpanded))}this.props.isSplitterSecondaryExpanded||this.props.saveIsServicesExpanded(a.SELECTED_DROPDOWN_SERVICE_SECONDARY,!this.props.isSplitterSecondaryExpanded)}},{key:"checkForFirstInteraction",value:function(){this.props.isServicesInteracted||this.props.saveIsServicesInteracted()}},{key:"onDragStart",value:function(){this.isDragging=!0,I.a.defer(this.checkForFirstInteraction)}},{key:"onDragStop",value:function(){this.isDragging=!1}},{key:"onSplitterPrimaryResize",value:function(e){(this.state.splitterPrimarySize=e,this.saveSplitterPrimarySizeDebounce(e),this.isDragging)&&(this.splitterSecondaryRef.current.getSecondaryPaneSizeValue()-e<=this.movingStateThreshold&&this.splitterSecondaryRef.current.setSecondaryPaneSize(e+this.movingStateThreshold));this.isSplitterPrimaryInited||this.splitterPrimaryRef.current&&(this.isSplitterPrimaryInited=!0,this.props.isSplitterPrimaryExpanded&&this.isSplitterPrimaryInited&&this.splitterPrimaryRef.current.setSecondaryPaneSize(this.getHeightBasedOnContainer(this.props.splitterPrimarySize)||this.splitterPrimaryDefaultSize,!1,!0))}},{key:"onSplitterSecondaryResize",value:function(e){this.state.splitterSecondarySize=e,this.saveSplitterSecondarySizeDebounce(e),this.isSplitterSecondaryInited||this.splitterSecondaryRef.current&&(this.isSplitterSecondaryInited=!0,this.props.isSplitterPrimaryExpanded&&this.props.isSplitterSecondaryExpanded&&this.splitterSecondaryRef.current.setSecondaryPaneSize(this.getHeightBasedOnContainer(this.props.splitterSecondarySize)||this.splitterSecondaryDefaultSize,!1,!0))}},{key:"render",value:function(){var e=this,t=this.props,n=t.hasServices,r=t.isSplitterPrimaryExpanded,i=t.isSplitterSecondaryExpanded,o=t.isServicesLoaded,s=t.selectedDropdownServicePrimary,l=t.selectedDropdownServiceSecondary,c=t.component,u=t.forwardRef;return v.a.createElement("div",{className:j()({"pane pane--height new-advanced__content":!0,"first-iteration":!this.props.isServicesInteracted}),ref:this.containerRef},n&&v.a.createElement(Gt.a,{vertical:!0,primaryIndex:0,lock:!i,collapse:!i,collapseSize:this.splitterSecondaryThreshold,secondaryInitialSize:this.splitterSecondaryDefaultSize,secondaryMinSize:this.splitterSecondaryThreshold,isActive:i,ref:this.splitterSecondaryRef,onDragStart:function(){I.a.defer(e.checkForFirstInteraction)},onSecondaryPaneSizeChange:this.onSplitterSecondaryResize},v.a.createElement("div",{className:"pane pane__fluid flex-column pane--height"},v.a.createElement(c,{ref:u})),this.props.isServicesAvailable&&v.a.createElement(Gt.a,{vertical:!0,primaryIndex:0,lock:!r,collapse:!r,collapseSize:this.splitterPrimaryThreshold,secondaryInitialSize:this.splitterPrimaryDefaultSize,secondaryMinSize:this.splitterPrimaryThreshold,isActive:r,ref:this.splitterPrimaryRef,onDragStart:this.onDragStart,onDragEnd:this.onDragStop,onSecondaryPaneSizeChange:this.onSplitterPrimaryResize},v.a.createElement("div",{className:"pane flex-column flex-stretch new-advanced__services new-advanced--fill"},v.a.createElement(_a,{dropdownId:a.SELECTED_DROPDOWN_SERVICE_SECONDARY,selectedDropdownService:l,isServicesLoaded:o,isServiceExpanded:i,isXRayDisabled:!0,handleServicesDropdownClick:this.handleServicesDropdownClick,toggleServices:this.toggleServices})),v.a.createElement("div",{className:"pane flex-column flex-stretch new-advanced__services new-advanced--fill"},v.a.createElement(_a,{dropdownId:a.SELECTED_DROPDOWN_SERVICE_PRIMARY,selectedDropdownService:s,isServicesLoaded:o,isServiceExpanded:r,handleServicesDropdownClick:this.handleServicesDropdownClick,toggleServices:this.toggleServices})))),!n&&v.a.createElement("div",{className:"pane pane__fluid flex-column pane--height"},v.a.createElement(c,{ref:u})))}}]),t}(v.a.Component),ga=Object(_.connect)((function(e){return{selectedDropdownServicePrimary:e.services[a.SELECTED_DROPDOWN_SERVICE_PRIMARY],selectedDropdownServiceSecondary:e.services[a.SELECTED_DROPDOWN_SERVICE_SECONDARY],hasServices:e.services.availableServices&&!!e.services.availableServices.length,isSplitterPrimaryExpanded:Object(Ht.isNewAdvancedDashboardServicesPrimaryExpanded)(e),isSplitterSecondaryExpanded:Object(Ht.isNewAdvancedDashboardServicesSecondaryExpanded)(e),splitterPrimarySize:Object(Ht.getNewAdvancedDashboardServicesPrimarySize)(e),splitterSecondarySize:Object(Ht.getNewAdvancedDashboardServicesSecondarySize)(e),isServicesInteracted:Object(Ht.isNewAdvancedDashboardServicesInteracted)(e),isServicesAvailable:Object(on.d)(e),isServicesLoaded:Object(on.b)(e,sn.a),isSignalsAnalystsAvailable:Object(rn.c)(e),isSignalsInsidersAvailable:Object(rn.f)(e),isSignalsHedgefundsAvailable:Object(rn.e)(e),isSignalsBloggersAvailable:Object(rn.d)(e),isNewsFeedEnabled:Object(Ht.isNewsFeedEnabled)(e)}}),(function(e){return{checkServices:function(){e(Object(Xt.c)())},loadNews:function(){e(Object(Qt.loadNews)())},loadServices:function(){e($t()),e(Object(Jt.loadCommentaries)()),e(Object(ln.k)()),e(Object(en.n)()),e(Object(nn.p)()),e(Object(tn.v)()),e(Object(an.i)())},checkEnabledServicesForSignals:function(){e(Object(Ft.checkBloggersEnabled)()),e(Object(Ft.checkAnalystsEnabled)()),e(Object(Ft.checkHedgeFundsEnabled)()),e(Object(Ft.checkInsidersEnabled)())},saveIsServicesExpanded:function(t,n){e(Object(Ft.saveSettingsByKey)(t===a.SELECTED_DROPDOWN_SERVICE_PRIMARY?Yt.SETTINGS_IS_ADVANCED_DASHBOARD_SERVICES_PRIMARY_EXPANDED:Yt.SETTINGS_IS_ADVANCED_DASHBOARD_SERVICES_SECONDARY_EXPANDED,n))},saveSplitterSize:function(t,n){e(Object(Ft.saveSettingsByKey)(t,n))},saveIsServicesInteracted:function(){e(Object(Ft.saveSettingsByKey)(Yt.SETTINGS_IS_ADVANCED_DASHBOARD_SERVICES_INTERACTED,!0))},checkIfNewsFeedEnabled:function(){e(Object(Ft.checkNewsFeedEnabled)())}}}))(Ea),Sa=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Oa=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.containerRef=v.a.createRef(),n.splitterPrimaryRef=v.a.createRef(),n.splitterOffsetSize=Gn.a.services.splitter.size,n.splitterPrimaryDefaultSize=Gn.a.services.splitter.primary.defaultSize,n.splitterPrimaryThreshold=Gn.a.services.splitter.primary.threshold,n.saveSplitterPrimarySizeDebounce=I.a.noop,b()(n),I.a.isFunction(e.saveSplitterSize)&&(n.saveSplitterPrimarySizeDebounce=I.a.debounce((function(t){e.saveSplitterSize(Yt.SETTINGS_ADVANCED_DASHBOARD_SERVICES_PRIMARY_SIZE,n.getPercentage(t,n.getContainerHeight()))}),a.SECOND_IN_MILLISECONDS)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Sa(t,[{key:"getPercentage",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return+(e/t*a.PERCENTS_100).toFixed(n)}},{key:"getContainerHeight",value:function(){return this.containerRef.current&&this.containerRef.current.offsetHeight-this.splitterOffsetSize}},{key:"getHeightBasedOnContainer",value:function(e){return this.containerRef.current&&parseInt(String(this.getContainerHeight()/a.PERCENTS_100*e),10)}},{key:"componentDidMount",value:function(){this.props.checkServices(),this.props.loadServices(),this.props.checkEnabledServicesForSignals(),this.checkAvailableSignalsServices(this.props),this.props.checkIfNewsFeedEnabled()}},{key:"componentWillReceiveProps",value:function(e){this.checkAvailableSignalsServices(e),e.isNewsFeedEnabled&&e.isNewsFeedEnabled!==this.props.isNewsFeedEnabled&&this.props.loadNews()}},{key:"checkAvailableSignalsServices",value:function(e){var t=e.isSignalsAnalystsAvailable,n=e.isSignalsInsidersAvailable,a=e.isSignalsHedgefundsAvailable,r=e.isSignalsBloggersAvailable;l.a.trigger("ui:updated-signals-services",{isSignalsAnalystsAvailable:t,isSignalsInsidersAvailable:n,isSignalsHedgefundsAvailable:a,isSignalsBloggersAvailable:r})}},{key:"toggleServices",value:function(){this.props.saveIsServicesExpanded(!this.props.isSplitterPrimaryExpanded)}},{key:"handleServicesDropdownClick",value:function(){!0!==this.props.isSplitterPrimaryExpanded&&this.props.saveIsServicesExpanded(!this.props.isSplitterPrimaryExpanded)}},{key:"onSplitterPrimaryResize",value:function(e){this.saveSplitterPrimarySizeDebounce(e),this.isSplitterPrimaryInited||(this.isSplitterPrimaryInited=!0,this.props.isSplitterPrimaryExpanded&&this.splitterPrimaryRef.current.setSecondaryPaneSize(this.getHeightBasedOnContainer(this.props.splitterPrimarySize)||(S.a.isDoubleSignalBoxEnabled()?this.splitterPrimaryDefaultSize:parseInt(this.getContainerHeight()/2)),!1,!0))}},{key:"render",value:function(){var e=this.props,t=e.hasServices,n=e.isSplitterPrimaryExpanded,r=e.isServicesLoaded,i=e.selectedDropdownServicePrimary,o=e.component,s=e.forwardRef;return v.a.createElement("div",{className:j()({"pane pane--height new-advanced__content":!0,"first-iteration":!this.props.isServicesInteracted}),ref:this.containerRef},t&&v.a.createElement(Gt.a,{vertical:!0,primaryIndex:0,lock:!n,collapse:!n,collapseSize:this.splitterPrimaryThreshold,secondaryInitialSize:this.splitterPrimaryDefaultSize,secondaryMinSize:this.splitterPrimaryThreshold,isActive:n,ref:this.splitterPrimaryRef,onSecondaryPaneSizeChange:this.onSplitterPrimaryResize},v.a.createElement("div",{className:"pane pane__fluid flex-column pane--height"},v.a.createElement(o,{ref:s})),this.props.isServicesAvailable&&v.a.createElement("div",{className:"pane flex-column flex-stretch new-advanced__services new-advanced--fill"},v.a.createElement(_a,{dropdownId:a.SELECTED_DROPDOWN_SERVICE_PRIMARY,selectedDropdownService:i,isServicesLoaded:r,isServiceExpanded:n,handleServicesDropdownClick:this.handleServicesDropdownClick,toggleServices:this.toggleServices}))),!t&&v.a.createElement("div",{className:"pane pane__fluid flex-column pane--height"},v.a.createElement(o,{ref:s})))}}]),t}(v.a.Component),wa=Object(_.connect)((function(e){return{selectedDropdownServicePrimary:e.services[a.SELECTED_DROPDOWN_SERVICE_PRIMARY],hasServices:e.services.availableServices&&!!e.services.availableServices.length,isSplitterPrimaryExpanded:Object(Ht.isNewAdvancedDashboardServicesPrimaryExpanded)(e),splitterPrimarySize:Object(Ht.getNewAdvancedDashboardServicesPrimarySize)(e),isServicesAvailable:Object(on.d)(e),isServicesLoaded:Object(on.b)(e,sn.a),isSignalsAnalystsAvailable:Object(rn.c)(e),isSignalsInsidersAvailable:Object(rn.f)(e),isSignalsHedgefundsAvailable:Object(rn.e)(e),isSignalsBloggersAvailable:Object(rn.d)(e),isNewsFeedEnabled:Object(Ht.isNewsFeedEnabled)(e)}}),(function(e){return{checkServices:function(){e(Object(Xt.c)())},loadNews:function(){e(Object(Qt.loadNews)())},loadServices:function(){e($t()),e(Object(Jt.loadCommentaries)()),e(Object(ln.k)()),e(Object(en.n)()),e(Object(nn.p)()),e(Object(tn.v)()),e(Object(an.i)())},checkEnabledServicesForSignals:function(){e(Object(Ft.checkBloggersEnabled)()),e(Object(Ft.checkAnalystsEnabled)()),e(Object(Ft.checkHedgeFundsEnabled)()),e(Object(Ft.checkInsidersEnabled)())},saveIsServicesExpanded:function(t){e(Object(Ft.saveSettingsByKey)(Yt.SETTINGS_IS_ADVANCED_DASHBOARD_SERVICES_PRIMARY_EXPANDED,t))},saveSplitterSize:function(t,n){e(Object(Ft.saveSettingsByKey)(t,n))},checkIfNewsFeedEnabled:function(){e(Object(Ft.checkNewsFeedEnabled)())}}}))(Oa),Na=n(2147),Ia=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Ca(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ja(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var Pa="/Trending_now/";var xa=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.searchRef=v.a.createRef(),n.state={selectedMenuItemId:"index",isContentOpen:!0,isSearchFixedOpen:!1,navItems:[],sectionMeta:{}},b()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),Ia(t,[{key:"getBaseNavigationsItems",value:function(e){var t=e||this.props,n=t.isPortfoliosEnabled,r=t.isHideInvestIndicator,i=t.isDmasEnabled;return[{splitter:!0},{_localizedNameKey:"tab.watchlist",name:"Watchlist",section:a.UI_SECTION_FAVORITES,url:a.UI_SECTION_FAVORITES,icon:"favorite-ico"},{_localizedNameKey:"tab.popular",name:"Featured",section:a.UI_SECTION_TRADING,url:Pa,isCategory:!0,icon:"featured-ico"},{_localizedNameKey:"tab.positions",name:"Positions",badge:v.a.createElement(Mt.default,{as:"span"}),section:a.UI_SECTION_OPEN_POSITION,url:a.UI_SECTION_OPEN_POSITION,icon:"positions-ico"},{_localizedNameKey:"tab.orders",name:"Orders",badge:v.a.createElement(Lt.a,{as:"span"}),section:a.UI_SECTION_ORDERS,url:a.UI_SECTION_ORDERS,icon:"orders-ico"},{_localizedNameKey:"tab.alerts",name:"Alerts",badge:v.a.createElement(Bt,{as:"span"}),section:a.UI_SECTION_PRICE_ALERTS,url:a.UI_SECTION_PRICE_ALERTS,icon:"price-alert"},n||i?{_localizedNameKey:"tab.invest",name:"Invest",indicator:!r,section:a.UI_SECTION_INVEST,url:a.UI_SECTION_INVEST,icon:"invest-ico",tooltip:__("invest.tooltip")}:void 0,{splitter:!0}].filter((function(e){return void 0!==e}))}},{key:"componentDidMount",value:function(){var e=[Pa],t=[].concat(ja(this.getBaseNavigationsItems()),ja(this.getPrimaryInstrumentCategories(e)));this.setState({menuItems:t}),this.props.changeInstrumentInfoVisibility(a.VISIBLE)}},{key:"componentWillUpdate",value:function(e,t){var n=[Pa];t.menuItems=[].concat(ja(this.getBaseNavigationsItems(e)),ja(this.getPrimaryInstrumentCategories(n)))}},{key:"getPrimaryInstrumentCategories",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.props.tree,n=I.a.chain(t);return I.a.isEmpty(e)||(n=n.reject((function(t){var n=t._pathUrl;return I.a.contains(e,n)}))),(n=n.filter((function(e){return Object(Wt.e)(e)}))).map((function(e){var t=e.category,n=e._pathUrl;return{_localizedNameKey:"tab."+t,name:t,section:a.UI_SECTION_TRADING,isInstrumentCategory:!0,url:n,icon:String(t).toLowerCase()+"-ico"}})).value()}},{key:"toggleContent",value:function(){this.props.saveIsInstrumentListExpanded(!this.props.isContentOpen),this.setState({isSearchFixedOpen:!1}),I.a.delay((function(){return l.a.trigger("ui:chart:reflow")}),0)}},{key:"toggleSearch",value:function(){var e=this;this.props.isContentOpen&&this.isMainSection(this.props.section)||this.setState({isSearchFixedOpen:!this.state.isSearchFixedOpen}),I.a.delay((function(){return e.searchRef.current&&e.searchRef.current.focus()}),1)}},{key:"onSearchClose",value:function(){this.setState({isSearchFixedOpen:!1})}},{key:"handleMenuItemClick",value:function(e){var t=e.section;return"find"===t?this.toggleSearch():t===a.UI_SECTION_PORTFOLIOS?l.a.navigate("#"+e.url):t===a.UI_SECTION_INVEST?l.a.trigger("ui:invest"):I.a.contains([a.UI_SECTION_FAVORITES,a.UI_SECTION_ORDERS,a.UI_SECTION_OPEN_POSITION,a.UI_SECTION_PRICE_ALERTS],e.section)?(this.setState({section:t,sectionMeta:e}),this.props.saveIsInstrumentListExpanded(!0),void this.props.changeSection(e.section)):(this.props.handleClickOnCategory(e.url),this.props.saveIsInstrumentListExpanded(!0),void this.setState({section:t,sectionMeta:e,isSearchFixedOpen:!1}))}},{key:"isMainSection",value:function(e){return I.a.contains([a.UI_SECTION_FAVORITES,a.UI_SECTION_FEATURED,a.UI_SECTION_OPEN_POSITION,a.UI_SECTION_ORDERS,a.UI_SECTION_TRADING],e)}},{key:"render",value:function(){var e,t=this,n=this.state,r=n.isSearchFixedOpen,s=n.menuItems,l=this.props,c=l.isNewAdvancedDashboardCollapsibleListEnabled,p=l.categoryPath,h=l.section,b=l.isContentOpen,_=l.categoryUrl,y=l.searchByInstrumentSymbol,g=(Ca(e={},a.UI_SECTION_FAVORITES,v.a.createElement(ot,null)),Ca(e,a.UI_SECTION_OPEN_POSITION,v.a.createElement(jt,null)),Ca(e,a.UI_SECTION_ORDERS,v.a.createElement(bt,null)),e),O=this.isMainSection(h),w=g[h]||v.a.createElement($e,{path:p}),N=S.a.isDoubleSignalBoxEnabled()?ga:wa,C=v.a.forwardRef((function(e,t){return v.a.createElement(f.Fragment,null,v.a.createElement(At,{ref:t,fixed:!1,onSelected:y}),w)}));return v.a.createElement("div",{className:"pane pane--height flex-row pane__fluid new-advanced__body"},r&&v.a.createElement(At,{ref:this.searchRef,fixed:r,onClose:this.onSearchClose,onSelected:y}),v.a.createElement("div",{className:"pane pane--height new-advanced__side-nav components-bg",id:"new-advanced__side-nav"},v.a.createElement("div",{className:"pane pane__column pane__fluid pane--height"},v.a.createElement("div",{className:"pane pane__fluid pane__scroll"},v.a.createElement(E.a,null,v.a.createElement(P,null,v.a.createElement(x,{icon:"search-ico fs-16",splitter:!1,onClick:function(){return t.handleMenuItemClick({section:"find"})},name:"search"},__("tab.search")),I.a.map(s,(function(e,n){return v.a.createElement(x,{key:h+"-item-"+n,badge:e.badge,indicator:e.indicator,tooltip:e.tooltip,icon:e.icon,splitter:e.splitter,selected:h===a.UI_SECTION_TRADING?e.url===_:e.section===h,onClick:function(){return t.handleMenuItemClick(e)},name:e.name},u.a.fixCategoryName(e._localizedNameKey,e.name))}))))))),v.a.createElement("div",{className:"new-advanced__space w-1"}),b&&O&&v.a.createElement(N,{forwardRef:this.searchRef,component:C}),O&&v.a.createElement("div",{className:"new-advanced__space w-10 flex flex-valign-center"},c&&v.a.createElement(o.a,{vertical:!0,open:b,onClick:this.toggleContent})),O?v.a.createElement("div",{className:"pane pane__fluid pane__fluid new-advanced__instrument-details new-advanced--fill",id:"new-advanced__instrument-details"},this.props.isMultiChartsEnabled?v.a.createElement(Na.default,null):v.a.createElement(d.LazyInstrumentDetailsContainer,null)):v.a.createElement("div",{className:"pane pane--height pane__fluid"},h===a.UI_SECTION_CLOSED_POSITIONS&&v.a.createElement(d.LazyClosedPositions,{className:"pane pane--height pane__fluid"}),h===a.UI_SECTION_CANCELED_ORDERS&&v.a.createElement(d.LazyOrderHistory,{className:"pane pane--height pane__fluid"}),h===a.UI_SECTION_PRICE_ALERTS&&v.a.createElement(d.LazyPriceAlerts,{className:"pane pane--height pane__fluid"}),h===a.UI_SECTION_INVEST&&v.a.createElement(d.LazyInvest,{className:"pane pane--height pane__fluid"}),h===a.UI_SECTION_PORTFOLIOS&&v.a.createElement(d.LazyPortfolioLanding,{className:"pane pane--height pane__fluid"})),v.a.createElement(i.a,{name:m.a,className:"floating-open-positions"}))}}]),t}(v.a.Component);t.default=Object(_.connect)((function(e){var t=Object(w.getSelectedInstrumentCategoryTreePath)(e);return{section:Object(w.getUiSection)(e),tree:e.instruments.tree,categoryPath:t,isNewAdvancedDashboardCollapsibleListEnabled:S.a.isNewAdvancedDashboardCollapsibleListEnabled(),categoryUrl:e.ui.selectedCategorySections.categoryUrl,isContentOpen:Object(Ht.isNewAdvancedDashboardInstrumentListExpanded)(e),isPortfoliosEnabled:Object(Vt.isPortfolioEnabled)(e),isDmasEnabled:Object(Vt.isSaxoEnabled)(e),isHideInvestIndicator:Object(Ht.getSettingValueByKey)(e,"hideInvestIndicator"),isMultiChartsEnabled:Object(w.isMultiChartsEnabled)(e)}}),(function(e){return{handleClickOnCategory:I.a.throttle((function(t){e(Object(O.setSection)(a.UI_SECTION_TRADING)),e(Object(O.selectInstrumentCategoryTreePath)(t)),e(Object(O.updateCategorySections)()),e(Object(O.updateUrlBySelectedCategoryPath)({trigger:!1})),e(Object(O.selectFirstSymbolInSymbolList)())}),300),changeInstrumentInfoVisibility:function(){e(Object(O.changeInstrumentInfoVisibility)())},changeSection:function(t){e(Object(O.setSection)(t)),Object(w.getUiSection)(window.store.getState())===a.UI_SECTION_TRADING&&e(Object(O.selectFirstSymbolInSymbolList)()),t===a.UI_SECTION_PRICE_ALERTS&&e(Object(O.navigateSection)(t))},saveIsInstrumentListExpanded:function(t){e(Object(Ft.saveSettingsByKey)(Yt.SETTINGS_IS_ADVANCED_DASHBOARD_INSTRUMENT_LIST_EXPANDED,t))},searchByInstrumentSymbol:function(t){e(Object(O.setSectionAndNavigateBySymbol)(t))}}}))(xa)},2220:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(4),o=n(152),s=n(1234),l=n.n(s),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};var u={education:n(1226),end_of_day:n(1227),midday_report:n(1228),morning_call:n(1229),morning_report:n(1230),question_answer:n(1231),special_events:n(1232),sunday_preview:n(1233)};var d=Object(i.connect)((function(e,t){var n=t.eventId,a=e.webinars.eventsMap[n];return{img:a&&a.img,category:a&&u[String(a.category).toLowerCase().replace(/\W+/g,"_")]}}))((function(e){var t=e.img,n=e.category,a=(e.dispatch,e.eventId,function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["img","category","dispatch","eventId"]));return(r.a.createElement("img",c({},a,{src:t?t.replace("/xray","/xray-new"):n||l.a})))})),p=n(2240),m=n(168),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};var v=Object(i.connect)((function(e,t){var n=t.eventId;return{title:Object(o.f)(e,n),start:Object(o.e)(e,n),end:Object(o.c)(e,n),description:Object(o.b)(e,n)}}))((function(e){var t=e.eventId,n=(e.dispatch,e.title),a=e.start,i=e.end,o=e.description,s=e.className,l=e.href,c=void 0===l?window.location.href:l,u=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["eventId","dispatch","title","start","end","description","className","href"]);return r.a.createElement(p.a,f({title:n,start:Object(m.a)(a),end:Object(m.a)(i),description:o,href:c.split("#")[0]+"?path=webinars&webinar_id="+t,className:"icon icon-google "+(s||"")},u))})),h=n(2241),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};var _=Object(i.connect)((function(e,t){var n=t.eventId;return{title:Object(o.f)(e,n),start:Object(o.e)(e,n),end:Object(o.c)(e,n),description:Object(o.b)(e,n)}}))((function(e){var t=e.eventId,n=(e.dispatch,e.title),a=e.start,i=e.end,o=e.description,s=e.className,l=e.href,c=void 0===l?window.location.href:l,u=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["eventId","dispatch","title","start","end","description","className","href"]);return r.a.createElement(h.a,b({title:n,start:Object(m.a)(a),end:Object(m.a)(i),description:o,href:c.split("#")[0]+"?path=webinars&webinar_id="+t,className:"icon icon-outlook "+(s||"")},u))})),y=n(8),E=n.n(y),g=n(1),S=n.n(g),O=n(407),w=n(137);function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=Object(i.connect)((function(e,t){var n=t.eventId;return{eventType:Object(o.g)(e,n),subscribed:Object(o.o)(e,n),isInProcess:!!e.webinars.requests[n],period:Object(o.d)(e,n)}}),(function(e){return{onClick:function(t,n,a,r){switch(a){case"past":return e(Object(O.b)(null)),void e(Object(O.q)(t));case"live":return e(Object(O.b)(null)),e(Object(O.j)(t)),void e(Object(O.q)(t));case"upcoming":case"soon":r?e(Object(O.p)(t)):(Object(w.sendEventosXrayAction)(t),e(Object(O.l)(t)))}}}}))((function(e){var t,n=e.isInProcess,a=e.period,i=e.eventType,o=e.subscribed,s=e.onClick,l=(e.dispatch,e.className),c=e.eventId,u=(function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}(e,["isInProcess","period","eventType","subscribed","onClick","dispatch","className","eventId"]),E()((N(t={},l,l),N(t,"webinar-type__"+i,1),N(t,"in-process",n),t))),d={past:__("webinars.watch"),live:__("webinars.join.us"),soon:function(){return o?__("webinars.unregister"):__("webinars.register")},upcoming:function(){return o?__("webinars.unregister"):__("webinars.register")}};return r.a.createElement("button",{className:u,disabled:n,onClick:function(){return s(c,i,a,o)}},S.a.result(d,a))})),C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};var j=Object(i.connect)((function(e,t){var n=t.eventId,a=e.webinars.eventsMap[n];return{isPremium:a&&a.isPremium}}))((function(e){var t=e.isPremium,n=(e.dispatch,e.eventId,e.className),a=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["isPremium","dispatch","eventId","className"]);return t?r.a.createElement(a.as,C({className:""+(n&&n)},a),r.a.createElement("div",{className:"pane pane__row pane_padded-small flex-valign-center webinar-type__premium webinar__icon-premium"},r.a.createElement("div",{className:"pane"},r.a.createElement("i",{className:"icon icon-diamond"})),r.a.createElement("div",{className:"pane pane__fluid"},r.a.createElement("span",null,__("account_settings.account-level.modes.premium"))))):null})),P=n(128),x=n.n(P);var k=Object(i.connect)((function(e,t){var n=t.eventId,a=e.webinars.eventsMap[n];return{start:a&&a._start,end:a&&a._end}}))((function(e){var t=e.start,n=e.end,a=(e.dispatch,e.format,e.eventId,function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["start","end","dispatch","format","eventId"]));return t&&n?r.a.createElement(a.as,a,x.a.webinarDateTime(t)):null}));var T=Object(i.connect)((function(e,t){var n=t.eventId,a=e.webinars.eventsMap[n];return{isSoon:a&&a._isSoon}}))((function(e){var t=e.isSoon,n=(e.dispatch,e.eventId,function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["isSoon","dispatch","eventId"]));return t?r.a.createElement(n.as,n,__("label.start_soon")):null})),R=n(2310),D=n(2311),A=n(2313),M=n(2312),L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};var z=Object(i.connect)((function(e,t){var n=t.eventId,a=e.webinars.eventsMap[n];return{value:a&&a.language}}))((function(e){var t=e.value,n=(e.dispatch,e.eventId,e.className),a=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["value","dispatch","eventId","className"]);return t?r.a.createElement("i",L({},a,{className:"icon-lang-"+t+" "+(n||"")})):null}));var U=Object(i.connect)((function(e,t){var n=t.eventId,a=e.webinars.eventsMap[n];return{value:a&&a.language}}))((function(e){var t=e.value,n=(e.dispatch,e.eventId,function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["value","dispatch","eventId"]));return t?r.a.createElement(n.as,n,__("language."+t)):null}));var B=Object(i.connect)((function(e,t){var n=t.eventId,a=e.webinars.eventsMap[n];return{value:a&&a.duration}}))((function(e){var t=e.value,n=(e.dispatch,e.eventId,function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["value","dispatch","eventId"]));return r.a.createElement(n.as,n,t," ",__("minutes"))})),F=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var H=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),F(t,[{key:"render",value:function(){var e=this.props,t=e.eventId,n=e.eventType;return r.a.createElement("div",null,r.a.createElement(j,{as:"div",eventId:t,className:"pane small-px"}),r.a.createElement("div",{className:"pane flex-align-between"},r.a.createElement(k,{as:"div",eventId:t,className:"pane webinar__datetime-range text-muted fs-11"}),r.a.createElement(T,{as:"div",eventId:t,className:"pane webinar__start-soon-label icon-start-soon"})),r.a.createElement(R.a,{as:"div",eventId:t,eventType:n,className:"pane webinar__title  title"}),r.a.createElement("div",{className:"pane pane__row"},r.a.createElement(D.a,{eventId:t,className:"pane webinar-avatar"}),r.a.createElement("div",{className:"pane pane__fluid grid-column "},r.a.createElement("div",{className:"col"},__("webinars.hosted.by"),":"),r.a.createElement("div",{className:"col"},r.a.createElement(A.a,{as:"span",eventId:t})," - ",r.a.createElement(M.a,{as:"span",eventId:t})))),r.a.createElement("div",{className:"pane pane__fluid"},r.a.createElement("div",{className:"pane pane__row pane_padded-small flex-valign-center"},r.a.createElement("div",{className:"pane"},r.a.createElement(z,{eventId:t,className:"webinar__language-icon"})),r.a.createElement("div",{className:"pane"},r.a.createElement(U,{as:"span",eventId:t}))),r.a.createElement("div",{className:"pane pane__row pane_padded-small flex-valign-center webinar__duration"},r.a.createElement("div",{className:"pane"},r.a.createElement(B,{as:"span",eventId:t,className:"webinar__duration-text icon-duration"})))))}}]),t}(r.a.Component),V=Object(i.connect)((function(e,t){return{eventType:Object(o.g)(e,t.eventId)}}))(H);var Y=Object(i.connect)((function(e,t){var n=t.eventId,a=e.webinars.eventsMap[n];return{value:a&&a.description}}))((function(e){var t=e.value,n=(e.dispatch,e.eventId,function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["value","dispatch","eventId"]));return r.a.createElement("div",n,t)})),W=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var G=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),W(t,[{key:"render",value:function(){var e=this.props.eventId;return r.a.createElement("div",{className:"pane pane__fluid smaller-s-px"},r.a.createElement("div",{className:"pane pane__column pane_padded-small webinars__list-item-details"},r.a.createElement("div",{className:"pane description"},r.a.createElement(Y,{eventId:e}))))}}]),t}(r.a.Component),X=n(39),K=n(408),q=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Z=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),q(t,[{key:"render",value:function(){var e=this.props,t=e.eventId,n=e.isTooltip,a=e.isPopup,i=e.isMobile,o=e.isDashboardService,s=e.eventType,l=e.toggleTooltip,c=e.closePopup,u=E()({pane:!0,pane__column:!0,"webinars__list-item":s!==X.i,"webinar__past-events-list-item":s===X.i,"webinar-tooltip":n,"webinar-popup":a,"webinar-service":o,live:s===X.h});return r.a.createElement("div",{className:u,key:t},!n&&!i&&r.a.createElement("div",{className:"webinar-logo webinar-logo_big"},r.a.createElement(d,{eventId:t,className:"webinar-logo__img"})),r.a.createElement(K.Tabs,{className:"react-tabs webinar-tabs"},r.a.createElement(K.TabList,{className:"react-tabs__tab-list react-tabs__tab-list__container"},r.a.createElement(K.Tab,null,__("webinars.information")),r.a.createElement(K.Tab,null,__("webinars.details"))),r.a.createElement(K.TabPanel,null,r.a.createElement(V,{eventId:t})),r.a.createElement(K.TabPanel,null,r.a.createElement(G,{eventId:t}))),s!==X.i&&r.a.createElement("div",{className:"pane webinar__external-calendar-icons webinar__reminders"},r.a.createElement("div",{className:"pane pane__row calendar-links"},r.a.createElement("div",{className:"pane flex-column flex-align-center"},r.a.createElement(v,{eventId:t,className:"pane icon-google",target:"_blank"})),r.a.createElement("div",{className:"pane flex-column flex-align-center"},r.a.createElement(_,{eventId:t,className:"pane icon-outlook",target:"_blank"}))),r.a.createElement("div",{className:"pane pane__row webinar-actions"},n&&r.a.createElement("div",{className:"cursor--pointer webinar-close",onClick:l},__("close")),a&&r.a.createElement("div",{className:"cursor--pointer webinar-close",onClick:c},__("close")),o&&r.a.createElement("a",{className:"icon-shedule-ico fs-16 flex flex-column flex-align-center",href:"#webinars","aria-label":__("webinars.full.schedule"),"data-tooltip-align":"left"}),r.a.createElement(I,{eventId:t,className:"pane btn__action pane__xfluid flex-align-center webinar__control"}))),s===X.i&&r.a.createElement("div",{className:"pane webinar__watch"},a&&r.a.createElement("div",{className:"cursor--pointer webinar-close",onClick:c},__("close")),r.a.createElement(I,{eventId:t,className:"pane btn__action pane__xfluid flex-align-center webinar__control"})))}}]),t}(r.a.Component);t.a=Object(i.connect)((function(e,t){return{eventType:Object(o.g)(e,t.eventId)}}))(Z)},2229:function(e,t,n){(function(a){var r;void 0===(r=function(e,t,a){var r=n(21),i=(n(1),n(16));n(7);function o(e,t,n){e.addEventListener(t,n,!0)}function s(e,t,n){e.removeEventListener(t,n,!0)}var l="rtl"===i("html").attr("dir");a.exports=r.extend({isHidden:!0,initialize:function(e){r.prototype.initialize.apply(this,arguments),this.options=e,this.render(),this.addDragEvents()},render:function(){this.$el.html(this.template(this.options))},toggle:function(e){this.isHidden!==e&&(this.isHidden=e,this.$el.css("display",e?"none":"block"),this.resetPosition())},resetPosition:function(){this.$el.css({top:"",bottom:"",left:"",right:""})},closePopup:function(){this.toggle(!0)},isDragReady:!1,dragoffset:{x:0,y:0},onMouseDown:function(e){this.isDragReady=!0,this.dragoffset.x=e.pageX-this.el.offsetLeft,this.dragoffset.y=e.pageY-this.el.offsetTop},onMouseUp:function(e){this.isDragReady=!1},onMouseMove:function(e){if(this.isDragReady)if(this.el.offsetHeight+Math.abs(e.pageY-this.dragoffset.y)<screen.height&&(this.el.style.top=e.pageY-this.dragoffset.y+"px"),l){var t=screen.width-e.pageX-this.dragoffset.x;if(t+this.el.offsetWidth>screen.width)return;this.el.style.right=t+"px"}else{var n=e.pageX-this.dragoffset.x;if(n+this.el.offsetWidth>screen.width)return;this.el.style.left=n+"px"}},addDragEvents:function(){o(this.el,"mousedown",this.onMouseDown.bind(this)),o(document,"mouseup",this.onMouseUp.bind(this)),o(document,"mousemove",this.onMouseMove.bind(this))},removeDragEvents:function(){s(this.el,"mousedown",this.onMouseDown.bind(this)),s(document,"mouseup",this.onMouseUp.bind(this)),s(document,"mousemove",this.onMouseMove.bind(this))},destroy:function(){this.removeDragEvents(),r.prototype.destroy.call(this)}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(16))},2239:function(e,t,n){var a=n(0),r=n(20),i=n(7),o=n(33),s=n(1),l=n(98),c="change:sellTradable change:buyTradable change:outOfMarketHours change:isMarginLevelLow",u=function(){return s.filter(s.keys(l._instrumentIds),(function(e){var t=o.getInstrumentById(e);return t&&t.isClosable()})).length};e.exports=r({displayName:"exports",getDefaultProps:function(){return{className:"",prevent:!1}},getInitialState:function(){return{disabled:!u()}},click:function(e){!1!==this.props.prevent&&(e.preventDefault(),e.stopPropagation()),i.trigger("positions:close_all")},componentDidMount:function(){this.createListener(),l.on("add-instrument",this.updateListener,this),l.on("remove-instrument",this.updateListener,this)},componentWillUnmount:function(){this.removeListener(),l.off("add-instrument",this.updateListener,this),l.off("remove-instrument",this.updateListener,this)},shouldComponentUpdate:function(e,t){return t.disabled!==this.state.disabled},updateListener:function(){this.removeListener(),this.createListener(),this.update()},createListener:function(){var e=this;s.map(s.keys(l._instrumentIds),(function(t){var n=o.getInstrumentById(t);n&&n.on(c,e.update,e)}))},removeListener:function(){var e=this;s.map(s.keys(l._instrumentIds),(function(t){var n=o.getInstrumentById(t);n&&n.off(c,e.update,e)}))},update:function(){this.setState({disabled:!u()})},render:function(){return a.createElement("button",{className:"btn "+this.props.className,disabled:this.state.disabled,onClick:this.click},__("actions.close_all_positions"))}})},2240:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(6),o=n.n(i),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.a=function(e){var t=e.title,n=void 0===t?"":t,a=e.start,i=void 0===a?0:a,l=e.end,c=void 0===l?0:l,u=e.description,d=void 0===u?"":u,p=e.href,m=void 0===p?window.location.href:p,f=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["title","start","end","description","href"]);return r.a.createElement("a",s({href:["https://www.google.com/calendar/render","?action=TEMPLATE","&text="+encodeURIComponent(n),"&dates="+(o()(i).format("YYYYMMDD[T]HHmmss[Z]")||""),"/"+(o()(c).format("YYYYMMDD[T]HHmmss[Z]")||""),"&details="+encodeURIComponent(d),"&location="+encodeURIComponent(m),"&sprop=&sprop=name:"].join("")},f))}},2241:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(6),o=n.n(i),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.a=function(e){var t=e.title,n=void 0===t?"":t,a=e.start,i=void 0===a?0:a,l=e.end,c=void 0===l?0:l,u=e.description,d=void 0===u?"":u,p=e.href,m=void 0===p?window.location.href:p,f=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["title","start","end","description","href"]);return r.a.createElement("a",s({href:"data:text/calendar;charset=utf8,"+["BEGIN:VCALENDAR","VERSION:2.0","BEGIN:VEVENT","URL:"+encodeURIComponent(m),"DTSTART:"+o()(i).format("YYYYMMDD[T]HHmmss[Z]"),"DTEND:"+o()(c).format("YYYYMMDD[T]HHmmss[Z]"),"SUMMARY:"+encodeURIComponent(n),"DESCRIPTION:"+encodeURIComponent(d),"END:VEVENT","END:VCALENDAR"].join("\n")},f),r.a.createElement("span",{className:"icon"}))}},2247:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(8),o=n.n(i);function s(e){var t=e.size||0,n=e.percentage?"%":"px",a="layout-pane",i={};return e.primary?a+=" layout-pane-primary":e.vertical?i.height=""+t+n:i.width=""+t+n,r.a.createElement("div",{className:a,style:i},e.children)}s.defaultProps={vertical:!1,primary:!1,size:0,percentage:!1,children:[]};var l=s,c=(n(2248),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}());function u(){if(document.body.createTextRange){var e=document.body.createTextRange();e.collapse(),e.select()}else window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleResize=n.handleResize.bind(n),n.handleMouseMove=n.handleMouseMove.bind(n),n.handleMouseUp=n.handleMouseUp.bind(n),n.handleTouchMove=n.handleTouchMove.bind(n),n.handleSplitterMouseDown=n.handleSplitterMouseDown.bind(n),n.state={secondaryPaneSize:0,resizing:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchend",this.handleMouseUp),document.addEventListener("touchmove",this.handleTouchMove);var e=void 0;if(void 0!==this.props.secondaryInitialSize)e=this.props.secondaryInitialSize;else{var t=this.container.getBoundingClientRect(),n=void 0;n=this.splitter?this.splitter.getBoundingClientRect():{width:10,height:10},e=this.getSecondaryPaneSize(t,n,{left:t.left+(t.width-n.width)/2,top:t.top+(t.height-n.height)/2},!1)}this.setState({secondaryPaneSize:e})}},{key:"componentDidUpdate",value:function(e,t){t.secondaryPaneSize!==this.state.secondaryPaneSize&&this.props.onSecondaryPaneSizeChange&&this.props.onSecondaryPaneSizeChange(this.state.secondaryPaneSize),t.resizing!==this.state.resizing&&(this.state.resizing?this.props.onDragStart&&this.props.onDragStart():this.props.onDragEnd&&this.props.onDragEnd())}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("touchend",this.handleMouseUp),document.removeEventListener("touchmove",this.handleTouchMove)}},{key:"getSecondaryPaneSize",value:function(e,t,n,a){if("number"==typeof this.props.secondaryPaneSize)return this.props.secondaryPaneSize;var r=void 0,i=void 0,o=void 0;this.props.vertical?(r=e.height,i=t.height,o=n.top-e.top):(r=e.width,i=t.width,o=n.left-e.left),a&&(o-=i/2),o<0?o=0:o>r-i&&(o=r-i);var s=void 0,l=r-i-(s=1===this.props.primaryIndex?o:r-i-o);return this.props.percentage&&(s=100*s/r,l=100*l/r,i=100*i/r,r=100),l<this.props.primaryMinSize?s=Math.max(s-(this.props.primaryMinSize-l),0):s<this.props.secondaryMinSize&&(s=Math.min(r-i-this.props.primaryMinSize,this.props.secondaryMinSize)),s}},{key:"getSecondaryPaneSizeValue",value:function(){return this.state.secondaryPaneSize}},{key:"setSecondaryPaneSize",value:function(e,t,n){var a=this.container.getBoundingClientRect().height;(e<=a||n)&&this.setState({secondaryPaneSize:t?100*a/e:e})}},{key:"handleResize",value:function(){if(this.splitter&&!this.props.percentage){var e=this.container.getBoundingClientRect(),t=this.splitter.getBoundingClientRect(),n=this.getSecondaryPaneSize(e,t,{left:t.left,top:t.top},!1);this.setState({secondaryPaneSize:n})}}},{key:"handleMouseMove",value:function(e){if(this.state.resizing){var t=this.container.getBoundingClientRect(),n=this.splitter.getBoundingClientRect(),a=this.getSecondaryPaneSize(t,n,{left:e.clientX,top:e.clientY},!0);u(),this.setState({secondaryPaneSize:a})}}},{key:"handleTouchMove",value:function(e){this.handleMouseMove(e.changedTouches[0])}},{key:"handleSplitterMouseDown",value:function(){this.props.lock||(u(),this.setState({resizing:!0}))}},{key:"handleMouseUp",value:function(){this.setState((function(e){return e.resizing?{resizing:!1}:null}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.collapse,a=t.collapseSize,i=t.isActive,s="splitter-layout";this.props.customClassName&&(s+=" "+this.props.customClassName),this.props.vertical&&(s+=" splitter-layout-vertical"),this.state.resizing&&(s+=" layout-changing");var c=r.a.Children.toArray(this.props.children).slice(0,2);0===c.length&&c.push(r.a.createElement("div",null));for(var u=[],d=0!==this.props.primaryIndex&&1!==this.props.primaryIndex?0:this.props.primaryIndex,p=0;p<c.length;++p){var m=!0,f=null;c.length>1&&p!==d&&(m=!1,f=n?a:this.state.secondaryPaneSize),u.push(r.a.createElement(l,{vertical:this.props.vertical,percentage:this.props.percentage,primary:m,size:f},c[p]))}var v=o()({"pane pane__column":!0,separator__active:i});return r.a.createElement("div",{className:s,ref:function(t){e.container=t}},u[0],u.length>1&&r.a.createElement("div",{role:"separator",className:"layout-splitter flex flex-align-center",ref:function(t){e.splitter=t},onMouseDown:this.handleSplitterMouseDown,onTouchStart:this.handleSplitterMouseDown},r.a.createElement("span",{className:v},r.a.createElement("hr",{className:"separator__line"}),r.a.createElement("hr",{className:"separator__line"}))),u.length>1&&u[1])}}]),t}(r.a.Component);d.defaultProps={customClassName:"",vertical:!1,percentage:!1,primaryIndex:0,primaryMinSize:0,secondaryInitialSize:void 0,secondaryMinSize:0,onDragStart:null,onDragEnd:null,onSecondaryPaneSizeChange:null,children:[],secondaryPaneSize:null,isActive:!0};t.a=d},2248:function(e,t,n){},2250:function(e,t,n){(function(a){var r;void 0===(r=function(e,t,a){var r=n(0),i=n(1),o=n(18),s=n(7),l=n(114),c=n(98),u=n(2229),d=n(2251).default,p=function(e,t){return function(e){return!i.isNaN(e)&&!i.isNull(e)&&!i.isUndefined(e)}(t.find(e))};a.exports=u.extend({enabled:!1,collection:new l,template:i.template(n(2253)),events:{"click .fn-close":"closePopup","click .open-positions":"updateOpenPositions"},initialize:function(e){var t=this;u.prototype.initialize.apply(this,arguments),this.enabled=this.options.enabled,this.listenTo(s,"ui:click:floating:open-positions",(function(e){t.enabled=e,t.toggle(!t.enabled),t.onPositionsUpdate()})),this.listenTo(c,"update ready",this.onPositionsUpdate),this.render(),this.onPositionsUpdate()},render:function(){u.prototype.render.apply(this,arguments);var e=r.createElement(d,{collection:this.collection});o.render(e,this.$el.find(".positions-container")[0])},onPositionsUpdate:function(){var e=this;if(this.enabled){(0===c.length&&!this.isHidden||c.length>0&&this.isHidden)&&this.toggle(!this.isHidden);var t=c.take(5);t.length===this.collection.length&&t.length===c.length&&i.every(t,(function(t){return p(t,e.collection)}))||(this.collection.reset({silent:!0}),this.collection.set(t),this.$el.find(".number-of-positions").html(__("position.floating.view.footer",[t.length,c.length])))}},closePopup:function(e){u.prototype.closePopup.apply(this,arguments),this.enabled=!1,s.trigger("ui:close:floating:open-positions")},openPositions:function(){s.trigger("ui:header-itemclick"),s.navigate("/open-positions")}})}.call(t,n,t,e))||(e.exports=r)}).call(this,n(1))},2251:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(2252),o=n.n(i),s=n(33),l=n.n(s),c=n(13),u=n.n(c),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={hasOpenPositions:!1},u()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),d(t,[{key:"componentDidMount",value:function(){var e=this.props.collection;e&&e.on("add remove",this.update)}},{key:"componentWillUnmount",value:function(){var e=this.props.collection;e&&e.off("add remove",this.update)}},{key:"update",value:function(){this.setState({hasOpenPositions:this.props.collection.length>0})}},{key:"render",value:function(){var e=this.props.collection;return e&&this.state.hasOpenPositions?r.a.createElement("table",null,r.a.createElement("tbody",null,e.map((function(e){var t=l.a.getInstrumentById(e.get("instrumentId")),n=e.get("positionCode");return t?r.a.createElement("tr",{key:n+"-position"},r.a.createElement("td",{className:"instrument-name"},t.get("name")),r.a.createElement("td",{className:"pl_pos position-value"},r.a.createElement(o.a,{key:n+"cell-pl",column:{key:"plOpen"},model:e}))):null})))):null}}]),t}(r.a.Component);t.default=p},2252:function(e,t,n){var a;void 0===(a=function(e,t,a){var r=n(0),i=n(248),o=n(10),s=n(20);a.exports=s({displayName:"exports",getDefaultProps:function(){return{attr:"plOpen"}},getInitialState:function(){return{value:this.props.model.get(this.props.attr)}},componentDidMount:function(){this.props.model.on("change:"+this.props.attr,this.update,this)},componentWillUnmount:function(){this.props.model.off("change:"+this.props.attr,this.update,this)},update:function(){this.setState({value:this.props.model.get(this.props.attr)})},render:function(){return r.createElement(i,{value:this.state.value,precision:2,alwaysPrecision:!0,positiveSymbol:"",prefix:o.getUserCurrencySymbol()})}})}.call(t,n,t,e))||(e.exports=a)},2253:function(e,t){e.exports="<div class=floating-open-positions-container> <div class=header> <i class=dots-icon></i> <span><%=__('tab.open_positions')%></span> <div class=\"fn-close icon-close-white\"></div> </div> <div class=content> <div class=positions-container> </div> <div class=separator><span></span></div> <div class=footer> <span class=number-of-positions></span> <a href=#open-positions class=open-positions><%=__('my.open.positions.link')%></a> </div> </div> </div>"},2310:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(4),o=n(39);t.a=Object(i.connect)((function(e,t){var n=t.eventId,a=e.webinars.eventsMap[n];return{value:a&&a.title}}))((function(e){var t=e.value,n=(e.dispatch,e.eventId,e.eventType),a=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["value","dispatch","eventId","eventType"]);return r.a.createElement("div",a,n===o.h&&r.a.createElement("span",{className:"webinar-text__live"},__("webinars.live-session")+"-"),t)}))},2311:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(4),o=n(1235),s=n.n(o),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.a=Object(i.connect)((function(e,t){var n=t.eventId,a=e.webinars.eventsMap[n];return{value:a&&a.presenter&&a.presenter.img}}))((function(e){var t=e.value,n=(e.dispatch,e.eventId,function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["value","dispatch","eventId"]));return r.a.createElement("img",l({},n,{src:t||s.a}))}))},2312:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(4);t.a=Object(i.connect)((function(e,t){var n=t.eventId,a=e.webinars.eventsMap[n];return{value:a&&a.presenter&&a.presenter.title}}))((function(e){var t=e.value,n=(e.dispatch,e.eventId,function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["value","dispatch","eventId"]));return t?r.a.createElement(n.as,n,t):null}))},2313:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(4);t.a=Object(i.connect)((function(e,t){var n=t.eventId,a=e.webinars.eventsMap[n];return{value:a&&a.presenter&&a.presenter.name}}))((function(e){var t=e.value,n=(e.dispatch,e.eventId,function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["value","dispatch","eventId"]));return t?r.a.createElement(n.as,n,t):null}))},2387:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(1),o=n.n(i),s=n(13),l=n.n(s),c=n(4),u=n(122),d=n(61),p=n(57),m=n(1211),f=n(48),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function b(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}var _=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={scrollTop:0,scrollLeft:0},n._isMounted=!1,l()(n),n._scrollbar=r.a.createRef(),n._list=null,n.measurer=Object(p.createInstrumentListMeasurerWrapper)(n,{CellMeasurerCache:u.c}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),h(t,[{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.measurer()}},{key:"componentDidMount",value:function(){this._isMounted=!0,this._scrollToRow(this.props)}},{key:"componentWillUpdate",value:function(){this.measurer.resizeAll(!1)}},{key:"componentDidUpdate",value:function(e){e.shouldInstrumentBeCentered&&this._scrollToRow(e),o.a.isEqual(e.symbols,this.props.symbols)||this._scrollToRow(this.props)}},{key:"handleScroll",value:function(e){var t=e.target,n=t.scrollTop,a=t.scrollLeft;this._list.Grid.handleScrollEvent({scrollTop:n,scrollLeft:a}),this.setState({scrollTop:n,scrollLeft:a})}},{key:"handleUpdate",value:function(){this.props.shouldInstrumentBeCentered&&this._scrollToRow(this.props),this._scrollbar.current&&this._scrollbar.current.getScrollTop()!==this.state.scrollTop&&this._scrollbar.current.scrollTop(this.state.scrollTop)}},{key:"_scrollToRow",value:function(e){var t=this,n=this._getSymbolIndexFromProps(e),a=this._list.Grid,r=0;this.props.updateShouldInstrumentBeCentered(!1),o.a.delay((function(){t._isMounted&&(t._list&&t._list.scrollToRow(-1===n?0:n),r=a&&a.state.scrollTop,t.setState({scrollTop:r}))}),0)}},{key:"_getSymbolIndexFromProps",value:function(e){return o.a.indexOf(e.symbols,e.selectedSymbol)}},{key:"_rowRenderer",value:function(e){var t=this.props,n=t.renderer,a=t.symbols,i=e.index,o=e.key,s=e.parent,l=a[i];return r.a.createElement(u.b,{cache:this._cache,columnIndex:0,key:o,parent:s,rowIndex:i},n(v({},e,{symbol:l,measurer:this.measurer})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.path,a=t.symbols,i=t.renderer,s=t.totalPositionsCount,l=t.totalOrdersCount,c=t.symbolsSortName,d=t.symbolsSortDirection,p=t.scrollAlignmentTop;if(!o.a.isFunction(i))return null;var f="list-"+n+"-"+s+"-"+l+"-"+c+"-"+d,h={overflowX:!1,overflowY:!1};return r.a.createElement(u.a,null,(function(t){var n=t.height,i=t.width;return r.a.createElement(m.Scrollbars,{autoHide:!0,ref:e._scrollbar,style:{width:i,height:n},renderTrackVertical:function(e){var t=e.style,n=b(e,["style"]);return r.a.createElement("div",v({},n,{style:v({},t,{width:"8px",top:"0px",bottom:"0px",right:"1px",borderRadius:0})}))},renderThumbVertical:function(e){var t=e.style,n=b(e,["style"]);return r.a.createElement("div",v({},n,{style:v({},t),className:"custom-scrolling-vertical-thumb"}))},renderView:function(e){var t=e.style,n=b(e,["style"]);return r.a.createElement("div",v({},n,{style:v({},t,{overflowX:"hidden",marginBottom:0})}))},onScroll:e.handleScroll,onUpdate:e.handleUpdate},r.a.createElement(u.d,{ref:function(t){e._list=t},style:h,key:f,height:n,"aria-label":"",rowCount:o.a.size(a),overscanRowCount:10,width:i,deferredMeasurementCache:e._cache,rowHeight:e._cache.rowHeight,rowRenderer:e._rowRenderer,scrollToAlignment:p?"start":"center"}))}))}}]),t}(r.a.Component);_.defaultProps={symbols:[],shouldShowPositions:!0,shouldShowOrders:!0,renderer:o.a.noop},t.a=Object(c.connect)((function(e){return{totalPositionsCount:e.positions.totalPositionsCount,totalOrdersCount:e.orders.totalOrdersCount,selectedSymbol:e.ui.selectedInstrumentCategorySymbol,categoryTreePath:Object(d.getSelectedInstrumentCategoryTreePath)(e),section:Object(d.getUiSection)(e),shouldInstrumentBeCentered:e.ui.shouldInstrumentBeCentered,symbolsSortName:Object(d.getSymbolsSortName)(e),symbolsSortDirection:Object(d.getSymbolsSortDirection)(e)}}),(function(e){return{updateShouldInstrumentBeCentered:function(t){e(Object(f.setShouldInstrumentBeCentered)(t))}}}))(_)},2388:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(4),o=n(123),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.a=Object(i.connect)((function(e){return{value:Object(o.getTotalOrdersCount)(e)}}))((function(e){var t=e.as,n=e.value,a=(e.dispatch,function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["as","value","dispatch"]));return r.a.createElement(t||"span",s({},a),n)}))},2389:function(e,t,n){},2487:function(e,t){e.exports={EMPTY:"EMPTY",SUCCESS:"SUCCESS",ERROR:"ERROR",PENDING:" PENDING"}},2603:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var a=n(11),r=n.n(a),i=n(7),o=n.n(i),s=function(){return r.a.loadSignals().then((function(t){return e.delay((function(){return o.a.trigger("signals:loaded")}),0),t}))}}).call(this,n(1))},2604:function(e,t,n){var a=n(21),r=n(1),i=n(2605).default,o=n(10),s=n(7),l=n(16),c=n(2487),u=(c.EMPTY,c.PENDING,c.SUCCESS,c.ERROR,n(140)),d=r.template(n(2606)),p=r.template(n(2607)),m=n(48),f=m.setTabIdInstrumentDetails,v=m.setSelectedSignalBoxSource,h=m.setMultiChartsEnabled,b=n(2191).INSTRUMENT_INSIGHT;n(2608),e.exports=a.extend({className:"signals",events:function(){return this.addEvents(a)({"click .icon-detach":"openSignalsPage","click .fn-asset-name":"openInstrumentDetails","click .disclaimer a":"openDisclaimerInfo"})},initialize:function(e){var t=this;a.prototype.initialize.call(this,e),this.model||(this.model=i),s.onEvent("signals:loaded",(function(){return t.render()}))},render:function(){return a.prototype.render.call(this),this.update(),this},openSignalsPage:function(){s.trigger("ui:signals")},openInstrumentDetails:function(e){__eventos("tradingPlatform:signalWidget:clkSignalsItem"),store.dispatch(h(!1)),store.dispatch(f(b)),store.dispatch(v(l(e.target).attr("data-source"))),s.trigger("ui:userClickedOnSignalItem"),"insights"!==window.sessionStorage.getItem("chosenTab")&&window.sessionStorage.setItem("chosenTab","insights"),s.trigger("ui:instrument",l(e.target).attr("data-symbol"),!0,!0)},update:function(){var e=this.model.getItems();if(r.isEmpty(e))return this.$el.html(p());this.$el.html(d({items:e,getCssClassByConsensus:this.getCssClassByConsensus,isFloated:o.getApplicationSettings().get("signals:isFloated")}))},getCssClassByConsensus:function(e){return r.contains(["StrongBuy","Buy","Positive Sentiment","Bullish"],e)?"buy":r.contains(["StrongSell","Sell","Negative Sentiment","Bearish"],e)?"sell":""},openDisclaimerInfo:function(){return new u({caption:__("signals.title"),text:__("signals.disclaimer.popup.message"),isShowOkButton:!1})}})},2605:function(e,t,n){"use strict";n.r(t);var a=n(703),r=n(1),i=n.n(r),o=n(52),s=n.n(o),l=n(33),c=n.n(l),u=n(2487),d=n(7),p=n.n(d),m=n(2),f=n(71);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=s.a.extend({defaults:function(){return{status:u.EMPTY,data:[]}},initialize:function(){var e=this;this.signalsServices={},p.a.on("ui:updated-signals-services",(function(t){e.signalsServices=t,e.getItems()}))},getItems:function(){var e,t=(v(e={},m.TRADING_TOOLS.HEDGEFUNDS,__("signals.hedgefunds")),v(e,m.TRADING_TOOLS.ANALYST_RECOMMENDATIONS,__("signals.analysts")),v(e,m.TRADING_TOOLS.ANALYSTS,__("signals.analysts")),v(e,m.TRADING_TOOLS.BLOGGERS,__("signals.bloggers")),v(e,m.TRADING_TOOLS.INSIDERS,__("signals.insiders")),e),n={"Positive Sentiment":__("bloggers.bullish"),Bearish:__("bloggers.bearish"),Bullish:__("bloggers.bullish"),"Negative Sentiment":__("bloggers.bearish"),StrongBuy:__("bloggers.bullish"),StrongSell:__("bloggers.bearish"),Sell:__("bloggers.bearish"),Hold:__("tipranks.neutral"),Buy:__("bloggers.bullish"),Neutral:__("tipranks.neutral"),"Neutral Sentiment":__("tipranks.neutral")},r=[this.signalsServices.isSignalsAnalystsAvailable&&m.TRADING_TOOLS.ANALYST_RECOMMENDATIONS,this.signalsServices.isSignalsAnalystsAvailable&&m.TRADING_TOOLS.ANALYSTS,this.signalsServices.isSignalsInsidersAvailable&&m.TRADING_TOOLS.INSIDERS,this.signalsServices.isSignalsHedgefundsAvailable&&m.TRADING_TOOLS.HEDGEFUNDS,this.signalsServices.isSignalsBloggersAvailable&&m.TRADING_TOOLS.BLOGGERS];r=i.a.filter(r,(function(e){return e}));var o=Object(a.a)(window.store.getState()),s=i.a.filter(o,(function(e){return c.a.getInstrumentBySymbol(e.symbol)||(e.symbol=Object(f.transformSymbolToSBSymbol)(e.symbol)),c.a.getInstrumentBySymbol(e.symbol)&&-1!==i.a.indexOf(r,e.source)}));return i.a.map(s,(function(e){return e.displayName=c.a.getInstrumentBySymbol(e.symbol).getDisplayName(),e.sourceTitle=t[e.source]||e.source,e.signalName=n[e.signal]||e.signal,e}))},isEmpty:function(){return i.a.isEmpty(this.getItems())}});t.default=new h},2606:function(e,t){e.exports='<div class="pane pane--height pane__xfluid pane__column"> <div class=pane> <div class="list-item columns"> <div class=asset><%=__(\'asset.title\')%></div> <div class=source><%=__(\'source.title\')%></div> <div class=direction><%=__(\'indigo.help.order.direction\')%></div> </div> </div> <div class="pane pane--height pane__xfluid pane__column"> <div class="list list--column"> <% _.each(items, function(v, i, a) { %> <div class=list-item> <div class="asset name fn-asset-name" data-symbol="<%=v.symbol%>" data-source="<%=v.source%>"><%=v.ticker%></div> <div class=source><%=v.sourceTitle%></div> <div class="direction <%=getCssClassByConsensus(v.signal)%>"><%=v.signalName%></div> </div> <% }) %> <div class="pane disclaimer"><%=__(\'signals.disclaimer.short.message\')%></div> </div> </div> </div> '},2607:function(e,t){e.exports='<div class="pane pane__fluid pane__column"> <div class="pane pane__fluid flex-align-center flex-valign-center"> <div> <i class="empty__icon icon icon-signals-empty"></i> <div><%=__(\'signals.empty.text\')%></div> </div> </div> </div> '},2608:function(e,t,n){}}]);