(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{2131:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(877),l=n(27),o=n(178),s=n(884),c=n(885),i=n(0),m=n.n(i),u=n(325),d=n(278),h=n(332),b=n(331),p=n(329),f=n(330),y=n(621),E=n(570),v=n(879),_=n(327),w=n(236),g=n(910),N=n(237),O=n(894),S=n(911),T=n(235),C=n(326),k=n(333),P=n(334),R=n(12),j=n.n(R),I=n(2363),x=n(627),W=n(1),M=n.n(W),B=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var U=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.List=null,j()(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),B(t,[{key:"componentWillReceiveProps",value:function(e){this.needToRecomputeHeight=this._isPropsWillChange(["symbol"],e)}},{key:"_isPropsWillChange",value:function(e,t){var n=this;return!M.a.isEmpty(e)&&!M.a.isEmpty(t)&&M.a.some(e,(function(e){return n.props[e]!==t[e]}))}},{key:"onResize",value:function(e,t,n,a){(this.needToRecomputeHeight||e&&e.getChachedHeight(t)!==a)&&e.recomputeRowHeights(t,a)}},{key:"_rowRenderer",value:function(e){var t=this,n=e.symbol,a=e.style,r=e.measurer,o=e.index;return m.a.createElement("div",{style:a},m.a.createElement("div",null,m.a.createElement(x.a,{handleHeight:!0,onResize:this.onResize.bind(this,r,o)}),m.a.createElement(P.a,{as:"div",className:"row",symbol:n,onClick:function(e){return t.selectInstrument(e,n)}},m.a.createElement(l.default,{tablet:!0,mobile:!0},m.a.createElement("td",{className:"cell-instrument-name-with-change instrument-name-with-change"},m.a.createElement(T.a,{symbol:n,className:"instrument-name-cell"}),m.a.createElement(k.a,{symbol:n,as:"div",className:"change flex flex-start"},m.a.createElement(C.a,{symbol:n})))),m.a.createElement(l.default,{desktop:!0},m.a.createElement("td",{className:"cell-instrument-name instrument-name"},m.a.createElement(T.a,{symbol:n,className:"instrument-name-cell"}))),m.a.createElement("td",{className:"rate-with-button  cell-rate-with-button"},m.a.createElement("div",null,m.a.createElement("div",{className:"rate"},m.a.createElement(p.a,{as:"div",symbol:n,className:"change"},m.a.createElement(b.a,{as:"span",symbol:n}))),m.a.createElement("div",{className:"button"},m.a.createElement(f.a,{onClick:function(e){return t.sell(e,n)},as:"button",symbol:n,className:"btn btn-sell btn-primary btn-xs"},__("actions.sell"))))),m.a.createElement("td",{className:"rate-with-button cell-rate-with-button"},m.a.createElement("div",null,m.a.createElement("div",{className:"rate"},m.a.createElement(d.a,{as:"div",symbol:n,className:"change"},m.a.createElement(u.a,{as:"span",symbol:n}))),m.a.createElement("div",{className:"button"},m.a.createElement(h.a,{onClick:function(e){return t.buy(e,n)},as:"button",symbol:n,className:"btn btn-buy btn-primary btn-xs"},__("actions.buy"))))),m.a.createElement(l.default,{minWidth:1050},m.a.createElement("td",{className:"cell-change"},m.a.createElement(k.a,{symbol:n,className:"change"},m.a.createElement(C.a,{symbol:n})))),m.a.createElement(l.default,{minWidth:1605},m.a.createElement("td",{className:"cell-range"},m.a.createElement(g.a,{symbol:n,as:"div"}))),m.a.createElement(l.default,{minWidth:885},m.a.createElement("td",{className:"sentiment-block"},m.a.createElement(S.a,{as:"div",symbol:n,"data-tooltip-align":"right","aria-label":__("sentiment.text")}))),m.a.createElement(l.default,{minWidth:1450},m.a.createElement("td",{className:"instrument-mini-chart"},m.a.createElement("div",{className:"instrument-mini-chart-cell"},m.a.createElement(O.a,{symbol:n,width:75})))),m.a.createElement("td",{className:"cell-actions actions"},m.a.createElement("div",{className:"actions"},m.a.createElement("div",{className:"btn btn-icon",onClick:function(e){return t.toggleFavorite(e,n)}},m.a.createElement(_.a,{symbol:n,as:"div",className:"",yes:"icon-star-filled",no:"icon-star"})),m.a.createElement(s.a,{as:"div",className:"btn btn-icon"},m.a.createElement(c.a,{symbol:n,as:"div",className:"",yes:"icon-bell-filled",onClick:function(e,a,r){return t.openPriceAlerts(e,n,r)},no:"icon-bell"})),m.a.createElement("div",{className:"btn btn-icon"},m.a.createElement("div",{className:"icon-instrument-info",onClick:function(e){return t.openInstrumentDetails(e,n)}}))))),m.a.createElement(N.a,{symbol:n,as:"div",className:"row-expand"},m.a.createElement(v.default,{as:"td",colSpan:5,symbol:n,editPosition:this.editPosition,closePosition:this.closePosition,selectInstrument:this.selectInstrument}),m.a.createElement(E.default,{as:"td",colSpan:5,symbol:n,editOrder:this.editOrder,cancelOrder:this.cancelOrder,selectInstrument:this.selectInstrument}))))}},{key:"render",value:function(){var e=this.props,t=e.symbolsSortName,n=e.symbols,o=e.path;return m.a.createElement("div",{className:"instruments-table trading-tab "},m.a.createElement("table",null,m.a.createElement("thead",{className:"columns"},m.a.createElement("tr",null,m.a.createElement(r.a,{as:"th",active:t===a.INSTRUMENT_SORT.NAME,onSort:this.sortByName,className:"column column-instrument-name column-sortable"},__("table.header.symbol")),m.a.createElement("th",{className:"column column-rate-with-button"},m.a.createElement("div",null,m.a.createElement("div",null,__("actions.sell")))),m.a.createElement("th",{className:"column column-rate-with-button"},m.a.createElement("div",null,m.a.createElement("div",null,__("actions.buy")))),m.a.createElement(l.default,{minWidth:1050},m.a.createElement("th",{className:"column column-change"},m.a.createElement("div",null,m.a.createElement("div",null,__("actions.change"))))),m.a.createElement(l.default,{minWidth:1605},m.a.createElement("th",{className:"column column-range"},__("range"))),m.a.createElement(l.default,{minWidth:885},m.a.createElement(r.a,{as:"th",active:t===a.INSTRUMENT_SORT.SENTIMENT,onSort:this.sortBySentiments,className:"column column-sentiment column-sortable"},__("sentiment.title"))),m.a.createElement(l.default,{minWidth:1450},m.a.createElement("th",{className:"column column-mini-chart"},__("table.header.mini-chart"))),m.a.createElement("th",{className:"column"}))),m.a.createElement("tbody",{className:"rows pane pane__fluid"},m.a.createElement(I.a,{path:o,symbols:n,renderer:this._rowRenderer}))))}}]),t}(w.a);t.default=Object(y.a)(Object(o.a)(U))},2363:function(e,t,n){"use strict";var a=n(0),r=n.n(a),l=n(1),o=n.n(l),s=n(12),c=n.n(s),i=n(4),m=n(134),u=n(60),d=n(57),h=n(1195),b=n(46),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function y(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}var E=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={scrollTop:0,scrollLeft:0},n._isMounted=!1,c()(n),n._scrollbar=r.a.createRef(),n._list=null,n.measurer=Object(d.c)(n,{CellMeasurerCache:m.c}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),f(t,[{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.measurer()}},{key:"componentDidMount",value:function(){this._isMounted=!0,this._scrollToRow(this.props)}},{key:"componentWillUpdate",value:function(){this.measurer.resizeAll(!1)}},{key:"componentDidUpdate",value:function(e){e.shouldInstrumentBeCentered&&this._scrollToRow(e),o.a.isEqual(e.symbols,this.props.symbols)||this._scrollToRow(this.props)}},{key:"handleScroll",value:function(e){var t=e.target,n=t.scrollTop,a=t.scrollLeft;this._list.Grid.handleScrollEvent({scrollTop:n,scrollLeft:a}),this.setState({scrollTop:n,scrollLeft:a})}},{key:"handleUpdate",value:function(){this.props.shouldInstrumentBeCentered&&this._scrollToRow(this.props),this._scrollbar.current&&this._scrollbar.current.getScrollTop()!==this.state.scrollTop&&this._scrollbar.current.scrollTop(this.state.scrollTop)}},{key:"_scrollToRow",value:function(e){var t=this,n=this._getSymbolIndexFromProps(e),a=this._list.Grid,r=0;this.props.updateShouldInstrumentBeCentered(!1),o.a.delay((function(){t._isMounted&&(t._list&&t._list.scrollToRow(-1===n?0:n),r=a&&a.state.scrollTop,t.setState({scrollTop:r}))}),0)}},{key:"_getSymbolIndexFromProps",value:function(e){return o.a.indexOf(e.symbols,e.selectedSymbol)}},{key:"_rowRenderer",value:function(e){var t=this.props,n=t.renderer,a=t.symbols,l=e.index,o=e.key,s=e.parent,c=a[l];return r.a.createElement(m.b,{cache:this._cache,columnIndex:0,key:o,parent:s,rowIndex:l},n(p({},e,{symbol:c,measurer:this.measurer})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.path,a=t.symbols,l=t.renderer,s=t.totalPositionsCount,c=t.totalOrdersCount,i=t.symbolsSortName,u=t.symbolsSortDirection,d=t.scrollAlignmentTop;if(!o.a.isFunction(l))return null;var b="list-"+n+"-"+s+"-"+c+"-"+i+"-"+u,f={overflowX:!1,overflowY:!1};return r.a.createElement(m.a,null,(function(t){var n=t.height,l=t.width;return r.a.createElement(h.Scrollbars,{autoHide:!0,ref:e._scrollbar,style:{width:l,height:n},renderTrackVertical:function(e){var t=e.style,n=y(e,["style"]);return r.a.createElement("div",p({},n,{style:p({},t,{width:"8px",top:"0px",bottom:"0px",right:"1px",borderRadius:0})}))},renderThumbVertical:function(e){var t=e.style,n=y(e,["style"]);return r.a.createElement("div",p({},n,{style:p({},t),className:"custom-scrolling-vertical-thumb"}))},renderView:function(e){var t=e.style,n=y(e,["style"]);return r.a.createElement("div",p({},n,{style:p({},t,{overflowX:"hidden",marginBottom:0})}))},onScroll:e.handleScroll,onUpdate:e.handleUpdate},r.a.createElement(m.d,{ref:function(t){e._list=t},style:f,key:b,height:n,"aria-label":"",rowCount:o.a.size(a),overscanRowCount:10,width:l,deferredMeasurementCache:e._cache,rowHeight:e._cache.rowHeight,rowRenderer:e._rowRenderer,scrollToAlignment:d?"start":"center"}))}))}}]),t}(r.a.Component);E.defaultProps={symbols:[],shouldShowPositions:!0,shouldShowOrders:!0,renderer:o.a.noop},t.a=Object(i.connect)((function(e){return{totalPositionsCount:e.positions.totalPositionsCount,totalOrdersCount:e.orders.totalOrdersCount,selectedSymbol:e.ui.selectedInstrumentCategorySymbol,categoryTreePath:Object(u.getSelectedInstrumentCategoryTreePath)(e),section:Object(u.getUiSection)(e),shouldInstrumentBeCentered:e.ui.shouldInstrumentBeCentered,symbolsSortName:Object(u.getSymbolsSortName)(e),symbolsSortDirection:Object(u.getSymbolsSortDirection)(e)}}),(function(e){return{updateShouldInstrumentBeCentered:function(t){e(Object(b.setShouldInstrumentBeCentered)(t))}}}))(E)}}]);